var Hg=e=>{throw TypeError(e)};var Qk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Qu=(e,t,n)=>t.has(e)||Hg("Cannot "+n);var U=(e,t,n)=>(Qu(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?Hg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Te=(e,t,n,r)=>(Qu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_t=(e,t,n)=>(Qu(e,t,"access private method"),n);var tl=(e,t,n,r)=>({set _(o){Te(e,t,o,n)},get _(){return U(e,t,r)}});var kz=Qk((Bz,Xk)=>{function Zk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function j0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L0={exports:{}},Xc={},O0={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=Symbol.for("react.element"),Jk=Symbol.for("react.portal"),eA=Symbol.for("react.fragment"),tA=Symbol.for("react.strict_mode"),nA=Symbol.for("react.profiler"),rA=Symbol.for("react.provider"),oA=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),aA=Symbol.for("react.memo"),lA=Symbol.for("react.lazy"),Wg=Symbol.iterator;function cA(e){return e===null||typeof e!="object"?null:(e=Wg&&e[Wg]||e["@@iterator"],typeof e=="function"?e:null)}var F0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$0=Object.assign,V0={};function ui(e,t,n){this.props=e,this.context=t,this.refs=V0,this.updater=n||F0}ui.prototype.isReactComponent={};ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U0(){}U0.prototype=ui.prototype;function Xh(e,t,n){this.props=e,this.context=t,this.refs=V0,this.updater=n||F0}var Qh=Xh.prototype=new U0;Qh.constructor=Xh;$0(Qh,ui.prototype);Qh.isPureReactComponent=!0;var Gg=Array.isArray,B0=Object.prototype.hasOwnProperty,Zh={current:null},z0={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)B0.call(t,r)&&!z0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Oa,type:e,key:s,ref:i,props:o,_owner:Zh.current}}function uA(e,t){return{$$typeof:Oa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oa}function dA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kg=/\/+/g;function Zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dA(""+e.key):t.toString(36)}function Ll(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Oa:case Jk:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Zu(i,0):r,Gg(o)?(n="",e!=null&&(n=e.replace(Kg,"$&/")+"/"),Ll(o,t,n,"",function(c){return c})):o!=null&&(Jh(o)&&(o=uA(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Kg,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Gg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Zu(s,a);i+=Ll(s,t,n,l,o)}else if(l=cA(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Zu(s,a++),i+=Ll(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function nl(e,t,n){if(e==null)return e;var r=[],o=0;return Ll(e,r,"","",function(s){return t.call(n,s,o++)}),r}function fA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Ol={transition:null},hA={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:Zh};function H0(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!Jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=ui;De.Fragment=eA;De.Profiler=nA;De.PureComponent=Xh;De.StrictMode=tA;De.Suspense=iA;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;De.act=H0;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Zh.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)B0.call(t,l)&&!z0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Oa,type:e.type,key:o,ref:s,props:r,_owner:i}};De.createContext=function(e){return e={$$typeof:oA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rA,_context:e},e.Consumer=e};De.createElement=q0;De.createFactory=function(e){var t=q0.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:sA,render:e}};De.isValidElement=Jh;De.lazy=function(e){return{$$typeof:lA,_payload:{_status:-1,_result:e},_init:fA}};De.memo=function(e,t){return{$$typeof:aA,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Ol.transition;Ol.transition={};try{e()}finally{Ol.transition=t}};De.unstable_act=H0;De.useCallback=function(e,t){return Yt.current.useCallback(e,t)};De.useContext=function(e){return Yt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Yt.current.useEffect(e,t)};De.useId=function(){return Yt.current.useId()};De.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Yt.current.useMemo(e,t)};De.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};De.useRef=function(e){return Yt.current.useRef(e)};De.useState=function(e){return Yt.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return Yt.current.useTransition()};De.version="18.3.1";O0.exports=De;var f=O0.exports;const xt=j0(f),W0=Zk({__proto__:null,default:xt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA=f,mA=Symbol.for("react.element"),gA=Symbol.for("react.fragment"),vA=Object.prototype.hasOwnProperty,yA=pA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wA={key:!0,ref:!0,__self:!0,__source:!0};function G0(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)vA.call(t,r)&&!wA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:mA,type:e,key:s,ref:i,props:o,_owner:yA.current}}Xc.Fragment=gA;Xc.jsx=G0;Xc.jsxs=G0;L0.exports=Xc;var p=L0.exports,K0={exports:{}},mn={},Y0={exports:{}},X0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,_){var V=D.length;D.push(_);e:for(;0<V;){var W=V-1>>>1,K=D[W];if(0<o(K,_))D[W]=_,D[V]=K,V=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var _=D[0],V=D.pop();if(V!==_){D[0]=V;e:for(var W=0,K=D.length,ae=K>>>1;W<ae;){var te=2*(W+1)-1,be=D[te],Ce=te+1,ve=D[Ce];if(0>o(be,V))Ce<K&&0>o(ve,be)?(D[W]=ve,D[Ce]=V,W=Ce):(D[W]=be,D[te]=V,W=te);else if(Ce<K&&0>o(ve,V))D[W]=ve,D[Ce]=V,W=Ce;else break e}}return _}function o(D,_){var V=D.sortIndex-_.sortIndex;return V!==0?V:D.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,h=3,y=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=D)r(c),_.sortIndex=_.expirationTime,t(l,_);else break;_=n(c)}}function C(D){if(v=!1,x(D),!w)if(n(l)!==null)w=!0,I(E);else{var _=n(c);_!==null&&N(C,_.startTime-D)}}function E(D,_){w=!1,v&&(v=!1,m(A),A=-1),y=!0;var V=h;try{for(x(_),d=n(l);d!==null&&(!(d.expirationTime>_)||D&&!L());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var K=W(d.expirationTime<=_);_=e.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),x(_)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var te=n(c);te!==null&&N(C,te.startTime-_),ae=!1}return ae}finally{d=null,h=V,y=!1}}var P=!1,k=null,A=-1,R=5,M=-1;function L(){return!(e.unstable_now()-M<R)}function $(){if(k!==null){var D=e.unstable_now();M=D;var _=!0;try{_=k(!0,D)}finally{_?F():(P=!1,k=null)}}else P=!1}var F;if(typeof g=="function")F=function(){g($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=$,F=function(){B.postMessage(null)}}else F=function(){b($,0)};function I(D){k=D,P||(P=!0,F())}function N(D,_){A=b(function(){D(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,I(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var V=h;h=_;try{return D()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,_){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=h;h=D;try{return _()}finally{h=V}},e.unstable_scheduleCallback=function(D,_,V){var W=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,D={id:u++,callback:_,priorityLevel:D,startTime:V,expirationTime:K,sortIndex:-1},V>W?(D.sortIndex=V,t(c,D),n(l)===null&&D===n(c)&&(v?(m(A),A=-1):v=!0,N(C,V-W))):(D.sortIndex=K,t(l,D),w||y||(w=!0,I(E))),D},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(D){var _=h;return function(){var V=h;h=_;try{return D.apply(this,arguments)}finally{h=V}}}})(X0);Y0.exports=X0;var xA=Y0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=f,hn=xA;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q0=new Set,na={};function Jo(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(na[e]=t,e=0;e<t.length;e++)Q0.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=Object.prototype.hasOwnProperty,SA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg={},Xg={};function CA(e){return mf.call(Xg,e)?!0:mf.call(Yg,e)?!1:SA.test(e)?Xg[e]=!0:(Yg[e]=!0,!1)}function EA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PA(e,t,n,r){if(t===null||typeof t>"u"||EA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ep=/[\-:]([a-z])/g;function tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ep,tp);Mt[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ep,tp);Mt[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ep,tp);Mt[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function np(e,t,n,r){var o=Mt.hasOwnProperty(t)?Mt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PA(t,n,o,r)&&(n=null),r||o===null?CA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mr=bA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),yf=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),ex=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function Si(e){return e===null||typeof e!="object"?null:(e=Qg&&e[Qg]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Ju;function Ii(e){if(Ju===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ju=t&&t[1]||""}return`
`+Ju+e}var ed=!1;function td(e,t){if(!e||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ii(e):""}function TA(e){switch(e.tag){case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return e=td(e.type,!1),e;case 11:return e=td(e.type.render,!1),e;case 1:return e=td(e.type,!0),e;default:return""}}function wf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case cs:return"Portal";case gf:return"Profiler";case rp:return"StrictMode";case vf:return"Suspense";case yf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J0:return(e.displayName||"Context")+".Consumer";case Z0:return(e._context.displayName||"Context")+".Provider";case op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sp:return t=e.displayName||null,t!==null?t:wf(e.type)||"Memo";case Vr:t=e._payload,e=e._init;try{return wf(e(t))}catch{}}return null}function kA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wf(t);case 8:return t===rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AA(e){var t=tx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){e._valueTracker||(e._valueTracker=AA(e))}function nx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xf(e,t){var n=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rx(e,t){t=t.checked,t!=null&&np(e,"checked",t,!1)}function bf(e,t){rx(e,t);var n=co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sf(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sf(e,t,n){(t!=="number"||sc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ni=Array.isArray;function ks(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+co(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Cf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ev(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Ni(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:co(n)}}function ox(e,t){var n=co(t.value),r=co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ef(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,ix=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DA=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(e){DA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ui[t]=Ui[e]})});function ax(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ui.hasOwnProperty(e)&&Ui[e]?(""+t).trim():t+"px"}function lx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ax(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var RA=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(e,t){if(t){if(RA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Tf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Af=null,As=null,Ds=null;function nv(e){if(e=Va(e)){if(typeof Af!="function")throw Error(G(280));var t=e.stateNode;t&&(t=tu(t),Af(e.stateNode,e.type,t))}}function cx(e){As?Ds?Ds.push(e):Ds=[e]:As=e}function ux(){if(As){var e=As,t=Ds;if(Ds=As=null,nv(e),t)for(e=0;e<t.length;e++)nv(t[e])}}function dx(e,t){return e(t)}function fx(){}var nd=!1;function hx(e,t,n){if(nd)return e(t,n);nd=!0;try{return dx(e,t,n)}finally{nd=!1,(As!==null||Ds!==null)&&(fx(),ux())}}function oa(e,t){var n=e.stateNode;if(n===null)return null;var r=tu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Df=!1;if(Cr)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{Df=!1}function MA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Bi=!1,ic=null,ac=!1,Rf=null,_A={onError:function(e){Bi=!0,ic=e}};function IA(e,t,n,r,o,s,i,a,l){Bi=!1,ic=null,MA.apply(_A,arguments)}function NA(e,t,n,r,o,s,i,a,l){if(IA.apply(this,arguments),Bi){if(Bi){var c=ic;Bi=!1,ic=null}else throw Error(G(198));ac||(ac=!0,Rf=c)}}function es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function px(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rv(e){if(es(e)!==e)throw Error(G(188))}function jA(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return rv(o),e;if(s===r)return rv(o),t;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function mx(e){return e=jA(e),e!==null?gx(e):null}function gx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gx(e);if(t!==null)return t;e=e.sibling}return null}var vx=hn.unstable_scheduleCallback,ov=hn.unstable_cancelCallback,LA=hn.unstable_shouldYield,OA=hn.unstable_requestPaint,gt=hn.unstable_now,FA=hn.unstable_getCurrentPriorityLevel,ap=hn.unstable_ImmediatePriority,yx=hn.unstable_UserBlockingPriority,lc=hn.unstable_NormalPriority,$A=hn.unstable_LowPriority,wx=hn.unstable_IdlePriority,Qc=null,tr=null;function VA(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Qc,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:zA,UA=Math.log,BA=Math.LN2;function zA(e){return e>>>=0,e===0?32:31-(UA(e)/BA|0)|0}var il=64,al=4194304;function ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=ji(a):(s&=i,s!==0&&(r=ji(s)))}else i=n&~o,i!==0?r=ji(i):s!==0&&(r=ji(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$n(t),o=1<<n,r|=e[n],t&=~o;return r}function qA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-$n(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=qA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Mf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xx(){var e=il;return il<<=1,!(il&4194240)&&(il=64),e}function rd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=n}function WA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-$n(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function lp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$n(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ue=0;function bx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sx,cp,Cx,Ex,Px,_f=!1,ll=[],Jr=null,eo=null,to=null,sa=new Map,ia=new Map,zr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(t.pointerId)}}function Ei(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Va(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function KA(e,t,n,r,o){switch(t){case"focusin":return Jr=Ei(Jr,e,t,n,r,o),!0;case"dragenter":return eo=Ei(eo,e,t,n,r,o),!0;case"mouseover":return to=Ei(to,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return sa.set(s,Ei(sa.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ia.set(s,Ei(ia.get(s)||null,e,t,n,r,o)),!0}return!1}function Tx(e){var t=Ao(e.target);if(t!==null){var n=es(t);if(n!==null){if(t=n.tag,t===13){if(t=px(n),t!==null){e.blockedOn=t,Px(e.priority,function(){Cx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=If(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kf=r,n.target.dispatchEvent(r),kf=null}else return t=Va(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function iv(e,t,n){Fl(e)&&n.delete(t)}function YA(){_f=!1,Jr!==null&&Fl(Jr)&&(Jr=null),eo!==null&&Fl(eo)&&(eo=null),to!==null&&Fl(to)&&(to=null),sa.forEach(iv),ia.forEach(iv)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,_f||(_f=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,YA)))}function aa(e){function t(o){return Pi(o,e)}if(0<ll.length){Pi(ll[0],e);for(var n=1;n<ll.length;n++){var r=ll[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jr!==null&&Pi(Jr,e),eo!==null&&Pi(eo,e),to!==null&&Pi(to,e),sa.forEach(t),ia.forEach(t),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)Tx(n),n.blockedOn===null&&zr.shift()}var Rs=Mr.ReactCurrentBatchConfig,uc=!0;function XA(e,t,n,r){var o=Ue,s=Rs.transition;Rs.transition=null;try{Ue=1,up(e,t,n,r)}finally{Ue=o,Rs.transition=s}}function QA(e,t,n,r){var o=Ue,s=Rs.transition;Rs.transition=null;try{Ue=4,up(e,t,n,r)}finally{Ue=o,Rs.transition=s}}function up(e,t,n,r){if(uc){var o=If(e,t,n,r);if(o===null)hd(e,t,r,dc,n),sv(e,r);else if(KA(o,e,t,n,r))r.stopPropagation();else if(sv(e,r),t&4&&-1<GA.indexOf(e)){for(;o!==null;){var s=Va(o);if(s!==null&&Sx(s),s=If(e,t,n,r),s===null&&hd(e,t,r,dc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else hd(e,t,r,null,n)}}var dc=null;function If(e,t,n,r){if(dc=null,e=ip(r),e=Ao(e),e!==null)if(t=es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=px(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dc=e,null}function kx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FA()){case ap:return 1;case yx:return 4;case lc:case $A:return 16;case wx:return 536870912;default:return 16}default:return 16}}var Xr=null,dp=null,$l=null;function Ax(){if($l)return $l;var e,t=dp,n=t.length,r,o="value"in Xr?Xr.value:Xr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return $l=o.slice(e,1<r?1-r:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function av(){return!1}function gn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cl:av,this.isPropagationStopped=av,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=gn(di),$a=ct({},di,{view:0,detail:0}),ZA=gn($a),od,sd,Ti,Zc=ct({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(od=e.screenX-Ti.screenX,sd=e.screenY-Ti.screenY):sd=od=0,Ti=e),od)},movementY:function(e){return"movementY"in e?e.movementY:sd}}),lv=gn(Zc),JA=ct({},Zc,{dataTransfer:0}),eD=gn(JA),tD=ct({},$a,{relatedTarget:0}),id=gn(tD),nD=ct({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),rD=gn(nD),oD=ct({},di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sD=gn(oD),iD=ct({},di,{data:0}),cv=gn(iD),aD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cD[e])?!!t[e]:!1}function hp(){return uD}var dD=ct({},$a,{key:function(e){if(e.key){var t=aD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hp,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fD=gn(dD),hD=ct({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=gn(hD),pD=ct({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hp}),mD=gn(pD),gD=ct({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),vD=gn(gD),yD=ct({},Zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wD=gn(yD),xD=[9,13,27,32],pp=Cr&&"CompositionEvent"in window,zi=null;Cr&&"documentMode"in document&&(zi=document.documentMode);var bD=Cr&&"TextEvent"in window&&!zi,Dx=Cr&&(!pp||zi&&8<zi&&11>=zi),dv=" ",fv=!1;function Rx(e,t){switch(e){case"keyup":return xD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function SD(e,t){switch(e){case"compositionend":return Mx(t);case"keypress":return t.which!==32?null:(fv=!0,dv);case"textInput":return e=t.data,e===dv&&fv?null:e;default:return null}}function CD(e,t){if(ds)return e==="compositionend"||!pp&&Rx(e,t)?(e=Ax(),$l=dp=Xr=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dx&&t.locale!=="ko"?null:t.data;default:return null}}var ED={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ED[e.type]:t==="textarea"}function _x(e,t,n,r){cx(r),t=fc(t,"onChange"),0<t.length&&(n=new fp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qi=null,la=null;function PD(e){zx(e,0)}function Jc(e){var t=ps(e);if(nx(t))return e}function TD(e,t){if(e==="change")return t}var Ix=!1;if(Cr){var ad;if(Cr){var ld="oninput"in document;if(!ld){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),ld=typeof pv.oninput=="function"}ad=ld}else ad=!1;Ix=ad&&(!document.documentMode||9<document.documentMode)}function mv(){qi&&(qi.detachEvent("onpropertychange",Nx),la=qi=null)}function Nx(e){if(e.propertyName==="value"&&Jc(la)){var t=[];_x(t,la,e,ip(e)),hx(PD,t)}}function kD(e,t,n){e==="focusin"?(mv(),qi=t,la=n,qi.attachEvent("onpropertychange",Nx)):e==="focusout"&&mv()}function AD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jc(la)}function DD(e,t){if(e==="click")return Jc(t)}function RD(e,t){if(e==="input"||e==="change")return Jc(t)}function MD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:MD;function ca(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!mf.call(t,o)||!Bn(e[o],t[o]))return!1}return!0}function gv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vv(e,t){var n=gv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gv(n)}}function jx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lx(){for(var e=window,t=sc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sc(e.document)}return t}function mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _D(e){var t=Lx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jx(n.ownerDocument.documentElement,n)){if(r!==null&&mp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=vv(n,s);var i=vv(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ID=Cr&&"documentMode"in document&&11>=document.documentMode,fs=null,Nf=null,Hi=null,jf=!1;function yv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jf||fs==null||fs!==sc(r)||(r=fs,"selectionStart"in r&&mp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&ca(Hi,r)||(Hi=r,r=fc(Nf,"onSelect"),0<r.length&&(t=new fp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fs)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hs={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},cd={},Ox={};Cr&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function eu(e){if(cd[e])return cd[e];if(!hs[e])return e;var t=hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ox)return cd[e]=t[n];return e}var Fx=eu("animationend"),$x=eu("animationiteration"),Vx=eu("animationstart"),Ux=eu("transitionend"),Bx=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(e,t){Bx.set(e,t),Jo(t,[e])}for(var ud=0;ud<wv.length;ud++){var dd=wv[ud],ND=dd.toLowerCase(),jD=dd[0].toUpperCase()+dd.slice(1);vo(ND,"on"+jD)}vo(Fx,"onAnimationEnd");vo($x,"onAnimationIteration");vo(Vx,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(Ux,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function xv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,NA(r,t,void 0,e),e.currentTarget=null}function zx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;xv(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;xv(o,a,c),s=l}}}if(ac)throw e=Rf,ac=!1,Rf=null,e}function Ze(e,t){var n=t[Vf];n===void 0&&(n=t[Vf]=new Set);var r=e+"__bubble";n.has(r)||(qx(t,e,2,!1),n.add(r))}function fd(e,t,n){var r=0;t&&(r|=4),qx(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ua(e){if(!e[dl]){e[dl]=!0,Q0.forEach(function(n){n!=="selectionchange"&&(LD.has(n)||fd(n,!1,e),fd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,fd("selectionchange",!1,t))}}function qx(e,t,n,r){switch(kx(t)){case 1:var o=XA;break;case 4:o=QA;break;default:o=up}n=o.bind(null,t,n,e),o=void 0,!Df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function hd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Ao(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}hx(function(){var c=s,u=ip(n),d=[];e:{var h=Bx.get(e);if(h!==void 0){var y=fp,w=e;switch(e){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":y=fD;break;case"focusin":w="focus",y=id;break;case"focusout":w="blur",y=id;break;case"beforeblur":case"afterblur":y=id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=eD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=mD;break;case Fx:case $x:case Vx:y=rD;break;case Ux:y=vD;break;case"scroll":y=ZA;break;case"wheel":y=wD;break;case"copy":case"cut":case"paste":y=sD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=uv}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,x;g!==null;){x=g;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,m!==null&&(C=oa(g,m),C!=null&&v.push(da(g,C,x)))),b)break;g=g.return}0<v.length&&(h=new y(h,w,null,n,u),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==kf&&(w=n.relatedTarget||n.fromElement)&&(Ao(w)||w[Er]))break e;if((y||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?Ao(w):null,w!==null&&(b=es(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(v=lv,C="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=uv,C="onPointerLeave",m="onPointerEnter",g="pointer"),b=y==null?h:ps(y),x=w==null?h:ps(w),h=new v(C,g+"leave",y,n,u),h.target=b,h.relatedTarget=x,C=null,Ao(u)===c&&(v=new v(m,g+"enter",w,n,u),v.target=x,v.relatedTarget=b,C=v),b=C,y&&w)t:{for(v=y,m=w,g=0,x=v;x;x=ss(x))g++;for(x=0,C=m;C;C=ss(C))x++;for(;0<g-x;)v=ss(v),g--;for(;0<x-g;)m=ss(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=ss(v),m=ss(m)}v=null}else v=null;y!==null&&bv(d,h,y,v,!1),w!==null&&b!==null&&bv(d,b,w,v,!0)}}e:{if(h=c?ps(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var E=TD;else if(hv(h))if(Ix)E=RD;else{E=AD;var P=kD}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=DD);if(E&&(E=E(e,c))){_x(d,E,n,u);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Sf(h,"number",h.value)}switch(P=c?ps(c):window,e){case"focusin":(hv(P)||P.contentEditable==="true")&&(fs=P,Nf=c,Hi=null);break;case"focusout":Hi=Nf=fs=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,yv(d,n,u);break;case"selectionchange":if(ID)break;case"keydown":case"keyup":yv(d,n,u)}var k;if(pp)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ds?Rx(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Dx&&n.locale!=="ko"&&(ds||A!=="onCompositionStart"?A==="onCompositionEnd"&&ds&&(k=Ax()):(Xr=u,dp="value"in Xr?Xr.value:Xr.textContent,ds=!0)),P=fc(c,A),0<P.length&&(A=new cv(A,e,null,n,u),d.push({event:A,listeners:P}),k?A.data=k:(k=Mx(n),k!==null&&(A.data=k)))),(k=bD?SD(e,n):CD(e,n))&&(c=fc(c,"onBeforeInput"),0<c.length&&(u=new cv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}zx(d,t)})}function da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=oa(e,n),s!=null&&r.unshift(da(e,s,o)),s=oa(e,t),s!=null&&r.push(da(e,s,o))),e=e.return}return r}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bv(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=oa(n,s),l!=null&&i.unshift(da(n,l,a))):o||(l=oa(n,s),l!=null&&i.push(da(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var OD=/\r\n?/g,FD=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(OD,`
`).replace(FD,"")}function fl(e,t,n){if(t=Sv(t),Sv(e)!==t&&n)throw Error(G(425))}function hc(){}var Lf=null,Of=null;function Ff(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,$D=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,VD=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(e){return Cv.resolve(null).then(e).catch(UD)}:$f;function UD(e){setTimeout(function(){throw e})}function pd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),aa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);aa(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Jn="__reactFiber$"+fi,fa="__reactProps$"+fi,Er="__reactContainer$"+fi,Vf="__reactEvents$"+fi,BD="__reactListeners$"+fi,zD="__reactHandles$"+fi;function Ao(e){var t=e[Jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Er]||n[Jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ev(e);e!==null;){if(n=e[Jn])return n;e=Ev(e)}return t}e=n,n=e.parentNode}return null}function Va(e){return e=e[Jn]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function tu(e){return e[fa]||null}var Uf=[],ms=-1;function yo(e){return{current:e}}function Je(e){0>ms||(e.current=Uf[ms],Uf[ms]=null,ms--)}function Ke(e,t){ms++,Uf[ms]=e.current,e.current=t}var uo={},Ut=yo(uo),tn=yo(!1),zo=uo;function Xs(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function nn(e){return e=e.childContextTypes,e!=null}function pc(){Je(tn),Je(Ut)}function Pv(e,t,n){if(Ut.current!==uo)throw Error(G(168));Ke(Ut,t),Ke(tn,n)}function Hx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(G(108,kA(e)||"Unknown",o));return ct({},n,r)}function mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,zo=Ut.current,Ke(Ut,e),Ke(tn,tn.current),!0}function Tv(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=Hx(e,t,zo),r.__reactInternalMemoizedMergedChildContext=e,Je(tn),Je(Ut),Ke(Ut,e)):Je(tn),Ke(tn,n)}var gr=null,nu=!1,md=!1;function Wx(e){gr===null?gr=[e]:gr.push(e)}function qD(e){nu=!0,Wx(e)}function wo(){if(!md&&gr!==null){md=!0;var e=0,t=Ue;try{var n=gr;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gr=null,nu=!1}catch(o){throw gr!==null&&(gr=gr.slice(e+1)),vx(ap,wo),o}finally{Ue=t,md=!1}}return null}var gs=[],vs=0,gc=null,vc=0,Sn=[],Cn=0,qo=null,vr=1,yr="";function Eo(e,t){gs[vs++]=vc,gs[vs++]=gc,gc=e,vc=t}function Gx(e,t,n){Sn[Cn++]=vr,Sn[Cn++]=yr,Sn[Cn++]=qo,qo=e;var r=vr;e=yr;var o=32-$n(r)-1;r&=~(1<<o),n+=1;var s=32-$n(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,vr=1<<32-$n(t)+o|n<<o|r,yr=s+e}else vr=1<<s|n<<o|r,yr=e}function gp(e){e.return!==null&&(Eo(e,1),Gx(e,1,0))}function vp(e){for(;e===gc;)gc=gs[--vs],gs[vs]=null,vc=gs[--vs],gs[vs]=null;for(;e===qo;)qo=Sn[--Cn],Sn[Cn]=null,yr=Sn[--Cn],Sn[Cn]=null,vr=Sn[--Cn],Sn[Cn]=null}var dn=null,un=null,nt=!1,Fn=null;function Kx(e,t){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,un=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qo!==null?{id:vr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,un=null,!0):!1;default:return!1}}function Bf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zf(e){if(nt){var t=un;if(t){var n=t;if(!kv(e,t)){if(Bf(e))throw Error(G(418));t=no(n.nextSibling);var r=dn;t&&kv(e,t)?Kx(r,n):(e.flags=e.flags&-4097|2,nt=!1,dn=e)}}else{if(Bf(e))throw Error(G(418));e.flags=e.flags&-4097|2,nt=!1,dn=e}}}function Av(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function hl(e){if(e!==dn)return!1;if(!nt)return Av(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ff(e.type,e.memoizedProps)),t&&(t=un)){if(Bf(e))throw Yx(),Error(G(418));for(;t;)Kx(e,t),t=no(t.nextSibling)}if(Av(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){un=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}un=null}}else un=dn?no(e.stateNode.nextSibling):null;return!0}function Yx(){for(var e=un;e;)e=no(e.nextSibling)}function Qs(){un=dn=null,nt=!1}function yp(e){Fn===null?Fn=[e]:Fn.push(e)}var HD=Mr.ReactCurrentBatchConfig;function ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function pl(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dv(e){var t=e._init;return t(e._payload)}function Xx(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=io(m,g),m.index=0,m.sibling=null,m}function s(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,C){return g===null||g.tag!==6?(g=Sd(x,m.mode,C),g.return=m,g):(g=o(g,x),g.return=m,g)}function l(m,g,x,C){var E=x.type;return E===us?u(m,g,x.props.children,C,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vr&&Dv(E)===g.type)?(C=o(g,x.props),C.ref=ki(m,g,x),C.return=m,C):(C=Gl(x.type,x.key,x.props,null,m.mode,C),C.ref=ki(m,g,x),C.return=m,C)}function c(m,g,x,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Cd(x,m.mode,C),g.return=m,g):(g=o(g,x.children||[]),g.return=m,g)}function u(m,g,x,C,E){return g===null||g.tag!==7?(g=Oo(x,m.mode,C,E),g.return=m,g):(g=o(g,x),g.return=m,g)}function d(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Sd(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:return x=Gl(g.type,g.key,g.props,null,m.mode,x),x.ref=ki(m,null,g),x.return=m,x;case cs:return g=Cd(g,m.mode,x),g.return=m,g;case Vr:var C=g._init;return d(m,C(g._payload),x)}if(Ni(g)||Si(g))return g=Oo(g,m.mode,x,null),g.return=m,g;pl(m,g)}return null}function h(m,g,x,C){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rl:return x.key===E?l(m,g,x,C):null;case cs:return x.key===E?c(m,g,x,C):null;case Vr:return E=x._init,h(m,g,E(x._payload),C)}if(Ni(x)||Si(x))return E!==null?null:u(m,g,x,C,null);pl(m,x)}return null}function y(m,g,x,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(x)||null,a(g,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rl:return m=m.get(C.key===null?x:C.key)||null,l(g,m,C,E);case cs:return m=m.get(C.key===null?x:C.key)||null,c(g,m,C,E);case Vr:var P=C._init;return y(m,g,x,P(C._payload),E)}if(Ni(C)||Si(C))return m=m.get(x)||null,u(g,m,C,E,null);pl(g,C)}return null}function w(m,g,x,C){for(var E=null,P=null,k=g,A=g=0,R=null;k!==null&&A<x.length;A++){k.index>A?(R=k,k=null):R=k.sibling;var M=h(m,k,x[A],C);if(M===null){k===null&&(k=R);break}e&&k&&M.alternate===null&&t(m,k),g=s(M,g,A),P===null?E=M:P.sibling=M,P=M,k=R}if(A===x.length)return n(m,k),nt&&Eo(m,A),E;if(k===null){for(;A<x.length;A++)k=d(m,x[A],C),k!==null&&(g=s(k,g,A),P===null?E=k:P.sibling=k,P=k);return nt&&Eo(m,A),E}for(k=r(m,k);A<x.length;A++)R=y(k,m,A,x[A],C),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?A:R.key),g=s(R,g,A),P===null?E=R:P.sibling=R,P=R);return e&&k.forEach(function(L){return t(m,L)}),nt&&Eo(m,A),E}function v(m,g,x,C){var E=Si(x);if(typeof E!="function")throw Error(G(150));if(x=E.call(x),x==null)throw Error(G(151));for(var P=E=null,k=g,A=g=0,R=null,M=x.next();k!==null&&!M.done;A++,M=x.next()){k.index>A?(R=k,k=null):R=k.sibling;var L=h(m,k,M.value,C);if(L===null){k===null&&(k=R);break}e&&k&&L.alternate===null&&t(m,k),g=s(L,g,A),P===null?E=L:P.sibling=L,P=L,k=R}if(M.done)return n(m,k),nt&&Eo(m,A),E;if(k===null){for(;!M.done;A++,M=x.next())M=d(m,M.value,C),M!==null&&(g=s(M,g,A),P===null?E=M:P.sibling=M,P=M);return nt&&Eo(m,A),E}for(k=r(m,k);!M.done;A++,M=x.next())M=y(k,m,A,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?A:M.key),g=s(M,g,A),P===null?E=M:P.sibling=M,P=M);return e&&k.forEach(function($){return t(m,$)}),nt&&Eo(m,A),E}function b(m,g,x,C){if(typeof x=="object"&&x!==null&&x.type===us&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rl:e:{for(var E=x.key,P=g;P!==null;){if(P.key===E){if(E=x.type,E===us){if(P.tag===7){n(m,P.sibling),g=o(P,x.props.children),g.return=m,m=g;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vr&&Dv(E)===P.type){n(m,P.sibling),g=o(P,x.props),g.ref=ki(m,P,x),g.return=m,m=g;break e}n(m,P);break}else t(m,P);P=P.sibling}x.type===us?(g=Oo(x.props.children,m.mode,C,x.key),g.return=m,m=g):(C=Gl(x.type,x.key,x.props,null,m.mode,C),C.ref=ki(m,g,x),C.return=m,m=C)}return i(m);case cs:e:{for(P=x.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=o(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Cd(x,m.mode,C),g.return=m,m=g}return i(m);case Vr:return P=x._init,b(m,g,P(x._payload),C)}if(Ni(x))return w(m,g,x,C);if(Si(x))return v(m,g,x,C);pl(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,x),g.return=m,m=g):(n(m,g),g=Sd(x,m.mode,C),g.return=m,m=g),i(m)):n(m,g)}return b}var Zs=Xx(!0),Qx=Xx(!1),yc=yo(null),wc=null,ys=null,wp=null;function xp(){wp=ys=wc=null}function bp(e){var t=yc.current;Je(yc),e._currentValue=t}function qf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ms(e,t){wc=e,wp=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(en=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},ys===null){if(wc===null)throw Error(G(308));ys=e,wc.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Do=null;function Sp(e){Do===null?Do=[e]:Do.push(e)}function Zx(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Sp(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pr(e,r)}function Pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pr(e,n)}return o=r.interleaved,o===null?(t.next=t,Sp(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pr(e,n)}function Ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lp(e,n)}}function Rv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xc(e,t,n,r){var o=e.updateQueue;Ur=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(h=t,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(y,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(y,d,h):w,h==null)break e;d=ct({},d,h);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=y,l=d):u=u.next=y,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Wo|=i,e.lanes=i,e.memoizedState=d}}function Mv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(G(191,o));o.call(r)}}}var Ua={},nr=yo(Ua),ha=yo(Ua),pa=yo(Ua);function Ro(e){if(e===Ua)throw Error(G(174));return e}function Ep(e,t){switch(Ke(pa,t),Ke(ha,e),Ke(nr,Ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ef(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ef(t,e)}Je(nr),Ke(nr,t)}function Js(){Je(nr),Je(ha),Je(pa)}function eb(e){Ro(pa.current);var t=Ro(nr.current),n=Ef(t,e.type);t!==n&&(Ke(ha,e),Ke(nr,n))}function Pp(e){ha.current===e&&(Je(nr),Je(ha))}var ot=yo(0);function bc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gd=[];function Tp(){for(var e=0;e<gd.length;e++)gd[e]._workInProgressVersionPrimary=null;gd.length=0}var Bl=Mr.ReactCurrentDispatcher,vd=Mr.ReactCurrentBatchConfig,Ho=0,lt=null,Et=null,Tt=null,Sc=!1,Wi=!1,ma=0,WD=0;function It(){throw Error(G(321))}function kp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bn(e[n],t[n]))return!1;return!0}function Ap(e,t,n,r,o,s){if(Ho=s,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bl.current=e===null||e.memoizedState===null?XD:QD,e=n(r,o),Wi){s=0;do{if(Wi=!1,ma=0,25<=s)throw Error(G(301));s+=1,Tt=Et=null,t.updateQueue=null,Bl.current=ZD,e=n(r,o)}while(Wi)}if(Bl.current=Cc,t=Et!==null&&Et.next!==null,Ho=0,Tt=Et=lt=null,Sc=!1,t)throw Error(G(300));return e}function Dp(){var e=ma!==0;return ma=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?lt.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function An(){if(Et===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Tt===null?lt.memoizedState:Tt.next;if(t!==null)Tt=t,Et=e;else{if(e===null)throw Error(G(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Tt===null?lt.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function ga(e,t){return typeof t=="function"?t(e):t}function yd(e){var t=An(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Et,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((Ho&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,lt.lanes|=u,Wo|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Bn(r,t.memoizedState)||(en=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,lt.lanes|=s,Wo|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wd(e){var t=An(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Bn(s,t.memoizedState)||(en=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function tb(){}function nb(e,t){var n=lt,r=An(),o=t(),s=!Bn(r.memoizedState,o);if(s&&(r.memoizedState=o,en=!0),r=r.queue,Rp(sb.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,va(9,ob.bind(null,n,r,o,t),void 0,null),kt===null)throw Error(G(349));Ho&30||rb(n,t,o)}return o}function rb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ob(e,t,n,r){t.value=n,t.getSnapshot=r,ib(t)&&ab(e)}function sb(e,t,n){return n(function(){ib(t)&&ab(e)})}function ib(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bn(e,n)}catch{return!0}}function ab(e){var t=Pr(e,1);t!==null&&Vn(t,e,1,-1)}function _v(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=YD.bind(null,lt,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lb(){return An().memoizedState}function zl(e,t,n,r){var o=Yn();lt.flags|=e,o.memoizedState=va(1|t,n,void 0,r===void 0?null:r)}function ru(e,t,n,r){var o=An();r=r===void 0?null:r;var s=void 0;if(Et!==null){var i=Et.memoizedState;if(s=i.destroy,r!==null&&kp(r,i.deps)){o.memoizedState=va(t,n,s,r);return}}lt.flags|=e,o.memoizedState=va(1|t,n,s,r)}function Iv(e,t){return zl(8390656,8,e,t)}function Rp(e,t){return ru(2048,8,e,t)}function cb(e,t){return ru(4,2,e,t)}function ub(e,t){return ru(4,4,e,t)}function db(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fb(e,t,n){return n=n!=null?n.concat([e]):null,ru(4,4,db.bind(null,t,e),n)}function Mp(){}function hb(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pb(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mb(e,t,n){return Ho&21?(Bn(n,t)||(n=xx(),lt.lanes|=n,Wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=n)}function GD(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=vd.transition;vd.transition={};try{e(!1),t()}finally{Ue=n,vd.transition=r}}function gb(){return An().memoizedState}function KD(e,t,n){var r=so(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vb(e))yb(t,n);else if(n=Zx(e,t,n,r),n!==null){var o=Kt();Vn(n,e,r,o),wb(n,t,r)}}function YD(e,t,n){var r=so(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vb(e))yb(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Bn(a,i)){var l=t.interleaved;l===null?(o.next=o,Sp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=Zx(e,t,o,r),n!==null&&(o=Kt(),Vn(n,e,r,o),wb(n,t,r))}}function vb(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function yb(e,t){Wi=Sc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lp(e,n)}}var Cc={readContext:kn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},XD={readContext:kn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:Iv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zl(4194308,4,db.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KD.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:_v,useDebugValue:Mp,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=_v(!1),t=e[0];return e=GD.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,o=Yn();if(nt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),kt===null)throw Error(G(349));Ho&30||rb(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Iv(sb.bind(null,r,s,e),[e]),r.flags|=2048,va(9,ob.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Yn(),t=kt.identifierPrefix;if(nt){var n=yr,r=vr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QD={readContext:kn,useCallback:hb,useContext:kn,useEffect:Rp,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:ub,useMemo:pb,useReducer:yd,useRef:lb,useState:function(){return yd(ga)},useDebugValue:Mp,useDeferredValue:function(e){var t=An();return mb(t,Et.memoizedState,e)},useTransition:function(){var e=yd(ga)[0],t=An().memoizedState;return[e,t]},useMutableSource:tb,useSyncExternalStore:nb,useId:gb,unstable_isNewReconciler:!1},ZD={readContext:kn,useCallback:hb,useContext:kn,useEffect:Rp,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:ub,useMemo:pb,useReducer:wd,useRef:lb,useState:function(){return wd(ga)},useDebugValue:Mp,useDeferredValue:function(e){var t=An();return Et===null?t.memoizedState=e:mb(t,Et.memoizedState,e)},useTransition:function(){var e=wd(ga)[0],t=An().memoizedState;return[e,t]},useMutableSource:tb,useSyncExternalStore:nb,useId:gb,unstable_isNewReconciler:!1};function Nn(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ou={isMounted:function(e){return(e=e._reactInternals)?es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=so(e),s=xr(r,o);s.payload=t,n!=null&&(s.callback=n),t=ro(e,s,o),t!==null&&(Vn(t,e,o,r),Ul(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=so(e),s=xr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ro(e,s,o),t!==null&&(Vn(t,e,o,r),Ul(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),r=so(e),o=xr(n,r);o.tag=2,t!=null&&(o.callback=t),t=ro(e,o,r),t!==null&&(Vn(t,e,r,n),Ul(t,e,r))}};function Nv(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ca(n,r)||!ca(o,s):!0}function xb(e,t,n){var r=!1,o=uo,s=t.contextType;return typeof s=="object"&&s!==null?s=kn(s):(o=nn(t)?zo:Ut.current,r=t.contextTypes,s=(r=r!=null)?Xs(e,o):uo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ou,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function jv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function Wf(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Cp(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=kn(s):(s=nn(t)?zo:Ut.current,o.context=Xs(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Hf(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ou.enqueueReplaceState(o,o.state,null),xc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ei(e,t){try{var n="",r=t;do n+=TA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function xd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var JD=typeof WeakMap=="function"?WeakMap:Map;function bb(e,t,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pc||(Pc=!0,rh=r),Gf(e,t)},n}function Sb(e,t,n){n=xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Gf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gf(e,t),typeof r!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Lv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new JD;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=hR.bind(null,e,t,n),t.then(e,e))}function Ov(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fv(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xr(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var eR=Mr.ReactCurrentOwner,en=!1;function Wt(e,t,n,r){t.child=e===null?Qx(t,null,n,r):Zs(t,e.child,n,r)}function $v(e,t,n,r,o){n=n.render;var s=t.ref;return Ms(t,o),r=Ap(e,t,n,r,s,o),n=Dp(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Tr(e,t,o)):(nt&&n&&gp(t),t.flags|=1,Wt(e,t,r,o),t.child)}function Vv(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!$p(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Cb(e,t,s,r,o)):(e=Gl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(i,r)&&e.ref===t.ref)return Tr(e,t,o)}return t.flags|=1,e=io(s,r),e.ref=t.ref,e.return=t,t.child=e}function Cb(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ca(s,r)&&e.ref===t.ref)if(en=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(en=!0);else return t.lanes=e.lanes,Tr(e,t,o)}return Kf(e,t,n,r,o)}function Eb(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(xs,ln),ln|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(xs,ln),ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ke(xs,ln),ln|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ke(xs,ln),ln|=r;return Wt(e,t,o,n),t.child}function Pb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Kf(e,t,n,r,o){var s=nn(n)?zo:Ut.current;return s=Xs(t,s),Ms(t,o),n=Ap(e,t,n,r,s,o),r=Dp(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Tr(e,t,o)):(nt&&r&&gp(t),t.flags|=1,Wt(e,t,n,o),t.child)}function Uv(e,t,n,r,o){if(nn(n)){var s=!0;mc(t)}else s=!1;if(Ms(t,o),t.stateNode===null)ql(e,t),xb(t,n,r),Wf(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=nn(n)?zo:Ut.current,c=Xs(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&jv(t,i,r,c),Ur=!1;var h=t.memoizedState;i.state=h,xc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||tn.current||Ur?(typeof u=="function"&&(Hf(t,n,u,r),l=t.memoizedState),(a=Ur||Nv(t,n,a,r,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Jx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Nn(t.type,a),i.props=c,d=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=nn(n)?zo:Ut.current,l=Xs(t,l));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&jv(t,i,r,l),Ur=!1,h=t.memoizedState,i.state=h,xc(t,r,i,o);var w=t.memoizedState;a!==d||h!==w||tn.current||Ur?(typeof y=="function"&&(Hf(t,n,y,r),w=t.memoizedState),(c=Ur||Nv(t,n,c,r,h,w,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Yf(e,t,n,r,s,o)}function Yf(e,t,n,r,o,s){Pb(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Tv(t,n,!1),Tr(e,t,s);r=t.stateNode,eR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Zs(t,e.child,null,s),t.child=Zs(t,null,a,s)):Wt(e,t,a,s),t.memoizedState=r.state,o&&Tv(t,n,!0),t.child}function Tb(e){var t=e.stateNode;t.pendingContext?Pv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pv(e,t.context,!1),Ep(e,t.containerInfo)}function Bv(e,t,n,r,o){return Qs(),yp(o),t.flags|=256,Wt(e,t,n,r),t.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Qf(e){return{baseLanes:e,cachePool:null,transitions:null}}function kb(e,t,n){var r=t.pendingProps,o=ot.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ke(ot,o&1),e===null)return zf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=au(i,r,0,null),e=Oo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qf(n),t.memoizedState=Xf,e):_p(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return tR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=io(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=io(a,s):(s=Oo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Qf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Xf,r}return s=e.child,e=s.sibling,r=io(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _p(e,t){return t=au({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&yp(r),Zs(t,e.child,null,n),e=_p(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=xd(Error(G(422))),ml(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=au({mode:"visible",children:r.children},o,0,null),s=Oo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zs(t,e.child,null,i),t.child.memoizedState=Qf(i),t.memoizedState=Xf,s);if(!(t.mode&1))return ml(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=xd(s,r,void 0),ml(e,t,i,r)}if(a=(i&e.childLanes)!==0,en||a){if(r=kt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Pr(e,o),Vn(r,e,o,-1))}return Fp(),r=xd(Error(G(421))),ml(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=pR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,un=no(o.nextSibling),dn=t,nt=!0,Fn=null,e!==null&&(Sn[Cn++]=vr,Sn[Cn++]=yr,Sn[Cn++]=qo,vr=e.id,yr=e.overflow,qo=t),t=_p(t,r.children),t.flags|=4096,t)}function zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qf(e.return,t,n)}function bd(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Ab(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Wt(e,t,r.children,n),r=ot.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,n,t);else if(e.tag===19)zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(ot,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&bc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),bd(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}bd(t,!0,n,null,s);break;case"together":bd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=io(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=io(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nR(e,t,n){switch(t.tag){case 3:Tb(t),Qs();break;case 5:eb(t);break;case 1:nn(t.type)&&mc(t);break;case 4:Ep(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ke(yc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(ot,ot.current&1),t.flags|=128,null):n&t.child.childLanes?kb(e,t,n):(Ke(ot,ot.current&1),e=Tr(e,t,n),e!==null?e.sibling:null);Ke(ot,ot.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ab(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ke(ot,ot.current),r)break;return null;case 22:case 23:return t.lanes=0,Eb(e,t,n)}return Tr(e,t,n)}var Db,Zf,Rb,Mb;Db=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zf=function(){};Rb=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(nr.current);var s=null;switch(n){case"input":o=xf(e,o),r=xf(e,r),s=[];break;case"select":o=ct({},o,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":o=Cf(e,o),r=Cf(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hc)}Pf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(na.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(na.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Mb=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ai(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rR(e,t,n){var r=t.pendingProps;switch(vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return nn(t.type)&&pc(),Nt(t),null;case 3:return r=t.stateNode,Js(),Je(tn),Je(Ut),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fn!==null&&(ih(Fn),Fn=null))),Zf(e,t),Nt(t),null;case 5:Pp(t);var o=Ro(pa.current);if(n=t.type,e!==null&&t.stateNode!=null)Rb(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Nt(t),null}if(e=Ro(nr.current),hl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jn]=t,r[fa]=s,e=(t.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(o=0;o<Li.length;o++)Ze(Li[o],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Zg(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":ev(r,s),Ze("invalid",r)}Pf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fl(r.textContent,a,e),o=["children",""+a]):na.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ze("scroll",r)}switch(n){case"input":ol(r),Jg(r,s,!0);break;case"textarea":ol(r),tv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Jn]=t,e[fa]=r,Db(e,t,!1,!1),t.stateNode=e;e:{switch(i=Tf(n,r),n){case"dialog":Ze("cancel",e),Ze("close",e),o=r;break;case"iframe":case"object":case"embed":Ze("load",e),o=r;break;case"video":case"audio":for(o=0;o<Li.length;o++)Ze(Li[o],e);o=r;break;case"source":Ze("error",e),o=r;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),o=r;break;case"details":Ze("toggle",e),o=r;break;case"input":Zg(e,r),o=xf(e,r),Ze("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ct({},r,{value:void 0}),Ze("invalid",e);break;case"textarea":ev(e,r),o=Cf(e,r),Ze("invalid",e);break;default:o=r}Pf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ix(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ra(e,l):typeof l=="number"&&ra(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(na.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",e):l!=null&&np(e,s,l,i))}switch(n){case"input":ol(e),Jg(e,r,!1);break;case"textarea":ol(e),tv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+co(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ks(e,!!r.multiple,s,!1):r.defaultValue!=null&&ks(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)Mb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Ro(pa.current),Ro(nr.current),hl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jn]=t,(s=r.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=t,t.stateNode=r}return Nt(t),null;case 13:if(Je(ot),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&un!==null&&t.mode&1&&!(t.flags&128))Yx(),Qs(),t.flags|=98560,s=!1;else if(s=hl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Jn]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),s=!1}else Fn!==null&&(ih(Fn),Fn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?Pt===0&&(Pt=3):Fp())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Js(),Zf(e,t),e===null&&ua(t.stateNode.containerInfo),Nt(t),null;case 10:return bp(t.type._context),Nt(t),null;case 17:return nn(t.type)&&pc(),Nt(t),null;case 19:if(Je(ot),s=t.memoizedState,s===null)return Nt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Ai(s,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=bc(e),i!==null){for(t.flags|=128,Ai(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(ot,ot.current&1|2),t.child}e=e.sibling}s.tail!==null&&gt()>ti&&(t.flags|=128,r=!0,Ai(s,!1),t.lanes=4194304)}else{if(!r)if(e=bc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ai(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!nt)return Nt(t),null}else 2*gt()-s.renderingStartTime>ti&&n!==1073741824&&(t.flags|=128,r=!0,Ai(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=gt(),t.sibling=null,n=ot.current,Ke(ot,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return Op(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ln&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function oR(e,t){switch(vp(t),t.tag){case 1:return nn(t.type)&&pc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Js(),Je(tn),Je(Ut),Tp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pp(t),null;case 13:if(Je(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(ot),null;case 4:return Js(),null;case 10:return bp(t.type._context),null;case 22:case 23:return Op(),null;case 24:return null;default:return null}}var gl=!1,Ot=!1,sR=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ws(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(e,t,r)}else n.current=null}function Jf(e,t,n){try{n()}catch(r){ft(e,t,r)}}var qv=!1;function iR(e,t){if(Lf=uc,e=Lx(),mp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var y;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++u===r&&(l=i),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Of={focusedElem:e,selectionRange:n},uc=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nn(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){ft(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return w=qv,qv=!1,w}function Gi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Jf(t,n,s)}o=o.next}while(o!==r)}}function su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _b(e){var t=e.alternate;t!==null&&(e.alternate=null,_b(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jn],delete t[fa],delete t[Vf],delete t[BD],delete t[zD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ib(e){return e.tag===5||e.tag===3||e.tag===4}function Hv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ib(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function th(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hc));else if(r!==4&&(e=e.child,e!==null))for(th(e,t,n),e=e.sibling;e!==null;)th(e,t,n),e=e.sibling}function nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nh(e,t,n),e=e.sibling;e!==null;)nh(e,t,n),e=e.sibling}var At=null,On=!1;function Ir(e,t,n){for(n=n.child;n!==null;)Nb(e,t,n),n=n.sibling}function Nb(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:Ot||ws(n,t);case 6:var r=At,o=On;At=null,Ir(e,t,n),At=r,On=o,At!==null&&(On?(e=At,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(On?(e=At,n=n.stateNode,e.nodeType===8?pd(e.parentNode,n):e.nodeType===1&&pd(e,n),aa(e)):pd(At,n.stateNode));break;case 4:r=At,o=On,At=n.stateNode.containerInfo,On=!0,Ir(e,t,n),At=r,On=o;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Jf(n,t,i),o=o.next}while(o!==r)}Ir(e,t,n);break;case 1:if(!Ot&&(ws(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,t,a)}Ir(e,t,n);break;case 21:Ir(e,t,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Ir(e,t,n),Ot=r):Ir(e,t,n);break;default:Ir(e,t,n)}}function Wv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sR),t.forEach(function(r){var o=mR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,On=!1;break e;case 3:At=a.stateNode.containerInfo,On=!0;break e;case 4:At=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(At===null)throw Error(G(160));Nb(s,i,o),At=null,On=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ft(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jb(t,e),t=t.sibling}function jb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Kn(e),r&4){try{Gi(3,e,e.return),su(3,e)}catch(v){ft(e,e.return,v)}try{Gi(5,e,e.return)}catch(v){ft(e,e.return,v)}}break;case 1:_n(t,e),Kn(e),r&512&&n!==null&&ws(n,n.return);break;case 5:if(_n(t,e),Kn(e),r&512&&n!==null&&ws(n,n.return),e.flags&32){var o=e.stateNode;try{ra(o,"")}catch(v){ft(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rx(o,s),Tf(a,i);var c=Tf(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?lx(o,d):u==="dangerouslySetInnerHTML"?ix(o,d):u==="children"?ra(o,d):np(o,u,d,c)}switch(a){case"input":bf(o,s);break;case"textarea":ox(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ks(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?ks(o,!!s.multiple,s.defaultValue,!0):ks(o,!!s.multiple,s.multiple?[]:"",!1))}o[fa]=s}catch(v){ft(e,e.return,v)}}break;case 6:if(_n(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(G(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){ft(e,e.return,v)}}break;case 3:if(_n(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(t.containerInfo)}catch(v){ft(e,e.return,v)}break;case 4:_n(t,e),Kn(e);break;case 13:_n(t,e),Kn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(jp=gt())),r&4&&Wv(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ot=(c=Ot)||u,_n(t,e),Ot=c):_n(t,e),Kn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ee=e,u=e.child;u!==null;){for(d=ee=u;ee!==null;){switch(h=ee,y=h.child,h.tag){case 0:case 11:case 14:case 15:Gi(4,h,h.return);break;case 1:ws(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ft(r,n,v)}}break;case 5:ws(h,h.return);break;case 22:if(h.memoizedState!==null){Kv(d);continue}}y!==null?(y.return=h,ee=y):Kv(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ax("display",i))}catch(v){ft(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ft(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_n(t,e),Kn(e),r&4&&Wv(e);break;case 21:break;default:_n(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ib(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ra(o,""),r.flags&=-33);var s=Hv(e);nh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Hv(e);th(e,a,i);break;default:throw Error(G(161))}}catch(l){ft(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aR(e,t,n){ee=e,Lb(e)}function Lb(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var o=ee,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||gl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=gl;var c=Ot;if(gl=i,(Ot=l)&&!c)for(ee=o;ee!==null;)i=ee,l=i.child,i.tag===22&&i.memoizedState!==null?Yv(o):l!==null?(l.return=i,ee=l):Yv(o);for(;s!==null;)ee=s,Lb(s),s=s.sibling;ee=o,gl=a,Ot=c}Gv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ee=s):Gv(e)}}function Gv(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ot||su(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Nn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Mv(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mv(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&aa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ot||t.flags&512&&eh(t)}catch(h){ft(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Kv(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Yv(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{su(4,t)}catch(l){ft(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){ft(t,o,l)}}var s=t.return;try{eh(t)}catch(l){ft(t,s,l)}break;case 5:var i=t.return;try{eh(t)}catch(l){ft(t,i,l)}}}catch(l){ft(t,t.return,l)}if(t===e){ee=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ee=a;break}ee=t.return}}var lR=Math.ceil,Ec=Mr.ReactCurrentDispatcher,Ip=Mr.ReactCurrentOwner,Pn=Mr.ReactCurrentBatchConfig,je=0,kt=null,bt=null,Rt=0,ln=0,xs=yo(0),Pt=0,ya=null,Wo=0,iu=0,Np=0,Ki=null,Jt=null,jp=0,ti=1/0,mr=null,Pc=!1,rh=null,oo=null,vl=!1,Qr=null,Tc=0,Yi=0,oh=null,Hl=-1,Wl=0;function Kt(){return je&6?gt():Hl!==-1?Hl:Hl=gt()}function so(e){return e.mode&1?je&2&&Rt!==0?Rt&-Rt:HD.transition!==null?(Wl===0&&(Wl=xx()),Wl):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:kx(e.type)),e):1}function Vn(e,t,n,r){if(50<Yi)throw Yi=0,oh=null,Error(G(185));Fa(e,n,r),(!(je&2)||e!==kt)&&(e===kt&&(!(je&2)&&(iu|=n),Pt===4&&qr(e,Rt)),rn(e,r),n===1&&je===0&&!(t.mode&1)&&(ti=gt()+500,nu&&wo()))}function rn(e,t){var n=e.callbackNode;HA(e,t);var r=cc(e,e===kt?Rt:0);if(r===0)n!==null&&ov(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ov(n),t===1)e.tag===0?qD(Xv.bind(null,e)):Wx(Xv.bind(null,e)),VD(function(){!(je&6)&&wo()}),n=null;else{switch(bx(r)){case 1:n=ap;break;case 4:n=yx;break;case 16:n=lc;break;case 536870912:n=wx;break;default:n=lc}n=qb(n,Ob.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ob(e,t){if(Hl=-1,Wl=0,je&6)throw Error(G(327));var n=e.callbackNode;if(_s()&&e.callbackNode!==n)return null;var r=cc(e,e===kt?Rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kc(e,r);else{t=r;var o=je;je|=2;var s=$b();(kt!==e||Rt!==t)&&(mr=null,ti=gt()+500,Lo(e,t));do try{dR();break}catch(a){Fb(e,a)}while(!0);xp(),Ec.current=s,je=o,bt!==null?t=0:(kt=null,Rt=0,t=Pt)}if(t!==0){if(t===2&&(o=Mf(e),o!==0&&(r=o,t=sh(e,o))),t===1)throw n=ya,Lo(e,0),qr(e,r),rn(e,gt()),n;if(t===6)qr(e,r);else{if(o=e.current.alternate,!(r&30)&&!cR(o)&&(t=kc(e,r),t===2&&(s=Mf(e),s!==0&&(r=s,t=sh(e,s))),t===1))throw n=ya,Lo(e,0),qr(e,r),rn(e,gt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Po(e,Jt,mr);break;case 3:if(qr(e,r),(r&130023424)===r&&(t=jp+500-gt(),10<t)){if(cc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=$f(Po.bind(null,e,Jt,mr),t);break}Po(e,Jt,mr);break;case 4:if(qr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-$n(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lR(r/1960))-r,10<r){e.timeoutHandle=$f(Po.bind(null,e,Jt,mr),r);break}Po(e,Jt,mr);break;case 5:Po(e,Jt,mr);break;default:throw Error(G(329))}}}return rn(e,gt()),e.callbackNode===n?Ob.bind(null,e):null}function sh(e,t){var n=Ki;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=kc(e,t),e!==2&&(t=Jt,Jt=n,t!==null&&ih(t)),e}function ih(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function cR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Bn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qr(e,t){for(t&=~Np,t&=~iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$n(t),r=1<<n;e[n]=-1,t&=~r}}function Xv(e){if(je&6)throw Error(G(327));_s();var t=cc(e,0);if(!(t&1))return rn(e,gt()),null;var n=kc(e,t);if(e.tag!==0&&n===2){var r=Mf(e);r!==0&&(t=r,n=sh(e,r))}if(n===1)throw n=ya,Lo(e,0),qr(e,t),rn(e,gt()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Po(e,Jt,mr),rn(e,gt()),null}function Lp(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(ti=gt()+500,nu&&wo())}}function Go(e){Qr!==null&&Qr.tag===0&&!(je&6)&&_s();var t=je;je|=1;var n=Pn.transition,r=Ue;try{if(Pn.transition=null,Ue=1,e)return e()}finally{Ue=r,Pn.transition=n,je=t,!(je&6)&&wo()}}function Op(){ln=xs.current,Je(xs)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$D(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:Js(),Je(tn),Je(Ut),Tp();break;case 5:Pp(r);break;case 4:Js();break;case 13:Je(ot);break;case 19:Je(ot);break;case 10:bp(r.type._context);break;case 22:case 23:Op()}n=n.return}if(kt=e,bt=e=io(e.current,null),Rt=ln=t,Pt=0,ya=null,Np=iu=Wo=0,Jt=Ki=null,Do!==null){for(t=0;t<Do.length;t++)if(n=Do[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Do=null}return e}function Fb(e,t){do{var n=bt;try{if(xp(),Bl.current=Cc,Sc){for(var r=lt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Sc=!1}if(Ho=0,Tt=Et=lt=null,Wi=!1,ma=0,Ip.current=null,n===null||n.return===null){Pt=1,ya=t,bt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=Ov(i);if(y!==null){y.flags&=-257,Fv(y,i,a,s,t),y.mode&1&&Lv(s,c,t),t=y,l=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){Lv(s,c,t),Fp();break e}l=Error(G(426))}}else if(nt&&a.mode&1){var b=Ov(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Fv(b,i,a,s,t),yp(ei(l,a));break e}}s=l=ei(l,a),Pt!==4&&(Pt=2),Ki===null?Ki=[s]:Ki.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=bb(s,l,t);Rv(s,m);break e;case 1:a=l;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oo===null||!oo.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=Sb(s,a,t);Rv(s,C);break e}}s=s.return}while(s!==null)}Ub(n)}catch(E){t=E,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function $b(){var e=Ec.current;return Ec.current=Cc,e===null?Cc:e}function Fp(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),kt===null||!(Wo&268435455)&&!(iu&268435455)||qr(kt,Rt)}function kc(e,t){var n=je;je|=2;var r=$b();(kt!==e||Rt!==t)&&(mr=null,Lo(e,t));do try{uR();break}catch(o){Fb(e,o)}while(!0);if(xp(),je=n,Ec.current=r,bt!==null)throw Error(G(261));return kt=null,Rt=0,Pt}function uR(){for(;bt!==null;)Vb(bt)}function dR(){for(;bt!==null&&!LA();)Vb(bt)}function Vb(e){var t=zb(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?Ub(e):bt=t,Ip.current=null}function Ub(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=oR(n,t),n!==null){n.flags&=32767,bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,bt=null;return}}else if(n=rR(n,t,ln),n!==null){bt=n;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Pt===0&&(Pt=5)}function Po(e,t,n){var r=Ue,o=Pn.transition;try{Pn.transition=null,Ue=1,fR(e,t,n,r)}finally{Pn.transition=o,Ue=r}return null}function fR(e,t,n,r){do _s();while(Qr!==null);if(je&6)throw Error(G(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(WA(e,s),e===kt&&(bt=kt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vl||(vl=!0,qb(lc,function(){return _s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var i=Ue;Ue=1;var a=je;je|=4,Ip.current=null,iR(e,n),jb(n,e),_D(Of),uc=!!Lf,Of=Lf=null,e.current=n,aR(n),OA(),je=a,Ue=i,Pn.transition=s}else e.current=n;if(vl&&(vl=!1,Qr=e,Tc=o),s=e.pendingLanes,s===0&&(oo=null),VA(n.stateNode),rn(e,gt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Pc)throw Pc=!1,e=rh,rh=null,e;return Tc&1&&e.tag!==0&&_s(),s=e.pendingLanes,s&1?e===oh?Yi++:(Yi=0,oh=e):Yi=0,wo(),null}function _s(){if(Qr!==null){var e=bx(Tc),t=Pn.transition,n=Ue;try{if(Pn.transition=null,Ue=16>e?16:e,Qr===null)var r=!1;else{if(e=Qr,Qr=null,Tc=0,je&6)throw Error(G(331));var o=je;for(je|=4,ee=e.current;ee!==null;){var s=ee,i=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ee=c;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:Gi(8,u,s)}var d=u.child;if(d!==null)d.return=u,ee=d;else for(;ee!==null;){u=ee;var h=u.sibling,y=u.return;if(_b(u),u===c){ee=null;break}if(h!==null){h.return=y,ee=h;break}ee=y}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ee=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ee=i;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ee=m;break e}ee=s.return}}var g=e.current;for(ee=g;ee!==null;){i=ee;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ee=x;else e:for(i=g;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:su(9,a)}}catch(E){ft(a,a.return,E)}if(a===i){ee=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ee=C;break e}ee=a.return}}if(je=o,wo(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Qc,e)}catch{}r=!0}return r}finally{Ue=n,Pn.transition=t}}return!1}function Qv(e,t,n){t=ei(n,t),t=bb(e,t,1),e=ro(e,t,1),t=Kt(),e!==null&&(Fa(e,1,t),rn(e,t))}function ft(e,t,n){if(e.tag===3)Qv(e,e,n);else for(;t!==null;){if(t.tag===3){Qv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oo===null||!oo.has(r))){e=ei(n,e),e=Sb(t,e,1),t=ro(t,e,1),e=Kt(),t!==null&&(Fa(t,1,e),rn(t,e));break}}t=t.return}}function hR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(Rt&n)===n&&(Pt===4||Pt===3&&(Rt&130023424)===Rt&&500>gt()-jp?Lo(e,0):Np|=n),rn(e,t)}function Bb(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var n=Kt();e=Pr(e,t),e!==null&&(Fa(e,t,n),rn(e,n))}function pR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bb(e,n)}function mR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),Bb(e,n)}var zb;zb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)en=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return en=!1,nR(e,t,n);en=!!(e.flags&131072)}else en=!1,nt&&t.flags&1048576&&Gx(t,vc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var o=Xs(t,Ut.current);Ms(t,n),o=Ap(null,t,r,e,o,n);var s=Dp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(r)?(s=!0,mc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Cp(t),o.updater=ou,t.stateNode=o,o._reactInternals=t,Wf(t,r,e,n),t=Yf(null,t,r,!0,s,n)):(t.tag=0,nt&&s&&gp(t),Wt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=vR(r),e=Nn(r,e),o){case 0:t=Kf(null,t,r,e,n);break e;case 1:t=Uv(null,t,r,e,n);break e;case 11:t=$v(null,t,r,e,n);break e;case 14:t=Vv(null,t,r,Nn(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Nn(r,o),Kf(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Nn(r,o),Uv(e,t,r,o,n);case 3:e:{if(Tb(t),e===null)throw Error(G(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Jx(e,t),xc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ei(Error(G(423)),t),t=Bv(e,t,r,n,o);break e}else if(r!==o){o=ei(Error(G(424)),t),t=Bv(e,t,r,n,o);break e}else for(un=no(t.stateNode.containerInfo.firstChild),dn=t,nt=!0,Fn=null,n=Qx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===o){t=Tr(e,t,n);break e}Wt(e,t,r,n)}t=t.child}return t;case 5:return eb(t),e===null&&zf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Ff(r,o)?i=null:s!==null&&Ff(r,s)&&(t.flags|=32),Pb(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&zf(t),null;case 13:return kb(e,t,n);case 4:return Ep(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zs(t,null,r,n):Wt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Nn(r,o),$v(e,t,r,o,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Ke(yc,r._currentValue),r._currentValue=i,s!==null)if(Bn(s.value,i)){if(s.children===o.children&&!tn.current){t=Tr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(G(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),qf(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Wt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ms(t,n),o=kn(o),r=r(o),t.flags|=1,Wt(e,t,r,n),t.child;case 14:return r=t.type,o=Nn(r,t.pendingProps),o=Nn(r.type,o),Vv(e,t,r,o,n);case 15:return Cb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Nn(r,o),ql(e,t),t.tag=1,nn(r)?(e=!0,mc(t)):e=!1,Ms(t,n),xb(t,r,o),Wf(t,r,o,n),Yf(null,t,r,!0,e,n);case 19:return Ab(e,t,n);case 22:return Eb(e,t,n)}throw Error(G(156,t.tag))};function qb(e,t){return vx(e,t)}function gR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,r){return new gR(e,t,n,r)}function $p(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vR(e){if(typeof e=="function")return $p(e)?1:0;if(e!=null){if(e=e.$$typeof,e===op)return 11;if(e===sp)return 14}return 2}function io(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")$p(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case us:return Oo(n.children,o,s,t);case rp:i=8,o|=8;break;case gf:return e=En(12,n,t,o|2),e.elementType=gf,e.lanes=s,e;case vf:return e=En(13,n,t,o),e.elementType=vf,e.lanes=s,e;case yf:return e=En(19,n,t,o),e.elementType=yf,e.lanes=s,e;case ex:return au(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z0:i=10;break e;case J0:i=9;break e;case op:i=11;break e;case sp:i=14;break e;case Vr:i=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=En(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Oo(e,t,n,r){return e=En(7,e,r,t),e.lanes=n,e}function au(e,t,n,r){return e=En(22,e,r,t),e.elementType=ex,e.lanes=n,e.stateNode={isHidden:!1},e}function Sd(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function Cd(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vp(e,t,n,r,o,s,i,a,l){return e=new yR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=En(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(s),e}function wR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hb(e){if(!e)return uo;e=e._reactInternals;e:{if(es(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(nn(n))return Hx(e,n,t)}return t}function Wb(e,t,n,r,o,s,i,a,l){return e=Vp(n,r,!0,e,o,s,i,a,l),e.context=Hb(null),n=e.current,r=Kt(),o=so(n),s=xr(r,o),s.callback=t??null,ro(n,s,o),e.current.lanes=o,Fa(e,o,r),rn(e,r),e}function lu(e,t,n,r){var o=t.current,s=Kt(),i=so(o);return n=Hb(n),t.context===null?t.context=n:t.pendingContext=n,t=xr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ro(o,t,i),e!==null&&(Vn(e,o,i,s),Ul(e,o,i)),i}function Ac(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Up(e,t){Zv(e,t),(e=e.alternate)&&Zv(e,t)}function xR(){return null}var Gb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bp(e){this._internalRoot=e}cu.prototype.render=Bp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));lu(e,t,null,null)};cu.prototype.unmount=Bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Go(function(){lu(null,e,null,null)}),t[Er]=null}};function cu(e){this._internalRoot=e}cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ex();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zr.length&&t!==0&&t<zr[n].priority;n++);zr.splice(n,0,e),n===0&&Tx(e)}};function zp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function bR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Ac(i);s.call(c)}}var i=Wb(t,r,e,0,null,!1,!1,"",Jv);return e._reactRootContainer=i,e[Er]=i.current,ua(e.nodeType===8?e.parentNode:e),Go(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ac(l);a.call(c)}}var l=Vp(e,0,!1,null,null,!1,!1,"",Jv);return e._reactRootContainer=l,e[Er]=l.current,ua(e.nodeType===8?e.parentNode:e),Go(function(){lu(t,l,n,r)}),l}function du(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Ac(i);a.call(l)}}lu(t,i,e,o)}else i=bR(n,t,e,o,r);return Ac(i)}Sx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ji(t.pendingLanes);n!==0&&(lp(t,n|1),rn(t,gt()),!(je&6)&&(ti=gt()+500,wo()))}break;case 13:Go(function(){var r=Pr(e,1);if(r!==null){var o=Kt();Vn(r,e,1,o)}}),Up(e,1)}};cp=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var n=Kt();Vn(t,e,134217728,n)}Up(e,134217728)}};Cx=function(e){if(e.tag===13){var t=so(e),n=Pr(e,t);if(n!==null){var r=Kt();Vn(n,e,t,r)}Up(e,t)}};Ex=function(){return Ue};Px=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};Af=function(e,t,n){switch(t){case"input":if(bf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=tu(r);if(!o)throw Error(G(90));nx(r),bf(r,o)}}}break;case"textarea":ox(e,n);break;case"select":t=n.value,t!=null&&ks(e,!!n.multiple,t,!1)}};dx=Lp;fx=Go;var SR={usingClientEntryPoint:!1,Events:[Va,ps,tu,cx,ux,Lp]},Di={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CR={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mx(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||xR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Qc=yl.inject(CR),tr=yl}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(t))throw Error(G(200));return wR(e,t,null,n)};mn.createRoot=function(e,t){if(!zp(e))throw Error(G(299));var n=!1,r="",o=Gb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Vp(e,1,!1,null,null,n,!1,r,o),e[Er]=t.current,ua(e.nodeType===8?e.parentNode:e),new Bp(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=mx(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return Go(e)};mn.hydrate=function(e,t,n){if(!uu(t))throw Error(G(200));return du(null,e,t,!0,n)};mn.hydrateRoot=function(e,t,n){if(!zp(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Gb;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Wb(t,null,e,1,n??null,o,!1,s,i),e[Er]=t.current,ua(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new cu(t)};mn.render=function(e,t,n){if(!uu(t))throw Error(G(200));return du(null,e,t,!1,n)};mn.unmountComponentAtNode=function(e){if(!uu(e))throw Error(G(40));return e._reactRootContainer?(Go(function(){du(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1};mn.unstable_batchedUpdates=Lp;mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uu(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return du(e,t,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function Kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kb)}catch(e){console.error(e)}}Kb(),K0.exports=mn;var Ba=K0.exports;const ER=j0(Ba);var Yb,ey=Ba;Yb=ey.createRoot,ey.hydrateRoot;function PR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Xb={exports:{}},Qb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=f;function TR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kR=typeof Object.is=="function"?Object.is:TR,AR=ni.useState,DR=ni.useEffect,RR=ni.useLayoutEffect,MR=ni.useDebugValue;function _R(e,t){var n=t(),r=AR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return RR(function(){o.value=n,o.getSnapshot=t,Ed(o)&&s({inst:o})},[e,n,t]),DR(function(){return Ed(o)&&s({inst:o}),e(function(){Ed(o)&&s({inst:o})})},[e]),MR(n),n}function Ed(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kR(e,n)}catch{return!0}}function IR(e,t){return t()}var NR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IR:_R;Qb.useSyncExternalStore=ni.useSyncExternalStore!==void 0?ni.useSyncExternalStore:NR;Xb.exports=Qb;var jR=Xb.exports;const LR=W0.useInsertionEffect,OR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zb=OR?f.useLayoutEffect:f.useEffect,FR=LR||Zb,qp=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return FR(()=>{t[0]=e}),t[1]},$R="popstate",Hp="pushState",Wp="replaceState",VR="hashchange",ty=[$R,Hp,Wp,VR],UR=e=>{for(const t of ty)addEventListener(t,e);return()=>{for(const t of ty)removeEventListener(t,e)}},Jb=(e,t)=>jR.useSyncExternalStore(UR,e,t),BR=()=>location.search,zR=({ssrSearch:e=""}={})=>Jb(BR,()=>e),ny=()=>location.pathname,qR=({ssrPath:e}={})=>Jb(ny,e?()=>e:ny),HR=(e,{replace:t=!1,state:n=null}={})=>history[t?Wp:Hp](n,"",e),WR=(e={})=>[qR(e),HR],ry=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ry]>"u"){for(const e of[Hp,Wp]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ry,{value:!0})}const GR=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",eS=(e="")=>e==="/"?"":e,KR=(e,t)=>e[0]==="~"?e.slice(1):eS(t)+e,YR=(e="",t)=>GR(oy(eS(e)),oy(t)),oy=e=>{try{return decodeURI(e)}catch{return e}},tS={hook:WR,searchHook:zR,parser:PR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},nS=f.createContext(tS),za=()=>f.useContext(nS),rS={},oS=f.createContext(rS),XR=()=>f.useContext(oS),fu=e=>{const[t,n]=e.hook(e);return[YR(e.base,t),qp((r,o)=>n(KR(r,e.base),o))]},hu=()=>fu(za()),sS=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,h)=>[d,l[h]])):i.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},iS=({children:e,...t})=>{var u,d;const n=za(),r=t.hook?tS:n;let o=r;const[s,i]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const y=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&y!==c[h]&&(a.current=c={...c}),c[h]=y,y!==r[h]&&(o=c)}return f.createElement(nS.Provider,{value:o,children:e})},sy=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,QR=e=>{let t=f.useRef(rS),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},wl=({path:e,nest:t,match:n,...r})=>{const o=za(),[s]=fu(o),[i,a,l]=n??sS(o.parser,e,s,t),c=QR({...XR(),...a});if(!i)return null;const u=l?f.createElement(iS,{base:l},sy(r,c)):sy(r,c);return f.createElement(oS.Provider,{value:c,children:u})},ZR=f.forwardRef((e,t)=>{const n=za(),[r,o]=fu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:u,replace:d,state:h,...y}=e,w=qp(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),v=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:w,href:v}):f.createElement("a",{...y,onClick:w,href:v,className:u!=null&&u.call?u(r===i):u,children:c,ref:t})}),aS=e=>Array.isArray(e)?e.flatMap(t=>aS(t&&t.type===f.Fragment?t.props.children:t)):[e],JR=({children:e,location:t})=>{const n=za(),[r]=fu(n);for(const o of aS(e)){let s=0;if(f.isValidElement(o)&&(s=sS(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null},eM=e=>{const{to:t,href:n=t}=e,[,r]=hu(),o=qp(()=>r(t||n,e));return Zb(()=>{o()},[]),null};var pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mu=typeof window>"u"||"Deno"in globalThis;function jn(){}function tM(e,t){return typeof e=="function"?e(t):e}function nM(e){return typeof e=="number"&&e>=0&&e!==1/0}function rM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function iy(e,t){return typeof e=="function"?e(t):e}function oM(e,t){return typeof e=="function"?e(t):e}function ay(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Gp(i,t.options))return!1}else if(!xa(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function ly(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(wa(t.options.mutationKey)!==wa(s))return!1}else if(!xa(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Gp(e,t){return((t==null?void 0:t.queryKeyHashFn)||wa)(e)}function wa(e){return JSON.stringify(e,(t,n)=>ah(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function xa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!xa(e[n],t[n])):!1}function lS(e,t){if(e===t)return e;const n=cy(e)&&cy(t);if(n||ah(e)&&ah(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,l++):(a[u]=lS(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function cy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ah(e){if(!uy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!uy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uy(e){return Object.prototype.toString.call(e)==="[object Object]"}function sM(e){return new Promise(t=>{setTimeout(t,e)})}function iM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lS(e,t):t}function aM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function lM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Kp=Symbol();function cS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _o,Hr,Vs,k0,cM=(k0=class extends pu{constructor(){super();$e(this,_o);$e(this,Hr);$e(this,Vs);Te(this,Vs,t=>{if(!mu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Hr)||this.setEventListener(U(this,Vs))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Hr))==null||t.call(this),Te(this,Hr,void 0))}setEventListener(t){var n;Te(this,Vs,t),(n=U(this,Hr))==null||n.call(this),Te(this,Hr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,_o)!==t&&(Te(this,_o,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,_o)=="boolean"?U(this,_o):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_o=new WeakMap,Hr=new WeakMap,Vs=new WeakMap,k0),uS=new cM,Us,Wr,Bs,A0,uM=(A0=class extends pu{constructor(){super();$e(this,Us,!0);$e(this,Wr);$e(this,Bs);Te(this,Bs,t=>{if(!mu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Wr)||this.setEventListener(U(this,Bs))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Wr))==null||t.call(this),Te(this,Wr,void 0))}setEventListener(t){var n;Te(this,Bs,t),(n=U(this,Wr))==null||n.call(this),Te(this,Wr,t(this.setOnline.bind(this)))}setOnline(t){U(this,Us)!==t&&(Te(this,Us,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Us)}},Us=new WeakMap,Wr=new WeakMap,Bs=new WeakMap,A0),Dc=new uM;function dM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function fM(e){return Math.min(1e3*2**e,3e4)}function dS(e){return(e??"online")==="online"?Dc.isOnline():!0}var fS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Pd(e){return e instanceof fS}function hS(e){let t=!1,n=0,r=!1,o;const s=dM(),i=v=>{var b;r||(h(new fS(v)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>uS.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),u=()=>dS(e.networkMode)&&e.canRun(),d=v=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,v),o==null||o(),s.resolve(v))},h=v=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,v),o==null||o(),s.reject(v))},y=()=>new Promise(v=>{var b;o=m=>{(r||c())&&v(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;o=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const b=n===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(m){v=Promise.reject(m)}Promise.resolve(v).then(d).catch(m=>{var P;if(r)return;const g=e.retry??(mu?0:3),x=e.retryDelay??fM,C=typeof x=="function"?x(n,m):x,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),sM(C).then(()=>c()?void 0:y()).then(()=>{t?h(m):w()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?w():y().then(w),s)}}function hM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Gt=hM(),Io,D0,pS=(D0=class{constructor(){$e(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nM(this.gcTime)&&Te(this,Io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mu?1/0:5*60*1e3))}clearGcTimeout(){U(this,Io)&&(clearTimeout(U(this,Io)),Te(this,Io,void 0))}},Io=new WeakMap,D0),zs,qs,bn,jt,ja,No,Ln,pr,R0,pM=(R0=class extends pS{constructor(t){super();$e(this,Ln);$e(this,zs);$e(this,qs);$e(this,bn);$e(this,jt);$e(this,ja);$e(this,No);Te(this,No,!1),Te(this,ja,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,bn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,zs,gM(this.options)),this.state=t.state??U(this,zs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,jt))==null?void 0:t.promise}setOptions(t){this.options={...U(this,ja),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,bn).remove(this)}setData(t,n){const r=iM(this.state.data,t,this.options);return _t(this,Ln,pr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){_t(this,Ln,pr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=U(this,jt))==null?void 0:r.promise;return(o=U(this,jt))==null||o.cancel(t),n?n.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,zs))}isActive(){return this.observers.some(t=>oM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,jt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,jt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,bn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,jt)&&(U(this,No)?U(this,jt).cancel({revert:!0}):U(this,jt).cancelRetry()),this.scheduleGc()),U(this,bn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Ln,pr).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,jt))return U(this,jt).continueRetry(),U(this,jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,o=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Te(this,No,!0),r.signal)})},s=()=>{const d=cS(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),Te(this,No,!1),this.options.persister?this.options.persister(d,h,this):d(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),Te(this,qs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&_t(this,Ln,pr).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,y,w,v;Pd(d)&&d.silent||_t(this,Ln,pr).call(this,{type:"error",error:d}),Pd(d)||((y=(h=U(this,bn).config).onError)==null||y.call(h,d,this),(v=(w=U(this,bn).config).onSettled)==null||v.call(w,this.state.data,d,this)),this.scheduleGc()};return Te(this,jt,hS({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,y,w,v;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(b){a(b);return}(y=(h=U(this,bn).config).onSuccess)==null||y.call(h,d,this),(v=(w=U(this,bn).config).onSettled)==null||v.call(w,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{_t(this,Ln,pr).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{_t(this,Ln,pr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Ln,pr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),U(this,jt).start()}},zs=new WeakMap,qs=new WeakMap,bn=new WeakMap,jt=new WeakMap,ja=new WeakMap,No=new WeakMap,Ln=new WeakSet,pr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Pd(o)&&o.revert&&U(this,qs)?{...U(this,qs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Gt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,bn).notify({query:this,type:"updated",action:t})})},R0);function mM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xn,M0,vM=(M0=class extends pu{constructor(t={}){super();$e(this,Xn);this.config=t,Te(this,Xn,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??Gp(o,n);let i=this.get(s);return i||(i=new pM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){U(this,Xn).has(t.queryHash)||(U(this,Xn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,Xn).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,Xn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Xn).get(t)}getAll(){return[...U(this,Xn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ay(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ay(t,r)):n}notify(t){Gt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xn=new WeakMap,M0),Qn,Ht,jo,Zn,Lr,_0,yM=(_0=class extends pS{constructor(t){super();$e(this,Zn);$e(this,Qn);$e(this,Ht);$e(this,jo);this.mutationId=t.mutationId,Te(this,Ht,t.mutationCache),Te(this,Qn,[]),this.state=t.state||wM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Qn).includes(t)||(U(this,Qn).push(t),this.clearGcTimeout(),U(this,Ht).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Qn,U(this,Qn).filter(n=>n!==t)),this.scheduleGc(),U(this,Ht).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ht).remove(this))}continue(){var t;return((t=U(this,jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,u,d,h,y,w,v,b,m,g,x,C,E,P,k;Te(this,jo,hS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{_t(this,Zn,Lr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{_t(this,Zn,Lr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Zn,Lr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ht).canRun(this)}));const n=this.state.status==="pending",r=!U(this,jo).canStart();try{if(!n){_t(this,Zn,Lr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=U(this,Ht).config).onMutate)==null?void 0:s.call(o,t,this));const R=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));R!==this.state.context&&_t(this,Zn,Lr).call(this,{type:"pending",context:R,variables:t,isPaused:r})}const A=await U(this,jo).start();return await((c=(l=U(this,Ht).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,A,t,this.state.context)),await((y=(h=U(this,Ht).config).onSettled)==null?void 0:y.call(h,A,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,A,null,t,this.state.context)),_t(this,Zn,Lr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(b=U(this,Ht).config).onError)==null?void 0:m.call(b,A,t,this.state.context,this)),await((x=(g=this.options).onError)==null?void 0:x.call(g,A,t,this.state.context)),await((E=(C=U(this,Ht).config).onSettled)==null?void 0:E.call(C,void 0,A,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context)),A}finally{_t(this,Zn,Lr).call(this,{type:"error",error:A})}}finally{U(this,Ht).runNext(this)}}},Qn=new WeakMap,Ht=new WeakMap,jo=new WeakMap,Zn=new WeakSet,Lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Gt.batch(()=>{U(this,Qn).forEach(r=>{r.onMutationUpdate(t)}),U(this,Ht).notify({mutation:this,type:"updated",action:t})})},_0);function wM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,La,I0,xM=(I0=class extends pu{constructor(t={}){super();$e(this,an);$e(this,La);this.config=t,Te(this,an,new Map),Te(this,La,Date.now())}build(t,n,r){const o=new yM({mutationCache:this,mutationId:++tl(this,La)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=xl(t),r=U(this,an).get(n)??[];r.push(t),U(this,an).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=xl(t);if(U(this,an).has(n)){const o=(r=U(this,an).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?U(this,an).delete(n):U(this,an).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=U(this,an).get(xl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=U(this,an).get(xl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Gt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,an).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ly(n,r))}findAll(t={}){return this.getAll().filter(n=>ly(t,n))}notify(t){Gt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Gt.batch(()=>Promise.all(t.map(n=>n.continue().catch(jn))))}},an=new WeakMap,La=new WeakMap,I0);function xl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function dy(e){return{onFetch:(t,n)=>{var u,d,h,y,w;const r=t.options,o=(h=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},m=cS(t.options,t.fetchOptions),g=async(x,C,E)=>{if(v)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const k=await m(P),{maxPages:A}=t.options,R=E?lM:aM;return{pages:R(x.pages,k,A),pageParams:R(x.pageParams,C,A)}};if(o&&s.length){const x=o==="backward",C=x?bM:fy,E={pages:s,pageParams:i},P=C(r,E);a=await g(E,P,x)}else{const x=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:fy(r,a);if(l>0&&C==null)break;a=await g(a,C),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function fy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function bM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ut,Gr,Kr,Hs,Ws,Yr,Gs,Ks,N0,SM=(N0=class{constructor(e={}){$e(this,ut);$e(this,Gr);$e(this,Kr);$e(this,Hs);$e(this,Ws);$e(this,Yr);$e(this,Gs);$e(this,Ks);Te(this,ut,e.queryCache||new vM),Te(this,Gr,e.mutationCache||new xM),Te(this,Kr,e.defaultOptions||{}),Te(this,Hs,new Map),Te(this,Ws,new Map),Te(this,Yr,0)}mount(){tl(this,Yr)._++,U(this,Yr)===1&&(Te(this,Gs,uS.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,ut).onFocus())})),Te(this,Ks,Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,ut).onOnline())})))}unmount(){var e,t;tl(this,Yr)._--,U(this,Yr)===0&&((e=U(this,Gs))==null||e.call(this),Te(this,Gs,void 0),(t=U(this,Ks))==null||t.call(this),Te(this,Ks,void 0))}isFetching(e){return U(this,ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Gr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,ut).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,ut).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(iy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,ut).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=U(this,ut).get(r.queryHash),s=o==null?void 0:o.state.data,i=tM(t,s);if(i!==void 0)return U(this,ut).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Gt.batch(()=>U(this,ut).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,ut).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,ut);Gt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,ut),r={type:"active",...e};return Gt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Gt.batch(()=>U(this,ut).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(e={},t={}){return Gt.batch(()=>{if(U(this,ut).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Gt.batch(()=>U(this,ut).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(jn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,ut).build(this,t);return n.isStaleByTime(iy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=dy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=dy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?U(this,Gr).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ut)}getMutationCache(){return U(this,Gr)}getDefaultOptions(){return U(this,Kr)}setDefaultOptions(e){Te(this,Kr,e)}setQueryDefaults(e,t){U(this,Hs).set(wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Hs).values()];let n={};return t.forEach(r=>{xa(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){U(this,Ws).set(wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Ws).values()];let n={};return t.forEach(r=>{xa(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Kp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,ut).clear(),U(this,Gr).clear()}},ut=new WeakMap,Gr=new WeakMap,Kr=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,Yr=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,N0),CM=f.createContext(void 0),EM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(CM.Provider,{value:e,children:t}));async function PM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const TM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await PM(n),await n.json())},kM=new SM({defaultOptions:{queries:{queryFn:TM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AM=1,DM=1e6;let Td=0;function RM(){return Td=(Td+1)%Number.MAX_SAFE_INTEGER,Td.toString()}const kd=new Map,hy=e=>{if(kd.has(e))return;const t=setTimeout(()=>{kd.delete(e),Xi({type:"REMOVE_TOAST",toastId:e})},DM);kd.set(e,t)},MM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hy(n):e.toasts.forEach(r=>{hy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kl=[];let Yl={toasts:[]};function Xi(e){Yl=MM(Yl,e),Kl.forEach(t=>{t(Yl)})}function _M({...e}){const t=RM(),n=o=>Xi({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Xi({type:"DISMISS_TOAST",toastId:t});return Xi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function qa(){const[e,t]=f.useState(Yl);return f.useEffect(()=>(Kl.push(t),()=>{const n=Kl.indexOf(t);n>-1&&Kl.splice(n,1)}),[e]),{...e,toast:_M,dismiss:n=>Xi({type:"DISMISS_TOAST",toastId:n})}}function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function py(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=py(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():py(e[o],null)}}}}function Re(...e){return f.useCallback(gu(...e),e)}function IM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function on(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=d=>{var m;const{scope:h,children:y,...w}=d,v=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:b,children:y})};c.displayName=s+"Provider";function u(d,h){var v;const y=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,w=f.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,NM(o,...t)]}function NM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function ri(e){const t=LM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(OM);if(l){const c=l.props.children,u=a.map(d=>d===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:d);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,u):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var jM=ri("Slot");function LM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=$M(o),a=FM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?gu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mS=Symbol("radix.slottable");function gS(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=mS,t}function OM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mS}function FM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function $M(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vu(e){const t=e+"CollectionProvider",[n,r]=on(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:b,children:m}=v,g=xt.useRef(null),x=xt.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:x,collectionRef:g,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=ri(a),c=xt.forwardRef((v,b)=>{const{scope:m,children:g}=v,x=s(a,m),C=Re(b,x.collectionRef);return p.jsx(l,{ref:C,children:g})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=ri(u),y=xt.forwardRef((v,b)=>{const{scope:m,children:g,...x}=v,C=xt.useRef(null),E=Re(b,C),P=s(u,m);return xt.useEffect(()=>(P.itemMap.set(C,{ref:C,...x}),()=>void P.itemMap.delete(C))),p.jsx(h,{[d]:"",ref:E,children:g})});y.displayName=u;function w(v){const b=s(e+"CollectionConsumer",v);return xt.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((P,k)=>x.indexOf(P.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:y},w,r]}var VM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=VM.reduce((e,t)=>{const n=ri(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yp(e,t){e&&Ba.flushSync(()=>e.dispatchEvent(t))}function st(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function UM(e,t=globalThis==null?void 0:globalThis.document){const n=st(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var BM="DismissableLayer",lh="dismissableLayer.update",zM="dismissableLayer.pointerDownOutside",qM="dismissableLayer.focusOutside",my,vS=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ha=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(vS),[u,d]=f.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),w=Re(t,k=>d(k)),v=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=v.indexOf(b),g=u?v.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,C=g>=m,E=WM(k=>{const A=k.target,R=[...c.branches].some(M=>M.contains(A));!C||R||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=GM(k=>{const A=k.target;[...c.branches].some(M=>M.contains(A))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return UM(k=>{g===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(my=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=my)}},[u,h,n,c]),f.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gy())},[u,c]),f.useEffect(()=>{const k=()=>y({});return document.addEventListener(lh,k),()=>document.removeEventListener(lh,k)},[]),p.jsx(ge.div,{...l,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,E.onPointerDownCapture)})});Ha.displayName=BM;var HM="DismissableLayerBranch",yS=f.forwardRef((e,t)=>{const n=f.useContext(vS),r=f.useRef(null),o=Re(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(ge.div,{...e,ref:o})});yS.displayName=HM;function WM(e,t=globalThis==null?void 0:globalThis.document){const n=st(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){wS(zM,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function GM(e,t=globalThis==null?void 0:globalThis.document){const n=st(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&wS(qM,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gy(){const e=new CustomEvent(lh);document.dispatchEvent(e)}function wS(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Yp(o,s):o.dispatchEvent(s)}var KM=Ha,YM=yS,Dn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},XM="Portal",yu=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);Dn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ER.createPortal(p.jsx(ge.div,{...r,ref:t}),i):null});yu.displayName=XM;function QM(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var sn=e=>{const{present:t,children:n}=e,r=ZM(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Re(r.ref,JM(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};sn.displayName="Presence";function ZM(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=QM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=bl(r.current);s.current=a==="mounted"?c:"none"},[a]),Dn(()=>{const c=r.current,u=o.current;if(u!==e){const h=s.current,y=bl(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Dn(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=y=>{const v=bl(r.current).includes(y.animationName);if(y.target===t&&v&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=y=>{y.target===t&&(s.current=bl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function bl(e){return(e==null?void 0:e.animationName)||"none"}function JM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ar({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=e_({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=st(n),l=f.useCallback(c=>{if(s){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else o(c)},[s,e,o,a]);return[i,l]}function e_({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=st(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var t_="VisuallyHidden",wu=f.forwardRef((e,t)=>p.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));wu.displayName=t_;var n_=wu,Xp="ToastProvider",[Qp,r_,o_]=vu("Toast"),[xS,Dz]=on("Toast",[o_]),[s_,xu]=xS(Xp),bS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,u]=f.useState(0),d=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xp}\`. Expected non-empty \`string\`.`),p.jsx(Qp.Provider,{scope:t,children:p.jsx(s_,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>u(y=>y+1),[]),onToastRemove:f.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};bS.displayName=Xp;var SS="ToastViewport",i_=["F8"],ch="toast.viewportPause",uh="toast.viewportResume",CS=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=i_,label:o="Notifications ({hotkey})",...s}=e,i=xu(SS,n),a=r_(n),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=Re(t,d,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;f.useEffect(()=>{const b=m=>{var x;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=d.current;if(w&&b&&m){const g=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(ch);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(uh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&x()},E=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",g),b.addEventListener("focusout",C),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",E),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[w,i.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:b})=>{const g=a().map(x=>{const C=x.ref.current,E=[C,...w_(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?g.reverse():g).flat()},[a]);return f.useEffect(()=>{const b=d.current;if(b){const m=g=>{var E,P,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const A=document.activeElement,R=g.shiftKey;if(g.target===b&&R){(E=c.current)==null||E.focus();return}const $=v({tabbingDirection:R?"backwards":"forwards"}),F=$.findIndex(j=>j===A);Ad($.slice(F+1))?g.preventDefault():R?(P=c.current)==null||P.focus():(k=u.current)==null||k.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,v]),p.jsxs(YM,{ref:l,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(dh,{ref:c,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Ad(b)}}),p.jsx(Qp.Slot,{scope:n,children:p.jsx(ge.ol,{tabIndex:-1,...s,ref:h})}),w&&p.jsx(dh,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Ad(b)}})]})});CS.displayName=SS;var ES="ToastFocusProxy",dh=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=xu(ES,n);return p.jsx(wu,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});dh.displayName=ES;var bu="Toast",a_="toast.swipeStart",l_="toast.swipeMove",c_="toast.swipeCancel",u_="toast.swipeEnd",PS=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=ar({prop:r,defaultProp:o,onChange:s});return p.jsx(sn,{present:n||a,children:p.jsx(h_,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:st(e.onPause),onResume:st(e.onResume),onSwipeStart:Q(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Q(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});PS.displayName=bu;var[d_,f_]=xS(bu,{onClose(){}}),h_=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:y,...w}=e,v=xu(bu,n),[b,m]=f.useState(null),g=Re(t,j=>m(j)),x=f.useRef(null),C=f.useRef(null),E=o||v.duration,P=f.useRef(0),k=f.useRef(E),A=f.useRef(0),{onToastAdd:R,onToastRemove:M}=v,L=st(()=>{var B;(b==null?void 0:b.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),i()}),$=f.useCallback(j=>{!j||j===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(L,j))},[L]);f.useEffect(()=>{const j=v.viewport;if(j){const B=()=>{$(k.current),c==null||c()},I=()=>{const N=new Date().getTime()-P.current;k.current=k.current-N,window.clearTimeout(A.current),l==null||l()};return j.addEventListener(ch,I),j.addEventListener(uh,B),()=>{j.removeEventListener(ch,I),j.removeEventListener(uh,B)}}},[v.viewport,E,l,c,$]),f.useEffect(()=>{s&&!v.isClosePausedRef.current&&$(E)},[s,E,v.isClosePausedRef,$]),f.useEffect(()=>(R(),()=>M()),[R,M]);const F=f.useMemo(()=>b?_S(b):null,[b]);return v.viewport?p.jsxs(p.Fragment,{children:[F&&p.jsx(p_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),p.jsx(d_,{scope:n,onClose:L,children:Ba.createPortal(p.jsx(Qp.ItemSlot,{scope:n,children:p.jsx(KM,{asChild:!0,onEscapeKeyDown:Q(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||L(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Q(e.onPointerDown,j=>{j.button===0&&(x.current={x:j.clientX,y:j.clientY})}),onPointerMove:Q(e.onPointerMove,j=>{if(!x.current)return;const B=j.clientX-x.current.x,I=j.clientY-x.current.y,N=!!C.current,D=["left","right"].includes(v.swipeDirection),_=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,V=D?_(0,B):0,W=D?0:_(0,I),K=j.pointerType==="touch"?10:2,ae={x:V,y:W},te={originalEvent:j,delta:ae};N?(C.current=ae,Sl(l_,d,te,{discrete:!1})):vy(ae,v.swipeDirection,K)?(C.current=ae,Sl(a_,u,te,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(B)>K||Math.abs(I)>K)&&(x.current=null)}),onPointerUp:Q(e.onPointerUp,j=>{const B=C.current,I=j.target;if(I.hasPointerCapture(j.pointerId)&&I.releasePointerCapture(j.pointerId),C.current=null,x.current=null,B){const N=j.currentTarget,D={originalEvent:j,delta:B};vy(B,v.swipeDirection,v.swipeThreshold)?Sl(u_,y,D,{discrete:!0}):Sl(c_,h,D,{discrete:!0}),N.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),p_=e=>{const{__scopeToast:t,children:n,...r}=e,o=xu(bu,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return v_(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(yu,{asChild:!0,children:p.jsx(wu,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},m_="ToastTitle",TS=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(ge.div,{...r,ref:t})});TS.displayName=m_;var g_="ToastDescription",kS=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(ge.div,{...r,ref:t})});kS.displayName=g_;var AS="ToastAction",DS=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(MS,{altText:n,asChild:!0,children:p.jsx(Zp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${AS}\`. Expected non-empty \`string\`.`),null)});DS.displayName=AS;var RS="ToastClose",Zp=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=f_(RS,n);return p.jsx(MS,{asChild:!0,children:p.jsx(ge.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,o.onClose)})})});Zp.displayName=RS;var MS=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function _S(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),y_(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(..._S(r))}}),t}function Sl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Yp(o,s):o.dispatchEvent(s)}var vy=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function v_(e=()=>{}){const t=st(e);Dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function y_(e){return e.nodeType===e.ELEMENT_NODE}function w_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ad(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var x_=bS,IS=CS,NS=PS,jS=TS,LS=kS,OS=DS,FS=Zp;function $S(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=$S(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function VS(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=$S(e))&&(r&&(r+=" "),r+=t);return r}const yy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wy=VS,Su=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=yy(u)||yy(d);return o[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...y}=u;return Object.entries(y).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...s,...a}[v]):{...s,...a}[v]===b})?[...c,d,h]:c},[]);return wy(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),US=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...S_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:US("lucide",o),...a},[...i.map(([c,u])=>f.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(C_,{ref:s,iconNode:t,className:US(`lucide-${b_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=_e("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=_e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=_e("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=_e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=_e("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=_e("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=_e("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=_e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=_e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=_e("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=_e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=_e("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=_e("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),em="-",K_=e=>{const t=X_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(em);return a[0]===""&&a.length!==1&&a.shift(),YS(a,t)||Y_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},YS=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?YS(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(em);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},xy=/^\[(.+)\]$/,Y_=e=>{if(xy.test(e)){const t=xy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},X_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Z_(Object.entries(e.classGroups),n).forEach(([s,i])=>{fh(i,r,s,t)}),r},fh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:by(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(Q_(o)){fh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{fh(i,by(t,s),n,r)})})},by=(e,t)=>{let n=e;return t.split(em).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Q_=e=>e.isThemeGetter,Z_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,J_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},XS="!",eI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,u=0,d;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(u,b)),u=b+s;continue}if(m==="/"){d=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(u),y=h.startsWith(XS),w=y?h.substring(1):h,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},tI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},nI=e=>({cache:J_(e.cacheSize),parseClassName:eI(e),...K_(e)}),rI=/\s+/,oI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(rI);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let w=!!y,v=r(w?h.substring(0,y):h);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=tI(u).join(":"),m=d?b+XS:b,g=m+v;if(s.includes(g))continue;s.push(g);const x=o(v,w);for(let C=0;C<x.length;++C){const E=x[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function sI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=QS(t))&&(r&&(r+=" "),r+=n);return r}const QS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=QS(e[r]))&&(n&&(n+=" "),n+=t);return n};function iI(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((u,d)=>d(u),e());return n=nI(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=oI(l,n);return o(l,u),u}return function(){return s(sI.apply(null,arguments))}}const Qe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ZS=/^\[(?:([a-z-]+):)?(.+)\]$/i,aI=/^\d+\/\d+$/,lI=new Set(["px","full","screen"]),cI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hr=e=>Is(e)||lI.has(e)||aI.test(e),Nr=e=>hi(e,"length",bI),Is=e=>!!e&&!Number.isNaN(Number(e)),Dd=e=>hi(e,"number",Is),Ri=e=>!!e&&Number.isInteger(Number(e)),pI=e=>e.endsWith("%")&&Is(e.slice(0,-1)),Se=e=>ZS.test(e),jr=e=>cI.test(e),mI=new Set(["length","size","percentage"]),gI=e=>hi(e,mI,JS),vI=e=>hi(e,"position",JS),yI=new Set(["image","url"]),wI=e=>hi(e,yI,CI),xI=e=>hi(e,"",SI),Mi=()=>!0,hi=(e,t,n)=>{const r=ZS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},bI=e=>uI.test(e)&&!dI.test(e),JS=()=>!1,SI=e=>fI.test(e),CI=e=>hI.test(e),EI=()=>{const e=Qe("colors"),t=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),o=Qe("borderColor"),s=Qe("borderRadius"),i=Qe("borderSpacing"),a=Qe("borderWidth"),l=Qe("contrast"),c=Qe("grayscale"),u=Qe("hueRotate"),d=Qe("invert"),h=Qe("gap"),y=Qe("gradientColorStops"),w=Qe("gradientColorStopPositions"),v=Qe("inset"),b=Qe("margin"),m=Qe("opacity"),g=Qe("padding"),x=Qe("saturate"),C=Qe("scale"),E=Qe("sepia"),P=Qe("skew"),k=Qe("space"),A=Qe("translate"),R=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Se,t],$=()=>[Se,t],F=()=>["",hr,Nr],j=()=>["auto",Is,Se],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],N=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",Se],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Is,Se];return{cacheSize:500,separator:":",theme:{colors:[Mi],spacing:[hr,Nr],blur:["none","",jr,Se],brightness:W(),borderColor:[e],borderRadius:["none","","full",jr,Se],borderSpacing:$(),borderWidth:F(),contrast:W(),grayscale:_(),hueRotate:W(),invert:_(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[pI,Nr],inset:L(),margin:L(),opacity:W(),padding:$(),saturate:W(),scale:W(),sepia:_(),skew:W(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[jr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Se]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ri,Se]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Ri,Se]}],"grid-cols":[{"grid-cols":[Mi]}],"col-start-end":[{col:["auto",{span:["full",Ri,Se]},Se]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Mi]}],"row-start-end":[{row:["auto",{span:[Ri,Se]},Se]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,t]}],"min-w":[{"min-w":[Se,t,"min","max","fit"]}],"max-w":[{"max-w":[Se,t,"none","full","min","max","fit","prose",{screen:[jr]},jr]}],h:[{h:[Se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",jr,Nr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dd]}],"font-family":[{font:[Mi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Is,Dd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hr,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hr,Nr]}],"underline-offset":[{"underline-offset":["auto",hr,Se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),vI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[hr,Se]}],"outline-w":[{outline:[hr,Nr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[hr,Nr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",jr,xI]}],"shadow-color":[{shadow:[Mi]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...N(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",jr,Se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ri,Se]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hr,Nr,Dd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PI=iI(EI);function Z(...e){return PI(VS(e))}function TI(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const kI=x_,eC=f.forwardRef(({className:e,...t},n)=>p.jsx(IS,{ref:n,className:Z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eC.displayName=IS.displayName;const AI=Su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(NS,{ref:r,className:Z(AI({variant:t}),e),...n}));tC.displayName=NS.displayName;const DI=f.forwardRef(({className:e,...t},n)=>p.jsx(OS,{ref:n,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));DI.displayName=OS.displayName;const nC=f.forwardRef(({className:e,...t},n)=>p.jsx(FS,{ref:n,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Cu,{className:"h-4 w-4"})}));nC.displayName=FS.displayName;const rC=f.forwardRef(({className:e,...t},n)=>p.jsx(jS,{ref:n,className:Z("text-sm font-semibold",e),...t}));rC.displayName=jS.displayName;const oC=f.forwardRef(({className:e,...t},n)=>p.jsx(LS,{ref:n,className:Z("text-sm opacity-90",e),...t}));oC.displayName=LS.displayName;function RI(){const{toasts:e}=qa();return p.jsxs(kI,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(tC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(rC,{children:n}),r&&p.jsx(oC,{children:r})]}),o,p.jsx(nC,{})]},t)}),p.jsx(eC,{})]})}var MI=W0[" useId ".trim().toString()]||(()=>{}),_I=0;function Fo(e){const[t,n]=f.useState(MI());return Dn(()=>{n(r=>r??String(_I++))},[e]),t?`radix-${t}`:""}const II=["top","right","bottom","left"],fo=Math.min,cn=Math.max,Rc=Math.round,Cl=Math.floor,rr=e=>({x:e,y:e}),NI={left:"right",right:"left",bottom:"top",top:"bottom"},jI={start:"end",end:"start"};function hh(e,t,n){return cn(e,fo(t,n))}function kr(e,t){return typeof e=="function"?e(t):e}function Ar(e){return e.split("-")[0]}function pi(e){return e.split("-")[1]}function tm(e){return e==="x"?"y":"x"}function nm(e){return e==="y"?"height":"width"}function ho(e){return["top","bottom"].includes(Ar(e))?"y":"x"}function rm(e){return tm(ho(e))}function LI(e,t,n){n===void 0&&(n=!1);const r=pi(e),o=rm(e),s=nm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Mc(i)),[i,Mc(i)]}function OI(e){const t=Mc(e);return[ph(e),t,ph(t)]}function ph(e){return e.replace(/start|end/g,t=>jI[t])}function FI(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function $I(e,t,n,r){const o=pi(e);let s=FI(Ar(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(ph)))),s}function Mc(e){return e.replace(/left|right|bottom|top/g,t=>NI[t])}function VI(e){return{top:0,right:0,bottom:0,left:0,...e}}function sC(e){return typeof e!="number"?VI(e):{top:e,right:e,bottom:e,left:e}}function _c(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Sy(e,t,n){let{reference:r,floating:o}=e;const s=ho(t),i=rm(t),a=nm(i),l=Ar(t),c=s==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:u,y:r.y-o.height};break;case"bottom":y={x:u,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:d};break;case"left":y={x:r.x-o.width,y:d};break;default:y={x:r.x,y:r.y}}switch(pi(t)){case"start":y[i]-=h*(n&&c?-1:1);break;case"end":y[i]+=h*(n&&c?-1:1);break}return y}const UI=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Sy(c,r,l),h=r,y={},w=0;for(let v=0;v<a.length;v++){const{name:b,fn:m}=a[v],{x:g,y:x,data:C,reset:E}=await m({x:u,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:y,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,d=x??d,y={...y,[b]:{...y[b],...C}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:u,y:d}=Sy(c,h,l)),v=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:y}};async function ba(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:y=0}=kr(t,e),w=sC(y),b=a[h?d==="floating"?"reference":"floating":d],m=_c(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),g=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},E=_c(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:x,strategy:l}):g);return{top:(m.top-E.top+w.top)/C.y,bottom:(E.bottom-m.bottom+w.bottom)/C.y,left:(m.left-E.left+w.left)/C.x,right:(E.right-m.right+w.right)/C.x}}const BI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=kr(e,t)||{};if(c==null)return{};const d=sC(u),h={x:n,y:r},y=rm(o),w=nm(y),v=await i.getDimensions(c),b=y==="y",m=b?"top":"left",g=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=s.reference[w]+s.reference[y]-h[y]-s.floating[w],E=h[y]-s.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[x]||s.floating[w]);const A=C/2-E/2,R=k/2-v[w]/2-1,M=fo(d[m],R),L=fo(d[g],R),$=M,F=k-v[w]-L,j=k/2-v[w]/2+A,B=hh($,j,F),I=!l.arrow&&pi(o)!=null&&j!==B&&s.reference[w]/2-(j<$?M:L)-v[w]/2<0,N=I?j<$?j-$:j-F:0;return{[y]:h[y]+N,data:{[y]:B,centerOffset:j-B-N,...I&&{alignmentOffset:N}},reset:I}}}),zI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=kr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Ar(o),g=ho(a),x=Ar(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(x||!v?[Mc(a)]:OI(a)),P=w!=="none";!h&&P&&E.push(...$I(a,v,w,C));const k=[a,...E],A=await ba(t,b),R=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(A[m]),d){const j=LI(o,i,C);R.push(A[j[0]],A[j[1]])}if(M=[...M,{placement:o,overflows:R}],!R.every(j=>j<=0)){var L,$;const j=(((L=s.flip)==null?void 0:L.index)||0)+1,B=k[j];if(B)return{data:{index:j,overflows:M},reset:{placement:B}};let I=($=M.filter(N=>N.overflows[0]<=0).sort((N,D)=>N.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(y){case"bestFit":{var F;const N=(F=M.filter(D=>{if(P){const _=ho(D.placement);return _===g||_==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(_=>_>0).reduce((_,V)=>_+V,0)]).sort((D,_)=>D[1]-_[1])[0])==null?void 0:F[0];N&&(I=N);break}case"initialPlacement":I=a;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function Cy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ey(e){return II.some(t=>e[t]>=0)}const qI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=kr(e,t);switch(r){case"referenceHidden":{const s=await ba(t,{...o,elementContext:"reference"}),i=Cy(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ey(i)}}}case"escaped":{const s=await ba(t,{...o,altBoundary:!0}),i=Cy(s,n.floating);return{data:{escapedOffsets:i,escaped:Ey(i)}}}default:return{}}}}};async function HI(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ar(n),a=pi(n),l=ho(n)==="y",c=["left","top"].includes(i)?-1:1,u=s&&l?-1:1,d=kr(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(y=a==="end"?w*-1:w),l?{x:y*u,y:h*c}:{x:h*c,y:y*u}}const WI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await HI(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},GI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:g}=b;return{x:m,y:g}}},...l}=kr(e,t),c={x:n,y:r},u=await ba(t,l),d=ho(Ar(o)),h=tm(d);let y=c[h],w=c[d];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",g=y+u[b],x=y-u[m];y=hh(g,y,x)}if(i){const b=d==="y"?"top":"left",m=d==="y"?"bottom":"right",g=w+u[b],x=w-u[m];w=hh(g,w,x)}const v=a.fn({...t,[h]:y,[d]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[d]:i}}}}}},KI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=kr(e,t),u={x:n,y:r},d=ho(o),h=tm(d);let y=u[h],w=u[d];const v=kr(a,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=h==="y"?"height":"width",C=s.reference[h]-s.floating[x]+b.mainAxis,E=s.reference[h]+s.reference[x]-b.mainAxis;y<C?y=C:y>E&&(y=E)}if(c){var m,g;const x=h==="y"?"width":"height",C=["top","left"].includes(Ar(o)),E=s.reference[d]-s.floating[x]+(C&&((m=i.offset)==null?void 0:m[d])||0)+(C?0:b.crossAxis),P=s.reference[d]+s.reference[x]+(C?0:((g=i.offset)==null?void 0:g[d])||0)-(C?b.crossAxis:0);w<E?w=E:w>P&&(w=P)}return{[h]:y,[d]:w}}}},YI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=kr(e,t),u=await ba(t,c),d=Ar(o),h=pi(o),y=ho(o)==="y",{width:w,height:v}=s.floating;let b,m;d==="top"||d==="bottom"?(b=d,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,b=h==="end"?"top":"bottom");const g=v-u.top-u.bottom,x=w-u.left-u.right,C=fo(v-u[b],g),E=fo(w-u[m],x),P=!t.middlewareData.shift;let k=C,A=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=g),P&&!h){const M=cn(u.left,0),L=cn(u.right,0),$=cn(u.top,0),F=cn(u.bottom,0);y?A=w-2*(M!==0||L!==0?M+L:cn(u.left,u.right)):k=v-2*($!==0||F!==0?$+F:cn(u.top,u.bottom))}await l({...t,availableWidth:A,availableHeight:k});const R=await i.getDimensions(a.floating);return w!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function Eu(){return typeof window<"u"}function mi(e){return iC(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lr(e){var t;return(t=(iC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iC(e){return Eu()?e instanceof Node||e instanceof fn(e).Node:!1}function zn(e){return Eu()?e instanceof Element||e instanceof fn(e).Element:!1}function ir(e){return Eu()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function Py(e){return!Eu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}function Wa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function XI(e){return["table","td","th"].includes(mi(e))}function Pu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function om(e){const t=sm(),n=zn(e)?qn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function QI(e){let t=po(e);for(;ir(t)&&!oi(t);){if(om(t))return t;if(Pu(t))return null;t=po(t)}return null}function sm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oi(e){return["html","body","#document"].includes(mi(e))}function qn(e){return fn(e).getComputedStyle(e)}function Tu(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function po(e){if(mi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Py(e)&&e.host||lr(e);return Py(t)?t.host:t}function aC(e){const t=po(e);return oi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ir(t)&&Wa(t)?t:aC(t)}function Sa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=aC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=fn(o);if(s){const a=mh(i);return t.concat(i,i.visualViewport||[],Wa(o)?o:[],a&&n?Sa(a):[])}return t.concat(o,Sa(o,[],n))}function mh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lC(e){const t=qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ir(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Rc(n)!==s||Rc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function im(e){return zn(e)?e:e.contextElement}function Ns(e){const t=im(e);if(!ir(t))return rr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=lC(t);let i=(s?Rc(n.width):n.width)/r,a=(s?Rc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const ZI=rr(0);function cC(e){const t=fn(e);return!sm()||!t.visualViewport?ZI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fn(e)?!1:t}function Ko(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=im(e);let i=rr(1);t&&(r?zn(r)&&(i=Ns(r)):i=Ns(e));const a=JI(s,n,r)?cC(s):rr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,u=o.width/i.x,d=o.height/i.y;if(s){const h=fn(s),y=r&&zn(r)?fn(r):r;let w=h,v=mh(w);for(;v&&r&&y!==w;){const b=Ns(v),m=v.getBoundingClientRect(),g=qn(v),x=m.left+(v.clientLeft+parseFloat(g.paddingLeft))*b.x,C=m.top+(v.clientTop+parseFloat(g.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=x,c+=C,w=fn(v),v=mh(w)}}return _c({width:u,height:d,x:l,y:c})}function am(e,t){const n=Tu(e).scrollLeft;return t?t.left+n:Ko(lr(e)).left+n}function uC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:am(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function eN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=lr(r),a=t?Pu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=rr(1);const u=rr(0),d=ir(r);if((d||!d&&!s)&&((mi(r)!=="body"||Wa(i))&&(l=Tu(r)),ir(r))){const y=Ko(r);c=Ns(r),u.x=y.x+r.clientLeft,u.y=y.y+r.clientTop}const h=i&&!d&&!s?uC(i,l,!0):rr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function tN(e){return Array.from(e.getClientRects())}function nN(e){const t=lr(e),n=Tu(e),r=e.ownerDocument.body,o=cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+am(e);const a=-n.scrollTop;return qn(r).direction==="rtl"&&(i+=cn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function rN(e,t){const n=fn(e),r=lr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=sm();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function oN(e,t){const n=Ko(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=ir(e)?Ns(e):rr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Ty(e,t,n){let r;if(t==="viewport")r=rN(e,n);else if(t==="document")r=nN(lr(e));else if(zn(t))r=oN(t,n);else{const o=cC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return _c(r)}function dC(e,t){const n=po(e);return n===t||!zn(n)||oi(n)?!1:qn(n).position==="fixed"||dC(n,t)}function sN(e,t){const n=t.get(e);if(n)return n;let r=Sa(e,[],!1).filter(a=>zn(a)&&mi(a)!=="body"),o=null;const s=qn(e).position==="fixed";let i=s?po(e):e;for(;zn(i)&&!oi(i);){const a=qn(i),l=om(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Wa(i)&&!l&&dC(e,i))?r=r.filter(u=>u!==i):o=a,i=po(i)}return t.set(e,r),r}function iN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Pu(t)?[]:sN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=Ty(t,u,o);return c.top=cn(d.top,c.top),c.right=fo(d.right,c.right),c.bottom=fo(d.bottom,c.bottom),c.left=cn(d.left,c.left),c},Ty(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aN(e){const{width:t,height:n}=lC(e);return{width:t,height:n}}function lN(e,t,n){const r=ir(t),o=lr(t),s=n==="fixed",i=Ko(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=rr(0);if(r||!r&&!s)if((mi(t)!=="body"||Wa(o))&&(a=Tu(t)),r){const h=Ko(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=am(o));const c=o&&!r&&!s?uC(o,a):rr(0),u=i.left+a.scrollLeft-l.x-c.x,d=i.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:i.width,height:i.height}}function Rd(e){return qn(e).position==="static"}function ky(e,t){if(!ir(e)||qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return lr(e)===n&&(n=n.ownerDocument.body),n}function fC(e,t){const n=fn(e);if(Pu(e))return n;if(!ir(e)){let o=po(e);for(;o&&!oi(o);){if(zn(o)&&!Rd(o))return o;o=po(o)}return n}let r=ky(e,t);for(;r&&XI(r)&&Rd(r);)r=ky(r,t);return r&&oi(r)&&Rd(r)&&!om(r)?n:r||QI(e)||n}const cN=async function(e){const t=this.getOffsetParent||fC,n=this.getDimensions,r=await n(e.floating);return{reference:lN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uN(e){return qn(e).direction==="rtl"}const dN={convertOffsetParentRelativeRectToViewportRelativeRect:eN,getDocumentElement:lr,getClippingRect:iN,getOffsetParent:fC,getElementRects:cN,getClientRects:tN,getDimensions:aN,getScale:Ns,isElement:zn,isRTL:uN};function hC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fN(e,t){let n=null,r;const o=lr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:y}=c;if(a||t(),!h||!y)return;const w=Cl(d),v=Cl(o.clientWidth-(u+h)),b=Cl(o.clientHeight-(d+y)),m=Cl(u),x={rootMargin:-w+"px "+-v+"px "+-b+"px "+-m+"px",threshold:cn(0,fo(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!hC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return i(!0),s}function hN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=im(e),u=o||s?[...c?Sa(c):[],...Sa(t)]:[];u.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const d=c&&a?fN(c,n):null;let h=-1,y=null;i&&(y=new ResizeObserver(m=>{let[g]=m;g&&g.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let w,v=l?Ko(e):null;l&&b();function b(){const m=Ko(e);v&&!hC(v,m)&&n(),v=m,w=requestAnimationFrame(b)}return n(),()=>{var m;u.forEach(g=>{o&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),d==null||d(),(m=y)==null||m.disconnect(),y=null,l&&cancelAnimationFrame(w)}}const pN=WI,mN=GI,gN=zI,vN=YI,yN=qI,Ay=BI,wN=KI,xN=(e,t,n)=>{const r=new Map,o={platform:dN,...n},s={...o.platform,_c:r};return UI(e,t,{...o,platform:s})};var Xl=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ic(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Ic(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function pC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dy(e,t){const n=pC(e);return Math.round(t*n)/n}function Md(e){const t=f.useRef(e);return Xl(()=>{t.current=e}),t}function bN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=f.useState(r);Ic(h,r)||y(r);const[w,v]=f.useState(null),[b,m]=f.useState(null),g=f.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),x=f.useCallback(D=>{D!==k.current&&(k.current=D,m(D))},[]),C=s||w,E=i||b,P=f.useRef(null),k=f.useRef(null),A=f.useRef(u),R=l!=null,M=Md(l),L=Md(o),$=Md(c),F=f.useCallback(()=>{if(!P.current||!k.current)return;const D={placement:t,strategy:n,middleware:h};L.current&&(D.platform=L.current),xN(P.current,k.current,D).then(_=>{const V={..._,isPositioned:$.current!==!1};j.current&&!Ic(A.current,V)&&(A.current=V,Ba.flushSync(()=>{d(V)}))})},[h,t,n,L,$]);Xl(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const j=f.useRef(!1);Xl(()=>(j.current=!0,()=>{j.current=!1}),[]),Xl(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(M.current)return M.current(C,E,F);F()}},[C,E,F,M,R]);const B=f.useMemo(()=>({reference:P,floating:k,setReference:g,setFloating:x}),[g,x]),I=f.useMemo(()=>({reference:C,floating:E}),[C,E]),N=f.useMemo(()=>{const D={position:n,left:0,top:0};if(!I.floating)return D;const _=Dy(I.floating,u.x),V=Dy(I.floating,u.y);return a?{...D,transform:"translate("+_+"px, "+V+"px)",...pC(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:V}},[n,a,I.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:F,refs:B,elements:I,floatingStyles:N}),[u,F,B,I,N])}const SN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ay({element:r.current,padding:o}).fn(n):{}:r?Ay({element:r,padding:o}).fn(n):{}}}},CN=(e,t)=>({...pN(e),options:[e,t]}),EN=(e,t)=>({...mN(e),options:[e,t]}),PN=(e,t)=>({...wN(e),options:[e,t]}),TN=(e,t)=>({...gN(e),options:[e,t]}),kN=(e,t)=>({...vN(e),options:[e,t]}),AN=(e,t)=>({...yN(e),options:[e,t]}),DN=(e,t)=>({...SN(e),options:[e,t]});var RN="Arrow",mC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(ge.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});mC.displayName=RN;var MN=mC;function lm(e){const[t,n]=f.useState(void 0);return Dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var cm="Popper",[gC,ku]=on(cm),[_N,vC]=gC(cm),yC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(_N,{scope:t,anchor:r,onAnchorChange:o,children:n})};yC.displayName=cm;var wC="PopperAnchor",xC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=vC(wC,n),i=f.useRef(null),a=Re(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(ge.div,{...o,ref:a})});xC.displayName=wC;var um="PopperContent",[IN,NN]=gC(um),bC=f.forwardRef((e,t)=>{var ve,Me,Le,Ve,he,X;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,b=vC(um,n),[m,g]=f.useState(null),x=Re(t,xe=>g(xe)),[C,E]=f.useState(null),P=lm(C),k=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,R=r+(s!=="center"?"-"+s:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],$=L.length>0,F={padding:M,boundary:L.filter(LN),altBoundary:$},{refs:j,floatingStyles:B,placement:I,isPositioned:N,middlewareData:D}=bN({strategy:"fixed",placement:R,whileElementsMounted:(...xe)=>hN(...xe,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[CN({mainAxis:o+A,alignmentAxis:i}),l&&EN({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?PN():void 0,...F}),l&&TN({...F}),kN({...F,apply:({elements:xe,rects:ke,availableWidth:rt,availableHeight:ht})=>{const{width:pt,height:St}=ke.reference,q=xe.floating.style;q.setProperty("--radix-popper-available-width",`${rt}px`),q.setProperty("--radix-popper-available-height",`${ht}px`),q.setProperty("--radix-popper-anchor-width",`${pt}px`),q.setProperty("--radix-popper-anchor-height",`${St}px`)}}),C&&DN({element:C,padding:a}),ON({arrowWidth:k,arrowHeight:A}),h&&AN({strategy:"referenceHidden",...F})]}),[_,V]=EC(I),W=st(w);Dn(()=>{N&&(W==null||W())},[N,W]);const K=(ve=D.arrow)==null?void 0:ve.x,ae=(Me=D.arrow)==null?void 0:Me.y,te=((Le=D.arrow)==null?void 0:Le.centerOffset)!==0,[be,Ce]=f.useState();return Dn(()=>{m&&Ce(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:N?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Ve=D.transformOrigin)==null?void 0:Ve.x,(he=D.transformOrigin)==null?void 0:he.y].join(" "),...((X=D.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(IN,{scope:n,placedSide:_,onArrowChange:E,arrowX:K,arrowY:ae,shouldHideArrow:te,children:p.jsx(ge.div,{"data-side":_,"data-align":V,...v,ref:x,style:{...v.style,animation:N?void 0:"none"}})})})});bC.displayName=um;var SC="PopperArrow",jN={top:"bottom",right:"left",bottom:"top",left:"right"},CC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=NN(SC,r),i=jN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(MN,{...o,ref:n,style:{...o.style,display:"block"}})})});CC.displayName=SC;function LN(e){return e!==null}var ON=e=>({name:"transformOrigin",options:e,fn(t){var b,m,g;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=EC(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,y=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=i?d:`${h}px`,v=`${-l}px`):c==="top"?(w=i?d:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=i?d:`${y}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=i?d:`${y}px`),{data:{x:w,y:v}}}});function EC(e){const[t,n="center"]=e.split("-");return[t,n]}var PC=yC,TC=xC,kC=bC,AC=CC,[Au,Rz]=on("Tooltip",[ku]),Du=ku(),DC="TooltipProvider",FN=700,gh="tooltip.open",[$N,dm]=Au(DC),RC=e=>{const{__scopeTooltip:t,delayDuration:n=FN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx($N,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};RC.displayName=DC;var Ru="Tooltip",[VN,Mu]=Au(Ru),MC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=dm(Ru,e.__scopeTooltip),c=Du(t),[u,d]=f.useState(null),h=Fo(),y=f.useRef(0),w=i??l.disableHoverableContent,v=a??l.delayDuration,b=f.useRef(!1),[m=!1,g]=ar({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(gh))):l.onClose(),s==null||s(k)}}),x=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b.current=!1,g(!0)},[g]),E=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,g(!1)},[g]),P=f.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=!0,g(!0),y.current=0},v)},[v,g]);return f.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),p.jsx(PC,{...c,children:p.jsx(VN,{scope:t,contentId:h,open:m,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{w?E():(window.clearTimeout(y.current),y.current=0)},[E,w]),onOpen:C,onClose:E,disableHoverableContent:w,children:n})})};MC.displayName=Ru;var vh="TooltipTrigger",_C=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Mu(vh,n),s=dm(vh,n),i=Du(n),a=f.useRef(null),l=Re(t,a,o.onTriggerChange),c=f.useRef(!1),u=f.useRef(!1),d=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(TC,{asChild:!0,...i,children:p.jsx(ge.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Q(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Q(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:Q(e.onBlur,o.onClose),onClick:Q(e.onClick,o.onClose)})})});_C.displayName=vh;var UN="TooltipPortal",[Mz,BN]=Au(UN,{forceMount:void 0}),si="TooltipContent",IC=f.forwardRef((e,t)=>{const n=BN(si,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Mu(si,e.__scopeTooltip);return p.jsx(sn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(NC,{side:o,...s,ref:t}):p.jsx(zN,{side:o,...s,ref:t})})}),zN=f.forwardRef((e,t)=>{const n=Mu(si,e.__scopeTooltip),r=dm(si,e.__scopeTooltip),o=f.useRef(null),s=Re(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,u=o.current,{onPointerInTransitChange:d}=r,h=f.useCallback(()=>{a(null),d(!1)},[d]),y=f.useCallback((w,v)=>{const b=w.currentTarget,m={x:w.clientX,y:w.clientY},g=KN(m,b.getBoundingClientRect()),x=YN(m,g),C=XN(v.getBoundingClientRect()),E=ZN([...x,...C]);a(E),d(!0)},[d]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&u){const w=b=>y(b,u),v=b=>y(b,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,y,h]),f.useEffect(()=>{if(i){const w=v=>{const b=v.target,m={x:v.clientX,y:v.clientY},g=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),x=!QN(m,i);g?h():x&&(h(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,i,c,h]),p.jsx(NC,{...e,ref:s})}),[qN,HN]=Au(Ru,{isInside:!1}),WN=gS("TooltipContent"),NC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Mu(si,n),c=Du(n),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener(gh,u),()=>document.removeEventListener(gh,u)),[u]),f.useEffect(()=>{if(l.trigger){const d=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(Ha,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(kC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(WN,{children:r}),p.jsx(qN,{scope:n,isInside:!0,children:p.jsx(n_,{id:l.contentId,role:"tooltip",children:o||r})})]})})});IC.displayName=si;var jC="TooltipArrow",GN=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Du(n);return HN(jC,n).isInside?null:p.jsx(AC,{...o,...r,ref:t})});GN.displayName=jC;function KN(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YN(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function XN(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function QN(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function ZN(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),JN(t)}function JN(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var ej=RC,tj=MC,nj=_C,LC=IC;const OC=ej,rj=tj,oj=nj,FC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(LC,{ref:r,sideOffset:t,className:Z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));FC.displayName=LC.displayName;const fm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Z("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));fm.displayName="Card";const sj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));sj.displayName="CardHeader";const ij=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));ij.displayName="CardTitle";const aj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));aj.displayName="CardDescription";const hm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Z("p-6 pt-0",e),...t}));hm.displayName="CardContent";const lj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Z("flex items-center p-6 pt-0",e),...t}));lj.displayName="CardFooter";function cj(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(fm,{className:"w-full max-w-md mx-4",children:p.jsxs(hm,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(HS,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const pm=Su("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Be=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?jM:"button";return p.jsx(i,{className:Z(pm({variant:t,size:n,className:e})),ref:s,...o})});Be.displayName="Button";const S={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...e)},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...e)},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...e)}},uj="401z949o3txi3r0",_d="/Photos",js="/Metadata",dj="images.json";function $C(e,t){const n=(t+1).toString().padStart(2,"0");return`${e}-${n}-entries.json`}const VC=js.startsWith("/")?js.replace("//","/"):`/${js}`.replace("//","/"),UC=`${VC}/${dj}`.replace("//","/");function BC(e,t){const n=$C(e,t);return`${VC}/${n}`.replace("//","/")}function Dr(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function zC(e){var t;if(Dr(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function qC(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}async function HC(e,t,n){let r=null;try{S.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return S.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return S.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return S.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const u=c;if(l[u])try{l[u]=new Date(l[u]),isNaN(l[u].getTime())&&(S.warn(`Parsed invalid date for field ${String(c)}:`,a[u]),l[u]=new Date(0))}catch(d){S.warn(`Failed parse date field ${String(c)}:`,l[u],d),l[u]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[u]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return S.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(zC(o))return S.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw Dr(o)?S.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):S.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function WC(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const u=c;l[u]instanceof Date?isNaN(l[u].getTime())?(S.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[u]=null):l[u]=l[u].toISOString():(l[u]===null||l[u]===void 0)&&(l[u]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});S.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),S.log(`${t} saved successfully.`)}catch(o){throw Dr(o)?S.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):S.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function fj(e,t,n){const r=BC(t,n);return S.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),HC(e,r,["createdAt","updatedAt"])}async function hj(e){return HC(e,UC,["createdAt"])}async function Id(e,t,n,r){const o=BC(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()===n}catch{return!1}});if(s.length===0){S.log(`No valid entries for ${t}-${n+1}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),S.log(`Deleted empty entries file: ${o}`)}catch(i){Dr(i)&&qC(i.error,"not_found")?S.log(`Empty entries file ${o} does not exist. No deletion needed.`):Dr(i)?S.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):S.error(`Non-API Error deleting ${o}:`,i)}return}await WC(e,o,s,["createdAt","updatedAt"])}async function Ry(e,t){await WC(e,UC,t,["createdAt"])}async function pj(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");S.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return S.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw S.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw Dr(i)?S.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):S.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function mj(e,t,n){if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return S.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),S.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(i){return Dr(i)&&qC(i.error,"not_found")?(S.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):(Dr(i)?S.error(`Dropbox API Error deleting photo ${s}: Status ${i.status}`,i.error):S.error(`Non-API Error deleting photo ${s}:`,i),!1)}}function gj(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function vj(e){try{const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return gj(n)}catch(t){throw S.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const Nd="PhojoCacheDB",My=2,Ls="entries",Os="imageMetadata",$o="photoBlobs",Vo="cacheStatus",Uo="saveQueue";let yn=null;function GC(){return new Promise((e,t)=>{if(yn&&yn.objectStoreNames.length>0){e(yn);return}S.log(`[IDB] Opening database ${Nd} version ${My}...`);const n=indexedDB.open(Nd,My);n.onerror=r=>{var o;S.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{S.log(`[IDB] Database ${Nd} opened successfully.`),yn=n.result,yn.onclose=()=>{S.warn("[IDB] Database connection closed unexpectedly."),yn=null},yn.onversionchange=()=>{S.warn("[IDB] Database version change detected. Closing connection."),yn==null||yn.close(),yn=null},e(yn)},n.onupgradeneeded=r=>{S.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result;o.objectStoreNames.contains(Ls)||(o.createObjectStore(Ls),S.log(`[IDB] Object store created: ${Ls}`)),o.objectStoreNames.contains(Os)||(o.createObjectStore(Os),S.log(`[IDB] Object store created: ${Os}`)),o.objectStoreNames.contains($o)||(o.createObjectStore($o),S.log(`[IDB] Object store created: ${$o}`)),o.objectStoreNames.contains(Vo)||(o.createObjectStore(Vo).createIndex("lastAccessed","lastAccessed",{unique:!1}),S.log(`[IDB] Object store created: ${Vo} with index 'lastAccessed'`)),o.objectStoreNames.contains(Uo)||(o.createObjectStore(Uo,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),S.log(`[IDB] Object store created: ${Uo} with index 'timestamp'`)),S.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{S.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function gi(e,t,n){const r=await GC();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{S.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{S.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{S.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){S.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function Yo(e,t,n){await gi(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),S.log(`[IDB] Data put successful for key '${t}' in store '${e}'.`)}async function mm(e,t){return gi(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>{r(s.result)},s.onerror=()=>{S.error(`[IDB] Data get failed for key '${t}' in store '${e}':`,s.error),o(s.error)}}))}async function Ca(e,t){await gi(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),S.log(`[IDB] Data delete successful for key '${t}' in store '${e}'.`)}async function yj(e){return gi(Vo,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,u=l.value;i.push({key:c,lastAccessed:u.lastAccessed,type:u.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{S.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){S.error("[IDB] Error setting up index query:",o),r(o)}}))}const _y=e=>mm(Ls,e),wj=(e,t)=>Yo(Ls,e,{data:t,timestamp:Date.now()}),xj=e=>Ca(Ls,e),Iy=()=>mm(Os,"singleton"),bj=e=>Yo(Os,"singleton",{data:e,timestamp:Date.now()}),Sj=()=>Ca(Os,"singleton"),Or=e=>mm($o,e),bo=async(e,t,n)=>{const r=Date.now();await Yo($o,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await Yo(Vo,e,{lastAccessed:r,size:t.size,type:n})},bs=async e=>{await Ca($o,e),await Ca(Vo,e)},El=async e=>{const t=await Or(e);if(t){const n=Date.now(),r={...t,lastAccessed:n};await Yo($o,e,r);const o={lastAccessed:n,size:t.blob.size,type:t.type};await Yo(Vo,e,o)}else S.warn(`[IDB] Tried to update access time for non-existent blob hash: ${e}`)},Ql=async()=>gi(Uo,"readonly",e=>new Promise((t,n)=>{const o=e.index("timestamp").openCursor(),s=[];o.onsuccess=i=>{const a=i.target.result;a?(s.push(a.value),a.continue()):t(s)},o.onerror=()=>{S.error("[IDB] Error querying actions from save queue:",o.error),n(o.error)}})),Ny=async e=>gi(Uo,"readwrite",t=>new Promise((n,r)=>{const o=t.put(e);o.onsuccess=()=>n(),o.onerror=()=>{S.error("[IDB] Failed to add queued action:",o.error),r(o.error)}})),Cj=async e=>Ca(Uo,e),Ej=async e=>Yo(Uo,e.id,e);GC().catch(e=>S.error("[IDB] Initial DB open failed:",e));const KC=.8,Pj=.7,Tj=10;async function yh(){try{if(!navigator.storage||!navigator.storage.estimate)return S.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return S.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return S.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return S.error("[StorageMgr] Error getting storage estimate:",e),null}}async function jy(e,t=!0){try{const n=await yj(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return S.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function wh(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await jy(e);return o.length>0?(S.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>bs(s))),o.length):0}const r=await yh();if(!r||r.usagePercentage<KC)return S.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await jy(Tj);if(o.length===0){S.log("[StorageMgr] No more blobs to prune");break}S.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>bs(i))),t+=o.length;const s=await yh();!s||s.usagePercentage<=Pj?(S.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(S.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return S.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return S.error("[StorageMgr] Error during pruning:",t),0}}async function jd(){try{const e=await yh();if(!e)return;if(e.usagePercentage>=KC){S.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await wh();S.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){S.error("[StorageMgr] Error in automatic pruning check:",e)}}async function Ld(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const u=c.getContext("2d");if(!u){r(new Error("Failed to get canvas context"));return}u.imageSmoothingQuality="high",u.drawImage(o,0,0,i,a),c.toBlob(d=>{d?(S.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(d)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){S.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}const Od=5*60*1e3,Pl=js.startsWith("/")?js.replace("//","/"):`/${js}`.replace("//","/"),Ly=e=>e.isNew===!0;class Zr{constructor(){this.urlMap=new Map}static getInstance(){return Zr.instance||(Zr.instance=new Zr),Zr.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),S.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){S.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){S.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){S.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){S.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}class kj{constructor(t){this.blobUrlManager=Zr.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.dbx=t}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);await xj(r),this.invalidateFolderListCache(Pl),S.log(`[Cache] Invalidated IDB entries for ${r}`)}async invalidateImagesMetadataCache(){await Sj(),this.invalidateFolderListCache(Pl),S.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),S.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<Od?(S.log(`[MemCache] Hit folder list for ${t}`),n.data):(S.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),S.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){S.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(S.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(S.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;S.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),S.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(zC(r))return S.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw Dr(r)?S.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):S.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){S.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(Pl)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return S.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return S.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);S.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await _y(o);if(s){const i=Date.now()-s.timestamp<Od;if(!r||i)return S.log(`[Cache] Using ${r?"fresh":"offline"} IDB entries for ${o}`),this.parseEntryDates(s.data);S.log(`[Cache] Stale IDB entries for ${o}. Will fetch from Dropbox.`)}else if(S.log(`[Cache] No IDB entries found for ${o}.`),!r)return S.warn(`[Cache] Offline and no cache for ${o}. Returning empty.`),[];if(r&&this.dbx){S.log(`[Dropbox] Fetching entries for ${o}...`);const i=$C(t,n),l=(await this.listFolder(Pl)).some(d=>d[".tag"]==="file"&&d.name===i);let c=[];if(!l)S.log(`[Dropbox] File ${i} does not exist. Caching empty array.`);else{const d=await fj(this.dbx,t,n);c=this.parseEntryDates(d),S.log(`[Dropbox] Fetched ${c.length} entries for ${o}.`)}const u=[...c].sort((d,h)=>new Date(d.date).getTime()-new Date(h.date).getTime()||d.createdAt.getTime()-h.createdAt.getTime());return S.log(`[Cache] Storing fetched/sorted entries for ${o} in IDB.`),await wj(o,u),u}else if(r&&!this.dbx){if(S.error(`[Client] Cannot fetch entries for ${o}: Online but Dropbox client not available.`),s)return this.parseEntryDates(s.data);throw new Error("Cannot fetch entries: Dropbox client not initialized.")}}catch(s){S.error(`[Client] Error fetching entries for ${o}:`,s);const i=await _y(o).catch(()=>{});if(i)return S.warn(`[Cache] Fetch failed, falling back to stale cache for ${o}.`),this.parseEntryDates(i.data);throw s}return[]}async fetchImagesMetadata(t){S.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await Iy();if(n){const r=Date.now()-n.timestamp<Od;if(!t||r)return S.log(`[Cache] Using ${t?"fresh":"offline"} IDB metadata.`),this.parseMetadataDates(n.data);S.log("[Cache] Stale IDB metadata. Will fetch from Dropbox.")}else if(S.log("[Cache] No IDB metadata found."),!t)return S.warn("[Cache] Offline and no metadata cache. Returning empty."),[];if(t&&this.dbx){S.log("[Dropbox] Fetching image metadata...");const r=await hj(this.dbx),o=this.parseMetadataDates(r).map(s=>({...s,usageCount:typeof s.usageCount=="number"?s.usageCount:0}));return S.log(`[Dropbox] Fetched ${o.length} metadata entries.`),S.log("[Cache] Storing fetched metadata in IDB."),await bj(o),o}else if(t&&!this.dbx){if(S.error("[Client] Cannot fetch metadata: Online but Dropbox client not available."),n)return this.parseMetadataDates(n.data);throw new Error("Cannot fetch metadata: Dropbox client not initialized.")}}catch(n){S.error("[Client] Error fetching image metadata:",n);const r=await Iy().catch(()=>{});if(r)return S.warn("[Cache] Metadata fetch failed, falling back to stale cache."),this.parseMetadataDates(r.data);throw n}return[]}async getPhotoThumbnailUrl(t,n,r){if(!t)return S.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return El(o).catch(a=>S.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Or(o);if(a)return S.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await El(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Or(t);if(l){S.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await Ld(l.blob);return S.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await bo(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return S.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){S.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return S.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Or(t);if(a){S.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await Ld(a.blob);return S.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await bo(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return S.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return S.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return El(t).catch(s=>S.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Or(t);if(s)return S.log(`[Cache] Found blob in IDB for hash ${t}.`),await El(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){S.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return S.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return S.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;S.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(d=>{var h;return((h=d.photoMetadata)==null?void 0:h.contentHash)===t});if(!(i!=null&&i.photoFilename))return S.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${_d}/${a}`.replace("//","/");S.log(`[Dropbox] Downloading blob for file: ${l}`);const u=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!u)return S.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;S.log(`[Cache] Caching fetched blob for hash ${t}. Size: ${u.size}`);try{return await bo(t,u,"full"),this.generateThumbnailInBackground(t,u),this.blobUrlManager.createUrl(t,u)}catch(d){if(d instanceof DOMException&&d.name==="QuotaExceededError"){S.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{return await wh(10),await bo(t,u,"full"),this.generateThumbnailInBackground(t,u),this.blobUrlManager.createUrl(t,u)}catch(h){return S.error(`[Cache] Failed to prune and retry caching for ${t}:`,h),this.blobUrlManager.createUrl(t,u)}}else return S.error(`[Cache] Error caching blob for hash ${t}:`,d),this.blobUrlManager.createUrl(t,u)}}catch(s){return S.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var R,M,L,$;if(S.log(`[Client] saveEntry called. Edit mode: ${!!n}. Online: ${r}`),!this.dbx)throw S.error("[Client saveEntry] Cannot save: Dropbox client not available."),new Error("Dropbox client not available. Cannot save entry.");if(!t.date)throw new Error("Entry date is missing.");if(!r)throw new Error("Cannot save entry while offline.");let o=await this.fetchImagesMetadata(r),s=!1;const i=[],a=!!n,l=new Map,c=new Set((n==null?void 0:n.photos.map(F=>F.photoId))??[]),u=[];a&&c.forEach(F=>{t.photos.some(B=>!Ly(B)&&B.photoId===F)||(l.set(F,(l.get(F)??0)-1),s=!0,S.log(`[Save] Photo ${F} marked for removal (usage change -1)`))});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),h=d.getUTCFullYear(),y=d.getUTCMonth();let w=null,v=null;if(n){const F=new Date(n.date+"T00:00:00Z");w=F.getUTCFullYear(),v=F.getUTCMonth()}const b=a&&(h!==w||y!==v);for(const F of t.photos){let j=null,B,I=null,N=!1;if(Ly(F)){const D=F.file;B=F.crop,I=await vj(D);const _=o.find(V=>{var W;return((W=V.photoMetadata)==null?void 0:W.contentHash)===I});if(_)j=_.id,S.log(`[Save] Hash collision for ${D.name}. Using existing ID: ${j}`),c.has(j)||(N=!0),await Or(I)||u.push({hash:I,blob:D});else{S.log(`[Save] Uploading new photo: ${D.name}`);const V=Date.now(),W=crypto.randomUUID().substring(0,8),K=D.name.replace(/[^a-zA-Z0-9.]/g,"_"),ae=`${V}_${W}_${K}`,te={id:crypto.randomUUID(),photoFilename:ae,photoMetadata:{filename:D.name,mimeType:D.type,width:(R=F.originalDimensions)==null?void 0:R.width,height:(M=F.originalDimensions)==null?void 0:M.height,exifDate:((L=F.exifData)==null?void 0:L.exifDate)??null,contentHash:I},createdAt:new Date,usageCount:0};await pj(this.dbx,_d,D,ae),j=te.id,o.push(te),s=!0,N=!0,u.push({hash:I,blob:D}),S.log(`[Save] New photo uploaded. ID: ${j}, Hash: ${I}`)}}else{j=F.photoId,B=F.crop;const D=o.find(_=>_.id===j);I=(($=D==null?void 0:D.photoMetadata)==null?void 0:$.contentHash)??null,(!a||!c.has(j))&&(N=!0),I&&(await Or(I)||S.warn(`[Save] Existing photo blob missing from cache for hash: ${I} (ID: ${j})`)),S.log(`[Save] Keeping existing photo ID: ${j}. Is addition? ${N}. Hash: ${I}`)}j&&(i.push({photoId:j,crop:B}),N&&(l.set(j,(l.get(j)??0)+1),s=!0))}l.size>0&&(S.log("[Save] Applying usage count changes:",Object.fromEntries(l)),o=o.map(F=>{const j=l.get(F.id);if(j!==void 0&&j!==0){const B=Math.max(0,(F.usageCount??0)+j);if(B!==(F.usageCount??0))return s=!0,{...F,usageCount:B}}return F}));const m=t.date.toISOString().split("T")[0],g=new Date;let x;n?x={...n,date:m,content:t.content,photos:i,updatedAt:g}:x={id:crypto.randomUUID(),date:m,content:t.content,photos:i,createdAt:g,updatedAt:g};const C=[],E=await this.fetchEntriesForMonth(h,y,r);let P;const k=E.findIndex(F=>F.id===x.id);if(k!==-1?P=[...E.slice(0,k),x,...E.slice(k+1)]:P=[...E.filter(F=>F.id!==x.id),x],P.sort((F,j)=>new Date(F.date).getTime()-new Date(j.date).getTime()||F.createdAt.getTime()-j.createdAt.getTime()),C.push(Id(this.dbx,h,y,P).then(()=>this.invalidateEntriesCache(h,y))),b&&w!==null&&v!==null){const F=await this.fetchEntriesForMonth(w,v,r),j=F.filter(B=>B.id!==x.id);j.length<F.length&&C.push(Id(this.dbx,w,v,j).then(()=>this.invalidateEntriesCache(w,v)))}const A=o.filter(F=>(F.usageCount??0)>0);s&&(S.log(`[Save] Saving ${A.length} metadata entries.`),C.push(Ry(this.dbx,A).then(()=>this.invalidateImagesMetadataCache()))),await Promise.all(C),S.log("[Save] Dropbox save promises resolved."),u.length>0&&(S.log(`[Cache] Caching ${u.length} new blobs in IDB...`),await Promise.all(u.map(F=>bo(F.hash,F.blob,"full"))),S.log("[Cache] Finished caching new blobs.")),s&&await this.cleanupOrphanedPhotos(o),S.log("[Save] saveEntry completed.")}async deleteEntry(t,n,r,o){if(S.log(`[Client] deleteEntry called for ID: ${t}. Online: ${o}`),!this.dbx)throw S.error("[Client deleteEntry] Cannot delete: Dropbox client not available."),new Error("Dropbox client not available. Cannot delete entry.");if(!o)throw new Error("Cannot delete entry while offline.");let s=await this.fetchImagesMetadata(o);const i=new Map;let a=!1;const l=[],c=await this.fetchEntriesForMonth(n,r,o),u=c.find(b=>b.id===t);if(!u)throw S.error(`[Delete] Entry ${t} not found in ${n}-${r+1}. Cannot delete.`),await this.invalidateEntriesCache(n,r),new Error(`Entry with ID ${t} not found in specified month.`);(u.photos||[]).forEach(b=>{var x;i.set(b.photoId,(i.get(b.photoId)??0)-1);const m=s.find(C=>C.id===b.photoId),g=(x=m==null?void 0:m.photoMetadata)==null?void 0:x.contentHash;g&&l.push(g),S.log(`[Delete] Photo ${b.photoId} marked for usage change -1. Hash: ${g}`)}),i.size>0&&(s=s.map(b=>{const m=i.get(b.id);if(m!==void 0){const g=Math.max(0,(b.usageCount??0)+m);if(g!==(b.usageCount??0))return a=!0,{...b,usageCount:g}}return b}));const d=c.filter(b=>b.id!==t),h=[];h.push(Id(this.dbx,n,r,d).then(()=>this.invalidateEntriesCache(n,r)));const y=s.filter(b=>(b.usageCount??0)>0);a&&(S.log(`[Delete] Saving ${y.length} metadata entries after delete.`),h.push(Ry(this.dbx,y).then(()=>this.invalidateImagesMetadataCache()))),await Promise.all(h),S.log("[Delete] Dropbox save promises resolved."),a&&await this.cleanupOrphanedPhotos(s);const w=a?y:s,v=l.map(async b=>{const m=w.find(g=>{var x;return((x=g.photoMetadata)==null?void 0:x.contentHash)===b});!m||(m.usageCount??0)<=0?(S.log(`[Delete] Deleting blob from cache for hash: ${b}`),await bs(b),await bs(`${b}-thumb`),this.blobUrlManager.revokeUrl(b),this.blobUrlManager.revokeUrl(`${b}-thumb`)):S.log(`[Delete] Keeping blob in cache for hash: ${b} (Usage: ${m.usageCount})`)});await Promise.all(v),S.log(`[Delete] Entry ${t} deleted successfully.`)}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Or(r)){S.log(`[Background] Thumbnail already exists for hash ${t}.`);return}S.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await Ld(n);S.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await bo(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){S.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await wh(10),await bo(r,s,"thumb"),S.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){S.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else S.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){S.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){S.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}const n=t.filter(r=>(r.usageCount??0)<=0);if(n.length>0){S.log(`[Cleanup] Found ${n.length} photos with usage count <= 0 based on current state. Attempting deletion.`);const r=n.map(async o=>{var s;if(o.photoFilename)try{if(S.log(`[Cleanup] Deleting orphaned photo file: ${o.photoFilename} (ID: ${o.id})`),await mj(this.dbx,o.photoFilename,_d)){S.log(`[Cleanup] Successfully deleted file ${o.photoFilename}`);const a=(s=o.photoMetadata)==null?void 0:s.contentHash;a&&(await bs(a),await bs(`${a}-thumb`),this.blobUrlManager.revokeUrl(a),this.blobUrlManager.revokeUrl(`${a}-thumb`))}}catch(i){S.error(`[Cleanup] Error deleting orphaned photo file ${o.photoFilename}:`,i)}else S.warn(`[Cleanup] Cannot delete photo ID ${o.id}, filename missing.`)});await Promise.all(r),S.log("[Cleanup] Orphaned photo file deletion attempt complete.")}else S.log("[Cleanup] No photos with usage count <= 0 found in current state.")}triggerPrefetch(t,n,r){if(!r){S.log("[Prefetch] Skipping prefetch while offline.");return}S.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){S.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(u=>S.error(`[Prefetch] Failed for entries ${l}:`,u)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){S.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>S.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}class Aj{constructor(t){this.isSyncing=!1,this.syncPromise=null,this.photoClient=t}async queueSaveEntry(t,n,r,o){const s=crypto.randomUUID(),i={id:s,type:n?"update":"create",entryData:{...n,date:t.date.toISOString().split("T")[0],content:t.content,photos:t.photos,updatedAt:new Date,...n?{}:{id:crypto.randomUUID(),createdAt:new Date}},year:r,month:o,timestamp:Date.now()};return S.log(`[SyncManager] Queuing ${i.type} action for entry with date ${t.date.toISOString().split("T")[0]}`),await Ny(i),s}async queueDeleteEntry(t,n,r,o){const s=crypto.randomUUID(),i={id:s,type:"delete",entryId:t,entryData:n,year:r,month:o,timestamp:Date.now()};return S.log(`[SyncManager] Queuing delete action for entry ${t}`),await Ny(i),s}async processQueue(){if(this.isSyncing&&this.syncPromise)return S.log("[SyncManager] Sync already in progress, returning existing promise"),this.syncPromise;this.isSyncing=!0,this.syncPromise=this._processQueueInternal();try{await this.syncPromise}finally{this.isSyncing=!1,this.syncPromise=null}}async _processQueueInternal(){S.log("[SyncManager] Starting to process action queue");const t=await Ql();if(t.length===0){S.log("[SyncManager] No actions in queue to process");return}S.log(`[SyncManager] Processing ${t.length} queued actions`);for(const n of t)try{await this.processAction(n),await Cj(n.id),S.log(`[SyncManager] Successfully processed and removed action ${n.id}`)}catch(r){const o={...n,retryCount:(n.retryCount||0)+1,lastError:r instanceof Error?r.message:String(r)};await Ej(o),S.error(`[SyncManager] Failed to process action ${n.id}:`,r),(o.type==="create"||o.type==="update")&&o.retryCount>=3&&S.warn(`[SyncManager] Max retries reached for action ${n.id}, keeping in queue`)}S.log("[SyncManager] Finished processing action queue")}async processAction(t){switch(S.log(`[SyncManager] Processing action ${t.id} of type ${t.type}`),t.type){case"create":case"update":if(!t.entryData)throw new Error(`Missing entry data for ${t.type} action`);const n={date:new Date(t.entryData.date+"T00:00:00Z"),content:t.entryData.content,photos:t.entryData.photos||[]},r=t.type==="update"?t.entryData:null;await this.photoClient.saveEntry(n,r,!0);break;case"delete":if(!t.entryId)throw new Error("Missing entry ID for delete action");await this.photoClient.deleteEntry(t.entryId,t.year,t.month,!0);break;default:throw new Error(`Unknown action type: ${t.type}`)}}async hasPendingActions(){return(await Ql()).length>0}async getPendingActionCount(){return(await Ql()).length}}var Dj="rpc",Rj="upload",Mj="download",Fd="app",$d="user",Vd="team",_j="noauth",Ij="cookie",Nc="dropboxapi.com",Oy="dropbox.com",xh={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function Nj(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Ud=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Nc&&xh[t]!==void 0&&(t=xh[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},jj=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oy;return t!==Oy&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Fy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Nc&&(r=xh[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function $y(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,Nj)}function Lj(e){return new Date(Date.now()+e*1e3)}function Vy(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof Xk>"u"||typeof window<"u"}function Bd(){return typeof window<"u"}function zd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Tl(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function Zl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zl=function(n){return typeof n}:Zl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zl(e)}function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}function $j(e){var t=YC();return function(){var r=Pa(e),o;if(t){var s=Pa(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return Vj(this,o)}}function Vj(e,t){return t&&(Zl(t)==="object"||typeof t=="function")?t:Uj(e)}function Uj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bh(e){var t=typeof Map=="function"?new Map:void 0;return bh=function(r){if(r===null||!Bj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Jl(r,arguments,Pa(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ea(o,r)},bh(e)}function Jl(e,t,n){return YC()?Jl=Reflect.construct:Jl=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Ea(c,i.prototype),c},Jl.apply(null,arguments)}function YC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Bj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ea(e,t){return Ea=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ea(e,t)}function Pa(e){return Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pa(e)}var zj=function(e){Fj(n,e);var t=$j(n);function n(r,o,s){var i;return Oj(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(bh(Error));function qj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var XC=function e(t,n,r){qj(this,e),this.status=t,this.headers=n,this.result=r};function QC(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new zj(e.status,e.headers,n)})}function jc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new XC(e.status,e.headers,n)}):QC(e)}function Hj(e){return e.ok?new Promise(function(t){Vy()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Vy()?n.fileBlob=t:n.fileBinary=t,new XC(e.status,e.headers,n)}):QC(e)}function Wj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kj(e,t,n){return t&&Gj(e.prototype,t),e}var kl,So,qd,Yj=300*1e3,Uy=128,Xj=["legacy","offline","online"],Qj=["code","token"],Zj=["none","user","team"],ZC=function(){function e(t){Wj(this,e),t=t||{},Bd()?(kl=window.fetch.bind(window),So=window.crypto||window.msCrypto):zd()?(kl=self.fetch.bind(self),So=self.crypto):(kl=require("node-fetch"),So=require("crypto")),typeof TextEncoder>"u"?qd=require("util").TextEncoder:qd=TextEncoder,this.fetch=t.fetch||kl,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return Kj(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new qd,o=r.encode(this.codeVerifier),s;if(Bd()||zd())return So.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=Tl(l).substr(0,128),n.codeChallenge=s});var i=So.createHash("sha256").update(o).digest();return s=Tl(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Bd()||zd()){var r=new Uint8Array(Uy),o=So.getRandomValues(r),s=btoa(o);n=Tl(s).substr(0,128)}else{var i=So.randomBytes(Uy);n=Tl(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,u=this.getClientId(),d=jj(this.domain);if(!u)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!Qj.includes(s))throw new Error("Authorization type must be code or token");if(i&&!Xj.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!Zj.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(d,"?response_type=code&client_id=").concat(u):h="".concat(d,"?response_type=token&client_id=").concat(u),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Fy(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return jc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+Yj)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Fy(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return jc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(Lj(c.result.expires_in))})}}]),e}();function Jj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t2(e,t,n){return t&&e2(e.prototype,t),e}var n2=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,By=function(){function e(t){Jj(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new ZC(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return t2(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case Dj:return this.rpcRequest(n,r,o,s);case Mj:return this.downloadRequest(n,r,o,s);case Rj:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Ud(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return jc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":$y(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Ud(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Hj(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":$y(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Ud(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return jc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes($d)&&this.auth.getAccessToken()?n=$d:o.includes(Vd)&&this.auth.getAccessToken()?n=Vd:o.includes(Fd)&&(n=Fd)}switch(n){case Fd:if(this.auth.clientId&&this.auth.clientSecret){var s=n2("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Vd:case $d:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case _j:case Ij:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function r2(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function o2(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[u,d]=f.useState(null),h=f.useCallback(()=>{S.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new ZC({clientId:uj}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(g=>{S.log("Generated auth URL, redirecting..."),window.location.href=String(g)}).catch(g=>{S.error("Dropbox auth URL generation failed:",g),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){S.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{S.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),d(null),c(null),h()},[h]);const y=f.useCallback((b,m=!1)=>{S.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(S.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(S.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const g=new By({accessToken:b});let x=!0;return g.usersGetCurrentAccount().then(C=>{if(!x)return;const E=C.result;t(g),r(!0),d(E),c(null),S.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(x)if(S.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),d(null),r2(C))S.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{S.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{x&&(S.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{x=!1}},[n]);f.useEffect(()=>{S.log("[useDropboxAuth useEffect] Running effect.");let b,g=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const x=localStorage.getItem("dropboxToken");let C=null;return g?(S.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",g),C=g,S.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):x&&(S.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=x),C?b=y(C,!1):(S.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),d(null),c(null),s(!1)),()=>{b==null||b(),S.log("[useDropboxAuth useEffect] Cleanup.")}},[y]);const w=f.useCallback(()=>{S.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?y(b,!0):S.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,y]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:u,handleDropboxAuthRedirect:h,logout:()=>{S.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),d(null),c(null),s(!1),a(!1),b&&new By({accessToken:b}).authTokenRevoke().then(()=>S.log("Dropbox token revoked successfully.")).catch(g=>S.error("Failed to revoke Dropbox token:",g))},tryVerifyStoredToken:w}}function s2(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),u=f.useCallback((m,g)=>{const x=new Date(g,m),C=new Date(o,n);x>C?a(1):x<C?a(-1):a(0),r(m),s(g)},[n,o]),d=f.useCallback(()=>{let m=n,g=o;m===0?(g--,m=11):m--,u(m,g)},[n,o,u]),h=f.useCallback(()=>{let m=n,g=o;m===11?(g++,m=0):m++,u(m,g)},[n,o,u]),y=f.useCallback((m,g)=>{u(m,g),c(!1)},[u]),w=f.useCallback(m=>{m>0?h():m<0&&d()},[h,d]),v=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:d,goToNextMonth:h,handleMonthYearSelect:y,handleCalendarSwipe:w,openMonthYearPicker:v,closeMonthYearPicker:b,setSwipeDirection:a}}function i2(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),u=f.useCallback((w,v)=>{s(w),r(v),a(!1),t(!0)},[]),d=f.useCallback(w=>{c(w),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),y=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:u,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:d,closeDeleteDialog:y}}const Hd=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Sh=()=>{const t=f.useRef(Math.random().toString(36).substring(2,7)).current;S.log(`[useHashLocation ${t}] Hook running/re-rendering.`);const[n,r]=f.useState(Hd());f.useEffect(()=>{const s=()=>{const i=Hd();S.log(`[useHashLocation ${t}] Hashchange event detected. Old path: "${n}", New path: "${i}"`),i!==n&&r(i)};return S.log(`[useHashLocation ${t}] Adding hashchange listener.`),window.addEventListener("hashchange",s),()=>{S.log(`[useHashLocation ${t}] Removing hashchange listener.`),window.removeEventListener("hashchange",s)}},[t,n]);const o=f.useCallback((s,{replace:i=!1}={})=>{S.log(`[useHashLocation ${t}] Redefining navigate function.`);const l=`#${s.startsWith("/")?s:`/${s}`}`,c=window.location.hash||"#/";if(S.log(`[useHashLocation ${t}] Navigate called. To: "${s}", TargetHash: "${l}", CurrentHash: "${c}", Replace: ${i}`),l===c){S.log(`[useHashLocation ${t}] Navigation skipped, already at target hash.`);return}i?(S.log(`[useHashLocation ${t}] Using location.replace with target hash: ${l}`),window.location.replace(l)):(S.log(`[useHashLocation ${t}] Setting location.hash to target hash: ${l}`),window.location.hash=l)},[t]);return f.useEffect(()=>{S.log(`[useHashLocation ${t}] Starting interval timer.`);let s=window.location.hash;const i=setInterval(()=>{const a=window.location.hash;if(a!==s){const l=Hd();S.log(`[useHashLocation ${t}] Interval check detected hash change. Raw: "${s}" -> "${a}". Logical path: "${l}". State path: "${n}"`),l!==n&&r(l),s=a}},250);return()=>{S.log(`[useHashLocation ${t}] Clearing interval timer.`),clearInterval(i)}},[n,t]),[n,o]},zy=e=>e.isNew===!0,JC=f.createContext(void 0),a2=({children:e})=>{const{toast:t}=qa(),[,n]=Sh(),r=f.useRef(!0),o=o2(),s=s2(new Date().getMonth(),new Date().getFullYear()),i=i2(),[a,l]=f.useState(null),[c,u]=f.useState(null),[d,h]=f.useState(!1),[y,w]=f.useState(!1),[v,b]=f.useState(navigator.onLine),m=f.useRef(v),[g,x]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[A,R]=f.useState([]),[M,L]=f.useState(!1),[$,F]=f.useState(null),[j,B]=f.useState(!1),[I,N]=f.useState(null),[D,_]=f.useState("calendar"),[V,W]=f.useState(null),[K,ae]=f.useState(null),te=Zr.getInstance();f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!y||!a)return;S.log("[AppContext] Setting up periodic storage check and pruning"),jd().catch(H=>{S.error("[AppContext] Periodic storage check/prune error:",H)});const q=setInterval(()=>{r.current&&(S.log("[AppContext] Running periodic storage check and pruning"),jd().catch(H=>{S.error("[AppContext] Periodic storage check/prune error:",H)}))},5*60*1e3);return()=>{clearInterval(q)}},[y,a]),f.useEffect(()=>{const q=()=>r.current&&b(!0),H=()=>r.current&&b(!1);return window.addEventListener("online",q),window.addEventListener("offline",H),S.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),m.current=navigator.onLine,()=>{window.removeEventListener("online",q),window.removeEventListener("offline",H),te.revokeAllUrls()}},[te]),f.useEffect(()=>{!m.current&&v&&(S.log("[AppContext] Detected transition from offline to online."),c&&o.isAuthenticated&&(S.log("[AppContext] Processing sync queue after returning online..."),c.processQueue().then(()=>{S.log("[AppContext] Sync queue processed successfully"),a&&(a.fetchEntriesForMonth(s.currentYear,s.currentMonth,!0).then(z=>{r.current&&x(z)}).catch(z=>S.error("[AppContext] Error refreshing entries after sync:",z)),a.fetchImagesMetadata(!0).then(z=>{r.current&&R(z)}).catch(z=>S.error("[AppContext] Error refreshing metadata after sync:",z)))}).catch(z=>{S.error("[AppContext] Error processing sync queue:",z),t({title:"Sync Error",description:"There was an error syncing your offline changes",variant:"destructive"})})),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(S.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):S.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),m.current=v},[v,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground,c,a,s.currentYear,s.currentMonth,t]),f.useEffect(()=>{if(w(!1),o.isLoadingAuth)S.log("[AppContext] Auth still loading, client not initialized yet."),l(null),w(!1);else{S.log("[AppContext] Auth loading finished. Initializing PhotoClient...");const q=new kj(o.dbx);l(q);const H=new Aj(q);u(H),H.hasPendingActions().then(z=>{r.current&&h(z)}).catch(z=>S.error("[AppContext] Error checking pending actions:",z)),w(!0),S.log("[AppContext] PhotoClient and SyncManager initialized."),L(!0),F(null),q.fetchImagesMetadata(v).then(z=>{r.current&&R(z),S.log(`[AppContext] Initial metadata fetch/load success. Count: ${z.length}`)}).catch(z=>{S.error("[AppContext] Err fetch/load initial metadata:",z),r.current&&F(z instanceof Error?z:new Error("Failed metadata load"))}).finally(()=>{r.current&&L(!1)}),jd().catch(z=>{S.error("[AppContext] Initial storage check/prune error:",z)})}},[o.isLoadingAuth,o.dbx,v]),f.useEffect(()=>{if(y&&a){E(!0),k(null);const q=s.currentYear,H=s.currentMonth;S.log(`[AppContext] Fetching entries effect triggered for ${q}-${H+1}. Online: ${v}`),a.fetchEntriesForMonth(q,H,v).then(z=>{S.log(`[AppContext] Fetched/Loaded ${z.length} entries for ${q}-${H+1}`),r.current&&(x(z),v&&o.isAuthenticated&&a.triggerPrefetch(q,H,v))}).catch(z=>{S.error(`[AppContext] Err fetch/load entries for ${q}-${H+1}:`,z),r.current&&k(z instanceof Error?z:new Error("Failed entries load"))}).finally(()=>{S.log(`[AppContext] Finished fetching/loading entries for ${q}-${H+1}. isLoadingEntries: false`),r.current&&E(!1)})}else x([]),E(!1),k(null),S.log("[AppContext] Client not ready, skipping entry fetch.")},[y,a,s.currentYear,s.currentMonth,v,o.isAuthenticated]),f.useCallback(()=>{te.revokeAllUrls(),o.logout(),W(null),ae(null),x([]),R([]),l(null),w(!1)},[o,te]),f.useEffect(()=>{N(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{$&&t({title:"Metadata Error",description:$.message,variant:"destructive"})},[$,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{I&&t({title:"Operation Error",description:I.message,variant:"destructive"})},[I,t]),f.useEffect(()=>{const q=window.location.hash;if(q.startsWith("#shareKey=")){const H=q.substring(10);H&&(ae(H),n(window.location.pathname+window.location.search,{replace:!0}))}},[n]),f.useEffect(()=>{const q=H=>{if(navigator.serviceWorker.controller){const z={type:"GET_STORED_FILES",key:H};navigator.serviceWorker.controller.postMessage(z),ae(null)}else S.warn(`[App Context] SW controller not ready for key: ${H}`)};K&&(navigator.serviceWorker.controller?q(K):navigator.serviceWorker.ready.then(H=>{H.active&&K?q(K):H.active||S.error("[App Context] Service worker not active after ready.")}))},[K]),f.useEffect(()=>{const q=ne=>{const ce=ne.data;ce&&(ce.type==="SHARED_FILES_READY"&&ce.key?navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:ce.key}):(S.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"})):ce.type==="STORED_FILES_DATA"&&ce.files?ce.files.length>0?W(ce.files):(S.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):ce.type==="STORED_FILES_ERROR"&&(S.error("[App Context] Received STORED_FILES_ERROR:",ce.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${ce.error||"Unknown error"}`,variant:"destructive"})))},H=ne=>{r.current&&q(ne)};let z=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(ne=>{ne.active&&r.current?(navigator.serviceWorker.addEventListener("message",H),z=!0,S.log("[App Context] Service worker message listener attached.")):S.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(z&&"serviceWorker"in navigator){S.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",H)}catch(ne){S.warn("[App Context] Error removing SW message listener:",ne)}}}},[t]),f.useEffect(()=>{o.isAuthenticated&&!o.isLoadingAuth&&V&&V.length>0&&(S.log("[AppContext] Pending shared files detected, navigating to /entry/new"),n("/entry/new"))},[o.isAuthenticated,o.isLoadingAuth,V,n]);const be=f.useCallback(()=>{W(null)},[]),Ce=f.useCallback(async(q,H)=>{if(!y||!a||!q)return null;try{return await a.getPhotoBlobUrl(q,H,v)}catch(z){return S.error(`getPhotoBlobUrl Error for hash ${q} (ID ${H}):`,z),null}},[a,y,v]),ve=f.useCallback(async(q,H)=>{if(!y||!a||!q)return null;try{return await a.getPhotoThumbnailUrl(q,H,v)}catch(z){return S.error(`getPhotoThumbnailUrl Error for hash ${q} (ID ${H}):`,z),null}},[a,y,v]),Me=f.useCallback(async q=>{if(!y||!a)throw new Error("Client not ready");let H=[];try{H=await a.fetchImagesMetadata(v),r.current&&A.length===0&&H.length>0&&R(H)}catch(ce){S.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",ce),H=A}const z=(q.photos||[]).map(async ce=>{let vt=null,et=null;const tt=H.find(Ne=>Ne.id===ce.photoId),Ie=(tt==null?void 0:tt.photoMetadata)??null,de=(tt==null?void 0:tt.photoFilename)??null,ye=Ie==null?void 0:Ie.contentHash;if(!ye)S.warn(`Metadata or contentHash missing for photoId: ${ce.photoId}`);else{const[Ne,Ae]=await Promise.all([Ce(ye,ce.photoId),ve(ye,ce.photoId)]);vt=Ne,et=Ae}return{...ce,photoUrl:vt,thumbnailUrl:et,photoMetadata:Ie,photoFilename:de}}),ne=await Promise.all(z);return{...q,photos:ne}},[a,y,A,v,Ce]),Le=f.useCallback(async()=>{if(D!=="calendar"||!r.current||!y||!a)return;let q=0;const H=3;let z=document.querySelectorAll(".day-with-image");for(;z.length===0&&q<H;)S.log(`[loadDayBackgrounds] No day elements found, retrying (${q+1}/${H})...`),await new Promise(de=>setTimeout(de,100)),z=document.querySelectorAll(".day-with-image"),q++;if(g.length===0||z.length===0){S.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const ne=new Map;g.forEach(de=>{if(de.photos&&de.photos.length>0){const ye=ne.get(de.date),Ne=de.createdAt instanceof Date?de.createdAt:new Date(de.createdAt),Ae=(ye==null?void 0:ye.createdAt)instanceof Date?ye.createdAt:new Date(0);(!ye||Ne.getTime()>Ae.getTime())&&ne.set(de.date,de)}});let ce=[];try{ce=await a.fetchImagesMetadata(v),r.current&&A.length===0&&ce.length>0&&R(ce)}catch(de){S.error("[loadDayBackgrounds] Failed fetch/load metadata:",de),ce=A}const vt=(de,ye,Ne)=>{var ue;if(!r.current)return;const Ae=ye.crop,O=Ne==null?void 0:Ne.width,Y=Ne==null?void 0:Ne.height,re=(ue=de.parentElement)==null?void 0:ue.getBoundingClientRect(),le=(re==null?void 0:re.width)??0;if(Ae&&O&&Y&&O>0&&Y>0&&Ae.w>0&&le>0){const me=le/Ae.w,Ee=O*me,qe=Y*me,yt=-Ae.x*me,wt=-Ae.y*me;Object.assign(de.style,{width:`${Ee}px`,height:`${qe}px`,transform:`translate(${yt}px, ${wt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(de.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&de.classList.add("img-loaded")})},et=de=>{de.src&&de.src.startsWith("blob:")&&te.revokeUrl(de.getAttribute("data-content-hash")??""),de.removeAttribute("src"),Object.assign(de.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),de.classList.remove("img-loaded"),de.removeAttribute("data-photo-id"),de.removeAttribute("data-content-hash")},tt=new Set;z.forEach(de=>{var re,le;const ye=de.getAttribute("data-day");if(!ye)return;const Ae=new Date(Date.UTC(s.currentYear,s.currentMonth,parseInt(ye))).toISOString().split("T")[0],O=ne.get(Ae),Y=(re=O==null?void 0:O.photos)==null?void 0:re[0];if(Y!=null&&Y.photoId){const ue=ce.find(Ee=>Ee.id===Y.photoId),me=(le=ue==null?void 0:ue.photoMetadata)==null?void 0:le.contentHash;me&&tt.add(me)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(de=>{const ye=de,Ne=ye.getAttribute("data-content-hash");Ne&&!tt.has(Ne)&&et(ye)});const Ie=Array.from(z).map(async de=>{var qe,yt;const ye=de.getAttribute("data-day");if(!ye)return;const Ae=new Date(Date.UTC(s.currentYear,s.currentMonth,parseInt(ye))).toISOString().split("T")[0],O=de.querySelector(".calendar-day-img");if(!O)return;const Y=ne.get(Ae),re=(qe=Y==null?void 0:Y.photos)==null?void 0:qe[0],le=(re==null?void 0:re.photoId)??null,ue=le?ce.find(wt=>wt.id===le):null,me=((yt=ue==null?void 0:ue.photoMetadata)==null?void 0:yt.contentHash)??null,Ee=O.getAttribute("data-content-hash");if(Ee&&Ee!==me&&et(O),me&&a&&Ee!==me&&le&&re&&(ue!=null&&ue.photoMetadata)){O.setAttribute("data-photo-id",le),O.setAttribute("data-content-hash",me);let wt=null;const Bt=re.crop,zt=ue.photoMetadata.width||0,Zt=ue.photoMetadata.height||0,vn=Bt.w*Bt.h/(zt*Zt);(vn<.3||Bt.w<300||Bt.h<300)&&zt>0?(S.log(`[loadDayBackgrounds] Using full image for day ${ye} (crop ratio: ${vn.toFixed(2)})`),wt=await Ce(me,le)):wt=await ve(me,le),wt&&r.current&&O.getAttribute("data-content-hash")===me?(O.src=wt,vt(O,re,ue.photoMetadata)):r.current&&O.getAttribute("data-content-hash")===me&&et(O)}else!me&&Ee&&et(O)});await Promise.all(Ie)},[a,y,g,s,A,D,v,Ce,ve,te]);f.useEffect(()=>{let q=null;return D==="calendar"&&y&&a?q=setTimeout(()=>{r.current&&(S.log("[AppContext] Triggering loadDayBackgrounds from effect."),Le())},150):document.querySelectorAll(".calendar-day-img").forEach(H=>{const z=H;z.src&&z.src.startsWith("blob:")&&te.revokeUrl(z.getAttribute("data-content-hash")??""),z.removeAttribute("src"),Object.assign(z.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),z.classList.remove("img-loaded"),z.removeAttribute("data-photo-id"),z.removeAttribute("data-content-hash")}),()=>{q&&clearTimeout(q)}},[Le,D,te,g,A,y,a]);const Ve=f.useCallback(q=>{const z=new Date(Date.UTC(s.currentYear,s.currentMonth,q)).toISOString().split("T")[0];return g.filter(ne=>ne.date===z)},[g,s.currentMonth,s.currentYear]),he=f.useCallback(q=>g.find(H=>H.id===q),[g]),X=f.useCallback(async q=>{if(S.log(`[AppContext] loadSpecificEntry called for ID: ${q}`),!y||!a)return S.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const H=he(q);if(H)return H;if(S.log(`[AppContext] loadSpecificEntry: Entry ${q} not in current month. Searching...`),!v&&c){S.log("[AppContext] loadSpecificEntry: Checking save queue for offline entries...");try{const z=await Ql();for(const ne of z)if((ne.type==="create"||ne.type==="update")&&ne.entryData&&ne.entryData.id===q)return S.log(`[AppContext] loadSpecificEntry: Found entry ${q} in the save queue`),ne.entryData;S.log("[AppContext] loadSpecificEntry: Entry not found in save queue")}catch(z){S.error("[AppContext] loadSpecificEntry: Error checking save queue:",z)}}try{const z=await a.listEntryFiles();if(!z)return S.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const ne of z){const ce=ne.match(/^(\d{4})-(\d{2})-entries\.json$/);if(ce){const vt=parseInt(ce[1],10),et=parseInt(ce[2],10)-1;if(vt===s.currentYear&&et===s.currentMonth)continue;const Ie=(await a.fetchEntriesForMonth(vt,et,v)).find(de=>de.id===q);if(Ie)return S.log(`[AppContext] loadSpecificEntry: Entry ${q} found in ${vt}-${et+1}`),Ie}}}catch(z){S.error("[AppContext] loadSpecificEntry: Error searching other months:",z)}return S.warn(`[AppContext] loadSpecificEntry: Entry ${q} not found in any month.`),null},[a,y,he,s.currentYear,s.currentMonth,v]),xe=f.useCallback(async q=>{if(S.log(`[AppContext handleDayClick] START - Day: ${q}, isClientReady: ${y}, isOnline: ${v}`),!y||!a){S.log("[AppContext handleDayClick] EXIT - Client not ready");return}const H=Ve(q),z=new Date(Date.UTC(s.currentYear,s.currentMonth,q));if(S.log(`[AppContext handleDayClick] Day: ${q}, Entries found: ${H.length}`),H.length>0)S.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(z,H);else{const ne=z.toISOString().split("T")[0];S.log("[AppContext handleDayClick] Navigating to /entry/new for date:",ne),n(`/entry/new?date=${ne}`),v||(S.log("[AppContext handleDayClick] Offline, showing informational toast."),t({title:"Offline Mode",description:"Your changes will be saved locally and synced when back online.",variant:"default"}))}},[a,y,s.currentMonth,s.currentYear,Ve,i.openViewEntriesModal,n,v,t]),ke=f.useCallback(q=>{n(`/entry/edit/${q}`)},[n]),rt=f.useCallback(q=>{i.openDeleteConfirmation(q)},[i.openDeleteConfirmation]),ht=f.useCallback(async(q,H)=>{if(!y||!a)return!1;if(!o.isAuthenticated)return t({title:"Authentication Required",description:"Please log in to save entries.",variant:"destructive"}),N(new Error("Authentication Required")),!1;B(!0),N(null),k(null);const z=q.date.getUTCFullYear(),ne=q.date.getUTCMonth();try{if(!c)throw new Error("Sync manager not available");S.log(`[AppContext] Saving entry locally for ${z}-${ne+1}`);const ce=q.date.toISOString().split("T")[0],vt=new Date,et=!H;let tt;if(et?tt={id:crypto.randomUUID(),date:ce,content:q.content,photos:q.photos.map(Ie=>({photoId:zy(Ie)?crypto.randomUUID():Ie.photoId,crop:Ie.crop})),createdAt:vt,updatedAt:vt}:tt={...H,date:ce,content:q.content,photos:q.photos.map(Ie=>({photoId:zy(Ie)?crypto.randomUUID():Ie.photoId,crop:Ie.crop})),updatedAt:vt},await c.queueSaveEntry(q,H,z,ne),z===s.currentYear&&ne===s.currentMonth){let Ie;if(et)Ie=[...g,tt];else{const de=g.findIndex(ye=>ye.id===tt.id);de!==-1?Ie=[...g.slice(0,de),tt,...g.slice(de+1)]:Ie=[...g,tt]}Ie.sort((de,ye)=>new Date(de.date).getTime()-new Date(ye.date).getTime()||de.createdAt.getTime()-ye.createdAt.getTime()),x(Ie)}return v?(S.log("[AppContext] Online - syncing changes immediately"),await c.processQueue()):(h(!0),t({title:"Saved Offline",description:"Entry saved locally and will sync when online",variant:"default"})),(z!==s.currentYear||ne!==s.currentMonth)&&s.handleMonthYearSelect(ne,z),n("/"),!0}catch(ce){return S.error("[AppContext] Save Err: Failed save entry:",ce),r.current&&N(ce instanceof Error?ce:new Error("Failed to save entry")),!1}finally{r.current&&B(!1)}},[a,y,A,s,n,o.isAuthenticated,i,v,t,g,c]),pt=f.useCallback(async()=>{if(!y||!i.entryToDeleteId||!a)return;if(!o.isAuthenticated){t({title:"Authentication Required",description:"Please log in to delete entries.",variant:"destructive"}),N(new Error("Authentication Required")),i.closeDeleteDialog();return}B(!0),N(null),k(null);let q,H;const z=g.find(ne=>ne.id===i.entryToDeleteId)||i.selectedBasicEntriesForModal.find(ne=>ne.id===i.entryToDeleteId);if(z){const ne=new Date(z.date+"T00:00:00Z");q=ne.getUTCFullYear(),H=ne.getUTCMonth()}else{S.error(`Delete Error: Could not find entry source for ID ${i.entryToDeleteId}`);const ne=await X(i.entryToDeleteId);if(ne){const ce=new Date(ne.date+"T00:00:00Z");q=ce.getUTCFullYear(),H=ce.getUTCMonth(),S.log(`Found entry ${i.entryToDeleteId} in month ${q}-${H+1} for deletion.`)}else{N(new Error("Could not find entry's date to perform delete.")),B(!1),i.closeDeleteDialog();return}}if(q===void 0||H===void 0){N(new Error("Entry month/year could not be determined.")),B(!1),i.closeDeleteDialog();return}try{if(!c)throw new Error("Sync manager not available");S.log(`[AppContext] Deleting entry locally: ${i.entryToDeleteId}`);const ne=z;await c.queueDeleteEntry(i.entryToDeleteId,ne,q,H),q===s.currentYear&&H===s.currentMonth&&x(g.filter(ce=>ce.id!==i.entryToDeleteId)),v?(S.log("[AppContext] Online - syncing delete immediately"),await c.processQueue()):(h(!0),t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online",variant:"default"})),i.closeViewModal(),i.closeDeleteDialog(),B(!1);return}catch(ne){S.error("[AppContext] Delete Err: Failed delete entry:",ne),r.current&&N(ne instanceof Error?ne:new Error("Failed to delete entry"))}finally{r.current&&(B(!1),i.isDeleteDialogOpen&&i.closeDeleteDialog())}},[a,c,y,i,g,s,A,v,t,X,o.isAuthenticated]),St={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,syncManager:c,hasPendingSync:d,isClientReady:y,isOnline:v,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:D,setMonthViewType:_,currentMonthEntries:g,isLoadingEntries:C,imagesMetadata:A,isLoadingImagesMeta:M,entriesError:P,operationError:I,imagesMetaError:$,setEntriesError:k,setImagesMetaError:F,clearOperationError:()=>N(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:j,handleSaveEntry:ht,handleDeleteEntry:pt,loadDayBackgrounds:Le,getPhotoBlobUrl:Ce,getPhotoThumbnailUrl:ve,getCombinedEntryDetails:Me,getEntriesForDay:Ve,getEntryById:he,loadSpecificEntry:X,handleDayClick:xe,handleEditRequest:ke,handleDeleteRequest:rt,pendingSharedFiles:V,clearPendingSharedFiles:be,setPendingSharedFiles:W,navigate:n};return p.jsx(JC.Provider,{value:St,children:e})},Hn=()=>{const e=f.useContext(JC);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e};function l2({className:e=""}){const{isOnline:t,hasPendingSync:n}=Hn();return t&&!n?null:p.jsx("div",{className:`flex items-center ${e}`,children:p.jsx(OC,{children:p.jsxs(rj,{delayDuration:300,children:[p.jsx(oj,{asChild:!0,children:p.jsx("div",{className:"flex items-center gap-1",children:t?n?p.jsxs("div",{className:"text-blue-500 flex items-center gap-1",children:[p.jsx(U_,{className:"h-4 w-4 animate-spin"}),p.jsx("span",{className:"text-xs",children:"Syncing"})]}):p.jsxs("div",{className:"text-green-500 flex items-center gap-1",children:[p.jsx(D_,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Online"})]}):p.jsxs("div",{className:"text-amber-500 animate-pulse flex items-center gap-1",children:[p.jsx(A_,{className:"h-4 w-4"}),p.jsx("span",{className:"text-xs",children:"Offline"})]})})}),p.jsx(FC,{children:t?n?"Syncing offline changes":"Connected":"Offline Mode - Changes will sync when connection is restored"})]})})})}var c2=f.createContext(void 0);function Ga(e){const t=f.useContext(c2);return e||t||"ltr"}var Wd="rovingFocusGroup.onEntryFocus",u2={bubbles:!1,cancelable:!0},_u="RovingFocusGroup",[Ch,e1,d2]=vu(_u),[f2,Iu]=on(_u,[d2]),[h2,p2]=f2(_u),t1=f.forwardRef((e,t)=>p.jsx(Ch.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Ch.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(m2,{...e,ref:t})})}));t1.displayName=_u;var m2=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=f.useRef(null),y=Re(t,h),w=Ga(s),[v=null,b]=ar({prop:i,defaultProp:a,onChange:l}),[m,g]=f.useState(!1),x=st(c),C=e1(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Wd,x),()=>A.removeEventListener(Wd,x)},[x]),p.jsx(h2,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:v,onItemFocus:f.useCallback(A=>b(A),[b]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:f.useCallback(()=>k(A=>A-1),[]),children:p.jsx(ge.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...d,ref:y,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{E.current=!0}),onFocus:Q(e.onFocus,A=>{const R=!E.current;if(A.target===A.currentTarget&&R&&!m){const M=new CustomEvent(Wd,u2);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=C().filter(I=>I.focusable),$=L.find(I=>I.active),F=L.find(I=>I.id===v),B=[$,F,...L].filter(Boolean).map(I=>I.ref.current);o1(B,u)}}E.current=!1}),onBlur:Q(e.onBlur,()=>g(!1))})})}),n1="RovingFocusGroupItem",r1=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Fo(),l=s||a,c=p2(n1,n),u=c.currentTabStopId===l,d=e1(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=c;return f.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),p.jsx(Ch.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(ge.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:Q(e.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Q(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=y2(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let m=d().filter(g=>g.focusable).map(g=>g.ref.current);if(v==="last")m.reverse();else if(v==="prev"||v==="next"){v==="prev"&&m.reverse();const g=m.indexOf(w.currentTarget);m=c.loop?w2(m,g+1):m.slice(g+1)}setTimeout(()=>o1(m))}})})})});r1.displayName=n1;var g2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function y2(e,t,n){const r=v2(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return g2[r]}function o1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function w2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var s1=t1,i1=r1,x2="Toggle",gm=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=ar({prop:n,onChange:o,defaultProp:r});return p.jsx(ge.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:Q(e.onClick,()=>{e.disabled||a(!i)})})});gm.displayName=x2;var a1=gm,vi="ToggleGroup",[l1,_z]=on(vi,[Iu]),c1=Iu(),vm=xt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(b2,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(S2,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${vi}\``)});vm.displayName=vi;var[u1,d1]=l1(vi),b2=xt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=ar({prop:n,defaultProp:r,onChange:o});return p.jsx(u1,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:xt.useCallback(()=>a(""),[a]),children:p.jsx(f1,{...s,ref:t})})}),S2=xt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=ar({prop:n,defaultProp:r,onChange:o}),l=xt.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=xt.useCallback(u=>a((d=[])=>d.filter(h=>h!==u)),[a]);return p.jsx(u1,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(f1,{...s,ref:t})})});vm.displayName=vi;var[C2,E2]=l1(vi),f1=xt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=c1(n),u=Ga(i),d={role:"group",dir:u,...l};return p.jsx(C2,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(s1,{asChild:!0,...c,orientation:s,dir:u,loop:a,children:p.jsx(ge.div,{...d,ref:t})}):p.jsx(ge.div,{...d,ref:t})})}),Lc="ToggleGroupItem",h1=xt.forwardRef((e,t)=>{const n=d1(Lc,e.__scopeToggleGroup),r=E2(Lc,e.__scopeToggleGroup),o=c1(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=xt.useRef(null);return r.rovingFocus?p.jsx(i1,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(qy,{...a,ref:t})}):p.jsx(qy,{...a,ref:t})});h1.displayName=Lc;var qy=xt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=d1(Lc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(gm,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),p1=vm,m1=h1;const g1=Su("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),P2=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(a1,{ref:o,className:Z(g1({variant:t,size:n,className:e})),...r}));P2.displayName=a1.displayName;const v1=f.createContext({size:"default",variant:"default"}),y1=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(p1,{ref:s,className:Z("flex items-center justify-center gap-1",e),...o,children:p.jsx(v1.Provider,{value:{variant:t,size:n},children:r})}));y1.displayName=p1.displayName;const Eh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(v1);return p.jsx(m1,{ref:s,className:Z(g1({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});Eh.displayName=m1.displayName;var T2=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function u(y){(Array.isArray(e)?e:[e]).forEach(w=>{let v=w==="class",b=v&&s?o.map(m=>s[m]||m):o;v?(l.classList.remove(...b),l.classList.add(s&&s[y]?s[y]:y)):l.setAttribute(w,y)}),d(y)}function d(y){a&&c.includes(y)&&(l.style.colorScheme=y)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let y=localStorage.getItem(t)||n,w=i&&y==="system"?h():y;u(w)}catch{}},Hy=["light","dark"],w1="(prefers-color-scheme: dark)",k2=typeof window>"u",ym=f.createContext(void 0),A2={setTheme:e=>{},themes:[]},wm=()=>{var e;return(e=f.useContext(ym))!=null?e:A2},D2=e=>f.useContext(ym)?f.createElement(f.Fragment,null,e.children):f.createElement(M2,{...e}),R2=["light","dark"],M2=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=R2,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u,scriptProps:d})=>{let[h,y]=f.useState(()=>I2(o,i)),[w,v]=f.useState(()=>h==="system"?Gd():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=Gd());let k=l?l[P]:P,A=t?N2(u):null,R=document.documentElement,M=L=>{L==="class"?(R.classList.remove(...b),k&&R.classList.add(k)):L.startsWith("data-")&&(k?R.setAttribute(L,k):R.removeAttribute(L))};if(Array.isArray(a)?a.forEach(M):M(a),r){let L=Hy.includes(i)?i:null,$=Hy.includes(P)?P:L;R.style.colorScheme=$}A==null||A()},[u]),g=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;y(P);try{localStorage.setItem(o,P)}catch{}},[h]),x=f.useCallback(E=>{let P=Gd(E);v(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(w1);return E.addListener(x),x(E),()=>E.removeListener(x)},[x]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?y(P.newValue):g(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[g]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:g,forcedTheme:e,resolvedTheme:h==="system"?w:h,themes:n?[...s,"system"]:s,systemTheme:n?w:void 0}),[h,g,e,w,n,s]);return f.createElement(ym.Provider,{value:C},f.createElement(_2,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:u,scriptProps:d}),c)},_2=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${T2.toString()})(${u})`}})}),I2=(e,t)=>{if(k2)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},N2=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Gd=e=>(e||(e=window.matchMedia(w1)),e.matches?"dark":"light"),xm="Avatar",[j2,Iz]=on(xm),[L2,x1]=j2(xm),b1=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(L2,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(ge.span,{...r,ref:t})})});b1.displayName=xm;var S1="AvatarImage",C1=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=x1(S1,n),a=O2(r,s),l=st(c=>{o(c),i.onImageLoadingStatusChange(c)});return Dn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(ge.img,{...s,ref:t,src:r}):null});C1.displayName=S1;var E1="AvatarFallback",P1=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=x1(E1,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(ge.span,{...o,ref:t}):null});P1.displayName=E1;function Wy(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function O2(e,{referrerPolicy:t,crossOrigin:n}){const r=$2(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>Wy(s,e));return Dn(()=>{a(Wy(s,e))},[s,e]),Dn(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,n,t]),i}function F2(){return()=>{}}function $2(){return f.useSyncExternalStore(F2,()=>!0,()=>!1)}var T1=b1,k1=C1,A1=P1;const D1=f.forwardRef(({className:e,...t},n)=>p.jsx(T1,{ref:n,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));D1.displayName=T1.displayName;const V2=f.forwardRef(({className:e,...t},n)=>p.jsx(k1,{ref:n,className:Z("aspect-square h-full w-full",e),...t}));V2.displayName=k1.displayName;const R1=f.forwardRef(({className:e,...t},n)=>p.jsx(A1,{ref:n,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));R1.displayName=A1.displayName;var Kd=0;function M1(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Gy()),document.body.insertAdjacentElement("beforeend",e[1]??Gy()),Kd++,()=>{Kd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kd--}},[])}function Gy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yd="focusScope.autoFocusOnMount",Xd="focusScope.autoFocusOnUnmount",Ky={bubbles:!1,cancelable:!0},U2="FocusScope",bm=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=st(o),u=st(s),d=f.useRef(null),h=Re(t,v=>l(v)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let v=function(x){if(y.paused||!a)return;const C=x.target;a.contains(C)?d.current=C:Fr(d.current,{select:!0})},b=function(x){if(y.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||Fr(d.current,{select:!0}))},m=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&Fr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const g=new MutationObserver(m);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),g.disconnect()}}},[r,a,y.paused]),f.useEffect(()=>{if(a){Xy.add(y);const v=document.activeElement;if(!a.contains(v)){const m=new CustomEvent(Yd,Ky);a.addEventListener(Yd,c),a.dispatchEvent(m),m.defaultPrevented||(B2(G2(_1(a)),{select:!0}),document.activeElement===v&&Fr(a))}return()=>{a.removeEventListener(Yd,c),setTimeout(()=>{const m=new CustomEvent(Xd,Ky);a.addEventListener(Xd,u),a.dispatchEvent(m),m.defaultPrevented||Fr(v??document.body,{select:!0}),a.removeEventListener(Xd,u),Xy.remove(y)},0)}}},[a,c,u,y]);const w=f.useCallback(v=>{if(!n&&!r||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,m=document.activeElement;if(b&&m){const g=v.currentTarget,[x,C]=z2(g);x&&C?!v.shiftKey&&m===C?(v.preventDefault(),n&&Fr(x,{select:!0})):v.shiftKey&&m===x&&(v.preventDefault(),n&&Fr(C,{select:!0})):m===g&&v.preventDefault()}},[n,r,y.paused]);return p.jsx(ge.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});bm.displayName=U2;function B2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Fr(r,{select:t}),document.activeElement!==n)return}function z2(e){const t=_1(e),n=Yy(t,e),r=Yy(t.reverse(),e);return[n,r]}function _1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yy(e,t){for(const n of e)if(!q2(n,{upTo:t}))return n}function q2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function H2(e){return e instanceof HTMLInputElement&&"select"in e}function Fr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&H2(e)&&t&&e.select()}}var Xy=W2();function W2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qy(e,t),e.unshift(t)},remove(t){var n;e=Qy(e,t),(n=e[0])==null||n.resume()}}}function Qy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function G2(e){return e.filter(t=>t.tagName!=="A")}var K2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},is=new WeakMap,Al=new WeakMap,Dl={},Qd=0,I1=function(e){return e&&(e.host||I1(e.parentNode))},Y2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=I1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},X2=function(e,t,n,r){var o=Y2(t,Array.isArray(e)?e:[e]);Dl[n]||(Dl[n]=new WeakMap);var s=Dl[n],i=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var y=h.getAttribute(r),w=y!==null&&y!=="false",v=(is.get(h)||0)+1,b=(s.get(h)||0)+1;is.set(h,v),s.set(h,b),i.push(h),v===1&&w&&Al.set(h,!0),b===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return u(t),a.clear(),Qd++,function(){i.forEach(function(d){var h=is.get(d)-1,y=s.get(d)-1;is.set(d,h),s.set(d,y),h||(Al.has(d)||d.removeAttribute(r),Al.delete(d)),y||d.removeAttribute(n)}),Qd--,Qd||(is=new WeakMap,is=new WeakMap,Al=new WeakMap,Dl={})}},N1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=K2(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),X2(r,o,n,"aria-hidden")):function(){return null}},er=function(){return er=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},er.apply(this,arguments)};function j1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Q2(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var ec="right-scroll-bar-position",tc="width-before-scroll-bar",Z2="with-scroll-bars-hidden",J2="--removed-body-scroll-bar-size";function Zd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eL(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var tL=typeof window<"u"?f.useLayoutEffect:f.useEffect,Zy=new WeakMap;function nL(e,t){var n=eL(null,function(r){return e.forEach(function(o){return Zd(o,r)})});return tL(function(){var r=Zy.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||Zd(a,null)}),s.forEach(function(a){o.has(a)||Zd(a,i)})}Zy.set(n,e)},[e]),n}function rL(e){return e}function oL(e,t){t===void 0&&(t=rL);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return o}function sL(e){e===void 0&&(e={});var t=oL(null);return t.options=er({async:!0,ssr:!1},e),t}var L1=function(e){var t=e.sideCar,n=j1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,er({},n))};L1.isSideCarExport=!0;function iL(e,t){return e.useMedium(t),L1}var O1=sL(),Jd=function(){},Nu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Jd,onWheelCapture:Jd,onTouchMoveCapture:Jd}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,y=e.noIsolation,w=e.inert,v=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,g=e.gapMode,x=j1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=nL([n,t]),P=er(er({},x),o);return f.createElement(f.Fragment,null,u&&f.createElement(C,{sideCar:O1,removeScrollBar:c,shards:d,noIsolation:y,inert:w,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:g}),i?f.cloneElement(f.Children.only(a),er(er({},P),{ref:E})):f.createElement(m,er({},P,{className:l,ref:E}),a))});Nu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nu.classNames={fullWidth:tc,zeroRight:ec};var aL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aL();return t&&e.setAttribute("nonce",t),e}function cL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lL())&&(cL(t,n),uL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fL=function(){var e=dL();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},F1=function(){var e=fL(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},hL={left:0,top:0,right:0,gap:0},ef=function(e){return parseInt(e||"",10)||0},pL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ef(n),ef(r),ef(o)]},mL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hL;var t=pL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gL=F1(),Fs="data-scroll-locked",vL=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Fs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ec,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ec," .").concat(ec,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tc," .").concat(tc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fs,`] {
    `).concat(J2,": ").concat(a,`px;
  }
`)},Jy=function(){var e=parseInt(document.body.getAttribute(Fs)||"0",10);return isFinite(e)?e:0},yL=function(){f.useEffect(function(){return document.body.setAttribute(Fs,(Jy()+1).toString()),function(){var e=Jy()-1;e<=0?document.body.removeAttribute(Fs):document.body.setAttribute(Fs,e.toString())}},[])},wL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;yL();var s=f.useMemo(function(){return mL(o)},[o]);return f.createElement(gL,{styles:vL(s,!t,o,n?"":"!important")})},Ph=!1;if(typeof window<"u")try{var Rl=Object.defineProperty({},"passive",{get:function(){return Ph=!0,!0}});window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Ph=!1}var as=Ph?{passive:!1}:!1,xL=function(e){return e.tagName==="TEXTAREA"},$1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xL(e)&&n[t]==="visible")},bL=function(e){return $1(e,"overflowY")},SL=function(e){return $1(e,"overflowX")},ew=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=V1(e,r);if(o){var s=U1(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},EL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},V1=function(e,t){return e==="v"?bL(t):SL(t)},U1=function(e,t){return e==="v"?CL(t):EL(t)},PL=function(e,t){return e==="h"&&t==="rtl"?-1:1},TL=function(e,t,n,r,o){var s=PL(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,u=i>0,d=0,h=0;do{var y=U1(e,a),w=y[0],v=y[1],b=y[2],m=v-b-s*w;(w||m)&&V1(e,a)&&(d+=m,h+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(d)<1||!o)||!u&&(Math.abs(h)<1||!o))&&(c=!0),c},Ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tw=function(e){return[e.deltaX,e.deltaY]},nw=function(e){return e&&"current"in e?e.current:e},kL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DL=0,ls=[];function RL(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(DL++)[0],s=f.useState(F1)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=Q2([e.lockRef.current],(e.shards||[]).map(nw),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var m=Ml(v),g=n.current,x="deltaX"in v?v.deltaX:g[0]-m[0],C="deltaY"in v?v.deltaY:g[1]-m[1],E,P=v.target,k=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in v&&k==="h"&&P.type==="range")return!1;var A=ew(k,P);if(!A)return!0;if(A?E=k:(E=k==="v"?"h":"v",A=ew(k,P)),!A)return!1;if(!r.current&&"changedTouches"in v&&(x||C)&&(r.current=E),!E)return!0;var R=r.current||E;return TL(R,b,v,R==="h"?x:C,!0)},[]),l=f.useCallback(function(v){var b=v;if(!(!ls.length||ls[ls.length-1]!==s)){var m="deltaY"in b?tw(b):Ml(b),g=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&kL(E.delta,m)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var x=(i.current.shards||[]).map(nw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=x.length>0?a(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(v,b,m,g){var x={name:v,delta:b,target:m,should:g,shadowParent:ML(m)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),u=f.useCallback(function(v){n.current=Ml(v),r.current=void 0},[]),d=f.useCallback(function(v){c(v.type,tw(v),v.target,a(v,e.lockRef.current))},[]),h=f.useCallback(function(v){c(v.type,Ml(v),v.target,a(v,e.lockRef.current))},[]);f.useEffect(function(){return ls.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,as),document.addEventListener("touchmove",l,as),document.addEventListener("touchstart",u,as),function(){ls=ls.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,as),document.removeEventListener("touchmove",l,as),document.removeEventListener("touchstart",u,as)}},[]);var y=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(s,{styles:AL(o)}):null,y?f.createElement(wL,{gapMode:e.gapMode}):null)}function ML(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _L=iL(O1,RL);var Sm=f.forwardRef(function(e,t){return f.createElement(Nu,er({},e,{ref:t,sideCar:_L}))});Sm.classNames=Nu.classNames;var Th=["Enter"," "],IL=["ArrowDown","PageUp","Home"],B1=["ArrowUp","PageDown","End"],NL=[...IL,...B1],jL={ltr:[...Th,"ArrowRight"],rtl:[...Th,"ArrowLeft"]},LL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ka="Menu",[Ta,OL,FL]=vu(Ka),[ts,z1]=on(Ka,[FL,ku,Iu]),ju=ku(),q1=Iu(),[$L,ns]=ts(Ka),[VL,Ya]=ts(Ka),H1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=ju(t),[l,c]=f.useState(null),u=f.useRef(!1),d=st(s),h=Ga(o);return f.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(PC,{...a,children:p.jsx($L,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:p.jsx(VL,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:i,children:r})})})};H1.displayName=Ka;var UL="MenuAnchor",Cm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=ju(n);return p.jsx(TC,{...o,...r,ref:t})});Cm.displayName=UL;var Em="MenuPortal",[BL,W1]=ts(Em,{forceMount:void 0}),G1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=ns(Em,t);return p.jsx(BL,{scope:t,forceMount:n,children:p.jsx(sn,{present:n||s.open,children:p.jsx(yu,{asChild:!0,container:o,children:r})})})};G1.displayName=Em;var Tn="MenuContent",[zL,Pm]=ts(Tn),K1=f.forwardRef((e,t)=>{const n=W1(Tn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ns(Tn,e.__scopeMenu),i=Ya(Tn,e.__scopeMenu);return p.jsx(Ta.Provider,{scope:e.__scopeMenu,children:p.jsx(sn,{present:r||s.open,children:p.jsx(Ta.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(qL,{...o,ref:t}):p.jsx(HL,{...o,ref:t})})})})}),qL=f.forwardRef((e,t)=>{const n=ns(Tn,e.__scopeMenu),r=f.useRef(null),o=Re(t,r);return f.useEffect(()=>{const s=r.current;if(s)return N1(s)},[]),p.jsx(Tm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HL=f.forwardRef((e,t)=>{const n=ns(Tn,e.__scopeMenu);return p.jsx(Tm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),WL=ri("MenuContent.ScrollLock"),Tm=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:y,disableOutsideScroll:w,...v}=e,b=ns(Tn,n),m=Ya(Tn,n),g=ju(n),x=q1(n),C=OL(n),[E,P]=f.useState(null),k=f.useRef(null),A=Re(t,k,b.onContentChange),R=f.useRef(0),M=f.useRef(""),L=f.useRef(0),$=f.useRef(null),F=f.useRef("right"),j=f.useRef(0),B=w?Sm:f.Fragment,I=w?{as:WL,allowPinchZoom:!0}:void 0,N=_=>{var ve,Me;const V=M.current+_,W=C().filter(Le=>!Le.disabled),K=document.activeElement,ae=(ve=W.find(Le=>Le.ref.current===K))==null?void 0:ve.textValue,te=W.map(Le=>Le.textValue),be=oO(te,V,ae),Ce=(Me=W.find(Le=>Le.textValue===be))==null?void 0:Me.ref.current;(function Le(Ve){M.current=Ve,window.clearTimeout(R.current),Ve!==""&&(R.current=window.setTimeout(()=>Le(""),1e3))})(V),Ce&&setTimeout(()=>Ce.focus())};f.useEffect(()=>()=>window.clearTimeout(R.current),[]),M1();const D=f.useCallback(_=>{var W,K;return F.current===((W=$.current)==null?void 0:W.side)&&iO(_,(K=$.current)==null?void 0:K.area)},[]);return p.jsx(zL,{scope:n,searchRef:M,onItemEnter:f.useCallback(_=>{D(_)&&_.preventDefault()},[D]),onItemLeave:f.useCallback(_=>{var V;D(_)||((V=k.current)==null||V.focus(),P(null))},[D]),onTriggerLeave:f.useCallback(_=>{D(_)&&_.preventDefault()},[D]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(_=>{$.current=_},[]),children:p.jsx(B,{...I,children:p.jsx(bm,{asChild:!0,trapped:o,onMountAutoFocus:Q(s,_=>{var V;_.preventDefault(),(V=k.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Ha,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:y,children:p.jsx(s1,{asChild:!0,...x,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:Q(l,_=>{m.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(kC,{role:"menu","aria-orientation":"vertical","data-state":uE(b.open),"data-radix-menu-content":"",dir:m.dir,...g,...v,ref:A,style:{outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,_=>{const W=_.target.closest("[data-radix-menu-content]")===_.currentTarget,K=_.ctrlKey||_.altKey||_.metaKey,ae=_.key.length===1;W&&(_.key==="Tab"&&_.preventDefault(),!K&&ae&&N(_.key));const te=k.current;if(_.target!==te||!NL.includes(_.key))return;_.preventDefault();const Ce=C().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);B1.includes(_.key)&&Ce.reverse(),nO(Ce)}),onBlur:Q(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(R.current),M.current="")}),onPointerMove:Q(e.onPointerMove,ka(_=>{const V=_.target,W=j.current!==_.clientX;if(_.currentTarget.contains(V)&&W){const K=_.clientX>j.current?"right":"left";F.current=K,j.current=_.clientX}}))})})})})})})});K1.displayName=Tn;var GL="MenuGroup",km=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(ge.div,{role:"group",...r,ref:t})});km.displayName=GL;var KL="MenuLabel",Y1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(ge.div,{...r,ref:t})});Y1.displayName=KL;var Oc="MenuItem",rw="menu.itemSelect",Lu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=Ya(Oc,e.__scopeMenu),a=Pm(Oc,e.__scopeMenu),l=Re(t,s),c=f.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(rw,{bubbles:!0,cancelable:!0});d.addEventListener(rw,y=>r==null?void 0:r(y),{once:!0}),Yp(d,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(X1,{...o,ref:l,disabled:n,onClick:Q(e.onClick,u),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),c.current=!0},onPointerUp:Q(e.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Q(e.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||Th.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Lu.displayName=Oc;var X1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Pm(Oc,n),a=q1(n),l=f.useRef(null),c=Re(t,l),[u,d]=f.useState(!1),[h,y]=f.useState("");return f.useEffect(()=>{const w=l.current;w&&y((w.textContent??"").trim())},[s.children]),p.jsx(Ta.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(i1,{asChild:!0,...a,focusable:!r,children:p.jsx(ge.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Q(e.onPointerMove,ka(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,ka(w=>i.onItemLeave(w))),onFocus:Q(e.onFocus,()=>d(!0)),onBlur:Q(e.onBlur,()=>d(!1))})})})}),YL="MenuCheckboxItem",Q1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(nE,{scope:e.__scopeMenu,checked:n,children:p.jsx(Lu,{role:"menuitemcheckbox","aria-checked":Fc(n)?"mixed":n,...o,ref:t,"data-state":Dm(n),onSelect:Q(o.onSelect,()=>r==null?void 0:r(Fc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Q1.displayName=YL;var Z1="MenuRadioGroup",[XL,QL]=ts(Z1,{value:void 0,onValueChange:()=>{}}),J1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=st(r);return p.jsx(XL,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(km,{...o,ref:t})})});J1.displayName=Z1;var eE="MenuRadioItem",tE=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=QL(eE,e.__scopeMenu),s=n===o.value;return p.jsx(nE,{scope:e.__scopeMenu,checked:s,children:p.jsx(Lu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Dm(s),onSelect:Q(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});tE.displayName=eE;var Am="MenuItemIndicator",[nE,ZL]=ts(Am,{checked:!1}),rE=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=ZL(Am,n);return p.jsx(sn,{present:r||Fc(s.checked)||s.checked===!0,children:p.jsx(ge.span,{...o,ref:t,"data-state":Dm(s.checked)})})});rE.displayName=Am;var JL="MenuSeparator",oE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});oE.displayName=JL;var eO="MenuArrow",sE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=ju(n);return p.jsx(AC,{...o,...r,ref:t})});sE.displayName=eO;var tO="MenuSub",[Nz,iE]=ts(tO),Oi="MenuSubTrigger",aE=f.forwardRef((e,t)=>{const n=ns(Oi,e.__scopeMenu),r=Ya(Oi,e.__scopeMenu),o=iE(Oi,e.__scopeMenu),s=Pm(Oi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),p.jsx(Cm,{asChild:!0,...c,children:p.jsx(X1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":uE(n.open),...e,ref:gu(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,ka(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Q(e.onPointerLeave,ka(d=>{var y,w;u();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const v=(w=n.content)==null?void 0:w.dataset.side,b=v==="right",m=b?-5:5,g=h[b?"left":"right"],x=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+m,y:d.clientY},{x:g,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:g,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,d=>{var y;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||jL[r.dir].includes(d.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),d.preventDefault())})})})});aE.displayName=Oi;var lE="MenuSubContent",cE=f.forwardRef((e,t)=>{const n=W1(Tn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ns(Tn,e.__scopeMenu),i=Ya(Tn,e.__scopeMenu),a=iE(lE,e.__scopeMenu),l=f.useRef(null),c=Re(t,l);return p.jsx(Ta.Provider,{scope:e.__scopeMenu,children:p.jsx(sn,{present:r||s.open,children:p.jsx(Ta.Slot,{scope:e.__scopeMenu,children:p.jsx(Tm,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Q(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Q(e.onKeyDown,u=>{var y;const d=u.currentTarget.contains(u.target),h=LL[i.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),u.preventDefault())})})})})})});cE.displayName=lE;function uE(e){return e?"open":"closed"}function Fc(e){return e==="indeterminate"}function Dm(e){return Fc(e)?"indeterminate":e?"checked":"unchecked"}function nO(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function rO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function oO(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=rO(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function sO(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function iO(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return sO(n,t)}function ka(e){return t=>t.pointerType==="mouse"?e(t):void 0}var aO=H1,lO=Cm,cO=G1,uO=K1,dO=km,fO=Y1,hO=Lu,pO=Q1,mO=J1,gO=tE,vO=rE,yO=oE,wO=sE,xO=aE,bO=cE,Rm="DropdownMenu",[SO,jz]=on(Rm,[z1]),Qt=z1(),[CO,dE]=SO(Rm),fE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=Qt(t),c=f.useRef(null),[u=!1,d]=ar({prop:o,defaultProp:s,onChange:i});return p.jsx(CO,{scope:t,triggerId:Fo(),triggerRef:c,contentId:Fo(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:p.jsx(aO,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};fE.displayName=Rm;var hE="DropdownMenuTrigger",pE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=dE(hE,n),i=Qt(n);return p.jsx(lO,{asChild:!0,...i,children:p.jsx(ge.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:gu(t,s.triggerRef),onPointerDown:Q(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Q(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});pE.displayName=hE;var EO="DropdownMenuPortal",mE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qt(t);return p.jsx(cO,{...r,...n})};mE.displayName=EO;var gE="DropdownMenuContent",vE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dE(gE,n),s=Qt(n),i=f.useRef(!1);return p.jsx(uO,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!o.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vE.displayName=gE;var PO="DropdownMenuGroup",TO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(dO,{...o,...r,ref:t})});TO.displayName=PO;var kO="DropdownMenuLabel",yE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(fO,{...o,...r,ref:t})});yE.displayName=kO;var AO="DropdownMenuItem",wE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(hO,{...o,...r,ref:t})});wE.displayName=AO;var DO="DropdownMenuCheckboxItem",xE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(pO,{...o,...r,ref:t})});xE.displayName=DO;var RO="DropdownMenuRadioGroup",MO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(mO,{...o,...r,ref:t})});MO.displayName=RO;var _O="DropdownMenuRadioItem",bE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(gO,{...o,...r,ref:t})});bE.displayName=_O;var IO="DropdownMenuItemIndicator",SE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(vO,{...o,...r,ref:t})});SE.displayName=IO;var NO="DropdownMenuSeparator",CE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(yO,{...o,...r,ref:t})});CE.displayName=NO;var jO="DropdownMenuArrow",LO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(wO,{...o,...r,ref:t})});LO.displayName=jO;var OO="DropdownMenuSubTrigger",EE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(xO,{...o,...r,ref:t})});EE.displayName=OO;var FO="DropdownMenuSubContent",PE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qt(n);return p.jsx(bO,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PE.displayName=FO;var $O=fE,VO=pE,UO=mE,TE=vE,kE=yE,AE=wE,DE=xE,RE=bE,ME=SE,_E=CE,IE=EE,NE=PE;const Mm=$O,_m=VO,BO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(IE,{ref:o,className:Z("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(qS,{className:"ml-auto"})]}));BO.displayName=IE.displayName;const zO=f.forwardRef(({className:e,...t},n)=>p.jsx(NE,{ref:n,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));zO.displayName=NE.displayName;const Ou=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(UO,{children:p.jsx(TE,{ref:r,sideOffset:t,className:Z("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Ou.displayName=TE.displayName;const Xo=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(AE,{ref:r,className:Z("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Xo.displayName=AE.displayName;const qO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(DE,{ref:o,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(ME,{children:p.jsx(zS,{className:"h-4 w-4"})})}),t]}));qO.displayName=DE.displayName;const HO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(RE,{ref:r,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(ME,{children:p.jsx(k_,{className:"h-2 w-2 fill-current"})})}),t]}));HO.displayName=RE.displayName;const jE=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(kE,{ref:r,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));jE.displayName=kE.displayName;const kh=f.forwardRef(({className:e,...t},n)=>p.jsx(_E,{ref:n,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));kh.displayName=_E.displayName;function LE(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Im="Switch",[WO,Lz]=on(Im),[GO,KO]=WO(Im),OE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=e,[h,y]=f.useState(null),w=Re(t,x=>y(x)),v=f.useRef(!1),b=h?u||!!h.closest("form"):!0,[m=!1,g]=ar({prop:o,defaultProp:s,onChange:c});return p.jsxs(GO,{scope:n,checked:m,disabled:a,children:[p.jsx(ge.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":VE(m),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:w,onClick:Q(e.onClick,x=>{g(C=>!C),b&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),b&&p.jsx(YO,{control:h,bubbles:!v.current,name:r,value:l,checked:m,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});OE.displayName=Im;var FE="SwitchThumb",$E=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=KO(FE,n);return p.jsx(ge.span,{"data-state":VE(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});$E.displayName=FE;var YO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=LE(n),a=lm(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function VE(e){return e?"checked":"unchecked"}var UE=OE,XO=$E;const BE=f.forwardRef(({className:e,...t},n)=>p.jsx(UE,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(XO,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));BE.displayName=UE.displayName;function QO(){const{userInfo:e,isLoadingAuth:t,logout:n}=Hn(),{theme:r,setTheme:o,resolvedTheme:s}=wm(),i=s==="dark";if(t||!e)return p.jsx(Be,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Ft,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(Mm,{children:[p.jsx(_m,{asChild:!0,children:p.jsx(Be,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(D1,{className:"h-8 w-8",children:p.jsx(R1,{children:TI(e.name.display_name)})})})}),p.jsxs(Ou,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(jE,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(kh,{}),p.jsx(Xo,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx($_,{className:"mr-2 h-4 w-4"}):p.jsx(z_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(BE,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(kh,{}),p.jsxs(Xo,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(L_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function ZO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=Hn();wm();const[,c]=hu(),{toast:u}=qa(),d=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{S.log("[Header] setLocation instance type:",typeof c)},[c]);const y=v=>{S.log("[Header] New Entry Link clicked. Href:",v.currentTarget.href)},w=v=>{const b=v.target.files;if(b&&b.length>0){const m=Array.from(b),g=m.filter(C=>!C.type.startsWith("image/"));g.length>0&&u({title:"Invalid File Type",description:`Only image files are allowed. ${g.map(C=>C.name).join(", ")} ${g.length===1?"was":"were"} ignored.`,variant:"destructive"});const x=m.filter(C=>C.type.startsWith("image/"));x.length>0?(i(x),S.log(`[Header] Set ${x.length} selected files as pending.`)):S.log("[Header] No valid image files selected.")}else S.log("[Header] No files selected.");v.target&&(v.target.value="")};return p.jsxs("header",{className:Z("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(H_,{className:"h-3 w-3 mr-1.5"}),"Offline Mode - Changes will be saved locally and synced when back online."]}),h&&p.jsxs("div",{className:Z("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(HS,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Be,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(j_,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:d,onChange:w,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:Z("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"}),p.jsx(l2,{className:"ml-2"})]}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(y1,{type:"single",size:"sm",value:o,onValueChange:v=>{v&&s(v)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(Eh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(M_,{className:"h-4 w-4"})}),p.jsx(Eh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(N_,{className:"h-4 w-4"})})]}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(ZR,{href:"/entry/new",onClick:y,children:p.jsx(Be,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",title:"New Entry",children:p.jsx(V_,{className:"h-4 w-4"})})}),p.jsx(QO,{})]})]})]})]})}function JO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Fu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ah=e=>Array.isArray(e);function zE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Aa(e){return typeof e=="string"||Array.isArray(e)}function ow(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Nm(e,t,n,r){if(typeof t=="function"){const[o,s]=ow(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=ow(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function $u(e,t,n){const r=e.getProps();return Nm(r,t,n!==void 0?n:r.custom,e)}const jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lm=["initial",...jm],Xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rs=new Set(Xa),br=e=>e*1e3,Sr=e=>e/1e3,eF={type:"spring",stiffness:500,damping:25,restSpeed:10},tF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nF={type:"keyframes",duration:.8},rF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oF=(e,{keyframes:t})=>t.length>2?nF:rs.has(e)?e.startsWith("scale")?tF(t[1]):eF:rF;function Om(e,t){return e?e[t]||e.default||e:void 0}const sF={skipAnimations:!1,useManualTiming:!1},iF=e=>e!==null;function Vu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(iF),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Vt=e=>e;let Dh=Vt;function aF(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,u=!1,d=!1)=>{const y=d&&r?t:n;return u&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const _l=["read","resolveKeyframes","update","preRender","render","postRender"],lF=40;function qE(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=_l.reduce((m,g)=>(m[g]=aF(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=i,y=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,lF),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),u.process(o),d.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(y))},w=()=>{n=!0,r=!0,o.isProcessing||e(y)};return{schedule:_l.reduce((m,g)=>{const x=i[g];return m[g]=(C,E=!1,P=!1)=>(n||w(),x.schedule(C,E,P)),m},{}),cancel:m=>{for(let g=0;g<_l.length;g++)i[_l[g]].cancel(m)},state:o,steps:i}}const{schedule:ze,cancel:mo,state:Dt,steps:tf}=qE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vt,!0),HE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cF=1e-7,uF=12;function dF(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=HE(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>cF&&++a<uF);return i}function Qa(e,t,n,r){if(e===t&&n===r)return Vt;const o=s=>dF(s,0,1,e,n);return s=>s===0||s===1?s:HE(o(s),t,r)}const WE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,GE=e=>t=>1-e(1-t),KE=Qa(.33,1.53,.69,.99),Fm=GE(KE),YE=WE(Fm),XE=e=>(e*=2)<1?.5*Fm(e):.5*(2-Math.pow(2,-10*(e-1))),$m=e=>1-Math.sin(Math.acos(e)),QE=GE($m),ZE=WE($m),JE=e=>/^0[^.\s]+$/u.test(e);function fF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JE(e):!0}const eP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tP=e=>t=>typeof t=="string"&&t.startsWith(e),nP=tP("--"),hF=tP("var(--"),Vm=e=>hF(e)?pF.test(e.split("/*")[0].trim()):!1,pF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gF(e){const t=mF.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function rP(e,t,n=1){const[r,o]=gF(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return eP(i)?parseFloat(i):i}return Vm(o)?rP(o,t,n+1):o}const Rr=(e,t,n)=>n>t?t:n<e?e:n,yi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Da={...yi,transform:e=>Rr(0,1,e)},Il={...yi,default:1},Za=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$r=Za("deg"),or=Za("%"),fe=Za("px"),vF=Za("vh"),yF=Za("vw"),sw={...or,parse:e=>or.parse(e)/100,transform:e=>or.transform(e*100)},wF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),iw=e=>e===yi||e===fe,aw=(e,t)=>parseFloat(e.split(", ")[t]),lw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return aw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?aw(s[1],e):0}},xF=new Set(["x","y","z"]),bF=Xa.filter(e=>!xF.has(e));function SF(e){const t=[];return bF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ii={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lw(4,13),y:lw(5,14)};ii.translateX=ii.x;ii.translateY=ii.y;const oP=e=>t=>t.test(e),CF={test:e=>e==="auto",parse:e=>e},sP=[yi,fe,or,$r,yF,vF,CF],cw=e=>sP.find(oP(e)),Bo=new Set;let Rh=!1,Mh=!1;function iP(){if(Mh){const e=Array.from(Bo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=SF(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mh=!1,Rh=!1,Bo.forEach(e=>e.complete()),Bo.clear()}function aP(){Bo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mh=!0)})}function EF(){aP(),iP()}class Um{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bo.add(this),Rh||(Rh=!0,ze.read(aP),ze.resolveKeyframes(iP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Qi=e=>Math.round(e*1e5)/1e5,Bm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PF(e){return e==null}const TF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zm=(e,t)=>n=>!!(typeof n=="string"&&TF.test(n)&&n.startsWith(e)||t&&!PF(n)&&Object.prototype.hasOwnProperty.call(n,t)),lP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(Bm);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},kF=e=>Rr(0,255,e),nf={...yi,transform:e=>Math.round(kF(e))},Mo={test:zm("rgb","red"),parse:lP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+nf.transform(e)+", "+nf.transform(t)+", "+nf.transform(n)+", "+Qi(Da.transform(r))+")"};function AF(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const _h={test:zm("#"),parse:AF,transform:Mo.transform},Ss={test:zm("hsl","hue"),parse:lP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+or.transform(Qi(t))+", "+or.transform(Qi(n))+", "+Qi(Da.transform(r))+")"},Lt={test:e=>Mo.test(e)||_h.test(e)||Ss.test(e),parse:e=>Mo.test(e)?Mo.parse(e):Ss.test(e)?Ss.parse(e):_h.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Mo.transform(e):Ss.transform(e)},DF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Bm))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(DF))===null||n===void 0?void 0:n.length)||0)>0}const cP="number",uP="color",MF="var",_F="var(",uw="${}",IF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ra(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(IF,l=>(Lt.test(l)?(r.color.push(s),o.push(uP),n.push(Lt.parse(l))):l.startsWith(_F)?(r.var.push(s),o.push(MF),n.push(l)):(r.number.push(s),o.push(cP),n.push(parseFloat(l))),++s,uw)).split(uw);return{values:n,split:a,indexes:r,types:o}}function dP(e){return Ra(e).values}function fP(e){const{split:t,types:n}=Ra(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===cP?s+=Qi(o[i]):a===uP?s+=Lt.transform(o[i]):s+=o[i]}return s}}const NF=e=>typeof e=="number"?0:e;function jF(e){const t=dP(e);return fP(e)(t.map(NF))}const go={test:RF,parse:dP,createTransformer:fP,getAnimatableNone:jF},LF=new Set(["brightness","contrast","saturate","opacity"]);function OF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Bm)||[];if(!r)return e;const o=n.replace(r,"");let s=LF.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const FF=/\b([a-z-]*)\(.*?\)/gu,Ih={...go,getAnimatableNone:e=>{const t=e.match(FF);return t?t.map(OF).join(" "):e}},$F={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe},VF={rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:Il,scaleX:Il,scaleY:Il,scaleZ:Il,skew:$r,skewX:$r,skewY:$r,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Da,originX:sw,originY:sw,originZ:fe},dw={...yi,transform:Math.round},qm={...$F,...VF,zIndex:dw,size:fe,fillOpacity:Da,strokeOpacity:Da,numOctaves:dw},UF={...qm,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Ih,WebkitFilter:Ih},Hm=e=>UF[e];function hP(e,t){let n=Hm(e);return n!==Ih&&(n=go),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const BF=new Set(["auto","none","0"]);function zF(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!BF.has(s)&&Ra(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=hP(n,o)}class pP extends Um{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Vm(c))){const u=rP(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!wF.has(r)||t.length!==2)return;const[o,s]=t,i=cw(o),a=cw(s);if(i!==a)if(iw(i)&&iw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)fF(t[o])&&r.push(o);r.length&&zF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ii[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=ii[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Wm(e){return typeof e=="function"}let nc;function qF(){nc=void 0}const sr={now:()=>(nc===void 0&&sr.set(Dt.isProcessing||sF.useManualTiming?Dt.timestamp:performance.now()),nc),set:e=>{nc=e,queueMicrotask(qF)}},fw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(go.test(e)||e==="0")&&!e.startsWith("url("));function HF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function WF(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=fw(o,t),a=fw(s,t);return!i||!a?!1:HF(e)||(n==="spring"||Wm(n))&&r}const GF=40;class mP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=sr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!WF(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Vu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ai=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},gP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(ai(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function vP(e,t){return t?e*(1e3/t):0}const KF=5;function yP(e,t,n){const r=Math.max(t-KF,0);return vP(n-e(r),t-r)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rf=.001;function YF({duration:e=dt.duration,bounce:t=dt.bounce,velocity:n=dt.velocity,mass:r=dt.mass}){let o,s,i=1-t;i=Rr(dt.minDamping,dt.maxDamping,i),e=Rr(dt.minDuration,dt.maxDuration,Sr(e)),i<1?(o=c=>{const u=c*i,d=u*e,h=u-n,y=Nh(c,i),w=Math.exp(-d);return rf-h/y*w},s=c=>{const d=c*i*e,h=d*n+n,y=Math.pow(i,2)*Math.pow(c,2)*e,w=Math.exp(-d),v=Nh(Math.pow(c,2),i);return(-o(c)+rf>0?-1:1)*((h-y)*w)/v}):(o=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-rf+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=QF(o,s,a);if(e=br(e),isNaN(l))return{stiffness:dt.stiffness,damping:dt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const XF=12;function QF(e,t,n){let r=n;for(let o=1;o<XF;o++)r=r-e(r)/t(r);return r}function Nh(e,t){return e*Math.sqrt(1-t*t)}const jh=2e4;function wP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<jh;)t+=n,r=e.next(t);return t>=jh?1/0:t}const ZF=["duration","bounce"],JF=["stiffness","damping","mass"];function hw(e,t){return t.some(n=>e[n]!==void 0)}function e$(e){let t={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...e};if(!hw(e,JF)&&hw(e,ZF))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Rr(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:dt.mass,stiffness:o,damping:s}}else{const n=YF(e);t={...t,...n,mass:dt.mass},t.isResolvedFromDuration=!0}return t}function xP(e=dt.visualDuration,t=dt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:y}=e$({...n,velocity:-Sr(n.velocity||0)}),w=h||0,v=c/(2*Math.sqrt(l*u)),b=i-s,m=Sr(Math.sqrt(l/u)),g=Math.abs(b)<5;r||(r=g?dt.restSpeed.granular:dt.restSpeed.default),o||(o=g?dt.restDelta.granular:dt.restDelta.default);let x;if(v<1){const E=Nh(m,v);x=P=>{const k=Math.exp(-v*m*P);return i-k*((w+v*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(v===1)x=E=>i-Math.exp(-m*E)*(b+(w+m*b)*E);else{const E=m*Math.sqrt(v*v-1);x=P=>{const k=Math.exp(-v*m*P),A=Math.min(E*P,300);return i-k*((w+v*m*b)*Math.sinh(A)+E*b*Math.cosh(A))/E}}const C={calculatedDuration:y&&d||null,next:E=>{const P=x(E);if(y)a.done=E>=d;else{let k=0;v<1&&(k=E===0?br(w):yP(x,E,P));const A=Math.abs(k)<=r,R=Math.abs(i-P)<=o;a.done=A&&R}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(wP(C),jh),P=gP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function pw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},y=A=>a!==void 0&&A<a||l!==void 0&&A>l,w=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let v=n*t;const b=d+v,m=i===void 0?b:i(b);m!==b&&(v=m-d);const g=A=>-v*Math.exp(-A/r),x=A=>m+g(A),C=A=>{const R=g(A),M=x(A);h.done=Math.abs(R)<=c,h.value=h.done?m:M};let E,P;const k=A=>{y(h.value)&&(E=A,P=xP({keyframes:[h.value,w(h.value)],velocity:yP(x,A,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:A=>{let R=!1;return!P&&E===void 0&&(R=!0,C(A),k(A)),E!==void 0&&A>=E?P.next(A-E):(!R&&C(A),h)}}}const t$=Qa(.42,0,1,1),n$=Qa(0,0,.58,1),bP=Qa(.42,0,.58,1),r$=e=>Array.isArray(e)&&typeof e[0]!="number",Gm=e=>Array.isArray(e)&&typeof e[0]=="number",mw={linear:Vt,easeIn:t$,easeInOut:bP,easeOut:n$,circIn:$m,circInOut:ZE,circOut:QE,backIn:Fm,backInOut:YE,backOut:KE,anticipate:XE},gw=e=>{if(Gm(e)){Dh(e.length===4);const[t,n,r,o]=e;return Qa(t,n,r,o)}else if(typeof e=="string")return Dh(mw[e]!==void 0),mw[e];return e},o$=(e,t)=>n=>t(e(n)),ao=(...e)=>e.reduce(o$),it=(e,t,n)=>e+(t-e)*n;function of(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=of(l,a,e+1/3),s=of(l,a,e),i=of(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function $c(e,t){return n=>n>0?t:e}const sf=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},i$=[_h,Mo,Ss],a$=e=>i$.find(t=>t.test(e));function vw(e){const t=a$(e);if(!t)return!1;let n=t.parse(e);return t===Ss&&(n=s$(n)),n}const yw=(e,t)=>{const n=vw(e),r=vw(t);if(!n||!r)return $c(e,t);const o={...n};return s=>(o.red=sf(n.red,r.red,s),o.green=sf(n.green,r.green,s),o.blue=sf(n.blue,r.blue,s),o.alpha=it(n.alpha,r.alpha,s),Mo.transform(o))},Lh=new Set(["none","hidden"]);function l$(e,t){return Lh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function c$(e,t){return n=>it(e,t,n)}function Km(e){return typeof e=="number"?c$:typeof e=="string"?Vm(e)?$c:Lt.test(e)?yw:f$:Array.isArray(e)?SP:typeof e=="object"?Lt.test(e)?yw:u$:$c}function SP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>Km(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function u$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Km(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function d$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const f$=(e,t)=>{const n=go.createTransformer(t),r=Ra(e),o=Ra(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Lh.has(e)&&!o.values.length||Lh.has(t)&&!r.values.length?l$(e,t):ao(SP(d$(r,o),o.values),n):$c(e,t)};function CP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?it(e,t,n):Km(e)(e,t)}function h$(e,t,n){const r=[],o=n||CP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Vt:t;a=ao(l,a)}r.push(a)}return r}function p$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Dh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=h$(t,r,o),a=i.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=ai(e[u],e[u+1],c);return i[u](d)};return n?c=>l(Rr(e[0],e[s-1],c)):l}function m$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=ai(0,t,r);e.push(it(n,1,o))}}function g$(e){const t=[0];return m$(t,e.length-1),t}function v$(e,t){return e.map(n=>n*t)}function y$(e,t){return e.map(()=>t||bP).splice(0,e.length-1)}function Vc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=r$(r)?r.map(gw):gw(r),s={done:!1,value:t[0]},i=v$(n&&n.length===t.length?n:g$(t),e),a=p$(i,t,{ease:Array.isArray(o)?o:y$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const w$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ze.update(t,!0),stop:()=>mo(t),now:()=>Dt.isProcessing?Dt.timestamp:sr.now()}},x$={decay:pw,inertia:pw,tween:Vc,keyframes:Vc,spring:xP},b$=e=>e/100;class Ym extends mP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||Um,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=Wm(n)?n:x$[n]||Vc;let l,c;a!==Vc&&typeof t[0]!="number"&&(l=ao(b$,CP(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=wP(u));const{calculatedDuration:d}=u,h=d+o,y=h*(r+1)-o;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:y,repeatType:w,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>u;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,C=s;if(y){const A=Math.min(this.currentTime,u)/d;let R=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&R--,R=Math.min(R,y+1),!!(R%2)&&(w==="reverse"?(M=1-M,v&&(M-=v/d)):w==="mirror"&&(C=i)),x=Rr(0,1,M)*d}const E=g?{done:!1,value:l[0]}:C.next(x);a&&(E.value=a(E.value));let{done:P}=E;!g&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Vu(l,this.options,o)),b&&b(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Sr(t.calculatedDuration):0}get time(){return Sr(this.currentTime)}set time(t){t=br(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Sr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=w$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const S$=new Set(["opacity","clipPath","filter","transform"]);function Xm(e){let t;return()=>(t===void 0&&(t=e()),t)}const C$={linearEasing:void 0};function E$(e,t){const n=Xm(e);return()=>{var r;return(r=C$[t])!==null&&r!==void 0?r:n()}}const Uc=E$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function EP(e){return!!(typeof e=="function"&&Uc()||!e||typeof e=="string"&&(e in Oh||Uc())||Gm(e)||Array.isArray(e)&&e.every(EP))}const Fi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Oh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fi([0,.65,.55,1]),circOut:Fi([.55,0,1,.45]),backIn:Fi([.31,.01,.66,-.59]),backOut:Fi([.33,1.53,.69,.99])};function PP(e,t){if(e)return typeof e=="function"&&Uc()?gP(e,t):Gm(e)?Fi(e):Array.isArray(e)?e.map(n=>PP(n,t)||Oh.easeOut):Oh[e]}function P$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=PP(a,o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function ww(e,t){e.timeline=t,e.onfinish=null}const T$=Xm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bc=10,k$=2e4;function A$(e){return Wm(e.type)||e.type==="spring"||!EP(e.ease)}function D$(e,t){const n=new Ym({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<k$;)r=n.sample(s),o.push(r.value),s+=Bc;return{times:void 0,keyframes:o,duration:s-Bc,ease:"linear"}}const TP={anticipate:XE,backInOut:YE,circInOut:ZE};function R$(e){return e in TP}class xw extends mP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new pP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Uc()&&R$(i)&&(i=TP[i]),A$(this.options)){const{onComplete:h,onUpdate:y,motionValue:w,element:v,...b}=this.options,m=D$(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const d=P$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(ww(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Vu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Sr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Sr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=br(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Vt;const{animation:r}=n;ww(r,t)}return Vt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...y}=this.options,w=new Ym({...y,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),v=br(this.time);c.setWithVelocity(w.sample(v-Bc).value,w.sample(v).value,Bc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return T$()&&r&&S$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const M$=Xm(()=>window.ScrollTimeline!==void 0);class _${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>M$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function I$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Qm=(e,t,n,r={},o,s)=>i=>{const a=Om(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-br(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};I$(a)||(u={...u,...oF(e,u)}),u.duration&&(u.duration=br(u.duration)),u.repeatDelay&&(u.repeatDelay=br(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const h=Vu(u.keyframes,a);if(h!==void 0)return ze.update(()=>{u.onUpdate(h),u.onComplete()}),new _$([])}return!s&&xw.supports(u)?new xw(u):new Ym(u)},N$=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),j$=e=>Ah(e)?e[e.length-1]||0:e;function Zm(e,t){e.indexOf(t)===-1&&e.push(t)}function Jm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class eg{constructor(){this.subscriptions=[]}add(t){return Zm(this.subscriptions,t),()=>Jm(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bw=30,L$=e=>!isNaN(parseFloat(e));class O${constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=sr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=L$(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new eg);const r=this.events[t].add(n);return t==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bw);return vP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ma(e,t){return new O$(e,t)}function F$(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ma(n))}function $$(e,t){const n=$u(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=j$(s[i]);F$(e,i,a)}}const tg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V$="framerAppearId",kP="data-"+tg(V$);function AP(e){return e.props[kP]}const $t=e=>!!(e&&e.getVelocity);function U$(e){return!!($t(e)&&e.add)}function Fh(e,t){const n=e.getValue("willChange");if(U$(n))return n.add(t)}function B$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function DP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const d in l){const h=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),y=l[d];if(y===void 0||u&&B$(u,d))continue;const w={delay:n,...Om(i||{},d)};let v=!1;if(window.MotionHandoffAnimation){const m=AP(e);if(m){const g=window.MotionHandoffAnimation(m,d,ze);g!==null&&(w.startTime=g,v=!0)}}Fh(e,d),h.start(Qm(d,h,y,e.shouldReduceMotion&&rs.has(d)?{type:!1}:w,e,v));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{ze.update(()=>{a&&$$(e,a)})}),c}function $h(e,t,n={}){var r;const o=$u(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(DP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return z$(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function z$(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(q$).forEach((c,u)=>{c.notify("AnimationStart",t),i.push($h(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function q$(e,t){return e.sortNodePosition(t)}function H$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>$h(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=$h(e,t,n);else{const o=typeof t=="function"?$u(e,t,n.custom):t;r=Promise.all(DP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const W$=Lm.length;function RP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?RP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<W$;n++){const r=Lm[n],o=e.props[r];(Aa(o)||o===!1)&&(t[r]=o)}return t}const G$=[...jm].reverse(),K$=jm.length;function Y$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>H$(e,n,r)))}function X$(e){let t=Y$(e),n=Sw(),r=!0;const o=l=>(c,u)=>{var d;const h=$u(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:y,transitionEnd:w,...v}=h;c={...c,...v,...w}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,u=RP(e.parent)||{},d=[],h=new Set;let y={},w=1/0;for(let b=0;b<K$;b++){const m=G$[b],g=n[m],x=c[m]!==void 0?c[m]:u[m],C=Aa(x),E=m===l?g.isActive:null;E===!1&&(w=b);let P=x===u[m]&&x!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...y},!g.isActive&&E===null||!x&&!g.prevProp||Fu(x)||typeof x=="boolean")continue;const k=Q$(g.prevProp,x);let A=k||m===l&&g.isActive&&!P&&C||b>w&&C,R=!1;const M=Array.isArray(x)?x:[x];let L=M.reduce(o(m),{});E===!1&&(L={});const{prevResolvedValues:$={}}=g,F={...$,...L},j=N=>{A=!0,h.has(N)&&(R=!0,h.delete(N)),g.needsAnimating[N]=!0;const D=e.getValue(N);D&&(D.liveStyle=!1)};for(const N in F){const D=L[N],_=$[N];if(y.hasOwnProperty(N))continue;let V=!1;Ah(D)&&Ah(_)?V=!zE(D,_):V=D!==_,V?D!=null?j(N):h.add(N):D!==void 0&&h.has(N)?j(N):g.protectedKeys[N]=!0}g.prevProp=x,g.prevResolvedValues=L,g.isActive&&(y={...y,...L}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(P&&k)||R)&&d.push(...M.map(N=>({animation:N,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const g=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),b[m]=g??null}),d.push({animation:b})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var y;return(y=h.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=i(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Sw(),r=!0}}}function Q$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zE(t,e):!1}function Co(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sw(){return{animate:Co(!0),whileInView:Co(),whileHover:Co(),whileTap:Co(),whileDrag:Co(),whileFocus:Co(),exit:Co()}}class xo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Z$ extends xo{constructor(t){super(t),t.animationState||(t.animationState=X$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let J$=0;class eV extends xo{constructor(){super(...arguments),this.id=J$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const tV={animation:{Feature:Z$},exit:{Feature:eV}};function nV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const In={x:!1,y:!1};function MP(){return In.x||In.y}function Cw(e){return t=>{t.pointerType==="touch"||MP()||e(t)}}function rV(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=Cw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=Cw(u=>{l(u),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return nV(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function oV(e){return e==="x"||e==="y"?In[e]?null:(In[e]=!0,()=>{In[e]=!1}):In.x||In.y?null:(In.x=In.y=!0,()=>{In.x=In.y=!1})}const _P=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ja(e){return{point:{x:e.pageX,y:e.pageY}}}const sV=e=>t=>_P(t)&&e(t,Ja(t));function wr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function lo(e,t,n,r){return wr(e,t,sV(n),r)}const Ew=(e,t)=>Math.abs(e-t);function iV(e,t){const n=Ew(e.x,t.x),r=Ew(e.y,t.y);return Math.sqrt(n**2+r**2)}class IP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=lf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=iV(d.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:w}=d,{timestamp:v}=Dt;this.history.push({...w,timestamp:v});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=af(h,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=lf(d.type==="pointercancel"?this.lastMoveEventInfo:af(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,b),w&&w(d,b)},!_P(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=Ja(t),a=af(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Dt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,lf(a,this.history)),this.removeListeners=ao(lo(this.contextWindow,"pointermove",this.handlePointerMove),lo(this.contextWindow,"pointerup",this.handlePointerUp),lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mo(this.updatePoint)}}function af(e,t){return t?{point:t(e.point)}:e}function Pw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lf({point:e},t){return{point:e,delta:Pw(e,NP(t)),offset:Pw(e,aV(t)),velocity:lV(t,.1)}}function aV(e){return e[0]}function NP(e){return e[e.length-1]}function lV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=NP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>br(t)));)n--;if(!r)return{x:0,y:0};const s=Sr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Cs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const jP=1e-4,cV=1-jP,uV=1+jP,LP=.01,dV=0-LP,fV=0+LP;function pn(e){return e.max-e.min}function hV(e,t,n){return Math.abs(e-t)<=n}function Tw(e,t,n,r=.5){e.origin=r,e.originPoint=it(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=it(n.min,n.max,e.origin)-e.originPoint,(e.scale>=cV&&e.scale<=uV||isNaN(e.scale))&&(e.scale=1),(e.translate>=dV&&e.translate<=fV||isNaN(e.translate))&&(e.translate=0)}function Zi(e,t,n,r){Tw(e.x,t.x,n.x,r?r.originX:void 0),Tw(e.y,t.y,n.y,r?r.originY:void 0)}function kw(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function pV(e,t,n){kw(e.x,t.x,n.x),kw(e.y,t.y,n.y)}function Aw(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Ji(e,t,n){Aw(e.x,t.x,n.x),Aw(e.y,t.y,n.y)}function mV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?it(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?it(n,e,r.max):Math.min(e,n)),e}function Dw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gV(e,{top:t,left:n,bottom:r,right:o}){return{x:Dw(e.x,n,o),y:Dw(e.y,t,r)}}function Rw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vV(e,t){return{x:Rw(e.x,t.x),y:Rw(e.y,t.y)}}function yV(e,t){let n=.5;const r=pn(e),o=pn(t);return o>r?n=ai(t.min,t.max-r,e.min):r>o&&(n=ai(e.min,e.max-o,t.min)),Rr(0,1,n)}function wV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vh=.35;function xV(e=Vh){return e===!1?e=0:e===!0&&(e=Vh),{x:Mw(e,"left","right"),y:Mw(e,"top","bottom")}}function Mw(e,t,n){return{min:_w(e,t),max:_w(e,n)}}function _w(e,t){return typeof e=="number"?e:e[t]||0}const Iw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Es=()=>({x:Iw(),y:Iw()}),Nw=()=>({min:0,max:0}),mt=()=>({x:Nw(),y:Nw()});function xn(e){return[e("x"),e("y")]}function OP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cf(e){return e===void 0||e===1}function Uh({scale:e,scaleX:t,scaleY:n}){return!cf(e)||!cf(t)||!cf(n)}function To(e){return Uh(e)||FP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FP(e){return jw(e.x)||jw(e.y)}function jw(e){return e&&e!=="0%"}function zc(e,t,n){const r=e-n,o=t*r;return n+o}function Lw(e,t,n,r,o){return o!==void 0&&(e=zc(e,o,r)),zc(e,n,r)+t}function Bh(e,t=0,n=1,r,o){e.min=Lw(e.min,t,n,r,o),e.max=Lw(e.max,t,n,r,o)}function $P(e,{x:t,y:n}){Bh(e.x,t.translate,t.scale,t.originPoint),Bh(e.y,n.translate,n.scale,n.originPoint)}const Ow=.999999999999,Fw=1.0000000000001;function CV(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ts(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,$P(e,i)),r&&To(s.latestValues)&&Ts(e,s.latestValues))}t.x<Fw&&t.x>Ow&&(t.x=1),t.y<Fw&&t.y>Ow&&(t.y=1)}function Ps(e,t){e.min=e.min+t,e.max=e.max+t}function $w(e,t,n,r,o=.5){const s=it(e.min,e.max,o);Bh(e,t,n,s,r)}function Ts(e,t){$w(e.x,t.x,t.scaleX,t.scale,t.originX),$w(e.y,t.y,t.scaleY,t.scale,t.originY)}function VP(e,t){return OP(SV(e.getBoundingClientRect(),t))}function EV(e,t,n){const r=VP(e,n),{scroll:o}=t;return o&&(Ps(r.x,o.offset.x),Ps(r.y,o.offset.y)),r}const UP=({current:e})=>e?e.ownerDocument.defaultView:null,PV=new WeakMap;class TV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ja(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:y,onDragStart:w}=this.getProps();if(h&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oV(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(or.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(m=pn(x)*(parseFloat(m)/100))}}this.originPoint[b]=m}),w&&ze.postRender(()=>w(u,d)),Fh(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(u,d)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=d;if(y&&this.currentDirection===null){this.currentDirection=kV(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>xn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:UP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&ze.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Nl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=mV(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Cs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=gV(o.layoutBox,n):this.constraints=!1,this.elastic=xV(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&xn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=wV(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Cs(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=EV(r,o.root,this.visualElement.getTransformPagePoint());let i=vV(o.layout.layoutBox,s);if(n){const a=n(bV(i));this.hasMutatedConstraints=!!a,a&&(i=OP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xn(u=>{if(!Nl(u,n,this.currentDirection))return;let d=l&&l[u]||{};i&&(d={min:0,max:0});const h=o?200:1e6,y=o?40:1e7,w={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Fh(this.visualElement,t),r.start(Qm(t,r,0,n,this.visualElement,!1))}stopAnimation(){xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xn(n=>{const{drag:r}=this.getProps();if(!Nl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-it(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cs(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=yV({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xn(i=>{if(!Nl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(it(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;PV.set(this.visualElement,this);const t=this.visualElement.current,n=lo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Cs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(r);const i=wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Vh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Nl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class AV extends xo{constructor(t){super(t),this.removeGroupControls=Vt,this.removeListeners=Vt,this.controls=new TV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vw=e=>(t,n)=>{e&&ze.postRender(()=>e(t,n))};class DV extends xo{constructor(){super(...arguments),this.removePointerDownListener=Vt}onPointerDown(t){this.session=new IP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Vw(t),onStart:Vw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&ze.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=lo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uu=f.createContext(null);function RV(){const e=f.useContext(Uu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const ng=f.createContext({}),BP=f.createContext({}),rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _i={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fe.test(e))e=parseFloat(e);else return e;const n=Uw(e,t.target.x),r=Uw(e,t.target.y);return`${n}% ${r}%`}},MV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=go.parse(e);if(o.length>5)return r;const s=go.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=it(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},qc={};function _V(e){Object.assign(qc,e)}const{schedule:rg,cancel:Oz}=qE(queueMicrotask,!1);class IV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;_V(NV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||ze.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zP(e){const[t,n]=RV(),r=f.useContext(ng);return p.jsx(IV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(BP),isPresent:t,safeToRemove:n})}const NV={borderRadius:{..._i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_i,borderTopRightRadius:_i,borderBottomLeftRadius:_i,borderBottomRightRadius:_i,boxShadow:MV},qP=["TopLeft","TopRight","BottomLeft","BottomRight"],jV=qP.length,Bw=e=>typeof e=="string"?parseFloat(e):e,zw=e=>typeof e=="number"||fe.test(e);function LV(e,t,n,r,o,s){o?(e.opacity=it(0,n.opacity!==void 0?n.opacity:1,OV(r)),e.opacityExit=it(t.opacity!==void 0?t.opacity:1,0,FV(r))):s&&(e.opacity=it(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<jV;i++){const a=`border${qP[i]}Radius`;let l=qw(t,a),c=qw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zw(l)===zw(c)?(e[a]=Math.max(it(Bw(l),Bw(c),r),0),(or.test(c)||or.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=it(t.rotate||0,n.rotate||0,r))}function qw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OV=HP(0,.5,QE),FV=HP(.5,.95,Vt);function HP(e,t,n){return r=>r<e?0:r>t?1:n(ai(e,t,r))}function Hw(e,t){e.min=t.min,e.max=t.max}function wn(e,t){Hw(e.x,t.x),Hw(e.y,t.y)}function Ww(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gw(e,t,n,r,o){return e-=t,e=zc(e,1/n,r),o!==void 0&&(e=zc(e,1/o,r)),e}function $V(e,t=0,n=1,r=.5,o,s=e,i=e){if(or.test(t)&&(t=parseFloat(t),t=it(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=it(s.min,s.max,r);e===s&&(a-=t),e.min=Gw(e.min,t,n,a,o),e.max=Gw(e.max,t,n,a,o)}function Kw(e,t,[n,r,o],s,i){$V(e,t[n],t[r],t[o],t.scale,s,i)}const VV=["x","scaleX","originX"],UV=["y","scaleY","originY"];function Yw(e,t,n,r){Kw(e.x,t,VV,n?n.x:void 0,r?r.x:void 0),Kw(e.y,t,UV,n?n.y:void 0,r?r.y:void 0)}function Xw(e){return e.translate===0&&e.scale===1}function WP(e){return Xw(e.x)&&Xw(e.y)}function Qw(e,t){return e.min===t.min&&e.max===t.max}function BV(e,t){return Qw(e.x,t.x)&&Qw(e.y,t.y)}function Zw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GP(e,t){return Zw(e.x,t.x)&&Zw(e.y,t.y)}function Jw(e){return pn(e.x)/pn(e.y)}function e0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zV{constructor(){this.members=[]}add(t){Zm(this.members,t),t.scheduleRender()}remove(t){if(Jm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qV(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:y,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const HV=(e,t)=>e.depth-t.depth;class WV{constructor(){this.children=[],this.isDirty=!1}add(t){Zm(this.children,t),this.isDirty=!0}remove(t){Jm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(HV),this.isDirty=!1,this.children.forEach(t)}}function oc(e){const t=$t(e)?e.get():e;return N$(t)?t.toValue():t}function GV(e,t){const n=sr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(mo(r),e(s-t))};return ze.read(r,!0),()=>mo(r)}function KV(e){return e instanceof SVGElement&&e.tagName!=="svg"}function YV(e,t,n){const r=$t(e)?e:Ma(e);return r.start(Qm("",r,t,n)),r.animation}const ko={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$i=typeof window<"u"&&window.MotionDebug!==void 0,uf=["","X","Y","Z"],XV={visibility:"hidden"},t0=1e3;let QV=0;function df(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function KP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&KP(r)}function YP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=QV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$i&&(ko.totalNodes=ko.resolvedTargetDeltas=ko.recalculatedProjection=0),this.nodes.forEach(eU),this.nodes.forEach(sU),this.nodes.forEach(iU),this.nodes.forEach(tU),$i&&window.MotionDebug.record(ko)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WV)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new eg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KV(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=GV(h,250),rc.hasAnimatedSinceResize&&(rc.hasAnimatedSinceResize=!1,this.nodes.forEach(r0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||dU,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=u.getProps(),g=!this.targetLayout||!GP(this.targetLayout,w)||y,x=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const C={...Om(v,"layout"),onPlay:b,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||r0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aU),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n0);return}this.isUpdating||this.nodes.forEach(rU),this.isUpdating=!1,this.nodes.forEach(oU),this.nodes.forEach(ZV),this.nodes.forEach(JV),this.clearAllSnapshots();const a=sr.now();Dt.delta=Rr(0,1e3/60,a-Dt.timestamp),Dt.timestamp=a,Dt.isProcessing=!0,tf.update.process(Dt),tf.preRender.process(Dt),tf.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nU),this.sharedNodes.forEach(lU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!WP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(a||To(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),fU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return mt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(hU))){const{scroll:u}=this.root;u&&(Ps(l.x,u.offset.x),Ps(l.y,u.offset.y))}return l}removeElementScroll(i){var a;const l=mt();if(wn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&wn(l,i),Ps(l.x,d.offset.x),Ps(l.y,d.offset.y))}return l}applyTransform(i,a=!1){const l=mt();wn(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ts(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),To(u.latestValues)&&Ts(l,u.latestValues)}return To(this.latestValues)&&Ts(l,this.latestValues),l}removeTransform(i){const a=mt();wn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!To(c.latestValues))continue;Uh(c.latestValues)&&c.updateSnapshot();const u=mt(),d=c.measurePageBox();wn(u,d),Yw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return To(this.latestValues)&&Yw(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ji(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),$P(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ji(this.relativeTargetOrigin,this.target,y.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$i&&ko.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uh(this.parent.latestValues)||FP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;CV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=mt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ww(this.prevProjectionDelta.x,this.projectionDelta.x),Ww(this.prevProjectionDelta.y,this.projectionDelta.y)),Zi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!e0(this.projectionDelta.x,this.prevProjectionDelta.x)||!e0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),$i&&ko.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Es(),this.projectionDelta=Es(),this.projectionDeltaWithTransform=Es()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=mt(),y=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=y!==w,b=this.getStack(),m=!b||b.members.length<=1,g=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(uU));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const E=C/1e3;o0(d.x,i.x,E),o0(d.y,i.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ji(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cU(this.relativeTarget,this.relativeTargetOrigin,h,E),x&&BV(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=mt()),wn(x,this.relativeTarget)),v&&(this.animationValues=u,LV(u,c,this.latestValues,E,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{rc.hasAnimatedSinceResize=!0,this.currentAnimation=YV(0,t0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&XP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mt();const d=pn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+d;const h=pn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}wn(a,l),Ts(a,u),Zi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new zV),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&df("z",i,c,this.animationValues);for(let u=0;u<uf.length;u++)df(`rotate${uf[u]}`,i,c,this.animationValues),df(`skew${uf[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XV;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=oc(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=oc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=qV(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:y,y:w}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in qc){if(h[v]===void 0)continue;const{correct:b,applyTo:m}=qc[v],g=c.transform==="none"?h[v]:b(h[v],d);if(m){const x=m.length;for(let C=0;C<x;C++)c[m[C]]=g}else c[v]=g}return this.options.layoutId&&(c.pointerEvents=d===this?oc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(n0),this.root.sharedNodes.clear()}}}function ZV(e){e.updateLayout()}function JV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?xn(d=>{const h=i?n.measuredBox[d]:n.layoutBox[d],y=pn(h);h.min=r[d].min,h.max=h.min+y}):XP(s,n.layoutBox,r)&&xn(d=>{const h=i?n.measuredBox[d]:n.layoutBox[d],y=pn(r[d]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+y)});const a=Es();Zi(a,r,n.layoutBox);const l=Es();i?Zi(l,e.applyTransform(o,!0),n.measuredBox):Zi(l,r,n.layoutBox);const c=!WP(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:y}=d;if(h&&y){const w=mt();Ji(w,n.layoutBox,h.layoutBox);const v=mt();Ji(v,r,y.layoutBox),GP(w,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function eU(e){$i&&ko.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nU(e){e.clearSnapshot()}function n0(e){e.clearMeasurements()}function rU(e){e.isLayoutDirty=!1}function oU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sU(e){e.resolveTargetDelta()}function iU(e){e.calcProjection()}function aU(e){e.resetSkewAndRotation()}function lU(e){e.removeLeadSnapshot()}function o0(e,t,n){e.translate=it(t.translate,0,n),e.scale=it(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function s0(e,t,n,r){e.min=it(t.min,n.min,r),e.max=it(t.max,n.max,r)}function cU(e,t,n,r){s0(e.x,t.x,n.x,r),s0(e.y,t.y,n.y,r)}function uU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dU={duration:.45,ease:[.4,0,.1,1]},i0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),a0=i0("applewebkit/")&&!i0("chrome/")?Math.round:Vt;function l0(e){e.min=a0(e.min),e.max=a0(e.max)}function fU(e){l0(e.x),l0(e.y)}function XP(e,t,n){return e==="position"||e==="preserve-aspect"&&!hV(Jw(t),Jw(n),.2)}function hU(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const pU=YP({attachResizeListener:(e,t)=>wr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ff={current:void 0},QP=YP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ff.current){const e=new pU({});e.mount(window),e.setOptions({layoutScroll:!0}),ff.current=e}return ff.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mU={pan:{Feature:DV},drag:{Feature:AV,ProjectionNode:QP,MeasureLayout:zP}};function c0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&ze.postRender(()=>o(t,Ja(t)))}class gU extends xo{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=rV(t,r=>(c0(this.node,r,!0),o=>c0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class vU extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ao(wr(this.node.current,"focus",()=>this.onFocus()),wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ZP=(e,t)=>t?e===t?!0:ZP(e,t.parentElement):!1;function hf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ja(n))}class yU extends xo{constructor(){super(...arguments),this.removeStartListeners=Vt,this.removeEndListeners=Vt,this.removeAccessibleListeners=Vt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=lo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),h=!d&&!ZP(this.node.current,a.target)?u:c;h&&ze.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=lo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ao(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||hf("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ze.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=wr(this.node.current,"keyup",i),hf("down",(a,l)=>{this.startPress(a,l)})},n=wr(this.node.current,"keydown",t),r=()=>{this.isPressing&&hf("cancel",(s,i)=>this.cancelPress(s,i))},o=wr(this.node.current,"blur",r);this.removeAccessibleListeners=ao(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ze.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!MP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ze.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=lo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ao(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zh=new WeakMap,pf=new WeakMap,wU=e=>{const t=zh.get(e.target);t&&t(e)},xU=e=>{e.forEach(wU)};function bU({root:e,...t}){const n=e||document;pf.has(n)||pf.set(n,{});const r=pf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xU,{root:e,...t})),r[o]}function SU(e,t,n){const r=bU(t);return zh.set(e,n),r.observe(e),()=>{zh.delete(e),r.unobserve(e)}}const CU={some:0,all:1};class EU extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:CU[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return SU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PU(t,n))&&this.startObserver()}unmount(){}}function PU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TU={inView:{Feature:EU},tap:{Feature:yU},focus:{Feature:vU},hover:{Feature:gU}},kU={layout:{ProjectionNode:QP,MeasureLayout:zP}},og=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Bu=f.createContext({}),sg=typeof window<"u",JP=sg?f.useLayoutEffect:f.useEffect,eT=f.createContext({strict:!1});function AU(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Bu),l=f.useContext(eT),c=f.useContext(Uu),u=f.useContext(og).reducedMotion,d=f.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,y=f.useContext(BP);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&DU(d.current,n,o,y);const w=f.useRef(!1);f.useInsertionEffect(()=>{h&&w.current&&h.update(n,c)});const v=n[kP],b=f.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,v)));return JP(()=>{h&&(w.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),rg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),b.current=!1))}),h}function DU(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Cs(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function tT(e){if(e)return e.options.allowProjection!==!1?e.projection:tT(e.parent)}function RU(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Cs(n)&&(n.current=r))},[t])}function zu(e){return Fu(e.animate)||Lm.some(t=>Aa(e[t]))}function nT(e){return!!(zu(e)||e.variants)}function MU(e,t){if(zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Aa(n)?n:void 0,animate:Aa(r)?r:void 0}}return e.inherit!==!1?t:{}}function _U(e){const{initial:t,animate:n}=MU(e,f.useContext(Bu));return f.useMemo(()=>({initial:t,animate:n}),[u0(t),u0(n)])}function u0(e){return Array.isArray(e)?e.join(" "):e}const d0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},li={};for(const e in d0)li[e]={isEnabled:t=>d0[e].some(n=>!!t[n])};function IU(e){for(const t in e)li[t]={...li[t],...e[t]}}const NU=Symbol.for("motionComponentSymbol");function jU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&IU(e);function s(a,l){let c;const u={...f.useContext(og),...a,layoutId:LU(a)},{isStatic:d}=u,h=_U(a),y=r(a,d);if(!d&&sg){OU();const w=FU(u);c=w.MeasureLayout,h.visualElement=AU(o,y,u,t,w.ProjectionNode)}return p.jsxs(Bu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,n(o,a,RU(y,h.visualElement,l),y,d,h.visualElement)]})}const i=f.forwardRef(s);return i[NU]=o,i}function LU({layoutId:e}){const t=f.useContext(ng).id;return t&&e!==void 0?t+"-"+e:e}function OU(e,t){f.useContext(eT).strict}function FU(e){const{drag:t,layout:n}=li;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $U=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ig(e){return typeof e!="string"||e.includes("-")?!1:!!($U.indexOf(e)>-1||/[A-Z]/u.test(e))}function rT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const oT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sT(e,t,n,r){rT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(oT.has(o)?o:tg(o),t.attrs[o])}function iT(e,{layout:t,layoutId:n}){return rs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qc[e]||e==="opacity")}function ag(e,t,n){var r;const{style:o}=e,s={};for(const i in o)($t(o[i])||t.style&&$t(t.style[i])||iT(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function aT(e,t,n){const r=ag(e,t,n);for(const o in e)if($t(e[o])||$t(t[o])){const s=Xa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function lg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function VU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:UU(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const lT=e=>(t,n)=>{const r=f.useContext(Bu),o=f.useContext(Uu),s=()=>VU(e,t,r,o);return n?s():lg(s)};function UU(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=oc(s[h]);let{initial:i,animate:a}=e;const l=zu(e),c=nT(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const d=u?a:i;if(d&&typeof d!="boolean"&&!Fu(d)){const h=Array.isArray(d)?d:[d];for(let y=0;y<h.length;y++){const w=Nm(e,h[y]);if(w){const{transitionEnd:v,transition:b,...m}=w;for(const g in m){let x=m[g];if(Array.isArray(x)){const C=u?x.length-1:0;x=x[C]}x!==null&&(o[g]=x)}for(const g in v)o[g]=v[g]}}}return o}const cg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cT=()=>({...cg(),attrs:{}}),uT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,BU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zU=Xa.length;function qU(e,t,n){let r="",o=!0;for(let s=0;s<zU;s++){const i=Xa[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=uT(a,qm[i]);if(!l){o=!1;const u=BU[i]||i;r+=`${u}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function ug(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(rs.has(l)){i=!0;continue}else if(nP(l)){o[l]=c;continue}else{const u=uT(c,qm[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(i||n?r.transform=qU(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function f0(e,t,n){return typeof e=="string"?e:fe.transform(t+n*e)}function HU(e,t,n){const r=f0(t,e.x,e.width),o=f0(n,e.y,e.height);return`${r} ${o}`}const WU={offset:"stroke-dashoffset",array:"stroke-dasharray"},GU={offset:"strokeDashoffset",array:"strokeDasharray"};function KU(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?WU:GU;e[s.offset]=fe.transform(-r);const i=fe.transform(t),a=fe.transform(n);e[s.array]=`${i} ${a}`}function dg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(ug(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:y,dimensions:w}=e;h.transform&&(w&&(y.transform=h.transform),delete h.transform),w&&(o!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=HU(w,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&KU(h,i,a,l,!1)}const fg=e=>typeof e=="string"&&e.toLowerCase()==="svg",YU={useVisualState:lT({scrapeMotionValuesFromProps:aT,createRenderState:cT,onMount:(e,t,{renderState:n,latestValues:r})=>{ze.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{dg(n,r,fg(t.tagName),e.transformTemplate),sT(t,n)})}})},XU={useVisualState:lT({scrapeMotionValuesFromProps:ag,createRenderState:cg})};function dT(e,t,n){for(const r in t)!$t(t[r])&&!iT(r,n)&&(e[r]=t[r])}function QU({transformTemplate:e},t){return f.useMemo(()=>{const n=cg();return ug(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ZU(e,t){const n=e.style||{},r={};return dT(r,n,e),Object.assign(r,QU(e,t)),r}function JU(e,t){const n={},r=ZU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const e4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||e4.has(e)}let fT=e=>!Hc(e);function t4(e){e&&(fT=t=>t.startsWith("on")?!Hc(t):e(t))}try{t4(require("@emotion/is-prop-valid").default)}catch{}function n4(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(fT(o)||n===!0&&Hc(o)||!t&&!Hc(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function r4(e,t,n,r){const o=f.useMemo(()=>{const s=cT();return dg(s,t,fg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};dT(s,e.style,e),o.style={...s,...o.style}}return o}function o4(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(ig(n)?r4:JU)(r,s,i,n),c=n4(r,typeof n=="string",e),u=n!==f.Fragment?{...c,...l,ref:o}:{},{children:d}=r,h=f.useMemo(()=>$t(d)?d.get():d,[d]);return f.createElement(n,{...u,children:h})}}function s4(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...ig(r)?YU:XU,preloadedFeatures:e,useRender:o4(o),createVisualElement:t,Component:r};return jU(i)}}const qh={current:null},hT={current:!1};function i4(){if(hT.current=!0,!!sg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qh.current=e.matches;e.addListener(t),t()}else qh.current=!1}function a4(e,t,n){for(const r in t){const o=t[r],s=n[r];if($t(o))e.addValue(r,o);else if($t(s))e.addValue(r,Ma(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,Ma(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const h0=new WeakMap,l4=[...sP,Lt,go],c4=e=>l4.find(oP(e)),p0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u4{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Um,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=sr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zu(n),this.isVariantNode=nT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const y=d[h];l[h]!==void 0&&$t(y)&&y.set(l[h],!1)}}mount(t){this.current=t,h0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hT.current||i4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){h0.delete(this.current),this.projection&&this.projection.unmount(),mo(this.notifyUpdate),mo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=rs.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in li){const n=li[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<p0.length;r++){const o=p0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=a4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ma(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(eP(o)||JE(o))?o=parseFloat(o):!c4(o)&&go.test(n)&&(o=hP(t,n)),this.setBaseTarget(t,$t(o)?o.get():o)),$t(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Nm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!$t(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new eg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class pT extends u4{constructor(){super(...arguments),this.KeyframeResolver=pP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function d4(e){return window.getComputedStyle(e)}class f4 extends pT{constructor(){super(...arguments),this.type="html",this.renderInstance=rT}readValueFromInstance(t,n){if(rs.has(n)){const r=Hm(n);return r&&r.default||0}else{const r=d4(t),o=(nP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VP(t,n)}build(t,n,r){ug(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ag(t,n,r)}}class h4 extends pT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rs.has(n)){const r=Hm(n);return r&&r.default||0}return n=oT.has(n)?n:tg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return aT(t,n,r)}build(t,n,r){dg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){sT(t,n,r,o)}mount(t){this.isSVGTag=fg(t.tagName),super.mount(t)}}const p4=(e,t)=>ig(e)?new h4(t):new f4(t,{allowProjection:e!==f.Fragment}),m4=s4({...tV,...TU,...mU,...kU},p4),qu=JO(m4);class g4 extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function v4({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(og);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.jsx(g4,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const y4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=lg(w4),l=f.useId(),c=f.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(v4,{isPresent:n,children:e})),p.jsx(Uu.Provider,{value:u,children:e})};function w4(){return new Map}const jl=e=>e.key||"";function m0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const hg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>m0(e),[e]),l=a.map(jl),c=f.useRef(!0),u=f.useRef(a),d=lg(()=>new Map),[h,y]=f.useState(a),[w,v]=f.useState(a);JP(()=>{c.current=!1,u.current=a;for(let g=0;g<w.length;g++){const x=jl(w[g]);l.includes(x)?d.delete(x):d.get(x)!==!0&&d.set(x,!1)}},[w,l.length,l.join("-")]);const b=[];if(a!==h){let g=[...a];for(let x=0;x<w.length;x++){const C=w[x],E=jl(C);l.includes(E)||(g.splice(x,0,C),b.push(C))}i==="wait"&&b.length&&(g=b),v(m0(g)),y(a);return}const{forceRender:m}=f.useContext(ng);return p.jsx(p.Fragment,{children:w.map(g=>{const x=jl(g),C=a===w||l.includes(x),E=()=>{if(d.has(x))d.set(x,!0);else return;let P=!0;d.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),v(u.current),o&&o())};return p.jsx(y4,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:g},x)})})};function x4({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(qu.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function b4(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=Hn(),a=50,l=.3,c={enter:w=>({x:w>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:w=>({x:w<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},u=(w,v)=>{const{offset:b,velocity:m}=v;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},d=f.useCallback(w=>{const b=new Date(Date.UTC(t,e,w)).toISOString().split("T")[0],m=n.filter(x=>x.date===b);return{hasPhotoEntries:m.some(x=>x.photos&&x.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const w=new Date(t,e+1,0).getDate(),v=new Date(t,e,1).getDay(),b=Array(v).fill(null).map((g,x)=>({type:"empty",index:x})),m=Array.from({length:w},(g,x)=>({type:"day",day:x+1}));return[...b,...m]},[e,t]),y=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:w},w))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(hg,{initial:!1,custom:r,mode:"wait",children:p.jsx(qu.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:y,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:u,style:{willChange:"transform"},children:h().map(w=>{const v=m=>m.type==="day",b=v(w)?`day-${w.day}`:`empty-${w.index}`;if(v(w)){const{hasPhotoEntries:m,entryCount:g}=d(w.day);return p.jsx(x4,{day:w.day,hasPhotoEntries:m,entryCount:g,onClick:()=>o(w.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function S4(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=Hn(),s=new Date(t,e).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Be,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(T_,{className:"h-4 w-4"})}),p.jsxs(Be,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(P_,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Be,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(qS,{className:"h-4 w-4"})})]})}function pg(e,[t,n]){return Math.min(n,Math.max(t,e))}function C4(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var mg="ScrollArea",[mT,$z]=on(mg),[E4,Rn]=mT(mg),gT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,u]=f.useState(null),[d,h]=f.useState(null),[y,w]=f.useState(null),[v,b]=f.useState(null),[m,g]=f.useState(0),[x,C]=f.useState(0),[E,P]=f.useState(!1),[k,A]=f.useState(!1),R=Re(t,L=>l(L)),M=Ga(o);return p.jsx(E4,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:g,onCornerHeightChange:C,children:p.jsx(ge.div,{dir:M,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});gT.displayName=mg;var vT="ScrollAreaViewport",yT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Rn(vT,n),a=f.useRef(null),l=Re(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yT.displayName=vT;var cr="ScrollAreaScrollbar",gg=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Rn(cr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(P4,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(T4,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(wT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(vg,{...r,ref:t}):null});gg.displayName=cr;var P4=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Rn(cr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(sn,{present:n||s,children:p.jsx(wT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),T4=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Rn(cr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Wu(()=>l("SCROLL_END"),100),[a,l]=C4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const y=c[u];d!==y&&(l("SCROLL"),i()),d=y};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(sn,{present:n||a!=="hidden",children:p.jsx(vg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),wT=f.forwardRef((e,t)=>{const n=Rn(cr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=Wu(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:u)}},10);return ci(n.viewport,l),ci(n.content,l),p.jsx(sn,{present:r||s,children:p.jsx(vg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),vg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Rn(cr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=ET(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function d(h,y){return _4(h,i.current,a,y)}return n==="horizontal"?p.jsx(k4,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,y=g0(h,a,o.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=d(h,o.dir))}}):n==="vertical"?p.jsx(A4,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,y=g0(h,a);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=d(h))}}):null}),k4=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Rn(cr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Re(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(bT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hu(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),TT(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Gc(i.paddingLeft),paddingEnd:Gc(i.paddingRight)}})}})}),A4=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Rn(cr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Re(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(bT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hu(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),TT(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Gc(i.paddingTop),paddingEnd:Gc(i.paddingBottom)}})}})}),[D4,xT]=mT(cr),bT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=e,y=Rn(cr,n),[w,v]=f.useState(null),b=Re(t,R=>v(R)),m=f.useRef(null),g=f.useRef(""),x=y.viewport,C=r.content-r.viewport,E=st(u),P=st(l),k=Wu(d,10);function A(R){if(m.current){const M=R.clientX-m.current.left,L=R.clientY-m.current.top;c({x:M,y:L})}}return f.useEffect(()=>{const R=M=>{const L=M.target;(w==null?void 0:w.contains(L))&&E(M,C)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[x,w,C,E]),f.useEffect(P,[r,P]),ci(w,k),ci(y.content,k),p.jsx(D4,{scope:n,scrollbar:w,hasThumb:o,onThumbChange:st(s),onThumbPointerUp:st(i),onThumbPositionChange:P,onThumbPointerDown:st(a),children:p.jsx(ge.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:Q(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),m.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),A(R))}),onPointerMove:Q(e.onPointerMove,A),onPointerUp:Q(e.onPointerUp,R=>{const M=R.target;M.hasPointerCapture(R.pointerId)&&M.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=g.current,y.viewport&&(y.viewport.style.scrollBehavior=""),m.current=null})})})}),Wc="ScrollAreaThumb",ST=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=xT(Wc,e.__scopeScrollArea);return p.jsx(sn,{present:n||o.hasThumb,children:p.jsx(R4,{ref:t,...r})})}),R4=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Rn(Wc,n),i=xT(Wc,n),{onThumbPositionChange:a}=i,l=Re(t,d=>i.onThumbChange(d)),c=f.useRef(void 0),u=Wu(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const y=I4(d,a);c.current=y,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,a]),p.jsx(ge.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(e.onPointerDownCapture,d=>{const y=d.target.getBoundingClientRect(),w=d.clientX-y.left,v=d.clientY-y.top;i.onThumbPointerDown({x:w,y:v})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});ST.displayName=Wc;var yg="ScrollAreaCorner",CT=f.forwardRef((e,t)=>{const n=Rn(yg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(M4,{...e,ref:t}):null});CT.displayName=yg;var M4=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Rn(yg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return ci(o.scrollbarX,()=>{var d;const u=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(u),l(u)}),ci(o.scrollbarY,()=>{var d;const u=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(u),i(u)}),c?p.jsx(ge.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gc(e){return e?parseInt(e,10):0}function ET(e,t){const n=e/t;return isNaN(n)?0:n}function Hu(e){const t=ET(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function _4(e,t,n,r="ltr"){const o=Hu(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return PT([l,c],d)(e)}function g0(e,t,n="ltr"){const r=Hu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=pg(e,l);return PT([0,i],[0,a])(c)}function PT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function TT(e,t){return e>0&&e<t}var I4=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Wu(e,t){const n=st(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ci(e,t){const n=st(t);Dn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var kT=gT,N4=yT,j4=CT;const AT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(kT,{ref:r,className:Z("relative overflow-hidden",e),...n,children:[p.jsx(N4,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(DT,{}),p.jsx(j4,{})]}));AT.displayName=kT.displayName;const DT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(gg,{ref:r,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(ST,{className:"relative flex-1 rounded-full bg-border"})}));DT.displayName=gg.displayName;const L4=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},RT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),u=f.useRef(null),d=f.useCallback(()=>{const y=c.current,w=u.current;if(w){const v=L4(w),b=v*t,g=w.scrollHeight>b+v*.5;l(g),i(y&&!r?y.scrollHeight>y.clientHeight+2||g:!1),y&&!r&&g?(y.style.maxHeight=`${b}px`,y.style.overflow="hidden"):y&&(y.style.maxHeight="",y.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{d()},[e,t,d]),f.useEffect(()=>{const y=c.current;if(!y)return;const w=new ResizeObserver(()=>{d()});return w.observe(y),()=>w.disconnect()},[d]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:u,className:Z("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:Z("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Be,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function O4(e){return Object.prototype.toString.call(e)==="[object Object]"}function v0(e){return O4(e)||Array.isArray(e)}function F4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function wg(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!v0(a)||!v0(l)?a===l:wg(a,l)})}function y0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function $4(e,t){if(e.length!==t.length)return!1;const n=y0(e),r=y0(t);return n.every((o,s)=>{const i=r[s];return wg(o,i)})}function xg(e){return typeof e=="number"}function Hh(e){return typeof e=="string"}function Gu(e){return typeof e=="boolean"}function w0(e){return Object.prototype.toString.call(e)==="[object Object]"}function at(e){return Math.abs(e)}function bg(e){return Math.sign(e)}function ea(e,t){return at(e-t)}function V4(e,t){if(e===0||t===0||at(e)<=at(t))return 0;const n=ea(at(e),at(t));return at(n/e)}function U4(e){return Math.round(e*100)/100}function _a(e){return Ia(e).map(Number)}function Un(e){return e[el(e)]}function el(e){return Math.max(0,e.length-1)}function Sg(e,t){return t===el(e)}function x0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Ia(e){return Object.keys(e)}function MT(e,t){return[e,t].reduce((n,r)=>(Ia(r).forEach(o=>{const s=n[o],i=r[o],a=w0(s)&&w0(i);n[o]=a?MT(s,i):i}),n),{})}function Wh(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function B4(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return Hh(e)?n[e](l):e(t,l,c)}return{measure:i}}function Na(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function z4(e,t,n,r){const o=Na(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&w()})}function u(){y(),o.clear()}function d(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const g=a/s;r(g),l&&(l=t.requestAnimationFrame(d))}function h(){l||(l=t.requestAnimationFrame(d))}function y(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function w(){i=null,a=0}return{init:c,destroy:u,start:h,stop:y,update:n,render:r}}function q4(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=u(),l=d();function c(w){const{height:v,width:b}=w;return r?v:b}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function h(w){return w*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function Qo(e=0,t=0){const n=at(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function _T(e,t,n){const{constrain:r}=Qo(0,e),o=e+1;let s=i(t);function i(h){return n?at((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),d}function c(h){return u().set(a()+h)}function u(){return _T(e,a(),n)}const d={get:a,set:l,add:c,clone:u};return d}function H4(e,t,n,r,o,s,i,a,l,c,u,d,h,y,w,v,b,m,g){const{cross:x,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Na(),A=Na(),R=Qo(50,225).constrain(y.measure(20)),M={mouse:300,touch:400},L={mouse:500,touch:600},$=w?43:25;let F=!1,j=0,B=0,I=!1,N=!1,D=!1,_=!1;function V(X){if(!g)return;function xe(rt){(Gu(g)||g(X,rt))&&Ce(rt)}const ke=t;k.add(ke,"dragstart",rt=>rt.preventDefault(),P).add(ke,"touchmove",()=>{},P).add(ke,"touchend",()=>{}).add(ke,"touchstart",xe).add(ke,"mousedown",xe).add(ke,"touchcancel",Me).add(ke,"contextmenu",Me).add(ke,"click",Le,!0)}function W(){k.clear(),A.clear()}function K(){const X=_?n:t;A.add(X,"touchmove",ve,P).add(X,"touchend",Me).add(X,"mousemove",ve,P).add(X,"mouseup",Me)}function ae(X){const xe=X.nodeName||"";return E.includes(xe)}function te(){return(w?L:M)[_?"mouse":"touch"]}function be(X,xe){const ke=d.add(bg(X)*-1),rt=u.byDistance(X,!w).distance;return w||at(X)<R?rt:b&&xe?rt*.5:u.byIndex(ke.get(),0).distance}function Ce(X){const xe=Wh(X,r);_=xe,D=w&&xe&&!X.buttons&&F,F=ea(o.get(),i.get())>=2,!(xe&&X.button!==0)&&(ae(X.target)||(I=!0,s.pointerDown(X),c.useFriction(0).useDuration(0),o.set(i),K(),j=s.readPoint(X),B=s.readPoint(X,x),h.emit("pointerDown")))}function ve(X){if(!Wh(X,r)&&X.touches.length>=2)return Me(X);const ke=s.readPoint(X),rt=s.readPoint(X,x),ht=ea(ke,j),pt=ea(rt,B);if(!N&&!_&&(!X.cancelable||(N=ht>pt,!N)))return Me(X);const St=s.pointerMove(X);ht>v&&(D=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(St)),X.preventDefault()}function Me(X){const ke=u.byDistance(0,!1).index!==d.get(),rt=s.pointerUp(X)*te(),ht=be(C(rt),ke),pt=V4(rt,ht),St=$-10*pt,q=m+pt/50;N=!1,I=!1,A.clear(),c.useDuration(St).useFriction(q),l.distance(ht,!w),_=!1,h.emit("pointerUp")}function Le(X){D&&(X.stopPropagation(),X.preventDefault(),D=!1)}function Ve(){return I}return{init:V,destroy:W,pointerDown:Ve}}function W4(e,t){let r,o;function s(d){return d.timeStamp}function i(d,h){const w=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(Wh(d,t)?d:d.touches[0])[w]}function a(d){return r=d,o=d,i(d)}function l(d){const h=i(d)-i(o),y=s(d)-s(r)>170;return o=d,y&&(r=d),h}function c(d){if(!r||!o)return 0;const h=i(o)-i(r),y=s(d)-s(r),w=s(d)-s(o)>170,v=h/y;return y&&!w&&at(v)>.1?v:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function G4(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function K4(e){function t(r){return e*(r/100)}return{measure:t}}function Y4(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,u=[],d=!1;function h(b){return o.measureSize(i.measure(b))}function y(b){if(!s)return;c=h(e),u=r.map(h);function m(g){for(const x of g){if(d)return;const C=x.target===e,E=r.indexOf(x.target),P=C?c:u[E],k=h(C?e:r[E]);if(at(k-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(g=>{(Gu(s)||s(b,g))&&m(g)}),n.requestAnimationFrame(()=>{a.forEach(g=>l.observe(g))})}function w(){d=!0,l&&l.disconnect()}return{init:y,destroy:w}}function X4(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,u=e.get(),d=0;function h(){const P=r.get()-e.get(),k=!l;let A=0;return k?(i=0,n.set(r),e.set(r),A=P):(n.set(e),i+=P/l,i*=c,u+=i,e.add(i),A=u-d),a=bg(A),d=u,E}function y(){const P=r.get()-t.get();return at(P)<.001}function w(){return l}function v(){return a}function b(){return i}function m(){return x(o)}function g(){return C(s)}function x(P){return l=P,E}function C(P){return c=P,E}const E={direction:v,duration:w,velocity:b,seek:h,settled:y,useBaseFriction:g,useBaseDuration:m,useFriction:C,useDuration:x};return E}function Q4(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=Qo(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function u(y){if(!c())return;const w=e.reachedMin(t.get())?"min":"max",v=at(e[w]-t.get()),b=n.get()-t.get(),m=a.constrain(v/i);n.subtract(b*m),!y&&at(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(y){l=!y}return{shouldConstrain:c,constrain:u,toggleActive:d}}function Z4(e,t,n,r,o){const s=Qo(-t+e,0),i=d(),a=u(),l=h();function c(w,v){return ea(w,v)<=1}function u(){const w=i[0],v=Un(i),b=i.lastIndexOf(w),m=i.indexOf(v)+1;return Qo(b,m)}function d(){return n.map((w,v)=>{const{min:b,max:m}=s,g=s.constrain(w),x=!v,C=Sg(n,v);return x?m:C||c(b,g)?b:c(m,g)?m:g}).map(w=>parseFloat(w.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:w,max:v}=a;return i.slice(w,v)}return{snapsContained:l,scrollContainLimit:a}}function J4(e,t,n){const r=t[0],o=n?r-e:Un(t);return{limit:Qo(o,r)}}function eB(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=Qo(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function u(h){if(!c(h))return;const y=e*(h*-1);r.forEach(w=>w.add(y))}return{loop:u}}function tB(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function nB(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=d().map(t.measure),c=h(),u=y();function d(){return a(r).map(v=>Un(v)[i]-v[0][s]).map(at)}function h(){return r.map(v=>n[s]-v[s]).map(v=>-at(v))}function y(){return a(c).map(v=>v[0]).map((v,b)=>v+l[b])}return{snaps:c,snapsAligned:u}}function rB(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=u();function u(){const h=i(s),y=!e||t==="keepSnaps";return n.length===1?[s]:y?h:h.slice(a,l).map((w,v,b)=>{const m=!v,g=Sg(b,v);if(m){const x=Un(b[0])+1;return x0(x)}if(g){const x=el(s)-Un(b)[0]+1;return x0(x,Un(b)[0])}return w})}return{slideRegistry:c}}function oB(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(w){return w.concat().sort((v,b)=>at(v)-at(b))[0]}function c(w){const v=e?i(w):a(w),b=t.map((g,x)=>({diff:u(g-v,0),index:x})).sort((g,x)=>at(g.diff)-at(x.diff)),{index:m}=b[0];return{index:m,distance:v}}function u(w,v){const b=[w,w+n,w-n];if(!e)return w;if(!v)return l(b);const m=b.filter(g=>bg(g)===v);return m.length?l(m):Un(b)-n}function d(w,v){const b=t[w]-o.get(),m=u(b,v);return{index:w,distance:m}}function h(w,v){const b=o.get()+w,{index:m,distance:g}=c(b),x=!e&&s(b);if(!v||x)return{index:m,distance:w};const C=t[m]-g,E=w+u(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:d,shortcut:u}}function sB(e,t,n,r,o,s,i){function a(d){const h=d.distance,y=d.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),y&&(n.set(t.get()),t.set(d.index),i.emit("select"))}function l(d,h){const y=o.byDistance(d,h);a(y)}function c(d,h){const y=t.clone().set(d),w=o.byIndex(y.get(),h);a(w)}return{distance:l,index:c}}function iB(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function u(y){if(!a)return;function w(v){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const g=n.findIndex(x=>x.includes(v));xg(g)&&(o.useDuration(0),r.index(g,0),i.emit("slideFocus"))}s.add(document,"keydown",d,!1),t.forEach((v,b)=>{s.add(v,"focus",m=>{(Gu(a)||a(y,m))&&w(b)},l)})}function d(y){y.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function Vi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return xg(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function IT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const y=U4(e.direction(h));y!==o&&(r.transform=n(y),o=y)}function c(h){s=!h}function u(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function aB(e,t,n,r,o,s,i,a,l){const u=_a(o),d=_a(o).reverse(),h=m().concat(g());function y(k,A){return k.reduce((R,M)=>R-o[M],A)}function w(k,A){return k.reduce((R,M)=>y(R,A)>0?R.concat([M]):R,[])}function v(k){return s.map((A,R)=>({start:A-r[R]+.5+k,end:A+t-.5+k}))}function b(k,A,R){const M=v(A);return k.map(L=>{const $=R?0:-n,F=R?n:0,j=R?"end":"start",B=M[L][j];return{index:L,loopPoint:B,slideLocation:Vi(-1),translate:IT(e,l[L]),target:()=>a.get()>B?$:F}})}function m(){const k=i[0],A=w(d,k);return b(A,n,!1)}function g(){const k=t-i[0]-1,A=w(u,k);return b(A,-n,!0)}function x(){return h.every(({index:k})=>{const A=u.filter(R=>R!==k);return y(A,t)<=.1})}function C(){h.forEach(k=>{const{target:A,translate:R,slideLocation:M}=k,L=A();L!==M.get()&&(R.to(L),M.set(L))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:x,clear:E,loop:C,loopPoints:h}}function lB(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(u){for(const d of u)if(d.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(u=>{o||(Gu(n)||n(l,u))&&c(u)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function cB(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(w=>{l||(w.forEach(v=>{const b=t.indexOf(v.target);o[b]=v}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(w=>a.observe(w))}function u(){a&&a.disconnect(),l=!0}function d(w){return Ia(o).reduce((v,b)=>{const m=parseInt(b),{isIntersecting:g}=o[m];return(w&&g||!w&&!g)&&v.push(m),v},[])}function h(w=!0){if(w&&s)return s;if(!w&&i)return i;const v=d(w);return w&&(s=v),w||(i=v),v}return{init:c,destroy:u,get:h}}function uB(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,u=w(),d=v(),h=n.map(i),y=b();function w(){if(!c)return 0;const g=n[0];return at(t[a]-g[a])}function v(){if(!c)return 0;const g=s.getComputedStyle(Un(r));return parseFloat(g.getPropertyValue(`margin-${l}`))}function b(){return n.map((g,x,C)=>{const E=!x,P=Sg(C,x);return E?h[x]+u:P?h[x]+d:C[x+1][a]-g[a]}).map(at)}return{slideSizes:h,slideSizesWithGaps:y,startGap:u,endGap:d}}function dB(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:u,direction:d}=e,h=xg(n);function y(m,g){return _a(m).filter(x=>x%g===0).map(x=>m.slice(x,x+g))}function w(m){return m.length?_a(m).reduce((g,x,C)=>{const E=Un(g)||0,P=E===0,k=x===el(m),A=o[c]-s[E][c],R=o[c]-s[x][u],M=!r&&P?d(i):0,L=!r&&k?d(a):0,$=at(R-L-(A+M));return C&&$>t+l&&g.push(x),k&&g.push(m.length),g},[]).map((g,x,C)=>{const E=Math.max(C[x-1]||0);return m.slice(E,g)}):[]}function v(m){return h?y(m,n):w(m)}return{groupSlides:v}}function fB(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:u,loop:d,duration:h,dragFree:y,dragThreshold:w,inViewThreshold:v,slidesToScroll:b,skipSnaps:m,containScroll:g,watchResize:x,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,A=G4(),R=A.measure(t),M=n.map(A.measure),L=q4(l,c),$=L.measureSize(R),F=K4($),j=B4(a,$),B=!d&&!!g,I=d||!!g,{slideSizes:N,slideSizesWithGaps:D,startGap:_,endGap:V}=uB(L,R,M,n,I,o),W=dB(L,$,b,d,R,M,_,V,k),{snaps:K,snapsAligned:ae}=nB(L,j,R,M,W),te=-Un(K)+Un(D),{snapsContained:be,scrollContainLimit:Ce}=Z4($,te,ae,g,k),ve=B?be:ae,{limit:Me}=J4(te,ve,d),Le=_T(el(ve),u,d),Ve=Le.clone(),he=_a(n),X=({dragHandler:Ne,scrollBody:Ae,scrollBounds:O,options:{loop:Y}})=>{Y||O.constrain(Ne.pointerDown()),Ae.seek()},xe=({scrollBody:Ne,translate:Ae,location:O,offsetLocation:Y,previousLocation:re,scrollLooper:le,slideLooper:ue,dragHandler:me,animation:Ee,eventHandler:qe,scrollBounds:yt,options:{loop:wt}},Bt)=>{const zt=Ne.settled(),Zt=!yt.shouldConstrain(),vn=wt?zt:zt&&Zt,Mn=vn&&!me.pointerDown();Mn&&Ee.stop();const ur=O.get()*Bt+re.get()*(1-Bt);Y.set(ur),wt&&(le.loop(Ne.direction()),ue.loop()),Ae.to(Y.get()),Mn&&qe.emit("settle"),vn||qe.emit("scroll")},ke=z4(r,o,()=>X(ye),Ne=>xe(ye,Ne)),rt=.68,ht=ve[Le.get()],pt=Vi(ht),St=Vi(ht),q=Vi(ht),H=Vi(ht),z=X4(pt,q,St,H,h,rt),ne=oB(d,ve,te,Me,H),ce=sB(ke,Le,Ve,z,ne,H,i),vt=tB(Me),et=Na(),tt=cB(t,n,i,v),{slideRegistry:Ie}=rB(B,g,ve,Ce,W,he),de=iB(e,n,Ie,ce,z,et,i,P),ye={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:R,slideRects:M,animation:ke,axis:L,dragHandler:H4(L,e,r,o,H,W4(L,o),pt,ke,ce,z,ne,Le,i,F,y,w,m,rt,E),eventStore:et,percentOfView:F,index:Le,indexPrevious:Ve,limit:Me,location:pt,offsetLocation:q,previousLocation:St,options:s,resizeHandler:Y4(t,i,o,n,L,x,A),scrollBody:z,scrollBounds:Q4(Me,q,H,z,F),scrollLooper:eB(te,Me,q,[pt,q,St,H]),scrollProgress:vt,scrollSnapList:ve.map(vt.get),scrollSnaps:ve,scrollTarget:ne,scrollTo:ce,slideLooper:aB(L,$,te,N,D,K,ve,q,n),slideFocus:de,slidesHandler:lB(t,i,C),slidesInView:tt,slideIndexes:he,slideRegistry:Ie,slidesToScroll:W,target:H,translate:IT(L,t)};return ye}function hB(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(u=>u(t,c)),l}function s(c,u){return e[c]=r(c).concat([u]),l}function i(c,u){return e[c]=r(c).filter(d=>d!==u),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const pB={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function mB(e){function t(s,i){return MT(s,i||{})}function n(s){const i=s.breakpoints||{},a=Ia(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>Ia(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function gB(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function Kc(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=mB(o),i=gB(s),a=Na(),l=hB(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=s,{on:h,off:y,emit:w}=l,v=L;let b=!1,m,g=c(pB,Kc.globalOptions),x=c(g),C=[],E,P,k;function A(){const{container:he,slides:X}=x;P=(Hh(he)?e.querySelector(he):he)||e.children[0];const ke=Hh(X)?P.querySelectorAll(X):X;k=[].slice.call(ke||P.children)}function R(he){const X=fB(e,P,k,r,o,he,l);if(he.loop&&!X.slideLooper.canLoop()){const xe=Object.assign({},he,{loop:!1});return R(xe)}return X}function M(he,X){b||(g=c(g,he),x=u(g),C=X||C,A(),m=R(x),d([g,...C.map(({options:xe})=>xe)]).forEach(xe=>a.add(xe,"change",L)),x.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ve),m.eventHandler.init(Ve),m.resizeHandler.init(Ve),m.slidesHandler.init(Ve),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(Ve),E=i.init(Ve,C)))}function L(he,X){const xe=W();$(),M(c({startIndex:xe},he),X),l.emit("reInit")}function $(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function F(){b||(b=!0,a.clear(),$(),l.emit("destroy"),l.clear())}function j(he,X,xe){!x.active||b||(m.scrollBody.useBaseFriction().useDuration(X===!0?0:x.duration),m.scrollTo.index(he,xe||0))}function B(he){const X=m.index.add(1).get();j(X,he,-1)}function I(he){const X=m.index.add(-1).get();j(X,he,1)}function N(){return m.index.add(1).get()!==W()}function D(){return m.index.add(-1).get()!==W()}function _(){return m.scrollSnapList}function V(){return m.scrollProgress.get(m.offsetLocation.get())}function W(){return m.index.get()}function K(){return m.indexPrevious.get()}function ae(){return m.slidesInView.get()}function te(){return m.slidesInView.get(!1)}function be(){return E}function Ce(){return m}function ve(){return e}function Me(){return P}function Le(){return k}const Ve={canScrollNext:N,canScrollPrev:D,containerNode:Me,internalEngine:Ce,destroy:F,off:y,on:h,emit:w,plugins:be,previousScrollSnap:K,reInit:v,rootNode:ve,scrollNext:B,scrollPrev:I,scrollProgress:V,scrollSnapList:_,scrollTo:j,selectedScrollSnap:W,slideNodes:Le,slidesInView:ae,slidesNotInView:te};return M(t,n),setTimeout(()=>l.emit("init"),0),Ve}Kc.globalOptions=void 0;function Cg(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{wg(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{$4(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(F4()&&i){Kc.globalOptions=Cg.globalOptions;const c=Kc(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}Cg.globalOptions=void 0;const NT=f.createContext(null);function Ku(){const e=f.useContext(NT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const jT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=Cg({...t,axis:e==="horizontal"?"x":"y"},r),[u,d]=f.useState(!1),[h,y]=f.useState(!1),w=f.useCallback(g=>{g&&(d(g.canScrollPrev()),y(g.canScrollNext()))},[]),v=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),v()):g.key==="ArrowRight"&&(g.preventDefault(),b())},[v,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return w(c),c.on("reInit",w),c.on("select",w),()=>{c==null||c.off("select",w)}},[c,w]),p.jsx(NT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:b,canScrollPrev:u,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:Z("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});jT.displayName="Carousel";const LT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=Ku();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:Z("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});LT.displayName="CarouselContent";const OT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=Ku();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Z("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});OT.displayName="CarouselItem";const FT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=Ku();return p.jsxs(Be,{ref:o,variant:t,size:n,className:Z("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(BS,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});FT.displayName="CarouselPrevious";const $T=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=Ku();return p.jsxs(Be,{ref:o,variant:t,size:n,className:Z("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(E_,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});$T.displayName="CarouselNext";const VT=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,u]=f.useState({}),[d,h]=f.useState("idle"),[y,w]=f.useState({width:0,height:0}),[v,b]=f.useState(null),[m,g]=f.useState(!1),x=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(x.current){const R=x.current.offsetWidth,M=x.current.offsetHeight;R>0&&M>0?w({width:R,height:M}):R>0&&w({width:R,height:R})}},[]);f.useEffect(()=>{const R=x.current;if(!R)return;const M=new ResizeObserver(E);return M.observe(R),E(),()=>{M.unobserve(R)}},[E]),f.useEffect(()=>{t&&d!=="loaded"?(b(t),g(!0),d!=="loading"&&h("loading")):e?m||(b(e),d!=="loading"&&d!=="loaded"&&h("loading")):(b(null),g(!1),h("idle"))},[e,t,d,m]),f.useEffect(()=>{if(m&&e&&t){const R=new Image,M=()=>{b(e),g(!1),h("loaded"),l&&l()},L=()=>{S.error("Failed to load full image in background:",e)};return R.onload=M,R.onerror=L,R.src=e,()=>{R.onload=null,R.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{u((()=>{const M=d==="loaded",L={position:"absolute",top:0,left:0,opacity:M?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:M?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||y.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return L;const{width:$,height:F}=r,B=y.width/n.w,I=$*B,N=F*B,D=-n.x*B,_=-n.y*B;return isNaN(I)||isNaN(N)||isNaN(D)||isNaN(_)?(S.warn("NaN detected during style calculation",{scale:B,naturalW:$,naturalH:F,cropData:n}),L):{...L,width:`${I}px`,height:`${N}px`,transform:`translate(${D}px, ${_}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,d,y]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===v&&v&&(h("loaded"),!m&&l&&l())},[v,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===v&&v){if(S.error("Failed to load image in CroppedImageViewer:",v),m&&e){b(e),g(!1);return}if(!m&&t){S.log("Full image failed to load. Falling back to thumbnail:",t),b(t),g(!0);return}h("error")}},[v,e,t,m]),A=a&&(d==="loading"||d==="error");return p.jsxs("div",{ref:x,"data-testid":"image-container",className:Z("relative w-full h-full overflow-hidden bg-muted",s),children:[A&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:d==="loading"?p.jsx(Ft,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(GS,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:v??"",alt:o,style:c,className:Z("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},vB=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:u}=e,d=!!(l||t);f.useEffect(()=>{s(d?"loading":"idle"),r(!1)},[l,t,d]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},y=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(S.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):S.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),w=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(S.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):S.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),v=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[v&&d&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Ft,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(GS,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:Z("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(VT,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:u,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:Z("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:y,onError:w,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(F_,{size:16}):p.jsx(O_,{size:16})})]})},UT=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:Z("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(jT,{setApi:n,className:"w-full h-full",children:[p.jsx(LT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(OT,{className:"h-full",children:p.jsx(vB,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(FT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx($T,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},yB=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function wB(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=Hn(),[c,u]=f.useState(new Map),[d,h]=f.useState(new Map),y=f.useRef(null),w=50,v=.3,b={enter:x=>({x:x>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:x=>({x:x<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(x,C)=>{const{offset:E,velocity:P}=C;let k=x.target;for(;k&&k!==y.current;){if(k.classList.contains("ignore-list-swipe")){S.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>w||P.x>v&&E.x>10?l(-1):(E.x<-w||P.x<-v&&E.x<-10)&&l(1)},g=f.useMemo(()=>[...e].sort((x,C)=>{const E=new Date(x.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=x.createdAt instanceof Date?x.createdAt.getTime():Date.parse(x.createdAt),A=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-A}),[e]);return f.useEffect(()=>{let x=!0;return u(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{x&&u(P=>new Map(P).set(C.id,E))}).catch(E=>{S.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{x&&h(E=>new Map(E).set(C.id,!1))})}),()=>{x=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"})]}):g.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(AT,{className:"h-full",children:[" ",p.jsxs("div",{ref:y,className:"relative overflow-hidden h-full",children:[" ",p.jsx(hg,{initial:!1,custom:a,mode:"wait",children:p.jsx(qu.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:g.map(x=>{const E=c.get(x.id)||{...x,photos:(x.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(fm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(UT,{entry:E})}),p.jsxs(hm,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:yB(x.date)}),p.jsxs(Mm,{children:[p.jsx(_m,{asChild:!0,children:p.jsx(Be,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(WS,{className:"h-4 w-4"})})}),p.jsxs(Ou,{align:"end",children:[p.jsxs(Xo,{onClick:P=>{P.stopPropagation(),n(x.id)},children:[p.jsx(KS,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(Xo,{onClick:P=>{P.stopPropagation(),r(x.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(Jp,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(RT,{text:x.content,linesToShow:4})]})]},x.id)})},`${s}-${i}-list`)})]})]})}var Eg="Dialog",[BT,zT]=on(Eg),[xB,Wn]=BT(Eg),qT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,u]=ar({prop:r,defaultProp:o,onChange:s});return p.jsx(xB,{scope:t,triggerRef:a,contentRef:l,contentId:Fo(),titleId:Fo(),descriptionId:Fo(),open:c,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),modal:i,children:n})};qT.displayName=Eg;var HT="DialogTrigger",WT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(HT,n),s=Re(t,o.triggerRef);return p.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":kg(o.open),...r,ref:s,onClick:Q(e.onClick,o.onOpenToggle)})});WT.displayName=HT;var Pg="DialogPortal",[bB,GT]=BT(Pg,{forceMount:void 0}),KT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Wn(Pg,t);return p.jsx(bB,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(sn,{present:n||s.open,children:p.jsx(yu,{asChild:!0,container:o,children:i})}))})};KT.displayName=Pg;var Yc="DialogOverlay",YT=f.forwardRef((e,t)=>{const n=GT(Yc,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Wn(Yc,e.__scopeDialog);return s.modal?p.jsx(sn,{present:r||s.open,children:p.jsx(CB,{...o,ref:t})}):null});YT.displayName=Yc;var SB=ri("DialogOverlay.RemoveScroll"),CB=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(Yc,n);return p.jsx(Sm,{as:SB,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(ge.div,{"data-state":kg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",XT=f.forwardRef((e,t)=>{const n=GT(Zo,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Wn(Zo,e.__scopeDialog);return p.jsx(sn,{present:r||s.open,children:s.modal?p.jsx(EB,{...o,ref:t}):p.jsx(PB,{...o,ref:t})})});XT.displayName=Zo;var EB=f.forwardRef((e,t)=>{const n=Wn(Zo,e.__scopeDialog),r=f.useRef(null),o=Re(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return N1(s)},[]),p.jsx(QT,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,s=>s.preventDefault())})}),PB=f.forwardRef((e,t)=>{const n=Wn(Zo,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(QT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),QT=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Wn(Zo,n),l=f.useRef(null),c=Re(t,l);return M1(),p.jsxs(p.Fragment,{children:[p.jsx(bm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Ha,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":kg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(kB,{titleId:a.titleId}),p.jsx(DB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Tg="DialogTitle",ZT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(Tg,n);return p.jsx(ge.h2,{id:o.titleId,...r,ref:t})});ZT.displayName=Tg;var JT="DialogDescription",ek=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(JT,n);return p.jsx(ge.p,{id:o.descriptionId,...r,ref:t})});ek.displayName=JT;var tk="DialogClose",nk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(tk,n);return p.jsx(ge.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>o.onOpenChange(!1))})});nk.displayName=tk;function kg(e){return e?"open":"closed"}var rk="DialogTitleWarning",[TB,ok]=IM(rk,{contentName:Zo,titleName:Tg,docsSlug:"dialog"}),kB=({titleId:e})=>{const t=ok(rk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},AB="DialogDescriptionWarning",DB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ok(AB).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},sk=qT,RB=WT,ik=KT,Ag=YT,Dg=XT,Rg=ZT,Mg=ek,_g=nk;const ak=sk,MB=ik,lk=f.forwardRef(({className:e,...t},n)=>p.jsx(Ag,{ref:n,className:Z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lk.displayName=Ag.displayName;const Ig=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(MB,{children:[p.jsx(lk,{}),p.jsxs(Dg,{ref:r,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(_g,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Cu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ig.displayName=Dg.displayName;const Ng=({className:e,...t})=>p.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ng.displayName="DialogHeader";const jg=f.forwardRef(({className:e,...t},n)=>p.jsx(Rg,{ref:n,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));jg.displayName=Rg.displayName;const ck=f.forwardRef(({className:e,...t},n)=>p.jsx(Mg,{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));ck.displayName=Mg.displayName;function uk({className:e,...t}){return p.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t})}const b0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function _B(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=Hn(),[,a]=hu(),[l,c]=f.useState(new Map),[u,d]=f.useState(!1),[h,y]=f.useState(new Set),w=f.useRef(!0),v=f.useMemo(()=>[...n].sort((m,g)=>{const x=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=g.createdAt instanceof Date?g.createdAt.getTime():Date.parse(g.createdAt);return x-C}),[n]);f.useEffect(()=>{if(w.current=!0,e&&v.length>0){d(!0),c(new Map),y(new Set);const m=v.map(g=>i(g).then(x=>{w.current&&c(C=>new Map(C).set(g.id,x))}).catch(x=>{S.error(`Error fetching details for entry ${g.id} in modal:`,x),w.current&&(y(C=>new Set(C).add(g.id)),c(C=>new Map(C).set(g.id,b0(g))))}));Promise.allSettled(m).finally(()=>{w.current&&d(!1)})}else e||(c(new Map),d(!1),y(new Set));return()=>{w.current=!1}},[e,v,i]);const b=()=>{t(),a("/entry/new")};return p.jsx(ak,{open:e,onOpenChange:t,children:p.jsxs(Ig,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Ng,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(jg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:v.length===0&&!u?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Be,{onClick:b,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:v.map((m,g)=>{const x=l.get(m.id),C=u&&!x,E=h.has(m.id),P=x||b0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(uk,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(UT,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!u&&p.jsxs(Mm,{children:[p.jsx(_m,{asChild:!0,children:p.jsx(Be,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(WS,{className:"h-4 w-4"})})}),p.jsxs(Ou,{align:"end",children:[p.jsxs(Xo,{onClick:()=>o(m.id),children:[p.jsx(KS,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(Xo,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(Jp,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(RT,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+g)})})}),!u&&v.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Be,{onClick:b,children:"Add Another Entry"})})]})})}var dk="AlertDialog",[IB,Vz]=on(dk,[zT]),_r=zT(),fk=e=>{const{__scopeAlertDialog:t,...n}=e,r=_r(t);return p.jsx(sk,{...r,...n,modal:!0})};fk.displayName=dk;var NB="AlertDialogTrigger",jB=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=_r(n);return p.jsx(RB,{...o,...r,ref:t})});jB.displayName=NB;var LB="AlertDialogPortal",hk=e=>{const{__scopeAlertDialog:t,...n}=e,r=_r(t);return p.jsx(ik,{...r,...n})};hk.displayName=LB;var OB="AlertDialogOverlay",pk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=_r(n);return p.jsx(Ag,{...o,...r,ref:t})});pk.displayName=OB;var $s="AlertDialogContent",[FB,$B]=IB($s),VB=gS("AlertDialogContent"),mk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=_r(n),i=f.useRef(null),a=Re(t,i),l=f.useRef(null);return p.jsx(TB,{contentName:$s,titleName:gk,docsSlug:"alert-dialog",children:p.jsx(FB,{scope:n,cancelRef:l,children:p.jsxs(Dg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:Q(o.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(VB,{children:r}),p.jsx(BB,{contentRef:i})]})})})});mk.displayName=$s;var gk="AlertDialogTitle",vk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=_r(n);return p.jsx(Rg,{...o,...r,ref:t})});vk.displayName=gk;var yk="AlertDialogDescription",wk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=_r(n);return p.jsx(Mg,{...o,...r,ref:t})});wk.displayName=yk;var UB="AlertDialogAction",xk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=_r(n);return p.jsx(_g,{...o,...r,ref:t})});xk.displayName=UB;var bk="AlertDialogCancel",Sk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=$B(bk,n),s=_r(n),i=Re(t,o);return p.jsx(_g,{...s,...r,ref:i})});Sk.displayName=bk;var BB=({contentRef:e})=>{const t=`\`${$s}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$s}\` by passing a \`${yk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$s}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},zB=fk,qB=hk,Ck=pk,Ek=mk,Pk=xk,Tk=Sk,kk=vk,Ak=wk;const Dk=zB,HB=qB,Rk=f.forwardRef(({className:e,...t},n)=>p.jsx(Ck,{className:Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Rk.displayName=Ck.displayName;const Lg=f.forwardRef(({className:e,...t},n)=>p.jsxs(HB,{children:[p.jsx(Rk,{}),p.jsx(Ek,{ref:n,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Lg.displayName=Ek.displayName;const Og=({className:e,...t})=>p.jsx("div",{className:Z("flex flex-col space-y-2 text-center sm:text-left",e),...t});Og.displayName="AlertDialogHeader";const Fg=({className:e,...t})=>p.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fg.displayName="AlertDialogFooter";const $g=f.forwardRef(({className:e,...t},n)=>p.jsx(kk,{ref:n,className:Z("text-lg font-semibold",e),...t}));$g.displayName=kk.displayName;const Vg=f.forwardRef(({className:e,...t},n)=>p.jsx(Ak,{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));Vg.displayName=Ak.displayName;const Ug=f.forwardRef(({className:e,...t},n)=>p.jsx(Pk,{ref:n,className:Z(pm(),e),...t}));Ug.displayName=Pk.displayName;const Bg=f.forwardRef(({className:e,...t},n)=>p.jsx(Tk,{ref:n,className:Z(pm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Bg.displayName=Tk.displayName;function WB(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=Hn(),o=async()=>{await n()};return p.jsx(Dk,{open:e,onOpenChange:t,children:p.jsxs(Lg,{children:[p.jsxs(Og,{children:[p.jsx($g,{children:"Delete Entry"}),p.jsx(Vg,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Fg,{children:[p.jsx(Bg,{disabled:r,children:"Cancel"}),p.jsx(Ug,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var GB="Label",Mk=f.forwardRef((e,t)=>p.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Mk.displayName=GB;var _k=Mk;const KB=Su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yu=f.forwardRef(({className:e,...t},n)=>p.jsx(_k,{ref:n,className:Z(KB(),e),...t}));Yu.displayName=_k.displayName;function YB({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=qa(),l=f.useCallback(async w=>{if(!w||w.length===0)return;const v=Array.from(w),b=[],m=[];let g=!0;if(s+v.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const x of v){if(!x.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${x.name}" is not a supported image file.`,variant:"destructive"}),g=!1;continue}try{const C=URL.createObjectURL(x);b.push(x),m.push(C)}catch(C){S.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${x.name}`,variant:"destructive"}),g=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!g&&m.length>0&&m.forEach(URL.revokeObjectURL),g&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(w=>{t||l(w.target.files)},[t,l]),u=f.useCallback(w=>{t||(w.preventDefault(),w.stopPropagation(),l(w.dataTransfer.files))},[t,l]),d=w=>{t||(w.preventDefault(),w.stopPropagation())},h=f.useCallback(()=>{var w;t||(w=i.current)==null||w.click()},[t]),y=r?xt.isValidElement(r)?xt.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:Z("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:d,onDrop:u,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:Z(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),y]})}const ta=10,Br=e=>e.isNew===!0,Ik=e=>e.isNew===!1,XB=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function QB({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:u,currentQueueIndex:d,isProcessingQueueItem:h}){const y=f.useRef(null),w=f.useRef(null),[v,b]=f.useState(null),[m,g]=f.useState(null),x=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{x.current=x.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),g(null)},k=I=>{const N=E.current,D=C.current;if(!N||!D||I<0||I>e.length){P();return}if(I===m&&N.style.display!=="none")return;g(I);const _=XB(D);let V=null,W=!1;if(I===e.length?(V=x.current[e.length-1],W=!0):(V=x.current[I],W=!1),V){const K=V.getBoundingClientRect(),ae=V.offsetTop;let te;W?te=V.offsetLeft+K.width+_/2:te=V.offsetLeft-_/2,N.style.display="block",N.style.top=`${ae}px`,N.style.left=`${te}px`,N.style.height=`${K.height}px`}else P()},A=(I,N)=>{if(y.current=N,b(N),P(),I.dataTransfer)try{I.dataTransfer.effectAllowed="move"}catch{}},R=(I,N)=>{if(I.preventDefault(),y.current===null||y.current===N){w.current=null,P();return}w.current=N;const D=x.current[N];if(D){const _=D.getBoundingClientRect(),V=_.left+_.width/2,K=I.clientX<V?N:N+1;k(K)}},M=I=>{C.current&&!C.current.contains(I.relatedTarget)&&(w.current=null,P())},L=()=>{let I=m;y.current!==null&&I!==null&&I>y.current&&I--,y.current!==null&&I!==null&&y.current!==I&&t(N=>{const D=[...N],_=D.splice(y.current,1)[0];return D.splice(I,0,_),D}),y.current=null,w.current=null,b(null),P()},$=(I,N)=>{y.current=N,b(N),P()},F=I=>{if(y.current===null)return;I.cancelable&&I.preventDefault();const N=I.touches[0],D=document.elementFromPoint(N.clientX,N.clientY),_=D==null?void 0:D.closest('[draggable="true"]');if(_){const V=x.current.indexOf(_);if(V!==-1&&V!==y.current){w.current=V;const W=_.getBoundingClientRect(),K=W.left+W.width/2,te=N.clientX<K?V:V+1;k(te);return}}w.current=null,P()},j=()=>{let I=m;y.current!==null&&I!==null&&I>y.current&&I--,y.current!==null&&I!==null&&y.current!==I&&t(N=>{const D=[...N],_=D.splice(y.current,1)[0];return D.splice(I,0,_),D}),y.current=null,w.current=null,b(null),P()},B=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Yu,{children:["Photos (",e.length,"/",ta,")"," ",B&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&u===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((I,N)=>p.jsx(uk,{className:"h-16 w-16 rounded aspect-square"},N))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:M,onTouchStart:I=>{},onTouchMove:F,onTouchEnd:j,onTouchCancel:j,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((I,N)=>{var ae;const D=Br(I)?I.localId:I.photoId,_=l.current.get(D),V=I.crop;let W=null;Br(I)?I.originalDimensions&&(W={filename:I.file.name,mimeType:I.file.type,width:I.originalDimensions.width,height:I.originalDimensions.height,exifDate:(ae=I.exifData)==null?void 0:ae.exifDate}):Ik(I)&&(W=c.current.get(I.photoId)??null);const K=!!_;return p.jsxs("div",{ref:te=>x.current[N]=te,draggable:B,onDragStart:te=>B&&A(te,N),onDragOver:te=>B&&R(te,N),onDragEnd:B?L:void 0,onTouchStart:te=>B&&$(te,N),className:Z("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",B?"cursor-grab active:cursor-grabbing":"cursor-default",v===N?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(VT,{imageUrl:_,thumbnailUrl:_,cropData:V,photoMetadata:W,altText:`Photo ${N+1} thumbnail`,className:"rounded",enableLoadingState:!!_&&_.startsWith("blob:")}),p.jsxs("div",{className:Z("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Be,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:te=>{te.stopPropagation(),!n&&K?s(N):K||S.warn(`Cannot open cropper: original URL missing for ${D}`)},disabled:n||!K,children:p.jsx(R_,{className:"h-3 w-3"})}),p.jsx(Be,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:te=>{te.stopPropagation(),n||i(N)},disabled:n,children:p.jsx(Jp,{className:"h-3 w-3"})})]}),B&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(__,{className:"h-3 w-3 text-white"})})]},D+"-"+N)}),e.length<ta&&p.jsx(YB,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:ta,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Ft,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(I_,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),d!==null&&d<u&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Ft,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",d+1," of"," ",u,"..."]})]})}function ZB({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(Yu,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(q_,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Nk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Nk.displayName="Textarea";function JB({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(Yu,{htmlFor:"content",children:"Content"}),p.jsx(Nk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function ez({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Be,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Be,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function tz(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function nz(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function rz(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=Hn(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=tz(),u=nz(2e3,new Date().getFullYear()+5),d=()=>{n(s,a)};return p.jsx(ak,{open:e,onOpenChange:t,children:p.jsxs(Ig,{className:"sm:max-w-md",children:[p.jsxs(Ng,{children:[p.jsx(jg,{children:"Select Month and Year"}),p.jsx(ck,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,y)=>p.jsx("option",{value:y,children:h},y))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:u.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Be,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Be,{onClick:d,children:"Apply"})]})]})})}function oz(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:u,isOnline:d}=Hn();wm(),hu();const h=l,y=l?"Saving...":"",w={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"})});const v=d&&!e&&!t&&!n,b=v?"pt-24":d?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(ZO,{}),h&&p.jsxs("div",{className:Z("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",v?"top-24":d?"top-16":"top-20","mt-2"),children:[p.jsx(Ft,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:y})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:u,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Cu,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:Z("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx(S4,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(hg,{initial:!1,mode:"wait",children:p.jsx(qu.div,{variants:w,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(b4,{}):p.jsx(wB,{})})},s)})})})]}),p.jsx(rz,{}),p.jsx(_B,{}),p.jsx(WB,{})]})}var jk=["PageUp","PageDown"],Lk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ok={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wi="Slider",[Gh,sz,iz]=vu(wi),[Fk,Uz]=on(wi,[iz]),[az,Xu]=Fk(wi),$k=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:y=!1,form:w,...v}=e,b=f.useRef(new Set),m=f.useRef(0),x=i==="horizontal"?lz:cz,[C=[],E]=ar({prop:u,defaultProp:c,onChange:L=>{var F;(F=[...b.current][m.current])==null||F.focus(),d(L)}}),P=f.useRef(C);function k(L){const $=pz(C,L);M(L,$)}function A(L){M(L,m.current)}function R(){const L=P.current[m.current];C[m.current]!==L&&h(C)}function M(L,$,{commit:F}={commit:!1}){const j=yz(s),B=wz(Math.round((L-r)/s)*s+r,j),I=pg(B,[r,o]);E((N=[])=>{const D=fz(N,I,$);if(vz(D,l*s)){m.current=D.indexOf(I);const _=String(D)!==String(N);return _&&F&&h(D),_?D:N}else return N})}return p.jsx(az,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:w,children:p.jsx(Gh.Provider,{scope:e.__scopeSlider,children:p.jsx(Gh.Slot,{scope:e.__scopeSlider,children:p.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...v,ref:t,onPointerDown:Q(v.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:y,onSlideStart:a?void 0:k,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:R,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(o,C.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:$})=>{if(!a){const B=jk.includes(L.key)||L.shiftKey&&Lk.includes(L.key)?10:1,I=m.current,N=C[I],D=s*B*$;M(N+D,I,{commit:!0})}}})})})})});$k.displayName=wi;var[Vk,Uk]=Fk(wi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lz=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,h]=f.useState(null),y=Re(t,x=>h(x)),w=f.useRef(void 0),v=Ga(o),b=v==="ltr",m=b&&!s||!b&&s;function g(x){const C=w.current||d.getBoundingClientRect(),E=[0,C.width],k=zg(E,m?[n,r]:[r,n]);return w.current=C,k(x-C.left)}return p.jsx(Vk,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(Bk,{dir:v,"data-orientation":"horizontal",...u,ref:y,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const C=g(x.clientX);i==null||i(C)},onSlideMove:x=>{const C=g(x.clientX);a==null||a(C)},onSlideEnd:()=>{w.current=void 0,l==null||l()},onStepKeyDown:x=>{const E=Ok[m?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:E?-1:1})}})})}),cz=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,u=f.useRef(null),d=Re(t,u),h=f.useRef(void 0),y=!o;function w(v){const b=h.current||u.current.getBoundingClientRect(),m=[0,b.height],x=zg(m,y?[r,n]:[n,r]);return h.current=b,x(v-b.top)}return p.jsx(Vk,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:p.jsx(Bk,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);s==null||s(b)},onSlideMove:v=>{const b=w(v.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:v=>{const m=Ok[y?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:m?-1:1})}})})}),Bk=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,u=Xu(wi,n);return p.jsx(ge.span,{...c,ref:t,onKeyDown:Q(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):jk.concat(Lk).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Q(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():r(d)}),onPointerMove:Q(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&o(d)}),onPointerUp:Q(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),zk="SliderTrack",qk=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Xu(zk,n);return p.jsx(ge.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});qk.displayName=zk;var Kh="SliderRange",Hk=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Xu(Kh,n),s=Uk(Kh,n),i=f.useRef(null),a=Re(t,i),l=o.values.length,c=o.values.map(h=>Gk(h,o.min,o.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return p.jsx(ge.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});Hk.displayName=Kh;var Yh="SliderThumb",Wk=f.forwardRef((e,t)=>{const n=sz(e.__scopeSlider),[r,o]=f.useState(null),s=Re(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(uz,{...e,ref:s,index:i})}),uz=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=Xu(Yh,n),a=Uk(Yh,n),[l,c]=f.useState(null),u=Re(t,g=>c(g)),d=l?i.form||!!l.closest("form"):!0,h=lm(l),y=i.values[r],w=y===void 0?0:Gk(y,i.min,i.max),v=hz(r,i.values.length),b=h==null?void 0:h[a.size],m=b?mz(b,w,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${w}% + ${m}px)`},children:[p.jsx(Gh.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(ge.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:u,style:y===void 0?{display:"none"}:e.style,onFocus:Q(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),d&&p.jsx(dz,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});Wk.displayName=Yh;var dz=e=>{const{value:t,...n}=e,r=f.useRef(null),o=LE(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function fz(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function Gk(e,t,n){const s=100/(n-t)*(e-t);return pg(s,[0,100])}function hz(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function pz(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function mz(e,t,n){const r=e/2,s=zg([0,50],[0,r]);return(r-s(t)*n)*n}function gz(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function vz(e,t){if(t>0){const n=gz(e);return Math.min(...n)>=t}return!0}function zg(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function yz(e){return(String(e).split(".")[1]||"").length}function wz(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Kk=$k,xz=qk,bz=Hk,Sz=Wk;const Yk=f.forwardRef(({className:e,...t},n)=>p.jsxs(Kk,{ref:n,className:Z("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(xz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(bz,{className:"absolute h-full bg-primary"})}),p.jsx(Sz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Yk.displayName=Kk.displayName;const Ge=250,S0=200;function Cz({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),u=f.useRef(null),d=f.useRef(null),[h,y]=f.useState({x:0,y:0,scale:1}),[w,v]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[g,x]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[A,R]=f.useState(5),[M,L]=f.useState(!1),[$,F]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[j,B]=f.useState(null),[I,N]=f.useState(null),[D,_]=f.useState(null),[V,W]=f.useState(null),K=b&&g,ae=e!==d.current&&!K,te=O=>O&&typeof O=="object"&&"x"in O&&"y"in O&&"w"in O&&"h"in O&&typeof O.x=="number"&&typeof O.y=="number"&&typeof O.w=="number"&&typeof O.h=="number"&&O.w>0&&O.h>0&&O.w===O.h,be=f.useCallback((O,Y)=>O<=0||Y<=0||Ge<=0?.1:Math.max(Ge/O,Ge/Y),[]),Ce=f.useCallback((O,Y)=>O<=0||Y<=0||Ge<=0||S0<=0?5:Math.max(Math.max(Ge/O,Ge/Y),Ge/S0),[]),ve=f.useCallback((O,Y,re)=>{const le=s.current;if(!b||w.width<=0||w.height<=0)return{x:O,y:Y};const ue=(le==null?void 0:le.clientWidth)??0,me=(le==null?void 0:le.clientHeight)??0;if(ue<=0||me<=0)return{x:O,y:Y};const Ee=w.width*re,qe=w.height*re,yt=(ue-Ge)/2,wt=(me-Ge)/2,Bt=yt,zt=yt+Ge-Ee,Zt=wt,vn=wt+Ge-qe,Mn=Ee<Ge?yt+(Ge-Ee)/2:Math.min(Bt,Math.max(zt,O)),ur=qe<Ge?wt+(Ge-qe)/2:Math.min(Zt,Math.max(vn,Y));return{x:Mn,y:ur}},[b,w]),Me=f.useCallback((O,Y)=>{if(!b||!l.current||g||w.width<=0||w.height<=0)return;const re=w.width,le=w.height,ue=be(re,le),me=Ce(re,le);k(ue),R(me);let Ee,qe,yt;if(te(r)){Ee=Ge/r.w,Ee=Math.max(ue,Math.min(me,Ee));const zt=(O-Ge)/2,Zt=(Y-Ge)/2;qe=zt-r.x*Ee,yt=Zt-r.y*Ee}else Ee=Math.max(Ge/re,Ge/le),Ee=Math.max(ue,Ee),qe=(O-re*Ee)/2,yt=(Y-le*Ee)/2;const Bt={...ve(qe,yt,Ee),scale:Ee};y(Bt),x(!0),c.current=!0},[b,g,w,r,be,Ce,ve]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,u.current&&u.current.disconnect()}),[]),f.useEffect(()=>{d.current!==e?(d.current&&g?(N(d.current),_(h),W(w)):(N(null),_(null),W(null)),m(!1),x(!1),v(o||{width:0,height:0}),y({x:0,y:0,scale:1}),k(.1),R(5),c.current=!1,E(!1),d.current=e):o&&!g&&(o.width!==w.width||o.height!==w.height)&&v(o)},[e,o]);const Le=f.useCallback(()=>{const O=i.current;if(!O||!l.current||O.src!==e)return;const Y=O.naturalWidth,re=O.naturalHeight;if(Y<=0||re<=0){S.error("[Cropper] Image invalid dimensions on load"),m(!1),x(!1);return}(w.width!==Y||w.height!==re)&&v({width:Y,height:re}),m(!0)},[e,w]),Ve=f.useCallback(()=>{const O=i.current;!O||!l.current||O.src!==e||(S.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),x(!1))},[e]);f.useEffect(()=>{const O=s.current;if(O&&b&&!g){const Y=ue=>{if(!(!l.current||g))for(const me of ue){const{width:Ee,height:qe}=me.contentRect||{width:me.target.clientWidth,height:me.target.clientHeight};Ee>0&&qe>0?Me(Ee,qe):S.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};u.current&&u.current.disconnect(),u.current=new ResizeObserver(Y),u.current.observe(O);const re=O.clientWidth,le=O.clientHeight;return re>0&&le>0&&Me(re,le),()=>{u.current&&u.current.disconnect(),u.current=null}}else u.current&&(u.current.disconnect(),u.current=null)},[b,g,Me]),f.useEffect(()=>{if(b&&g){const{x:O,y:Y,scale:re}=h,le=ve(O,Y,re);(le.x!==O||le.y!==Y)&&y(ue=>({...ue,...le}))}},[h.scale,b,g,ve,h.x,h.y]);const he=f.useCallback((O,Y,re)=>{!K||!s.current||y(le=>{let ue=le.scale*O;if(ue=Math.max(P,Math.min(A,ue)),ue===le.scale)return le;const me=(Y-le.x)/le.scale,Ee=(re-le.y)/le.scale,qe=Y-me*ue,yt=re-Ee*ue;return{scale:ue,...ve(qe,yt,ue)}})},[K,P,A,ve]),X=(O,Y,re)=>{!K||C||(L(!0),F({x:O,y:Y,pinchDistance:re,imageX:h.x,imageY:h.y}),B(re??null))},xe=(O,Y,re)=>{if(!(!M||!K||!s.current)){if(re!==void 0&&j!==null){const le=re/j,ue=s.current.getBoundingClientRect(),me=$.x-ue.left,Ee=$.y-ue.top;he(le,me,Ee),B(re)}else if(j===null){const le=O-$.x,ue=Y-$.y,me=$.imageX+le,Ee=$.imageY+ue;y(qe=>({...qe,...ve(me,Ee,qe.scale)}))}}},ke=()=>{M&&(L(!1),B(null))},rt=O=>X(O.clientX,O.clientY),ht=O=>xe(O.clientX,O.clientY),pt=O=>{if(O.touches.length===2){const Y=O.touches[0],re=O.touches[1],le=Math.hypot(re.clientX-Y.clientX,re.clientY-Y.clientY),ue=(Y.clientX+re.clientX)/2,me=(Y.clientY+re.clientY)/2;X(ue,me,le)}else O.touches.length===1&&X(O.touches[0].clientX,O.touches[0].clientY)},St=O=>{if(M)if(O.cancelable&&O.preventDefault(),O.touches.length===2){const Y=O.touches[0],re=O.touches[1],le=Math.hypot(re.clientX-Y.clientX,re.clientY-Y.clientY),ue=(Y.clientX+re.clientX)/2,me=(Y.clientY+re.clientY)/2;xe(ue,me,le)}else O.touches.length===1&&xe(O.touches[0].clientX,O.touches[0].clientY)},q=f.useCallback(O=>{if(!K||!s.current||C)return;O.preventDefault();const Y=s.current.getBoundingClientRect(),re=O.clientX-Y.left,le=O.clientY-Y.top,me=1+O.deltaY*-.005;he(me,re,le)},[K,C,he]);f.useEffect(()=>{if(M)return window.addEventListener("mousemove",ht),window.addEventListener("touchmove",St,{passive:!1}),window.addEventListener("mouseup",ke),window.addEventListener("touchend",ke),window.addEventListener("touchcancel",ke),()=>{window.removeEventListener("mousemove",ht),window.removeEventListener("touchmove",St),window.removeEventListener("mouseup",ke),window.removeEventListener("touchend",ke),window.removeEventListener("touchcancel",ke)}},[M,St]),f.useEffect(()=>{const O=s.current;if(O&&K)return O.addEventListener("wheel",q,{passive:!1}),()=>O.removeEventListener("wheel",q)},[K,q]);const H=f.useCallback(O=>{if(!s.current||!K||(O=Math.max(P,Math.min(A,O)),O===h.scale))return;const Y=s.current,re=Y.clientWidth/2,le=Y.clientHeight/2;he(O/h.scale,re,le)},[K,P,A,h.scale,he]),z=()=>H(h.scale*1.15),ne=()=>H(h.scale/1.15),ce=O=>H(O[0]),vt=()=>{if(x(!1),c.current=!1,y({x:0,y:0,scale:1}),s.current&&b){const O=s.current.clientWidth,Y=s.current.clientHeight;O>0&&Y>0&&Me(O,Y)}},et=()=>{const O=s.current,Y=i.current;if(!O||!g||!Y||!Y.naturalWidth||!Y.naturalHeight||Y.naturalWidth<=0||Y.naturalHeight<=0){S.error("[Cropper] Cannot crop: Preconditions fail");return}E(!0);try{const re=O.clientWidth,le=O.clientHeight,ue=(re-Ge)/2,me=(le-Ge)/2,Ee=ue-h.x,qe=me-h.y,yt=Ee/h.scale,wt=qe/h.scale,Bt=Ge/h.scale,zt=Ge/h.scale,Zt=Math.max(0,yt),vn=Math.max(0,wt),Mn=Math.min(Bt,Y.naturalWidth-Zt),ur=Math.min(zt,Y.naturalHeight-vn);if(Mn<=0||ur<=0)throw new Error(`Crop area zero/negative: W=${Mn}, H=${ur}`);let dr={x:Math.round(Zt),y:Math.round(vn),w:Math.round(Mn),h:Math.round(ur)};const J=Math.min(dr.w,dr.h);if(dr.w=J,dr.h=J,dr.w<=0)throw new Error(`Final crop width <= 0: ${dr.w}`);l.current&&t(dr)}catch(re){S.error("[Cropper] Error during cropping:",re)}finally{l.current&&E(!1)}},tt=ae||!g&&!C,Ie=!g&&!C,de=!g||C,ye={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Ne={...ye,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:g?1:0,transition:M?"none":"transform 0.1s linear",zIndex:2},Ae={...ye,transform:D?`translate(${D.x}px, ${D.y}px) scale(${D.scale})`:"translate(0px, 0px) scale(1)",opacity:g?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Ft,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:Z("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",M?"cursor-grabbing":"cursor-grab"),onMouseDown:rt,onTouchStart:pt,children:[I&&D&&V&&p.jsx("img",{ref:a,src:I,alt:"",className:"absolute transform-gpu origin-top-left block",style:Ae,draggable:!1,width:V.width,height:V.height},I+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Ne,onLoad:Le,onError:Ve,draggable:!1,loading:"eager"},e),tt&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Ft,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${Ge}px`,height:`${Ge}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Be,{type:"button",variant:"outline",size:"icon",onClick:ne,disabled:!K||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(G_,{className:"h-4 w-4"})," "]}),p.jsx(Yk,{value:[h.scale],min:P,max:A,step:(A-P)/100,onValueChange:ce,className:"flex-grow",disabled:!K||C,"aria-label":"Zoom slider"}),p.jsxs(Be,{type:"button",variant:"outline",size:"icon",onClick:z,disabled:!K||C||h.scale>=A,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(W_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Be,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Be,{type:"button",variant:"ghost",onClick:vt,disabled:!K||C,className:"px-3",children:[" ",p.jsx(B_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Be,{type:"button",variant:"default",onClick:et,disabled:de,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Ft,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):Ie?p.jsxs(p.Fragment,{children:[" ",p.jsx(Ft,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(zS,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function C0(e){return new Promise((t,n)=>{const r=new Image;if(r.onload=()=>{r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):n(new Error("Image loaded with zero dimensions."))},r.onerror=o=>{S.error("Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")r.src=e;else if(e instanceof File){const o=new FileReader;o.onload=s=>{var i;(i=s.target)!=null&&i.result?r.src=s.target.result:n(new Error("FileReader result is empty."))},o.onerror=s=>{S.error("FileReader error:",s),n(new Error("Failed to read file."))},o.readAsDataURL(e)}else n(new Error("Invalid input for getImageDimensions"))})}const Ez=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return S.error("Error parsing EXIF date string:",t),null}};function E0(e){return new Promise(t=>{if(!window.EXIF){S.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(S.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=Ez(o);t({exifDate:s})}catch(o){S.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,S.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function P0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(Dk,{open:e,onOpenChange:t,children:p.jsxs(Lg,{children:[p.jsxs(Og,{children:[p.jsx($g,{children:r}),p.jsx(Vg,{children:o})]}),p.jsxs(Fg,{children:[p.jsx(Bg,{disabled:a,children:i}),p.jsxs(Ug,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const Pz=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&S.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function T0({entryId:e}){const t=Hn(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,isAuthenticated:u,isLoadingAuth:d,navigate:h,isLoadingImagesMeta:y,isClientReady:w,isOnline:v}=t,{toast:b}=qa(),[m,g]=f.useState(null),[x,C]=f.useState(()=>{const oe=window.location.hash.split("?")[1];let se=null;if(oe)try{se=new URLSearchParams(oe).get("date")}catch{}if(se&&/^\d{4}-\d{2}-\d{2}$/.test(se))return S.log(`[EntryForm State Init] Initializing date from param: ${se}`),new Date(se+"T00:00:00Z");{S.log("[EntryForm State Init] Initializing date to today (UTC).");const pe=new Date;return new Date(Date.UTC(pe.getFullYear(),pe.getMonth(),pe.getDate()))}}),[E,P]=f.useState(!1),[k,A]=f.useState(""),[R,M]=f.useState([]),[L,$]=f.useState(!1),[F,j]=f.useState(null),[B,I]=f.useState(!1),[N,D]=f.useState(null),[_,V]=f.useState(null),[W,K]=f.useState(!0),[ae,te]=f.useState([]),[be,Ce]=f.useState(null),[ve,Me]=f.useState(!1),[Le,Ve]=f.useState(null),[he,X]=f.useState(null),[xe,ke]=f.useState(!1),[rt,ht]=f.useState(!1),[pt,St]=f.useState(new Map),q=f.useRef(null),H=f.useRef(!1),z=f.useRef(new Map),ne=f.useRef(new Map),ce=f.useRef(null),vt=f.useRef(!1),et=f.useRef(!1),tt=f.useRef(0),Ie=f.useRef({}),de=Zr.getInstance(),ye=!!e,Ne=be!==null&&be<ae.length,Ae=a||Ne||ve,O=!W&&!Ae&&!a&&!d&&R.length>0&&!B&&ae.length===0&&xe,Y=f.useMemo(()=>{const J=m?m.date:x.toISOString().split("T")[0],oe=m?m.content:"",se=m?m.photos:[],pe=new Set(se.map(we=>we.photoId));return{date:J,content:oe,photoIds:pe}},[m,x]);f.useEffect(()=>{if(W||d||y){ke(!1);return}const J=x.toISOString().split("T")[0]!==Y.date,oe=k!==Y.content,se=new Set(R.map(Pe=>Br(Pe)?Pe.localId:Pe.photoId)),pe=Y.photoIds;let we=se.size!==pe.size;if(!we){for(const Pe of se)pe.has(Pe)||(we=!0);if(!we)for(const Pe of pe)se.has(Pe)||(we=!0)}let Fe=!1;if(m&&!we){for(const Pe of R)if(!Br(Pe)){const ie=m.photos.find(Oe=>Oe.photoId===Pe.photoId);if(ie&&(Pe.crop.x!==ie.crop.x||Pe.crop.y!==ie.crop.y||Pe.crop.w!==ie.crop.w||Pe.crop.h!==ie.crop.h)){Fe=!0;break}}}if(ye)ke(J||oe||we||Fe);else{const Pe=(()=>{const Ye=window.location.hash.split("?")[1];let We=null;if(Ye)try{We=new URLSearchParams(Ye).get("date")}catch{}if(We&&/^\d{4}-\d{2}-\d{2}$/.test(We))return We;{const Xe=new Date;return new Date(Date.UTC(Xe.getFullYear(),Xe.getMonth(),Xe.getDate())).toISOString().split("T")[0]}})(),ie=x.toISOString().split("T")[0]!==Pe;ke(k.trim()!==""||R.length>0||ie)}},[x,k,R,Y.date,Y.content,Y.photoIds,ye,W,d,y,m]);const re=f.useCallback(async J=>{if(!H.current||J>=ae.length)return;const oe=ae[J];if(!oe||pt.has(oe.localId))return;ce.current&&ce.current.abort();const se=new AbortController;ce.current=se;try{const[pe,we]=await Promise.all([C0(oe.file),E0(oe.file)]);if(se.signal.aborted||!H.current)return;St(Fe=>new Map(Fe).set(oe.localId,{dims:pe,exif:we}))}catch(pe){pe.name==="AbortError"||H.current&&S.error(`[Prefetch] Error pre-fetching data for index ${J}, file: ${oe.file.name}`,pe)}finally{ce.current===se&&(ce.current=null)}},[ae,pt]),le=f.useCallback((J,oe)=>{if(S.log(`[EntryForm] handleFilesSelect called with ${J.length} files.`),!H.current){S.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&oe.forEach(URL.revokeObjectURL);return}const se=ta-R.length-ae.length;if(J.length>se&&(b({title:"Too many files",description:`You can only add ${se} more photo(s). Some files were ignored.`,variant:"destructive"}),J=J.slice(0,se),typeof URL.revokeObjectURL=="function"&&oe.slice(se).forEach(URL.revokeObjectURL),oe=oe.slice(0,se),J.length===0))return;const pe=J.map((we,Fe)=>{const Pe=crypto.randomUUID(),ie=oe[Fe];return S.log(`[EntryForm] Creating blob URL for ${we.name} (localId: ${Pe}): ${ie}`),z.current.set(Pe,ie),{file:we,previewUrl:ie,localId:Pe}});S.log(`[EntryForm] Adding ${pe.length} items to processingQueue.`),te(we=>{const Fe=[...we,...pe];return S.log(`[EntryForm] ProcessingQueue updated. Length: ${Fe.length}. Current Index: ${be}`),be===null&&Fe.length>0&&(S.log("[EntryForm] Setting currentQueueIndex to 0."),Ce(0),Fe.length>1&&re(1)),Fe})},[R.length,ae.length,b,be,re]);f.useEffect(()=>{const J={entryId:e,isAuthenticated:u,isLoadingAuth:d,isClientReady:w,isLoadingImagesMeta:y,isOnline:v,navigate:h,toast:b,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:m==null?void 0:m.id};tt.current++;const oe=tt.current,se=`init-${oe}`;if(Pz(oe,Ie.current,J),(oe===1||e!==Ie.current.entryId)&&(et.current=!1),!(!d&&u&&w&&!y)){K(!0),Ie.current=J;return}H.current=!0,ke(!1);const we=()=>{S.log(`[EntryForm Init Effect ${se}] resetFormState() called.`),g(null),A(""),M([]),$(!1),j(null),I(!1),D(null),V(null),te([]),Ce(null),Me(!1),Ve(null),X(null),St(new Map),z.current.forEach((ie,Oe)=>{try{ie.startsWith("blob:")&&URL.revokeObjectURL(ie)}catch{}}),z.current.clear(),ne.current.clear()},Fe=async ie=>{if(S.log(`[EntryForm Init Effect ${se}] Populate form for entry ID:`,ie.id),!H.current)return;let Oe=new Date(ie.date+"T00:00:00Z");if(C(Oe),A(ie.content),g({...ie}),P(!0),S.log(`[EntryForm Init Effect ${se}] Basic form fields populated. isDateSetByUserIntent: true`),M([]),ne.current.clear(),z.current.forEach((Ye,We)=>{try{Ye.startsWith("blob:")&&URL.revokeObjectURL(Ye)}catch{}}),z.current.clear(),ie.photos&&ie.photos.length>0){S.log(`[EntryForm Init Effect ${se}] Loading ${ie.photos.length} photos.`),(!i||i.length===0)&&S.warn(`[EntryForm Init Effect ${se}] Missing imagesMetadata.`);const Ye=ie.photos.map(async We=>{const Xe=(i||[]).find(Gn=>Gn.id===We.photoId),He=(Xe==null?void 0:Xe.photoMetadata)??null,qt=He==null?void 0:He.contentHash;let Ct=null;try{if(Ct=await s(qt,We.photoId),!H.current)return null;Ct?(z.current.set(We.photoId,Ct),He&&ne.current.set(We.photoId,He)):S.warn(`[EntryForm Init Effect ${se}] No preview URL for photo ${We.photoId}`)}catch(Gn){S.error(`[EntryForm Init Effect ${se}] Failed getting preview link for photo ${We.photoId}:`,Gn)}const fr=Ct===null?void 0:Ct;return fr?{...We,isNew:!1,localPreviewUrl:fr}:null});try{const We=await Promise.all(Ye);if(!H.current)return;const Xe=We.filter(He=>He!==null);if(S.log(`[EntryForm Init Effect ${se}] Setting ${Xe.length} photos.`),M(Xe),Xe.length>0){const He=ne.current.get(Xe[0].photoId),qt=(He==null?void 0:He.exifDate)??null;S.log(`[EntryForm Init Edit] Storing initial EXIF date: ${qt}`),j(qt);const Ct=Oe.toISOString().split("T")[0];let fr=!1,Gn="";if(qt){const[xi,bi,os]=qt.split("-").map(Number);!isNaN(xi)&&!isNaN(bi)&&!isNaN(os)&&(Gn=new Date(Date.UTC(xi,bi-1,os)).toISOString().split("T")[0],fr=Ct!==Gn)}S.log(`[EntryForm Init Edit] Comparing Form UTC: ${Ct} vs EXIF as UTC: ${Gn||"N/A"}. Show warning: ${fr}`),$(fr)}else S.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),j(null),$(!1)}catch(We){S.error(`[EntryForm Init Effect ${se}] Error loading initial photo details:`,We),H.current&&M([])}}else S.log(`[EntryForm Init Effect ${se}] Entry has no photos.`),M([]),j(null),$(!1);S.log(`[EntryForm Init Effect ${se}] populateForm finished.`)};return(async()=>{if(et.current){K(!1);return}K(!0),we();try{if(ye&&e){S.log(`[EntryForm Init Effect ${se}] EDIT MODE: Initializing for entry ID: ${e}`);let ie=null;if(ie=r(e)||null,ie||(S.log(`[EntryForm Init Effect ${se}] EDIT MODE: Not in context, loading...`),ie=await o(e)),ie&&H.current)await Fe(ie),et.current=!0;else if(H.current){S.error(`[EntryForm Init Effect ${se}] EDIT MODE: Entry ${e} not found. Redirecting.`),b({title:"Error",description:"Entry not found.",variant:"destructive"}),h("/");return}}else{S.log(`[EntryForm Init Effect ${se}] NEW MODE: Initializing.`);const Oe=window.location.hash.split("?")[1];let Ye=null;if(Oe)try{Ye=new URLSearchParams(Oe).get("date")}catch{}let We=!1,Xe;if(Ye&&/^\d{4}-\d{2}-\d{2}$/.test(Ye))Xe=new Date(Ye+"T00:00:00Z"),We=!0,S.log(`[EntryForm Init Effect ${se}] NEW MODE: Date from param: ${Ye}. User intent: true.`);else{const He=new Date;Xe=new Date(Date.UTC(He.getFullYear(),He.getMonth(),He.getDate())),We=!1,S.log(`[EntryForm Init Effect ${se}] NEW MODE: Date defaulted to today. User intent: false.`)}C(Xe),P(We),g(null),et.current=!0}}finally{H.current&&K(!1)}})(),Ie.current=J,()=>{H.current=!1,ce.current&&(ce.current.abort(),ce.current=null),S.log(`[EntryForm Cleanup] Attempting to revoke ${z.current.size} URLs.`),z.current.forEach((ie,Oe)=>{try{ie&&ie.startsWith("blob:")&&URL.revokeObjectURL(ie)}catch{}}),z.current.clear(),ne.current.clear()}},[e,u,d,w,y,h,b,r,o,s,i,v,de]),f.useEffect(()=>{if(!ye&&u&&!d&&l&&l.length>0&&!vt.current&&!W){S.log("[Shared Files Effect] Processing pending shared files."),P(!1);const J=[...l];if(c(),vt.current=!0,typeof URL.createObjectURL!="function"){b({title:"Error",description:"Cannot process shared files.",variant:"destructive"});return}const oe=R.length,se=ae.length,pe=ta-oe-se;if(J.length>pe&&(b({title:"Too many files",description:`Limit reached. Added first ${pe}.`,variant:"destructive"}),J.splice(pe)),J.length===0)return;const we=[],Fe=[];try{J.forEach(Pe=>{if(!Pe.type.startsWith("image/"))throw new Error("Invalid file type");const ie=URL.createObjectURL(Pe);we.push(ie);const Oe=crypto.randomUUID();z.current.set(Oe,ie),Fe.push({file:Pe,previewUrl:ie,localId:Oe})}),le(Fe.map(Pe=>Pe.file),Fe.map(Pe=>Pe.previewUrl))}catch(Pe){S.error("[Shared Files Effect] Error:",Pe),we.forEach(URL.revokeObjectURL)}}},[ye,u,d,l,c,b,le,W,R.length,ae.length]),f.useEffect(()=>{if(!Ne||!H.current)return;const J=ae[be];if(!J){ae.length>0&&be!==null&&(S.warn("[Queue Effect] Resetting queue."),Ce(null),te([]),B&&I(!1));return}(async()=>{if(!H.current)return;const se=J,{file:pe,previewUrl:we,localId:Fe}=se;let Pe=null;pt.has(Fe)&&(Pe=pt.get(Fe),St(ie=>{const Oe=new Map(ie);return Oe.delete(Fe),Oe}));try{const{dims:ie,exif:Oe}=Pe??await(async()=>({dims:await C0(pe),exif:await E0(pe)}))();if(!H.current)return;const Ye=Math.min(ie.width,ie.height),We={x:Math.round((ie.width-Ye)/2),y:Math.round((ie.height-Ye)/2),w:Math.round(Ye),h:Math.round(Ye)},Xe={isNew:!0,file:pe,originalDimensions:ie,exifData:Oe,localPreviewUrl:we,localId:Fe};if(R.length===0&&!F&&!ye){const qt=Oe.exifDate;let Ct=!1;if(S.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${E}. Storing initial EXIF date string: ${qt}`),j(qt),qt){const[fr,Gn,xi]=qt.split("-").map(Number);if(!isNaN(fr)&&!isNaN(Gn)&&!isNaN(xi)){const bi=new Date(Date.UTC(fr,Gn-1,xi)),os=bi.toISOString().split("T")[0],qg=x.toISOString().split("T")[0];E?(S.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${qg} vs EXIF as UTC: ${os}`),Ct=os!==qg,S.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${Ct}`)):(S.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${os}`),C(bi),Ct=!1,S.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else S.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${qt}. Setting warning false.`),Ct=!1}else S.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),Ct=!1;S.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${Ct}`),$(Ct)}X(Xe),D(null),V(we),B||I(!0);const He=be+1;He<ae.length&&re(He)}catch(ie){if(S.error(`[Queue Effect] Error processing queue item ${be}:`,ie),b({title:"Error Processing Photo",description:`Could not process: ${pe.name}. ${ie instanceof Error?ie.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(we)}catch{}if(z.current.delete(Fe),H.current){const Oe=be!==null?be+1:null;Oe!==null&&Oe<ae.length?Ce(Oe):(S.log("[Queue Effect] Last item failed. Resetting queue."),Ce(null),te([]),B&&I(!1))}}})()},[be,ae,pt,B,re,R.length,F,ye,x,b,E]);const ue=f.useCallback(J=>{if(!H.current)return;if(he){const se={...he,crop:J};M(pe=>[...pe,se]),X(null)}else N!==null&&M(se=>se.map((pe,we)=>we===N?{...pe,crop:J}:pe));D(null);const oe=be!==null?be+1:null;oe!==null&&oe<ae.length?Ce(oe):(Ce(null),te([]),I(!1)),oe!==null&&oe<ae.length||setTimeout(()=>{var se;return(se=q.current)==null?void 0:se.focus()},50)},[be,ae.length,he,N]),me=f.useCallback(()=>{if(!H.current)return;if(he){if(typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(he.localPreviewUrl)}catch{}z.current.delete(he.localId),X(null)}D(null);const J=be!==null?be+1:null;J!==null&&J<ae.length?Ce(J):(Ce(null),te([]),I(!1)),J!==null&&J<ae.length||setTimeout(()=>{var oe;return(oe=q.current)==null?void 0:oe.focus()},50)},[be,ae.length,he,N]),Ee=f.useCallback(J=>{const oe=R[J];if(!oe||Ne||Ae){S.warn(`[EntryForm] openCropperForPhoto prevented for index ${J}.`,{isProcessingQueue:Ne,isBusy:Ae});return}const se=Br(oe)?oe.localId:oe.photoId,pe=z.current.get(se);pe?(D(J),X(null),V(pe),I(!0)):(b({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),S.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${J}, id ${se}`))},[R,Ne,Ae,b]),qe=f.useCallback(J=>{Ve(J),Me(!0)},[]),yt=f.useCallback(()=>{var Pe;if(Le===null)return;const J=Le,oe=R[J];if(!oe){S.warn(`[EntryForm] Photo to remove at index ${J} not found.`),Me(!1),Ve(null);return}const se=Br(oe)?oe.localId:oe.photoId,pe=J===0;let we=[];const Fe=z.current.get(se);if(typeof URL.revokeObjectURL=="function"&&Fe)try{URL.revokeObjectURL(Fe)}catch(ie){S.error("Error revoking original URL on remove:",ie)}if(typeof URL.revokeObjectURL=="function"&&oe.localPreviewUrl&&oe.localPreviewUrl.startsWith("blob:")&&oe.localPreviewUrl!==Fe)try{URL.revokeObjectURL(oe.localPreviewUrl)}catch(ie){S.error("Error revoking preview URL on remove:",ie)}if(z.current.delete(se),ne.current.delete(se),M(ie=>(we=ie.filter((Oe,Ye)=>Ye!==J),we)),pe&&H.current){const ie=we.length>0?we[0]:null;let Oe=null;if(ie)if(Br(ie))Oe=((Pe=ie.exifData)==null?void 0:Pe.exifDate)??null;else{const He=ne.current.get(ie.photoId);Oe=(He==null?void 0:He.exifDate)??null}S.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${Oe}`),j(Oe);const Ye=x.toISOString().split("T")[0];let We=!1,Xe="";if(Oe){const[He,qt,Ct]=Oe.split("-").map(Number);!isNaN(He)&&!isNaN(qt)&&!isNaN(Ct)&&(Xe=new Date(Date.UTC(He,qt-1,Ct)).toISOString().split("T")[0],We=Ye!==Xe)}S.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${Ye} vs New EXIF as UTC: ${Xe||"N/A"}. Show warning: ${We}`),$(We)}Me(!1),Ve(null)},[Le,R,x]),wt=f.useCallback(()=>{if(F){S.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${F}.`);const[J,oe,se]=F.split("-").map(Number);C(new Date(Date.UTC(J,oe-1,se))),S.log("[EntryForm] handleUseExifDate setting warning to false."),$(!1)}},[F]),Bt=f.useCallback(J=>{try{const oe=new Date(J.target.value+"T00:00:00Z");if(isNaN(oe.getTime()))S.warn("[EntryForm] Invalid date input received:",J.target.value);else{C(oe);const se=oe.toISOString().split("T")[0];let pe=!1,we="";if(F){const[Fe,Pe,ie]=F.split("-").map(Number);!isNaN(Fe)&&!isNaN(Pe)&&!isNaN(ie)&&(we=new Date(Date.UTC(Fe,Pe-1,ie)).toISOString().split("T")[0],pe=se!==we)}S.log(`[handleDateChange - DATE CHECK 1] Date changed to ${J.target.value}. Comparing New Form UTC: ${se} vs Initial EXIF as UTC: ${we||"N/A"}. Show warning: ${pe}`),$(pe)}}catch(oe){S.error("[EntryForm] Error processing date change:",oe)}},[F]),zt=f.useCallback(async()=>{if(S.log("[EntryForm] handleSave called.",{isBusy:Ae,canSave:O}),Ae||!O){S.warn("[EntryForm] Save prevented:",{isBusy:Ae,canSave:O});return}const oe=await n({date:x,content:k,photos:R},m);oe&&H.current?ke(!1):oe||S.warn("[EntryForm] Save failed (returned false).")},[Ae,O,x,k,R,n,m]),Zt=f.useCallback(()=>{S.log("[EntryForm] handleCancel called.",{isCropperOpen:B,isDirty:xe}),B?me():xe&&R.length>0?ht(!0):h("/")},[B,xe,h,me,R.length]),vn=f.useCallback(()=>{ht(!1),ke(!1),h("/")},[h]),Mn=f.useCallback(J=>{J.key==="Enter"&&(J.metaKey||J.ctrlKey)&&(J.preventDefault(),O&&!Ae&&zt())},[O,Ae,zt]);if(d&&!u)return S.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(!u)return S.log("[EntryForm Render] Redirecting (Not Authenticated)..."),p.jsx(eM,{to:"/"});if(W)return S.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"})," "]});S.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:B,isEditMode:ye,photoCount:R.length,queueLength:ae.length,currentQueueIndex:be,isLoadingData:W,isBusy:Ae,formDateUTC:x.toISOString().split("T")[0],initialExifDate:F,showExifDateMismatchWarning:L,isDateSetByUserIntent:E});const ur=()=>{var J;if(B&&_){const oe=he??(N!==null?R[N]:null),se=oe&&"crop"in oe?oe.crop:void 0;let pe;if(he&&he.originalDimensions)pe=he.originalDimensions;else if(N!==null&&Ik(R[N])){const we=ne.current.get(R[N].photoId);we!=null&&we.width&&(we!=null&&we.height)&&(pe={width:we.width,height:we.height})}else N!==null&&Br(R[N])&&(pe=R[N].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(Cz,{imageUrl:_,onCropComplete:ue,onCancel:me,initialCropData:se,initialImageDimensions:pe})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(QB,{photos:R,setPhotos:M,isBusy:Ae,isLoadingInitial:!1,initialPhotoCount:((J=m==null?void 0:m.photos)==null?void 0:J.length)??0,onOpenCropper:Ee,onRemovePhoto:qe,onFilesSelect:le,originalBlobUrlsRef:z,existingPhotoMetaRef:ne,processingQueueLength:ae.length,currentQueueIndex:be,isProcessingQueueItem:Ne}),R.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(ZB,{date:x,onDateChange:Bt,showExifWarning:L,initialExifDate:F,onUseExifDate:wt,isBusy:Ae}),p.jsx(JB,{content:k,setContent:A,isBusy:Ae,onKeyDown:Mn,textAreaRef:q})]})]})},dr=()=>B?`Adjust Photo${ae.length>0&&be!==null?` (${be+1}/${ae.length})`:""}`:ye?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Be,{variant:"ghost",size:"icon",onClick:Zt,disabled:Ae&&!B,"aria-label":B?"Cancel Crop":"Go Back",children:[" ",p.jsx(BS,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:dr()}),p.jsxs(Be,{variant:"ghost",size:"icon",onClick:Zt,disabled:Ae&&!B,"aria-label":"Close",children:[" ",p.jsx(Cu,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[ur(),!B&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(ez,{isBusy:Ae,isSaving:a,isEditMode:ye,canSave:O,onCancel:Zt,onSave:zt})})]})]}),p.jsx(P0,{open:ve,onOpenChange:Me,onConfirm:yt,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(P0,{open:rt,onOpenChange:ht,onConfirm:vn,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function Tz(){return S.log("[App] Using hook:",Sh),p.jsx(EM,{client:kM,children:p.jsx(a2,{children:p.jsxs(OC,{children:[p.jsx(iS,{hook:Sh,children:p.jsxs(JR,{children:[p.jsx(wl,{path:"/",component:oz}),p.jsx(wl,{path:"/entry/new",children:p.jsx(T0,{})}),p.jsx(wl,{path:"/entry/edit/:id",children:e=>p.jsx(T0,{entryId:e.id})}),p.jsx(wl,{children:()=>p.jsx(cj,{})})]})}),p.jsx(RI,{})]})})})}Yb(document.getElementById("root")).render(p.jsx(D2,{attribute:"class",children:p.jsx(Tz,{})}))});export default kz();
