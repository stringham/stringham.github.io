var sy=e=>{throw TypeError(e)};var fA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var id=(e,t,n)=>t.has(e)||sy("Cannot "+n);var V=(e,t,n)=>(id(e,t,"read from private field"),n?n.call(e):t.get(e)),He=(e,t,n)=>t.has(e)?sy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Re=(e,t,n,r)=>(id(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ut=(e,t,n)=>(id(e,t,"access private method"),n);var ll=(e,t,n,r)=>({set _(o){Re(e,t,o,n)},get _(){return V(e,t,r)}});var K4=fA((c3,dA)=>{function hA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W0={exports:{}},au={},H0={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),pA=Symbol.for("react.portal"),mA=Symbol.for("react.fragment"),gA=Symbol.for("react.strict_mode"),yA=Symbol.for("react.profiler"),vA=Symbol.for("react.provider"),wA=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),SA=Symbol.for("react.suspense"),bA=Symbol.for("react.memo"),CA=Symbol.for("react.lazy"),iy=Symbol.iterator;function EA(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K0=Object.assign,Y0={};function vi(e,t,n){this.props=e,this.context=t,this.refs=Y0,this.updater=n||G0}vi.prototype.isReactComponent={};vi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q0(){}Q0.prototype=vi.prototype;function up(e,t,n){this.props=e,this.context=t,this.refs=Y0,this.updater=n||G0}var dp=up.prototype=new Q0;dp.constructor=up;K0(dp,vi.prototype);dp.isPureReactComponent=!0;var ay=Array.isArray,X0=Object.prototype.hasOwnProperty,fp={current:null},Z0={key:!0,ref:!0,__self:!0,__source:!0};function J0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)X0.call(t,r)&&!Z0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:za,type:e,key:s,ref:i,props:o,_owner:fp.current}}function PA(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hp(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function TA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ly=/\/+/g;function ad(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TA(""+e.key):t.toString(36)}function Wl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case za:case pA:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+ad(i,0):r,ay(o)?(n="",e!=null&&(n=e.replace(ly,"$&/")+"/"),Wl(o,t,n,"",function(c){return c})):o!=null&&(hp(o)&&(o=PA(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ly,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",ay(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+ad(s,a);i+=Wl(s,t,n,l,o)}else if(l=EA(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+ad(s,a++),i+=Wl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cl(e,t,n){if(e==null)return e;var r=[],o=0;return Wl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function kA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},Hl={transition:null},AA={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:fp};function ex(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:cl,forEach:function(e,t,n){cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!hp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=vi;Le.Fragment=mA;Le.Profiler=yA;Le.PureComponent=up;Le.StrictMode=gA;Le.Suspense=SA;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA;Le.act=ex;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=K0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=fp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)X0.call(t,l)&&!Z0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:za,type:e.type,key:o,ref:s,props:r,_owner:i}};Le.createContext=function(e){return e={$$typeof:wA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vA,_context:e},e.Consumer=e};Le.createElement=J0;Le.createFactory=function(e){var t=J0.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:xA,render:e}};Le.isValidElement=hp;Le.lazy=function(e){return{$$typeof:CA,_payload:{_status:-1,_result:e},_init:kA}};Le.memo=function(e,t){return{$$typeof:bA,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Hl.transition;Hl.transition={};try{e()}finally{Hl.transition=t}};Le.unstable_act=ex;Le.useCallback=function(e,t){return nn.current.useCallback(e,t)};Le.useContext=function(e){return nn.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};Le.useEffect=function(e,t){return nn.current.useEffect(e,t)};Le.useId=function(){return nn.current.useId()};Le.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return nn.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};Le.useRef=function(e){return nn.current.useRef(e)};Le.useState=function(e){return nn.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return nn.current.useTransition()};Le.version="18.3.1";H0.exports=Le;var f=H0.exports;const Et=cp(f),tx=hA({__proto__:null,default:Et},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=f,RA=Symbol.for("react.element"),MA=Symbol.for("react.fragment"),IA=Object.prototype.hasOwnProperty,_A=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NA={key:!0,ref:!0,__self:!0,__source:!0};function nx(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)IA.call(t,r)&&!NA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:RA,type:e,key:s,ref:i,props:o,_owner:_A.current}}au.Fragment=MA;au.jsx=nx;au.jsxs=nx;W0.exports=au;var p=W0.exports,rx={exports:{}},Cn={},ox={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,I){var U=M.length;M.push(I);e:for(;0<U;){var Y=U-1>>>1,J=M[Y];if(0<o(J,I))M[Y]=I,M[U]=J,U=Y;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var I=M[0],U=M.pop();if(U!==I){M[0]=U;e:for(var Y=0,J=M.length,Ee=J>>>1;Y<Ee;){var K=2*(Y+1)-1,Je=M[K],ae=K+1,pe=M[ae];if(0>o(Je,U))ae<J&&0>o(pe,Je)?(M[Y]=pe,M[ae]=U,Y=ae):(M[Y]=Je,M[K]=U,Y=K);else if(ae<J&&0>o(pe,U))M[Y]=pe,M[ae]=U,Y=ae;else break e}}return I}function o(M,I){var U=M.sortIndex-I.sortIndex;return U!==0?U:M.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,w=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=M)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function C(M){if(x=!1,S(M),!v)if(n(l)!==null)v=!0,_(E);else{var I=n(c);I!==null&&L(C,I.startTime-M)}}function E(M,I){v=!1,x&&(x=!1,m(A),A=-1),w=!0;var U=h;try{for(S(I),u=n(l);u!==null&&(!(u.expirationTime>I)||M&&!N());){var Y=u.callback;if(typeof Y=="function"){u.callback=null,h=u.priorityLevel;var J=Y(u.expirationTime<=I);I=e.unstable_now(),typeof J=="function"?u.callback=J:u===n(l)&&r(l),S(I)}else r(l);u=n(l)}if(u!==null)var Ee=!0;else{var K=n(c);K!==null&&L(C,K.startTime-I),Ee=!1}return Ee}finally{u=null,h=U,w=!1}}var P=!1,k=null,A=-1,R=5,D=-1;function N(){return!(e.unstable_now()-D<R)}function $(){if(k!==null){var M=e.unstable_now();D=M;var I=!0;try{I=k(!0,M)}finally{I?Q():(P=!1,k=null)}}else P=!1}var Q;if(typeof y=="function")Q=function(){y($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=$,Q=function(){X.postMessage(null)}}else Q=function(){b($,0)};function _(M){k=M,P||(P=!0,Q())}function L(M,I){A=b(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,_(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var U=h;h=I;try{return M()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return I()}finally{h=U}},e.unstable_scheduleCallback=function(M,I,U){var Y=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,M={id:d++,callback:I,priorityLevel:M,startTime:U,expirationTime:J,sortIndex:-1},U>Y?(M.sortIndex=U,t(c,M),n(l)===null&&M===n(c)&&(x?(m(A),A=-1):x=!0,L(C,U-Y))):(M.sortIndex=J,t(l,M),v||w||(v=!0,_(E))),M},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(M){var I=h;return function(){var U=h;h=I;try{return M.apply(this,arguments)}finally{h=U}}}})(sx);ox.exports=sx;var LA=ox.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA=f,Sn=LA;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ix=new Set,la={};function ls(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(la[e]=t,e=0;e<t.length;e++)ix.add(t[e])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,FA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},uy={};function OA(e){return Tf.call(uy,e)?!0:Tf.call(cy,e)?!1:FA.test(e)?uy[e]=!0:(cy[e]=!0,!1)}function $A(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UA(e,t,n,r){if(t===null||typeof t>"u"||$A(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function mp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pp,mp);Ot[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pp,mp);Ot[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pp,mp);Ot[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function gp(e,t,n,r){var o=Ot.hasOwnProperty(t)?Ot[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UA(t,n,o,r)&&(n=null),r||o===null?OA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vr=jA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),vs=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),ax=Symbol.for("react.provider"),lx=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),cx=Symbol.for("react.offscreen"),dy=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=dy&&e[dy]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,ld;function Ui(e){if(ld===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ld=t&&t[1]||""}return`
`+ld+e}var cd=!1;function ud(e,t){if(!e||cd)return"";cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ui(e):""}function VA(e){switch(e.tag){case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return e=ud(e.type,!1),e;case 11:return e=ud(e.type.render,!1),e;case 1:return e=ud(e.type,!0),e;default:return""}}function Rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case vs:return"Portal";case kf:return"Profiler";case yp:return"StrictMode";case Af:return"Suspense";case Df:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lx:return(e.displayName||"Context")+".Consumer";case ax:return(e._context.displayName||"Context")+".Provider";case vp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wp:return t=e.displayName||null,t!==null?t:Rf(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return Rf(e(t))}catch{}}return null}function BA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(t);case 8:return t===yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function So(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ux(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zA(e){var t=ux(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=zA(e))}function dx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ux(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mf(e,t){var n=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=So(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fx(e,t){t=t.checked,t!=null&&gp(e,"checked",t,!1)}function If(e,t){fx(e,t);var n=So(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_f(e,t.type,n):t.hasOwnProperty("defaultValue")&&_f(e,t.type,So(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _f(e,t,n){(t!=="number"||hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vi=Array.isArray;function js(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+So(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Nf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function py(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Vi(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:So(n)}}function hx(e,t){var n=So(t.value),r=So(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function my(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function px(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?px(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,mx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qA=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){qA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function gx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function yx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=gx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var WA=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jf(e,t){if(t){if(WA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Ff(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $f=null,Fs=null,Os=null;function gy(e){if(e=Ha(e)){if(typeof $f!="function")throw Error(G(280));var t=e.stateNode;t&&(t=fu(t),$f(e.stateNode,e.type,t))}}function vx(e){Fs?Os?Os.push(e):Os=[e]:Fs=e}function wx(){if(Fs){var e=Fs,t=Os;if(Os=Fs=null,gy(e),t)for(e=0;e<t.length;e++)gy(t[e])}}function xx(e,t){return e(t)}function Sx(){}var dd=!1;function bx(e,t,n){if(dd)return e(t,n);dd=!0;try{return xx(e,t,n)}finally{dd=!1,(Fs!==null||Os!==null)&&(Sx(),wx())}}function ua(e,t){var n=e.stateNode;if(n===null)return null;var r=fu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Uf=!1;if(_r)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Uf=!1}function HA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Yi=!1,pc=null,mc=!1,Vf=null,GA={onError:function(e){Yi=!0,pc=e}};function KA(e,t,n,r,o,s,i,a,l){Yi=!1,pc=null,HA.apply(GA,arguments)}function YA(e,t,n,r,o,s,i,a,l){if(KA.apply(this,arguments),Yi){if(Yi){var c=pc;Yi=!1,pc=null}else throw Error(G(198));mc||(mc=!0,Vf=c)}}function cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yy(e){if(cs(e)!==e)throw Error(G(188))}function QA(e){var t=e.alternate;if(!t){if(t=cs(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return yy(o),e;if(s===r)return yy(o),t;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Ex(e){return e=QA(e),e!==null?Px(e):null}function Px(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Px(e);if(t!==null)return t;e=e.sibling}return null}var Tx=Sn.unstable_scheduleCallback,vy=Sn.unstable_cancelCallback,XA=Sn.unstable_shouldYield,ZA=Sn.unstable_requestPaint,St=Sn.unstable_now,JA=Sn.unstable_getCurrentPriorityLevel,Sp=Sn.unstable_ImmediatePriority,kx=Sn.unstable_UserBlockingPriority,gc=Sn.unstable_NormalPriority,eD=Sn.unstable_LowPriority,Ax=Sn.unstable_IdlePriority,lu=null,fr=null;function tD(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(lu,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:oD,nD=Math.log,rD=Math.LN2;function oD(e){return e>>>=0,e===0?32:31-(nD(e)/rD|0)|0}var hl=64,pl=4194304;function Bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Bi(a):(s&=i,s!==0&&(r=Bi(s)))}else i=n&~o,i!==0?r=Bi(i):s!==0&&(r=Bi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),o=1<<n,r|=e[n],t&=~o;return r}function sD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Wn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=sD(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Bf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dx(){var e=hl;return hl<<=1,!(hl&4194240)&&(hl=64),e}function fd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function aD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Wn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function bp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ze=0;function Rx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mx,Cp,Ix,_x,Nx,zf=!1,ml=[],co=null,uo=null,fo=null,da=new Map,fa=new Map,Jr=[],lD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wy(e,t){switch(e){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(t.pointerId)}}function Di(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ha(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function cD(e,t,n,r,o){switch(t){case"focusin":return co=Di(co,e,t,n,r,o),!0;case"dragenter":return uo=Di(uo,e,t,n,r,o),!0;case"mouseover":return fo=Di(fo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return da.set(s,Di(da.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,fa.set(s,Di(fa.get(s)||null,e,t,n,r,o)),!0}return!1}function Lx(e){var t=$o(e.target);if(t!==null){var n=cs(t);if(n!==null){if(t=n.tag,t===13){if(t=Cx(n),t!==null){e.blockedOn=t,Nx(e.priority,function(){Ix(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Of=r,n.target.dispatchEvent(r),Of=null}else return t=Ha(n),t!==null&&Cp(t),e.blockedOn=n,!1;t.shift()}return!0}function xy(e,t,n){Gl(e)&&n.delete(t)}function uD(){zf=!1,co!==null&&Gl(co)&&(co=null),uo!==null&&Gl(uo)&&(uo=null),fo!==null&&Gl(fo)&&(fo=null),da.forEach(xy),fa.forEach(xy)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,zf||(zf=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,uD)))}function ha(e){function t(o){return Ri(o,e)}if(0<ml.length){Ri(ml[0],e);for(var n=1;n<ml.length;n++){var r=ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(co!==null&&Ri(co,e),uo!==null&&Ri(uo,e),fo!==null&&Ri(fo,e),da.forEach(t),fa.forEach(t),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)Lx(n),n.blockedOn===null&&Jr.shift()}var $s=Vr.ReactCurrentBatchConfig,vc=!0;function dD(e,t,n,r){var o=Ze,s=$s.transition;$s.transition=null;try{Ze=1,Ep(e,t,n,r)}finally{Ze=o,$s.transition=s}}function fD(e,t,n,r){var o=Ze,s=$s.transition;$s.transition=null;try{Ze=4,Ep(e,t,n,r)}finally{Ze=o,$s.transition=s}}function Ep(e,t,n,r){if(vc){var o=qf(e,t,n,r);if(o===null)bd(e,t,r,wc,n),wy(e,r);else if(cD(o,e,t,n,r))r.stopPropagation();else if(wy(e,r),t&4&&-1<lD.indexOf(e)){for(;o!==null;){var s=Ha(o);if(s!==null&&Mx(s),s=qf(e,t,n,r),s===null&&bd(e,t,r,wc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else bd(e,t,r,null,n)}}var wc=null;function qf(e,t,n,r){if(wc=null,e=xp(r),e=$o(e),e!==null)if(t=cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wc=e,null}function jx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JA()){case Sp:return 1;case kx:return 4;case gc:case eD:return 16;case Ax:return 536870912;default:return 16}default:return 16}}var io=null,Pp=null,Kl=null;function Fx(){if(Kl)return Kl;var e,t=Pp,n=t.length,r,o="value"in io?io.value:io.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Kl=o.slice(e,1<r?1-r:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Sy(){return!1}function En(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gl:Sy,this.isPropagationStopped=Sy,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=En(wi),Wa=mt({},wi,{view:0,detail:0}),hD=En(Wa),hd,pd,Mi,cu=mt({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(hd=e.screenX-Mi.screenX,pd=e.screenY-Mi.screenY):pd=hd=0,Mi=e),hd)},movementY:function(e){return"movementY"in e?e.movementY:pd}}),by=En(cu),pD=mt({},cu,{dataTransfer:0}),mD=En(pD),gD=mt({},Wa,{relatedTarget:0}),md=En(gD),yD=mt({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),vD=En(yD),wD=mt({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xD=En(wD),SD=mt({},wi,{data:0}),Cy=En(SD),bD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ED={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ED[e])?!!t[e]:!1}function kp(){return PD}var TD=mt({},Wa,{key:function(e){if(e.key){var t=bD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kD=En(TD),AD=mt({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=En(AD),DD=mt({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),RD=En(DD),MD=mt({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ID=En(MD),_D=mt({},cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ND=En(_D),LD=[9,13,27,32],Ap=_r&&"CompositionEvent"in window,Qi=null;_r&&"documentMode"in document&&(Qi=document.documentMode);var jD=_r&&"TextEvent"in window&&!Qi,Ox=_r&&(!Ap||Qi&&8<Qi&&11>=Qi),Py=" ",Ty=!1;function $x(e,t){switch(e){case"keyup":return LD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ux(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function FD(e,t){switch(e){case"compositionend":return Ux(t);case"keypress":return t.which!==32?null:(Ty=!0,Py);case"textInput":return e=t.data,e===Py&&Ty?null:e;default:return null}}function OD(e,t){if(xs)return e==="compositionend"||!Ap&&$x(e,t)?(e=Fx(),Kl=Pp=io=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ox&&t.locale!=="ko"?null:t.data;default:return null}}var $D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$D[e.type]:t==="textarea"}function Vx(e,t,n,r){vx(r),t=xc(t,"onChange"),0<t.length&&(n=new Tp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xi=null,pa=null;function UD(e){Zx(e,0)}function uu(e){var t=Cs(e);if(dx(t))return e}function VD(e,t){if(e==="change")return t}var Bx=!1;if(_r){var gd;if(_r){var yd="oninput"in document;if(!yd){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),yd=typeof Ay.oninput=="function"}gd=yd}else gd=!1;Bx=gd&&(!document.documentMode||9<document.documentMode)}function Dy(){Xi&&(Xi.detachEvent("onpropertychange",zx),pa=Xi=null)}function zx(e){if(e.propertyName==="value"&&uu(pa)){var t=[];Vx(t,pa,e,xp(e)),bx(UD,t)}}function BD(e,t,n){e==="focusin"?(Dy(),Xi=t,pa=n,Xi.attachEvent("onpropertychange",zx)):e==="focusout"&&Dy()}function zD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(pa)}function qD(e,t){if(e==="click")return uu(t)}function WD(e,t){if(e==="input"||e==="change")return uu(t)}function HD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:HD;function ma(e,t){if(Kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Tf.call(t,o)||!Kn(e[o],t[o]))return!1}return!0}function Ry(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function My(e,t){var n=Ry(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ry(n)}}function qx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wx(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hc(e.document)}return t}function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GD(e){var t=Wx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qx(n.ownerDocument.documentElement,n)){if(r!==null&&Dp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=My(n,s);var i=My(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KD=_r&&"documentMode"in document&&11>=document.documentMode,Ss=null,Wf=null,Zi=null,Hf=!1;function Iy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||Ss==null||Ss!==hc(r)||(r=Ss,"selectionStart"in r&&Dp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&ma(Zi,r)||(Zi=r,r=xc(Wf,"onSelect"),0<r.length&&(t=new Tp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ss)))}function yl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bs={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},vd={},Hx={};_r&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function du(e){if(vd[e])return vd[e];if(!bs[e])return e;var t=bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hx)return vd[e]=t[n];return e}var Gx=du("animationend"),Kx=du("animationiteration"),Yx=du("animationstart"),Qx=du("transitionend"),Xx=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(e,t){Xx.set(e,t),ls(t,[e])}for(var wd=0;wd<_y.length;wd++){var xd=_y[wd],YD=xd.toLowerCase(),QD=xd[0].toUpperCase()+xd.slice(1);Ao(YD,"on"+QD)}Ao(Gx,"onAnimationEnd");Ao(Kx,"onAnimationIteration");Ao(Yx,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(Qx,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XD=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Ny(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,YA(r,t,void 0,e),e.currentTarget=null}function Zx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Ny(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Ny(o,a,c),s=l}}}if(mc)throw e=Vf,mc=!1,Vf=null,e}function ot(e,t){var n=t[Xf];n===void 0&&(n=t[Xf]=new Set);var r=e+"__bubble";n.has(r)||(Jx(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Jx(n,e,r,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function ga(e){if(!e[vl]){e[vl]=!0,ix.forEach(function(n){n!=="selectionchange"&&(XD.has(n)||Sd(n,!1,e),Sd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,Sd("selectionchange",!1,t))}}function Jx(e,t,n,r){switch(jx(t)){case 1:var o=dD;break;case 4:o=fD;break;default:o=Ep}n=o.bind(null,t,n,e),o=void 0,!Uf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function bd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=$o(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}bx(function(){var c=s,d=xp(n),u=[];e:{var h=Xx.get(e);if(h!==void 0){var w=Tp,v=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":w=kD;break;case"focusin":v="focus",w=md;break;case"focusout":v="blur",w=md;break;case"beforeblur":case"afterblur":w=md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=mD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=RD;break;case Gx:case Kx:case Yx:w=vD;break;case Qx:w=ID;break;case"scroll":w=hD;break;case"wheel":w=ND;break;case"copy":case"cut":case"paste":w=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ey}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var y=c,S;y!==null;){S=y;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,m!==null&&(C=ua(y,m),C!=null&&x.push(ya(y,C,S)))),b)break;y=y.return}0<x.length&&(h=new w(h,v,null,n,d),u.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==Of&&(v=n.relatedTarget||n.fromElement)&&($o(v)||v[Nr]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=c,v=v?$o(v):null,v!==null&&(b=cs(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=c),w!==v)){if(x=by,C="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ey,C="onPointerLeave",m="onPointerEnter",y="pointer"),b=w==null?h:Cs(w),S=v==null?h:Cs(v),h=new x(C,y+"leave",w,n,d),h.target=b,h.relatedTarget=S,C=null,$o(d)===c&&(x=new x(m,y+"enter",v,n,d),x.target=S,x.relatedTarget=b,C=x),b=C,w&&v)t:{for(x=w,m=v,y=0,S=x;S;S=ps(S))y++;for(S=0,C=m;C;C=ps(C))S++;for(;0<y-S;)x=ps(x),y--;for(;0<S-y;)m=ps(m),S--;for(;y--;){if(x===m||m!==null&&x===m.alternate)break t;x=ps(x),m=ps(m)}x=null}else x=null;w!==null&&Ly(u,h,w,x,!1),v!==null&&b!==null&&Ly(u,b,v,x,!0)}}e:{if(h=c?Cs(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var E=VD;else if(ky(h))if(Bx)E=WD;else{E=zD;var P=BD}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=qD);if(E&&(E=E(e,c))){Vx(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&_f(h,"number",h.value)}switch(P=c?Cs(c):window,e){case"focusin":(ky(P)||P.contentEditable==="true")&&(Ss=P,Wf=c,Zi=null);break;case"focusout":Zi=Wf=Ss=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Iy(u,n,d);break;case"selectionchange":if(KD)break;case"keydown":case"keyup":Iy(u,n,d)}var k;if(Ap)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else xs?$x(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Ox&&n.locale!=="ko"&&(xs||A!=="onCompositionStart"?A==="onCompositionEnd"&&xs&&(k=Fx()):(io=d,Pp="value"in io?io.value:io.textContent,xs=!0)),P=xc(c,A),0<P.length&&(A=new Cy(A,e,null,n,d),u.push({event:A,listeners:P}),k?A.data=k:(k=Ux(n),k!==null&&(A.data=k)))),(k=jD?FD(e,n):OD(e,n))&&(c=xc(c,"onBeforeInput"),0<c.length&&(d=new Cy("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=k))}Zx(u,t)})}function ya(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ua(e,n),s!=null&&r.unshift(ya(e,s,o)),s=ua(e,t),s!=null&&r.push(ya(e,s,o))),e=e.return}return r}function ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=ua(n,s),l!=null&&i.unshift(ya(n,l,a))):o||(l=ua(n,s),l!=null&&i.push(ya(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ZD=/\r\n?/g,JD=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(ZD,`
`).replace(JD,"")}function wl(e,t,n){if(t=jy(t),jy(e)!==t&&n)throw Error(G(425))}function Sc(){}var Gf=null,Kf=null;function Yf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(nR)}:Qf;function nR(e){setTimeout(function(){throw e})}function Cd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ha(t)}function ho(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),cr="__reactFiber$"+xi,va="__reactProps$"+xi,Nr="__reactContainer$"+xi,Xf="__reactEvents$"+xi,rR="__reactListeners$"+xi,oR="__reactHandles$"+xi;function $o(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oy(e);e!==null;){if(n=e[cr])return n;e=Oy(e)}return t}e=n,n=e.parentNode}return null}function Ha(e){return e=e[cr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function fu(e){return e[va]||null}var Zf=[],Es=-1;function Do(e){return{current:e}}function st(e){0>Es||(e.current=Zf[Es],Zf[Es]=null,Es--)}function nt(e,t){Es++,Zf[Es]=e.current,e.current=t}var bo={},Yt=Do(bo),un=Do(!1),Jo=bo;function oi(e,t){var n=e.type.contextTypes;if(!n)return bo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function dn(e){return e=e.childContextTypes,e!=null}function bc(){st(un),st(Yt)}function $y(e,t,n){if(Yt.current!==bo)throw Error(G(168));nt(Yt,t),nt(un,n)}function eS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(G(108,BA(e)||"Unknown",o));return mt({},n,r)}function Cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,Jo=Yt.current,nt(Yt,e),nt(un,un.current),!0}function Uy(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=eS(e,t,Jo),r.__reactInternalMemoizedMergedChildContext=e,st(un),st(Yt),nt(Yt,e)):st(un),nt(un,n)}var Tr=null,hu=!1,Ed=!1;function tS(e){Tr===null?Tr=[e]:Tr.push(e)}function sR(e){hu=!0,tS(e)}function Ro(){if(!Ed&&Tr!==null){Ed=!0;var e=0,t=Ze;try{var n=Tr;for(Ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tr=null,hu=!1}catch(o){throw Tr!==null&&(Tr=Tr.slice(e+1)),Tx(Sp,Ro),o}finally{Ze=t,Ed=!1}}return null}var Ps=[],Ts=0,Ec=null,Pc=0,Dn=[],Rn=0,es=null,kr=1,Ar="";function Lo(e,t){Ps[Ts++]=Pc,Ps[Ts++]=Ec,Ec=e,Pc=t}function nS(e,t,n){Dn[Rn++]=kr,Dn[Rn++]=Ar,Dn[Rn++]=es,es=e;var r=kr;e=Ar;var o=32-Wn(r)-1;r&=~(1<<o),n+=1;var s=32-Wn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,kr=1<<32-Wn(t)+o|n<<o|r,Ar=s+e}else kr=1<<s|n<<o|r,Ar=e}function Rp(e){e.return!==null&&(Lo(e,1),nS(e,1,0))}function Mp(e){for(;e===Ec;)Ec=Ps[--Ts],Ps[Ts]=null,Pc=Ps[--Ts],Ps[Ts]=null;for(;e===es;)es=Dn[--Rn],Dn[Rn]=null,Ar=Dn[--Rn],Dn[Rn]=null,kr=Dn[--Rn],Dn[Rn]=null}var wn=null,vn=null,lt=!1,qn=null;function rS(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,vn=ho(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=es!==null?{id:kr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,vn=null,!0):!1;default:return!1}}function Jf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eh(e){if(lt){var t=vn;if(t){var n=t;if(!Vy(e,t)){if(Jf(e))throw Error(G(418));t=ho(n.nextSibling);var r=wn;t&&Vy(e,t)?rS(r,n):(e.flags=e.flags&-4097|2,lt=!1,wn=e)}}else{if(Jf(e))throw Error(G(418));e.flags=e.flags&-4097|2,lt=!1,wn=e}}}function By(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function xl(e){if(e!==wn)return!1;if(!lt)return By(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yf(e.type,e.memoizedProps)),t&&(t=vn)){if(Jf(e))throw oS(),Error(G(418));for(;t;)rS(e,t),t=ho(t.nextSibling)}if(By(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=ho(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=wn?ho(e.stateNode.nextSibling):null;return!0}function oS(){for(var e=vn;e;)e=ho(e.nextSibling)}function si(){vn=wn=null,lt=!1}function Ip(e){qn===null?qn=[e]:qn.push(e)}var iR=Vr.ReactCurrentBatchConfig;function Ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zy(e){var t=e._init;return t(e._payload)}function sS(e){function t(m,y){if(e){var S=m.deletions;S===null?(m.deletions=[y],m.flags|=16):S.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=yo(m,y),m.index=0,m.sibling=null,m}function s(m,y,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<y?(m.flags|=2,y):S):(m.flags|=2,y)):(m.flags|=1048576,y)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,S,C){return y===null||y.tag!==6?(y=Md(S,m.mode,C),y.return=m,y):(y=o(y,S),y.return=m,y)}function l(m,y,S,C){var E=S.type;return E===ws?d(m,y,S.props.children,C,S.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qr&&zy(E)===y.type)?(C=o(y,S.props),C.ref=Ii(m,y,S),C.return=m,C):(C=nc(S.type,S.key,S.props,null,m.mode,C),C.ref=Ii(m,y,S),C.return=m,C)}function c(m,y,S,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Id(S,m.mode,C),y.return=m,y):(y=o(y,S.children||[]),y.return=m,y)}function d(m,y,S,C,E){return y===null||y.tag!==7?(y=Yo(S,m.mode,C,E),y.return=m,y):(y=o(y,S),y.return=m,y)}function u(m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Md(""+y,m.mode,S),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ul:return S=nc(y.type,y.key,y.props,null,m.mode,S),S.ref=Ii(m,null,y),S.return=m,S;case vs:return y=Id(y,m.mode,S),y.return=m,y;case Qr:var C=y._init;return u(m,C(y._payload),S)}if(Vi(y)||ki(y))return y=Yo(y,m.mode,S,null),y.return=m,y;Sl(m,y)}return null}function h(m,y,S,C){var E=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(m,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ul:return S.key===E?l(m,y,S,C):null;case vs:return S.key===E?c(m,y,S,C):null;case Qr:return E=S._init,h(m,y,E(S._payload),C)}if(Vi(S)||ki(S))return E!==null?null:d(m,y,S,C,null);Sl(m,S)}return null}function w(m,y,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(S)||null,a(y,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ul:return m=m.get(C.key===null?S:C.key)||null,l(y,m,C,E);case vs:return m=m.get(C.key===null?S:C.key)||null,c(y,m,C,E);case Qr:var P=C._init;return w(m,y,S,P(C._payload),E)}if(Vi(C)||ki(C))return m=m.get(S)||null,d(y,m,C,E,null);Sl(y,C)}return null}function v(m,y,S,C){for(var E=null,P=null,k=y,A=y=0,R=null;k!==null&&A<S.length;A++){k.index>A?(R=k,k=null):R=k.sibling;var D=h(m,k,S[A],C);if(D===null){k===null&&(k=R);break}e&&k&&D.alternate===null&&t(m,k),y=s(D,y,A),P===null?E=D:P.sibling=D,P=D,k=R}if(A===S.length)return n(m,k),lt&&Lo(m,A),E;if(k===null){for(;A<S.length;A++)k=u(m,S[A],C),k!==null&&(y=s(k,y,A),P===null?E=k:P.sibling=k,P=k);return lt&&Lo(m,A),E}for(k=r(m,k);A<S.length;A++)R=w(k,m,A,S[A],C),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?A:R.key),y=s(R,y,A),P===null?E=R:P.sibling=R,P=R);return e&&k.forEach(function(N){return t(m,N)}),lt&&Lo(m,A),E}function x(m,y,S,C){var E=ki(S);if(typeof E!="function")throw Error(G(150));if(S=E.call(S),S==null)throw Error(G(151));for(var P=E=null,k=y,A=y=0,R=null,D=S.next();k!==null&&!D.done;A++,D=S.next()){k.index>A?(R=k,k=null):R=k.sibling;var N=h(m,k,D.value,C);if(N===null){k===null&&(k=R);break}e&&k&&N.alternate===null&&t(m,k),y=s(N,y,A),P===null?E=N:P.sibling=N,P=N,k=R}if(D.done)return n(m,k),lt&&Lo(m,A),E;if(k===null){for(;!D.done;A++,D=S.next())D=u(m,D.value,C),D!==null&&(y=s(D,y,A),P===null?E=D:P.sibling=D,P=D);return lt&&Lo(m,A),E}for(k=r(m,k);!D.done;A++,D=S.next())D=w(k,m,A,D.value,C),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?A:D.key),y=s(D,y,A),P===null?E=D:P.sibling=D,P=D);return e&&k.forEach(function($){return t(m,$)}),lt&&Lo(m,A),E}function b(m,y,S,C){if(typeof S=="object"&&S!==null&&S.type===ws&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ul:e:{for(var E=S.key,P=y;P!==null;){if(P.key===E){if(E=S.type,E===ws){if(P.tag===7){n(m,P.sibling),y=o(P,S.props.children),y.return=m,m=y;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qr&&zy(E)===P.type){n(m,P.sibling),y=o(P,S.props),y.ref=Ii(m,P,S),y.return=m,m=y;break e}n(m,P);break}else t(m,P);P=P.sibling}S.type===ws?(y=Yo(S.props.children,m.mode,C,S.key),y.return=m,m=y):(C=nc(S.type,S.key,S.props,null,m.mode,C),C.ref=Ii(m,y,S),C.return=m,m=C)}return i(m);case vs:e:{for(P=S.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(m,y.sibling),y=o(y,S.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Id(S,m.mode,C),y.return=m,m=y}return i(m);case Qr:return P=S._init,b(m,y,P(S._payload),C)}if(Vi(S))return v(m,y,S,C);if(ki(S))return x(m,y,S,C);Sl(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,S),y.return=m,m=y):(n(m,y),y=Md(S,m.mode,C),y.return=m,m=y),i(m)):n(m,y)}return b}var ii=sS(!0),iS=sS(!1),Tc=Do(null),kc=null,ks=null,_p=null;function Np(){_p=ks=kc=null}function Lp(e){var t=Tc.current;st(Tc),e._currentValue=t}function th(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){kc=e,_p=ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(_p!==e)if(e={context:e,memoizedValue:t,next:null},ks===null){if(kc===null)throw Error(G(308));ks=e,kc.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Uo=null;function jp(e){Uo===null?Uo=[e]:Uo.push(e)}function aS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,jp(t)):(n.next=o.next,o.next=n),t.interleaved=n,Lr(e,r)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xr=!1;function Fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Lr(e,n)}return o=r.interleaved,o===null?(t.next=t,jp(r)):(t.next=o.next,o.next=t),r.interleaved=t,Lr(e,n)}function Ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bp(e,n)}}function qy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ac(e,t,n,r){var o=e.updateQueue;Xr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,w=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(h=t,w=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){u=v.call(w,u,h);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(w,u,h):v,h==null)break e;u=mt({},u,h);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else w={eventTime:w,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,l=u):d=d.next=w,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ns|=i,e.lanes=i,e.memoizedState=u}}function Wy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(G(191,o));o.call(r)}}}var Ga={},hr=Do(Ga),wa=Do(Ga),xa=Do(Ga);function Vo(e){if(e===Ga)throw Error(G(174));return e}function Op(e,t){switch(nt(xa,t),nt(wa,e),nt(hr,Ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lf(t,e)}st(hr),nt(hr,t)}function ai(){st(hr),st(wa),st(xa)}function cS(e){Vo(xa.current);var t=Vo(hr.current),n=Lf(t,e.type);t!==n&&(nt(wa,e),nt(hr,n))}function $p(e){wa.current===e&&(st(hr),st(wa))}var ut=Do(0);function Dc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pd=[];function Up(){for(var e=0;e<Pd.length;e++)Pd[e]._workInProgressVersionPrimary=null;Pd.length=0}var Xl=Vr.ReactCurrentDispatcher,Td=Vr.ReactCurrentBatchConfig,ts=0,pt=null,At=null,Mt=null,Rc=!1,Ji=!1,Sa=0,aR=0;function Vt(){throw Error(G(321))}function Vp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Bp(e,t,n,r,o,s){if(ts=s,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xl.current=e===null||e.memoizedState===null?dR:fR,e=n(r,o),Ji){s=0;do{if(Ji=!1,Sa=0,25<=s)throw Error(G(301));s+=1,Mt=At=null,t.updateQueue=null,Xl.current=hR,e=n(r,o)}while(Ji)}if(Xl.current=Mc,t=At!==null&&At.next!==null,ts=0,Mt=At=pt=null,Rc=!1,t)throw Error(G(300));return e}function zp(){var e=Sa!==0;return Sa=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?pt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Ln(){if(At===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Mt===null?pt.memoizedState:Mt.next;if(t!==null)Mt=t,At=e;else{if(e===null)throw Error(G(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Mt===null?pt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function ba(e,t){return typeof t=="function"?t(e):t}function kd(e){var t=Ln(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=At,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((ts&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,pt.lanes|=d,ns|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Kn(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,pt.lanes|=s,ns|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ad(e){var t=Ln(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Kn(s,t.memoizedState)||(cn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function uS(){}function dS(e,t){var n=pt,r=Ln(),o=t(),s=!Kn(r.memoizedState,o);if(s&&(r.memoizedState=o,cn=!0),r=r.queue,qp(pS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Ca(9,hS.bind(null,n,r,o,t),void 0,null),It===null)throw Error(G(349));ts&30||fS(n,t,o)}return o}function fS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hS(e,t,n,r){t.value=n,t.getSnapshot=r,mS(t)&&gS(e)}function pS(e,t,n){return n(function(){mS(t)&&gS(e)})}function mS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch{return!0}}function gS(e){var t=Lr(e,1);t!==null&&Hn(t,e,1,-1)}function Hy(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=uR.bind(null,pt,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yS(){return Ln().memoizedState}function Zl(e,t,n,r){var o=or();pt.flags|=e,o.memoizedState=Ca(1|t,n,void 0,r===void 0?null:r)}function pu(e,t,n,r){var o=Ln();r=r===void 0?null:r;var s=void 0;if(At!==null){var i=At.memoizedState;if(s=i.destroy,r!==null&&Vp(r,i.deps)){o.memoizedState=Ca(t,n,s,r);return}}pt.flags|=e,o.memoizedState=Ca(1|t,n,s,r)}function Gy(e,t){return Zl(8390656,8,e,t)}function qp(e,t){return pu(2048,8,e,t)}function vS(e,t){return pu(4,2,e,t)}function wS(e,t){return pu(4,4,e,t)}function xS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function SS(e,t,n){return n=n!=null?n.concat([e]):null,pu(4,4,xS.bind(null,t,e),n)}function Wp(){}function bS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function CS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ES(e,t,n){return ts&21?(Kn(n,t)||(n=Dx(),pt.lanes|=n,ns|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function lR(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var r=Td.transition;Td.transition={};try{e(!1),t()}finally{Ze=n,Td.transition=r}}function PS(){return Ln().memoizedState}function cR(e,t,n){var r=go(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TS(e))kS(t,n);else if(n=aS(e,t,n,r),n!==null){var o=tn();Hn(n,e,r,o),AS(n,t,r)}}function uR(e,t,n){var r=go(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TS(e))kS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Kn(a,i)){var l=t.interleaved;l===null?(o.next=o,jp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=aS(e,t,o,r),n!==null&&(o=tn(),Hn(n,e,r,o),AS(n,t,r))}}function TS(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function kS(e,t){Ji=Rc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bp(e,n)}}var Mc={readContext:Nn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},dR={readContext:Nn,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Gy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zl(4194308,4,xS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zl(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cR.bind(null,pt,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:Hy,useDebugValue:Wp,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=Hy(!1),t=e[0];return e=lR.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pt,o=or();if(lt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),It===null)throw Error(G(349));ts&30||fS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Gy(pS.bind(null,r,s,e),[e]),r.flags|=2048,Ca(9,hS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=or(),t=It.identifierPrefix;if(lt){var n=Ar,r=kr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fR={readContext:Nn,useCallback:bS,useContext:Nn,useEffect:qp,useImperativeHandle:SS,useInsertionEffect:vS,useLayoutEffect:wS,useMemo:CS,useReducer:kd,useRef:yS,useState:function(){return kd(ba)},useDebugValue:Wp,useDeferredValue:function(e){var t=Ln();return ES(t,At.memoizedState,e)},useTransition:function(){var e=kd(ba)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:uS,useSyncExternalStore:dS,useId:PS,unstable_isNewReconciler:!1},hR={readContext:Nn,useCallback:bS,useContext:Nn,useEffect:qp,useImperativeHandle:SS,useInsertionEffect:vS,useLayoutEffect:wS,useMemo:CS,useReducer:Ad,useRef:yS,useState:function(){return Ad(ba)},useDebugValue:Wp,useDeferredValue:function(e){var t=Ln();return At===null?t.memoizedState=e:ES(t,At.memoizedState,e)},useTransition:function(){var e=Ad(ba)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:uS,useSyncExternalStore:dS,useId:PS,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mu={isMounted:function(e){return(e=e._reactInternals)?cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tn(),o=go(e),s=Rr(r,o);s.payload=t,n!=null&&(s.callback=n),t=po(e,s,o),t!==null&&(Hn(t,e,o,r),Ql(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tn(),o=go(e),s=Rr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=po(e,s,o),t!==null&&(Hn(t,e,o,r),Ql(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),r=go(e),o=Rr(n,r);o.tag=2,t!=null&&(o.callback=t),t=po(e,o,r),t!==null&&(Hn(t,e,r,n),Ql(t,e,r))}};function Ky(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ma(n,r)||!ma(o,s):!0}function DS(e,t,n){var r=!1,o=bo,s=t.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(o=dn(t)?Jo:Yt.current,r=t.contextTypes,s=(r=r!=null)?oi(e,o):bo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Yy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function rh(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fp(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Nn(s):(s=dn(t)?Jo:Yt.current,o.context=oi(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nh(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&mu.enqueueReplaceState(o,o.state,null),Ac(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t){try{var n="",r=t;do n+=VA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Dd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pR=typeof WeakMap=="function"?WeakMap:Map;function RS(e,t,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_c||(_c=!0,ph=r),oh(e,t)},n}function MS(e,t,n){n=Rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){oh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oh(e,t),typeof r!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Qy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=AR.bind(null,e,t,n),t.then(e,e))}function Xy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zy(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rr(-1,1),t.tag=2,po(n,t,1))),n.lanes|=1),e)}var mR=Vr.ReactCurrentOwner,cn=!1;function Jt(e,t,n,r){t.child=e===null?iS(t,null,n,r):ii(t,e.child,n,r)}function Jy(e,t,n,r,o){n=n.render;var s=t.ref;return Us(t,o),r=Bp(e,t,n,r,s,o),n=zp(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,jr(e,t,o)):(lt&&n&&Rp(t),t.flags|=1,Jt(e,t,r,o),t.child)}function ev(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Jp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,IS(e,t,s,r,o)):(e=nc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ma,n(i,r)&&e.ref===t.ref)return jr(e,t,o)}return t.flags|=1,e=yo(s,r),e.ref=t.ref,e.return=t,t.child=e}function IS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ma(s,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,jr(e,t,o)}return sh(e,t,n,r,o)}function _S(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ds,gn),gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(Ds,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(Ds,gn),gn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,nt(Ds,gn),gn|=r;return Jt(e,t,o,n),t.child}function NS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sh(e,t,n,r,o){var s=dn(n)?Jo:Yt.current;return s=oi(t,s),Us(t,o),n=Bp(e,t,n,r,s,o),r=zp(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,jr(e,t,o)):(lt&&r&&Rp(t),t.flags|=1,Jt(e,t,n,o),t.child)}function tv(e,t,n,r,o){if(dn(n)){var s=!0;Cc(t)}else s=!1;if(Us(t,o),t.stateNode===null)Jl(e,t),DS(t,n,r),rh(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=dn(n)?Jo:Yt.current,c=oi(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Yy(t,i,r,c),Xr=!1;var h=t.memoizedState;i.state=h,Ac(t,r,i,o),l=t.memoizedState,a!==r||h!==l||un.current||Xr?(typeof d=="function"&&(nh(t,n,d,r),l=t.memoizedState),(a=Xr||Ky(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,lS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Un(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=dn(n)?Jo:Yt.current,l=oi(t,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Yy(t,i,r,l),Xr=!1,h=t.memoizedState,i.state=h,Ac(t,r,i,o);var v=t.memoizedState;a!==u||h!==v||un.current||Xr?(typeof w=="function"&&(nh(t,n,w,r),v=t.memoizedState),(c=Xr||Ky(t,n,c,r,h,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ih(e,t,n,r,s,o)}function ih(e,t,n,r,o,s){NS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Uy(t,n,!1),jr(e,t,s);r=t.stateNode,mR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ii(t,e.child,null,s),t.child=ii(t,null,a,s)):Jt(e,t,a,s),t.memoizedState=r.state,o&&Uy(t,n,!0),t.child}function LS(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),Op(e,t.containerInfo)}function nv(e,t,n,r,o){return si(),Ip(o),t.flags|=256,Jt(e,t,n,r),t.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(e){return{baseLanes:e,cachePool:null,transitions:null}}function jS(e,t,n){var r=t.pendingProps,o=ut.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),nt(ut,o&1),e===null)return eh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=vu(i,r,0,null),e=Yo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=lh(n),t.memoizedState=ah,e):Hp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return gR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=yo(a,s):(s=Yo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?lh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=ah,r}return s=e.child,e=s.sibling,r=yo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hp(e,t){return t=vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bl(e,t,n,r){return r!==null&&Ip(r),ii(t,e.child,null,n),e=Hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Dd(Error(G(422))),bl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=vu({mode:"visible",children:r.children},o,0,null),s=Yo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ii(t,e.child,null,i),t.child.memoizedState=lh(i),t.memoizedState=ah,s);if(!(t.mode&1))return bl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Dd(s,r,void 0),bl(e,t,i,r)}if(a=(i&e.childLanes)!==0,cn||a){if(r=It,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Lr(e,o),Hn(r,e,o,-1))}return Zp(),r=Dd(Error(G(421))),bl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=DR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,vn=ho(o.nextSibling),wn=t,lt=!0,qn=null,e!==null&&(Dn[Rn++]=kr,Dn[Rn++]=Ar,Dn[Rn++]=es,kr=e.id,Ar=e.overflow,es=t),t=Hp(t,r.children),t.flags|=4096,t)}function rv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),th(e.return,t,n)}function Rd(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function FS(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Jt(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rv(e,n,t);else if(e.tag===19)rv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nt(ut,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Dc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rd(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Dc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rd(t,!0,n,null,s);break;case"together":Rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=yo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yR(e,t,n){switch(t.tag){case 3:LS(t),si();break;case 5:cS(t);break;case 1:dn(t.type)&&Cc(t);break;case 4:Op(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;nt(Tc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nt(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?jS(e,t,n):(nt(ut,ut.current&1),e=jr(e,t,n),e!==null?e.sibling:null);nt(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),nt(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,_S(e,t,n)}return jr(e,t,n)}var OS,ch,$S,US;OS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};$S=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Vo(hr.current);var s=null;switch(n){case"input":o=Mf(e,o),r=Mf(e,r),s=[];break;case"select":o=mt({},o,{value:void 0}),r=mt({},r,{value:void 0}),s=[];break;case"textarea":o=Nf(e,o),r=Nf(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sc)}jf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(la.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(la.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ot("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};US=function(e,t,n,r){n!==r&&(t.flags|=4)};function _i(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vR(e,t,n){var r=t.pendingProps;switch(Mp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return dn(t.type)&&bc(),Bt(t),null;case 3:return r=t.stateNode,ai(),st(un),st(Yt),Up(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qn!==null&&(yh(qn),qn=null))),ch(e,t),Bt(t),null;case 5:$p(t);var o=Vo(xa.current);if(n=t.type,e!==null&&t.stateNode!=null)$S(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Bt(t),null}if(e=Vo(hr.current),xl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cr]=t,r[va]=s,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(o=0;o<zi.length;o++)ot(zi[o],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":fy(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":py(r,s),ot("invalid",r)}jf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wl(r.textContent,a,e),o=["children",""+a]):la.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ot("scroll",r)}switch(n){case"input":dl(r),hy(r,s,!0);break;case"textarea":dl(r),my(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=px(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[cr]=t,e[va]=r,OS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ff(n,r),n){case"dialog":ot("cancel",e),ot("close",e),o=r;break;case"iframe":case"object":case"embed":ot("load",e),o=r;break;case"video":case"audio":for(o=0;o<zi.length;o++)ot(zi[o],e);o=r;break;case"source":ot("error",e),o=r;break;case"img":case"image":case"link":ot("error",e),ot("load",e),o=r;break;case"details":ot("toggle",e),o=r;break;case"input":fy(e,r),o=Mf(e,r),ot("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=mt({},r,{value:void 0}),ot("invalid",e);break;case"textarea":py(e,r),o=Nf(e,r),ot("invalid",e);break;default:o=r}jf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ca(e,l):typeof l=="number"&&ca(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(la.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ot("scroll",e):l!=null&&gp(e,s,l,i))}switch(n){case"input":dl(e),hy(e,r,!1);break;case"textarea":dl(e),my(e);break;case"option":r.value!=null&&e.setAttribute("value",""+So(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?js(e,!!r.multiple,s,!1):r.defaultValue!=null&&js(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)US(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Vo(xa.current),Vo(hr.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[cr]=t,(s=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:wl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=t,t.stateNode=r}return Bt(t),null;case 13:if(st(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&vn!==null&&t.mode&1&&!(t.flags&128))oS(),si(),t.flags|=98560,s=!1;else if(s=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[cr]=t}else si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else qn!==null&&(yh(qn),qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Dt===0&&(Dt=3):Zp())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return ai(),ch(e,t),e===null&&ga(t.stateNode.containerInfo),Bt(t),null;case 10:return Lp(t.type._context),Bt(t),null;case 17:return dn(t.type)&&bc(),Bt(t),null;case 19:if(st(ut),s=t.memoizedState,s===null)return Bt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)_i(s,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Dc(e),i!==null){for(t.flags|=128,_i(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(ut,ut.current&1|2),t.child}e=e.sibling}s.tail!==null&&St()>ci&&(t.flags|=128,r=!0,_i(s,!1),t.lanes=4194304)}else{if(!r)if(e=Dc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!lt)return Bt(t),null}else 2*St()-s.renderingStartTime>ci&&n!==1073741824&&(t.flags|=128,r=!0,_i(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=St(),t.sibling=null,n=ut.current,nt(ut,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return Xp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function wR(e,t){switch(Mp(t),t.tag){case 1:return dn(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),st(un),st(Yt),Up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $p(t),null;case 13:if(st(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ut),null;case 4:return ai(),null;case 10:return Lp(t.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Cl=!1,Wt=!1,xR=typeof WeakSet=="function"?WeakSet:Set,ie=null;function As(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(e,t,r)}else n.current=null}function uh(e,t,n){try{n()}catch(r){wt(e,t,r)}}var ov=!1;function SR(e,t){if(Gf=vc,e=Wx(),Dp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var w;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(w=u.firstChild)!==null;)h=u,u=w;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(w=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:e,selectionRange:n},vc=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Un(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){wt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return v=ov,ov=!1,v}function ea(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&uh(t,n,s)}o=o.next}while(o!==r)}}function gu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function VS(e){var t=e.alternate;t!==null&&(e.alternate=null,VS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[va],delete t[Xf],delete t[rR],delete t[oR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BS(e){return e.tag===5||e.tag===3||e.tag===4}function sv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sc));else if(r!==4&&(e=e.child,e!==null))for(fh(e,t,n),e=e.sibling;e!==null;)fh(e,t,n),e=e.sibling}function hh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hh(e,t,n),e=e.sibling;e!==null;)hh(e,t,n),e=e.sibling}var Lt=null,zn=!1;function zr(e,t,n){for(n=n.child;n!==null;)zS(e,t,n),n=n.sibling}function zS(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(lu,n)}catch{}switch(n.tag){case 5:Wt||As(n,t);case 6:var r=Lt,o=zn;Lt=null,zr(e,t,n),Lt=r,zn=o,Lt!==null&&(zn?(e=Lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(zn?(e=Lt,n=n.stateNode,e.nodeType===8?Cd(e.parentNode,n):e.nodeType===1&&Cd(e,n),ha(e)):Cd(Lt,n.stateNode));break;case 4:r=Lt,o=zn,Lt=n.stateNode.containerInfo,zn=!0,zr(e,t,n),Lt=r,zn=o;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&uh(n,t,i),o=o.next}while(o!==r)}zr(e,t,n);break;case 1:if(!Wt&&(As(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,t,a)}zr(e,t,n);break;case 21:zr(e,t,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,zr(e,t,n),Wt=r):zr(e,t,n);break;default:zr(e,t,n)}}function iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xR),t.forEach(function(r){var o=RR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,zn=!1;break e;case 3:Lt=a.stateNode.containerInfo,zn=!0;break e;case 4:Lt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(Lt===null)throw Error(G(160));zS(s,i,o),Lt=null,zn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){wt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qS(t,e),t=t.sibling}function qS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),rr(e),r&4){try{ea(3,e,e.return),gu(3,e)}catch(x){wt(e,e.return,x)}try{ea(5,e,e.return)}catch(x){wt(e,e.return,x)}}break;case 1:On(t,e),rr(e),r&512&&n!==null&&As(n,n.return);break;case 5:if(On(t,e),rr(e),r&512&&n!==null&&As(n,n.return),e.flags&32){var o=e.stateNode;try{ca(o,"")}catch(x){wt(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fx(o,s),Ff(a,i);var c=Ff(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?yx(o,u):d==="dangerouslySetInnerHTML"?mx(o,u):d==="children"?ca(o,u):gp(o,d,u,c)}switch(a){case"input":If(o,s);break;case"textarea":hx(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?js(o,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?js(o,!!s.multiple,s.defaultValue,!0):js(o,!!s.multiple,s.multiple?[]:"",!1))}o[va]=s}catch(x){wt(e,e.return,x)}}break;case 6:if(On(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(G(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){wt(e,e.return,x)}}break;case 3:if(On(t,e),rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(x){wt(e,e.return,x)}break;case 4:On(t,e),rr(e);break;case 13:On(t,e),rr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Yp=St())),r&4&&iv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Wt=(c=Wt)||d,On(t,e),Wt=c):On(t,e),rr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(u=ie=d;ie!==null;){switch(h=ie,w=h.child,h.tag){case 0:case 11:case 14:case 15:ea(4,h,h.return);break;case 1:As(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){wt(r,n,x)}}break;case 5:As(h,h.return);break;case 22:if(h.memoizedState!==null){lv(u);continue}}w!==null?(w.return=h,ie=w):lv(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gx("display",i))}catch(x){wt(e,e.return,x)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(x){wt(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:On(t,e),rr(e),r&4&&iv(e);break;case 21:break;default:On(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BS(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ca(o,""),r.flags&=-33);var s=sv(e);hh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=sv(e);fh(e,a,i);break;default:throw Error(G(161))}}catch(l){wt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bR(e,t,n){ie=e,WS(e)}function WS(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var o=ie,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Cl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Cl;var c=Wt;if(Cl=i,(Wt=l)&&!c)for(ie=o;ie!==null;)i=ie,l=i.child,i.tag===22&&i.memoizedState!==null?cv(o):l!==null?(l.return=i,ie=l):cv(o);for(;s!==null;)ie=s,WS(s),s=s.sibling;ie=o,Cl=a,Wt=c}av(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ie=s):av(e)}}function av(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||gu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&ha(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Wt||t.flags&512&&dh(t)}catch(h){wt(t,t.return,h)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function lv(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function cv(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gu(4,t)}catch(l){wt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){wt(t,o,l)}}var s=t.return;try{dh(t)}catch(l){wt(t,s,l)}break;case 5:var i=t.return;try{dh(t)}catch(l){wt(t,i,l)}}}catch(l){wt(t,t.return,l)}if(t===e){ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ie=a;break}ie=t.return}}var CR=Math.ceil,Ic=Vr.ReactCurrentDispatcher,Gp=Vr.ReactCurrentOwner,In=Vr.ReactCurrentBatchConfig,Ue=0,It=null,Pt=null,Ft=0,gn=0,Ds=Do(0),Dt=0,Ea=null,ns=0,yu=0,Kp=0,ta=null,an=null,Yp=0,ci=1/0,Pr=null,_c=!1,ph=null,mo=null,El=!1,ao=null,Nc=0,na=0,mh=null,ec=-1,tc=0;function tn(){return Ue&6?St():ec!==-1?ec:ec=St()}function go(e){return e.mode&1?Ue&2&&Ft!==0?Ft&-Ft:iR.transition!==null?(tc===0&&(tc=Dx()),tc):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:jx(e.type)),e):1}function Hn(e,t,n,r){if(50<na)throw na=0,mh=null,Error(G(185));qa(e,n,r),(!(Ue&2)||e!==It)&&(e===It&&(!(Ue&2)&&(yu|=n),Dt===4&&eo(e,Ft)),fn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(ci=St()+500,hu&&Ro()))}function fn(e,t){var n=e.callbackNode;iD(e,t);var r=yc(e,e===It?Ft:0);if(r===0)n!==null&&vy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vy(n),t===1)e.tag===0?sR(uv.bind(null,e)):tS(uv.bind(null,e)),tR(function(){!(Ue&6)&&Ro()}),n=null;else{switch(Rx(r)){case 1:n=Sp;break;case 4:n=kx;break;case 16:n=gc;break;case 536870912:n=Ax;break;default:n=gc}n=JS(n,HS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function HS(e,t){if(ec=-1,tc=0,Ue&6)throw Error(G(327));var n=e.callbackNode;if(Vs()&&e.callbackNode!==n)return null;var r=yc(e,e===It?Ft:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lc(e,r);else{t=r;var o=Ue;Ue|=2;var s=KS();(It!==e||Ft!==t)&&(Pr=null,ci=St()+500,Ko(e,t));do try{TR();break}catch(a){GS(e,a)}while(!0);Np(),Ic.current=s,Ue=o,Pt!==null?t=0:(It=null,Ft=0,t=Dt)}if(t!==0){if(t===2&&(o=Bf(e),o!==0&&(r=o,t=gh(e,o))),t===1)throw n=Ea,Ko(e,0),eo(e,r),fn(e,St()),n;if(t===6)eo(e,r);else{if(o=e.current.alternate,!(r&30)&&!ER(o)&&(t=Lc(e,r),t===2&&(s=Bf(e),s!==0&&(r=s,t=gh(e,s))),t===1))throw n=Ea,Ko(e,0),eo(e,r),fn(e,St()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:jo(e,an,Pr);break;case 3:if(eo(e,r),(r&130023424)===r&&(t=Yp+500-St(),10<t)){if(yc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){tn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Qf(jo.bind(null,e,an,Pr),t);break}jo(e,an,Pr);break;case 4:if(eo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Wn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CR(r/1960))-r,10<r){e.timeoutHandle=Qf(jo.bind(null,e,an,Pr),r);break}jo(e,an,Pr);break;case 5:jo(e,an,Pr);break;default:throw Error(G(329))}}}return fn(e,St()),e.callbackNode===n?HS.bind(null,e):null}function gh(e,t){var n=ta;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=an,an=n,t!==null&&yh(t)),e}function yh(e){an===null?an=e:an.push.apply(an,e)}function ER(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Kn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eo(e,t){for(t&=~Kp,t&=~yu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function uv(e){if(Ue&6)throw Error(G(327));Vs();var t=yc(e,0);if(!(t&1))return fn(e,St()),null;var n=Lc(e,t);if(e.tag!==0&&n===2){var r=Bf(e);r!==0&&(t=r,n=gh(e,r))}if(n===1)throw n=Ea,Ko(e,0),eo(e,t),fn(e,St()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,an,Pr),fn(e,St()),null}function Qp(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(ci=St()+500,hu&&Ro())}}function rs(e){ao!==null&&ao.tag===0&&!(Ue&6)&&Vs();var t=Ue;Ue|=1;var n=In.transition,r=Ze;try{if(In.transition=null,Ze=1,e)return e()}finally{Ze=r,In.transition=n,Ue=t,!(Ue&6)&&Ro()}}function Xp(){gn=Ds.current,st(Ds)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eR(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:ai(),st(un),st(Yt),Up();break;case 5:$p(r);break;case 4:ai();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Lp(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(It=e,Pt=e=yo(e.current,null),Ft=gn=t,Dt=0,Ea=null,Kp=yu=ns=0,an=ta=null,Uo!==null){for(t=0;t<Uo.length;t++)if(n=Uo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Uo=null}return e}function GS(e,t){do{var n=Pt;try{if(Np(),Xl.current=Mc,Rc){for(var r=pt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Rc=!1}if(ts=0,Mt=At=pt=null,Ji=!1,Sa=0,Gp.current=null,n===null||n.return===null){Dt=1,Ea=t,Pt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Xy(i);if(w!==null){w.flags&=-257,Zy(w,i,a,s,t),w.mode&1&&Qy(s,c,t),t=w,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){Qy(s,c,t),Zp();break e}l=Error(G(426))}}else if(lt&&a.mode&1){var b=Xy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zy(b,i,a,s,t),Ip(li(l,a));break e}}s=l=li(l,a),Dt!==4&&(Dt=2),ta===null?ta=[s]:ta.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=RS(s,l,t);qy(s,m);break e;case 1:a=l;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(mo===null||!mo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=MS(s,a,t);qy(s,C);break e}}s=s.return}while(s!==null)}QS(n)}catch(E){t=E,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function KS(){var e=Ic.current;return Ic.current=Mc,e===null?Mc:e}function Zp(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),It===null||!(ns&268435455)&&!(yu&268435455)||eo(It,Ft)}function Lc(e,t){var n=Ue;Ue|=2;var r=KS();(It!==e||Ft!==t)&&(Pr=null,Ko(e,t));do try{PR();break}catch(o){GS(e,o)}while(!0);if(Np(),Ue=n,Ic.current=r,Pt!==null)throw Error(G(261));return It=null,Ft=0,Dt}function PR(){for(;Pt!==null;)YS(Pt)}function TR(){for(;Pt!==null&&!XA();)YS(Pt)}function YS(e){var t=ZS(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?QS(e):Pt=t,Gp.current=null}function QS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wR(n,t),n!==null){n.flags&=32767,Pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Pt=null;return}}else if(n=vR(n,t,gn),n!==null){Pt=n;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Dt===0&&(Dt=5)}function jo(e,t,n){var r=Ze,o=In.transition;try{In.transition=null,Ze=1,kR(e,t,n,r)}finally{In.transition=o,Ze=r}return null}function kR(e,t,n,r){do Vs();while(ao!==null);if(Ue&6)throw Error(G(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(aD(e,s),e===It&&(Pt=It=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||El||(El=!0,JS(gc,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var i=Ze;Ze=1;var a=Ue;Ue|=4,Gp.current=null,SR(e,n),qS(n,e),GD(Kf),vc=!!Gf,Kf=Gf=null,e.current=n,bR(n),ZA(),Ue=a,Ze=i,In.transition=s}else e.current=n;if(El&&(El=!1,ao=e,Nc=o),s=e.pendingLanes,s===0&&(mo=null),tD(n.stateNode),fn(e,St()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(_c)throw _c=!1,e=ph,ph=null,e;return Nc&1&&e.tag!==0&&Vs(),s=e.pendingLanes,s&1?e===mh?na++:(na=0,mh=e):na=0,Ro(),null}function Vs(){if(ao!==null){var e=Rx(Nc),t=In.transition,n=Ze;try{if(In.transition=null,Ze=16>e?16:e,ao===null)var r=!1;else{if(e=ao,ao=null,Nc=0,Ue&6)throw Error(G(331));var o=Ue;for(Ue|=4,ie=e.current;ie!==null;){var s=ie,i=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:ea(8,d,s)}var u=d.child;if(u!==null)u.return=d,ie=u;else for(;ie!==null;){d=ie;var h=d.sibling,w=d.return;if(VS(d),d===c){ie=null;break}if(h!==null){h.return=w,ie=h;break}ie=w}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ie=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ie=i;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ea(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ie=m;break e}ie=s.return}}var y=e.current;for(ie=y;ie!==null;){i=ie;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,ie=S;else e:for(i=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gu(9,a)}}catch(E){wt(a,a.return,E)}if(a===i){ie=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ie=C;break e}ie=a.return}}if(Ue=o,Ro(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(lu,e)}catch{}r=!0}return r}finally{Ze=n,In.transition=t}}return!1}function dv(e,t,n){t=li(n,t),t=RS(e,t,1),e=po(e,t,1),t=tn(),e!==null&&(qa(e,1,t),fn(e,t))}function wt(e,t,n){if(e.tag===3)dv(e,e,n);else for(;t!==null;){if(t.tag===3){dv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mo===null||!mo.has(r))){e=li(n,e),e=MS(t,e,1),t=po(t,e,1),e=tn(),t!==null&&(qa(t,1,e),fn(t,e));break}}t=t.return}}function AR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&n,It===e&&(Ft&n)===n&&(Dt===4||Dt===3&&(Ft&130023424)===Ft&&500>St()-Yp?Ko(e,0):Kp|=n),fn(e,t)}function XS(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var n=tn();e=Lr(e,t),e!==null&&(qa(e,t,n),fn(e,n))}function DR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XS(e,n)}function RR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),XS(e,n)}var ZS;ZS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,yR(e,t,n);cn=!!(e.flags&131072)}else cn=!1,lt&&t.flags&1048576&&nS(t,Pc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jl(e,t),e=t.pendingProps;var o=oi(t,Yt.current);Us(t,n),o=Bp(null,t,r,e,o,n);var s=zp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(s=!0,Cc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Fp(t),o.updater=mu,t.stateNode=o,o._reactInternals=t,rh(t,r,e,n),t=ih(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&Rp(t),Jt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=IR(r),e=Un(r,e),o){case 0:t=sh(null,t,r,e,n);break e;case 1:t=tv(null,t,r,e,n);break e;case 11:t=Jy(null,t,r,e,n);break e;case 14:t=ev(null,t,r,Un(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),sh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),tv(e,t,r,o,n);case 3:e:{if(LS(t),e===null)throw Error(G(387));r=t.pendingProps,s=t.memoizedState,o=s.element,lS(e,t),Ac(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=li(Error(G(423)),t),t=nv(e,t,r,n,o);break e}else if(r!==o){o=li(Error(G(424)),t),t=nv(e,t,r,n,o);break e}else for(vn=ho(t.stateNode.containerInfo.firstChild),wn=t,lt=!0,qn=null,n=iS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(si(),r===o){t=jr(e,t,n);break e}Jt(e,t,r,n)}t=t.child}return t;case 5:return cS(t),e===null&&eh(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Yf(r,o)?i=null:s!==null&&Yf(r,s)&&(t.flags|=32),NS(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&eh(t),null;case 13:return jS(e,t,n);case 4:return Op(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ii(t,null,r,n):Jt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),Jy(e,t,r,o,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,nt(Tc,r._currentValue),r._currentValue=i,s!==null)if(Kn(s.value,i)){if(s.children===o.children&&!un.current){t=jr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),th(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(G(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),th(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Jt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Us(t,n),o=Nn(o),r=r(o),t.flags|=1,Jt(e,t,r,n),t.child;case 14:return r=t.type,o=Un(r,t.pendingProps),o=Un(r.type,o),ev(e,t,r,o,n);case 15:return IS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),Jl(e,t),t.tag=1,dn(r)?(e=!0,Cc(t)):e=!1,Us(t,n),DS(t,r,o),rh(t,r,o,n),ih(null,t,r,!0,e,n);case 19:return FS(e,t,n);case 22:return _S(e,t,n)}throw Error(G(156,t.tag))};function JS(e,t){return Tx(e,t)}function MR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new MR(e,t,n,r)}function Jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IR(e){if(typeof e=="function")return Jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vp)return 11;if(e===wp)return 14}return 2}function yo(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nc(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Jp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ws:return Yo(n.children,o,s,t);case yp:i=8,o|=8;break;case kf:return e=Mn(12,n,t,o|2),e.elementType=kf,e.lanes=s,e;case Af:return e=Mn(13,n,t,o),e.elementType=Af,e.lanes=s,e;case Df:return e=Mn(19,n,t,o),e.elementType=Df,e.lanes=s,e;case cx:return vu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ax:i=10;break e;case lx:i=9;break e;case vp:i=11;break e;case wp:i=14;break e;case Qr:i=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Mn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Yo(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function vu(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=cx,e.lanes=n,e.stateNode={isHidden:!1},e}function Md(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Id(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _R(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function em(e,t,n,r,o,s,i,a,l){return e=new _R(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(s),e}function NR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function eb(e){if(!e)return bo;e=e._reactInternals;e:{if(cs(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(dn(n))return eS(e,n,t)}return t}function tb(e,t,n,r,o,s,i,a,l){return e=em(n,r,!0,e,o,s,i,a,l),e.context=eb(null),n=e.current,r=tn(),o=go(n),s=Rr(r,o),s.callback=t??null,po(n,s,o),e.current.lanes=o,qa(e,o,r),fn(e,r),e}function wu(e,t,n,r){var o=t.current,s=tn(),i=go(o);return n=eb(n),t.context===null?t.context=n:t.pendingContext=n,t=Rr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=po(o,t,i),e!==null&&(Hn(e,o,i,s),Ql(e,o,i)),i}function jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tm(e,t){fv(e,t),(e=e.alternate)&&fv(e,t)}function LR(){return null}var nb=typeof reportError=="function"?reportError:function(e){console.error(e)};function nm(e){this._internalRoot=e}xu.prototype.render=nm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));wu(e,t,null,null)};xu.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){wu(null,e,null,null)}),t[Nr]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_x();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&Lx(e)}};function rm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hv(){}function jR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=jc(i);s.call(c)}}var i=tb(t,r,e,0,null,!1,!1,"",hv);return e._reactRootContainer=i,e[Nr]=i.current,ga(e.nodeType===8?e.parentNode:e),rs(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=jc(l);a.call(c)}}var l=em(e,0,!1,null,null,!1,!1,"",hv);return e._reactRootContainer=l,e[Nr]=l.current,ga(e.nodeType===8?e.parentNode:e),rs(function(){wu(t,l,n,r)}),l}function bu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=jc(i);a.call(l)}}wu(t,i,e,o)}else i=jR(n,t,e,o,r);return jc(i)}Mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bi(t.pendingLanes);n!==0&&(bp(t,n|1),fn(t,St()),!(Ue&6)&&(ci=St()+500,Ro()))}break;case 13:rs(function(){var r=Lr(e,1);if(r!==null){var o=tn();Hn(r,e,1,o)}}),tm(e,1)}};Cp=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=tn();Hn(t,e,134217728,n)}tm(e,134217728)}};Ix=function(e){if(e.tag===13){var t=go(e),n=Lr(e,t);if(n!==null){var r=tn();Hn(n,e,t,r)}tm(e,t)}};_x=function(){return Ze};Nx=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};$f=function(e,t,n){switch(t){case"input":if(If(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fu(r);if(!o)throw Error(G(90));dx(r),If(r,o)}}}break;case"textarea":hx(e,n);break;case"select":t=n.value,t!=null&&js(e,!!n.multiple,t,!1)}};xx=Qp;Sx=rs;var FR={usingClientEntryPoint:!1,Events:[Ha,Cs,fu,vx,wx,Qp]},Ni={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OR={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ex(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||LR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{lu=Pl.inject(OR),fr=Pl}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FR;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(t))throw Error(G(200));return NR(e,t,null,n)};Cn.createRoot=function(e,t){if(!rm(e))throw Error(G(299));var n=!1,r="",o=nb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=em(e,1,!1,null,null,n,!1,r,o),e[Nr]=t.current,ga(e.nodeType===8?e.parentNode:e),new nm(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Ex(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return rs(e)};Cn.hydrate=function(e,t,n){if(!Su(t))throw Error(G(200));return bu(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!rm(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=nb;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=tb(t,null,e,1,n??null,o,!1,s,i),e[Nr]=t.current,ga(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new xu(t)};Cn.render=function(e,t,n){if(!Su(t))throw Error(G(200));return bu(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!Su(e))throw Error(G(40));return e._reactRootContainer?(rs(function(){bu(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Qp;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Su(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return bu(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rb)}catch(e){console.error(e)}}rb(),rx.exports=Cn;var Ka=rx.exports;const $R=cp(Ka);var ob,pv=Ka;ob=pv.createRoot,pv.hydrateRoot;function UR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var sb={exports:{}},ib={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=f;function VR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BR=typeof Object.is=="function"?Object.is:VR,zR=ui.useState,qR=ui.useEffect,WR=ui.useLayoutEffect,HR=ui.useDebugValue;function GR(e,t){var n=t(),r=zR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return WR(function(){o.value=n,o.getSnapshot=t,_d(o)&&s({inst:o})},[e,n,t]),qR(function(){return _d(o)&&s({inst:o}),e(function(){_d(o)&&s({inst:o})})},[e]),HR(n),n}function _d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!BR(e,n)}catch{return!0}}function KR(e,t){return t()}var YR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KR:GR;ib.useSyncExternalStore=ui.useSyncExternalStore!==void 0?ui.useSyncExternalStore:YR;sb.exports=ib;var QR=sb.exports;const XR=tx.useInsertionEffect,ZR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JR=ZR?f.useLayoutEffect:f.useEffect,eM=XR||JR,ab=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return eM(()=>{t[0]=e}),t[1]},tM="popstate",om="pushState",sm="replaceState",nM="hashchange",mv=[tM,om,sm,nM],rM=e=>{for(const t of mv)addEventListener(t,e);return()=>{for(const t of mv)removeEventListener(t,e)}},lb=(e,t)=>QR.useSyncExternalStore(rM,e,t),oM=()=>location.search,sM=({ssrSearch:e=""}={})=>lb(oM,()=>e),gv=()=>location.pathname,iM=({ssrPath:e}={})=>lb(gv,e?()=>e:gv),aM=(e,{replace:t=!1,state:n=null}={})=>history[t?sm:om](n,"",e),lM=(e={})=>[iM(e),aM],yv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yv]>"u"){for(const e of[om,sm]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,yv,{value:!0})}const cM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",cb=(e="")=>e==="/"?"":e,uM=(e,t)=>e[0]==="~"?e.slice(1):cb(t)+e,dM=(e="",t)=>cM(vv(cb(e)),vv(t)),vv=e=>{try{return decodeURI(e)}catch{return e}},ub={hook:lM,searchHook:sM,parser:UR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},db=f.createContext(ub),Ya=()=>f.useContext(db),fb={},hb=f.createContext(fb),fM=()=>f.useContext(hb),Cu=e=>{const[t,n]=e.hook(e);return[dM(e.base,t),ab((r,o)=>n(uM(r,e.base),o))]},im=()=>Cu(Ya()),pb=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},mb=({children:e,...t})=>{var d,u;const n=Ya(),r=t.hook?ub:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const w=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&w!==c[h]&&(a.current=c={...c}),c[h]=w,w!==r[h]&&(o=c)}return f.createElement(db.Provider,{value:o,children:e})},wv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,hM=e=>{let t=f.useRef(fb),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Tl=({path:e,nest:t,match:n,...r})=>{const o=Ya(),[s]=Cu(o),[i,a,l]=n??pb(o.parser,e,s,t),c=hM({...fM(),...a});if(!i)return null;const d=l?f.createElement(mb,{base:l},wv(r,c)):wv(r,c);return f.createElement(hb.Provider,{value:c,children:d})},pM=f.forwardRef((e,t)=>{const n=Ya(),[r,o]=Cu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...w}=e,v=ab(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),x=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:v,href:x}):f.createElement("a",{...w,onClick:v,href:x,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),gb=e=>Array.isArray(e)?e.flatMap(t=>gb(t&&t.type===f.Fragment?t.props.children:t)):[e],mM=({children:e,location:t})=>{const n=Ya(),[r]=Cu(n);for(const o of gb(e)){let s=0;if(f.isValidElement(o)&&(s=pb(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null};var Eu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pu=typeof window>"u"||"Deno"in globalThis;function Vn(){}function gM(e,t){return typeof e=="function"?e(t):e}function yM(e){return typeof e=="number"&&e>=0&&e!==1/0}function vM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xv(e,t){return typeof e=="function"?e(t):e}function wM(e,t){return typeof e=="function"?e(t):e}function Sv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==am(i,t.options))return!1}else if(!Ta(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function bv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Pa(t.options.mutationKey)!==Pa(s))return!1}else if(!Ta(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function am(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pa)(e)}function Pa(e){return JSON.stringify(e,(t,n)=>vh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ta(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ta(e[n],t[n])):!1}function yb(e,t){if(e===t)return e;const n=Cv(e)&&Cv(t);if(n||vh(e)&&vh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=yb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function Cv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vh(e){if(!Ev(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ev(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ev(e){return Object.prototype.toString.call(e)==="[object Object]"}function xM(e){return new Promise(t=>{setTimeout(t,e)})}function SM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yb(e,t):t}function bM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function CM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var lm=Symbol();function vb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qo,to,Ks,F0,EM=(F0=class extends Eu{constructor(){super();He(this,qo);He(this,to);He(this,Ks);Re(this,Ks,t=>{if(!Pu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,to)||this.setEventListener(V(this,Ks))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,to))==null||t.call(this),Re(this,to,void 0))}setEventListener(t){var n;Re(this,Ks,t),(n=V(this,to))==null||n.call(this),Re(this,to,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,qo)!==t&&(Re(this,qo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,qo)=="boolean"?V(this,qo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qo=new WeakMap,to=new WeakMap,Ks=new WeakMap,F0),wb=new EM,Ys,no,Qs,O0,PM=(O0=class extends Eu{constructor(){super();He(this,Ys,!0);He(this,no);He(this,Qs);Re(this,Qs,t=>{if(!Pu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,no)||this.setEventListener(V(this,Qs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,no))==null||t.call(this),Re(this,no,void 0))}setEventListener(t){var n;Re(this,Qs,t),(n=V(this,no))==null||n.call(this),Re(this,no,t(this.setOnline.bind(this)))}setOnline(t){V(this,Ys)!==t&&(Re(this,Ys,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Ys)}},Ys=new WeakMap,no=new WeakMap,Qs=new WeakMap,O0),Fc=new PM;function TM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function kM(e){return Math.min(1e3*2**e,3e4)}function xb(e){return(e??"online")==="online"?Fc.isOnline():!0}var Sb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nd(e){return e instanceof Sb}function bb(e){let t=!1,n=0,r=!1,o;const s=TM(),i=x=>{var b;r||(h(new Sb(x)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>wb.isFocused()&&(e.networkMode==="always"||Fc.isOnline())&&e.canRun(),d=()=>xb(e.networkMode)&&e.canRun(),u=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),o==null||o(),s.resolve(x))},h=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),o==null||o(),s.reject(x))},w=()=>new Promise(x=>{var b;o=m=>{(r||c())&&x(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(u).catch(m=>{var P;if(r)return;const y=e.retry??(Pu?0:3),S=e.retryDelay??kM,C=typeof S=="function"?S(n,m):S,E=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),xM(C).then(()=>c()?void 0:w()).then(()=>{t?h(m):v()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():w().then(v),s)}}function AM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var en=AM(),Wo,$0,Cb=($0=class{constructor(){He(this,Wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yM(this.gcTime)&&Re(this,Wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pu?1/0:5*60*1e3))}clearGcTimeout(){V(this,Wo)&&(clearTimeout(V(this,Wo)),Re(this,Wo,void 0))}},Wo=new WeakMap,$0),Xs,Zs,An,zt,Va,Ho,Bn,Er,U0,DM=(U0=class extends Cb{constructor(t){super();He(this,Bn);He(this,Xs);He(this,Zs);He(this,An);He(this,zt);He(this,Va);He(this,Ho);Re(this,Ho,!1),Re(this,Va,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,An,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Xs,MM(this.options)),this.state=t.state??V(this,Xs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,zt))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Va),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,An).remove(this)}setData(t,n){const r=SM(this.state.data,t,this.options);return Ut(this,Bn,Er).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ut(this,Bn,Er).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=V(this,zt))==null?void 0:r.promise;return(o=V(this,zt))==null||o.cancel(t),n?n.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Xs))}isActive(){return this.observers.some(t=>wM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!vM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,zt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,zt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,An).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,zt)&&(V(this,Ho)?V(this,zt).cancel({revert:!0}):V(this,zt).cancelRetry()),this.scheduleGc()),V(this,An).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,Bn,Er).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,zt))return V(this,zt).continueRetry(),V(this,zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Re(this,Ho,!0),r.signal)})},s=()=>{const u=vb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),Re(this,Ho,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),Re(this,Zs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Ut(this,Bn,Er).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,w,v,x;Nd(u)&&u.silent||Ut(this,Bn,Er).call(this,{type:"error",error:u}),Nd(u)||((w=(h=V(this,An).config).onError)==null||w.call(h,u,this),(x=(v=V(this,An).config).onSettled)==null||x.call(v,this.state.data,u,this)),this.scheduleGc()};return Re(this,zt,bb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,w,v,x;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){a(b);return}(w=(h=V(this,An).config).onSuccess)==null||w.call(h,u,this),(x=(v=V(this,An).config).onSettled)==null||x.call(v,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{Ut(this,Bn,Er).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Ut(this,Bn,Er).call(this,{type:"pause"})},onContinue:()=>{Ut(this,Bn,Er).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),V(this,zt).start()}},Xs=new WeakMap,Zs=new WeakMap,An=new WeakMap,zt=new WeakMap,Va=new WeakMap,Ho=new WeakMap,Bn=new WeakSet,Er=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...RM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Nd(o)&&o.revert&&V(this,Zs)?{...V(this,Zs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),en.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,An).notify({query:this,type:"updated",action:t})})},U0);function RM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sr,V0,IM=(V0=class extends Eu{constructor(t={}){super();He(this,sr);this.config=t,Re(this,sr,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??am(o,n);let i=this.get(s);return i||(i=new DM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){V(this,sr).has(t.queryHash)||(V(this,sr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,sr).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,sr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,sr).get(t)}getAll(){return[...V(this,sr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Sv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Sv(t,r)):n}notify(t){en.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){en.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sr=new WeakMap,V0),ir,Zt,Go,ar,Hr,B0,_M=(B0=class extends Cb{constructor(t){super();He(this,ar);He(this,ir);He(this,Zt);He(this,Go);this.mutationId=t.mutationId,Re(this,Zt,t.mutationCache),Re(this,ir,[]),this.state=t.state||NM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,ir).includes(t)||(V(this,ir).push(t),this.clearGcTimeout(),V(this,Zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,ir,V(this,ir).filter(n=>n!==t)),this.scheduleGc(),V(this,Zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,ir).length||(this.state.status==="pending"?this.scheduleGc():V(this,Zt).remove(this))}continue(){var t;return((t=V(this,Go))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,w,v,x,b,m,y,S,C,E,P,k;Re(this,Go,bb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{Ut(this,ar,Hr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{Ut(this,ar,Hr).call(this,{type:"pause"})},onContinue:()=>{Ut(this,ar,Hr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Zt).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Go).canStart();try{if(!n){Ut(this,ar,Hr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=V(this,Zt).config).onMutate)==null?void 0:s.call(o,t,this));const R=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));R!==this.state.context&&Ut(this,ar,Hr).call(this,{type:"pending",context:R,variables:t,isPaused:r})}const A=await V(this,Go).start();return await((c=(l=V(this,Zt).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,A,t,this.state.context)),await((w=(h=V(this,Zt).config).onSettled)==null?void 0:w.call(h,A,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,A,null,t,this.state.context)),Ut(this,ar,Hr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(b=V(this,Zt).config).onError)==null?void 0:m.call(b,A,t,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,A,t,this.state.context)),await((E=(C=V(this,Zt).config).onSettled)==null?void 0:E.call(C,void 0,A,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context)),A}finally{Ut(this,ar,Hr).call(this,{type:"error",error:A})}}finally{V(this,Zt).runNext(this)}}},ir=new WeakMap,Zt=new WeakMap,Go=new WeakMap,ar=new WeakSet,Hr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),en.batch(()=>{V(this,ir).forEach(r=>{r.onMutationUpdate(t)}),V(this,Zt).notify({mutation:this,type:"updated",action:t})})},B0);function NM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mn,Ba,z0,LM=(z0=class extends Eu{constructor(t={}){super();He(this,mn);He(this,Ba);this.config=t,Re(this,mn,new Map),Re(this,Ba,Date.now())}build(t,n,r){const o=new _M({mutationCache:this,mutationId:++ll(this,Ba)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=kl(t),r=V(this,mn).get(n)??[];r.push(t),V(this,mn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kl(t);if(V(this,mn).has(n)){const o=(r=V(this,mn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?V(this,mn).delete(n):V(this,mn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=V(this,mn).get(kl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=V(this,mn).get(kl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,mn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>bv(n,r))}findAll(t={}){return this.getAll().filter(n=>bv(t,n))}notify(t){en.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vn))))}},mn=new WeakMap,Ba=new WeakMap,z0);function kl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Pv(e){return{onFetch:(t,n)=>{var d,u,h,w,v;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((w=t.state.data)==null?void 0:w.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},m=vb(t.options,t.fetchOptions),y=async(S,C,E)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const k=await m(P),{maxPages:A}=t.options,R=E?CM:bM;return{pages:R(S.pages,k,A),pageParams:R(S.pageParams,C,A)}};if(o&&s.length){const S=o==="backward",C=S?jM:Tv,E={pages:s,pageParams:i},P=C(r,E);a=await y(E,P,S)}else{const S=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:Tv(r,a);if(l>0&&C==null)break;a=await y(a,C),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Tv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function jM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var yt,ro,oo,Js,ei,so,ti,ni,q0,FM=(q0=class{constructor(e={}){He(this,yt);He(this,ro);He(this,oo);He(this,Js);He(this,ei);He(this,so);He(this,ti);He(this,ni);Re(this,yt,e.queryCache||new IM),Re(this,ro,e.mutationCache||new LM),Re(this,oo,e.defaultOptions||{}),Re(this,Js,new Map),Re(this,ei,new Map),Re(this,so,0)}mount(){ll(this,so)._++,V(this,so)===1&&(Re(this,ti,wb.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,yt).onFocus())})),Re(this,ni,Fc.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,yt).onOnline())})))}unmount(){var e,t;ll(this,so)._--,V(this,so)===0&&((e=V(this,ti))==null||e.call(this),Re(this,ti,void 0),(t=V(this,ni))==null||t.call(this),Re(this,ni,void 0))}isFetching(e){return V(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,ro).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,yt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(xv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,yt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=V(this,yt).get(r.queryHash),s=o==null?void 0:o.state.data,i=gM(t,s);if(i!==void 0)return V(this,yt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return en.batch(()=>V(this,yt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,yt);en.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,yt),r={type:"active",...e};return en.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=en.batch(()=>V(this,yt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(e={},t={}){return en.batch(()=>{if(V(this,yt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=en.batch(()=>V(this,yt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,yt).build(this,t);return n.isStaleByTime(xv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=Pv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=Pv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fc.isOnline()?V(this,ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,yt)}getMutationCache(){return V(this,ro)}getDefaultOptions(){return V(this,oo)}setDefaultOptions(e){Re(this,oo,e)}setQueryDefaults(e,t){V(this,Js).set(Pa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Js).values()];let n={};return t.forEach(r=>{Ta(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){V(this,ei).set(Pa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,ei).values()];let n={};return t.forEach(r=>{Ta(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=am(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===lm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,yt).clear(),V(this,ro).clear()}},yt=new WeakMap,ro=new WeakMap,oo=new WeakMap,Js=new WeakMap,ei=new WeakMap,so=new WeakMap,ti=new WeakMap,ni=new WeakMap,q0),OM=f.createContext(void 0),$M=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(OM.Provider,{value:e,children:t}));async function UM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const VM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await UM(n),await n.json())},BM=new FM({defaultOptions:{queries:{queryFn:VM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),zM=1,qM=1e6;let Ld=0;function WM(){return Ld=(Ld+1)%Number.MAX_SAFE_INTEGER,Ld.toString()}const jd=new Map,kv=e=>{if(jd.has(e))return;const t=setTimeout(()=>{jd.delete(e),ra({type:"REMOVE_TOAST",toastId:e})},qM);jd.set(e,t)},HM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?kv(n):e.toasts.forEach(r=>{kv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},rc=[];let oc={toasts:[]};function ra(e){oc=HM(oc,e),rc.forEach(t=>{t(oc)})}function GM({...e}){const t=WM(),n=o=>ra({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ra({type:"DISMISS_TOAST",toastId:t});return ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Qa(){const[e,t]=f.useState(oc);return f.useEffect(()=>(rc.push(t),()=>{const n=rc.indexOf(t);n>-1&&rc.splice(n,1)}),[e]),{...e,toast:GM,dismiss:n=>ra({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Av(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Av(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Av(e[o],null)}}}}function Fe(...e){return f.useCallback(Tu(...e),e)}function KM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function hn(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:w,...v}=u,x=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>v,Object.values(v));return p.jsx(x.Provider,{value:b,children:w})};c.displayName=s+"Provider";function d(u,h){var x;const w=((x=h==null?void 0:h[e])==null?void 0:x[l])||a,v=f.useContext(w);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,YM(o,...t)]}function YM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function di(e){const t=XM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(ZM);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var QM=di("Slot");function XM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=eI(o),a=JM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Tu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Eb=Symbol("radix.slottable");function Pb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Eb,t}function ZM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Eb}function JM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function eI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ku(e){const t=e+"CollectionProvider",[n,r]=hn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:m}=x,y=Et.useRef(null),S=Et.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:S,collectionRef:y,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=di(a),c=Et.forwardRef((x,b)=>{const{scope:m,children:y}=x,S=s(a,m),C=Fe(b,S.collectionRef);return p.jsx(l,{ref:C,children:y})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=di(d),w=Et.forwardRef((x,b)=>{const{scope:m,children:y,...S}=x,C=Et.useRef(null),E=Fe(b,C),P=s(d,m);return Et.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:y})});w.displayName=d;function v(x){const b=s(e+"CollectionConsumer",x);return Et.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const S=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,k)=>S.indexOf(P.ref.current)-S.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:w},v,r]}var tI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=tI.reduce((e,t)=>{const n=di(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cm(e,t){e&&Ka.flushSync(()=>e.dispatchEvent(t))}function dt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function nI(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var rI="DismissableLayer",wh="dismissableLayer.update",oI="dismissableLayer.pointerDownOutside",sI="dismissableLayer.focusOutside",Dv,Tb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xa=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(Tb),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=f.useState({}),v=Fe(t,k=>u(k)),x=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(b),y=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=m,E=aI(k=>{const A=k.target,R=[...c.branches].some(D=>D.contains(A));!C||R||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=lI(k=>{const A=k.target;[...c.branches].some(D=>D.contains(A))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return nI(k=>{y===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Dv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Rv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Dv)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Rv())},[d,c]),f.useEffect(()=>{const k=()=>w({});return document.addEventListener(wh,k),()=>document.removeEventListener(wh,k)},[]),p.jsx(xe.div,{...l,ref:v,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,P.onFocusCapture),onBlurCapture:se(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,E.onPointerDownCapture)})});Xa.displayName=rI;var iI="DismissableLayerBranch",kb=f.forwardRef((e,t)=>{const n=f.useContext(Tb),r=f.useRef(null),o=Fe(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(xe.div,{...e,ref:o})});kb.displayName=iI;function aI(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Ab(oI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lI(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Ab(sI,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rv(){const e=new CustomEvent(wh);document.dispatchEvent(e)}function Ab(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cm(o,s):o.dispatchEvent(s)}var cI=Xa,uI=kb,jn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},dI="Portal",Au=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);jn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?$R.createPortal(p.jsx(xe.div,{...r,ref:t}),i):null});Au.displayName=dI;function fI(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var pn=e=>{const{present:t,children:n}=e,r=hI(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Fe(r.ref,pI(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};pn.displayName="Presence";function hI(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=fI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Al(r.current);s.current=a==="mounted"?c:"none"},[a]),jn(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,w=Al(c);e?l("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),jn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=w=>{const x=Al(r.current).includes(w.animationName);if(w.target===t&&x&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=w=>{w.target===t&&(s.current=Al(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Al(e){return(e==null?void 0:e.animationName)||"none"}function pI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=mI({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=dt(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function mI({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=dt(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var gI="VisuallyHidden",Du=f.forwardRef((e,t)=>p.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Du.displayName=gI;var yI=Du,um="ToastProvider",[dm,vI,wI]=ku("Toast"),[Db,Q4]=hn("Toast",[wI]),[xI,Ru]=Db(um),Rb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${um}\`. Expected non-empty \`string\`.`),p.jsx(dm.Provider,{scope:t,children:p.jsx(xI,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(w=>w+1),[]),onToastRemove:f.useCallback(()=>d(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};Rb.displayName=um;var Mb="ToastViewport",SI=["F8"],xh="toast.viewportPause",Sh="toast.viewportResume",Ib=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=SI,label:o="Notifications ({hotkey})",...s}=e,i=Ru(Mb,n),a=vI(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=Fe(t,u,i.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;f.useEffect(()=>{const b=m=>{var S;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((S=u.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=u.current;if(v&&b&&m){const y=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(xh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(Sh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&S()},E=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",y),b.addEventListener("focusout",C),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[v,i.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:b})=>{const y=a().map(S=>{const C=S.ref.current,E=[C,...NI(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?y.reverse():y).flat()},[a]);return f.useEffect(()=>{const b=u.current;if(b){const m=y=>{var E,P,k;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const A=document.activeElement,R=y.shiftKey;if(y.target===b&&R){(E=c.current)==null||E.focus();return}const $=x({tabbingDirection:R?"backwards":"forwards"}),Q=$.findIndex(j=>j===A);Fd($.slice(Q+1))?y.preventDefault():R?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,x]),p.jsxs(uI,{ref:l,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(bh,{ref:c,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Fd(b)}}),p.jsx(dm.Slot,{scope:n,children:p.jsx(xe.ol,{tabIndex:-1,...s,ref:h})}),v&&p.jsx(bh,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Fd(b)}})]})});Ib.displayName=Mb;var _b="ToastFocusProxy",bh=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Ru(_b,n);return p.jsx(Du,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});bh.displayName=_b;var Mu="Toast",bI="toast.swipeStart",CI="toast.swipeMove",EI="toast.swipeCancel",PI="toast.swipeEnd",Nb=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=wr({prop:r,defaultProp:o,onChange:s});return p.jsx(pn,{present:n||a,children:p.jsx(AI,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:dt(e.onPause),onResume:dt(e.onResume),onSwipeStart:se(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:se(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Nb.displayName=Mu;var[TI,kI]=Db(Mu,{onClose(){}}),AI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:w,...v}=e,x=Ru(Mu,n),[b,m]=f.useState(null),y=Fe(t,j=>m(j)),S=f.useRef(null),C=f.useRef(null),E=o||x.duration,P=f.useRef(0),k=f.useRef(E),A=f.useRef(0),{onToastAdd:R,onToastRemove:D}=x,N=dt(()=>{var X;(b==null?void 0:b.contains(document.activeElement))&&((X=x.viewport)==null||X.focus()),i()}),$=f.useCallback(j=>{!j||j===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(N,j))},[N]);f.useEffect(()=>{const j=x.viewport;if(j){const X=()=>{$(k.current),c==null||c()},_=()=>{const L=new Date().getTime()-P.current;k.current=k.current-L,window.clearTimeout(A.current),l==null||l()};return j.addEventListener(xh,_),j.addEventListener(Sh,X),()=>{j.removeEventListener(xh,_),j.removeEventListener(Sh,X)}}},[x.viewport,E,l,c,$]),f.useEffect(()=>{s&&!x.isClosePausedRef.current&&$(E)},[s,E,x.isClosePausedRef,$]),f.useEffect(()=>(R(),()=>D()),[R,D]);const Q=f.useMemo(()=>b?Vb(b):null,[b]);return x.viewport?p.jsxs(p.Fragment,{children:[Q&&p.jsx(DI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),p.jsx(TI,{scope:n,onClose:N,children:Ka.createPortal(p.jsx(dm.ItemSlot,{scope:n,children:p.jsx(cI,{asChild:!0,onEscapeKeyDown:se(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:se(e.onPointerDown,j=>{j.button===0&&(S.current={x:j.clientX,y:j.clientY})}),onPointerMove:se(e.onPointerMove,j=>{if(!S.current)return;const X=j.clientX-S.current.x,_=j.clientY-S.current.y,L=!!C.current,M=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,U=M?I(0,X):0,Y=M?0:I(0,_),J=j.pointerType==="touch"?10:2,Ee={x:U,y:Y},K={originalEvent:j,delta:Ee};L?(C.current=Ee,Dl(CI,u,K,{discrete:!1})):Mv(Ee,x.swipeDirection,J)?(C.current=Ee,Dl(bI,d,K,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(X)>J||Math.abs(_)>J)&&(S.current=null)}),onPointerUp:se(e.onPointerUp,j=>{const X=C.current,_=j.target;if(_.hasPointerCapture(j.pointerId)&&_.releasePointerCapture(j.pointerId),C.current=null,S.current=null,X){const L=j.currentTarget,M={originalEvent:j,delta:X};Mv(X,x.swipeDirection,x.swipeThreshold)?Dl(PI,w,M,{discrete:!0}):Dl(EI,h,M,{discrete:!0}),L.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),DI=e=>{const{__scopeToast:t,children:n,...r}=e,o=Ru(Mu,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return II(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Au,{asChild:!0,children:p.jsx(Du,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},RI="ToastTitle",Lb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(xe.div,{...r,ref:t})});Lb.displayName=RI;var MI="ToastDescription",jb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(xe.div,{...r,ref:t})});jb.displayName=MI;var Fb="ToastAction",Ob=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Ub,{altText:n,asChild:!0,children:p.jsx(fm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Fb}\`. Expected non-empty \`string\`.`),null)});Ob.displayName=Fb;var $b="ToastClose",fm=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=kI($b,n);return p.jsx(Ub,{asChild:!0,children:p.jsx(xe.button,{type:"button",...r,ref:t,onClick:se(e.onClick,o.onClose)})})});fm.displayName=$b;var Ub=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Vb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_I(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Vb(r))}}),t}function Dl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cm(o,s):o.dispatchEvent(s)}var Mv=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function II(e=()=>{}){const t=dt(e);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function _I(e){return e.nodeType===e.ELEMENT_NODE}function NI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var LI=Rb,Bb=Ib,zb=Nb,qb=Lb,Wb=jb,Hb=Ob,Gb=fm;function Kb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Kb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Yb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Kb(e))&&(r&&(r+=" "),r+=t);return r}const Iv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_v=Yb,Za=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _v(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=Iv(d)||Iv(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...w}=d;return Object.entries(w).every(v=>{let[x,b]=v;return Array.isArray(b)?b.includes({...s,...a}[x]):{...s,...a}[x]===b})?[...c,u,h]:c},[]);return _v(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...FI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Qb("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(OI,{ref:s,iconNode:t,className:Qb(`lucide-${jI(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Ve("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ve("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Ve("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ve("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ve("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ve("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),pm="-",i_=e=>{const t=l_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(pm);return a[0]===""&&a.length!==1&&a.shift(),sC(a,t)||a_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},sC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?sC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(pm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Lv=/^\[(.+)\]$/,a_=e=>{if(Lv.test(e)){const t=Lv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},l_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return u_(Object.entries(e.classGroups),n).forEach(([s,i])=>{Ch(i,r,s,t)}),r},Ch=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:jv(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(c_(o)){Ch(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Ch(i,jv(t,s),n,r)})})},jv=(e,t)=>{let n=e;return t.split(pm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},c_=e=>e.isThemeGetter,u_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,d_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},iC="!",f_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(m==="/"){u=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),w=h.startsWith(iC),v=w?h.substring(1):h,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:i}):i},h_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},p_=e=>({cache:d_(e.cacheSize),parseClassName:f_(e),...i_(e)}),m_=/\s+/,g_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(m_);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:w}=n(c);let v=!!w,x=r(v?h.substring(0,w):h);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const b=h_(d).join(":"),m=u?b+iC:b,y=m+x;if(s.includes(y))continue;s.push(y);const S=o(x,v);for(let C=0;C<S.length;++C){const E=S[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function y_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=aC(t))&&(r&&(r+=" "),r+=n);return r}const aC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aC(e[r]))&&(n&&(n+=" "),n+=t);return n};function v_(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=p_(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=g_(l,n);return o(l,d),d}return function(){return s(y_.apply(null,arguments))}}const rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},lC=/^\[(?:([a-z-]+):)?(.+)\]$/i,w_=/^\d+\/\d+$/,x_=new Set(["px","full","screen"]),S_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,C_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=e=>Bs(e)||x_.has(e)||w_.test(e),qr=e=>Si(e,"length",__),Bs=e=>!!e&&!Number.isNaN(Number(e)),Od=e=>Si(e,"number",Bs),Li=e=>!!e&&Number.isInteger(Number(e)),T_=e=>e.endsWith("%")&&Bs(e.slice(0,-1)),Te=e=>lC.test(e),Wr=e=>S_.test(e),k_=new Set(["length","size","percentage"]),A_=e=>Si(e,k_,cC),D_=e=>Si(e,"position",cC),R_=new Set(["image","url"]),M_=e=>Si(e,R_,L_),I_=e=>Si(e,"",N_),ji=()=>!0,Si=(e,t,n)=>{const r=lC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},__=e=>b_.test(e)&&!C_.test(e),cC=()=>!1,N_=e=>E_.test(e),L_=e=>P_.test(e),j_=()=>{const e=rt("colors"),t=rt("spacing"),n=rt("blur"),r=rt("brightness"),o=rt("borderColor"),s=rt("borderRadius"),i=rt("borderSpacing"),a=rt("borderWidth"),l=rt("contrast"),c=rt("grayscale"),d=rt("hueRotate"),u=rt("invert"),h=rt("gap"),w=rt("gradientColorStops"),v=rt("gradientColorStopPositions"),x=rt("inset"),b=rt("margin"),m=rt("opacity"),y=rt("padding"),S=rt("saturate"),C=rt("scale"),E=rt("sepia"),P=rt("skew"),k=rt("space"),A=rt("translate"),R=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Te,t],$=()=>[Te,t],Q=()=>["",Cr,qr],j=()=>["auto",Bs,Te],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Te],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Bs,Te];return{cacheSize:500,separator:":",theme:{colors:[ji],spacing:[Cr,qr],blur:["none","",Wr,Te],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Wr,Te],borderSpacing:$(),borderWidth:Q(),contrast:Y(),grayscale:I(),hueRotate:Y(),invert:I(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[T_,qr],inset:N(),margin:N(),opacity:Y(),padding:$(),saturate:Y(),scale:Y(),sepia:I(),skew:Y(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Te]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Li,Te]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Li,Te]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",Li,Te]},Te]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[Li,Te]},Te]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Od]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",Bs,Od]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,qr]}],"underline-offset":[{"underline-offset":["auto",Cr,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),D_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:_()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[Cr,Te]}],"outline-w":[{outline:[Cr,qr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Cr,qr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wr,I_]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wr,Te]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Li,Te]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cr,qr,Od]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F_=v_(j_);function O_(e){throw new Error("Unexpected object: "+e)}function re(...e){return F_(Yb(e))}function $_(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const U_=LI,uC=f.forwardRef(({className:e,...t},n)=>p.jsx(Bb,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));uC.displayName=Bb.displayName;const V_=Za("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(zb,{ref:r,className:re(V_({variant:t}),e),...n}));dC.displayName=zb.displayName;const B_=f.forwardRef(({className:e,...t},n)=>p.jsx(Hb,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));B_.displayName=Hb.displayName;const fC=f.forwardRef(({className:e,...t},n)=>p.jsx(Gb,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Iu,{className:"h-4 w-4"})}));fC.displayName=Gb.displayName;const hC=f.forwardRef(({className:e,...t},n)=>p.jsx(qb,{ref:n,className:re("text-sm font-semibold",e),...t}));hC.displayName=qb.displayName;const pC=f.forwardRef(({className:e,...t},n)=>p.jsx(Wb,{ref:n,className:re("text-sm opacity-90",e),...t}));pC.displayName=Wb.displayName;function z_(){const{toasts:e}=Qa();return p.jsxs(U_,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(dC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(hC,{children:n}),r&&p.jsx(pC,{children:r})]}),o,p.jsx(fC,{})]},t)}),p.jsx(uC,{})]})}var q_=tx[" useId ".trim().toString()]||(()=>{}),W_=0;function Qo(e){const[t,n]=f.useState(q_());return jn(()=>{n(r=>r??String(W_++))},[e]),t?`radix-${t}`:""}const H_=["top","right","bottom","left"],Co=Math.min,yn=Math.max,Oc=Math.round,Rl=Math.floor,pr=e=>({x:e,y:e}),G_={left:"right",right:"left",bottom:"top",top:"bottom"},K_={start:"end",end:"start"};function Eh(e,t,n){return yn(e,Co(t,n))}function Fr(e,t){return typeof e=="function"?e(t):e}function Or(e){return e.split("-")[0]}function bi(e){return e.split("-")[1]}function mm(e){return e==="x"?"y":"x"}function gm(e){return e==="y"?"height":"width"}function Eo(e){return["top","bottom"].includes(Or(e))?"y":"x"}function ym(e){return mm(Eo(e))}function Y_(e,t,n){n===void 0&&(n=!1);const r=bi(e),o=ym(e),s=gm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=$c(i)),[i,$c(i)]}function Q_(e){const t=$c(e);return[Ph(e),t,Ph(t)]}function Ph(e){return e.replace(/start|end/g,t=>K_[t])}function X_(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function Z_(e,t,n,r){const o=bi(e);let s=X_(Or(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Ph)))),s}function $c(e){return e.replace(/left|right|bottom|top/g,t=>G_[t])}function J_(e){return{top:0,right:0,bottom:0,left:0,...e}}function mC(e){return typeof e!="number"?J_(e):{top:e,right:e,bottom:e,left:e}}function Uc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Fv(e,t,n){let{reference:r,floating:o}=e;const s=Eo(t),i=ym(t),a=gm(i),l=Or(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let w;switch(l){case"top":w={x:d,y:r.y-o.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:u};break;case"left":w={x:r.x-o.width,y:u};break;default:w={x:r.x,y:r.y}}switch(bi(t)){case"start":w[i]-=h*(n&&c?-1:1);break;case"end":w[i]+=h*(n&&c?-1:1);break}return w}const eN=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=Fv(c,r,l),h=r,w={},v=0;for(let x=0;x<a.length;x++){const{name:b,fn:m}=a[x],{x:y,y:S,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:w,rects:c,platform:i,elements:{reference:e,floating:t}});d=y??d,u=S??u,w={...w,[b]:{...w[b],...C}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=Fv(c,h,l)),x=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:w}};async function ka(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:w=0}=Fr(t,e),v=mC(w),b=a[h?u==="floating"?"reference":"floating":u],m=Uc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Uc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(m.top-E.top+v.top)/C.y,bottom:(E.bottom-m.bottom+v.bottom)/C.y,left:(m.left-E.left+v.left)/C.x,right:(E.right-m.right+v.right)/C.x}}const tN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Fr(e,t)||{};if(c==null)return{};const u=mC(d),h={x:n,y:r},w=ym(o),v=gm(w),x=await i.getDimensions(c),b=w==="y",m=b?"top":"left",y=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=s.reference[v]+s.reference[w]-h[w]-s.floating[v],E=h[w]-s.reference[w],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[S]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[S]||s.floating[v]);const A=C/2-E/2,R=k/2-x[v]/2-1,D=Co(u[m],R),N=Co(u[y],R),$=D,Q=k-x[v]-N,j=k/2-x[v]/2+A,X=Eh($,j,Q),_=!l.arrow&&bi(o)!=null&&j!==X&&s.reference[v]/2-(j<$?D:N)-x[v]/2<0,L=_?j<$?j-$:j-Q:0;return{[w]:h[w]+L,data:{[w]:X,centerOffset:j-X-L,..._&&{alignmentOffset:L}},reset:_}}}),nN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=Fr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Or(o),y=Eo(a),S=Or(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(S||!x?[$c(a)]:Q_(a)),P=v!=="none";!h&&P&&E.push(...Z_(a,x,v,C));const k=[a,...E],A=await ka(t,b),R=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(A[m]),u){const j=Y_(o,i,C);R.push(A[j[0]],A[j[1]])}if(D=[...D,{placement:o,overflows:R}],!R.every(j=>j<=0)){var N,$;const j=(((N=s.flip)==null?void 0:N.index)||0)+1,X=k[j];if(X)return{data:{index:j,overflows:D},reset:{placement:X}};let _=($=D.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:$.placement;if(!_)switch(w){case"bestFit":{var Q;const L=(Q=D.filter(M=>{if(P){const I=Eo(M.placement);return I===y||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:Q[0];L&&(_=L);break}case"initialPlacement":_=a;break}if(o!==_)return{reset:{placement:_}}}return{}}}};function Ov(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $v(e){return H_.some(t=>e[t]>=0)}const rN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Fr(e,t);switch(r){case"referenceHidden":{const s=await ka(t,{...o,elementContext:"reference"}),i=Ov(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:$v(i)}}}case"escaped":{const s=await ka(t,{...o,altBoundary:!0}),i=Ov(s,n.floating);return{data:{escapedOffsets:i,escaped:$v(i)}}}default:return{}}}}};async function oN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Or(n),a=bi(n),l=Eo(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=Fr(t,e);let{mainAxis:h,crossAxis:w,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof v=="number"&&(w=a==="end"?v*-1:v),l?{x:w*d,y:h*c}:{x:h*c,y:w*d}}const sN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await oN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},iN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y}=b;return{x:m,y}}},...l}=Fr(e,t),c={x:n,y:r},d=await ka(t,l),u=Eo(Or(o)),h=mm(u);let w=c[h],v=c[u];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",y=w+d[b],S=w-d[m];w=Eh(y,w,S)}if(i){const b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",y=v+d[b],S=v-d[m];v=Eh(y,v,S)}const x=a.fn({...t,[h]:w,[u]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[u]:i}}}}}},aN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Fr(e,t),d={x:n,y:r},u=Eo(o),h=mm(u);let w=d[h],v=d[u];const x=Fr(a,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=h==="y"?"height":"width",C=s.reference[h]-s.floating[S]+b.mainAxis,E=s.reference[h]+s.reference[S]-b.mainAxis;w<C?w=C:w>E&&(w=E)}if(c){var m,y;const S=h==="y"?"width":"height",C=["top","left"].includes(Or(o)),E=s.reference[u]-s.floating[S]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:b.crossAxis),P=s.reference[u]+s.reference[S]+(C?0:((y=i.offset)==null?void 0:y[u])||0)-(C?b.crossAxis:0);v<E?v=E:v>P&&(v=P)}return{[h]:w,[u]:v}}}},lN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Fr(e,t),d=await ka(t,c),u=Or(o),h=bi(o),w=Eo(o)==="y",{width:v,height:x}=s.floating;let b,m;u==="top"||u==="bottom"?(b=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,b=h==="end"?"top":"bottom");const y=x-d.top-d.bottom,S=v-d.left-d.right,C=Co(x-d[b],y),E=Co(v-d[m],S),P=!t.middlewareData.shift;let k=C,A=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),P&&!h){const D=yn(d.left,0),N=yn(d.right,0),$=yn(d.top,0),Q=yn(d.bottom,0);w?A=v-2*(D!==0||N!==0?D+N:yn(d.left,d.right)):k=x-2*($!==0||Q!==0?$+Q:yn(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const R=await i.getDimensions(a.floating);return v!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function _u(){return typeof window<"u"}function Ci(e){return gC(e)?(e.nodeName||"").toLowerCase():"#document"}function xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xr(e){var t;return(t=(gC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gC(e){return _u()?e instanceof Node||e instanceof xn(e).Node:!1}function Yn(e){return _u()?e instanceof Element||e instanceof xn(e).Element:!1}function vr(e){return _u()?e instanceof HTMLElement||e instanceof xn(e).HTMLElement:!1}function Uv(e){return!_u()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xn(e).ShadowRoot}function Ja(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function cN(e){return["table","td","th"].includes(Ci(e))}function Nu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vm(e){const t=wm(),n=Yn(e)?Qn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function uN(e){let t=Po(e);for(;vr(t)&&!fi(t);){if(vm(t))return t;if(Nu(t))return null;t=Po(t)}return null}function wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fi(e){return["html","body","#document"].includes(Ci(e))}function Qn(e){return xn(e).getComputedStyle(e)}function Lu(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Po(e){if(Ci(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uv(e)&&e.host||xr(e);return Uv(t)?t.host:t}function yC(e){const t=Po(e);return fi(t)?e.ownerDocument?e.ownerDocument.body:e.body:vr(t)&&Ja(t)?t:yC(t)}function Aa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=yC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=xn(o);if(s){const a=Th(i);return t.concat(i,i.visualViewport||[],Ja(o)?o:[],a&&n?Aa(a):[])}return t.concat(o,Aa(o,[],n))}function Th(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vC(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=vr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Oc(n)!==s||Oc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function xm(e){return Yn(e)?e:e.contextElement}function zs(e){const t=xm(e);if(!vr(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=vC(t);let i=(s?Oc(n.width):n.width)/r,a=(s?Oc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const dN=pr(0);function wC(e){const t=xn(e);return!wm()||!t.visualViewport?dN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xn(e)?!1:t}function os(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=xm(e);let i=pr(1);t&&(r?Yn(r)&&(i=zs(r)):i=zs(e));const a=fN(s,n,r)?wC(s):pr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=xn(s),w=r&&Yn(r)?xn(r):r;let v=h,x=Th(v);for(;x&&r&&w!==v;){const b=zs(x),m=x.getBoundingClientRect(),y=Qn(x),S=m.left+(x.clientLeft+parseFloat(y.paddingLeft))*b.x,C=m.top+(x.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,u*=b.y,l+=S,c+=C,v=xn(x),x=Th(v)}}return Uc({width:d,height:u,x:l,y:c})}function Sm(e,t){const n=Lu(e).scrollLeft;return t?t.left+n:os(xr(e)).left+n}function xC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Sm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function hN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=xr(r),a=t?Nu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=pr(1);const d=pr(0),u=vr(r);if((u||!u&&!s)&&((Ci(r)!=="body"||Ja(i))&&(l=Lu(r)),vr(r))){const w=os(r);c=zs(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const h=i&&!u&&!s?xC(i,l,!0):pr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function pN(e){return Array.from(e.getClientRects())}function mN(e){const t=xr(e),n=Lu(e),r=e.ownerDocument.body,o=yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Sm(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(i+=yn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function gN(e,t){const n=xn(e),r=xr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=wm();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function yN(e,t){const n=os(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=vr(e)?zs(e):pr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Vv(e,t,n){let r;if(t==="viewport")r=gN(e,n);else if(t==="document")r=mN(xr(e));else if(Yn(t))r=yN(t,n);else{const o=wC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Uc(r)}function SC(e,t){const n=Po(e);return n===t||!Yn(n)||fi(n)?!1:Qn(n).position==="fixed"||SC(n,t)}function vN(e,t){const n=t.get(e);if(n)return n;let r=Aa(e,[],!1).filter(a=>Yn(a)&&Ci(a)!=="body"),o=null;const s=Qn(e).position==="fixed";let i=s?Po(e):e;for(;Yn(i)&&!fi(i);){const a=Qn(i),l=vm(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ja(i)&&!l&&SC(e,i))?r=r.filter(d=>d!==i):o=a,i=Po(i)}return t.set(e,r),r}function wN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Nu(t)?[]:vN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=Vv(t,d,o);return c.top=yn(u.top,c.top),c.right=Co(u.right,c.right),c.bottom=Co(u.bottom,c.bottom),c.left=yn(u.left,c.left),c},Vv(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xN(e){const{width:t,height:n}=vC(e);return{width:t,height:n}}function SN(e,t,n){const r=vr(t),o=xr(t),s=n==="fixed",i=os(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=pr(0);if(r||!r&&!s)if((Ci(t)!=="body"||Ja(o))&&(a=Lu(t)),r){const h=os(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=Sm(o));const c=o&&!r&&!s?xC(o,a):pr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function $d(e){return Qn(e).position==="static"}function Bv(e,t){if(!vr(e)||Qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xr(e)===n&&(n=n.ownerDocument.body),n}function bC(e,t){const n=xn(e);if(Nu(e))return n;if(!vr(e)){let o=Po(e);for(;o&&!fi(o);){if(Yn(o)&&!$d(o))return o;o=Po(o)}return n}let r=Bv(e,t);for(;r&&cN(r)&&$d(r);)r=Bv(r,t);return r&&fi(r)&&$d(r)&&!vm(r)?n:r||uN(e)||n}const bN=async function(e){const t=this.getOffsetParent||bC,n=this.getDimensions,r=await n(e.floating);return{reference:SN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CN(e){return Qn(e).direction==="rtl"}const EN={convertOffsetParentRelativeRectToViewportRelativeRect:hN,getDocumentElement:xr,getClippingRect:wN,getOffsetParent:bC,getElementRects:bN,getClientRects:pN,getDimensions:xN,getScale:zs,isElement:Yn,isRTL:CN};function CC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PN(e,t){let n=null,r;const o=xr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:w}=c;if(a||t(),!h||!w)return;const v=Rl(u),x=Rl(o.clientWidth-(d+h)),b=Rl(o.clientHeight-(u+w)),m=Rl(d),S={rootMargin:-v+"px "+-x+"px "+-b+"px "+-m+"px",threshold:yn(0,Co(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!CC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return i(!0),s}function TN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=xm(e),d=o||s?[...c?Aa(c):[],...Aa(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?PN(c,n):null;let h=-1,w=null;i&&(w=new ResizeObserver(m=>{let[y]=m;y&&y.target===c&&w&&(w.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(t)})),n()}),c&&!l&&w.observe(c),w.observe(t));let v,x=l?os(e):null;l&&b();function b(){const m=os(e);x&&!CC(x,m)&&n(),x=m,v=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(y=>{o&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),u==null||u(),(m=w)==null||m.disconnect(),w=null,l&&cancelAnimationFrame(v)}}const kN=sN,AN=iN,DN=nN,RN=lN,MN=rN,zv=tN,IN=aN,_N=(e,t,n)=>{const r=new Map,o={platform:EN,...n},s={...o.platform,_c:r};return eN(e,t,{...o,platform:s})};var sc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Vc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Vc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qv(e,t){const n=EC(e);return Math.round(t*n)/n}function Ud(e){const t=f.useRef(e);return sc(()=>{t.current=e}),t}function NN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,w]=f.useState(r);Vc(h,r)||w(r);const[v,x]=f.useState(null),[b,m]=f.useState(null),y=f.useCallback(M=>{M!==P.current&&(P.current=M,x(M))},[]),S=f.useCallback(M=>{M!==k.current&&(k.current=M,m(M))},[]),C=s||v,E=i||b,P=f.useRef(null),k=f.useRef(null),A=f.useRef(d),R=l!=null,D=Ud(l),N=Ud(o),$=Ud(c),Q=f.useCallback(()=>{if(!P.current||!k.current)return;const M={placement:t,strategy:n,middleware:h};N.current&&(M.platform=N.current),_N(P.current,k.current,M).then(I=>{const U={...I,isPositioned:$.current!==!1};j.current&&!Vc(A.current,U)&&(A.current=U,Ka.flushSync(()=>{u(U)}))})},[h,t,n,N,$]);sc(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,u(M=>({...M,isPositioned:!1})))},[c]);const j=f.useRef(!1);sc(()=>(j.current=!0,()=>{j.current=!1}),[]),sc(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(D.current)return D.current(C,E,Q);Q()}},[C,E,Q,D,R]);const X=f.useMemo(()=>({reference:P,floating:k,setReference:y,setFloating:S}),[y,S]),_=f.useMemo(()=>({reference:C,floating:E}),[C,E]),L=f.useMemo(()=>{const M={position:n,left:0,top:0};if(!_.floating)return M;const I=qv(_.floating,d.x),U=qv(_.floating,d.y);return a?{...M,transform:"translate("+I+"px, "+U+"px)",...EC(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:U}},[n,a,_.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:Q,refs:X,elements:_,floatingStyles:L}),[d,Q,X,_,L])}const LN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?zv({element:r.current,padding:o}).fn(n):{}:r?zv({element:r,padding:o}).fn(n):{}}}},jN=(e,t)=>({...kN(e),options:[e,t]}),FN=(e,t)=>({...AN(e),options:[e,t]}),ON=(e,t)=>({...IN(e),options:[e,t]}),$N=(e,t)=>({...DN(e),options:[e,t]}),UN=(e,t)=>({...RN(e),options:[e,t]}),VN=(e,t)=>({...MN(e),options:[e,t]}),BN=(e,t)=>({...LN(e),options:[e,t]});var zN="Arrow",PC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(xe.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});PC.displayName=zN;var qN=PC;function bm(e){const[t,n]=f.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Cm="Popper",[TC,ju]=hn(Cm),[WN,kC]=TC(Cm),AC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(WN,{scope:t,anchor:r,onAnchorChange:o,children:n})};AC.displayName=Cm;var DC="PopperAnchor",RC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=kC(DC,n),i=f.useRef(null),a=Fe(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(xe.div,{...o,ref:a})});RC.displayName=DC;var Em="PopperContent",[HN,GN]=TC(Em),MC=f.forwardRef((e,t)=>{var pe,Be,Ie,Ge,ke,z;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:w="optimized",onPlaced:v,...x}=e,b=kC(Em,n),[m,y]=f.useState(null),S=Fe(t,ye=>y(ye)),[C,E]=f.useState(null),P=bm(C),k=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,R=r+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],$=N.length>0,Q={padding:D,boundary:N.filter(YN),altBoundary:$},{refs:j,floatingStyles:X,placement:_,isPositioned:L,middlewareData:M}=NN({strategy:"fixed",placement:R,whileElementsMounted:(...ye)=>TN(...ye,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[jN({mainAxis:o+A,alignmentAxis:i}),l&&FN({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?ON():void 0,...Q}),l&&$N({...Q}),UN({...Q,apply:({elements:ye,rects:Ae,availableWidth:qe,availableHeight:Tt})=>{const{width:kt,height:it}=Ae.reference,at=ye.floating.style;at.setProperty("--radix-popper-available-width",`${qe}px`),at.setProperty("--radix-popper-available-height",`${Tt}px`),at.setProperty("--radix-popper-anchor-width",`${kt}px`),at.setProperty("--radix-popper-anchor-height",`${it}px`)}}),C&&BN({element:C,padding:a}),QN({arrowWidth:k,arrowHeight:A}),h&&VN({strategy:"referenceHidden",...Q})]}),[I,U]=NC(_),Y=dt(v);jn(()=>{L&&(Y==null||Y())},[L,Y]);const J=(pe=M.arrow)==null?void 0:pe.x,Ee=(Be=M.arrow)==null?void 0:Be.y,K=((Ie=M.arrow)==null?void 0:Ie.centerOffset)!==0,[Je,ae]=f.useState();return jn(()=>{m&&ae(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:L?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Ge=M.transformOrigin)==null?void 0:Ge.x,(ke=M.transformOrigin)==null?void 0:ke.y].join(" "),...((z=M.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(HN,{scope:n,placedSide:I,onArrowChange:E,arrowX:J,arrowY:Ee,shouldHideArrow:K,children:p.jsx(xe.div,{"data-side":I,"data-align":U,...x,ref:S,style:{...x.style,animation:L?void 0:"none"}})})})});MC.displayName=Em;var IC="PopperArrow",KN={top:"bottom",right:"left",bottom:"top",left:"right"},_C=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=GN(IC,r),i=KN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(qN,{...o,ref:n,style:{...o.style,display:"block"}})})});_C.displayName=IC;function YN(e){return e!==null}var QN=e=>({name:"transformOrigin",options:e,fn(t){var b,m,y;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=NC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,w=(((y=o.arrow)==null?void 0:y.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=i?u:`${h}px`,x=`${-l}px`):c==="top"?(v=i?u:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=i?u:`${w}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=i?u:`${w}px`),{data:{x:v,y:x}}}});function NC(e){const[t,n="center"]=e.split("-");return[t,n]}var LC=AC,jC=RC,FC=MC,OC=_C,[Fu,X4]=hn("Tooltip",[ju]),Ou=ju(),$C="TooltipProvider",XN=700,kh="tooltip.open",[ZN,Pm]=Fu($C),UC=e=>{const{__scopeTooltip:t,delayDuration:n=XN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(ZN,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};UC.displayName=$C;var $u="Tooltip",[JN,Uu]=Fu($u),VC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=Pm($u,e.__scopeTooltip),c=Ou(t),[d,u]=f.useState(null),h=Qo(),w=f.useRef(0),v=i??l.disableHoverableContent,x=a??l.delayDuration,b=f.useRef(!1),[m=!1,y]=wr({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(kh))):l.onClose(),s==null||s(k)}}),S=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(w.current),w.current=0,b.current=!1,y(!0)},[y]),E=f.useCallback(()=>{window.clearTimeout(w.current),w.current=0,y(!1)},[y]),P=f.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{b.current=!0,y(!0),w.current=0},x)},[x,y]);return f.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),p.jsx(LC,{...c,children:p.jsx(JN,{scope:t,contentId:h,open:m,stateAttribute:S,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{v?E():(window.clearTimeout(w.current),w.current=0)},[E,v]),onOpen:C,onClose:E,disableHoverableContent:v,children:n})})};VC.displayName=$u;var Ah="TooltipTrigger",BC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Uu(Ah,n),s=Pm(Ah,n),i=Ou(n),a=f.useRef(null),l=Fe(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(jC,{asChild:!0,...i,children:p.jsx(xe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:se(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:se(e.onBlur,o.onClose),onClick:se(e.onClick,o.onClose)})})});BC.displayName=Ah;var eL="TooltipPortal",[Z4,tL]=Fu(eL,{forceMount:void 0}),hi="TooltipContent",zC=f.forwardRef((e,t)=>{const n=tL(hi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Uu(hi,e.__scopeTooltip);return p.jsx(pn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(qC,{side:o,...s,ref:t}):p.jsx(nL,{side:o,...s,ref:t})})}),nL=f.forwardRef((e,t)=>{const n=Uu(hi,e.__scopeTooltip),r=Pm(hi,e.__scopeTooltip),o=f.useRef(null),s=Fe(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),w=f.useCallback((v,x)=>{const b=v.currentTarget,m={x:v.clientX,y:v.clientY},y=aL(m,b.getBoundingClientRect()),S=lL(m,y),C=cL(x.getBoundingClientRect()),E=dL([...S,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const v=b=>w(b,d),x=b=>w(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[l,d,w,h]),f.useEffect(()=>{if(i){const v=x=>{const b=x.target,m={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),S=!uL(m,i);y?h():S&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,c,h]),p.jsx(qC,{...e,ref:s})}),[rL,oL]=Fu($u,{isInside:!1}),sL=Pb("TooltipContent"),qC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Uu(hi,n),c=Ou(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(kh,d),()=>document.removeEventListener(kh,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const w=h.target;w!=null&&w.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(FC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(sL,{children:r}),p.jsx(rL,{scope:n,isInside:!0,children:p.jsx(yI,{id:l.contentId,role:"tooltip",children:o||r})})]})})});zC.displayName=hi;var WC="TooltipArrow",iL=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ou(n);return oL(WC,n).isInside?null:p.jsx(OC,{...o,...r,ref:t})});iL.displayName=WC;function aL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function cL(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function uL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function dL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fL(t)}function fL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var hL=UC,pL=VC,mL=BC,HC=zC;const GC=hL,gL=pL,yL=mL,KC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(HC,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));KC.displayName=HC.displayName;const Tm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Tm.displayName="Card";const vL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));vL.displayName="CardHeader";const wL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));wL.displayName="CardTitle";const xL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));xL.displayName="CardDescription";const km=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));km.displayName="CardContent";const SL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));SL.displayName="CardFooter";function bL(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Tm,{className:"w-full max-w-md mx-4",children:p.jsxs(km,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(eC,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Am=Za("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?QM:"button";return p.jsx(i,{className:re(Am({variant:t,size:n,className:e})),ref:s,...o})});Xe.displayName="Button";const Vd=e=>e.map(t=>typeof t=="object"?JSON.stringify(t):t),g={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...Vd(e))},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...Vd(e))},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...Vd(e))}};var YC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var w=new o(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],w]:l._events[v].push(w):(l._events[v]=w,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,w=u.length,v=new Array(w);h<w;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,w,v){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],m=arguments.length,y,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,h),!0;case 5:return b.fn.call(b.context,d,u,h,w),!0;case 6:return b.fn.call(b.context,d,u,h,w,v),!0}for(S=1,y=new Array(m-1);S<m;S++)y[S-1]=arguments[S];b.fn.apply(b.context,y)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),m){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,u);break;case 4:b[S].fn.call(b[S].context,d,u,h);break;default:if(!y)for(E=1,y=new Array(m-1);E<m;E++)y[E-1]=arguments[E];b[S].fn.apply(b[S].context,y)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var w=n?n+c:c;if(!this._events[w])return this;if(!d)return i(this,w),this;var v=this._events[w];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&i(this,w);else{for(var x=0,b=[],m=v.length;x<m;x++)(v[x].fn!==d||h&&!v[x].once||u&&v[x].context!==u)&&b.push(v[x]);b.length?this._events[w]=b.length===1?b[0]:b:i(this,w)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(YC);var CL=YC.exports;const EL=cp(CL),PL="401z949o3txi3r0",Ml="/Photos",qs="/Metadata",TL="images.json";function QC(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const XC=qs.startsWith("/")?qs.replace("//","/"):`/${qs}`.replace("//","/"),ZC=`${XC}/${TL}`.replace("//","/");function JC(e,t){const n=QC(e,t);return`${XC}/${n}`.replace("//","/")}function $r(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function eE(e){var t;if($r(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function tE(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function kL(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function nE(e,t,n){let r=null;try{g.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return g.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return g.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return g.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(g.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){g.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return g.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(eE(o))return g.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw $r(o)?g.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):g.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function rE(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(g.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});g.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),g.log(`${t} saved successfully.`)}catch(o){throw $r(o)?g.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):g.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function Bc(e,t,n){const r=JC(t,n);return g.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),nE(e,r,["createdAt","updatedAt"])}async function AL(e){return nE(e,ZC,["createdAt"])}async function Il(e,t,n,r){const o=JC(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){g.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),g.log(`Deleted empty entries file: ${o}`)}catch(i){$r(i)&&tE(i.error,"not_found")?g.log(`Empty entries file ${o} does not exist. No deletion needed.`):$r(i)?g.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):g.error(`Non-API Error deleting ${o}:`,i)}return}await rE(e,o,s,["createdAt","updatedAt"])}async function Dh(e,t){await rE(e,ZC,t,["createdAt"])}async function DL(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");g.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return g.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw g.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw $r(i)?g.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):g.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function RL(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return g.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),g.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return $r(l)&&(tE(l.error,"not_found")||kL(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(g.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):($r(l)?g.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):g.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function ML(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function IL(e){try{const t=await crypto.subtle.digest("SHA-256",e);return ML(t)}catch(t){throw g.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function _L(e){try{const t=await e.arrayBuffer();return IL(t)}catch(t){throw g.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const _l="PhojoCacheDB",Wv=3,ln="entries",mr="imageMetadata",Ws="photoBlobs",ur="cacheStatus",Xo="saveQueue";let Pn=null;function oE(){return new Promise((e,t)=>{if(Pn&&Pn.objectStoreNames.length>0){e(Pn);return}g.log(`[IDB] Opening database ${_l} version ${Wv}...`);const n=indexedDB.open(_l,Wv);n.onerror=r=>{var o;g.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{g.log(`[IDB] Database ${_l} opened successfully.`),Pn=n.result,Pn.onclose=()=>{g.warn("[IDB] Database connection closed unexpectedly."),Pn=null},Pn.onversionchange=()=>{g.warn("[IDB] Database version change detected. Closing connection."),Pn==null||Pn.close(),Pn=null},e(Pn)},n.onupgradeneeded=r=>{g.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){g.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(_l);a.onsuccess=()=>{g.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{g.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{g.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(ln))o.createObjectStore(ln).createIndex("byDate","date",{unique:!1}),g.log(`[IDB] Object store created: ${ln} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(ln);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),g.log(`[IDB] Added 'byDate' index to ${ln} store`))}if(o.objectStoreNames.contains(mr)||(o.createObjectStore(mr),g.log(`[IDB] Object store created: ${mr}`)),o.objectStoreNames.contains(Ws)||(o.createObjectStore(Ws),g.log(`[IDB] Object store created: ${Ws}`)),!o.objectStoreNames.contains(ur))o.createObjectStore(ur).createIndex("lastAccessed","lastAccessed",{unique:!1}),g.log(`[IDB] Object store created: ${ur} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(ur);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),g.log(`[IDB] Re-created 'lastAccessed' index on ${ur}`))}o.objectStoreNames.contains(Xo)||(o.createObjectStore(Xo),g.log(`[IDB] Object store created: ${Xo}`)),g.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{g.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Xn(e,t,n){const r=await oE();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{g.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{g.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{g.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){g.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function vo(e,t,n){await Xn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),g.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function sE(e,t){return Xn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function lr(e,t){await Xn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),g.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function NL(e){await Xn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),g.log(`[IDB] Store '${e}' cleared successfully.`)}async function LL(e){return Xn(ur,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{g.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){g.error("[IDB] Error setting up index query:",o),r(o)}}))}async function zc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Xn(ln,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const w=h.map(v=>({...v,createdAt:v.createdAt instanceof Date?v.createdAt:new Date(v.createdAt||0),updatedAt:v.updatedAt instanceof Date?v.updatedAt:new Date(v.updatedAt||0)}));a(w)}else a(void 0)},u.onerror=()=>{g.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){g.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function jL(e){return Xn(ln,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{g.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(g.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){g.error("[IDB] Error caching entries:",o),r(o)}}))}async function Bd(){return Xn(mr,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{g.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function FL(){return Xn(ln,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{g.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function OL(e){return Xn(mr,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{g.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(g.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){g.error("[IDB] Error caching metadata:",o),r(o)}}))}async function $L(e){return e?lr(mr,e):NL(mr)}async function Gr(e){return sE(Ws,e)}async function Io(e,t,n){const r=Date.now();await vo(Ws,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await vo(ur,e,{lastAccessed:r,size:t.size,type:n})}async function Rs(e){await Promise.all([lr(Ws,e),lr(ur,e)])}async function Nl(e){const t=await sE(ur,e);if(!t){g.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await vo(ur,e,t)}async function Fi(e){g.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await vo(Xo,e.actionId,e)}async function iE(){return g.log("[IDB] Getting all items from save queue"),Xn(Xo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter(BL))??[];g.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{g.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function Rh(e){g.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await vo(Xo,e.actionId,e)}async function UL(e){g.log(`[IDB] Removing action from save queue. ID: ${e}`),await lr(Xo,e)}async function VL(){const e=await iE();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await Rh(r),t++}t>0&&g.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function Da(){return(await iE()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function BL(e){var r;if(typeof e!="object"||e===null)return g.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return g.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return g.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return g.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return g.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return g.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return g.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return g.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}oE().catch(e=>g.error("[IDB] Initial DB open failed:",e));let zd=!1;const Hv=5e4;async function aE(e,t,n,r){if(!t||!e){g.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await lE(e,t,n,r);const o=await Da();o.length>0&&(g.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await aE(e,t,n,r))}function Gv(e,t){if(!t||!e){g.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}aE(e,t).catch(n=>{g.error("[SyncService] Background sync process error:",n)}),g.log("[SyncService] Background sync process started")}async function lE(e,t,n,r){if(zd){g.log("[SyncService] processSaveQueue already in progress, skipping");return}zd=!0;try{if(!t||!e){g.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await Da();if(o.length===0){g.log("[SyncService] No pending actions in queue");return}g.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await Rh(i),s.entity==="entry"?await zL(e,s):s.entity==="photoMetadata"?await qL(e,s):s.entity==="photoUpload"?await WL(e,s):O_(s),await UL(s.actionId),g.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=Hv?"failed":"pending",c={...s,retryCount:a,status:l};await Rh(c),g.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(g.error(`[SyncService] Action ${s.actionId} failed after ${Hv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{zd=!1}}async function zL(e,t){const{type:n,payload:r}=t,o=new Dm(e),{year:s,month:i}=r,a=await Bc(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(w=>!d.photos.some(v=>v.id===w.id))){const w=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(w)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(w=>w.id!==d);await Il(e,s,i,u);const h=l.find(w=>w.id===d);if(h&&h.photos&&h.photos.length>0){g.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const w=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(w)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,w=await Bc(e,d,u),v=o.parseEntryDates(w),x=v.filter(S=>S.id!==S.id),m=[...l.filter(S=>S.id!==S.id),h];await Il(e,d,u,x),await Il(e,s,i,m);const y=v.find(S=>S.id===h.id);await c(h,y)}else{const{entry:d}=r,u=l.find(v=>v.id===d.id),w=[...l.filter(v=>v.id!==d.id),d];w.sort((v,x)=>{const b=new Date(v.date).getTime(),m=new Date(x.date).getTime();return b!==m?b-m:v.createdAt.getTime()-x.createdAt.getTime()}),await Il(e,s,i,w),await c(d,u)}}async function qL(e,t){const{type:n,payload:r}=t,s=await new Dm(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await Dh(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await Dh(e,c)}}async function WL(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Gr(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await DL(e,s,a,o)}const cE=.8,HL=.7,GL=10;async function Mh(){try{if(!navigator.storage||!navigator.storage.estimate)return g.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return g.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return g.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return g.error("[StorageMgr] Error getting storage estimate:",e),null}}async function Kv(e,t=!0){try{const n=await LL(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return g.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function qc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await Kv(e);return o.length>0?(g.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>Rs(s))),o.length):0}const r=await Mh();if(!r||r.usagePercentage<cE)return g.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await Kv(GL);if(o.length===0){g.log("[StorageMgr] No more blobs to prune");break}g.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>Rs(i))),t+=o.length;const s=await Mh();!s||s.usagePercentage<=HL?(g.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(g.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return g.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return g.error("[StorageMgr] Error during pruning:",t),0}}async function qd(){try{const e=await Mh();if(!e)return;if(e.usagePercentage>=cE){g.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await qc();g.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){g.error("[StorageMgr] Error in automatic pruning check:",e)}}async function Wd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(g.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){g.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class lo{constructor(){this.urlMap=new Map}static getInstance(){return lo.instance||(lo.instance=new lo),lo.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),g.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){g.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){g.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){g.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){g.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}var Ih=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(Ih||{});const Hd=30*60*1e3,Oi=qs.startsWith("/")?qs.replace("//","/"):`/${qs}`.replace("//","/"),Yv=e=>e.isNew===!0;class Dm{constructor(t){this.blobUrlManager=lo.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new EL,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache(Oi)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache(Oi),g.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),g.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<Hd?(g.log(`[MemCache] Hit folder list for ${t}`),n.data):(g.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),g.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){g.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(g.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(g.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;g.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),g.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(eE(r))return g.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw $r(r)?g.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):g.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){g.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(Oi)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return g.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return g.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);g.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await zc(t,n),i=s&&s.length>0;i?g.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):g.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<Hd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{g.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){g.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await zc(t,n);if(i&&i.length>0)return g.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){g.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);g.log(`[Background Sync] Starting background sync for ${o}`);try{const s=QC(t,n),a=(await this.listFolder(Oi)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)g.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await Bc(this.dbx,t,n);l=this.parseEntryDates(c),g.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(w=>w.id)),u=r.filter(w=>!d.has(w.id));if(u.length>0){g.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const w=await Da();for(const v of u)w.some(b=>b.entity==="entry"&&b.type!=="delete"&&b.payload.entry.id===v.id)?g.log(`[Background Sync] Not deleting entry ${v.id} - has pending changes`):(g.log(`[Background Sync] Deleting orphaned entry ${v.id} from local cache`),await lr(ln,v.id))}const h=[...l].sort((w,v)=>new Date(w.date).getTime()-new Date(v.date).getTime()||w.createdAt.getTime()-v.createdAt.getTime());g.log(`[Background Sync] Storing ${h.length} entries in local cache`),await jL(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(g.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),g.log(`[Background Sync] Completed for ${o}`)}catch(s){throw g.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");g.log("[Background Sync] Starting metadata background sync");try{g.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await AL(this.dbx),r=this.parseMetadataDates(n);g.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){g.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await Da();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?g.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(g.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await lr(mr,a.id))}g.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await OL(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(g.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),g.log("[Background Sync] Metadata sync completed")}catch(n){throw g.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){g.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await Bd(),r=n&&n.length>0;r?g.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):g.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<Hd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{g.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){g.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await Bd();if(r&&r.length>0)return g.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){g.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return g.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return Nl(o).catch(a=>g.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Gr(o);if(a)return g.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await Nl(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Gr(t);if(l){g.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await Wd(l.blob);return g.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await Io(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return g.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){g.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return g.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Gr(t);if(a){g.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await Wd(a.blob);return g.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await Io(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return g.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return g.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return g.log(`[Memory] Found cached URL for hash ${t}`),Nl(t).catch(s=>g.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Gr(t);if(s)return g.log(`[Cache] Found blob in IDB for hash ${t}.`),await Nl(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){g.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return g.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return g.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;g.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var w;return((w=h.photoMetadata)==null?void 0:w.contentHash)===t});if(!(i!=null&&i.photoFilename))return g.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Ml}/${a}`.replace("//","/");g.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return g.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;g.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await Io(t,d,"full"),this.generateThumbnailInBackground(t,d),g.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){g.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await qc(10),await Io(t,d,"full"),this.generateThumbnailInBackground(t,d),g.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(w){g.error(`[Cache] Failed to prune and retry caching for ${t}:`,w)}}else g.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return g.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,k,A;if(g.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(R=>R.photoId))??[]),c=[];i&&l.forEach(R=>{t.photos.some(N=>!Yv(N)&&N.photoId===R)||g.log(`[Save] Photo ${R} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let w=null,v=null;if(n){const R=new Date(n.date+"T00:00:00Z");w=R.getUTCFullYear(),v=R.getUTCMonth()+1}const x=i&&(u!==w||h!==v);for(const R of t.photos){let D=null,N,$=null,Q=!1;if(Yv(R)){const j=R.file;N=R.crop,$=await _L(j);const X=o.find(_=>{var L;return((L=_.photoMetadata)==null?void 0:L.contentHash)===$});if(X)D=X.id,g.log(`[Save] Hash collision for ${j.name}. Using existing ID: ${D}`),l.has(D)||(Q=!0),await Gr($)||c.push({hash:$,blob:j});else{g.log(`[Save] Uploading new photo: ${j.name}`);const _=Date.now(),L=crypto.randomUUID().substring(0,8),M=j.name.replace(/[^a-zA-Z0-9.]/g,"_"),I=`${_}_${L}_${M}`,U={id:crypto.randomUUID(),photoFilename:I,photoMetadata:{filename:j.name,mimeType:j.type,width:(E=R.originalDimensions)==null?void 0:E.width,height:(P=R.originalDimensions)==null?void 0:P.height,exifDate:((k=R.exifData)==null?void 0:k.exifDate)??null,contentHash:$},createdAt:new Date},Y=crypto.randomUUID(),J={actionId:Y,type:"create",entity:"photoUpload",payload:{contentHash:$,photoFilename:I,folder:Ml},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(J),g.log(`[Save] Photo upload added to sync queue. ActionId: ${Y}, Hash: ${$}`),D=U.id,o.push(U),a.push(U),await vo(mr,U.id,U),Q=!0,c.push({hash:$,blob:j}),g.log(`[Save] New photo uploaded. ID: ${D}, Hash: ${$}`)}}else{D=R.photoId,N=R.crop;const j=o.find(X=>X.id===D);$=((A=j==null?void 0:j.photoMetadata)==null?void 0:A.contentHash)??null,(!i||!l.has(D))&&(Q=!0),$&&(await Gr($)||g.warn(`[Save] Existing photo blob missing from cache for hash: ${$} (ID: ${D})`)),g.log(`[Save] Keeping existing photo ID: ${D}. Is addition? ${Q}. Hash: ${$}`)}D&&s.push({photoId:D,crop:N})}for(const{hash:R,blob:D}of c)await Io(R,D,"full");const b=t.date.toISOString().split("T")[0],m=new Date;let y;if(n?y={...n,date:b,content:t.content,photos:s,updatedAt:m}:y={id:crypto.randomUUID(),date:b,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),x&&w!==null&&v!==null){g.log(`[Save] Deleting entry ${y.id} from local database due to date change`),await lr(ln,y.id),g.log(`[Save] Adding entry ${y.id} to local database due to date change`),await vo(ln,y.id,y);const R=crypto.randomUUID(),D={actionId:R,type:"update",entity:"entry",payload:{entry:y,year:w,month:v,isDateChange:!0,oldYear:w,oldMonth:v},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(D),g.log(`[Save] Date change original month update added to sync queue. ActionId: ${R}`)}else{g.log(`[Save] Saving entry ${y.id} to local database`),await vo(ln,y.id,y);const R=crypto.randomUUID(),D={actionId:R,type:n?"update":"create",entity:"entry",payload:{entry:y,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(D),g.log(`[Save] Entry save added to sync queue. ActionId: ${R}, ID: ${y.id}`)}g.log(`[Save] Queueing metadata update with ${a.length} entries`);const S=crypto.randomUUID(),C={actionId:S,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(C),g.log(`[Save] Metadata update added to sync queue. ActionId: ${S}`),r&&this.dbx&&(g.log("[Save] Online mode - triggering immediate processing of save queue in background"),Gv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Gr(r)){g.log(`[Background] Thumbnail already exists for hash ${t}.`);return}g.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await Wd(n);g.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await Io(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){g.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await qc(10),await Io(r,s,"thumb"),g.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){g.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else g.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){g.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){g.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}g.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){g.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await Bc(this.dbx,a,l);g.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){g.error(`[Cleanup] Error processing entries file ${s}:`,i)}g.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){g.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(g.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var w;if(h.photoFilename)try{if(g.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await RL(this.dbx,h.photoFilename,Ml)){g.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const x=(w=h.photoMetadata)==null?void 0:w.contentHash;x&&(await Rs(x),await Rs(`${x}-thumb`),this.blobUrlManager.revokeUrl(x),this.blobUrlManager.revokeUrl(`${x}-thumb`))}}catch(v){g.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,v)}else g.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),g.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}g.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await Dh(this.dbx,l);for(const c of o)$L(c.id)}else g.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(g.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){g.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?g.log("[Deletion Sync] Photo deletions sync completed successfully"):g.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?g.log("[Deletion Sync] Entry deletions sync completed successfully"):g.error("[Deletion Sync] Entry deletions sync failed:",n.reason),g.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){g.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(g.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Ml)).filter(i=>i[".tag"]==="file").map(i=>i.name);g.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await Bd();if(!r||r.length===0){g.log("[Deletion Sync] No local metadata to check");return}g.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){g.log("[Deletion Sync] No orphaned photo metadata found");return}g.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)g.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await lr(mr,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await Rs(i.photoMetadata.contentHash),await Rs(`${i.photoMetadata.contentHash}-thumb`));g.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(g.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Oi)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);g.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await FL();if(!r||r.length===0){g.log("[Deletion Sync] No local entries to check");return}g.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(g.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>lr(ln,l.id))))}g.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){g.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){g.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}g.log(`[Delete] Deleting entry ${t} from local database`),await lr(ln,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(l),g.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(g.log("[Delete] Online mode - triggering immediate processing of save queue in background"),Gv(this.dbx,o)),g.log("[Delete] deleteEntry operation completed.")}catch(s){throw g.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){g.log("[Prefetch] Skipping prefetch while offline.");return}g.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){g.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>g.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){g.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>g.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var KL="rpc",YL="upload",QL="download",Gd="app",Kd="user",Yd="team",XL="noauth",ZL="cookie",Wc="dropboxapi.com",Qv="dropbox.com",_h={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function JL(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Qd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Wc&&_h[t]!==void 0&&(t=_h[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},ej=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qv;return t!==Qv&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Xv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Wc&&(r=_h[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function Zv(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,JL)}function tj(e){return new Date(Date.now()+e*1e3)}function Jv(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof dA>"u"||typeof window<"u"}function Xd(){return typeof window<"u"}function Zd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Ll(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function ic(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ic=function(n){return typeof n}:ic=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ic(e)}function nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}function oj(e){var t=uE();return function(){var r=Ma(e),o;if(t){var s=Ma(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return sj(this,o)}}function sj(e,t){return t&&(ic(t)==="object"||typeof t=="function")?t:ij(e)}function ij(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nh(e){var t=typeof Map=="function"?new Map:void 0;return Nh=function(r){if(r===null||!aj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return ac(r,arguments,Ma(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ra(o,r)},Nh(e)}function ac(e,t,n){return uE()?ac=Reflect.construct:ac=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Ra(c,i.prototype),c},ac.apply(null,arguments)}function uE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function aj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ra(e,t){return Ra=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ra(e,t)}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ma(e)}var lj=function(e){rj(n,e);var t=oj(n);function n(r,o,s){var i;return nj(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(Nh(Error));function cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var dE=function e(t,n,r){cj(this,e),this.status=t,this.headers=n,this.result=r};function fE(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new lj(e.status,e.headers,n)})}function Hc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new dE(e.status,e.headers,n)}):fE(e)}function uj(e){return e.ok?new Promise(function(t){Jv()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Jv()?n.fileBlob=t:n.fileBinary=t,new dE(e.status,e.headers,n)}):fE(e)}function dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hj(e,t,n){return t&&fj(e.prototype,t),e}var jl,_o,Jd,pj=300*1e3,ew=128,mj=["legacy","offline","online"],gj=["code","token"],yj=["none","user","team"],hE=function(){function e(t){dj(this,e),t=t||{},Xd()?(jl=window.fetch.bind(window),_o=window.crypto||window.msCrypto):Zd()?(jl=self.fetch.bind(self),_o=self.crypto):(jl=require("node-fetch"),_o=require("crypto")),typeof TextEncoder>"u"?Jd=require("util").TextEncoder:Jd=TextEncoder,this.fetch=t.fetch||jl,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return hj(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new Jd,o=r.encode(this.codeVerifier),s;if(Xd()||Zd())return _o.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=Ll(l).substr(0,128),n.codeChallenge=s});var i=_o.createHash("sha256").update(o).digest();return s=Ll(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Xd()||Zd()){var r=new Uint8Array(ew),o=_o.getRandomValues(r),s=btoa(o);n=Ll(s).substr(0,128)}else{var i=_o.randomBytes(ew);n=Ll(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=ej(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!gj.includes(s))throw new Error("Authorization type must be code or token");if(i&&!mj.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!yj.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Xv(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return Hc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+pj)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Xv(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return Hc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(tj(c.result.expires_in))})}}]),e}();function vj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xj(e,t,n){return t&&wj(e.prototype,t),e}var Sj=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,tw=function(){function e(t){vj(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new hE(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return xj(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case KL:return this.rpcRequest(n,r,o,s);case QL:return this.downloadRequest(n,r,o,s);case YL:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Qd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Hc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":Zv(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Qd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return uj(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Zv(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Qd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Hc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Kd)&&this.auth.getAccessToken()?n=Kd:o.includes(Yd)&&this.auth.getAccessToken()?n=Yd:o.includes(Gd)&&(n=Gd)}switch(n){case Gd:if(this.auth.clientId&&this.auth.clientSecret){var s=Sj("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Yd:case Kd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case XL:case ZL:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function bj(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function Cj(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{g.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new hE({clientId:PL}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(y=>{g.log("Generated auth URL, redirecting..."),window.location.href=String(y)}).catch(y=>{g.error("Dropbox auth URL generation failed:",y),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){g.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{g.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const w=f.useCallback((b,m=!1)=>{g.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(g.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(g.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const y=new tw({accessToken:b});let S=!0;return y.usersGetCurrentAccount().then(C=>{if(!S)return;const E=C.result;t(y),r(!0),u(E),c(null),g.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(S)if(g.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),bj(C))g.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{g.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{S&&(g.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{S=!1}},[n]);f.useEffect(()=>{g.log("[useDropboxAuth useEffect] Running effect.");let b,y=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const S=localStorage.getItem("dropboxToken");let C=null;return y?(g.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",y),C=y,g.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):S&&(g.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=S),C?b=w(C,!1):(g.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{b==null||b(),g.log("[useDropboxAuth useEffect] Cleanup.")}},[w]);const v=f.useCallback(()=>{g.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?w(b,!0):g.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,w]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{g.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),b&&new tw({accessToken:b}).authTokenRevoke().then(()=>g.log("Dropbox token revoked successfully.")).catch(y=>g.error("Failed to revoke Dropbox token:",y))},tryVerifyStoredToken:v}}function Ej(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,y)=>{const S=new Date(y,m-1),C=new Date(o,n-1);S>C?a(1):S<C?a(-1):a(0),r(m),s(y)},[n,o]),u=f.useCallback(()=>{let m=n,y=o;m===1?(y--,m=12):m--,d(m,y)},[n,o,d]),h=f.useCallback(()=>{let m=n,y=o;m===12?(y++,m=1):m++,d(m,y)},[n,o,d]),w=f.useCallback((m,y)=>{d(m,y),c(!1)},[d]),v=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),x=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:w,handleCalendarSwipe:v,openMonthYearPicker:x,closeMonthYearPicker:b,setSwipeDirection:a}}function Pj(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((v,x)=>{s(v),r(x),a(!1),t(!0)},[]),u=f.useCallback(v=>{c(v),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),w=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:w}}const ef=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Lh=()=>{const[e,t]=f.useState(ef());f.useEffect(()=>{const r=()=>{const o=ef();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=ef();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},pE=f.createContext(void 0),Tj=({children:e})=>{const{toast:t}=Qa(),[,n]=Lh(),r=f.useRef(!0),o=Cj(),s=Ej(new Date().getMonth()+1,new Date().getFullYear()),i=Pj(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),w=f.useRef(u),[v,x]=f.useState([]),[b,m]=f.useState(!1),[y,S]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[A,R]=f.useState(null),[D,N]=f.useState(null),[$,Q]=f.useState(!1),[j,X]=f.useState("calendar"),[_,L]=f.useState(null),[M,I]=f.useState(null),U=lo.getInstance(),[Y,J]=f.useState(!1),[Ee,K]=f.useState(0),[Je,ae]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;g.log("[AppContext] Setting up periodic storage check and pruning"),qd().catch(q=>{g.error("[AppContext] Periodic storage check/prune error:",q)});const B=setInterval(()=>{r.current&&(g.log("[AppContext] Running periodic storage check and pruning"),qd().catch(q=>{g.error("[AppContext] Periodic storage check/prune error:",q)}))},5*60*1e3);return()=>{clearInterval(B)}},[c,a]),f.useEffect(()=>{const B=()=>r.current&&h(!0),q=()=>r.current&&h(!1);return window.addEventListener("online",B),window.addEventListener("offline",q),g.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),w.current=navigator.onLine,()=>{window.removeEventListener("online",B),window.removeEventListener("offline",q),U.revokeAllUrls()}},[U]),f.useEffect(()=>{!w.current&&u&&(g.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(g.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):g.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),w.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const B=q=>{const H=q;H.message&&H.message.includes("QuotaExceededError")&&(g.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),qc(20).catch(he=>{g.error("[AppContext] Failed to prune cache:",he)})),H.message&&H.message.includes("IndexedDB")&&(g.error("[AppContext] IndexedDB error detected:",H.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",B),()=>{window.removeEventListener("error",B)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(g.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(g.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const q=new Dm(o.dbx);q.on(Ih.ENTRIES_UPDATED,H=>{g.log(`[AppContext] Entries updated event received for ${H.year}-${H.month}`),H.year===s.currentYear&&H.month===s.currentMonth&&(g.log("[AppContext] Updated entries are for current month, refreshing UI"),x(H.entries))}),q.on(Ih.METADATA_UPDATED,H=>{g.log("[AppContext] Metadata updated event received"),S(H.metadata)}),l(q),d(!0),g.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(g.log("[AppContext] Triggering background deletion sync with Dropbox..."),q.syncDeletionsFromDropbox().catch(H=>{g.error("[AppContext] Background deletion sync failed:",H)})),await VL(),E(!0),N(null);try{const H=await q.fetchImagesMetadata(u);r.current&&S(H),g.log(`[AppContext] Initial metadata fetch/load success. Count: ${H.length}`)}catch(H){g.error("[AppContext] Err fetch/load initial metadata:",H),r.current&&N(H instanceof Error?H:new Error("Failed metadata load"))}finally{r.current&&E(!1)}qd().catch(H=>{g.error("[AppContext] Initial storage check/prune error:",H)})}catch(q){g.error("[AppContext] Failed to initialize PhotoJournalClient:",q),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),k(null);const B=s.currentYear,q=s.currentMonth;g.log(`[AppContext] Fetching entries effect triggered for ${B}-${q+1}. Online: ${u}`),a.fetchEntriesForMonth(B,q,u).then(H=>{g.log(`[AppContext] Fetched/Loaded ${H.length} entries for ${B}-${q+1}`),r.current&&(x(H),u&&o.isAuthenticated&&a.triggerPrefetch(B,q,u))}).catch(H=>{g.error(`[AppContext] Err fetch/load entries for ${B}-${q+1}:`,H),r.current&&k(H instanceof Error?H:new Error("Failed entries load"))}).finally(()=>{g.log(`[AppContext] Finished fetching/loading entries for ${B}-${q+1}. isLoadingEntries: false`),r.current&&m(!1)})}else x([]),m(!1),k(null),g.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{U.revokeAllUrls(),o.logout(),L(null),I(null),x([]),S([]),l(null),d(!1)},[o,U]),f.useEffect(()=>{R(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{D&&t({title:"Metadata Error",description:D.message,variant:"destructive"})},[D,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{A&&t({title:"Operation Error",description:A.message,variant:"destructive"})},[A,t]),f.useEffect(()=>{const B=window.location.hash,q=B.match(/shareKey=([\w-]+)/);if(q&&q[1]){const H=q[1];g.log(`[App Context] Share detected via hash, setting shareKeyToProcess: ${H}`),I(H),n("/",{replace:!0})}else B.includes("/phojo/")&&(g.log(`[App Context] Detected incorrect hash path: ${B}, redirecting to root`),n("/",{replace:!0}))},[n]),f.useEffect(()=>{const B=q=>{if(navigator.serviceWorker.controller){const H={type:"GET_STORED_FILES",key:q};g.log(`[App Context] Sending GET_STORED_FILES message to service worker with key: ${q}`),navigator.serviceWorker.controller.postMessage(H),I(null),g.log("[App Context] Set shareKeyToProcess to null after message sent")}else g.warn(`[App Context] SW controller not ready for key: ${q}`)};M&&(g.log(`[App Context] Processing shareKeyToProcess: ${M}`),navigator.serviceWorker.controller?(g.log("[App Context] Service worker controller available, requesting files immediately"),B(M)):(g.log("[App Context] Service worker controller not available, waiting for ready event"),navigator.serviceWorker.ready.then(q=>{q.active&&M?(g.log("[App Context] Service worker now active, requesting files"),B(M)):q.active?g.warn("[App Context] shareKeyToProcess no longer available after SW ready"):g.error("[App Context] Service worker not active after ready.")})))},[M]),f.useEffect(()=>{const B=he=>{const le=he.data;if(!le){g.warn("[App Context] Received SW message with no data");return}g.log(`[App Context] Received SW message of type: ${le.type}`,{key:le.key,filesCount:le.files?le.files.length:"none",error:le.error||"none"}),le.type==="SHARED_FILES_READY"&&le.key?(g.log(`[App Context] Processing SHARED_FILES_READY with key: ${le.key}`),navigator.serviceWorker.controller?(g.log("[App Context] Sending GET_STORED_FILES message to service worker"),navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:le.key})):(g.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"}))):le.type==="STORED_FILES_DATA"&&le.files?le.files.length>0?(g.log(`[App Context] Received ${le.files.length} shared files:`,{types:le.files.map(je=>je.type),sizes:le.files.map(je=>je.size),names:le.files.map(je=>je.name)}),g.log("[App Context] Setting pendingSharedFiles with received files"),L(le.files)):(g.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):le.type==="STORED_FILES_ERROR"&&(g.error("[App Context] Received STORED_FILES_ERROR:",le.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${le.error||"Unknown error"}`,variant:"destructive"}))},q=he=>{r.current&&B(he)};let H=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(he=>{he.active&&r.current?(navigator.serviceWorker.addEventListener("message",q),H=!0,g.log("[App Context] Service worker message listener attached.")):g.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(H&&"serviceWorker"in navigator){g.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",q)}catch(he){g.warn("[App Context] Error removing SW message listener:",he)}}}},[t]),f.useEffect(()=>{_&&g.log(`[AppContext] pendingSharedFiles state changed: ${_?_.length:"null"} files`,{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth}),g.log(`[AppContext] processing shared files, current url is ${window.location.href}`),!o.isLoadingAuth&&_&&_.length>0&&(g.log(`[AppContext] Pending shared files ready for processing: ${_.length} files, navigating to /entry/new`),n("/entry/new"))},[o.isLoadingAuth,_,n]);const pe=f.useCallback(()=>{g.log("[AppContext] Clearing pendingSharedFiles"),L(null)},[]),Be=f.useCallback(B=>{if(navigator.serviceWorker.controller){const q={type:"DELETE_STORED_FILES",key:B};g.log(`[App Context] Sending DELETE_STORED_FILES message to service worker with key: ${B}`),navigator.serviceWorker.controller.postMessage(q)}else g.warn(`[App Context] Cannot delete files - SW controller not available for key: ${B}`)},[]),Ie=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoBlobUrl(B,q,u)}catch(H){return g.error(`getPhotoBlobUrl Error for hash ${B} (ID ${q}):`,H),null}},[a,c,u]),Ge=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoThumbnailUrl(B,q,u)}catch(H){return g.error(`getPhotoThumbnailUrl Error for hash ${B} (ID ${q}):`,H),null}},[a,c,u]),ke=f.useCallback(async B=>{if(!c||!a)throw new Error("Client not ready");let q=[];try{q=await a.fetchImagesMetadata(u),r.current&&y.length===0&&q.length>0&&S(q)}catch(le){g.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",le),q=y}const H=(B.photos||[]).map(async le=>{let je=null,Pe=null;const _e=q.find(oe=>oe.id===le.photoId),O=(_e==null?void 0:_e.photoMetadata)??null,F=(_e==null?void 0:_e.photoFilename)??null,W=O==null?void 0:O.contentHash;if(!W)g.warn(`Metadata or contentHash missing for photoId: ${le.photoId}`);else{const[oe,fe]=await Promise.all([Ie(W,le.photoId),Ge(W,le.photoId)]);je=oe,Pe=fe}return{...le,photoUrl:je,thumbnailUrl:Pe,photoMetadata:O,photoFilename:F}}),he=await Promise.all(H);return{...B,photos:he}},[a,c,y,u,Ie]),z=f.useCallback(async()=>{if(j!=="calendar"||!r.current||!c||!a)return;let B=0;const q=3;let H=document.querySelectorAll(".day-with-image");for(;H.length===0&&B<q;){g.log(`[loadDayBackgrounds] No day elements found, retrying (${B+1}/${q})...`);const F=200*Math.pow(2,B);await new Promise(W=>setTimeout(W,F)),H=document.querySelectorAll(".day-with-image"),B++}if(v.length===0||H.length===0){g.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const he=new Map;v.forEach(F=>{if(F.photos&&F.photos.length>0){const W=he.get(F.date),oe=F.createdAt instanceof Date?F.createdAt:new Date(F.createdAt),fe=(W==null?void 0:W.createdAt)instanceof Date?W.createdAt:new Date(0);(!W||oe.getTime()>fe.getTime())&&he.set(F.date,F)}});let le=[];try{le=await a.fetchImagesMetadata(u),r.current&&y.length===0&&le.length>0&&S(le)}catch(F){g.error("[loadDayBackgrounds] Failed fetch/load metadata:",F),le=y}const je=(F,W,oe)=>{var Ye;if(!r.current)return;const fe=W.crop,me=oe==null?void 0:oe.width,Ce=oe==null?void 0:oe.height,Me=(Ye=F.parentElement)==null?void 0:Ye.getBoundingClientRect(),Ke=(Me==null?void 0:Me.width)??0;if(fe&&me&&Ce&&me>0&&Ce>0&&fe.w>0&&Ke>0){const Qe=Ke/fe.w,bt=me*Qe,$t=Ce*Qe,Nt=-fe.x*Qe,gt=-fe.y*Qe;Object.assign(F.style,{width:`${bt}px`,height:`${$t}px`,transform:`translate(${Nt}px, ${gt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(F.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&F.classList.add("img-loaded")})},Pe=F=>{F.src&&F.src.startsWith("blob:")&&U.revokeUrl(F.getAttribute("data-content-hash")??""),F.removeAttribute("src"),Object.assign(F.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),F.classList.remove("img-loaded"),F.removeAttribute("data-photo-id"),F.removeAttribute("data-content-hash")},_e=new Set;H.forEach(F=>{var Me,Ke;const W=F.getAttribute("data-day");if(!W)return;const fe=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(W))).toISOString().split("T")[0],me=he.get(fe),Ce=(Me=me==null?void 0:me.photos)==null?void 0:Me[0];if(Ce!=null&&Ce.photoId){const Ye=le.find(bt=>bt.id===Ce.photoId),Qe=(Ke=Ye==null?void 0:Ye.photoMetadata)==null?void 0:Ke.contentHash;Qe&&_e.add(Qe)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(F=>{const W=F,oe=W.getAttribute("data-content-hash");oe&&!_e.has(oe)&&Pe(W)});const O=Array.from(H).map(async F=>{var $t,Nt;const W=F.getAttribute("data-day");if(!W)return;const fe=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(W))).toISOString().split("T")[0],me=F.querySelector(".calendar-day-img");if(!me)return;const Ce=he.get(fe),Me=($t=Ce==null?void 0:Ce.photos)==null?void 0:$t[0],Ke=(Me==null?void 0:Me.photoId)??null,Ye=Ke?le.find(gt=>gt.id===Ke):null,Qe=((Nt=Ye==null?void 0:Ye.photoMetadata)==null?void 0:Nt.contentHash)??null,bt=me.getAttribute("data-content-hash");if(bt&&bt!==Qe&&Pe(me),Qe&&a&&bt!==Qe&&Ke&&Me&&(Ye!=null&&Ye.photoMetadata)){me.setAttribute("data-photo-id",Ke),me.setAttribute("data-content-hash",Qe);let gt=null;const Qt=Me.crop,Ct=Ye.photoMetadata.width||0,hs=Ye.photoMetadata.height||0,er=Qt.w*Qt.h/(Ct*hs);(er<.3||Qt.w<300||Qt.h<300)&&Ct>0?(g.log(`[loadDayBackgrounds] Using full image for day ${W} (crop ratio: ${er.toFixed(2)})`),gt=await Ie(Qe,Ke)):gt=await Ge(Qe,Ke),gt&&r.current&&me.getAttribute("data-content-hash")===Qe?(me.src=gt,je(me,Me,Ye.photoMetadata)):r.current&&me.getAttribute("data-content-hash")===Qe&&Pe(me)}else!Qe&&bt&&Pe(me)});await Promise.all(O)},[a,c,v,s,y,j,u,Ie,Ge,U]);f.useEffect(()=>{let B=null;return j==="calendar"&&c&&a?B=setTimeout(()=>{r.current&&(g.log("[AppContext] Triggering loadDayBackgrounds from effect."),z())},500):document.querySelectorAll(".calendar-day-img").forEach(q=>{const H=q;H.src&&H.src.startsWith("blob:")&&U.revokeUrl(H.getAttribute("data-content-hash")??""),H.removeAttribute("src"),Object.assign(H.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),H.classList.remove("img-loaded"),H.removeAttribute("data-photo-id"),H.removeAttribute("data-content-hash")}),()=>{B&&clearTimeout(B)}},[z,j,U,v,y,c,a]);const ye=f.useCallback(B=>{const H=new Date(Date.UTC(s.currentYear,s.currentMonth-1,B)).toISOString().split("T")[0];return v.filter(he=>he.date===H)},[v,s.currentMonth,s.currentYear]),Ae=f.useCallback(B=>v.find(q=>q.id===B),[v]),qe=f.useCallback(async B=>{if(g.log(`[AppContext] loadSpecificEntry called for ID: ${B}`),!c||!a)return g.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const q=Ae(B);if(q)return q;g.log(`[AppContext] loadSpecificEntry: Entry ${B} not in current month. Searching...`);try{const H=await a.listEntryFiles();if(!H)return g.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const he of H){const le=he.match(/^(\d{4})-(\d{2})-entries\.json$/);if(le){const je=parseInt(le[1],10),Pe=parseInt(le[2],10)-1;if(je===s.currentYear&&Pe===s.currentMonth)continue;const O=(await a.fetchEntriesForMonth(je,Pe,u)).find(F=>F.id===B);if(O)return g.log(`[AppContext] loadSpecificEntry: Entry ${B} found in ${je}-${Pe+1}`),O}}}catch(H){g.error("[AppContext] loadSpecificEntry: Error searching other months:",H)}return g.warn(`[AppContext] loadSpecificEntry: Entry ${B} not found in any month.`),null},[a,c,Ae,s.currentYear,s.currentMonth,u]),Tt=f.useCallback(async B=>{if(g.log(`[AppContext handleDayClick] START - Day: ${B}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){g.log("[AppContext handleDayClick] EXIT - Client not ready");return}const q=ye(B),H=new Date(Date.UTC(s.currentYear,s.currentMonth-1,B));if(g.log(`[AppContext handleDayClick] Day: ${B}, Entries found: ${q.length}`),q.length>0)g.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(H,q);else{const he=H.toISOString().split("T")[0];g.log("[AppContext handleDayClick] Navigating to /entry/new for date:",he),n(`/entry/new?date=${he}`)}},[a,c,s.currentMonth,s.currentYear,ye,i.openViewEntriesModal,n,u,t]),kt=f.useCallback(B=>{n(`/entry/edit/${B}`)},[n]),it=f.useCallback(B=>{i.openDeleteConfirmation(B)},[i.openDeleteConfirmation]),at=f.useCallback(async(B,q)=>{if(B.content=B.content.trim(),!c||!a)return R(new Error("Client not ready.")),!1;const H=!o.isAuthenticated||!u;H&&u&&g.log("[AppContext] User is online but not authenticated. Treating as offline mode."),Q(!0),R(null),k(null);try{const he=B.date.getUTCFullYear(),le=B.date.getUTCMonth()+1;let je=null,Pe=null;if(q){const W=new Date(q.date+"T00:00:00Z");je=W.getUTCFullYear(),Pe=W.getUTCMonth()+1}g.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}, Effectively Offline: ${H}`),await a.saveEntry(B,q,!H),H&&t({title:u?"Saved Locally":"Saved Offline",description:u?"Entry saved locally and will sync when you log in.":"Entry saved locally and will sync when online.",variant:"default"});let _e=y,O=v,F=null;try{const W=await zc(he,le);if(W&&W.length>0&&(O=W),q&&(je!==he||Pe!==le)&&je===s.currentYear&&Pe===s.currentMonth){const oe=await zc(je,Pe);oe&&oe.length>0&&(F=oe)}}catch(W){g.error("[AppContext] Error fetching cached entries after offline save:",W)}return r.current&&(S(_e),he===s.currentYear&&le===s.currentMonth?x(O):F!==null&&x(F),(he!==s.currentYear||le!==s.currentMonth)&&s.handleMonthYearSelect(le,he),n("/")),!0}catch(he){return g.error("[AppContext] Save Err: Failed save entry:",he),r.current&&R(he instanceof Error?he:new Error("Failed to save entry")),!1}finally{r.current&&Q(!1)}},[a,c,y,s,n,o.isAuthenticated,i,u,t,v]),Rt=f.useCallback(async()=>{if(!c||!i.entryToDeleteId||!a)return;(!o.isAuthenticated||!u)&&u&&g.log("[AppContext] User is online but not authenticated. Treating as offline mode for deletion."),Q(!0),R(null),k(null);try{const q=i.entryToDeleteId,H=Ae(q);if(H){const he=new Date(H.date+"T00:00:00Z"),le=he.getUTCFullYear(),je=he.getUTCMonth()+1;g.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,le,je,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{g.error(`Delete Error: Could not find entry source for ID ${q}`);const he=await qe(q);if(!he){R(new Error("Could not find entry to delete")),Q(!1),i.closeDeleteDialog();return}const le=new Date(he.date+"T00:00:00Z"),je=le.getUTCFullYear(),Pe=le.getUTCMonth()+1;if(g.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,je,Pe,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),je===s.currentYear&&Pe===s.currentMonth){const _e=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&x(_e)}}if(i.closeDeleteDialog(),i.closeViewModal(),x(he=>he.filter(le=>le.id!==q)),u){const he=await a.fetchImagesMetadata(u).catch(le=>(g.error("Delete Success: Failed post-delete metadata refresh:",le),y));r.current&&S(he)}}catch(q){g.error("[AppContext] Delete Error:",q),r.current&&R(q instanceof Error?q:new Error("Failed to delete entry"))}finally{r.current&&Q(!1)}},[a,c,i,v,s,Ae,qe,o.isAuthenticated,u,t,y]),Se=f.useCallback(async()=>{try{if(r.current){const B=await Da();K(B.length)}}catch(B){g.error("[AppContext] Error getting pending sync count:",B)}},[]),$e=f.useCallback(async()=>{if(Y){g.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await Se(),Ee!=0&&(r.current&&(J(!0),ae(null)),lE(o.dbx,u,B=>{Se(),Ee<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(B,q)=>{r.current&&ae(q),t({title:"Sync Error",description:`Failed to sync some changes: ${q.message}`,variant:"destructive"})}).catch(B=>{g.error("[AppContext] Error processing save queue:",B),r.current&&ae(B instanceof Error?B:new Error("Failed to sync changes"))}).finally(()=>{Se(),r.current&&J(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,Se,Ee,Y]);f.useEffect(()=>{Se();const B=setInterval(()=>{Se()},3e4);return()=>clearInterval(B)},[Se]),f.useEffect(()=>{u&&!w.current&&o.isAuthenticated?(g.log("[AppContext] Coming back online, triggering background sync"),$e()):Se(),w.current=u},[u,o.isAuthenticated,$e,Se]),f.useEffect(()=>{u&&c&&a&&(g.log("[AppContext] Checking for items in save queue due to client ready"),$e())},[c,a,u,$e]);const _t={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:Y,pendingSyncCount:Ee,syncError:Je,triggerBackgroundSync:$e,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:j,setMonthViewType:X,currentMonthEntries:v,isLoadingEntries:b,imagesMetadata:y,isLoadingImagesMeta:C,entriesError:P,operationError:A,imagesMetaError:D,setEntriesError:k,setImagesMetaError:N,clearOperationError:()=>R(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:$,handleSaveEntry:at,handleDeleteEntry:Rt,loadDayBackgrounds:z,getPhotoBlobUrl:Ie,getPhotoThumbnailUrl:Ge,getCombinedEntryDetails:ke,getEntriesForDay:ye,getEntryById:Ae,loadSpecificEntry:qe,handleDayClick:Tt,handleEditRequest:kt,handleDeleteRequest:it,pendingSharedFiles:_,clearPendingSharedFiles:pe,setPendingSharedFiles:L,deleteSharedFilesFromStorage:Be,navigate:n};return p.jsx(pE.Provider,{value:_t,children:e})};function Zn(){const e=f.useContext(pE);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const kj=Za("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Aj({className:e,variant:t,...n}){return p.jsx("div",{className:re(kj({variant:t}),e),...n})}function Dj(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=Zn();if(!e||!t&&n===0&&!r)return null;let s=Nv,i="",a="",l="outline";return r?(s=oC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=e_,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Nv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(GC,{children:p.jsxs(gL,{children:[p.jsx(yL,{asChild:!0,children:p.jsxs(Xe,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:re("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(Aj,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(KC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var Rj=f.createContext(void 0);function el(e){const t=f.useContext(Rj);return e||t||"ltr"}var tf="rovingFocusGroup.onEntryFocus",Mj={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[jh,mE,Ij]=ku(Vu),[_j,Bu]=hn(Vu,[Ij]),[Nj,Lj]=_j(Vu),gE=f.forwardRef((e,t)=>p.jsx(jh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(jh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(jj,{...e,ref:t})})}));gE.displayName=Vu;var jj=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),w=Fe(t,h),v=el(s),[x=null,b]=wr({prop:i,defaultProp:a,onChange:l}),[m,y]=f.useState(!1),S=dt(c),C=mE(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(tf,S),()=>A.removeEventListener(tf,S)},[S]),p.jsx(Nj,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:x,onItemFocus:f.useCallback(A=>b(A),[b]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:f.useCallback(()=>k(A=>A-1),[]),children:p.jsx(xe.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:w,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{E.current=!0}),onFocus:se(e.onFocus,A=>{const R=!E.current;if(A.target===A.currentTarget&&R&&!m){const D=new CustomEvent(tf,Mj);if(A.currentTarget.dispatchEvent(D),!D.defaultPrevented){const N=C().filter(_=>_.focusable),$=N.find(_=>_.active),Q=N.find(_=>_.id===x),X=[$,Q,...N].filter(Boolean).map(_=>_.ref.current);wE(X,d)}}E.current=!1}),onBlur:se(e.onBlur,()=>y(!1))})})}),yE="RovingFocusGroupItem",vE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Qo(),l=s||a,c=Lj(yE,n),d=c.currentTabStopId===l,u=mE(n),{onFocusableItemAdd:h,onFocusableItemRemove:w}=c;return f.useEffect(()=>{if(r)return h(),()=>w()},[r,h,w]),p.jsx(jh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(xe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:se(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:se(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=$j(v,c.orientation,c.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let m=u().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")m.reverse();else if(x==="prev"||x==="next"){x==="prev"&&m.reverse();const y=m.indexOf(v.currentTarget);m=c.loop?Uj(m,y+1):m.slice(y+1)}setTimeout(()=>wE(m))}})})})});vE.displayName=yE;var Fj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Oj(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $j(e,t,n){const r=Oj(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Fj[r]}function wE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Uj(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var xE=gE,SE=vE,Vj="Toggle",Rm=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=wr({prop:n,onChange:o,defaultProp:r});return p.jsx(xe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:se(e.onClick,()=>{e.disabled||a(!i)})})});Rm.displayName=Vj;var bE=Rm,Ei="ToggleGroup",[CE,J4]=hn(Ei,[Bu]),EE=Bu(),Mm=Et.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(Bj,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(zj,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ei}\``)});Mm.displayName=Ei;var[PE,TE]=CE(Ei),Bj=Et.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=wr({prop:n,defaultProp:r,onChange:o});return p.jsx(PE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:Et.useCallback(()=>a(""),[a]),children:p.jsx(kE,{...s,ref:t})})}),zj=Et.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=wr({prop:n,defaultProp:r,onChange:o}),l=Et.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=Et.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(PE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(kE,{...s,ref:t})})});Mm.displayName=Ei;var[qj,Wj]=CE(Ei),kE=Et.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=EE(n),d=el(i),u={role:"group",dir:d,...l};return p.jsx(qj,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(xE,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(xe.div,{...u,ref:t})}):p.jsx(xe.div,{...u,ref:t})})}),Gc="ToggleGroupItem",AE=Et.forwardRef((e,t)=>{const n=TE(Gc,e.__scopeToggleGroup),r=Wj(Gc,e.__scopeToggleGroup),o=EE(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=Et.useRef(null);return r.rovingFocus?p.jsx(SE,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(nw,{...a,ref:t})}):p.jsx(nw,{...a,ref:t})});AE.displayName=Gc;var nw=Et.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=TE(Gc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Rm,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),DE=Mm,RE=AE;const ME=Za("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),Hj=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(bE,{ref:o,className:re(ME({variant:t,size:n,className:e})),...r}));Hj.displayName=bE.displayName;const IE=f.createContext({size:"default",variant:"default"}),_E=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(DE,{ref:s,className:re("flex items-center justify-center gap-1",e),...o,children:p.jsx(IE.Provider,{value:{variant:t,size:n},children:r})}));_E.displayName=DE.displayName;const Fh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(IE);return p.jsx(RE,{ref:s,className:re(ME({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});Fh.displayName=RE.displayName;var Gj=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(w){(Array.isArray(e)?e:[e]).forEach(v=>{let x=v==="class",b=x&&s?o.map(m=>s[m]||m):o;x?(l.classList.remove(...b),l.classList.add(s&&s[w]?s[w]:w)):l.setAttribute(v,w)}),u(w)}function u(w){a&&c.includes(w)&&(l.style.colorScheme=w)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let w=localStorage.getItem(t)||n,v=i&&w==="system"?h():w;d(v)}catch{}},rw=["light","dark"],NE="(prefers-color-scheme: dark)",Kj=typeof window>"u",Im=f.createContext(void 0),Yj={setTheme:e=>{},themes:[]},_m=()=>{var e;return(e=f.useContext(Im))!=null?e:Yj},Qj=e=>f.useContext(Im)?f.createElement(f.Fragment,null,e.children):f.createElement(Zj,{...e}),Xj=["light","dark"],Zj=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=Xj,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,w]=f.useState(()=>eF(o,i)),[v,x]=f.useState(()=>h==="system"?nf():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=nf());let k=l?l[P]:P,A=t?tF(d):null,R=document.documentElement,D=N=>{N==="class"?(R.classList.remove(...b),k&&R.classList.add(k)):N.startsWith("data-")&&(k?R.setAttribute(N,k):R.removeAttribute(N))};if(Array.isArray(a)?a.forEach(D):D(a),r){let N=rw.includes(i)?i:null,$=rw.includes(P)?P:N;R.style.colorScheme=$}A==null||A()},[d]),y=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;w(P);try{localStorage.setItem(o,P)}catch{}},[h]),S=f.useCallback(E=>{let P=nf(E);x(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(NE);return E.addListener(S),S(E),()=>E.removeListener(S)},[S]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?w(P.newValue):y(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[y]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?v:h,themes:n?[...s,"system"]:s,systemTheme:n?v:void 0}),[h,y,e,v,n,s]);return f.createElement(Im.Provider,{value:C},f.createElement(Jj,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},Jj=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Gj.toString()})(${d})`}})}),eF=(e,t)=>{if(Kj)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},tF=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},nf=e=>(e||(e=window.matchMedia(NE)),e.matches?"dark":"light"),Nm="Avatar",[nF,e3]=hn(Nm),[rF,LE]=nF(Nm),jE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(rF,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(xe.span,{...r,ref:t})})});jE.displayName=Nm;var FE="AvatarImage",OE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=LE(FE,n),a=oF(r,s),l=dt(c=>{o(c),i.onImageLoadingStatusChange(c)});return jn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(xe.img,{...s,ref:t,src:r}):null});OE.displayName=FE;var $E="AvatarFallback",UE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=LE($E,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(xe.span,{...o,ref:t}):null});UE.displayName=$E;function ow(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oF(e,{referrerPolicy:t,crossOrigin:n}){const r=iF(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>ow(s,e));return jn(()=>{a(ow(s,e))},[s,e]),jn(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function sF(){return()=>{}}function iF(){return f.useSyncExternalStore(sF,()=>!0,()=>!1)}var VE=jE,BE=OE,zE=UE;const qE=f.forwardRef(({className:e,...t},n)=>p.jsx(VE,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));qE.displayName=VE.displayName;const aF=f.forwardRef(({className:e,...t},n)=>p.jsx(BE,{ref:n,className:re("aspect-square h-full w-full",e),...t}));aF.displayName=BE.displayName;const WE=f.forwardRef(({className:e,...t},n)=>p.jsx(zE,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));WE.displayName=zE.displayName;var rf=0;function HE(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sw()),document.body.insertAdjacentElement("beforeend",e[1]??sw()),rf++,()=>{rf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rf--}},[])}function sw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var of="focusScope.autoFocusOnMount",sf="focusScope.autoFocusOnUnmount",iw={bubbles:!1,cancelable:!0},lF="FocusScope",Lm=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=dt(o),d=dt(s),u=f.useRef(null),h=Fe(t,x=>l(x)),w=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(S){if(w.paused||!a)return;const C=S.target;a.contains(C)?u.current=C:Kr(u.current,{select:!0})},b=function(S){if(w.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Kr(u.current,{select:!0}))},m=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Kr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const y=new MutationObserver(m);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),y.disconnect()}}},[r,a,w.paused]),f.useEffect(()=>{if(a){lw.add(w);const x=document.activeElement;if(!a.contains(x)){const m=new CustomEvent(of,iw);a.addEventListener(of,c),a.dispatchEvent(m),m.defaultPrevented||(cF(pF(GE(a)),{select:!0}),document.activeElement===x&&Kr(a))}return()=>{a.removeEventListener(of,c),setTimeout(()=>{const m=new CustomEvent(sf,iw);a.addEventListener(sf,d),a.dispatchEvent(m),m.defaultPrevented||Kr(x??document.body,{select:!0}),a.removeEventListener(sf,d),lw.remove(w)},0)}}},[a,c,d,w]);const v=f.useCallback(x=>{if(!n&&!r||w.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(b&&m){const y=x.currentTarget,[S,C]=uF(y);S&&C?!x.shiftKey&&m===C?(x.preventDefault(),n&&Kr(S,{select:!0})):x.shiftKey&&m===S&&(x.preventDefault(),n&&Kr(C,{select:!0})):m===y&&x.preventDefault()}},[n,r,w.paused]);return p.jsx(xe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Lm.displayName=lF;function cF(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Kr(r,{select:t}),document.activeElement!==n)return}function uF(e){const t=GE(e),n=aw(t,e),r=aw(t.reverse(),e);return[n,r]}function GE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function aw(e,t){for(const n of e)if(!dF(n,{upTo:t}))return n}function dF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fF(e){return e instanceof HTMLInputElement&&"select"in e}function Kr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fF(e)&&t&&e.select()}}var lw=hF();function hF(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=cw(e,t),e.unshift(t)},remove(t){var n;e=cw(e,t),(n=e[0])==null||n.resume()}}}function cw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function pF(e){return e.filter(t=>t.tagName!=="A")}var mF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ms=new WeakMap,Fl=new WeakMap,Ol={},af=0,KE=function(e){return e&&(e.host||KE(e.parentNode))},gF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=KE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yF=function(e,t,n,r){var o=gF(t,Array.isArray(e)?e:[e]);Ol[n]||(Ol[n]=new WeakMap);var s=Ol[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var w=h.getAttribute(r),v=w!==null&&w!=="false",x=(ms.get(h)||0)+1,b=(s.get(h)||0)+1;ms.set(h,x),s.set(h,b),i.push(h),x===1&&v&&Fl.set(h,!0),b===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),af++,function(){i.forEach(function(u){var h=ms.get(u)-1,w=s.get(u)-1;ms.set(u,h),s.set(u,w),h||(Fl.has(u)||u.removeAttribute(r),Fl.delete(u)),w||u.removeAttribute(n)}),af--,af||(ms=new WeakMap,ms=new WeakMap,Fl=new WeakMap,Ol={})}},YE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=mF(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),yF(r,o,n,"aria-hidden")):function(){return null}},dr=function(){return dr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},dr.apply(this,arguments)};function QE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function vF(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var lc="right-scroll-bar-position",cc="width-before-scroll-bar",wF="with-scroll-bars-hidden",xF="--removed-body-scroll-bar-size";function lf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function SF(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var bF=typeof window<"u"?f.useLayoutEffect:f.useEffect,uw=new WeakMap;function CF(e,t){var n=SF(null,function(r){return e.forEach(function(o){return lf(o,r)})});return bF(function(){var r=uw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||lf(a,null)}),s.forEach(function(a){o.has(a)||lf(a,i)})}uw.set(n,e)},[e]),n}function EF(e){return e}function PF(e,t){t===void 0&&(t=EF);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function TF(e){e===void 0&&(e={});var t=PF(null);return t.options=dr({async:!0,ssr:!1},e),t}var XE=function(e){var t=e.sideCar,n=QE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,dr({},n))};XE.isSideCarExport=!0;function kF(e,t){return e.useMedium(t),XE}var ZE=TF(),cf=function(){},zu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:cf,onWheelCapture:cf,onTouchMoveCapture:cf}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,w=e.noIsolation,v=e.inert,x=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,y=e.gapMode,S=QE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=CF([n,t]),P=dr(dr({},S),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:ZE,removeScrollBar:c,shards:u,noIsolation:w,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:y}),i?f.cloneElement(f.Children.only(a),dr(dr({},P),{ref:E})):f.createElement(m,dr({},P,{className:l,ref:E}),a))});zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zu.classNames={fullWidth:cc,zeroRight:lc};var AF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AF();return t&&e.setAttribute("nonce",t),e}function RF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var IF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=DF())&&(RF(t,n),MF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_F=function(){var e=IF();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},JE=function(){var e=_F(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},NF={left:0,top:0,right:0,gap:0},uf=function(e){return parseInt(e||"",10)||0},LF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[uf(n),uf(r),uf(o)]},jF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NF;var t=LF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},FF=JE(),Hs="data-scroll-locked",OF=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hs,`] {
    `).concat(xF,": ").concat(a,`px;
  }
`)},dw=function(){var e=parseInt(document.body.getAttribute(Hs)||"0",10);return isFinite(e)?e:0},$F=function(){f.useEffect(function(){return document.body.setAttribute(Hs,(dw()+1).toString()),function(){var e=dw()-1;e<=0?document.body.removeAttribute(Hs):document.body.setAttribute(Hs,e.toString())}},[])},UF=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;$F();var s=f.useMemo(function(){return jF(o)},[o]);return f.createElement(FF,{styles:OF(s,!t,o,n?"":"!important")})},Oh=!1;if(typeof window<"u")try{var $l=Object.defineProperty({},"passive",{get:function(){return Oh=!0,!0}});window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Oh=!1}var gs=Oh?{passive:!1}:!1,VF=function(e){return e.tagName==="TEXTAREA"},e1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!VF(e)&&n[t]==="visible")},BF=function(e){return e1(e,"overflowY")},zF=function(e){return e1(e,"overflowX")},fw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=t1(e,r);if(o){var s=n1(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qF=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},WF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},t1=function(e,t){return e==="v"?BF(t):zF(t)},n1=function(e,t){return e==="v"?qF(t):WF(t)},HF=function(e,t){return e==="h"&&t==="rtl"?-1:1},GF=function(e,t,n,r,o){var s=HF(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var w=n1(e,a),v=w[0],x=w[1],b=w[2],m=x-b-s*v;(v||m)&&t1(e,a)&&(u+=m,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hw=function(e){return[e.deltaX,e.deltaY]},pw=function(e){return e&&"current"in e?e.current:e},KF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QF=0,ys=[];function XF(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(QF++)[0],s=f.useState(JE)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=vF([e.lockRef.current],(e.shards||[]).map(pw),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var m=Ul(x),y=n.current,S="deltaX"in x?x.deltaX:y[0]-m[0],C="deltaY"in x?x.deltaY:y[1]-m[1],E,P=x.target,k=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&k==="h"&&P.type==="range")return!1;var A=fw(k,P);if(!A)return!0;if(A?E=k:(E=k==="v"?"h":"v",A=fw(k,P)),!A)return!1;if(!r.current&&"changedTouches"in x&&(S||C)&&(r.current=E),!E)return!0;var R=r.current||E;return GF(R,b,x,R==="h"?S:C,!0)},[]),l=f.useCallback(function(x){var b=x;if(!(!ys.length||ys[ys.length-1]!==s)){var m="deltaY"in b?hw(b):Ul(b),y=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&KF(E.delta,m)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var S=(i.current.shards||[]).map(pw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=S.length>0?a(b,S[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(x,b,m,y){var S={name:x,delta:b,target:m,should:y,shadowParent:ZF(m)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=f.useCallback(function(x){n.current=Ul(x),r.current=void 0},[]),u=f.useCallback(function(x){c(x.type,hw(x),x.target,a(x,e.lockRef.current))},[]),h=f.useCallback(function(x){c(x.type,Ul(x),x.target,a(x,e.lockRef.current))},[]);f.useEffect(function(){return ys.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,gs),document.addEventListener("touchmove",l,gs),document.addEventListener("touchstart",d,gs),function(){ys=ys.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,gs),document.removeEventListener("touchmove",l,gs),document.removeEventListener("touchstart",d,gs)}},[]);var w=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(s,{styles:YF(o)}):null,w?f.createElement(UF,{gapMode:e.gapMode}):null)}function ZF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JF=kF(ZE,XF);var jm=f.forwardRef(function(e,t){return f.createElement(zu,dr({},e,{ref:t,sideCar:JF}))});jm.classNames=zu.classNames;var $h=["Enter"," "],e2=["ArrowDown","PageUp","Home"],r1=["ArrowUp","PageDown","End"],t2=[...e2,...r1],n2={ltr:[...$h,"ArrowRight"],rtl:[...$h,"ArrowLeft"]},r2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tl="Menu",[Ia,o2,s2]=ku(tl),[us,o1]=hn(tl,[s2,ju,Bu]),qu=ju(),s1=Bu(),[i2,ds]=us(tl),[a2,nl]=us(tl),i1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=qu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=dt(s),h=el(o);return f.useEffect(()=>{const w=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),p.jsx(LC,{...a,children:p.jsx(i2,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(a2,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};i1.displayName=tl;var l2="MenuAnchor",Fm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=qu(n);return p.jsx(jC,{...o,...r,ref:t})});Fm.displayName=l2;var Om="MenuPortal",[c2,a1]=us(Om,{forceMount:void 0}),l1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=ds(Om,t);return p.jsx(c2,{scope:t,forceMount:n,children:p.jsx(pn,{present:n||s.open,children:p.jsx(Au,{asChild:!0,container:o,children:r})})})};l1.displayName=Om;var _n="MenuContent",[u2,$m]=us(_n),c1=f.forwardRef((e,t)=>{const n=a1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ds(_n,e.__scopeMenu),i=nl(_n,e.__scopeMenu);return p.jsx(Ia.Provider,{scope:e.__scopeMenu,children:p.jsx(pn,{present:r||s.open,children:p.jsx(Ia.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(d2,{...o,ref:t}):p.jsx(f2,{...o,ref:t})})})})}),d2=f.forwardRef((e,t)=>{const n=ds(_n,e.__scopeMenu),r=f.useRef(null),o=Fe(t,r);return f.useEffect(()=>{const s=r.current;if(s)return YE(s)},[]),p.jsx(Um,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),f2=f.forwardRef((e,t)=>{const n=ds(_n,e.__scopeMenu);return p.jsx(Um,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),h2=di("MenuContent.ScrollLock"),Um=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:w,disableOutsideScroll:v,...x}=e,b=ds(_n,n),m=nl(_n,n),y=qu(n),S=s1(n),C=o2(n),[E,P]=f.useState(null),k=f.useRef(null),A=Fe(t,k,b.onContentChange),R=f.useRef(0),D=f.useRef(""),N=f.useRef(0),$=f.useRef(null),Q=f.useRef("right"),j=f.useRef(0),X=v?jm:f.Fragment,_=v?{as:h2,allowPinchZoom:!0}:void 0,L=I=>{var pe,Be;const U=D.current+I,Y=C().filter(Ie=>!Ie.disabled),J=document.activeElement,Ee=(pe=Y.find(Ie=>Ie.ref.current===J))==null?void 0:pe.textValue,K=Y.map(Ie=>Ie.textValue),Je=P2(K,U,Ee),ae=(Be=Y.find(Ie=>Ie.textValue===Je))==null?void 0:Be.ref.current;(function Ie(Ge){D.current=Ge,window.clearTimeout(R.current),Ge!==""&&(R.current=window.setTimeout(()=>Ie(""),1e3))})(U),ae&&setTimeout(()=>ae.focus())};f.useEffect(()=>()=>window.clearTimeout(R.current),[]),HE();const M=f.useCallback(I=>{var Y,J;return Q.current===((Y=$.current)==null?void 0:Y.side)&&k2(I,(J=$.current)==null?void 0:J.area)},[]);return p.jsx(u2,{scope:n,searchRef:D,onItemEnter:f.useCallback(I=>{M(I)&&I.preventDefault()},[M]),onItemLeave:f.useCallback(I=>{var U;M(I)||((U=k.current)==null||U.focus(),P(null))},[M]),onTriggerLeave:f.useCallback(I=>{M(I)&&I.preventDefault()},[M]),pointerGraceTimerRef:N,onPointerGraceIntentChange:f.useCallback(I=>{$.current=I},[]),children:p.jsx(X,{..._,children:p.jsx(Lm,{asChild:!0,trapped:o,onMountAutoFocus:se(s,I=>{var U;I.preventDefault(),(U=k.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:w,children:p.jsx(xE,{asChild:!0,...S,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:se(l,I=>{m.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(FC,{role:"menu","aria-orientation":"vertical","data-state":P1(b.open),"data-radix-menu-content":"",dir:m.dir,...y,...x,ref:A,style:{outline:"none",...x.style},onKeyDown:se(x.onKeyDown,I=>{const Y=I.target.closest("[data-radix-menu-content]")===I.currentTarget,J=I.ctrlKey||I.altKey||I.metaKey,Ee=I.key.length===1;Y&&(I.key==="Tab"&&I.preventDefault(),!J&&Ee&&L(I.key));const K=k.current;if(I.target!==K||!t2.includes(I.key))return;I.preventDefault();const ae=C().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);r1.includes(I.key)&&ae.reverse(),C2(ae)}),onBlur:se(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(R.current),D.current="")}),onPointerMove:se(e.onPointerMove,_a(I=>{const U=I.target,Y=j.current!==I.clientX;if(I.currentTarget.contains(U)&&Y){const J=I.clientX>j.current?"right":"left";Q.current=J,j.current=I.clientX}}))})})})})})})});c1.displayName=_n;var p2="MenuGroup",Vm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(xe.div,{role:"group",...r,ref:t})});Vm.displayName=p2;var m2="MenuLabel",u1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(xe.div,{...r,ref:t})});u1.displayName=m2;var Kc="MenuItem",mw="menu.itemSelect",Wu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=nl(Kc,e.__scopeMenu),a=$m(Kc,e.__scopeMenu),l=Fe(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(mw,{bubbles:!0,cancelable:!0});u.addEventListener(mw,w=>r==null?void 0:r(w),{once:!0}),cm(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(d1,{...o,ref:l,disabled:n,onClick:se(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:se(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:se(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||$h.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Wu.displayName=Kc;var d1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=$m(Kc,n),a=s1(n),l=f.useRef(null),c=Fe(t,l),[d,u]=f.useState(!1),[h,w]=f.useState("");return f.useEffect(()=>{const v=l.current;v&&w((v.textContent??"").trim())},[s.children]),p.jsx(Ia.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(SE,{asChild:!0,...a,focusable:!r,children:p.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:se(e.onPointerMove,_a(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,_a(v=>i.onItemLeave(v))),onFocus:se(e.onFocus,()=>u(!0)),onBlur:se(e.onBlur,()=>u(!1))})})})}),g2="MenuCheckboxItem",f1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(y1,{scope:e.__scopeMenu,checked:n,children:p.jsx(Wu,{role:"menuitemcheckbox","aria-checked":Yc(n)?"mixed":n,...o,ref:t,"data-state":zm(n),onSelect:se(o.onSelect,()=>r==null?void 0:r(Yc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});f1.displayName=g2;var h1="MenuRadioGroup",[y2,v2]=us(h1,{value:void 0,onValueChange:()=>{}}),p1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=dt(r);return p.jsx(y2,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Vm,{...o,ref:t})})});p1.displayName=h1;var m1="MenuRadioItem",g1=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=v2(m1,e.__scopeMenu),s=n===o.value;return p.jsx(y1,{scope:e.__scopeMenu,checked:s,children:p.jsx(Wu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":zm(s),onSelect:se(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});g1.displayName=m1;var Bm="MenuItemIndicator",[y1,w2]=us(Bm,{checked:!1}),v1=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=w2(Bm,n);return p.jsx(pn,{present:r||Yc(s.checked)||s.checked===!0,children:p.jsx(xe.span,{...o,ref:t,"data-state":zm(s.checked)})})});v1.displayName=Bm;var x2="MenuSeparator",w1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});w1.displayName=x2;var S2="MenuArrow",x1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=qu(n);return p.jsx(OC,{...o,...r,ref:t})});x1.displayName=S2;var b2="MenuSub",[t3,S1]=us(b2),qi="MenuSubTrigger",b1=f.forwardRef((e,t)=>{const n=ds(qi,e.__scopeMenu),r=nl(qi,e.__scopeMenu),o=S1(qi,e.__scopeMenu),s=$m(qi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(Fm,{asChild:!0,...c,children:p.jsx(d1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":P1(n.open),...e,ref:Tu(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,_a(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,_a(u=>{var w,v;d();const h=(w=n.content)==null?void 0:w.getBoundingClientRect();if(h){const x=(v=n.content)==null?void 0:v.dataset.side,b=x==="right",m=b?-5:5,y=h[b?"left":"right"],S=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:y,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,u=>{var w;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||n2[r.dir].includes(u.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),u.preventDefault())})})})});b1.displayName=qi;var C1="MenuSubContent",E1=f.forwardRef((e,t)=>{const n=a1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ds(_n,e.__scopeMenu),i=nl(_n,e.__scopeMenu),a=S1(C1,e.__scopeMenu),l=f.useRef(null),c=Fe(t,l);return p.jsx(Ia.Provider,{scope:e.__scopeMenu,children:p.jsx(pn,{present:r||s.open,children:p.jsx(Ia.Slot,{scope:e.__scopeMenu,children:p.jsx(Um,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var w;const u=d.currentTarget.contains(d.target),h=r2[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(w=a.trigger)==null||w.focus(),d.preventDefault())})})})})})});E1.displayName=C1;function P1(e){return e?"open":"closed"}function Yc(e){return e==="indeterminate"}function zm(e){return Yc(e)?"indeterminate":e?"checked":"unchecked"}function C2(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function E2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function P2(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=E2(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function T2(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function k2(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return T2(n,t)}function _a(e){return t=>t.pointerType==="mouse"?e(t):void 0}var A2=i1,D2=Fm,R2=l1,M2=c1,I2=Vm,_2=u1,N2=Wu,L2=f1,j2=p1,F2=g1,O2=v1,$2=w1,U2=x1,V2=b1,B2=E1,qm="DropdownMenu",[z2,n3]=hn(qm,[o1]),on=o1(),[q2,T1]=z2(qm),k1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=on(t),c=f.useRef(null),[d=!1,u]=wr({prop:o,defaultProp:s,onChange:i});return p.jsx(q2,{scope:t,triggerId:Qo(),triggerRef:c,contentId:Qo(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(A2,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};k1.displayName=qm;var A1="DropdownMenuTrigger",D1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=T1(A1,n),i=on(n);return p.jsx(D2,{asChild:!0,...i,children:p.jsx(xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Tu(t,s.triggerRef),onPointerDown:se(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:se(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});D1.displayName=A1;var W2="DropdownMenuPortal",R1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=on(t);return p.jsx(R2,{...r,...n})};R1.displayName=W2;var M1="DropdownMenuContent",I1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=T1(M1,n),s=on(n),i=f.useRef(!1);return p.jsx(M2,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:se(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I1.displayName=M1;var H2="DropdownMenuGroup",G2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(I2,{...o,...r,ref:t})});G2.displayName=H2;var K2="DropdownMenuLabel",_1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(_2,{...o,...r,ref:t})});_1.displayName=K2;var Y2="DropdownMenuItem",N1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(N2,{...o,...r,ref:t})});N1.displayName=Y2;var Q2="DropdownMenuCheckboxItem",L1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(L2,{...o,...r,ref:t})});L1.displayName=Q2;var X2="DropdownMenuRadioGroup",Z2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(j2,{...o,...r,ref:t})});Z2.displayName=X2;var J2="DropdownMenuRadioItem",j1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(F2,{...o,...r,ref:t})});j1.displayName=J2;var eO="DropdownMenuItemIndicator",F1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(O2,{...o,...r,ref:t})});F1.displayName=eO;var tO="DropdownMenuSeparator",O1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx($2,{...o,...r,ref:t})});O1.displayName=tO;var nO="DropdownMenuArrow",rO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(U2,{...o,...r,ref:t})});rO.displayName=nO;var oO="DropdownMenuSubTrigger",$1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(V2,{...o,...r,ref:t})});$1.displayName=oO;var sO="DropdownMenuSubContent",U1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(B2,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U1.displayName=sO;var iO=k1,aO=D1,lO=R1,V1=I1,B1=_1,z1=N1,q1=L1,W1=j1,H1=F1,G1=O1,K1=$1,Y1=U1;const Wm=iO,Hm=aO,cO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(K1,{ref:o,className:re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(Jb,{className:"ml-auto"})]}));cO.displayName=K1.displayName;const uO=f.forwardRef(({className:e,...t},n)=>p.jsx(Y1,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));uO.displayName=Y1.displayName;const Hu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(lO,{children:p.jsx(V1,{ref:r,sideOffset:t,className:re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Hu.displayName=V1.displayName;const ss=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(z1,{ref:r,className:re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ss.displayName=z1.displayName;const dO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(q1,{ref:o,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(H1,{children:p.jsx(Zb,{className:"h-4 w-4"})})}),t]}));dO.displayName=q1.displayName;const fO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(W1,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(H1,{children:p.jsx(BI,{className:"h-2 w-2 fill-current"})})}),t]}));fO.displayName=W1.displayName;const Q1=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(B1,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Q1.displayName=B1.displayName;const Uh=f.forwardRef(({className:e,...t},n)=>p.jsx(G1,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));Uh.displayName=G1.displayName;function X1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gm="Switch",[hO,r3]=hn(Gm),[pO,mO]=hO(Gm),Z1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,w]=f.useState(null),v=Fe(t,S=>w(S)),x=f.useRef(!1),b=h?d||!!h.closest("form"):!0,[m=!1,y]=wr({prop:o,defaultProp:s,onChange:c});return p.jsxs(pO,{scope:n,checked:m,disabled:a,children:[p.jsx(xe.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":tP(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:v,onClick:se(e.onClick,S=>{y(C=>!C),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&p.jsx(gO,{control:h,bubbles:!x.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Z1.displayName=Gm;var J1="SwitchThumb",eP=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=mO(J1,n);return p.jsx(xe.span,{"data-state":tP(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});eP.displayName=J1;var gO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=X1(n),a=bm(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tP(e){return e?"checked":"unchecked"}var nP=Z1,yO=eP;const rP=f.forwardRef(({className:e,...t},n)=>p.jsx(nP,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(yO,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rP.displayName=nP.displayName;function vO(){const{userInfo:e,isLoadingAuth:t,logout:n}=Zn(),{theme:r,setTheme:o,resolvedTheme:s}=_m(),i=s==="dark";if(t||!e)return p.jsx(Xe,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Ht,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(Wm,{children:[p.jsx(Hm,{asChild:!0,children:p.jsx(Xe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(qE,{className:"h-8 w-8",children:p.jsx(WE,{children:$_(e.name.display_name)})})})}),p.jsxs(Hu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(Q1,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(Uh,{}),p.jsx(ss,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(ZI,{className:"mr-2 h-4 w-4"}):p.jsx(n_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(rP,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(Uh,{}),p.jsxs(ss,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(YI,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function wO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=Zn();_m();const[,c]=im(),{toast:d}=Qa(),u=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{g.log("[Header] setLocation instance type:",typeof c)},[c]);const w=x=>{g.log("[Header] New Entry Link clicked. Href:",x.currentTarget.href)},v=x=>{const b=x.target.files;if(b&&b.length>0){const m=Array.from(b),y=m.filter(C=>!C.type.startsWith("image/"));y.length>0&&d({title:"Invalid File Type",description:`Only image files are allowed. ${y.map(C=>C.name).join(", ")} ${y.length===1?"was":"were"} ignored.`,variant:"destructive"});const S=m.filter(C=>C.type.startsWith("image/"));S.length>0?(i(S),g.log(`[Header] Set ${S.length} selected files as pending.`)):g.log("[Header] No valid image files selected.")}else g.log("[Header] No files selected.");x.target&&(x.target.value="")};return p.jsxs("header",{className:re("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(r_,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),h&&p.jsxs("div",{className:re("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(eC,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Xe,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(KI,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:u,onChange:v,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:re("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(_E,{type:"single",size:"sm",value:o,onValueChange:x=>{x&&s(x)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(Fh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(qI,{className:"h-4 w-4"})}),p.jsx(Fh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(GI,{className:"h-4 w-4"})})]}),p.jsx(Dj,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(pM,{href:"/entry/new",onClick:w,children:p.jsx(Xe,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!a,title:a?"New Entry":"New entry disabled while offline",children:p.jsx(JI,{className:"h-4 w-4"})})}),p.jsx(vO,{})]})]})]})]})}function xO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Gu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Vh=e=>Array.isArray(e);function oP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Na(e){return typeof e=="string"||Array.isArray(e)}function gw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Km(e,t,n,r){if(typeof t=="function"){const[o,s]=gw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=gw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Ku(e,t,n){const r=e.getProps();return Km(r,t,n!==void 0?n:r.custom,e)}const Ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qm=["initial",...Ym],rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fs=new Set(rl),Mr=e=>e*1e3,Ir=e=>e/1e3,SO={type:"spring",stiffness:500,damping:25,restSpeed:10},bO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CO={type:"keyframes",duration:.8},EO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PO=(e,{keyframes:t})=>t.length>2?CO:fs.has(e)?e.startsWith("scale")?bO(t[1]):SO:EO;function Xm(e,t){return e?e[t]||e.default||e:void 0}const TO={skipAnimations:!1,useManualTiming:!1},kO=e=>e!==null;function Yu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(kO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Kt=e=>e;let Bh=Kt;function AO(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const w=u&&r?t:n;return d&&s.add(c),w.has(c)||w.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const Vl=["read","resolveKeyframes","update","preRender","render","postRender"],DO=40;function sP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=Vl.reduce((m,y)=>(m[y]=AO(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,w=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,DO),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(w))},v=()=>{n=!0,r=!0,o.isProcessing||e(w)};return{schedule:Vl.reduce((m,y)=>{const S=i[y];return m[y]=(C,E=!1,P=!1)=>(n||v(),S.schedule(C,E,P)),m},{}),cancel:m=>{for(let y=0;y<Vl.length;y++)i[Vl[y]].cancel(m)},state:o,steps:i}}const{schedule:et,cancel:To,state:jt,steps:df}=sP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),iP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RO=1e-7,MO=12;function IO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=iP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>RO&&++a<MO);return i}function ol(e,t,n,r){if(e===t&&n===r)return Kt;const o=s=>IO(s,0,1,e,n);return s=>s===0||s===1?s:iP(o(s),t,r)}const aP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lP=e=>t=>1-e(1-t),cP=ol(.33,1.53,.69,.99),Zm=lP(cP),uP=aP(Zm),dP=e=>(e*=2)<1?.5*Zm(e):.5*(2-Math.pow(2,-10*(e-1))),Jm=e=>1-Math.sin(Math.acos(e)),fP=lP(Jm),hP=aP(Jm),pP=e=>/^0[^.\s]+$/u.test(e);function _O(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pP(e):!0}const mP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gP=e=>t=>typeof t=="string"&&t.startsWith(e),yP=gP("--"),NO=gP("var(--"),eg=e=>NO(e)?LO.test(e.split("/*")[0].trim()):!1,LO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FO(e){const t=jO.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function vP(e,t,n=1){const[r,o]=FO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return mP(i)?parseFloat(i):i}return eg(o)?vP(o,t,n+1):o}const Ur=(e,t,n)=>n>t?t:n<e?e:n,Pi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},La={...Pi,transform:e=>Ur(0,1,e)},Bl={...Pi,default:1},sl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=sl("deg"),gr=sl("%"),ge=sl("px"),OO=sl("vh"),$O=sl("vw"),yw={...gr,parse:e=>gr.parse(e)/100,transform:e=>gr.transform(e*100)},UO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vw=e=>e===Pi||e===ge,ww=(e,t)=>parseFloat(e.split(", ")[t]),xw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return ww(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?ww(s[1],e):0}},VO=new Set(["x","y","z"]),BO=rl.filter(e=>!VO.has(e));function zO(e){const t=[];return BO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const pi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:xw(4,13),y:xw(5,14)};pi.translateX=pi.x;pi.translateY=pi.y;const wP=e=>t=>t.test(e),qO={test:e=>e==="auto",parse:e=>e},xP=[Pi,ge,gr,Yr,$O,OO,qO],Sw=e=>xP.find(wP(e)),Zo=new Set;let zh=!1,qh=!1;function SP(){if(qh){const e=Array.from(Zo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=zO(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qh=!1,zh=!1,Zo.forEach(e=>e.complete()),Zo.clear()}function bP(){Zo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qh=!0)})}function WO(){bP(),SP()}class tg{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zo.add(this),zh||(zh=!0,et.read(bP),et.resolveKeyframes(SP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oa=e=>Math.round(e*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HO(e){return e==null}const GO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rg=(e,t)=>n=>!!(typeof n=="string"&&GO.test(n)&&n.startsWith(e)||t&&!HO(n)&&Object.prototype.hasOwnProperty.call(n,t)),CP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(ng);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},KO=e=>Ur(0,255,e),ff={...Pi,transform:e=>Math.round(KO(e))},Bo={test:rg("rgb","red"),parse:CP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ff.transform(e)+", "+ff.transform(t)+", "+ff.transform(n)+", "+oa(La.transform(r))+")"};function YO(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Wh={test:rg("#"),parse:YO,transform:Bo.transform},Ms={test:rg("hsl","hue"),parse:CP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gr.transform(oa(t))+", "+gr.transform(oa(n))+", "+oa(La.transform(r))+")"},qt={test:e=>Bo.test(e)||Wh.test(e)||Ms.test(e),parse:e=>Bo.test(e)?Bo.parse(e):Ms.test(e)?Ms.parse(e):Wh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bo.transform(e):Ms.transform(e)},QO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ng))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(QO))===null||n===void 0?void 0:n.length)||0)>0}const EP="number",PP="color",ZO="var",JO="var(",bw="${}",e$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ja(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(e$,l=>(qt.test(l)?(r.color.push(s),o.push(PP),n.push(qt.parse(l))):l.startsWith(JO)?(r.var.push(s),o.push(ZO),n.push(l)):(r.number.push(s),o.push(EP),n.push(parseFloat(l))),++s,bw)).split(bw);return{values:n,split:a,indexes:r,types:o}}function TP(e){return ja(e).values}function kP(e){const{split:t,types:n}=ja(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===EP?s+=oa(o[i]):a===PP?s+=qt.transform(o[i]):s+=o[i]}return s}}const t$=e=>typeof e=="number"?0:e;function n$(e){const t=TP(e);return kP(e)(t.map(t$))}const ko={test:XO,parse:TP,createTransformer:kP,getAnimatableNone:n$},r$=new Set(["brightness","contrast","saturate","opacity"]);function o$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ng)||[];if(!r)return e;const o=n.replace(r,"");let s=r$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const s$=/\b([a-z-]*)\(.*?\)/gu,Hh={...ko,getAnimatableNone:e=>{const t=e.match(s$);return t?t.map(o$).join(" "):e}},i$={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},a$={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Bl,scaleX:Bl,scaleY:Bl,scaleZ:Bl,skew:Yr,skewX:Yr,skewY:Yr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:La,originX:yw,originY:yw,originZ:ge},Cw={...Pi,transform:Math.round},og={...i$,...a$,zIndex:Cw,size:ge,fillOpacity:La,strokeOpacity:La,numOctaves:Cw},l$={...og,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Hh,WebkitFilter:Hh},sg=e=>l$[e];function AP(e,t){let n=sg(e);return n!==Hh&&(n=ko),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const c$=new Set(["auto","none","0"]);function u$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!c$.has(s)&&ja(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=AP(n,o)}class DP extends tg{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),eg(c))){const d=vP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!UO.has(r)||t.length!==2)return;const[o,s]=t,i=Sw(o),a=Sw(s);if(i!==a)if(vw(i)&&vw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)_O(t[o])&&r.push(o);r.length&&u$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=pi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ig(e){return typeof e=="function"}let uc;function d$(){uc=void 0}const yr={now:()=>(uc===void 0&&yr.set(jt.isProcessing||TO.useManualTiming?jt.timestamp:performance.now()),uc),set:e=>{uc=e,queueMicrotask(d$)}},Ew=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ko.test(e)||e==="0")&&!e.startsWith("url("));function f$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function h$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=Ew(o,t),a=Ew(s,t);return!i||!a?!1:f$(e)||(n==="spring"||ig(n))&&r}const p$=40;class RP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>p$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&WO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!h$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Yu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const mi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},MP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(mi(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function IP(e,t){return t?e*(1e3/t):0}const m$=5;function _P(e,t,n){const r=Math.max(t-m$,0);return IP(n-e(r),t-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hf=.001;function g$({duration:e=vt.duration,bounce:t=vt.bounce,velocity:n=vt.velocity,mass:r=vt.mass}){let o,s,i=1-t;i=Ur(vt.minDamping,vt.maxDamping,i),e=Ur(vt.minDuration,vt.maxDuration,Ir(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,w=Gh(c,i),v=Math.exp(-u);return hf-h/w*v},s=c=>{const u=c*i*e,h=u*n+n,w=Math.pow(i,2)*Math.pow(c,2)*e,v=Math.exp(-u),x=Gh(Math.pow(c,2),i);return(-o(c)+hf>0?-1:1)*((h-w)*v)/x}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-hf+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=v$(o,s,a);if(e=Mr(e),isNaN(l))return{stiffness:vt.stiffness,damping:vt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const y$=12;function v$(e,t,n){let r=n;for(let o=1;o<y$;o++)r=r-e(r)/t(r);return r}function Gh(e,t){return e*Math.sqrt(1-t*t)}const Kh=2e4;function NP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Kh;)t+=n,r=e.next(t);return t>=Kh?1/0:t}const w$=["duration","bounce"],x$=["stiffness","damping","mass"];function Pw(e,t){return t.some(n=>e[n]!==void 0)}function S$(e){let t={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...e};if(!Pw(e,x$)&&Pw(e,w$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Ur(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:vt.mass,stiffness:o,damping:s}}else{const n=g$(e);t={...t,...n,mass:vt.mass},t.isResolvedFromDuration=!0}return t}function LP(e=vt.visualDuration,t=vt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:w}=S$({...n,velocity:-Ir(n.velocity||0)}),v=h||0,x=c/(2*Math.sqrt(l*d)),b=i-s,m=Ir(Math.sqrt(l/d)),y=Math.abs(b)<5;r||(r=y?vt.restSpeed.granular:vt.restSpeed.default),o||(o=y?vt.restDelta.granular:vt.restDelta.default);let S;if(x<1){const E=Gh(m,x);S=P=>{const k=Math.exp(-x*m*P);return i-k*((v+x*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(x===1)S=E=>i-Math.exp(-m*E)*(b+(v+m*b)*E);else{const E=m*Math.sqrt(x*x-1);S=P=>{const k=Math.exp(-x*m*P),A=Math.min(E*P,300);return i-k*((v+x*m*b)*Math.sinh(A)+E*b*Math.cosh(A))/E}}const C={calculatedDuration:w&&u||null,next:E=>{const P=S(E);if(w)a.done=E>=u;else{let k=0;x<1&&(k=E===0?Mr(v):_P(S,E,P));const A=Math.abs(k)<=r,R=Math.abs(i-P)<=o;a.done=A&&R}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(NP(C),Kh),P=MP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function Tw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},w=A=>a!==void 0&&A<a||l!==void 0&&A>l,v=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let x=n*t;const b=u+x,m=i===void 0?b:i(b);m!==b&&(x=m-u);const y=A=>-x*Math.exp(-A/r),S=A=>m+y(A),C=A=>{const R=y(A),D=S(A);h.done=Math.abs(R)<=c,h.value=h.done?m:D};let E,P;const k=A=>{w(h.value)&&(E=A,P=LP({keyframes:[h.value,v(h.value)],velocity:_P(S,A,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let R=!1;return!P&&E===void 0&&(R=!0,C(A),k(A)),E!==void 0&&A>=E?P.next(A-E):(!R&&C(A),h)}}}const b$=ol(.42,0,1,1),C$=ol(0,0,.58,1),jP=ol(.42,0,.58,1),E$=e=>Array.isArray(e)&&typeof e[0]!="number",ag=e=>Array.isArray(e)&&typeof e[0]=="number",kw={linear:Kt,easeIn:b$,easeInOut:jP,easeOut:C$,circIn:Jm,circInOut:hP,circOut:fP,backIn:Zm,backInOut:uP,backOut:cP,anticipate:dP},Aw=e=>{if(ag(e)){Bh(e.length===4);const[t,n,r,o]=e;return ol(t,n,r,o)}else if(typeof e=="string")return Bh(kw[e]!==void 0),kw[e];return e},P$=(e,t)=>n=>t(e(n)),wo=(...e)=>e.reduce(P$),ft=(e,t,n)=>e+(t-e)*n;function pf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function T$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=pf(l,a,e+1/3),s=pf(l,a,e),i=pf(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Qc(e,t){return n=>n>0?t:e}const mf=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},k$=[Wh,Bo,Ms],A$=e=>k$.find(t=>t.test(e));function Dw(e){const t=A$(e);if(!t)return!1;let n=t.parse(e);return t===Ms&&(n=T$(n)),n}const Rw=(e,t)=>{const n=Dw(e),r=Dw(t);if(!n||!r)return Qc(e,t);const o={...n};return s=>(o.red=mf(n.red,r.red,s),o.green=mf(n.green,r.green,s),o.blue=mf(n.blue,r.blue,s),o.alpha=ft(n.alpha,r.alpha,s),Bo.transform(o))},Yh=new Set(["none","hidden"]);function D$(e,t){return Yh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function R$(e,t){return n=>ft(e,t,n)}function lg(e){return typeof e=="number"?R$:typeof e=="string"?eg(e)?Qc:qt.test(e)?Rw:_$:Array.isArray(e)?FP:typeof e=="object"?qt.test(e)?Rw:M$:Qc}function FP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>lg(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function M$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=lg(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function I$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const _$=(e,t)=>{const n=ko.createTransformer(t),r=ja(e),o=ja(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Yh.has(e)&&!o.values.length||Yh.has(t)&&!r.values.length?D$(e,t):wo(FP(I$(r,o),o.values),n):Qc(e,t)};function OP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ft(e,t,n):lg(e)(e,t)}function N$(e,t,n){const r=[],o=n||OP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Kt:t;a=wo(l,a)}r.push(a)}return r}function L$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Bh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=N$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=mi(e[d],e[d+1],c);return i[d](u)};return n?c=>l(Ur(e[0],e[s-1],c)):l}function j$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=mi(0,t,r);e.push(ft(n,1,o))}}function F$(e){const t=[0];return j$(t,e.length-1),t}function O$(e,t){return e.map(n=>n*t)}function $$(e,t){return e.map(()=>t||jP).splice(0,e.length-1)}function Xc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=E$(r)?r.map(Aw):Aw(r),s={done:!1,value:t[0]},i=O$(n&&n.length===t.length?n:F$(t),e),a=L$(i,t,{ease:Array.isArray(o)?o:$$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const U$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>et.update(t,!0),stop:()=>To(t),now:()=>jt.isProcessing?jt.timestamp:yr.now()}},V$={decay:Tw,inertia:Tw,tween:Xc,keyframes:Xc,spring:LP},B$=e=>e/100;class cg extends RP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||tg,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=ig(n)?n:V$[n]||Xc;let l,c;a!==Xc&&typeof t[0]!="number"&&(l=wo(B$,OP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=NP(d));const{calculatedDuration:u}=d,h=u+o,w=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:w,repeatType:v,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=s;if(w){const A=Math.min(this.currentTime,d)/u;let R=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(v==="reverse"?(D=1-D,x&&(D-=x/u)):v==="mirror"&&(C=i)),S=Ur(0,1,D)*u}const E=y?{done:!1,value:l[0]}:C.next(S);a&&(E.value=a(E.value));let{done:P}=E;!y&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Yu(l,this.options,o)),b&&b(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Ir(t.calculatedDuration):0}get time(){return Ir(this.currentTime)}set time(t){t=Mr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=U$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const z$=new Set(["opacity","clipPath","filter","transform"]);function ug(e){let t;return()=>(t===void 0&&(t=e()),t)}const q$={linearEasing:void 0};function W$(e,t){const n=ug(e);return()=>{var r;return(r=q$[t])!==null&&r!==void 0?r:n()}}const Zc=W$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function $P(e){return!!(typeof e=="function"&&Zc()||!e||typeof e=="string"&&(e in Qh||Zc())||ag(e)||Array.isArray(e)&&e.every($P))}const Wi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wi([0,.65,.55,1]),circOut:Wi([.55,0,1,.45]),backIn:Wi([.31,.01,.66,-.59]),backOut:Wi([.33,1.53,.69,.99])};function UP(e,t){if(e)return typeof e=="function"&&Zc()?MP(e,t):ag(e)?Wi(e):Array.isArray(e)?e.map(n=>UP(n,t)||Qh.easeOut):Qh[e]}function H$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=UP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function Mw(e,t){e.timeline=t,e.onfinish=null}const G$=ug(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jc=10,K$=2e4;function Y$(e){return ig(e.type)||e.type==="spring"||!$P(e.ease)}function Q$(e,t){const n=new cg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<K$;)r=n.sample(s),o.push(r.value),s+=Jc;return{times:void 0,keyframes:o,duration:s-Jc,ease:"linear"}}const VP={anticipate:dP,backInOut:uP,circInOut:hP};function X$(e){return e in VP}class Iw extends RP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new DP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Zc()&&X$(i)&&(i=VP[i]),Y$(this.options)){const{onComplete:h,onUpdate:w,motionValue:v,element:x,...b}=this.options,m=Q$(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=H$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Mw(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Yu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ir(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ir(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Mr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Kt;const{animation:r}=n;Mw(r,t)}return Kt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...w}=this.options,v=new cg({...w,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),x=Mr(this.time);c.setWithVelocity(v.sample(x-Jc).value,v.sample(x).value,Jc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return G$()&&r&&z$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const Z$=ug(()=>window.ScrollTimeline!==void 0);class J${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>Z$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function eU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const dg=(e,t,n,r={},o,s)=>i=>{const a=Xm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};eU(a)||(d={...d,...PO(e,d)}),d.duration&&(d.duration=Mr(d.duration)),d.repeatDelay&&(d.repeatDelay=Mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Yu(d.keyframes,a);if(h!==void 0)return et.update(()=>{d.onUpdate(h),d.onComplete()}),new J$([])}return!s&&Iw.supports(d)?new Iw(d):new cg(d)},tU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),nU=e=>Vh(e)?e[e.length-1]||0:e;function fg(e,t){e.indexOf(t)===-1&&e.push(t)}function hg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class pg{constructor(){this.subscriptions=[]}add(t){return fg(this.subscriptions,t),()=>hg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _w=30,rU=e=>!isNaN(parseFloat(e));class oU{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=yr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pg);const r=this.events[t].add(n);return t==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_w)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_w);return IP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fa(e,t){return new oU(e,t)}function sU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fa(n))}function iU(e,t){const n=Ku(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=nU(s[i]);sU(e,i,a)}}const mg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aU="framerAppearId",BP="data-"+mg(aU);function zP(e){return e.props[BP]}const Gt=e=>!!(e&&e.getVelocity);function lU(e){return!!(Gt(e)&&e.add)}function Xh(e,t){const n=e.getValue("willChange");if(lU(n))return n.add(t)}function cU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function qP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),w=l[u];if(w===void 0||d&&cU(d,u))continue;const v={delay:n,...Xm(i||{},u)};let x=!1;if(window.MotionHandoffAnimation){const m=zP(e);if(m){const y=window.MotionHandoffAnimation(m,u,et);y!==null&&(v.startTime=y,x=!0)}}Xh(e,u),h.start(dg(u,h,w,e.shouldReduceMotion&&fs.has(u)?{type:!1}:v,e,x));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{et.update(()=>{a&&iU(e,a)})}),c}function Zh(e,t,n={}){var r;const o=Ku(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(qP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return uU(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function uU(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(dU).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Zh(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function dU(e,t){return e.sortNodePosition(t)}function fU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Zh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Zh(e,t,n);else{const o=typeof t=="function"?Ku(e,t,n.custom):t;r=Promise.all(qP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const hU=Qm.length;function WP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?WP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hU;n++){const r=Qm[n],o=e.props[r];(Na(o)||o===!1)&&(t[r]=o)}return t}const pU=[...Ym].reverse(),mU=Ym.length;function gU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fU(e,n,r)))}function yU(e){let t=gU(e),n=Nw(),r=!0;const o=l=>(c,d)=>{var u;const h=Ku(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:w,transitionEnd:v,...x}=h;c={...c,...x,...v}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=WP(e.parent)||{},u=[],h=new Set;let w={},v=1/0;for(let b=0;b<mU;b++){const m=pU[b],y=n[m],S=c[m]!==void 0?c[m]:d[m],C=Na(S),E=m===l?y.isActive:null;E===!1&&(v=b);let P=S===d[m]&&S!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),y.protectedKeys={...w},!y.isActive&&E===null||!S&&!y.prevProp||Gu(S)||typeof S=="boolean")continue;const k=vU(y.prevProp,S);let A=k||m===l&&y.isActive&&!P&&C||b>v&&C,R=!1;const D=Array.isArray(S)?S:[S];let N=D.reduce(o(m),{});E===!1&&(N={});const{prevResolvedValues:$={}}=y,Q={...$,...N},j=L=>{A=!0,h.has(L)&&(R=!0,h.delete(L)),y.needsAnimating[L]=!0;const M=e.getValue(L);M&&(M.liveStyle=!1)};for(const L in Q){const M=N[L],I=$[L];if(w.hasOwnProperty(L))continue;let U=!1;Vh(M)&&Vh(I)?U=!oP(M,I):U=M!==I,U?M!=null?j(L):h.add(L):M!==void 0&&h.has(L)?j(L):y.protectedKeys[L]=!0}y.prevProp=S,y.prevResolvedValues=N,y.isActive&&(w={...w,...N}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(P&&k)||R)&&u.push(...D.map(L=>({animation:L,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const y=e.getBaseTarget(m),S=e.getValue(m);S&&(S.liveStyle=!0),b[m]=y??null}),u.push({animation:b})}let x=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var w;return(w=h.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Nw(),r=!0}}}function vU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oP(t,e):!1}function No(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nw(){return{animate:No(!0),whileInView:No(),whileHover:No(),whileTap:No(),whileDrag:No(),whileFocus:No(),exit:No()}}class Mo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wU extends Mo{constructor(t){super(t),t.animationState||(t.animationState=yU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let xU=0;class SU extends Mo{constructor(){super(...arguments),this.id=xU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const bU={animation:{Feature:wU},exit:{Feature:SU}};function CU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const $n={x:!1,y:!1};function HP(){return $n.x||$n.y}function Lw(e){return t=>{t.pointerType==="touch"||HP()||e(t)}}function EU(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=Lw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=Lw(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return CU(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function PU(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const GP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function il(e){return{point:{x:e.pageX,y:e.pageY}}}const TU=e=>t=>GP(t)&&e(t,il(t));function Dr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xo(e,t,n,r){return Dr(e,t,TU(n),r)}const jw=(e,t)=>Math.abs(e-t);function kU(e,t){const n=jw(e.x,t.x),r=jw(e.y,t.y);return Math.sqrt(n**2+r**2)}class KP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=yf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,w=kU(u.offset,{x:0,y:0})>=3;if(!h&&!w)return;const{point:v}=u,{timestamp:x}=jt;this.history.push({...v,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=gf(h,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=yf(u.type==="pointercancel"?this.lastMoveEventInfo:gf(h,this.transformPagePoint),this.history);this.startEvent&&w&&w(u,b),v&&v(u,b)},!GP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=il(t),a=gf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=jt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,yf(a,this.history)),this.removeListeners=wo(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function gf(e,t){return t?{point:t(e.point)}:e}function Fw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yf({point:e},t){return{point:e,delta:Fw(e,YP(t)),offset:Fw(e,AU(t)),velocity:DU(t,.1)}}function AU(e){return e[0]}function YP(e){return e[e.length-1]}function DU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=YP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Mr(t)));)n--;if(!r)return{x:0,y:0};const s=Ir(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Is(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const QP=1e-4,RU=1-QP,MU=1+QP,XP=.01,IU=0-XP,_U=0+XP;function bn(e){return e.max-e.min}function NU(e,t,n){return Math.abs(e-t)<=n}function Ow(e,t,n,r=.5){e.origin=r,e.originPoint=ft(t.min,t.max,e.origin),e.scale=bn(n)/bn(t),e.translate=ft(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RU&&e.scale<=MU||isNaN(e.scale))&&(e.scale=1),(e.translate>=IU&&e.translate<=_U||isNaN(e.translate))&&(e.translate=0)}function sa(e,t,n,r){Ow(e.x,t.x,n.x,r?r.originX:void 0),Ow(e.y,t.y,n.y,r?r.originY:void 0)}function $w(e,t,n){e.min=n.min+t.min,e.max=e.min+bn(t)}function LU(e,t,n){$w(e.x,t.x,n.x),$w(e.y,t.y,n.y)}function Uw(e,t,n){e.min=t.min-n.min,e.max=e.min+bn(t)}function ia(e,t,n){Uw(e.x,t.x,n.x),Uw(e.y,t.y,n.y)}function jU(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ft(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ft(n,e,r.max):Math.min(e,n)),e}function Vw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function FU(e,{top:t,left:n,bottom:r,right:o}){return{x:Vw(e.x,n,o),y:Vw(e.y,t,r)}}function Bw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function OU(e,t){return{x:Bw(e.x,t.x),y:Bw(e.y,t.y)}}function $U(e,t){let n=.5;const r=bn(e),o=bn(t);return o>r?n=mi(t.min,t.max-r,e.min):r>o&&(n=mi(e.min,e.max-o,t.min)),Ur(0,1,n)}function UU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jh=.35;function VU(e=Jh){return e===!1?e=0:e===!0&&(e=Jh),{x:zw(e,"left","right"),y:zw(e,"top","bottom")}}function zw(e,t,n){return{min:qw(e,t),max:qw(e,n)}}function qw(e,t){return typeof e=="number"?e:e[t]||0}const Ww=()=>({translate:0,scale:1,origin:0,originPoint:0}),_s=()=>({x:Ww(),y:Ww()}),Hw=()=>({min:0,max:0}),xt=()=>({x:Hw(),y:Hw()});function kn(e){return[e("x"),e("y")]}function ZP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function BU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vf(e){return e===void 0||e===1}function ep({scale:e,scaleX:t,scaleY:n}){return!vf(e)||!vf(t)||!vf(n)}function Fo(e){return ep(e)||JP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JP(e){return Gw(e.x)||Gw(e.y)}function Gw(e){return e&&e!=="0%"}function eu(e,t,n){const r=e-n,o=t*r;return n+o}function Kw(e,t,n,r,o){return o!==void 0&&(e=eu(e,o,r)),eu(e,n,r)+t}function tp(e,t=0,n=1,r,o){e.min=Kw(e.min,t,n,r,o),e.max=Kw(e.max,t,n,r,o)}function eT(e,{x:t,y:n}){tp(e.x,t.translate,t.scale,t.originPoint),tp(e.y,n.translate,n.scale,n.originPoint)}const Yw=.999999999999,Qw=1.0000000000001;function qU(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ls(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,eT(e,i)),r&&Fo(s.latestValues)&&Ls(e,s.latestValues))}t.x<Qw&&t.x>Yw&&(t.x=1),t.y<Qw&&t.y>Yw&&(t.y=1)}function Ns(e,t){e.min=e.min+t,e.max=e.max+t}function Xw(e,t,n,r,o=.5){const s=ft(e.min,e.max,o);tp(e,t,n,s,r)}function Ls(e,t){Xw(e.x,t.x,t.scaleX,t.scale,t.originX),Xw(e.y,t.y,t.scaleY,t.scale,t.originY)}function tT(e,t){return ZP(zU(e.getBoundingClientRect(),t))}function WU(e,t,n){const r=tT(e,n),{scroll:o}=t;return o&&(Ns(r.x,o.offset.x),Ns(r.y,o.offset.y)),r}const nT=({current:e})=>e?e.ownerDocument.defaultView:null,HU=new WeakMap;class GU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(il(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:w,onDragStart:v}=this.getProps();if(h&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PU(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(gr.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const S=y.layout.layoutBox[b];S&&(m=bn(S)*(parseFloat(m)/100))}}this.originPoint[b]=m}),v&&et.postRender(()=>v(d,u)),Xh(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:w,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=u;if(w&&this.currentDirection===null){this.currentDirection=KU(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),x&&x(d,u)},a=(d,u)=>this.stop(d,u),l=()=>kn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new KP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:nT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&et.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!zl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=jU(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Is(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=FU(o.layoutBox,n):this.constraints=!1,this.elastic=VU(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=UU(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Is(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=WU(r,o.root,this.visualElement.getTransformPagePoint());let i=OU(o.layout.layoutBox,s);if(n){const a=n(BU(i));this.hasMutatedConstraints=!!a,a&&(i=ZP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kn(d=>{if(!zl(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,w=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Xh(this.visualElement,t),r.start(dg(t,r,0,n,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kn(n=>{const{drag:r}=this.getProps();if(!zl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-ft(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Is(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=$U({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(i=>{if(!zl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(ft(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;HU.set(this.visualElement,this);const t=this.visualElement.current,n=xo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Is(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),et.read(r);const i=Dr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Jh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function zl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function KU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class YU extends Mo{constructor(t){super(t),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new GU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zw=e=>(t,n)=>{e&&et.postRender(()=>e(t,n))};class QU extends Mo{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(t){this.session=new KP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zw(t),onStart:Zw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&et.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qu=f.createContext(null);function XU(){const e=f.useContext(Qu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const gg=f.createContext({}),rT=f.createContext({}),dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $i={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=Jw(e,t.target.x),r=Jw(e,t.target.y);return`${n}% ${r}%`}},ZU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ko.parse(e);if(o.length>5)return r;const s=ko.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=ft(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},tu={};function JU(e){Object.assign(tu,e)}const{schedule:yg,cancel:o3}=sP(queueMicrotask,!1);class eV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;JU(tV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||et.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oT(e){const[t,n]=XU(),r=f.useContext(gg);return p.jsx(eV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(rT),isPresent:t,safeToRemove:n})}const tV={borderRadius:{...$i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$i,borderTopRightRadius:$i,borderBottomLeftRadius:$i,borderBottomRightRadius:$i,boxShadow:ZU},sT=["TopLeft","TopRight","BottomLeft","BottomRight"],nV=sT.length,e0=e=>typeof e=="string"?parseFloat(e):e,t0=e=>typeof e=="number"||ge.test(e);function rV(e,t,n,r,o,s){o?(e.opacity=ft(0,n.opacity!==void 0?n.opacity:1,oV(r)),e.opacityExit=ft(t.opacity!==void 0?t.opacity:1,0,sV(r))):s&&(e.opacity=ft(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<nV;i++){const a=`border${sT[i]}Radius`;let l=n0(t,a),c=n0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||t0(l)===t0(c)?(e[a]=Math.max(ft(e0(l),e0(c),r),0),(gr.test(c)||gr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ft(t.rotate||0,n.rotate||0,r))}function n0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const oV=iT(0,.5,fP),sV=iT(.5,.95,Kt);function iT(e,t,n){return r=>r<e?0:r>t?1:n(mi(e,t,r))}function r0(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){r0(e.x,t.x),r0(e.y,t.y)}function o0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function s0(e,t,n,r,o){return e-=t,e=eu(e,1/n,r),o!==void 0&&(e=eu(e,1/o,r)),e}function iV(e,t=0,n=1,r=.5,o,s=e,i=e){if(gr.test(t)&&(t=parseFloat(t),t=ft(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=ft(s.min,s.max,r);e===s&&(a-=t),e.min=s0(e.min,t,n,a,o),e.max=s0(e.max,t,n,a,o)}function i0(e,t,[n,r,o],s,i){iV(e,t[n],t[r],t[o],t.scale,s,i)}const aV=["x","scaleX","originX"],lV=["y","scaleY","originY"];function a0(e,t,n,r){i0(e.x,t,aV,n?n.x:void 0,r?r.x:void 0),i0(e.y,t,lV,n?n.y:void 0,r?r.y:void 0)}function l0(e){return e.translate===0&&e.scale===1}function aT(e){return l0(e.x)&&l0(e.y)}function c0(e,t){return e.min===t.min&&e.max===t.max}function cV(e,t){return c0(e.x,t.x)&&c0(e.y,t.y)}function u0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lT(e,t){return u0(e.x,t.x)&&u0(e.y,t.y)}function d0(e){return bn(e.x)/bn(e.y)}function f0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uV{constructor(){this.members=[]}add(t){fg(this.members,t),t.scheduleRender()}remove(t){if(hg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dV(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:w,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),w&&(r+=`skewX(${w}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fV=(e,t)=>e.depth-t.depth;class hV{constructor(){this.children=[],this.isDirty=!1}add(t){fg(this.children,t),this.isDirty=!0}remove(t){hg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fV),this.isDirty=!1,this.children.forEach(t)}}function fc(e){const t=Gt(e)?e.get():e;return tU(t)?t.toValue():t}function pV(e,t){const n=yr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(To(r),e(s-t))};return et.read(r,!0),()=>To(r)}function mV(e){return e instanceof SVGElement&&e.tagName!=="svg"}function gV(e,t,n){const r=Gt(e)?e:Fa(e);return r.start(dg("",r,t,n)),r.animation}const Oo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hi=typeof window<"u"&&window.MotionDebug!==void 0,wf=["","X","Y","Z"],yV={visibility:"hidden"},h0=1e3;let vV=0;function xf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function cT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=zP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&cT(r)}function uT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=vV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hi&&(Oo.totalNodes=Oo.resolvedTargetDeltas=Oo.recalculatedProjection=0),this.nodes.forEach(SV),this.nodes.forEach(TV),this.nodes.forEach(kV),this.nodes.forEach(bV),Hi&&window.MotionDebug.record(Oo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hV)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new pg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mV(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=pV(h,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(m0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:w,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||IV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),y=!this.targetLayout||!lT(this.targetLayout,v)||w,S=!h&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const C={...Xm(x,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||m0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AV),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p0);return}this.isUpdating||this.nodes.forEach(EV),this.isUpdating=!1,this.nodes.forEach(PV),this.nodes.forEach(wV),this.nodes.forEach(xV),this.clearAllSnapshots();const a=yr.now();jt.delta=Ur(0,1e3/60,a-jt.timestamp),jt.timestamp=a,jt.isProcessing=!0,df.update.process(jt),df.preRender.process(jt),df.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CV),this.sharedNodes.forEach(DV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!aT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||Fo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),_V(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return xt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(NV))){const{scroll:d}=this.root;d&&(Ns(l.x,d.offset.x),Ns(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=xt();if(Tn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Tn(l,i),Ns(l.x,u.offset.x),Ns(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=xt();Tn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ls(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Fo(d.latestValues)&&Ls(l,d.latestValues)}return Fo(this.latestValues)&&Ls(l,this.latestValues),l}removeTransform(i){const a=xt();Tn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fo(c.latestValues))continue;ep(c.latestValues)&&c.updateSnapshot();const d=xt(),u=c.measurePageBox();Tn(d,u),a0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Fo(this.latestValues)&&a0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),ia(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),eT(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),ia(this.relativeTargetOrigin,this.target,w.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hi&&Oo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ep(this.parent.latestValues)||JP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,w=this.treeScale.y;qU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xt());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(o0(this.prevProjectionDelta.x,this.projectionDelta.x),o0(this.prevProjectionDelta.y,this.projectionDelta.y)),sa(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==w||!f0(this.projectionDelta.x,this.prevProjectionDelta.x)||!f0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Hi&&Oo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_s(),this.projectionDelta=_s(),this.projectionDeltaWithTransform=_s()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=_s();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=xt(),w=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=w!==v,b=this.getStack(),m=!b||b.members.length<=1,y=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(MV));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const E=C/1e3;g0(u.x,i.x,E),g0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ia(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RV(this.relativeTarget,this.relativeTargetOrigin,h,E),S&&cV(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=xt()),Tn(S,this.relativeTarget)),x&&(this.animationValues=d,rV(d,c,this.latestValues,E,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=gV(0,h0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&dT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xt();const u=bn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=bn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Tn(a,l),Ls(a,d),sa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new uV),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&xf("z",i,c,this.animationValues);for(let d=0;d<wf.length;d++)xf(`rotate${wf[d]}`,i,c,this.animationValues),xf(`skew${wf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yV;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=fc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=fc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=dV(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:w,y:v}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${v.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in tu){if(h[x]===void 0)continue;const{correct:b,applyTo:m}=tu[x],y=c.transform==="none"?h[x]:b(h[x],u);if(m){const S=m.length;for(let C=0;C<S;C++)c[m[C]]=y}else c[x]=y}return this.options.layoutId&&(c.pointerEvents=u===this?fc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(p0),this.root.sharedNodes.clear()}}}function wV(e){e.updateLayout()}function xV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],w=bn(h);h.min=r[u].min,h.max=h.min+w}):dT(s,n.layoutBox,r)&&kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],w=bn(r[u]);h.max=h.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+w)});const a=_s();sa(a,r,n.layoutBox);const l=_s();i?sa(l,e.applyTransform(o,!0),n.measuredBox):sa(l,r,n.layoutBox);const c=!aT(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:w}=u;if(h&&w){const v=xt();ia(v,n.layoutBox,h.layoutBox);const x=xt();ia(x,r,w.layoutBox),lT(v,x)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function SV(e){Hi&&Oo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CV(e){e.clearSnapshot()}function p0(e){e.clearMeasurements()}function EV(e){e.isLayoutDirty=!1}function PV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function m0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TV(e){e.resolveTargetDelta()}function kV(e){e.calcProjection()}function AV(e){e.resetSkewAndRotation()}function DV(e){e.removeLeadSnapshot()}function g0(e,t,n){e.translate=ft(t.translate,0,n),e.scale=ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function y0(e,t,n,r){e.min=ft(t.min,n.min,r),e.max=ft(t.max,n.max,r)}function RV(e,t,n,r){y0(e.x,t.x,n.x,r),y0(e.y,t.y,n.y,r)}function MV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const IV={duration:.45,ease:[.4,0,.1,1]},v0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w0=v0("applewebkit/")&&!v0("chrome/")?Math.round:Kt;function x0(e){e.min=w0(e.min),e.max=w0(e.max)}function _V(e){x0(e.x),x0(e.y)}function dT(e,t,n){return e==="position"||e==="preserve-aspect"&&!NU(d0(t),d0(n),.2)}function NV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const LV=uT({attachResizeListener:(e,t)=>Dr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sf={current:void 0},fT=uT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sf.current){const e=new LV({});e.mount(window),e.setOptions({layoutScroll:!0}),Sf.current=e}return Sf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jV={pan:{Feature:QU},drag:{Feature:YU,ProjectionNode:fT,MeasureLayout:oT}};function S0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&et.postRender(()=>o(t,il(t)))}class FV extends Mo{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=EU(t,r=>(S0(this.node,r,!0),o=>S0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class OV extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wo(Dr(this.node.current,"focus",()=>this.onFocus()),Dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hT=(e,t)=>t?e===t?!0:hT(e,t.parentElement):!1;function bf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,il(n))}class $V extends Mo{constructor(){super(...arguments),this.removeStartListeners=Kt,this.removeEndListeners=Kt,this.removeAccessibleListeners=Kt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=xo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!hT(this.node.current,a.target)?d:c;h&&et.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=xo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wo(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||bf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&et.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Dr(this.node.current,"keyup",i),bf("down",(a,l)=>{this.startPress(a,l)})},n=Dr(this.node.current,"keydown",t),r=()=>{this.isPressing&&bf("cancel",(s,i)=>this.cancelPress(s,i))},o=Dr(this.node.current,"blur",r);this.removeAccessibleListeners=wo(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!HP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=xo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Dr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const np=new WeakMap,Cf=new WeakMap,UV=e=>{const t=np.get(e.target);t&&t(e)},VV=e=>{e.forEach(UV)};function BV({root:e,...t}){const n=e||document;Cf.has(n)||Cf.set(n,{});const r=Cf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(VV,{root:e,...t})),r[o]}function zV(e,t,n){const r=BV(t);return np.set(e,n),r.observe(e),()=>{np.delete(e),r.unobserve(e)}}const qV={some:0,all:1};class WV extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:qV[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return zV(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(HV(t,n))&&this.startObserver()}unmount(){}}function HV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const GV={inView:{Feature:WV},tap:{Feature:$V},focus:{Feature:OV},hover:{Feature:FV}},KV={layout:{ProjectionNode:fT,MeasureLayout:oT}},vg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xu=f.createContext({}),wg=typeof window<"u",pT=wg?f.useLayoutEffect:f.useEffect,mT=f.createContext({strict:!1});function YV(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Xu),l=f.useContext(mT),c=f.useContext(Qu),d=f.useContext(vg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,w=f.useContext(rT);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&QV(u.current,n,o,w);const v=f.useRef(!1);f.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const x=n[BP],b=f.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return pT(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),yg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,x)}),b.current=!1))}),h}function QV(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Is(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function gT(e){if(e)return e.options.allowProjection!==!1?e.projection:gT(e.parent)}function XV(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Is(n)&&(n.current=r))},[t])}function Zu(e){return Gu(e.animate)||Qm.some(t=>Na(e[t]))}function yT(e){return!!(Zu(e)||e.variants)}function ZV(e,t){if(Zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Na(n)?n:void 0,animate:Na(r)?r:void 0}}return e.inherit!==!1?t:{}}function JV(e){const{initial:t,animate:n}=ZV(e,f.useContext(Xu));return f.useMemo(()=>({initial:t,animate:n}),[b0(t),b0(n)])}function b0(e){return Array.isArray(e)?e.join(" "):e}const C0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gi={};for(const e in C0)gi[e]={isEnabled:t=>C0[e].some(n=>!!t[n])};function eB(e){for(const t in e)gi[t]={...gi[t],...e[t]}}const tB=Symbol.for("motionComponentSymbol");function nB({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&eB(e);function s(a,l){let c;const d={...f.useContext(vg),...a,layoutId:rB(a)},{isStatic:u}=d,h=JV(a),w=r(a,u);if(!u&&wg){oB();const v=sB(d);c=v.MeasureLayout,h.visualElement=YV(o,w,d,t,v.ProjectionNode)}return p.jsxs(Xu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,XV(w,h.visualElement,l),w,u,h.visualElement)]})}const i=f.forwardRef(s);return i[tB]=o,i}function rB({layoutId:e}){const t=f.useContext(gg).id;return t&&e!==void 0?t+"-"+e:e}function oB(e,t){f.useContext(mT).strict}function sB(e){const{drag:t,layout:n}=gi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const iB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xg(e){return typeof e!="string"||e.includes("-")?!1:!!(iB.indexOf(e)>-1||/[A-Z]/u.test(e))}function vT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const wT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xT(e,t,n,r){vT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(wT.has(o)?o:mg(o),t.attrs[o])}function ST(e,{layout:t,layoutId:n}){return fs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!tu[e]||e==="opacity")}function Sg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(Gt(o[i])||t.style&&Gt(t.style[i])||ST(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function bT(e,t,n){const r=Sg(e,t,n);for(const o in e)if(Gt(e[o])||Gt(t[o])){const s=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function bg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function aB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:lB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const CT=e=>(t,n)=>{const r=f.useContext(Xu),o=f.useContext(Qu),s=()=>aB(e,t,r,o);return n?s():bg(s)};function lB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=fc(s[h]);let{initial:i,animate:a}=e;const l=Zu(e),c=yT(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Gu(u)){const h=Array.isArray(u)?u:[u];for(let w=0;w<h.length;w++){const v=Km(e,h[w]);if(v){const{transitionEnd:x,transition:b,...m}=v;for(const y in m){let S=m[y];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(o[y]=S)}for(const y in x)o[y]=x[y]}}}return o}const Cg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ET=()=>({...Cg(),attrs:{}}),PT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,cB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uB=rl.length;function dB(e,t,n){let r="",o=!0;for(let s=0;s<uB;s++){const i=rl[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=PT(a,og[i]);if(!l){o=!1;const d=cB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Eg(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(fs.has(l)){i=!0;continue}else if(yP(l)){o[l]=c;continue}else{const d=PT(c,og[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=dB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function E0(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function fB(e,t,n){const r=E0(t,e.x,e.width),o=E0(n,e.y,e.height);return`${r} ${o}`}const hB={offset:"stroke-dashoffset",array:"stroke-dasharray"},pB={offset:"strokeDashoffset",array:"strokeDasharray"};function mB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?hB:pB;e[s.offset]=ge.transform(-r);const i=ge.transform(t),a=ge.transform(n);e[s.array]=`${i} ${a}`}function Pg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(Eg(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:w,dimensions:v}=e;h.transform&&(v&&(w.transform=h.transform),delete h.transform),v&&(o!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=fB(v,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&mB(h,i,a,l,!1)}const Tg=e=>typeof e=="string"&&e.toLowerCase()==="svg",gB={useVisualState:CT({scrapeMotionValuesFromProps:bT,createRenderState:ET,onMount:(e,t,{renderState:n,latestValues:r})=>{et.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{Pg(n,r,Tg(t.tagName),e.transformTemplate),xT(t,n)})}})},yB={useVisualState:CT({scrapeMotionValuesFromProps:Sg,createRenderState:Cg})};function TT(e,t,n){for(const r in t)!Gt(t[r])&&!ST(r,n)&&(e[r]=t[r])}function vB({transformTemplate:e},t){return f.useMemo(()=>{const n=Cg();return Eg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wB(e,t){const n=e.style||{},r={};return TT(r,n,e),Object.assign(r,vB(e,t)),r}function xB(e,t){const n={},r=wB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const SB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SB.has(e)}let kT=e=>!nu(e);function bB(e){e&&(kT=t=>t.startsWith("on")?!nu(t):e(t))}try{bB(require("@emotion/is-prop-valid").default)}catch{}function CB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(kT(o)||n===!0&&nu(o)||!t&&!nu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function EB(e,t,n,r){const o=f.useMemo(()=>{const s=ET();return Pg(s,t,Tg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};TT(s,e.style,e),o.style={...s,...o.style}}return o}function PB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(xg(n)?EB:xB)(r,s,i,n),c=CB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>Gt(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function TB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...xg(r)?gB:yB,preloadedFeatures:e,useRender:PB(o),createVisualElement:t,Component:r};return nB(i)}}const rp={current:null},AT={current:!1};function kB(){if(AT.current=!0,!!wg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rp.current=e.matches;e.addListener(t),t()}else rp.current=!1}function AB(e,t,n){for(const r in t){const o=t[r],s=n[r];if(Gt(o))e.addValue(r,o);else if(Gt(s))e.addValue(r,Fa(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,Fa(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const P0=new WeakMap,DB=[...xP,qt,ko],RB=e=>DB.find(wP(e)),T0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=yr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,et.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Zu(n),this.isVariantNode=yT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const w=u[h];l[h]!==void 0&&Gt(w)&&w.set(l[h],!1)}}mount(t){this.current=t,P0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AT.current||kB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){P0.delete(this.current),this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=fs.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gi){const n=gi[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<T0.length;r++){const o=T0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=AB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Fa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(mP(o)||pP(o))?o=parseFloat(o):!RB(o)&&ko.test(n)&&(o=AP(t,n)),this.setBaseTarget(t,Gt(o)?o.get():o)),Gt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Km(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Gt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class DT extends MB{constructor(){super(...arguments),this.KeyframeResolver=DP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IB(e){return window.getComputedStyle(e)}class _B extends DT{constructor(){super(...arguments),this.type="html",this.renderInstance=vT}readValueFromInstance(t,n){if(fs.has(n)){const r=sg(n);return r&&r.default||0}else{const r=IB(t),o=(yP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tT(t,n)}build(t,n,r){Eg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Sg(t,n,r)}}class NB extends DT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fs.has(n)){const r=sg(n);return r&&r.default||0}return n=wT.has(n)?n:mg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return bT(t,n,r)}build(t,n,r){Pg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){xT(t,n,r,o)}mount(t){this.isSVGTag=Tg(t.tagName),super.mount(t)}}const LB=(e,t)=>xg(e)?new NB(t):new _B(t,{allowProjection:e!==f.Fragment}),jB=TB({...bU,...GV,...jV,...KV},LB),Ju=xO(jB);class FB extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function OB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(vg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(FB,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const $B=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=bg(UB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(OB,{isPresent:n,children:e})),p.jsx(Qu.Provider,{value:d,children:e})};function UB(){return new Map}const ql=e=>e.key||"";function k0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const kg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>k0(e),[e]),l=a.map(ql),c=f.useRef(!0),d=f.useRef(a),u=bg(()=>new Map),[h,w]=f.useState(a),[v,x]=f.useState(a);pT(()=>{c.current=!1,d.current=a;for(let y=0;y<v.length;y++){const S=ql(v[y]);l.includes(S)?u.delete(S):u.get(S)!==!0&&u.set(S,!1)}},[v,l.length,l.join("-")]);const b=[];if(a!==h){let y=[...a];for(let S=0;S<v.length;S++){const C=v[S],E=ql(C);l.includes(E)||(y.splice(S,0,C),b.push(C))}i==="wait"&&b.length&&(y=b),x(k0(y)),w(a);return}const{forceRender:m}=f.useContext(gg);return p.jsx(p.Fragment,{children:v.map(y=>{const S=ql(y),C=a===v||l.includes(S),E=()=>{if(u.has(S))u.set(S,!0);else return;let P=!0;u.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),x(d.current),o&&o())};return p.jsx($B,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:y},S)})})};function VB({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(Ju.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function BB(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=Zn(),a=50,l=.3,c={enter:v=>({x:v>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:v=>({x:v<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(v,x)=>{const{offset:b,velocity:m}=x;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},u=f.useCallback(v=>{const b=new Date(Date.UTC(t,e-1,v)).toISOString().split("T")[0],m=n.filter(S=>S.date===b);return{hasPhotoEntries:m.some(S=>S.photos&&S.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const v=new Date(t,e-1,0).getDate(),x=new Date(t,e-1,1).getDay(),b=Array(x).fill(null).map((y,S)=>({type:"empty",index:S})),m=Array.from({length:v},(y,S)=>({type:"day",day:S+1}));return[...b,...m]},[e,t]),w=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(v=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:v},v))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(kg,{initial:!1,custom:r,mode:"wait",children:p.jsx(Ju.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:w,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(v=>{const x=m=>m.type==="day",b=x(v)?`day-${v.day}`:`empty-${v.index}`;if(x(v)){const{hasPhotoEntries:m,entryCount:y}=u(v.day);return p.jsx(VB,{day:v.day,hasPhotoEntries:m,entryCount:y,onClick:()=>o(v.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function zB(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=Zn(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Xe,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(VI,{className:"h-4 w-4"})}),p.jsxs(Xe,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(UI,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Xe,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(Jb,{className:"h-4 w-4"})})]})}function Ag(e,[t,n]){return Math.min(n,Math.max(t,e))}function qB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Dg="ScrollArea",[RT,i3]=hn(Dg),[WB,Fn]=RT(Dg),MT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[w,v]=f.useState(null),[x,b]=f.useState(null),[m,y]=f.useState(0),[S,C]=f.useState(0),[E,P]=f.useState(!1),[k,A]=f.useState(!1),R=Fe(t,N=>l(N)),D=el(o);return p.jsx(WB,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:w,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:C,children:p.jsx(xe.div,{dir:D,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});MT.displayName=Dg;var IT="ScrollAreaViewport",_T=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Fn(IT,n),a=f.useRef(null),l=Fe(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_T.displayName=IT;var Sr="ScrollAreaScrollbar",Rg=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(Sr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(HB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(GB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(NT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Mg,{...r,ref:t}):null});Rg.displayName=Sr;var HB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(Sr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(pn,{present:n||s,children:p.jsx(NT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),GB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(Sr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=td(()=>l("SCROLL_END"),100),[a,l]=qB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const w=c[d];u!==w&&(l("SCROLL"),i()),u=w};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(pn,{present:n||a!=="hidden",children:p.jsx(Mg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:se(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),NT=f.forwardRef((e,t)=>{const n=Fn(Sr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=td(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return yi(n.viewport,l),yi(n.content,l),p.jsx(pn,{present:r||s,children:p.jsx(Mg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Mg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Fn(Sr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=$T(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,w){return JB(h,i.current,a,w)}return n==="horizontal"?p.jsx(KB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,w=A0(h,a,o.dir);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(YB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,w=A0(h,a);s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),KB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Fn(Sr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Fe(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(jT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ed(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),VT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ou(i.paddingLeft),paddingEnd:ou(i.paddingRight)}})}})}),YB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Fn(Sr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Fe(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(jT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ed(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),VT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ou(i.paddingTop),paddingEnd:ou(i.paddingBottom)}})}})}),[QB,LT]=RT(Sr),jT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,w=Fn(Sr,n),[v,x]=f.useState(null),b=Fe(t,R=>x(R)),m=f.useRef(null),y=f.useRef(""),S=w.viewport,C=r.content-r.viewport,E=dt(d),P=dt(l),k=td(u,10);function A(R){if(m.current){const D=R.clientX-m.current.left,N=R.clientY-m.current.top;c({x:D,y:N})}}return f.useEffect(()=>{const R=D=>{const N=D.target;(v==null?void 0:v.contains(N))&&E(D,C)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[S,v,C,E]),f.useEffect(P,[r,P]),yi(v,k),yi(w.content,k),p.jsx(QB,{scope:n,scrollbar:v,hasThumb:o,onThumbChange:dt(s),onThumbPointerUp:dt(i),onThumbPositionChange:P,onThumbPointerDown:dt(a),children:p.jsx(xe.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:se(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),m.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),A(R))}),onPointerMove:se(e.onPointerMove,A),onPointerUp:se(e.onPointerUp,R=>{const D=R.target;D.hasPointerCapture(R.pointerId)&&D.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=y.current,w.viewport&&(w.viewport.style.scrollBehavior=""),m.current=null})})})}),ru="ScrollAreaThumb",FT=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=LT(ru,e.__scopeScrollArea);return p.jsx(pn,{present:n||o.hasThumb,children:p.jsx(XB,{ref:t,...r})})}),XB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Fn(ru,n),i=LT(ru,n),{onThumbPositionChange:a}=i,l=Fe(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=td(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const w=ez(u,a);c.current=w,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(xe.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(e.onPointerDownCapture,u=>{const w=u.target.getBoundingClientRect(),v=u.clientX-w.left,x=u.clientY-w.top;i.onThumbPointerDown({x:v,y:x})}),onPointerUp:se(e.onPointerUp,i.onThumbPointerUp)})});FT.displayName=ru;var Ig="ScrollAreaCorner",OT=f.forwardRef((e,t)=>{const n=Fn(Ig,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(ZB,{...e,ref:t}):null});OT.displayName=Ig;var ZB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Fn(Ig,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return yi(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),yi(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(xe.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ou(e){return e?parseInt(e,10):0}function $T(e,t){const n=e/t;return isNaN(n)?0:n}function ed(e){const t=$T(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function JB(e,t,n,r="ltr"){const o=ed(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return UT([l,c],u)(e)}function A0(e,t,n="ltr"){const r=ed(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Ag(e,l);return UT([0,i],[0,a])(c)}function UT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function VT(e,t){return e>0&&e<t}var ez=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function td(e,t){const n=dt(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function yi(e,t){const n=dt(t);jn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var BT=MT,tz=_T,nz=OT;const zT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(BT,{ref:r,className:re("relative overflow-hidden",e),...n,children:[p.jsx(tz,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(qT,{}),p.jsx(nz,{})]}));zT.displayName=BT.displayName;const qT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Rg,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(FT,{className:"relative flex-1 rounded-full bg-border"})}));qT.displayName=Rg.displayName;const rz=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},WT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const w=c.current,v=d.current;if(v){const x=rz(v),b=x*t,y=v.scrollHeight>b+x*.5;l(y),i(w&&!r?w.scrollHeight>w.clientHeight+2||y:!1),w&&!r&&y?(w.style.maxHeight=`${b}px`,w.style.overflow="hidden"):w&&(w.style.maxHeight="",w.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const w=c.current;if(!w)return;const v=new ResizeObserver(()=>{u()});return v.observe(w),()=>v.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:re("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:re("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Xe,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function oz(e){return Object.prototype.toString.call(e)==="[object Object]"}function D0(e){return oz(e)||Array.isArray(e)}function sz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function _g(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!D0(a)||!D0(l)?a===l:_g(a,l)})}function R0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function iz(e,t){if(e.length!==t.length)return!1;const n=R0(e),r=R0(t);return n.every((o,s)=>{const i=r[s];return _g(o,i)})}function Ng(e){return typeof e=="number"}function op(e){return typeof e=="string"}function nd(e){return typeof e=="boolean"}function M0(e){return Object.prototype.toString.call(e)==="[object Object]"}function ht(e){return Math.abs(e)}function Lg(e){return Math.sign(e)}function aa(e,t){return ht(e-t)}function az(e,t){if(e===0||t===0||ht(e)<=ht(t))return 0;const n=aa(ht(e),ht(t));return ht(n/e)}function lz(e){return Math.round(e*100)/100}function Oa(e){return $a(e).map(Number)}function Gn(e){return e[al(e)]}function al(e){return Math.max(0,e.length-1)}function jg(e,t){return t===al(e)}function I0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function $a(e){return Object.keys(e)}function HT(e,t){return[e,t].reduce((n,r)=>($a(r).forEach(o=>{const s=n[o],i=r[o],a=M0(s)&&M0(i);n[o]=a?HT(s,i):i}),n),{})}function sp(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function cz(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return op(e)?n[e](l):e(t,l,c)}return{measure:i}}function Ua(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function uz(e,t,n,r){const o=Ua(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&v()})}function d(){w(),o.clear()}function u(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const y=a/s;r(y),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function w(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function v(){i=null,a=0}return{init:c,destroy:d,start:h,stop:w,update:n,render:r}}function dz(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(v){const{height:x,width:b}=v;return r?x:b}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(v){return v*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function is(e=0,t=0){const n=ht(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function GT(e,t,n){const{constrain:r}=is(0,e),o=e+1;let s=i(t);function i(h){return n?ht((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return GT(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function fz(e,t,n,r,o,s,i,a,l,c,d,u,h,w,v,x,b,m,y){const{cross:S,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Ua(),A=Ua(),R=is(50,225).constrain(w.measure(20)),D={mouse:300,touch:400},N={mouse:500,touch:600},$=v?43:25;let Q=!1,j=0,X=0,_=!1,L=!1,M=!1,I=!1;function U(z){if(!y)return;function ye(qe){(nd(y)||y(z,qe))&&ae(qe)}const Ae=t;k.add(Ae,"dragstart",qe=>qe.preventDefault(),P).add(Ae,"touchmove",()=>{},P).add(Ae,"touchend",()=>{}).add(Ae,"touchstart",ye).add(Ae,"mousedown",ye).add(Ae,"touchcancel",Be).add(Ae,"contextmenu",Be).add(Ae,"click",Ie,!0)}function Y(){k.clear(),A.clear()}function J(){const z=I?n:t;A.add(z,"touchmove",pe,P).add(z,"touchend",Be).add(z,"mousemove",pe,P).add(z,"mouseup",Be)}function Ee(z){const ye=z.nodeName||"";return E.includes(ye)}function K(){return(v?N:D)[I?"mouse":"touch"]}function Je(z,ye){const Ae=u.add(Lg(z)*-1),qe=d.byDistance(z,!v).distance;return v||ht(z)<R?qe:b&&ye?qe*.5:d.byIndex(Ae.get(),0).distance}function ae(z){const ye=sp(z,r);I=ye,M=v&&ye&&!z.buttons&&Q,Q=aa(o.get(),i.get())>=2,!(ye&&z.button!==0)&&(Ee(z.target)||(_=!0,s.pointerDown(z),c.useFriction(0).useDuration(0),o.set(i),J(),j=s.readPoint(z),X=s.readPoint(z,S),h.emit("pointerDown")))}function pe(z){if(!sp(z,r)&&z.touches.length>=2)return Be(z);const Ae=s.readPoint(z),qe=s.readPoint(z,S),Tt=aa(Ae,j),kt=aa(qe,X);if(!L&&!I&&(!z.cancelable||(L=Tt>kt,!L)))return Be(z);const it=s.pointerMove(z);Tt>x&&(M=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(it)),z.preventDefault()}function Be(z){const Ae=d.byDistance(0,!1).index!==u.get(),qe=s.pointerUp(z)*K(),Tt=Je(C(qe),Ae),kt=az(qe,Tt),it=$-10*kt,at=m+kt/50;L=!1,_=!1,A.clear(),c.useDuration(it).useFriction(at),l.distance(Tt,!v),I=!1,h.emit("pointerUp")}function Ie(z){M&&(z.stopPropagation(),z.preventDefault(),M=!1)}function Ge(){return _}return{init:U,destroy:Y,pointerDown:Ge}}function hz(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const v=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(sp(u,t)?u:u.touches[0])[v]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),w=s(u)-s(r)>170;return o=u,w&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),w=s(u)-s(r),v=s(u)-s(o)>170,x=h/w;return w&&!v&&ht(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function pz(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function mz(e){function t(r){return e*(r/100)}return{measure:t}}function gz(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(b){return o.measureSize(i.measure(b))}function w(b){if(!s)return;c=h(e),d=r.map(h);function m(y){for(const S of y){if(u)return;const C=S.target===e,E=r.indexOf(S.target),P=C?c:d[E],k=h(C?e:r[E]);if(ht(k-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(y=>{(nd(s)||s(b,y))&&m(y)}),n.requestAnimationFrame(()=>{a.forEach(y=>l.observe(y))})}function v(){u=!0,l&&l.disconnect()}return{init:w,destroy:v}}function yz(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),k=!l;let A=0;return k?(i=0,n.set(r),e.set(r),A=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),A=d-u),a=Lg(A),u=d,E}function w(){const P=r.get()-t.get();return ht(P)<.001}function v(){return l}function x(){return a}function b(){return i}function m(){return S(o)}function y(){return C(s)}function S(P){return l=P,E}function C(P){return c=P,E}const E={direction:x,duration:v,velocity:b,seek:h,settled:w,useBaseFriction:y,useBaseDuration:m,useFriction:C,useDuration:S};return E}function vz(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=is(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(w){if(!c())return;const v=e.reachedMin(t.get())?"min":"max",x=ht(e[v]-t.get()),b=n.get()-t.get(),m=a.constrain(x/i);n.subtract(b*m),!w&&ht(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(w){l=!w}return{shouldConstrain:c,constrain:d,toggleActive:u}}function wz(e,t,n,r,o){const s=is(-t+e,0),i=u(),a=d(),l=h();function c(v,x){return aa(v,x)<=1}function d(){const v=i[0],x=Gn(i),b=i.lastIndexOf(v),m=i.indexOf(x)+1;return is(b,m)}function u(){return n.map((v,x)=>{const{min:b,max:m}=s,y=s.constrain(v),S=!x,C=jg(n,x);return S?m:C||c(b,y)?b:c(m,y)?m:y}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:v,max:x}=a;return i.slice(v,x)}return{snapsContained:l,scrollContainLimit:a}}function xz(e,t,n){const r=t[0],o=n?r-e:Gn(t);return{limit:is(o,r)}}function Sz(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=is(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const w=e*(h*-1);r.forEach(v=>v.add(w))}return{loop:d}}function bz(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function Cz(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=w();function u(){return a(r).map(x=>Gn(x)[i]-x[0][s]).map(ht)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-ht(x))}function w(){return a(c).map(x=>x[0]).map((x,b)=>x+l[b])}return{snaps:c,snapsAligned:d}}function Ez(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),w=!e||t==="keepSnaps";return n.length===1?[s]:w?h:h.slice(a,l).map((v,x,b)=>{const m=!x,y=jg(b,x);if(m){const S=Gn(b[0])+1;return I0(S)}if(y){const S=al(s)-Gn(b)[0]+1;return I0(S,Gn(b)[0])}return v})}return{slideRegistry:c}}function Pz(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(v){return v.concat().sort((x,b)=>ht(x)-ht(b))[0]}function c(v){const x=e?i(v):a(v),b=t.map((y,S)=>({diff:d(y-x,0),index:S})).sort((y,S)=>ht(y.diff)-ht(S.diff)),{index:m}=b[0];return{index:m,distance:x}}function d(v,x){const b=[v,v+n,v-n];if(!e)return v;if(!x)return l(b);const m=b.filter(y=>Lg(y)===x);return m.length?l(m):Gn(b)-n}function u(v,x){const b=t[v]-o.get(),m=d(b,x);return{index:v,distance:m}}function h(v,x){const b=o.get()+v,{index:m,distance:y}=c(b),S=!e&&s(b);if(!x||S)return{index:m,distance:v};const C=t[m]-y,E=v+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function Tz(e,t,n,r,o,s,i){function a(u){const h=u.distance,w=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),w&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const w=o.byDistance(u,h);a(w)}function c(u,h){const w=t.clone().set(u),v=o.byIndex(w.get(),h);a(v)}return{distance:l,index:c}}function kz(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(w){if(!a)return;function v(x){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const y=n.findIndex(S=>S.includes(x));Ng(y)&&(o.useDuration(0),r.index(y,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((x,b)=>{s.add(x,"focus",m=>{(nd(a)||a(w,m))&&v(b)},l)})}function u(w){w.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Gi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return Ng(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function KT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const w=lz(e.direction(h));w!==o&&(r.transform=n(w),o=w)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function Az(e,t,n,r,o,s,i,a,l){const d=Oa(o),u=Oa(o).reverse(),h=m().concat(y());function w(k,A){return k.reduce((R,D)=>R-o[D],A)}function v(k,A){return k.reduce((R,D)=>w(R,A)>0?R.concat([D]):R,[])}function x(k){return s.map((A,R)=>({start:A-r[R]+.5+k,end:A+t-.5+k}))}function b(k,A,R){const D=x(A);return k.map(N=>{const $=R?0:-n,Q=R?n:0,j=R?"end":"start",X=D[N][j];return{index:N,loopPoint:X,slideLocation:Gi(-1),translate:KT(e,l[N]),target:()=>a.get()>X?$:Q}})}function m(){const k=i[0],A=v(u,k);return b(A,n,!1)}function y(){const k=t-i[0]-1,A=v(d,k);return b(A,-n,!0)}function S(){return h.every(({index:k})=>{const A=d.filter(R=>R!==k);return w(A,t)<=.1})}function C(){h.forEach(k=>{const{target:A,translate:R,slideLocation:D}=k,N=A();N!==D.get()&&(R.to(N),D.set(N))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function Dz(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(nd(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function Rz(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(x=>{const b=t.indexOf(x.target);o[b]=x}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),l=!0}function u(v){return $a(o).reduce((x,b)=>{const m=parseInt(b),{isIntersecting:y}=o[m];return(v&&y||!v&&!y)&&x.push(m),x},[])}function h(v=!0){if(v&&s)return s;if(!v&&i)return i;const x=u(v);return v&&(s=x),v||(i=x),x}return{init:c,destroy:d,get:h}}function Mz(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=v(),u=x(),h=n.map(i),w=b();function v(){if(!c)return 0;const y=n[0];return ht(t[a]-y[a])}function x(){if(!c)return 0;const y=s.getComputedStyle(Gn(r));return parseFloat(y.getPropertyValue(`margin-${l}`))}function b(){return n.map((y,S,C)=>{const E=!S,P=jg(C,S);return E?h[S]+d:P?h[S]+u:C[S+1][a]-y[a]}).map(ht)}return{slideSizes:h,slideSizesWithGaps:w,startGap:d,endGap:u}}function Iz(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=Ng(n);function w(m,y){return Oa(m).filter(S=>S%y===0).map(S=>m.slice(S,S+y))}function v(m){return m.length?Oa(m).reduce((y,S,C)=>{const E=Gn(y)||0,P=E===0,k=S===al(m),A=o[c]-s[E][c],R=o[c]-s[S][d],D=!r&&P?u(i):0,N=!r&&k?u(a):0,$=ht(R-N-(A+D));return C&&$>t+l&&y.push(S),k&&y.push(m.length),y},[]).map((y,S,C)=>{const E=Math.max(C[S-1]||0);return m.slice(E,y)}):[]}function x(m){return h?w(m,n):v(m)}return{groupSlides:x}}function _z(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:w,dragThreshold:v,inViewThreshold:x,slidesToScroll:b,skipSnaps:m,containScroll:y,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,A=pz(),R=A.measure(t),D=n.map(A.measure),N=dz(l,c),$=N.measureSize(R),Q=mz($),j=cz(a,$),X=!u&&!!y,_=u||!!y,{slideSizes:L,slideSizesWithGaps:M,startGap:I,endGap:U}=Mz(N,R,D,n,_,o),Y=Iz(N,$,b,u,R,D,I,U,k),{snaps:J,snapsAligned:Ee}=Cz(N,j,R,D,Y),K=-Gn(J)+Gn(M),{snapsContained:Je,scrollContainLimit:ae}=wz($,K,Ee,y,k),pe=X?Je:Ee,{limit:Be}=xz(K,pe,u),Ie=GT(al(pe),d,u),Ge=Ie.clone(),ke=Oa(n),z=({dragHandler:Pe,scrollBody:_e,scrollBounds:O,options:{loop:F}})=>{F||O.constrain(Pe.pointerDown()),_e.seek()},ye=({scrollBody:Pe,translate:_e,location:O,offsetLocation:F,previousLocation:W,scrollLooper:oe,slideLooper:fe,dragHandler:me,animation:Ce,eventHandler:Me,scrollBounds:Ke,options:{loop:Ye}},Qe)=>{const bt=Pe.settled(),$t=!Ke.shouldConstrain(),Nt=Ye?bt:bt&&$t,gt=Nt&&!me.pointerDown();gt&&Ce.stop();const Qt=O.get()*Qe+W.get()*(1-Qe);F.set(Qt),Ye&&(oe.loop(Pe.direction()),fe.loop()),_e.to(F.get()),gt&&Me.emit("settle"),Nt||Me.emit("scroll")},Ae=uz(r,o,()=>z(je),Pe=>ye(je,Pe)),qe=.68,Tt=pe[Ie.get()],kt=Gi(Tt),it=Gi(Tt),at=Gi(Tt),Rt=Gi(Tt),Se=yz(kt,at,it,Rt,h,qe),$e=Pz(u,pe,K,Be,Rt),_t=Tz(Ae,Ie,Ge,Se,$e,Rt,i),B=bz(Be),q=Ua(),H=Rz(t,n,i,x),{slideRegistry:he}=Ez(X,y,pe,ae,Y,ke),le=kz(e,n,he,_t,Se,q,i,P),je={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:R,slideRects:D,animation:Ae,axis:N,dragHandler:fz(N,e,r,o,Rt,hz(N,o),kt,Ae,_t,Se,$e,Ie,i,Q,w,v,m,qe,E),eventStore:q,percentOfView:Q,index:Ie,indexPrevious:Ge,limit:Be,location:kt,offsetLocation:at,previousLocation:it,options:s,resizeHandler:gz(t,i,o,n,N,S,A),scrollBody:Se,scrollBounds:vz(Be,at,Rt,Se,Q),scrollLooper:Sz(K,Be,at,[kt,at,it,Rt]),scrollProgress:B,scrollSnapList:pe.map(B.get),scrollSnaps:pe,scrollTarget:$e,scrollTo:_t,slideLooper:Az(N,$,K,L,M,J,pe,at,n),slideFocus:le,slidesHandler:Dz(t,i,C),slidesInView:H,slideIndexes:ke,slideRegistry:he,slidesToScroll:Y,target:Rt,translate:KT(N,t)};return je}function Nz(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const Lz={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function jz(e){function t(s,i){return HT(s,i||{})}function n(s){const i=s.breakpoints||{},a=$a(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>$a(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function Fz(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function su(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=jz(o),i=Fz(s),a=Ua(),l=Nz(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:w,emit:v}=l,x=N;let b=!1,m,y=c(Lz,su.globalOptions),S=c(y),C=[],E,P,k;function A(){const{container:ke,slides:z}=S;P=(op(ke)?e.querySelector(ke):ke)||e.children[0];const Ae=op(z)?P.querySelectorAll(z):z;k=[].slice.call(Ae||P.children)}function R(ke){const z=_z(e,P,k,r,o,ke,l);if(ke.loop&&!z.slideLooper.canLoop()){const ye=Object.assign({},ke,{loop:!1});return R(ye)}return z}function D(ke,z){b||(y=c(y,ke),S=d(y),C=z||C,A(),m=R(S),u([y,...C.map(({options:ye})=>ye)]).forEach(ye=>a.add(ye,"change",N)),S.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ge),m.eventHandler.init(Ge),m.resizeHandler.init(Ge),m.slidesHandler.init(Ge),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(Ge),E=i.init(Ge,C)))}function N(ke,z){const ye=Y();$(),D(c({startIndex:ye},ke),z),l.emit("reInit")}function $(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function Q(){b||(b=!0,a.clear(),$(),l.emit("destroy"),l.clear())}function j(ke,z,ye){!S.active||b||(m.scrollBody.useBaseFriction().useDuration(z===!0?0:S.duration),m.scrollTo.index(ke,ye||0))}function X(ke){const z=m.index.add(1).get();j(z,ke,-1)}function _(ke){const z=m.index.add(-1).get();j(z,ke,1)}function L(){return m.index.add(1).get()!==Y()}function M(){return m.index.add(-1).get()!==Y()}function I(){return m.scrollSnapList}function U(){return m.scrollProgress.get(m.offsetLocation.get())}function Y(){return m.index.get()}function J(){return m.indexPrevious.get()}function Ee(){return m.slidesInView.get()}function K(){return m.slidesInView.get(!1)}function Je(){return E}function ae(){return m}function pe(){return e}function Be(){return P}function Ie(){return k}const Ge={canScrollNext:L,canScrollPrev:M,containerNode:Be,internalEngine:ae,destroy:Q,off:w,on:h,emit:v,plugins:Je,previousScrollSnap:J,reInit:x,rootNode:pe,scrollNext:X,scrollPrev:_,scrollProgress:U,scrollSnapList:I,scrollTo:j,selectedScrollSnap:Y,slideNodes:Ie,slidesInView:Ee,slidesNotInView:K};return D(t,n),setTimeout(()=>l.emit("init"),0),Ge}su.globalOptions=void 0;function Fg(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{_g(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{iz(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(sz()&&i){su.globalOptions=Fg.globalOptions;const c=su(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}Fg.globalOptions=void 0;const YT=f.createContext(null);function rd(){const e=f.useContext(YT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const QT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=Fg({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,w]=f.useState(!1),v=f.useCallback(y=>{y&&(u(y.canScrollPrev()),w(y.canScrollNext()))},[]),x=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),x()):y.key==="ArrowRight"&&(y.preventDefault(),b())},[x,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),p.jsx(YT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:re("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});QT.displayName="Carousel";const XT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=rd();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:re("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});XT.displayName="CarouselContent";const ZT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=rd();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:re("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});ZT.displayName="CarouselItem";const JT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=rd();return p.jsxs(Xe,{ref:o,variant:t,size:n,className:re("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Xb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});JT.displayName="CarouselPrevious";const ek=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=rd();return p.jsxs(Xe,{ref:o,variant:t,size:n,className:re("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx($I,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});ek.displayName="CarouselNext";const tk=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[w,v]=f.useState({width:0,height:0}),[x,b]=f.useState(null),[m,y]=f.useState(!1),S=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(S.current){const R=S.current.offsetWidth,D=S.current.offsetHeight;R>0&&D>0?v({width:R,height:D}):R>0&&v({width:R,height:R})}},[]);f.useEffect(()=>{const R=S.current;if(!R)return;const D=new ResizeObserver(E);return D.observe(R),E(),()=>{D.unobserve(R)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(b(t),y(!0),u!=="loading"&&h("loading")):e?m||(b(e),u!=="loading"&&u!=="loaded"&&h("loading")):(b(null),y(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const R=new Image,D=()=>{b(e),y(!1),h("loaded"),l&&l()},N=()=>{g.error("Failed to load full image in background:",e)};return R.onload=D,R.onerror=N,R.src=e,()=>{R.onload=null,R.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const D=u==="loaded",N={position:"absolute",top:0,left:0,opacity:D?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:D?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||w.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return N;const{width:$,height:Q}=r,X=w.width/n.w,_=$*X,L=Q*X,M=-n.x*X,I=-n.y*X;return isNaN(_)||isNaN(L)||isNaN(M)||isNaN(I)?(g.warn("NaN detected during style calculation",{scale:X,naturalW:$,naturalH:Q,cropData:n}),N):{...N,width:`${_}px`,height:`${L}px`,transform:`translate(${M}px, ${I}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,u,w]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===x&&x&&(h("loaded"),!m&&l&&l())},[x,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===x&&x){if(g.error("Failed to load image in CroppedImageViewer:",x),m&&e){b(e),y(!1);return}if(!m&&t){g.log("Full image failed to load. Falling back to thumbnail:",t),b(t),y(!0);return}h("error")}},[x,e,t,m]),A=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:S,"data-testid":"image-container",className:re("relative w-full h-full overflow-hidden bg-muted",s),children:[A&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(Ht,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(nC,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:x??"",alt:o,style:c,className:re("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},Oz=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},w=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(g.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):g.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),v=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(g.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):g.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),x=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[x&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Ht,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(nC,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:re("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(tk,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:re("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:w,onError:v,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(XI,{size:16}):p.jsx(QI,{size:16})})]})},nk=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:re("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(QT,{setApi:n,className:"w-full h-full",children:[p.jsx(XT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(ZT,{className:"h-full",children:p.jsx(Oz,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(JT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(ek,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},$z=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function Uz(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=Zn(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),w=f.useRef(null),v=50,x=.3,b={enter:S=>({x:S>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:S=>({x:S<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(S,C)=>{const{offset:E,velocity:P}=C;let k=S.target;for(;k&&k!==w.current;){if(k.classList.contains("ignore-list-swipe")){g.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>v||P.x>x&&E.x>10?l(-1):(E.x<-v||P.x<-x&&E.x<-10)&&l(1)},y=f.useMemo(()=>[...e].sort((S,C)=>{const E=new Date(S.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=S.createdAt instanceof Date?S.createdAt.getTime():Date.parse(S.createdAt),A=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-A}),[e]);return f.useEffect(()=>{let S=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{S&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{g.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{S&&h(E=>new Map(E).set(C.id,!1))})}),()=>{S=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})]}):y.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(zT,{className:"h-full",children:[" ",p.jsxs("div",{ref:w,className:"relative overflow-hidden h-full",children:[" ",p.jsx(kg,{initial:!1,custom:a,mode:"wait",children:p.jsx(Ju.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:y.map(S=>{const E=c.get(S.id)||{...S,photos:(S.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Tm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(nk,{entry:E})}),p.jsxs(km,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:$z(S.date)}),p.jsxs(Wm,{children:[p.jsx(Hm,{asChild:!0,children:p.jsx(Xe,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(tC,{className:"h-4 w-4"})})}),p.jsxs(Hu,{align:"end",children:[p.jsxs(ss,{onClick:P=>{P.stopPropagation(),n(S.id)},children:[p.jsx(rC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(ss,{onClick:P=>{P.stopPropagation(),r(S.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(hm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(WT,{text:S.content,linesToShow:4})]})]},S.id)})},`${s}-${i}-list`)})]})]})}var Og="Dialog",[rk,ok]=hn(Og),[Vz,Jn]=rk(Og),sk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=wr({prop:r,defaultProp:o,onChange:s});return p.jsx(Vz,{scope:t,triggerRef:a,contentRef:l,contentId:Qo(),titleId:Qo(),descriptionId:Qo(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};sk.displayName=Og;var ik="DialogTrigger",ak=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(ik,n),s=Fe(t,o.triggerRef);return p.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Vg(o.open),...r,ref:s,onClick:se(e.onClick,o.onOpenToggle)})});ak.displayName=ik;var $g="DialogPortal",[Bz,lk]=rk($g,{forceMount:void 0}),ck=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Jn($g,t);return p.jsx(Bz,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(pn,{present:n||s.open,children:p.jsx(Au,{asChild:!0,container:o,children:i})}))})};ck.displayName=$g;var iu="DialogOverlay",uk=f.forwardRef((e,t)=>{const n=lk(iu,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(iu,e.__scopeDialog);return s.modal?p.jsx(pn,{present:r||s.open,children:p.jsx(qz,{...o,ref:t})}):null});uk.displayName=iu;var zz=di("DialogOverlay.RemoveScroll"),qz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(iu,n);return p.jsx(jm,{as:zz,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(xe.div,{"data-state":Vg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),as="DialogContent",dk=f.forwardRef((e,t)=>{const n=lk(as,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(as,e.__scopeDialog);return p.jsx(pn,{present:r||s.open,children:s.modal?p.jsx(Wz,{...o,ref:t}):p.jsx(Hz,{...o,ref:t})})});dk.displayName=as;var Wz=f.forwardRef((e,t)=>{const n=Jn(as,e.__scopeDialog),r=f.useRef(null),o=Fe(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return YE(s)},[]),p.jsx(fk,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:se(e.onFocusOutside,s=>s.preventDefault())})}),Hz=f.forwardRef((e,t)=>{const n=Jn(as,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(fk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),fk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Jn(as,n),l=f.useRef(null),c=Fe(t,l);return HE(),p.jsxs(p.Fragment,{children:[p.jsx(Lm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Xa,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Vg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Kz,{titleId:a.titleId}),p.jsx(Qz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Ug="DialogTitle",hk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(Ug,n);return p.jsx(xe.h2,{id:o.titleId,...r,ref:t})});hk.displayName=Ug;var pk="DialogDescription",mk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(pk,n);return p.jsx(xe.p,{id:o.descriptionId,...r,ref:t})});mk.displayName=pk;var gk="DialogClose",yk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(gk,n);return p.jsx(xe.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>o.onOpenChange(!1))})});yk.displayName=gk;function Vg(e){return e?"open":"closed"}var vk="DialogTitleWarning",[Gz,wk]=KM(vk,{contentName:as,titleName:Ug,docsSlug:"dialog"}),Kz=({titleId:e})=>{const t=wk(vk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Yz="DialogDescriptionWarning",Qz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wk(Yz).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},xk=sk,Xz=ak,Sk=ck,Bg=uk,zg=dk,qg=hk,Wg=mk,Hg=yk;const bk=xk,Zz=Sk,Ck=f.forwardRef(({className:e,...t},n)=>p.jsx(Bg,{ref:n,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ck.displayName=Bg.displayName;const Gg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Zz,{children:[p.jsx(Ck,{}),p.jsxs(zg,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Hg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Iu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gg.displayName=zg.displayName;const Kg=({className:e,...t})=>p.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Kg.displayName="DialogHeader";const Yg=f.forwardRef(({className:e,...t},n)=>p.jsx(qg,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));Yg.displayName=qg.displayName;const Ek=f.forwardRef(({className:e,...t},n)=>p.jsx(Wg,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Ek.displayName=Wg.displayName;function Pk({className:e,...t}){return p.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const _0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function Jz(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=Zn(),[,a]=im(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,w]=f.useState(new Set),v=f.useRef(!0),x=f.useMemo(()=>[...n].sort((m,y)=>{const S=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=y.createdAt instanceof Date?y.createdAt.getTime():Date.parse(y.createdAt);return S-C}),[n]);f.useEffect(()=>{if(v.current=!0,e&&x.length>0){u(!0),c(new Map),w(new Set);const m=x.map(y=>i(y).then(S=>{v.current&&c(C=>new Map(C).set(y.id,S))}).catch(S=>{g.error(`Error fetching details for entry ${y.id} in modal:`,S),v.current&&(w(C=>new Set(C).add(y.id)),c(C=>new Map(C).set(y.id,_0(y))))}));Promise.allSettled(m).finally(()=>{v.current&&u(!1)})}else e||(c(new Map),u(!1),w(new Set));return()=>{v.current=!1}},[e,x,i]);const b=()=>{t(),a("/entry/new")};return p.jsx(bk,{open:e,onOpenChange:t,children:p.jsxs(Gg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Kg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(Yg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:x.length===0&&!d?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Xe,{onClick:b,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:x.map((m,y)=>{const S=l.get(m.id),C=d&&!S,E=h.has(m.id),P=S||_0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(Pk,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(nk,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(Wm,{children:[p.jsx(Hm,{asChild:!0,children:p.jsx(Xe,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(tC,{className:"h-4 w-4"})})}),p.jsxs(Hu,{align:"end",children:[p.jsxs(ss,{onClick:()=>o(m.id),children:[p.jsx(rC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(ss,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(hm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(WT,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+y)})})}),!d&&x.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Xe,{onClick:b,children:"Add Another Entry"})})]})})}var Tk="AlertDialog",[e4,a3]=hn(Tk,[ok]),Br=ok(),kk=e=>{const{__scopeAlertDialog:t,...n}=e,r=Br(t);return p.jsx(xk,{...r,...n,modal:!0})};kk.displayName=Tk;var t4="AlertDialogTrigger",n4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Xz,{...o,...r,ref:t})});n4.displayName=t4;var r4="AlertDialogPortal",Ak=e=>{const{__scopeAlertDialog:t,...n}=e,r=Br(t);return p.jsx(Sk,{...r,...n})};Ak.displayName=r4;var o4="AlertDialogOverlay",Dk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Bg,{...o,...r,ref:t})});Dk.displayName=o4;var Gs="AlertDialogContent",[s4,i4]=e4(Gs),a4=Pb("AlertDialogContent"),Rk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=Br(n),i=f.useRef(null),a=Fe(t,i),l=f.useRef(null);return p.jsx(Gz,{contentName:Gs,titleName:Mk,docsSlug:"alert-dialog",children:p.jsx(s4,{scope:n,cancelRef:l,children:p.jsxs(zg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:se(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(a4,{children:r}),p.jsx(c4,{contentRef:i})]})})})});Rk.displayName=Gs;var Mk="AlertDialogTitle",Ik=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(qg,{...o,...r,ref:t})});Ik.displayName=Mk;var _k="AlertDialogDescription",Nk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Wg,{...o,...r,ref:t})});Nk.displayName=_k;var l4="AlertDialogAction",Lk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Hg,{...o,...r,ref:t})});Lk.displayName=l4;var jk="AlertDialogCancel",Fk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=i4(jk,n),s=Br(n),i=Fe(t,o);return p.jsx(Hg,{...s,...r,ref:i})});Fk.displayName=jk;var c4=({contentRef:e})=>{const t=`\`${Gs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gs}\` by passing a \`${_k}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},u4=kk,d4=Ak,Ok=Dk,$k=Rk,Uk=Lk,Vk=Fk,Bk=Ik,zk=Nk;const qk=u4,f4=d4,Wk=f.forwardRef(({className:e,...t},n)=>p.jsx(Ok,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Wk.displayName=Ok.displayName;const Qg=f.forwardRef(({className:e,...t},n)=>p.jsxs(f4,{children:[p.jsx(Wk,{}),p.jsx($k,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Qg.displayName=$k.displayName;const Xg=({className:e,...t})=>p.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xg.displayName="AlertDialogHeader";const Zg=({className:e,...t})=>p.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zg.displayName="AlertDialogFooter";const Jg=f.forwardRef(({className:e,...t},n)=>p.jsx(Bk,{ref:n,className:re("text-lg font-semibold",e),...t}));Jg.displayName=Bk.displayName;const ey=f.forwardRef(({className:e,...t},n)=>p.jsx(zk,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));ey.displayName=zk.displayName;const ty=f.forwardRef(({className:e,...t},n)=>p.jsx(Uk,{ref:n,className:re(Am(),e),...t}));ty.displayName=Uk.displayName;const ny=f.forwardRef(({className:e,...t},n)=>p.jsx(Vk,{ref:n,className:re(Am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ny.displayName=Vk.displayName;function h4(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=Zn(),o=async()=>{await n()};return p.jsx(qk,{open:e,onOpenChange:t,children:p.jsxs(Qg,{children:[p.jsxs(Xg,{children:[p.jsx(Jg,{children:"Delete Entry"}),p.jsx(ey,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Zg,{children:[p.jsx(ny,{disabled:r,children:"Cancel"}),p.jsx(ty,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var p4="Label",Hk=f.forwardRef((e,t)=>p.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Hk.displayName=p4;var Gk=Hk;const m4=Za("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),od=f.forwardRef(({className:e,...t},n)=>p.jsx(Gk,{ref:n,className:re(m4(),e),...t}));od.displayName=Gk.displayName;function g4({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Qa(),l=f.useCallback(async v=>{if(!v||v.length===0)return;const x=Array.from(v),b=[],m=[];let y=!0;if(s+x.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const S of x){if(!S.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${S.name}" is not a supported image file.`,variant:"destructive"}),y=!1;continue}try{const C=URL.createObjectURL(S);b.push(S),m.push(C)}catch(C){g.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${S.name}`,variant:"destructive"}),y=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!y&&m.length>0&&m.forEach(URL.revokeObjectURL),y&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(v=>{t||l(v.target.files)},[t,l]),d=f.useCallback(v=>{t||(v.preventDefault(),v.stopPropagation(),l(v.dataTransfer.files))},[t,l]),u=v=>{t||(v.preventDefault(),v.stopPropagation())},h=f.useCallback(()=>{var v;t||(v=i.current)==null||v.click()},[t]),w=r?Et.isValidElement(r)?Et.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:re("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:re(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),w]})}const zo=10,Zr=e=>e.isNew===!0,Kk=e=>e.isNew===!1,y4=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function v4({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const w=f.useRef(null),v=f.useRef(null),[x,b]=f.useState(null),[m,y]=f.useState(null),S=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{S.current=S.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),y(null)},k=_=>{const L=E.current,M=C.current;if(!L||!M||_<0||_>e.length){P();return}if(_===m&&L.style.display!=="none")return;y(_);const I=y4(M);let U=null,Y=!1;if(_===e.length?(U=S.current[e.length-1],Y=!0):(U=S.current[_],Y=!1),U){const J=U.getBoundingClientRect(),Ee=U.offsetTop;let K;Y?K=U.offsetLeft+J.width+I/2:K=U.offsetLeft-I/2,L.style.display="block",L.style.top=`${Ee}px`,L.style.left=`${K}px`,L.style.height=`${J.height}px`}else P()},A=(_,L)=>{if(w.current=L,b(L),P(),_.dataTransfer)try{_.dataTransfer.effectAllowed="move"}catch{}},R=(_,L)=>{if(_.preventDefault(),w.current===null||w.current===L){v.current=null,P();return}v.current=L;const M=S.current[L];if(M){const I=M.getBoundingClientRect(),U=I.left+I.width/2,J=_.clientX<U?L:L+1;k(J)}},D=_=>{C.current&&!C.current.contains(_.relatedTarget)&&(v.current=null,P())},N=()=>{let _=m;w.current!==null&&_!==null&&_>w.current&&_--,w.current!==null&&_!==null&&w.current!==_&&t(L=>{const M=[...L],I=M.splice(w.current,1)[0];return M.splice(_,0,I),M}),w.current=null,v.current=null,b(null),P()},$=(_,L)=>{w.current=L,b(L),P()},Q=_=>{if(w.current===null)return;_.cancelable&&_.preventDefault();const L=_.touches[0],M=document.elementFromPoint(L.clientX,L.clientY),I=M==null?void 0:M.closest('[draggable="true"]');if(I){const U=S.current.indexOf(I);if(U!==-1&&U!==w.current){v.current=U;const Y=I.getBoundingClientRect(),J=Y.left+Y.width/2,K=L.clientX<J?U:U+1;k(K);return}}v.current=null,P()},j=()=>{let _=m;w.current!==null&&_!==null&&_>w.current&&_--,w.current!==null&&_!==null&&w.current!==_&&t(L=>{const M=[...L],I=M.splice(w.current,1)[0];return M.splice(_,0,I),M}),w.current=null,v.current=null,b(null),P()},X=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(od,{children:["Photos (",e.length,"/",zo,")"," ",X&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((_,L)=>p.jsx(Pk,{className:"h-16 w-16 rounded aspect-square"},L))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:D,onTouchStart:_=>{},onTouchMove:Q,onTouchEnd:j,onTouchCancel:j,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((_,L)=>{var Ee;const M=Zr(_)?_.localId:_.photoId,I=l.current.get(M),U=_.crop;let Y=null;Zr(_)?_.originalDimensions&&(Y={filename:_.file.name,mimeType:_.file.type,width:_.originalDimensions.width,height:_.originalDimensions.height,exifDate:(Ee=_.exifData)==null?void 0:Ee.exifDate}):Kk(_)&&(Y=c.current.get(_.photoId)??null);const J=!!I;return p.jsxs("div",{ref:K=>S.current[L]=K,draggable:X,onDragStart:K=>X&&A(K,L),onDragOver:K=>X&&R(K,L),onDragEnd:X?N:void 0,onTouchStart:K=>X&&$(K,L),className:re("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",X?"cursor-grab active:cursor-grabbing":"cursor-default",x===L?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(tk,{imageUrl:I,thumbnailUrl:I,cropData:U,photoMetadata:Y,altText:`Photo ${L+1} thumbnail`,className:"rounded",enableLoadingState:!!I&&I.startsWith("blob:")}),p.jsxs("div",{className:re("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Xe,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:K=>{K.stopPropagation(),!n&&J?s(L):J||g.warn(`Cannot open cropper: original URL missing for ${M}`)},disabled:n||!J,children:p.jsx(zI,{className:"h-3 w-3"})}),p.jsx(Xe,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:K=>{K.stopPropagation(),n||i(L)},disabled:n,children:p.jsx(hm,{className:"h-3 w-3"})})]}),X&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(WI,{className:"h-3 w-3 text-white"})})]},M+"-"+L)}),e.length<zo&&p.jsx(g4,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:zo,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Ht,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(HI,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function w4({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(od,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(oC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Yk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Yk.displayName="Textarea";function x4({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(od,{htmlFor:"content",children:"Content"}),p.jsx(Yk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function S4({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Xe,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Xe,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function b4(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function C4(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function E4(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=Zn(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=b4(),d=C4(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(bk,{open:e,onOpenChange:t,children:p.jsxs(Gg,{className:"sm:max-w-md",children:[p.jsxs(Kg,{children:[p.jsx(Yg,{children:"Select Month and Year"}),p.jsx(Ek,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,w)=>p.jsx("option",{value:w+1,children:h},w))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Xe,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Xe,{onClick:u,children:"Apply"})]})]})})}function P4(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=Zn();_m(),im();const h=l,w=l?"Saving...":"",v={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})});const x=u&&!e&&!t&&!n,b=x?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(wO,{}),h&&p.jsxs("div",{className:re("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",x?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(Ht,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:w})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Iu,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:re("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx(zB,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(kg,{initial:!1,mode:"wait",children:p.jsx(Ju.div,{variants:v,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(BB,{}):p.jsx(Uz,{})})},s)})})})]}),p.jsx(E4,{}),p.jsx(Jz,{}),p.jsx(h4,{})]})}var Qk=["PageUp","PageDown"],Xk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ti="Slider",[ip,T4,k4]=ku(Ti),[Jk,l3]=hn(Ti,[k4]),[A4,sd]=Jk(Ti),eA=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:w=!1,form:v,...x}=e,b=f.useRef(new Set),m=f.useRef(0),S=i==="horizontal"?D4:R4,[C=[],E]=wr({prop:d,defaultProp:c,onChange:N=>{var Q;(Q=[...b.current][m.current])==null||Q.focus(),u(N)}}),P=f.useRef(C);function k(N){const $=L4(C,N);D(N,$)}function A(N){D(N,m.current)}function R(){const N=P.current[m.current];C[m.current]!==N&&h(C)}function D(N,$,{commit:Q}={commit:!1}){const j=$4(s),X=U4(Math.round((N-r)/s)*s+r,j),_=Ag(X,[r,o]);E((L=[])=>{const M=_4(L,_,$);if(O4(M,l*s)){m.current=M.indexOf(_);const I=String(M)!==String(L);return I&&Q&&h(M),I?M:L}else return L})}return p.jsx(A4,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:v,children:p.jsx(ip.Provider,{scope:e.__scopeSlider,children:p.jsx(ip.Slot,{scope:e.__scopeSlider,children:p.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:se(x.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:w,onSlideStart:a?void 0:k,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:R,onHomeKeyDown:()=>!a&&D(r,0,{commit:!0}),onEndKeyDown:()=>!a&&D(o,C.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:$})=>{if(!a){const X=Qk.includes(N.key)||N.shiftKey&&Xk.includes(N.key)?10:1,_=m.current,L=C[_],M=s*X*$;D(L+M,_,{commit:!0})}}})})})})});eA.displayName=Ti;var[tA,nA]=Jk(Ti,{startEdge:"left",endEdge:"right",size:"width",direction:1}),D4=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),w=Fe(t,S=>h(S)),v=f.useRef(void 0),x=el(o),b=x==="ltr",m=b&&!s||!b&&s;function y(S){const C=v.current||u.getBoundingClientRect(),E=[0,C.width],k=ry(E,m?[n,r]:[r,n]);return v.current=C,k(S-C.left)}return p.jsx(tA,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(rA,{dir:x,"data-orientation":"horizontal",...d,ref:w,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=y(S.clientX);i==null||i(C)},onSlideMove:S=>{const C=y(S.clientX);a==null||a(C)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=Zk[m?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:E?-1:1})}})})}),R4=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=Fe(t,d),h=f.useRef(void 0),w=!o;function v(x){const b=h.current||d.current.getBoundingClientRect(),m=[0,b.height],S=ry(m,w?[r,n]:[n,r]);return h.current=b,S(x-b.top)}return p.jsx(tA,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:p.jsx(rA,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=v(x.clientY);s==null||s(b)},onSlideMove:x=>{const b=v(x.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const m=Zk[w?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:m?-1:1})}})})}),rA=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=sd(Ti,n);return p.jsx(xe.span,{...c,ref:t,onKeyDown:se(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):Qk.concat(Xk).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:se(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:se(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:se(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),oA="SliderTrack",sA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=sd(oA,n);return p.jsx(xe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});sA.displayName=oA;var ap="SliderRange",iA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=sd(ap,n),s=nA(ap,n),i=f.useRef(null),a=Fe(t,i),l=o.values.length,c=o.values.map(h=>lA(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(xe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});iA.displayName=ap;var lp="SliderThumb",aA=f.forwardRef((e,t)=>{const n=T4(e.__scopeSlider),[r,o]=f.useState(null),s=Fe(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(M4,{...e,ref:s,index:i})}),M4=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=sd(lp,n),a=nA(lp,n),[l,c]=f.useState(null),d=Fe(t,y=>c(y)),u=l?i.form||!!l.closest("form"):!0,h=bm(l),w=i.values[r],v=w===void 0?0:lA(w,i.min,i.max),x=N4(r,i.values.length),b=h==null?void 0:h[a.size],m=b?j4(b,v,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${m}px)`},children:[p.jsx(ip.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(xe.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":w,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:w===void 0?{display:"none"}:e.style,onFocus:se(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(I4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:w},r)]})});aA.displayName=lp;var I4=e=>{const{value:t,...n}=e,r=f.useRef(null),o=X1(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function _4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function lA(e,t,n){const s=100/(n-t)*(e-t);return Ag(s,[0,100])}function N4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function L4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function j4(e,t,n){const r=e/2,s=ry([0,50],[0,r]);return(r-s(t)*n)*n}function F4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function O4(e,t){if(t>0){const n=F4(e);return Math.min(...n)>=t}return!0}function ry(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function $4(e){return(String(e).split(".")[1]||"").length}function U4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var cA=eA,V4=sA,B4=iA,z4=aA;const uA=f.forwardRef(({className:e,...t},n)=>p.jsxs(cA,{ref:n,className:re("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(V4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(B4,{className:"absolute h-full bg-primary"})}),p.jsx(z4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));uA.displayName=cA.displayName;const tt=250,N0=200;function q4({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,w]=f.useState({x:0,y:0,scale:1}),[v,x]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[y,S]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[A,R]=f.useState(5),[D,N]=f.useState(!1),[$,Q]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[j,X]=f.useState(null),[_,L]=f.useState(null),[M,I]=f.useState(null),[U,Y]=f.useState(null),J=b&&y,Ee=e!==u.current&&!J,K=O=>O&&typeof O=="object"&&"x"in O&&"y"in O&&"w"in O&&"h"in O&&typeof O.x=="number"&&typeof O.y=="number"&&typeof O.w=="number"&&typeof O.h=="number"&&O.w>0&&O.h>0&&O.w===O.h,Je=f.useCallback((O,F)=>O<=0||F<=0||tt<=0?.1:Math.max(tt/O,tt/F),[]),ae=f.useCallback((O,F)=>O<=0||F<=0||tt<=0||N0<=0?5:Math.max(Math.max(tt/O,tt/F),tt/N0),[]),pe=f.useCallback((O,F,W)=>{const oe=s.current;if(!b||v.width<=0||v.height<=0)return{x:O,y:F};const fe=(oe==null?void 0:oe.clientWidth)??0,me=(oe==null?void 0:oe.clientHeight)??0;if(fe<=0||me<=0)return{x:O,y:F};const Ce=v.width*W,Me=v.height*W,Ke=(fe-tt)/2,Ye=(me-tt)/2,Qe=Ke,bt=Ke+tt-Ce,$t=Ye,Nt=Ye+tt-Me,gt=Ce<tt?Ke+(tt-Ce)/2:Math.min(Qe,Math.max(bt,O)),Qt=Me<tt?Ye+(tt-Me)/2:Math.min($t,Math.max(Nt,F));return{x:gt,y:Qt}},[b,v]),Be=f.useCallback((O,F)=>{if(!b||!l.current||y||v.width<=0||v.height<=0)return;const W=v.width,oe=v.height,fe=Je(W,oe),me=ae(W,oe);k(fe),R(me);let Ce,Me,Ke;if(K(r)){Ce=tt/r.w,Ce=Math.max(fe,Math.min(me,Ce));const bt=(O-tt)/2,$t=(F-tt)/2;Me=bt-r.x*Ce,Ke=$t-r.y*Ce}else Ce=Math.max(tt/W,tt/oe),Ce=Math.max(fe,Ce),Me=(O-W*Ce)/2,Ke=(F-oe*Ce)/2;const Qe={...pe(Me,Ke,Ce),scale:Ce};w(Qe),S(!0),c.current=!0},[b,y,v,r,Je,ae,pe]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{e!==u.current&&(g.log(`[ImprovedImageCropper] Image URL changed: ${u.current||"none"} → ${e}`),m(!1),S(!1),c.current=!1,L(u.current),I(h),Y(v),u.current=e,g.log("[ImprovedImageCropper] Reset loader state and stored previous image state"))},[e,h,v]),f.useEffect(()=>{u.current!==e?(u.current&&y?(L(u.current),I(h),Y(v)):(L(null),I(null),Y(null)),m(!1),S(!1),x(o||{width:0,height:0}),w({x:0,y:0,scale:1}),k(.1),R(5),c.current=!1,E(!1),u.current=e):o&&!y&&(o.width!==v.width||o.height!==v.height)&&x(o)},[e,o]);const Ie=f.useCallback(()=>{const O=i.current;if(g.log(`[ImprovedImageCropper] handleImageLoad called for image: ${e}`),!O){g.warn("[ImprovedImageCropper] Image ref is null in handleImageLoad");return}if(!l.current){g.warn("[ImprovedImageCropper] Component unmounted during image load");return}if(O.src!==e){g.warn(`[ImprovedImageCropper] Image src mismatch: ${O.src} vs ${e}`);return}const F=O.naturalWidth,W=O.naturalHeight;if(g.log(`[ImprovedImageCropper] Image loaded with dimensions: ${F}×${W}`),F<=0||W<=0){g.error(`[ImprovedImageCropper] Image has invalid dimensions on load: ${F}×${W}`),m(!1),S(!1);return}(v.width!==F||v.height!==W)&&(g.log(`[ImprovedImageCropper] Updating image dimensions: ${v.width}×${v.height} → ${F}×${W}`),x({width:F,height:W})),m(!0),g.log("[ImprovedImageCropper] Image successfully loaded and ready")},[e,v]),Ge=f.useCallback(()=>{const O=i.current;!O||!l.current||O.src!==e||(g.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),S(!1))},[e]);f.useEffect(()=>{const O=s.current;if(O&&b&&!y){const F=fe=>{if(!(!l.current||y))for(const me of fe){const{width:Ce,height:Me}=me.contentRect||{width:me.target.clientWidth,height:me.target.clientHeight};Ce>0&&Me>0?Be(Ce,Me):g.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(F),d.current.observe(O);const W=O.clientWidth,oe=O.clientHeight;return W>0&&oe>0&&Be(W,oe),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[b,y,Be]),f.useEffect(()=>{if(b&&y){const{x:O,y:F,scale:W}=h,oe=pe(O,F,W);(oe.x!==O||oe.y!==F)&&w(fe=>({...fe,...oe}))}},[h.scale,b,y,pe,h.x,h.y]);const ke=f.useCallback((O,F,W)=>{!J||!s.current||w(oe=>{let fe=oe.scale*O;if(fe=Math.max(P,Math.min(A,fe)),fe===oe.scale)return oe;const me=(F-oe.x)/oe.scale,Ce=(W-oe.y)/oe.scale,Me=F-me*fe,Ke=W-Ce*fe;return{scale:fe,...pe(Me,Ke,fe)}})},[J,P,A,pe]),z=(O,F,W)=>{!J||C||(N(!0),Q({x:O,y:F,pinchDistance:W,imageX:h.x,imageY:h.y}),X(W??null))},ye=(O,F,W)=>{if(!(!D||!J||!s.current)){if(W!==void 0&&j!==null){const oe=W/j,fe=s.current.getBoundingClientRect(),me=$.x-fe.left,Ce=$.y-fe.top;ke(oe,me,Ce),X(W)}else if(j===null){const oe=O-$.x,fe=F-$.y,me=$.imageX+oe,Ce=$.imageY+fe;w(Me=>({...Me,...pe(me,Ce,Me.scale)}))}}},Ae=()=>{D&&(N(!1),X(null))},qe=O=>z(O.clientX,O.clientY),Tt=O=>ye(O.clientX,O.clientY),kt=O=>{if(O.touches.length===2){const F=O.touches[0],W=O.touches[1],oe=Math.hypot(W.clientX-F.clientX,W.clientY-F.clientY),fe=(F.clientX+W.clientX)/2,me=(F.clientY+W.clientY)/2;z(fe,me,oe)}else O.touches.length===1&&z(O.touches[0].clientX,O.touches[0].clientY)},it=O=>{if(D)if(O.cancelable&&O.preventDefault(),O.touches.length===2){const F=O.touches[0],W=O.touches[1],oe=Math.hypot(W.clientX-F.clientX,W.clientY-F.clientY),fe=(F.clientX+W.clientX)/2,me=(F.clientY+W.clientY)/2;ye(fe,me,oe)}else O.touches.length===1&&ye(O.touches[0].clientX,O.touches[0].clientY)},at=f.useCallback(O=>{if(!J||!s.current||C)return;O.preventDefault();const F=s.current.getBoundingClientRect(),W=O.clientX-F.left,oe=O.clientY-F.top,me=1+O.deltaY*-.005;ke(me,W,oe)},[J,C,ke]);f.useEffect(()=>{if(D)return window.addEventListener("mousemove",Tt),window.addEventListener("touchmove",it,{passive:!1}),window.addEventListener("mouseup",Ae),window.addEventListener("touchend",Ae),window.addEventListener("touchcancel",Ae),()=>{window.removeEventListener("mousemove",Tt),window.removeEventListener("touchmove",it),window.removeEventListener("mouseup",Ae),window.removeEventListener("touchend",Ae),window.removeEventListener("touchcancel",Ae)}},[D,it]),f.useEffect(()=>{const O=s.current;if(O&&J)return O.addEventListener("wheel",at,{passive:!1}),()=>O.removeEventListener("wheel",at)},[J,at]);const Rt=f.useCallback(O=>{if(!s.current||!J||(O=Math.max(P,Math.min(A,O)),O===h.scale))return;const F=s.current,W=F.clientWidth/2,oe=F.clientHeight/2;ke(O/h.scale,W,oe)},[J,P,A,h.scale,ke]),Se=()=>Rt(h.scale*1.15),$e=()=>Rt(h.scale/1.15),_t=O=>Rt(O[0]),B=()=>{if(S(!1),c.current=!1,w({x:0,y:0,scale:1}),s.current&&b){const O=s.current.clientWidth,F=s.current.clientHeight;O>0&&F>0&&Be(O,F)}},q=()=>{g.log("[ImprovedImageCropper] performCrop called");const O=s.current,F=i.current;if(g.log("[ImprovedImageCropper] Checking crop preconditions:",{hasContainer:!!O,isInitialized:y,hasCurrentImage:!!F,naturalWidth:F==null?void 0:F.naturalWidth,naturalHeight:F==null?void 0:F.naturalHeight,imageUrl:e}),!O||!y||!F||!F.naturalWidth||!F.naturalHeight||F.naturalWidth<=0||F.naturalHeight<=0){g.error("[ImprovedImageCropper] Cannot crop: Preconditions fail");return}g.log("[ImprovedImageCropper] Starting crop processing"),E(!0);try{const W=O.clientWidth,oe=O.clientHeight;g.log(`[ImprovedImageCropper] Container dimensions: ${W}×${oe}`);const fe=(W-tt)/2,me=(oe-tt)/2;g.log(`[ImprovedImageCropper] Frame position: (${fe}, ${me})`);const Ce=fe-h.x,Me=me-h.y,Ke=Ce/h.scale,Ye=Me/h.scale;g.log(`[ImprovedImageCropper] Source position (original): (${Ke}, ${Ye})`);const Qe=tt/h.scale,bt=tt/h.scale;g.log(`[ImprovedImageCropper] Source dimensions (original): ${Qe}×${bt}`);const $t=Math.max(0,Ke),Nt=Math.max(0,Ye),gt=Math.min(Qe,F.naturalWidth-$t),Qt=Math.min(bt,F.naturalHeight-Nt);if(g.log(`[ImprovedImageCropper] Clamped source: (${$t}, ${Nt}, ${gt}, ${Qt})`),gt<=0||Qt<=0){const er=`Crop area zero/negative: W=${gt}, H=${Qt}`;throw g.error(`[ImprovedImageCropper] ${er}`),new Error(er)}let Ct={x:Math.round($t),y:Math.round(Nt),w:Math.round(gt),h:Math.round(Qt)};g.log(`[ImprovedImageCropper] Initial crop data: (${Ct.x}, ${Ct.y}, ${Ct.w}, ${Ct.h})`);const hs=Math.min(Ct.w,Ct.h);if(Ct.w=hs,Ct.h=hs,g.log(`[ImprovedImageCropper] Final square crop data: (${Ct.x}, ${Ct.y}, ${Ct.w}, ${Ct.h})`),Ct.w<=0){const er=`Final crop width <= 0: ${Ct.w}`;throw g.error(`[ImprovedImageCropper] ${er}`),new Error(er)}l.current?(g.log("[ImprovedImageCropper] Component still mounted, calling onCropComplete with final crop data"),t(Ct)):g.warn("[ImprovedImageCropper] Component unmounted, skipping onCropComplete call")}catch(W){g.error("[ImprovedImageCropper] Error during cropping:",W),W instanceof Error&&(g.error(`[ImprovedImageCropper] Error message: ${W.message}`),g.error(`[ImprovedImageCropper] Error stack: ${W.stack}`))}finally{l.current&&(g.log("[ImprovedImageCropper] Setting isProcessing to false"),E(!1))}},H=Ee||!y&&!C,he=!y&&!C,le=!y||C,je={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Pe={...je,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:y?1:0,transition:D?"none":"transform 0.1s linear",zIndex:2},_e={...je,transform:M?`translate(${M.x}px, ${M.y}px) scale(${M.scale})`:"translate(0px, 0px) scale(1)",opacity:y?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Ht,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:re("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",D?"cursor-grabbing":"cursor-grab"),onMouseDown:qe,onTouchStart:kt,children:[_&&M&&U&&p.jsx("img",{ref:a,src:_,alt:"",className:"absolute transform-gpu origin-top-left block",style:_e,draggable:!1,width:U.width,height:U.height},_+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Pe,onLoad:Ie,onError:Ge,draggable:!1,loading:"eager"},e),H&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Ht,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${tt}px`,height:`${tt}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Xe,{type:"button",variant:"outline",size:"icon",onClick:$e,disabled:!J||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(s_,{className:"h-4 w-4"})," "]}),p.jsx(uA,{value:[h.scale],min:P,max:A,step:(A-P)/100,onValueChange:_t,className:"flex-grow",disabled:!J||C,"aria-label":"Zoom slider"}),p.jsxs(Xe,{type:"button",variant:"outline",size:"icon",onClick:Se,disabled:!J||C||h.scale>=A,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(o_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Xe,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Xe,{type:"button",variant:"ghost",onClick:B,disabled:!J||C,className:"px-3",children:[" ",p.jsx(t_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Xe,{type:"button",variant:"default",onClick:q,disabled:le,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):he?p.jsxs(p.Fragment,{children:[" ",p.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(Zb,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function Ef(e){return new Promise((t,n)=>{g.log("[getImageDimensions] Starting dimension extraction",{type:typeof e,isFile:e instanceof File,fileDetails:e instanceof File?{name:e.name,size:e.size,type:e.type}:"Not a file"});const r=new Image;if(r.onload=()=>{g.log(`[getImageDimensions] Image loaded successfully with dimensions: ${r.naturalWidth}x${r.naturalHeight}`),r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):(g.error("[getImageDimensions] Image loaded with zero dimensions"),n(new Error("Image loaded with zero dimensions.")))},r.onerror=o=>{g.error("[getImageDimensions] Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")g.log(`[getImageDimensions] Processing string URL: ${e.substring(0,50)}...`),r.src=e;else if(e instanceof File){g.log(`[getImageDimensions] Processing File object: ${e.name}, size: ${e.size}, type: ${e.type}`);const o=new FileReader;o.onload=s=>{var i;if(g.log("[getImageDimensions] FileReader load successful"),(i=s.target)!=null&&i.result){const a=s.target.result;g.log(`[getImageDimensions] Data URL created, length: ${a.length}, setting as img.src`),r.src=a}else g.error("[getImageDimensions] FileReader result is empty"),n(new Error("FileReader result is empty."))},o.onerror=s=>{g.error("[getImageDimensions] FileReader error:",s),n(new Error("Failed to read file."))},g.log("[getImageDimensions] Calling reader.readAsDataURL on file"),o.readAsDataURL(e)}else g.error("[getImageDimensions] Invalid input type"),n(new Error("Invalid input for getImageDimensions"))})}const W4=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return g.error("Error parsing EXIF date string:",t),null}};function Pf(e){return new Promise(t=>{if(!window.EXIF){g.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(g.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=W4(o);t({exifDate:s})}catch(o){g.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,g.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function L0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(qk,{open:e,onOpenChange:t,children:p.jsxs(Qg,{children:[p.jsxs(Xg,{children:[p.jsx(Jg,{children:r}),p.jsx(ey,{children:o})]}),p.jsxs(Zg,{children:[p.jsx(ny,{disabled:a,children:i}),p.jsxs(ty,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const H4=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&g.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function j0({entryId:e}){const t=Zn(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,deleteSharedFilesFromStorage:d,isAuthenticated:u,isLoadingAuth:h,navigate:w,isLoadingImagesMeta:v,isClientReady:x,isOnline:b}=t,{toast:m}=Qa(),[y,S]=f.useState(null),[C,E]=f.useState(()=>{const Z=window.location.hash.split("?")[1];let ne=null;if(Z)try{ne=new URLSearchParams(Z).get("date")}catch{}if(ne&&/^\d{4}-\d{2}-\d{2}$/.test(ne))return g.log(`[EntryForm State Init] Initializing date from param: ${ne}`),new Date(ne+"T00:00:00Z");{g.log("[EntryForm State Init] Initializing date to today (UTC).");const de=new Date;return new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate()))}}),[P,k]=f.useState(!1),[A,R]=f.useState(""),[D,N]=f.useState([]),[$,Q]=f.useState(!1),[j,X]=f.useState(null),[_,L]=f.useState(!1),[M,I]=f.useState(null),[U,Y]=f.useState(null),[J,Ee]=f.useState(!0),[K,Je]=f.useState([]),[ae,pe]=f.useState(null),[Be,Ie]=f.useState(!1),[Ge,ke]=f.useState(null),[z,ye]=f.useState(null),[Ae,qe]=f.useState(!1),[Tt,kt]=f.useState(!1),[it,at]=f.useState(new Map),Rt=f.useRef(null),Se=f.useRef(!0),$e=f.useRef(new Map),_t=f.useRef(new Map),B=f.useRef(null),q=f.useRef(!1),H=f.useRef(null),he=f.useRef(!1),le=f.useRef(0),je=f.useRef({}),Pe=f.useRef(null);lo.getInstance();const _e=!!e,O=ae!==null&&ae<K.length,F=a||O||Be,W=!J&&!F&&!a&&!h&&D.length>0&&!_&&K.length===0&&Ae,oe=f.useMemo(()=>{const te=y?y.date:C.toISOString().split("T")[0],Z=y?y.content:"",ne=y?y.photos:[],de=new Set(ne.map(ee=>ee.photoId));return{date:te,content:Z,photoIds:de}},[y,C]);f.useEffect(()=>{if(J||h||v){qe(!1);return}const te=C.toISOString().split("T")[0]!==oe.date,Z=A!==oe.content,ne=new Set(D.map(be=>Zr(be)?be.localId:be.photoId)),de=oe.photoIds;let ee=ne.size!==de.size;if(!ee){for(const be of ne)de.has(be)||(ee=!0);if(!ee)for(const be of de)ne.has(be)||(ee=!0)}let Ne=!1;if(y&&!ee){for(const be of D)if(!Zr(be)){const ve=y.photos.find(ce=>ce.photoId===be.photoId);if(ve&&(be.crop.x!==ve.crop.x||be.crop.y!==ve.crop.y||be.crop.w!==ve.crop.w||be.crop.h!==ve.crop.h)){Ne=!0;break}}}if(_e)qe(te||Z||ee||Ne);else{const be=(()=>{const we=window.location.hash.split("?")[1];let ue=null;if(we)try{ue=new URLSearchParams(we).get("date")}catch{}if(ue&&/^\d{4}-\d{2}-\d{2}$/.test(ue))return ue;{const De=new Date;return new Date(Date.UTC(De.getFullYear(),De.getMonth(),De.getDate())).toISOString().split("T")[0]}})(),ve=C.toISOString().split("T")[0]!==be;qe(A.trim()!==""||D.length>0||ve)}},[C,A,D,oe.date,oe.content,oe.photoIds,_e,J,h,v,y]);const fe=f.useCallback(async te=>{if(!Se.current||te>=K.length)return;const Z=K[te];if(!Z||it.has(Z.localId))return;B.current&&B.current.abort();const ne=new AbortController;B.current=ne;try{const[de,ee]=await Promise.all([Ef(Z.file),Pf(Z.file)]);if(ne.signal.aborted||!Se.current)return;at(Ne=>new Map(Ne).set(Z.localId,{dims:de,exif:ee}))}catch(de){de.name==="AbortError"||Se.current&&g.error(`[Prefetch] Error pre-fetching data for index ${te}, file: ${Z.file.name}`,de)}finally{B.current===ne&&(B.current=null)}},[K,it]),me=f.useCallback((te,Z)=>{if(g.log(`[EntryForm] handleFilesSelect called with ${te.length} files:`,{fileTypes:te.map(ee=>ee.type),fileSizes:te.map(ee=>ee.size),fileNames:te.map(ee=>ee.name),previewUrls:Z}),!Se.current){g.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&(g.log(`[EntryForm] Revoking ${Z.length} blob URLs due to unmount`),Z.forEach(ee=>{g.log(`[EntryForm] Revoking blob URL: ${ee}`),URL.revokeObjectURL(ee)}));return}const ne=zo-D.length-K.length;if(g.log(`[EntryForm] Available slots: ${ne} (MAX_PHOTOS: ${zo}, current photos: ${D.length}, queue: ${K.length})`),te.length>ne&&(g.warn(`[EntryForm] Too many files (${te.length}), limiting to ${ne}`),m({title:"Too many files",description:`You can only add ${ne} more photo(s). Some files were ignored.`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"&&(g.log(`[EntryForm] Revoking excess blob URLs (${Z.length-ne})`),Z.slice(ne).forEach(ee=>{g.log(`[EntryForm] Revoking excess blob URL: ${ee}`),URL.revokeObjectURL(ee)})),te=te.slice(0,ne),Z=Z.slice(0,ne),te.length===0)){g.warn("[EntryForm] No files left after limiting");return}const de=te.map((ee,Ne)=>{const be=crypto.randomUUID(),ve=Z[Ne];return g.log(`[EntryForm] Processing file for queue: ${ee.name}, type: ${ee.type}, size: ${ee.size}`),g.log(`[EntryForm] Generated localId: ${be} for blob URL: ${ve}`),(!ve||!ve.startsWith("blob:"))&&g.error(`[EntryForm] Invalid blob URL for file ${ee.name}: ${ve}`),$e.current.set(be,ve),g.log(`[EntryForm] Stored in originalBlobUrlsRef. Current count: ${$e.current.size}`),{file:ee,previewUrl:ve,localId:be}});g.log(`[EntryForm] Created ${de.length} new queue items`),Je(ee=>{const Ne=[...ee,...de];return g.log(`[EntryForm] ProcessingQueue updated: ${ee.length} → ${Ne.length} items`),ae===null&&Ne.length>0?(g.log("[EntryForm] Starting queue processing - setting currentQueueIndex to 0"),pe(0),Ne.length>1&&(g.log("[EntryForm] Prefetching next item at index 1"),fe(1))):g.log(`[EntryForm] Queue processing already in progress, currentQueueIndex: ${ae}`),Ne})},[D.length,K.length,m,ae,fe]);f.useEffect(()=>{const te={entryId:e,isAuthenticated:u,isLoadingAuth:h,isClientReady:x,isLoadingImagesMeta:v,isOnline:b,navigate:w,toast:m,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:y==null?void 0:y.id};le.current++;const Z=le.current,ne=`init-${Z}`;if(H4(Z,je.current,te),(Z===1||e!==je.current.entryId)&&(he.current=!1),!(!h&&x&&!v)){Ee(!0),je.current=te;return}Se.current=!0,qe(!1);const ee=()=>{const ce=l&&l.length>0&&!q.current;if(g.log(`[EntryForm Init Effect ${ne}] resetFormState() called.`,{hasPendingUnprocessedFiles:ce,pendingFilesCount:(l==null?void 0:l.length)||0,hasProcessedInitialSharedFiles:q.current,blobUrlCount:$e.current.size,hasActiveCropper:!!U}),ce){g.log(`[EntryForm Init Effect ${ne}] SKIPPING full resetFormState due to pending shared files`),S(null),R(""),Q(!1),X(null),Ie(!1),ke(null),ye(null);return}S(null),R(""),N([]),Q(!1),X(null),L(!1),I(null),U&&g.log(`[EntryForm Init Effect ${ne}] Clearing cropperImageUrl: ${U}`),Y(null),Je([]),pe(null),Ie(!1),ke(null),ye(null),at(new Map),g.log(`[EntryForm Init Effect ${ne}] About to revoke ${$e.current.size} blob URLs:`,Array.from($e.current.entries()).map(([we,ue])=>({id:we,url:ue}))),$e.current.forEach((we,ue)=>{try{we.startsWith("blob:")&&(g.log(`[EntryForm Init Effect ${ne}] Revoking URL for id ${ue}: ${we}`),URL.revokeObjectURL(we))}catch(De){g.error(`[EntryForm Init Effect ${ne}] Error revoking URL for id ${ue}: ${De}`)}}),$e.current.clear(),_t.current.clear(),g.log(`[EntryForm Init Effect ${ne}] resetFormState complete - all blob URLs revoked.`)},Ne=async ce=>{if(g.log(`[EntryForm Init Effect ${ne}] Populate form for entry ID:`,ce.id),!Se.current)return;let we=new Date(ce.date+"T00:00:00Z");if(E(we),R(ce.content),S({...ce}),k(!0),g.log(`[EntryForm Init Effect ${ne}] Basic form fields populated. isDateSetByUserIntent: true`),N([]),_t.current.clear(),$e.current.forEach((ue,De)=>{try{ue.startsWith("blob:")&&URL.revokeObjectURL(ue)}catch{}}),$e.current.clear(),ce.photos&&ce.photos.length>0){g.log(`[EntryForm Init Effect ${ne}] Loading ${ce.photos.length} photos.`),(!i||i.length===0)&&g.warn(`[EntryForm Init Effect ${ne}] Missing imagesMetadata.`);const ue=ce.photos.map(async De=>{const We=(i||[]).find(Xt=>Xt.id===De.photoId),Oe=(We==null?void 0:We.photoMetadata)??null,ze=Oe==null?void 0:Oe.contentHash;let ct=null;try{if(ct=await s(ze,De.photoId),!Se.current)return null;ct?($e.current.set(De.photoId,ct),Oe&&_t.current.set(De.photoId,Oe)):g.warn(`[EntryForm Init Effect ${ne}] No preview URL for photo ${De.photoId}`)}catch(Xt){g.error(`[EntryForm Init Effect ${ne}] Failed getting preview link for photo ${De.photoId}:`,Xt)}const sn=ct===null?void 0:ct;return sn?{...De,isNew:!1,localPreviewUrl:sn}:null});try{const De=await Promise.all(ue);if(!Se.current)return;const We=De.filter(Oe=>Oe!==null);if(g.log(`[EntryForm Init Effect ${ne}] Setting ${We.length} photos.`),N(We),We.length>0){const Oe=_t.current.get(We[0].photoId),ze=(Oe==null?void 0:Oe.exifDate)??null;g.log(`[EntryForm Init Edit] Storing initial EXIF date: ${ze}`),X(ze);const ct=we.toISOString().split("T")[0];let sn=!1,Xt="";if(ze){const[br,tr,nr]=ze.split("-").map(Number);!isNaN(br)&&!isNaN(tr)&&!isNaN(nr)&&(Xt=new Date(Date.UTC(br,tr-1,nr)).toISOString().split("T")[0],sn=ct!==Xt)}g.log(`[EntryForm Init Edit] Comparing Form UTC: ${ct} vs EXIF as UTC: ${Xt||"N/A"}. Show warning: ${sn}`),Q(sn)}else g.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),X(null),Q(!1)}catch(De){g.error(`[EntryForm Init Effect ${ne}] Error loading initial photo details:`,De),Se.current&&N([])}}else g.log(`[EntryForm Init Effect ${ne}] Entry has no photos.`),N([]),X(null),Q(!1);g.log(`[EntryForm Init Effect ${ne}] populateForm finished.`)},be=async()=>{if(he.current){Ee(!1);return}Ee(!0),ee();try{if(_e&&e){g.log(`[EntryForm Init Effect ${ne}] EDIT MODE: Initializing for entry ID: ${e}`);let ce=null;if(ce=r(e)||null,ce||(g.log(`[EntryForm Init Effect ${ne}] EDIT MODE: Not in context, loading...`),ce=await o(e)),ce&&Se.current)await Ne(ce),he.current=!0;else if(Se.current){g.error(`[EntryForm Init Effect ${ne}] EDIT MODE: Entry ${e} not found. Redirecting.`),m({title:"Error",description:"Entry not found.",variant:"destructive"}),w("/");return}}else{g.log(`[EntryForm Init Effect ${ne}] NEW MODE: Initializing.`);const we=window.location.hash.split("?")[1];let ue=null;if(we)try{ue=new URLSearchParams(we).get("date")}catch{}let De=!1,We;if(ue&&/^\d{4}-\d{2}-\d{2}$/.test(ue))We=new Date(ue+"T00:00:00Z"),De=!0,g.log(`[EntryForm Init Effect ${ne}] NEW MODE: Date from param: ${ue}. User intent: true.`);else{const Oe=new Date;We=new Date(Date.UTC(Oe.getFullYear(),Oe.getMonth(),Oe.getDate())),De=!1,g.log(`[EntryForm Init Effect ${ne}] NEW MODE: Date defaulted to today. User intent: false.`)}E(We),k(De),S(null),he.current=!0}}finally{Se.current&&Ee(!1)}};return l&&l.length>0&&!q.current?(g.log(`[EntryForm Init Effect ${ne}] Skipping initializeForm() due to pending shared files that need processing first`),Ee(!1)):be(),je.current=te,()=>{if(Se.current=!1,B.current&&(B.current.abort(),B.current=null),K.length>0){g.log(`[EntryForm Cleanup] Skipping URL revocation due to active processing queue (${K.length} items)`);return}g.log(`[EntryForm Cleanup] Attempting to revoke ${$e.current.size} URLs.`),$e.current.forEach((ce,we)=>{try{ce&&ce.startsWith("blob:")&&URL.revokeObjectURL(ce)}catch(ue){g.error(`[EntryForm Cleanup] Error revoking URL: ${ue}`)}}),$e.current.clear(),_t.current.clear()}},[e,u,h,x,v,l]),f.useEffect(()=>{var ve,ce;if(g.log("[Shared Files Effect] Running check.",{isEditMode:_e,isAuthenticated:u,isLoadingAuth:h,pendingSharedFiles:l?`${l.length} files`:"null",hasProcessedInitialSharedFiles:q.current,processedSharedFiles:H.current?`${H.current.length} files`:"null",isLoadingData:J,photos:D.length}),_e||!u||h||!l||J){g.log("[Shared Files Effect] Skipping due to conditions not met",{isEditMode:_e,isAuthenticated:u,isLoadingAuth:h,hasPendingFiles:!!l,isLoadingData:J});return}if(H.current&&l.length===H.current.length&&l.every((we,ue)=>H.current[ue].name===we.name&&H.current[ue].size===we.size&&H.current[ue].type===we.type)){g.log("[Shared Files Effect] Skipping already processed shared files");return}const Z=[...l];H.current=Z,g.log(`[Shared Files Effect] Storing ${Z.length} files in processedSharedFilesRef`);const ne=D.length,de=K.length,ee=zo-ne-de;if(g.log(`[Shared Files Effect] Available slots: ${ee} (max: ${zo}, current: ${ne}, queue: ${de})`),Z.length>ee&&(g.warn(`[Shared Files Effect] Too many files (${Z.length}), limiting to ${ee}`),m({title:"Too many files",description:`Limit reached. Added first ${ee}.`,variant:"destructive"}),Z.splice(ee),H.current=Z.slice()),Z.length===0){g.warn("[Shared Files Effect] No files to process after adjustments");return}const Ne=[],be=[];try{Z.forEach(ue=>{if(g.log(`[Shared Files Effect] Processing file: ${ue.name}, type: ${ue.type}, size: ${ue.size}`),!ue.type.startsWith("image/"))throw g.error(`[Shared Files Effect] Invalid file type: ${ue.type} for file ${ue.name}`),new Error(`Invalid file type: ${ue.type}`);g.log(`[Shared Files Effect] Creating blob URL for ${ue.name}`);const De=URL.createObjectURL(ue);g.log(`[Shared Files Effect] Created blob URL: ${De}`),Ne.push(De);const We=crypto.randomUUID();g.log(`[Shared Files Effect] Generated localId: ${We}`),$e.current.set(We,De),g.log(`[Shared Files Effect] Stored blob URL in originalBlobUrlsRef for localId: ${We}`),be.push({file:ue,previewUrl:De,localId:We})}),g.log(`[Shared Files Effect] Created ${be.length} queue items, calling handleFilesSelect`);const we=(ce=(ve=Z[0])==null?void 0:ve.name)==null?void 0:ce.match(/^share-([\d]+)/);if(we&&we[1]){const ue=`share-${we[1]}`;g.log(`[Shared Files Effect] Extracted shareKey ${ue} from file name, storing for later deletion`),Pe.current=ue}me(be.map(ue=>ue.file),be.map(ue=>ue.previewUrl))}catch(we){g.error("[Shared Files Effect] Error processing shared files:",we),Ne.forEach(URL.revokeObjectURL)}},[_e,h,l,c,m,me,J,D.length,K.length]),f.useEffect(()=>{const te=Pe.current!==null&&K.length>0;if(!O||!Se.current&&!te){g.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:O,isMounted:Se.current,isProcessingSharedFiles:te,currentQueueIndex:ae,queueLength:K.length,pendingShareKey:Pe.current});return}te&&g.log("[Queue Effect] Processing shared file queue items",{pendingShareKey:Pe.current,queueLength:K.length}),g.log(`[Queue Effect] Processing queue item at index ${ae} of ${K.length}`);const Z=K[ae];if(!Z){g.error(`[Queue Effect] No item found at index ${ae} in queue of length ${K.length}`),K.length>0&&ae!==null&&(g.warn("[Queue Effect] Invalid queue state detected, resetting queue"),pe(null),Je([]),_&&L(!1));return}g.log(`[Queue Effect] Found item to process: file=${Z.file.name}, localId=${Z.localId}, blob=${Z.previewUrl}`),(async()=>{if(!Se.current){g.warn("[Queue Effect] Component unmounted during processing");return}const de=Z,{file:ee,previewUrl:Ne,localId:be}=de;g.log(`[Queue Effect] Processing file: ${ee.name}, type: ${ee.type}, size: ${ee.size}`),g.log(`[Queue Effect] Using blob URL: ${Ne}`);let ve=null;it.has(be)?(g.log(`[Queue Effect] Using pre-fetched data for ${be}`),ve=it.get(be),at(ce=>{const we=new Map(ce);return we.delete(be),we})):g.log(`[Queue Effect] No pre-fetched data available for ${be}, will fetch now`);try{g.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${ee.name}`);const{dims:ce,exif:we}=ve??await(async()=>{g.log(`[Queue Effect] Fetching data now for ${ee.name}`);const ze=await Ef(ee),ct=await Pf(ee);return g.log(`[Queue Effect] Got dimensions: ${ze.width}×${ze.height} and EXIF data:`,ct),{dims:ze,exif:ct}})();if(!Se.current){g.warn("[Queue Effect] Component unmounted during data fetch");return}g.log(`[Queue Effect] Calculating initial crop for ${ee.name}`);const ue=Math.min(ce.width,ce.height),De={x:Math.round((ce.width-ue)/2),y:Math.round((ce.height-ue)/2),w:Math.round(ue),h:Math.round(ue)};g.log(`[Queue Effect] Initial crop calculated: x=${De.x}, y=${De.y}, w=${De.w}, h=${De.h}`);const We={isNew:!0,file:ee,originalDimensions:ce,exifData:we,localPreviewUrl:Ne,localId:be};if(g.log(`[Queue Effect] Created newPhotoBase object with localId: ${be}`),g.log(`[Queue Effect] Date Logic check - photos: ${D.length}, initialExifDate: ${j}, isEditMode: ${_e}`),D.length===0&&!j&&!_e){g.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const ze=we.exifDate;let ct=!1;if(g.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${P}. Storing initial EXIF date string: ${ze}`),X(ze),ze){g.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${ze}, parsing components`);const[sn,Xt,br]=ze.split("-").map(Number);if(g.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${sn}, month=${Xt}, day=${br}`),!isNaN(sn)&&!isNaN(Xt)&&!isNaN(br)){const tr=new Date(Date.UTC(sn,Xt-1,br)),nr=tr.toISOString().split("T")[0],oy=C.toISOString().split("T")[0];g.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${nr}`),P?(g.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${oy} vs EXIF as UTC: ${nr}`),ct=nr!==oy,g.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${ct}`)):(g.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${nr}`),E(tr),ct=!1,g.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else g.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${ze}. Setting warning false.`),ct=!1}else g.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),ct=!1;g.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${ct}`),Q(ct)}else g.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");ye(We),I(null),Y(Ne),_||L(!0);const Oe=ae+1;Oe<K.length&&fe(Oe)}catch(ce){if(g.error(`[Queue Effect] Error processing queue item ${ae}:`,ce),m({title:"Error Processing Photo",description:`Could not process: ${ee.name}. ${ce instanceof Error?ce.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(Ne)}catch{}if($e.current.delete(be),Se.current){const we=ae!==null?ae+1:null;we!==null&&we<K.length?pe(we):(g.log("[Queue Effect] Last item failed. Resetting queue."),pe(null),Je([]),_&&L(!1))}}})()},[ae,K,it,_,fe,D.length,j,_e,C,m,P]),f.useEffect(()=>{if(!O||!Se.current){g.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:O,isMounted:Se.current,currentQueueIndex:ae,queueLength:K.length});return}g.log(`[Queue Effect] Processing queue item at index ${ae} of ${K.length}`);const te=K[ae];if(!te){g.error(`[Queue Effect] No item found at index ${ae} in queue of length ${K.length}`),K.length>0&&ae!==null&&(g.warn("[Queue Effect] Invalid queue state detected, resetting queue"),pe(null),Je([]),_&&L(!1));return}g.log(`[Queue Effect] Found item to process: file=${te.file.name}, localId=${te.localId}, blob=${te.previewUrl}`),(async()=>{if(!Se.current){g.warn("[Queue Effect] Component unmounted during processing");return}const ne=te,{file:de,previewUrl:ee,localId:Ne}=ne;g.log(`[Queue Effect] Processing file: ${de.name}, type: ${de.type}, size: ${de.size}`),g.log(`[Queue Effect] Using blob URL: ${ee}`);let be=null;it.has(Ne)?(g.log(`[Queue Effect] Using pre-fetched data for ${Ne}`),be=it.get(Ne),at(ve=>{const ce=new Map(ve);return ce.delete(Ne),ce})):g.log(`[Queue Effect] No pre-fetched data available for ${Ne}, will fetch now`);try{g.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${de.name}`);const{dims:ve,exif:ce}=be??await(async()=>{g.log(`[Queue Effect] Fetching data now for ${de.name}`);const Oe=await Ef(de),ze=await Pf(de);return g.log(`[Queue Effect] Got dimensions: ${Oe.width}×${Oe.height} and EXIF data:`,ze),{dims:Oe,exif:ze}})();if(!Se.current){g.warn("[Queue Effect] Component unmounted during data fetch");return}g.log(`[Queue Effect] Calculating initial crop for ${de.name}`);const we=Math.min(ve.width,ve.height),ue={x:Math.round((ve.width-we)/2),y:Math.round((ve.height-we)/2),w:Math.round(we),h:Math.round(we)};g.log(`[Queue Effect] Initial crop calculated: x=${ue.x}, y=${ue.y}, w=${ue.w}, h=${ue.h}`);const De={isNew:!0,file:de,originalDimensions:ve,exifData:ce,localPreviewUrl:ee,localId:Ne};if(g.log(`[Queue Effect] Created newPhotoBase object with localId: ${Ne}`),g.log(`[Queue Effect] Date Logic check - photos: ${D.length}, initialExifDate: ${j}, isEditMode: ${_e}`),D.length===0&&!j&&!_e){g.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const Oe=ce.exifDate;let ze=!1;if(g.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${P}. Storing initial EXIF date string: ${Oe}`),X(Oe),Oe){g.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${Oe}, parsing components`);const[ct,sn,Xt]=Oe.split("-").map(Number);if(g.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${ct}, month=${sn}, day=${Xt}`),!isNaN(ct)&&!isNaN(sn)&&!isNaN(Xt)){const br=new Date(Date.UTC(ct,sn-1,Xt)),tr=br.toISOString().split("T")[0],nr=C.toISOString().split("T")[0];g.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${tr}`),P?(g.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${nr} vs EXIF as UTC: ${tr}`),ze=tr!==nr,g.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${ze}`)):(g.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${tr}`),E(br),ze=!1,g.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else g.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${Oe}. Setting warning false.`),ze=!1}else g.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),ze=!1;g.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${ze}`),Q(ze)}else g.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");ye(De),I(null),Y(ee),_||L(!0);const We=ae+1;We<K.length&&fe(We)}catch(ve){if(g.error(`[Queue Effect] Error processing queue item ${ae}:`,ve),m({title:"Error Processing Photo",description:`Could not process: ${de.name}. ${ve instanceof Error?ve.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ee)}catch{}if($e.current.delete(Ne),Se.current){const ce=ae!==null?ae+1:null;ce!==null&&ce<K.length?pe(ce):(g.log("[Queue Effect] Last item failed. Resetting queue."),pe(null),Je([]),_&&L(!1))}}})()},[ae,K,it,_,fe,D.length,j,_e,C,m,P]);const Ce=f.useCallback(te=>{if(!Se.current){g.warn("[EntryForm] handleCropComplete called but component unmounted");return}if(g.log("[EntryForm] handleCropComplete called with crop data:",{newCropData:te,hasPendingNewPhotoData:!!z,photoIndexToCrop:M,pendingPhotoLocalId:z==null?void 0:z.localId,pendingPhotoInfo:z?{fileName:z.file.name,fileType:z.file.type,fileSize:z.file.size,dimensions:`${z.originalDimensions.width}×${z.originalDimensions.height}`,localPreviewUrl:z.localPreviewUrl}:"none"}),z){g.log(`[EntryForm] Processing pending new photo with localId: ${z.localId}`);const ne={...z,crop:te};g.log(`[EntryForm] Adding new photo to photos array, current count: ${D.length}`),N(de=>[...de,ne]),ye(null),g.log("[EntryForm] Set pendingNewPhotoData to null")}else M!==null&&(g.log(`[EntryForm] Updating crop for existing photo at index: ${M}`),N(ne=>ne.map((de,ee)=>ee===M?{...de,crop:te}:de)));I(null);const Z=ae!==null?ae+1:null;g.log(`[EntryForm] Crop complete. Next queue index: ${Z}. Queue length: ${K.length}`),Z!==null&&Z<K.length?(g.log(`[EntryForm] Moving to next item in queue (index ${Z}), cropper stays open`),pe(Z)):(g.log("[EntryForm] Queue processing finished. Clearing queue and closing cropper"),pe(null),Je([]),L(!1),l&&H.current&&(g.log("[EntryForm] Queue processing complete. Clearing pendingSharedFiles"),c())),Z!==null&&Z<K.length||(g.log("[EntryForm] Scheduling focus on content textarea"),setTimeout(()=>{Rt.current?(Rt.current.focus(),g.log("[EntryForm] Content textarea focused")):g.warn("[EntryForm] Content textarea ref not available")},50))},[ae,K.length,z,M,D.length]),Me=f.useCallback(()=>{if(!Se.current){g.warn("[EntryForm] handleCropCancel called but component unmounted");return}if(g.log("[EntryForm] handleCropCancel called:",{hasPendingNewPhotoData:!!z,photoIndexToCrop:M,currentQueueIndex:ae,processingQueueLength:K.length}),z){if(g.log(`[EntryForm] Discarding pending new photo with localId: ${z.localId}`,{fileName:z.file.name,fileSize:z.file.size,fileType:z.file.type,localPreviewUrl:z.localPreviewUrl}),typeof URL.revokeObjectURL=="function"){g.log(`[EntryForm] Revoking blob URL on CROP CANCEL for localId ${z.localId}: ${z.localPreviewUrl}`);try{URL.revokeObjectURL(z.localPreviewUrl)}catch{}}$e.current.delete(z.localId),ye(null)}I(null);const te=ae!==null?ae+1:null;te!==null&&te<K.length?pe(te):(pe(null),Je([]),L(!1)),te!==null&&te<K.length||setTimeout(()=>{var Z;return(Z=Rt.current)==null?void 0:Z.focus()},50)},[ae,K.length,z,M]),Ke=f.useCallback(te=>{const Z=D[te];if(!Z||O||F){g.warn(`[EntryForm] openCropperForPhoto prevented for index ${te}.`,{isProcessingQueue:O,isBusy:F});return}const ne=Zr(Z)?Z.localId:Z.photoId,de=$e.current.get(ne);de?(I(te),ye(null),Y(de),L(!0)):(m({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),g.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${te}, id ${ne}`))},[D,O,F,m]),Ye=f.useCallback(te=>{ke(te),Ie(!0)},[]),Qe=f.useCallback(()=>{var be;if(Ge===null)return;const te=Ge,Z=D[te];if(!Z){g.warn(`[EntryForm] Photo to remove at index ${te} not found.`),Ie(!1),ke(null);return}const ne=Zr(Z)?Z.localId:Z.photoId,de=te===0;let ee=[];const Ne=$e.current.get(ne);if(typeof URL.revokeObjectURL=="function"&&Ne)try{URL.revokeObjectURL(Ne)}catch(ve){g.error("Error revoking original URL on remove:",ve)}if(typeof URL.revokeObjectURL=="function"&&Z.localPreviewUrl&&Z.localPreviewUrl.startsWith("blob:")&&Z.localPreviewUrl!==Ne)try{URL.revokeObjectURL(Z.localPreviewUrl)}catch(ve){g.error("Error revoking preview URL on remove:",ve)}if($e.current.delete(ne),_t.current.delete(ne),N(ve=>(ee=ve.filter((ce,we)=>we!==te),ee)),de&&Se.current){const ve=ee.length>0?ee[0]:null;let ce=null;if(ve)if(Zr(ve))ce=((be=ve.exifData)==null?void 0:be.exifDate)??null;else{const We=_t.current.get(ve.photoId);ce=(We==null?void 0:We.exifDate)??null}g.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${ce}`),X(ce);const we=C.toISOString().split("T")[0];let ue=!1,De="";if(ce){const[We,Oe,ze]=ce.split("-").map(Number);!isNaN(We)&&!isNaN(Oe)&&!isNaN(ze)&&(De=new Date(Date.UTC(We,Oe-1,ze)).toISOString().split("T")[0],ue=we!==De)}g.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${we} vs New EXIF as UTC: ${De||"N/A"}. Show warning: ${ue}`),Q(ue)}Ie(!1),ke(null)},[Ge,D,C]),bt=f.useCallback(()=>{if(j){g.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${j}.`);const[te,Z,ne]=j.split("-").map(Number);E(new Date(Date.UTC(te,Z-1,ne))),g.log("[EntryForm] handleUseExifDate setting warning to false."),Q(!1)}},[j]),$t=f.useCallback(te=>{try{const Z=new Date(te.target.value+"T00:00:00Z");if(isNaN(Z.getTime()))g.warn("[EntryForm] Invalid date input received:",te.target.value);else{E(Z);const ne=Z.toISOString().split("T")[0];let de=!1,ee="";if(j){const[Ne,be,ve]=j.split("-").map(Number);!isNaN(Ne)&&!isNaN(be)&&!isNaN(ve)&&(ee=new Date(Date.UTC(Ne,be-1,ve)).toISOString().split("T")[0],de=ne!==ee)}g.log(`[handleDateChange - DATE CHECK 1] Date changed to ${te.target.value}. Comparing New Form UTC: ${ne} vs Initial EXIF as UTC: ${ee||"N/A"}. Show warning: ${de}`),Q(de)}}catch(Z){g.error("[EntryForm] Error processing date change:",Z)}},[j]),Nt=f.useCallback(async()=>{if(g.log("[EntryForm] handleSave called.",{isBusy:F,canSave:W}),F||!W){g.warn("[EntryForm] Save prevented:",{isBusy:F,canSave:W});return}const Z=await n({date:C,content:A,photos:D},y);Z&&Se.current?(qe(!1),Pe.current&&(g.log(`[EntryForm] Save successful, cleaning up shared files with key: ${Pe.current}`),d(Pe.current),Pe.current=null)):Z||g.warn("[EntryForm] Save failed (returned false).")},[F,W,C,A,D,n,y]),gt=f.useCallback(()=>{_?Me():Ae?kt(!0):w("/")},[_,Ae,w,Me]),Qt=f.useCallback(()=>{kt(!1),qe(!1),Pe.current&&(g.log(`[EntryForm] Canceling entry, cleaning up shared files with key: ${Pe.current}`),d(Pe.current),Pe.current=null),w("/")},[w]),Ct=f.useCallback(te=>{te.key==="Enter"&&(te.metaKey||te.ctrlKey)&&(te.preventDefault(),W&&!F&&Nt())},[W,F,Nt]);if(h&&!u)return g.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(J)return g.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})," "]});g.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:_,isEditMode:_e,photoCount:D.length,queueLength:K.length,currentQueueIndex:ae,isLoadingData:J,isBusy:F,formDateUTC:C.toISOString().split("T")[0],initialExifDate:j,showExifDateMismatchWarning:$,isDateSetByUserIntent:P});const hs=()=>{var te;if(_&&U){const Z=z??(M!==null?D[M]:null),ne=Z&&"crop"in Z?Z.crop:void 0;let de;if(z&&z.originalDimensions)de=z.originalDimensions;else if(M!==null&&Kk(D[M])){const ee=_t.current.get(D[M].photoId);ee!=null&&ee.width&&(ee!=null&&ee.height)&&(de={width:ee.width,height:ee.height})}else M!==null&&Zr(D[M])&&(de=D[M].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(q4,{imageUrl:U,onCropComplete:Ce,onCancel:Me,initialCropData:ne,initialImageDimensions:de})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(v4,{photos:D,setPhotos:N,isBusy:F,isLoadingInitial:!1,initialPhotoCount:((te=y==null?void 0:y.photos)==null?void 0:te.length)??0,onOpenCropper:Ke,onRemovePhoto:Ye,onFilesSelect:me,originalBlobUrlsRef:$e,existingPhotoMetaRef:_t,processingQueueLength:K.length,currentQueueIndex:ae,isProcessingQueueItem:O}),D.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(w4,{date:C,onDateChange:$t,showExifWarning:$,initialExifDate:j,onUseExifDate:bt,isBusy:F}),p.jsx(x4,{content:A,setContent:R,isBusy:F,onKeyDown:Ct,textAreaRef:Rt})]})]})},er=()=>_?`Adjust Photo${K.length>0&&ae!==null?` (${ae+1}/${K.length})`:""}`:_e?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Xe,{variant:"ghost",size:"icon",onClick:gt,disabled:F&&!_,"aria-label":_?"Cancel Crop":"Go Back",children:[" ",p.jsx(Xb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:er()}),p.jsxs(Xe,{variant:"ghost",size:"icon",onClick:gt,disabled:F&&!_,"aria-label":"Close",children:[" ",p.jsx(Iu,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[hs(),!_&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(S4,{isBusy:F,isSaving:a,isEditMode:_e,canSave:W,onCancel:gt,onSave:Nt})})]})]}),p.jsx(L0,{open:Be,onOpenChange:Ie,onConfirm:Qe,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(L0,{open:Tt,onOpenChange:kt,onConfirm:Qt,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function G4(){return g.log("[App] Using hook:",Lh),p.jsx($M,{client:BM,children:p.jsx(Tj,{children:p.jsxs(GC,{children:[p.jsx(mb,{hook:Lh,children:p.jsxs(mM,{children:[p.jsx(Tl,{path:"/",component:P4}),p.jsx(Tl,{path:"/entry/new",children:p.jsx(j0,{})}),p.jsx(Tl,{path:"/entry/edit/:id",children:e=>p.jsx(j0,{entryId:e.id})}),p.jsx(Tl,{children:()=>p.jsx(bL,{})})]})}),p.jsx(z_,{})]})})})}ob(document.getElementById("root")).render(p.jsx(Qj,{attribute:"class",children:p.jsx(G4,{})}))});export default K4();
