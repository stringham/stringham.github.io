var ny=e=>{throw TypeError(e)};var cA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var sd=(e,t,n)=>t.has(e)||ny("Cannot "+n);var V=(e,t,n)=>(sd(e,t,"read from private field"),n?n.call(e):t.get(e)),He=(e,t,n)=>t.has(e)?ny("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ae=(e,t,n,r)=>(sd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ft=(e,t,n)=>(sd(e,t,"access private method"),n);var il=(e,t,n,r)=>({set _(o){Ae(e,t,o,n)},get _(){return V(e,t,r)}});var W4=cA((i3,lA)=>{function uA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B0={exports:{}},su={},z0={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=Symbol.for("react.element"),dA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),hA=Symbol.for("react.strict_mode"),pA=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),gA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),wA=Symbol.for("react.memo"),xA=Symbol.for("react.lazy"),ry=Symbol.iterator;function SA(e){return e===null||typeof e!="object"?null:(e=ry&&e[ry]||e["@@iterator"],typeof e=="function"?e:null)}var q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,H0={};function mi(e,t,n){this.props=e,this.context=t,this.refs=H0,this.updater=n||q0}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G0(){}G0.prototype=mi.prototype;function lp(e,t,n){this.props=e,this.context=t,this.refs=H0,this.updater=n||q0}var cp=lp.prototype=new G0;cp.constructor=lp;W0(cp,mi.prototype);cp.isPureReactComponent=!0;var oy=Array.isArray,K0=Object.prototype.hasOwnProperty,up={current:null},Y0={key:!0,ref:!0,__self:!0,__source:!0};function Q0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)K0.call(t,r)&&!Y0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ua,type:e,key:s,ref:i,props:o,_owner:up.current}}function bA(e,t){return{$$typeof:Ua,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ua}function CA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sy=/\/+/g;function id(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CA(""+e.key):t.toString(36)}function zl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ua:case dA:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+id(i,0):r,oy(o)?(n="",e!=null&&(n=e.replace(sy,"$&/")+"/"),zl(o,t,n,"",function(c){return c})):o!=null&&(dp(o)&&(o=bA(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(sy,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",oy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+id(s,a);i+=zl(s,t,n,l,o)}else if(l=SA(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+id(s,a++),i+=zl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function al(e,t,n){if(e==null)return e;var r=[],o=0;return zl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function EA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},ql={transition:null},PA={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:ql,ReactCurrentOwner:up};function X0(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:al,forEach:function(e,t,n){al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=mi;_e.Fragment=fA;_e.Profiler=pA;_e.PureComponent=lp;_e.StrictMode=hA;_e.Suspense=vA;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PA;_e.act=X0;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=W0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=up.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)K0.call(t,l)&&!Y0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ua,type:e.type,key:o,ref:s,props:r,_owner:i}};_e.createContext=function(e){return e={$$typeof:gA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mA,_context:e},e.Consumer=e};_e.createElement=Q0;_e.createFactory=function(e){var t=Q0.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:yA,render:e}};_e.isValidElement=dp;_e.lazy=function(e){return{$$typeof:xA,_payload:{_status:-1,_result:e},_init:EA}};_e.memo=function(e,t){return{$$typeof:wA,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=ql.transition;ql.transition={};try{e()}finally{ql.transition=t}};_e.unstable_act=X0;_e.useCallback=function(e,t){return Jt.current.useCallback(e,t)};_e.useContext=function(e){return Jt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Jt.current.useEffect(e,t)};_e.useId=function(){return Jt.current.useId()};_e.useImperativeHandle=function(e,t,n){return Jt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Jt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Jt.current.useReducer(e,t,n)};_e.useRef=function(e){return Jt.current.useRef(e)};_e.useState=function(e){return Jt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Jt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Jt.current.useTransition()};_e.version="18.3.1";z0.exports=_e;var f=z0.exports;const bt=ap(f),Z0=uA({__proto__:null,default:bt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA=f,kA=Symbol.for("react.element"),AA=Symbol.for("react.fragment"),DA=Object.prototype.hasOwnProperty,RA=TA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MA={key:!0,ref:!0,__self:!0,__source:!0};function J0(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)DA.call(t,r)&&!MA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:kA,type:e,key:s,ref:i,props:o,_owner:RA.current}}su.Fragment=AA;su.jsx=J0;su.jsxs=J0;B0.exports=su;var p=B0.exports,ex={exports:{}},xn={},tx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,_){var $=R.length;R.push(_);e:for(;0<$;){var G=$-1>>>1,X=R[G];if(0<o(X,_))R[G]=_,R[$]=X,$=G;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var _=R[0],$=R.pop();if($!==_){R[0]=$;e:for(var G=0,X=R.length,J=X>>>1;G<J;){var ue=2*(G+1)-1,fe=R[ue],Ee=ue+1,Pe=R[Ee];if(0>o(fe,$))Ee<X&&0>o(Pe,fe)?(R[G]=Pe,R[Ee]=$,G=Ee):(R[G]=fe,R[ue]=$,G=ue);else if(Ee<X&&0>o(Pe,$))R[G]=Pe,R[Ee]=$,G=Ee;else break e}}return _}function o(R,_){var $=R.sortIndex-_.sortIndex;return $!==0?$:R.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,y=!1,g=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=R)r(c),_.sortIndex=_.expirationTime,t(l,_);else break;_=n(c)}}function C(R){if(w=!1,x(R),!g)if(n(l)!==null)g=!0,N(E);else{var _=n(c);_!==null&&L(C,_.startTime-R)}}function E(R,_){g=!1,w&&(w=!1,m(A),A=-1),y=!0;var $=h;try{for(x(_),u=n(l);u!==null&&(!(u.expirationTime>_)||R&&!j());){var G=u.callback;if(typeof G=="function"){u.callback=null,h=u.priorityLevel;var X=G(u.expirationTime<=_);_=e.unstable_now(),typeof X=="function"?u.callback=X:u===n(l)&&r(l),x(_)}else r(l);u=n(l)}if(u!==null)var J=!0;else{var ue=n(c);ue!==null&&L(C,ue.startTime-_),J=!1}return J}finally{u=null,h=$,y=!1}}var P=!1,k=null,A=-1,D=5,M=-1;function j(){return!(e.unstable_now()-M<D)}function F(){if(k!==null){var R=e.unstable_now();M=R;var _=!0;try{_=k(!0,R)}finally{_?H():(P=!1,k=null)}}else P=!1}var H;if(typeof v=="function")H=function(){v(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,z=O.port2;O.port1.onmessage=F,H=function(){z.postMessage(null)}}else H=function(){b(F,0)};function N(R){k=R,P||(P=!0,H())}function L(R,_){A=b(function(){R(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,N(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var $=h;h=_;try{return R()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,_){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=h;h=R;try{return _()}finally{h=$}},e.unstable_scheduleCallback=function(R,_,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,R={id:d++,callback:_,priorityLevel:R,startTime:$,expirationTime:X,sortIndex:-1},$>G?(R.sortIndex=$,t(c,R),n(l)===null&&R===n(c)&&(w?(m(A),A=-1):w=!0,L(C,$-G))):(R.sortIndex=X,t(l,R),g||y||(g=!0,N(E))),R},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(R){var _=h;return function(){var $=h;h=_;try{return R.apply(this,arguments)}finally{h=$}}}})(nx);tx.exports=nx;var _A=tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=f,vn=_A;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,ia={};function is(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(ia[e]=t,e=0;e<t.length;e++)rx.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,NA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iy={},ay={};function LA(e){return Ef.call(ay,e)?!0:Ef.call(iy,e)?!1:NA.test(e)?ay[e]=!0:(iy[e]=!0,!1)}function jA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FA(e,t,n,r){if(t===null||typeof t>"u"||jA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jt[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jt[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jt[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jt[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jt[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jt[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jt[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jt[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jt[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function hp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fp,hp);jt[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fp,hp);jt[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fp,hp);jt[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jt[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});jt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jt[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function pp(e,t,n,r){var o=jt.hasOwnProperty(t)?jt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FA(t,n,o,r)&&(n=null),r||o===null?LA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),sx=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),ly=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=ly&&e[ly]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,ad;function Oi(e){if(ad===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ad=t&&t[1]||""}return`
`+ad+e}var ld=!1;function cd(e,t){if(!e||ld)return"";ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ld=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oi(e):""}function OA(e){switch(e.tag){case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return e=cd(e.type,!1),e;case 11:return e=cd(e.type.render,!1),e;case 1:return e=cd(e.type,!0),e;default:return""}}function Af(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ms:return"Portal";case Pf:return"Profiler";case mp:return"StrictMode";case Tf:return"Suspense";case kf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sx:return(e.displayName||"Context")+".Consumer";case ox:return(e._context.displayName||"Context")+".Provider";case gp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yp:return t=e.displayName||null,t!==null?t:Af(e.type)||"Memo";case Kr:t=e._payload,e=e._init;try{return Af(e(t))}catch{}}return null}function $A(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Af(t);case 8:return t===mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VA(e){var t=ax(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=VA(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ax(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Df(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cx(e,t){t=t.checked,t!=null&&pp(e,"checked",t,!1)}function Rf(e,t){cx(e,t);var n=wo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mf(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mf(e,t,n){(t!=="number"||dc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $i=Array.isArray;function Is(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function _f(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if($i(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wo(n)}}function ux(e,t){var n=wo(t.value),r=wo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ul,fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UA=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(e){UA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hi[t]=Hi[e]})});function hx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hi.hasOwnProperty(e)&&Hi[e]?(""+t).trim():t+"px"}function px(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=hx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var BA=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(e,t){if(t){if(BA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Lf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function vp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ff=null,Ns=null,Ls=null;function hy(e){if(e=qa(e)){if(typeof Ff!="function")throw Error(W(280));var t=e.stateNode;t&&(t=uu(t),Ff(e.stateNode,e.type,t))}}function mx(e){Ns?Ls?Ls.push(e):Ls=[e]:Ns=e}function gx(){if(Ns){var e=Ns,t=Ls;if(Ls=Ns=null,hy(e),t)for(e=0;e<t.length;e++)hy(t[e])}}function yx(e,t){return e(t)}function vx(){}var ud=!1;function wx(e,t,n){if(ud)return e(t,n);ud=!0;try{return yx(e,t,n)}finally{ud=!1,(Ns!==null||Ls!==null)&&(vx(),gx())}}function la(e,t){var n=e.stateNode;if(n===null)return null;var r=uu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Of=!1;if(Rr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Of=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Of=!1}function zA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Gi=!1,fc=null,hc=!1,$f=null,qA={onError:function(e){Gi=!0,fc=e}};function WA(e,t,n,r,o,s,i,a,l){Gi=!1,fc=null,zA.apply(qA,arguments)}function HA(e,t,n,r,o,s,i,a,l){if(WA.apply(this,arguments),Gi){if(Gi){var c=fc;Gi=!1,fc=null}else throw Error(W(198));hc||(hc=!0,$f=c)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function py(e){if(as(e)!==e)throw Error(W(188))}function GA(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return py(o),e;if(s===r)return py(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function Sx(e){return e=GA(e),e!==null?bx(e):null}function bx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bx(e);if(t!==null)return t;e=e.sibling}return null}var Cx=vn.unstable_scheduleCallback,my=vn.unstable_cancelCallback,KA=vn.unstable_shouldYield,YA=vn.unstable_requestPaint,xt=vn.unstable_now,QA=vn.unstable_getCurrentPriorityLevel,wp=vn.unstable_ImmediatePriority,Ex=vn.unstable_UserBlockingPriority,pc=vn.unstable_NormalPriority,XA=vn.unstable_LowPriority,Px=vn.unstable_IdlePriority,iu=null,ur=null;function ZA(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(iu,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:tD,JA=Math.log,eD=Math.LN2;function tD(e){return e>>>=0,e===0?32:31-(JA(e)/eD|0)|0}var dl=64,fl=4194304;function Vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Vi(a):(s&=i,s!==0&&(r=Vi(s)))}else i=n&~o,i!==0?r=Vi(i):s!==0&&(r=Vi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),o=1<<n,r|=e[n],t&=~o;return r}function nD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Wn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=nD(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Vf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tx(){var e=dl;return dl<<=1,!(dl&4194240)&&(dl=64),e}function dd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ba(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function oD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Wn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function xp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ye=0;function kx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ax,Sp,Dx,Rx,Mx,Uf=!1,hl=[],ao=null,lo=null,co=null,ca=new Map,ua=new Map,Xr=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(e,t){switch(e){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function ki(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=qa(t),t!==null&&Sp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function iD(e,t,n,r,o){switch(t){case"focusin":return ao=ki(ao,e,t,n,r,o),!0;case"dragenter":return lo=ki(lo,e,t,n,r,o),!0;case"mouseover":return co=ki(co,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ca.set(s,ki(ca.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ua.set(s,ki(ua.get(s)||null,e,t,n,r,o)),!0}return!1}function _x(e){var t=Fo(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=xx(n),t!==null){e.blockedOn=t,Mx(e.priority,function(){Dx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return t=qa(n),t!==null&&Sp(t),e.blockedOn=n,!1;t.shift()}return!0}function yy(e,t,n){Wl(e)&&n.delete(t)}function aD(){Uf=!1,ao!==null&&Wl(ao)&&(ao=null),lo!==null&&Wl(lo)&&(lo=null),co!==null&&Wl(co)&&(co=null),ca.forEach(yy),ua.forEach(yy)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Uf||(Uf=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,aD)))}function da(e){function t(o){return Ai(o,e)}if(0<hl.length){Ai(hl[0],e);for(var n=1;n<hl.length;n++){var r=hl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ao!==null&&Ai(ao,e),lo!==null&&Ai(lo,e),co!==null&&Ai(co,e),ca.forEach(t),ua.forEach(t),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&Xr.shift()}var js=Or.ReactCurrentBatchConfig,gc=!0;function lD(e,t,n,r){var o=Ye,s=js.transition;js.transition=null;try{Ye=1,bp(e,t,n,r)}finally{Ye=o,js.transition=s}}function cD(e,t,n,r){var o=Ye,s=js.transition;js.transition=null;try{Ye=4,bp(e,t,n,r)}finally{Ye=o,js.transition=s}}function bp(e,t,n,r){if(gc){var o=Bf(e,t,n,r);if(o===null)Sd(e,t,r,yc,n),gy(e,r);else if(iD(o,e,t,n,r))r.stopPropagation();else if(gy(e,r),t&4&&-1<sD.indexOf(e)){for(;o!==null;){var s=qa(o);if(s!==null&&Ax(s),s=Bf(e,t,n,r),s===null&&Sd(e,t,r,yc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Sd(e,t,r,null,n)}}var yc=null;function Bf(e,t,n,r){if(yc=null,e=vp(r),e=Fo(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function Ix(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QA()){case wp:return 1;case Ex:return 4;case pc:case XA:return 16;case Px:return 536870912;default:return 16}default:return 16}}var oo=null,Cp=null,Hl=null;function Nx(){if(Hl)return Hl;var e,t=Cp,n=t.length,r,o="value"in oo?oo.value:oo.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Hl=o.slice(e,1<r?1-r:void 0)}function Gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pl(){return!0}function vy(){return!1}function Sn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pl:vy,this.isPropagationStopped=vy,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),t}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ep=Sn(gi),za=pt({},gi,{view:0,detail:0}),uD=Sn(za),fd,hd,Di,au=pt({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(fd=e.screenX-Di.screenX,hd=e.screenY-Di.screenY):hd=fd=0,Di=e),fd)},movementY:function(e){return"movementY"in e?e.movementY:hd}}),wy=Sn(au),dD=pt({},au,{dataTransfer:0}),fD=Sn(dD),hD=pt({},za,{relatedTarget:0}),pd=Sn(hD),pD=pt({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),mD=Sn(pD),gD=pt({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yD=Sn(gD),vD=pt({},gi,{data:0}),xy=Sn(vD),wD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SD[e])?!!t[e]:!1}function Pp(){return bD}var CD=pt({},za,{key:function(e){if(e.key){var t=wD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ED=Sn(CD),PD=pt({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sy=Sn(PD),TD=pt({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),kD=Sn(TD),AD=pt({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),DD=Sn(AD),RD=pt({},au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MD=Sn(RD),_D=[9,13,27,32],Tp=Rr&&"CompositionEvent"in window,Ki=null;Rr&&"documentMode"in document&&(Ki=document.documentMode);var ID=Rr&&"TextEvent"in window&&!Ki,Lx=Rr&&(!Tp||Ki&&8<Ki&&11>=Ki),by=" ",Cy=!1;function jx(e,t){switch(e){case"keyup":return _D.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function ND(e,t){switch(e){case"compositionend":return Fx(t);case"keypress":return t.which!==32?null:(Cy=!0,by);case"textInput":return e=t.data,e===by&&Cy?null:e;default:return null}}function LD(e,t){if(ys)return e==="compositionend"||!Tp&&jx(e,t)?(e=Nx(),Hl=Cp=oo=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lx&&t.locale!=="ko"?null:t.data;default:return null}}var jD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jD[e.type]:t==="textarea"}function Ox(e,t,n,r){mx(r),t=vc(t,"onChange"),0<t.length&&(n=new Ep("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yi=null,fa=null;function FD(e){Yx(e,0)}function lu(e){var t=xs(e);if(lx(t))return e}function OD(e,t){if(e==="change")return t}var $x=!1;if(Rr){var md;if(Rr){var gd="oninput"in document;if(!gd){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),gd=typeof Py.oninput=="function"}md=gd}else md=!1;$x=md&&(!document.documentMode||9<document.documentMode)}function Ty(){Yi&&(Yi.detachEvent("onpropertychange",Vx),fa=Yi=null)}function Vx(e){if(e.propertyName==="value"&&lu(fa)){var t=[];Ox(t,fa,e,vp(e)),wx(FD,t)}}function $D(e,t,n){e==="focusin"?(Ty(),Yi=t,fa=n,Yi.attachEvent("onpropertychange",Vx)):e==="focusout"&&Ty()}function VD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(fa)}function UD(e,t){if(e==="click")return lu(t)}function BD(e,t){if(e==="input"||e==="change")return lu(t)}function zD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:zD;function ha(e,t){if(Kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ef.call(t,o)||!Kn(e[o],t[o]))return!1}return!0}function ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ay(e,t){var n=ky(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function Ux(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ux(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bx(){for(var e=window,t=dc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dc(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qD(e){var t=Bx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ux(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ay(n,s);var i=Ay(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WD=Rr&&"documentMode"in document&&11>=document.documentMode,vs=null,zf=null,Qi=null,qf=!1;function Dy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||vs==null||vs!==dc(r)||(r=vs,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&ha(Qi,r)||(Qi=r,r=vc(zf,"onSelect"),0<r.length&&(t=new Ep("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vs)))}function ml(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ws={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},yd={},zx={};Rr&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function cu(e){if(yd[e])return yd[e];if(!ws[e])return e;var t=ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zx)return yd[e]=t[n];return e}var qx=cu("animationend"),Wx=cu("animationiteration"),Hx=cu("animationstart"),Gx=cu("transitionend"),Kx=new Map,Ry="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(e,t){Kx.set(e,t),is(t,[e])}for(var vd=0;vd<Ry.length;vd++){var wd=Ry[vd],HD=wd.toLowerCase(),GD=wd[0].toUpperCase()+wd.slice(1);To(HD,"on"+GD)}To(qx,"onAnimationEnd");To(Wx,"onAnimationIteration");To(Hx,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(Gx,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function My(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HA(r,t,void 0,e),e.currentTarget=null}function Yx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;My(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;My(o,a,c),s=l}}}if(hc)throw e=$f,hc=!1,$f=null,e}function rt(e,t){var n=t[Yf];n===void 0&&(n=t[Yf]=new Set);var r=e+"__bubble";n.has(r)||(Qx(t,e,2,!1),n.add(r))}function xd(e,t,n){var r=0;t&&(r|=4),Qx(n,e,r,t)}var gl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[gl]){e[gl]=!0,rx.forEach(function(n){n!=="selectionchange"&&(KD.has(n)||xd(n,!1,e),xd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gl]||(t[gl]=!0,xd("selectionchange",!1,t))}}function Qx(e,t,n,r){switch(Ix(t)){case 1:var o=lD;break;case 4:o=cD;break;default:o=bp}n=o.bind(null,t,n,e),o=void 0,!Of||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Sd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Fo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}wx(function(){var c=s,d=vp(n),u=[];e:{var h=Kx.get(e);if(h!==void 0){var y=Ep,g=e;switch(e){case"keypress":if(Gl(n)===0)break e;case"keydown":case"keyup":y=ED;break;case"focusin":g="focus",y=pd;break;case"focusout":g="blur",y=pd;break;case"beforeblur":case"afterblur":y=pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kD;break;case qx:case Wx:case Hx:y=mD;break;case Gx:y=DD;break;case"scroll":y=uD;break;case"wheel":y=MD;break;case"copy":case"cut":case"paste":y=yD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sy}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var v=c,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,m!==null&&(C=la(v,m),C!=null&&w.push(ma(v,C,x)))),b)break;v=v.return}0<w.length&&(h=new y(h,g,null,n,d),u.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==jf&&(g=n.relatedTarget||n.fromElement)&&(Fo(g)||g[Mr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=c,g=g?Fo(g):null,g!==null&&(b=as(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(w=wy,C="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Sy,C="onPointerLeave",m="onPointerEnter",v="pointer"),b=y==null?h:xs(y),x=g==null?h:xs(g),h=new w(C,v+"leave",y,n,d),h.target=b,h.relatedTarget=x,C=null,Fo(d)===c&&(w=new w(m,v+"enter",g,n,d),w.target=x,w.relatedTarget=b,C=w),b=C,y&&g)t:{for(w=y,m=g,v=0,x=w;x;x=ds(x))v++;for(x=0,C=m;C;C=ds(C))x++;for(;0<v-x;)w=ds(w),v--;for(;0<x-v;)m=ds(m),x--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=ds(w),m=ds(m)}w=null}else w=null;y!==null&&_y(u,h,y,w,!1),g!==null&&b!==null&&_y(u,b,g,w,!0)}}e:{if(h=c?xs(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var E=OD;else if(Ey(h))if($x)E=BD;else{E=VD;var P=$D}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=UD);if(E&&(E=E(e,c))){Ox(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Mf(h,"number",h.value)}switch(P=c?xs(c):window,e){case"focusin":(Ey(P)||P.contentEditable==="true")&&(vs=P,zf=c,Qi=null);break;case"focusout":Qi=zf=vs=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Dy(u,n,d);break;case"selectionchange":if(WD)break;case"keydown":case"keyup":Dy(u,n,d)}var k;if(Tp)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ys?jx(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Lx&&n.locale!=="ko"&&(ys||A!=="onCompositionStart"?A==="onCompositionEnd"&&ys&&(k=Nx()):(oo=d,Cp="value"in oo?oo.value:oo.textContent,ys=!0)),P=vc(c,A),0<P.length&&(A=new xy(A,e,null,n,d),u.push({event:A,listeners:P}),k?A.data=k:(k=Fx(n),k!==null&&(A.data=k)))),(k=ID?ND(e,n):LD(e,n))&&(c=vc(c,"onBeforeInput"),0<c.length&&(d=new xy("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=k))}Yx(u,t)})}function ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=la(e,n),s!=null&&r.unshift(ma(e,s,o)),s=la(e,t),s!=null&&r.push(ma(e,s,o))),e=e.return}return r}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _y(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=la(n,s),l!=null&&i.unshift(ma(n,l,a))):o||(l=la(n,s),l!=null&&i.push(ma(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var YD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(YD,`
`).replace(QD,"")}function yl(e,t,n){if(t=Iy(t),Iy(e)!==t&&n)throw Error(W(425))}function wc(){}var Wf=null,Hf=null;function Gf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,XD=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,ZD=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(JD)}:Kf;function JD(e){setTimeout(function(){throw e})}function bd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);da(t)}function uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ly(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yi=Math.random().toString(36).slice(2),ar="__reactFiber$"+yi,ga="__reactProps$"+yi,Mr="__reactContainer$"+yi,Yf="__reactEvents$"+yi,eR="__reactListeners$"+yi,tR="__reactHandles$"+yi;function Fo(e){var t=e[ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ly(e);e!==null;){if(n=e[ar])return n;e=Ly(e)}return t}e=n,n=e.parentNode}return null}function qa(e){return e=e[ar]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function uu(e){return e[ga]||null}var Qf=[],Ss=-1;function ko(e){return{current:e}}function ot(e){0>Ss||(e.current=Qf[Ss],Qf[Ss]=null,Ss--)}function tt(e,t){Ss++,Qf[Ss]=e.current,e.current=t}var xo={},Ht=ko(xo),an=ko(!1),Xo=xo;function ti(e,t){var n=e.type.contextTypes;if(!n)return xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ln(e){return e=e.childContextTypes,e!=null}function xc(){ot(an),ot(Ht)}function jy(e,t,n){if(Ht.current!==xo)throw Error(W(168));tt(Ht,t),tt(an,n)}function Xx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,$A(e)||"Unknown",o));return pt({},n,r)}function Sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,Xo=Ht.current,tt(Ht,e),tt(an,an.current),!0}function Fy(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Xx(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,ot(an),ot(Ht),tt(Ht,e)):ot(an),tt(an,n)}var Cr=null,du=!1,Cd=!1;function Zx(e){Cr===null?Cr=[e]:Cr.push(e)}function nR(e){du=!0,Zx(e)}function Ao(){if(!Cd&&Cr!==null){Cd=!0;var e=0,t=Ye;try{var n=Cr;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cr=null,du=!1}catch(o){throw Cr!==null&&(Cr=Cr.slice(e+1)),Cx(wp,Ao),o}finally{Ye=t,Cd=!1}}return null}var bs=[],Cs=0,bc=null,Cc=0,An=[],Dn=0,Zo=null,Er=1,Pr="";function Io(e,t){bs[Cs++]=Cc,bs[Cs++]=bc,bc=e,Cc=t}function Jx(e,t,n){An[Dn++]=Er,An[Dn++]=Pr,An[Dn++]=Zo,Zo=e;var r=Er;e=Pr;var o=32-Wn(r)-1;r&=~(1<<o),n+=1;var s=32-Wn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Er=1<<32-Wn(t)+o|n<<o|r,Pr=s+e}else Er=1<<s|n<<o|r,Pr=e}function Ap(e){e.return!==null&&(Io(e,1),Jx(e,1,0))}function Dp(e){for(;e===bc;)bc=bs[--Cs],bs[Cs]=null,Cc=bs[--Cs],bs[Cs]=null;for(;e===Zo;)Zo=An[--Dn],An[Dn]=null,Pr=An[--Dn],An[Dn]=null,Er=An[--Dn],An[Dn]=null}var gn=null,mn=null,it=!1,qn=null;function eS(e,t){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,mn=uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zo!==null?{id:Er,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gn=e,mn=null,!0):!1;default:return!1}}function Xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zf(e){if(it){var t=mn;if(t){var n=t;if(!Oy(e,t)){if(Xf(e))throw Error(W(418));t=uo(n.nextSibling);var r=gn;t&&Oy(e,t)?eS(r,n):(e.flags=e.flags&-4097|2,it=!1,gn=e)}}else{if(Xf(e))throw Error(W(418));e.flags=e.flags&-4097|2,it=!1,gn=e}}}function $y(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function vl(e){if(e!==gn)return!1;if(!it)return $y(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gf(e.type,e.memoizedProps)),t&&(t=mn)){if(Xf(e))throw tS(),Error(W(418));for(;t;)eS(e,t),t=uo(t.nextSibling)}if($y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mn=uo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mn=null}}else mn=gn?uo(e.stateNode.nextSibling):null;return!0}function tS(){for(var e=mn;e;)e=uo(e.nextSibling)}function ni(){mn=gn=null,it=!1}function Rp(e){qn===null?qn=[e]:qn.push(e)}var rR=Or.ReactCurrentBatchConfig;function Ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function wl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vy(e){var t=e._init;return t(e._payload)}function nS(e){function t(m,v){if(e){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function o(m,v){return m=mo(m,v),m.index=0,m.sibling=null,m}function s(m,v,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,x,C){return v===null||v.tag!==6?(v=Rd(x,m.mode,C),v.return=m,v):(v=o(v,x),v.return=m,v)}function l(m,v,x,C){var E=x.type;return E===gs?d(m,v,x.props.children,C,x.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kr&&Vy(E)===v.type)?(C=o(v,x.props),C.ref=Ri(m,v,x),C.return=m,C):(C=ec(x.type,x.key,x.props,null,m.mode,C),C.ref=Ri(m,v,x),C.return=m,C)}function c(m,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Md(x,m.mode,C),v.return=m,v):(v=o(v,x.children||[]),v.return=m,v)}function d(m,v,x,C,E){return v===null||v.tag!==7?(v=Go(x,m.mode,C,E),v.return=m,v):(v=o(v,x),v.return=m,v)}function u(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Rd(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:return x=ec(v.type,v.key,v.props,null,m.mode,x),x.ref=Ri(m,null,v),x.return=m,x;case ms:return v=Md(v,m.mode,x),v.return=m,v;case Kr:var C=v._init;return u(m,C(v._payload),x)}if($i(v)||Pi(v))return v=Go(v,m.mode,x,null),v.return=m,v;wl(m,v)}return null}function h(m,v,x,C){var E=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ll:return x.key===E?l(m,v,x,C):null;case ms:return x.key===E?c(m,v,x,C):null;case Kr:return E=x._init,h(m,v,E(x._payload),C)}if($i(x)||Pi(x))return E!==null?null:d(m,v,x,C,null);wl(m,x)}return null}function y(m,v,x,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(x)||null,a(v,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ll:return m=m.get(C.key===null?x:C.key)||null,l(v,m,C,E);case ms:return m=m.get(C.key===null?x:C.key)||null,c(v,m,C,E);case Kr:var P=C._init;return y(m,v,x,P(C._payload),E)}if($i(C)||Pi(C))return m=m.get(x)||null,d(v,m,C,E,null);wl(v,C)}return null}function g(m,v,x,C){for(var E=null,P=null,k=v,A=v=0,D=null;k!==null&&A<x.length;A++){k.index>A?(D=k,k=null):D=k.sibling;var M=h(m,k,x[A],C);if(M===null){k===null&&(k=D);break}e&&k&&M.alternate===null&&t(m,k),v=s(M,v,A),P===null?E=M:P.sibling=M,P=M,k=D}if(A===x.length)return n(m,k),it&&Io(m,A),E;if(k===null){for(;A<x.length;A++)k=u(m,x[A],C),k!==null&&(v=s(k,v,A),P===null?E=k:P.sibling=k,P=k);return it&&Io(m,A),E}for(k=r(m,k);A<x.length;A++)D=y(k,m,A,x[A],C),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?A:D.key),v=s(D,v,A),P===null?E=D:P.sibling=D,P=D);return e&&k.forEach(function(j){return t(m,j)}),it&&Io(m,A),E}function w(m,v,x,C){var E=Pi(x);if(typeof E!="function")throw Error(W(150));if(x=E.call(x),x==null)throw Error(W(151));for(var P=E=null,k=v,A=v=0,D=null,M=x.next();k!==null&&!M.done;A++,M=x.next()){k.index>A?(D=k,k=null):D=k.sibling;var j=h(m,k,M.value,C);if(j===null){k===null&&(k=D);break}e&&k&&j.alternate===null&&t(m,k),v=s(j,v,A),P===null?E=j:P.sibling=j,P=j,k=D}if(M.done)return n(m,k),it&&Io(m,A),E;if(k===null){for(;!M.done;A++,M=x.next())M=u(m,M.value,C),M!==null&&(v=s(M,v,A),P===null?E=M:P.sibling=M,P=M);return it&&Io(m,A),E}for(k=r(m,k);!M.done;A++,M=x.next())M=y(k,m,A,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?A:M.key),v=s(M,v,A),P===null?E=M:P.sibling=M,P=M);return e&&k.forEach(function(F){return t(m,F)}),it&&Io(m,A),E}function b(m,v,x,C){if(typeof x=="object"&&x!==null&&x.type===gs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ll:e:{for(var E=x.key,P=v;P!==null;){if(P.key===E){if(E=x.type,E===gs){if(P.tag===7){n(m,P.sibling),v=o(P,x.props.children),v.return=m,m=v;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kr&&Vy(E)===P.type){n(m,P.sibling),v=o(P,x.props),v.ref=Ri(m,P,x),v.return=m,m=v;break e}n(m,P);break}else t(m,P);P=P.sibling}x.type===gs?(v=Go(x.props.children,m.mode,C,x.key),v.return=m,m=v):(C=ec(x.type,x.key,x.props,null,m.mode,C),C.ref=Ri(m,v,x),C.return=m,m=C)}return i(m);case ms:e:{for(P=x.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(m,v.sibling),v=o(v,x.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Md(x,m.mode,C),v.return=m,m=v}return i(m);case Kr:return P=x._init,b(m,v,P(x._payload),C)}if($i(x))return g(m,v,x,C);if(Pi(x))return w(m,v,x,C);wl(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(m,v.sibling),v=o(v,x),v.return=m,m=v):(n(m,v),v=Rd(x,m.mode,C),v.return=m,m=v),i(m)):n(m,v)}return b}var ri=nS(!0),rS=nS(!1),Ec=ko(null),Pc=null,Es=null,Mp=null;function _p(){Mp=Es=Pc=null}function Ip(e){var t=Ec.current;ot(Ec),e._currentValue=t}function Jf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Pc=e,Mp=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function In(e){var t=e._currentValue;if(Mp!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(Pc===null)throw Error(W(308));Es=e,Pc.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Oo=null;function Np(e){Oo===null?Oo=[e]:Oo.push(e)}function oS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Np(t)):(n.next=o.next,o.next=n),t.interleaved=n,_r(e,r)}function _r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Lp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,_r(e,n)}return o=r.interleaved,o===null?(t.next=t,Np(r)):(t.next=o.next,o.next=t),r.interleaved=t,_r(e,n)}function Kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xp(e,n)}}function Uy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tc(e,t,n,r){var o=e.updateQueue;Yr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,w=a;switch(h=t,y=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){u=g.call(y,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(y,u,h):g,h==null)break e;u=pt({},u,h);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=u):d=d.next=y,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);es|=i,e.lanes=i,e.memoizedState=u}}function By(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Wa={},dr=ko(Wa),ya=ko(Wa),va=ko(Wa);function $o(e){if(e===Wa)throw Error(W(174));return e}function jp(e,t){switch(tt(va,t),tt(ya,e),tt(dr,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:If(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=If(t,e)}ot(dr),tt(dr,t)}function oi(){ot(dr),ot(ya),ot(va)}function iS(e){$o(va.current);var t=$o(dr.current),n=If(t,e.type);t!==n&&(tt(ya,e),tt(dr,n))}function Fp(e){ya.current===e&&(ot(dr),ot(ya))}var ct=ko(0);function kc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ed=[];function Op(){for(var e=0;e<Ed.length;e++)Ed[e]._workInProgressVersionPrimary=null;Ed.length=0}var Yl=Or.ReactCurrentDispatcher,Pd=Or.ReactCurrentBatchConfig,Jo=0,ht=null,Pt=null,At=null,Ac=!1,Xi=!1,wa=0,oR=0;function Ot(){throw Error(W(321))}function $p(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Vp(e,t,n,r,o,s){if(Jo=s,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yl.current=e===null||e.memoizedState===null?lR:cR,e=n(r,o),Xi){s=0;do{if(Xi=!1,wa=0,25<=s)throw Error(W(301));s+=1,At=Pt=null,t.updateQueue=null,Yl.current=uR,e=n(r,o)}while(Xi)}if(Yl.current=Dc,t=Pt!==null&&Pt.next!==null,Jo=0,At=Pt=ht=null,Ac=!1,t)throw Error(W(300));return e}function Up(){var e=wa!==0;return wa=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ht.memoizedState=At=e:At=At.next=e,At}function Nn(){if(Pt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=At===null?ht.memoizedState:At.next;if(t!==null)At=t,Pt=e;else{if(e===null)throw Error(W(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},At===null?ht.memoizedState=At=e:At=At.next=e}return At}function xa(e,t){return typeof t=="function"?t(e):t}function Td(e){var t=Nn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Pt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((Jo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,ht.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Kn(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ht.lanes|=s,es|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kd(e){var t=Nn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Kn(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function aS(){}function lS(e,t){var n=ht,r=Nn(),o=t(),s=!Kn(r.memoizedState,o);if(s&&(r.memoizedState=o,sn=!0),r=r.queue,Bp(dS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Sa(9,uS.bind(null,n,r,o,t),void 0,null),Dt===null)throw Error(W(349));Jo&30||cS(n,t,o)}return o}function cS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uS(e,t,n,r){t.value=n,t.getSnapshot=r,fS(t)&&hS(e)}function dS(e,t,n){return n(function(){fS(t)&&hS(e)})}function fS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch{return!0}}function hS(e){var t=_r(e,1);t!==null&&Hn(t,e,1,-1)}function zy(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=aR.bind(null,ht,e),[t.memoizedState,e]}function Sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pS(){return Nn().memoizedState}function Ql(e,t,n,r){var o=nr();ht.flags|=e,o.memoizedState=Sa(1|t,n,void 0,r===void 0?null:r)}function fu(e,t,n,r){var o=Nn();r=r===void 0?null:r;var s=void 0;if(Pt!==null){var i=Pt.memoizedState;if(s=i.destroy,r!==null&&$p(r,i.deps)){o.memoizedState=Sa(t,n,s,r);return}}ht.flags|=e,o.memoizedState=Sa(1|t,n,s,r)}function qy(e,t){return Ql(8390656,8,e,t)}function Bp(e,t){return fu(2048,8,e,t)}function mS(e,t){return fu(4,2,e,t)}function gS(e,t){return fu(4,4,e,t)}function yS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vS(e,t,n){return n=n!=null?n.concat([e]):null,fu(4,4,yS.bind(null,t,e),n)}function zp(){}function wS(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$p(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xS(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$p(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function SS(e,t,n){return Jo&21?(Kn(n,t)||(n=Tx(),ht.lanes|=n,es|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function sR(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=Pd.transition;Pd.transition={};try{e(!1),t()}finally{Ye=n,Pd.transition=r}}function bS(){return Nn().memoizedState}function iR(e,t,n){var r=po(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CS(e))ES(t,n);else if(n=oS(e,t,n,r),n!==null){var o=Zt();Hn(n,e,r,o),PS(n,t,r)}}function aR(e,t,n){var r=po(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CS(e))ES(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Kn(a,i)){var l=t.interleaved;l===null?(o.next=o,Np(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=oS(e,t,o,r),n!==null&&(o=Zt(),Hn(n,e,r,o),PS(n,t,r))}}function CS(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function ES(e,t){Xi=Ac=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xp(e,n)}}var Dc={readContext:In,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},lR={readContext:In,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:qy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ql(4194308,4,yS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ql(4,2,e,t)},useMemo:function(e,t){var n=nr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=iR.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:zy,useDebugValue:zp,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=zy(!1),t=e[0];return e=sR.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,o=nr();if(it){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Dt===null)throw Error(W(349));Jo&30||cS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,qy(dS.bind(null,r,s,e),[e]),r.flags|=2048,Sa(9,uS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=nr(),t=Dt.identifierPrefix;if(it){var n=Pr,r=Er;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cR={readContext:In,useCallback:wS,useContext:In,useEffect:Bp,useImperativeHandle:vS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:xS,useReducer:Td,useRef:pS,useState:function(){return Td(xa)},useDebugValue:zp,useDeferredValue:function(e){var t=Nn();return SS(t,Pt.memoizedState,e)},useTransition:function(){var e=Td(xa)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:aS,useSyncExternalStore:lS,useId:bS,unstable_isNewReconciler:!1},uR={readContext:In,useCallback:wS,useContext:In,useEffect:Bp,useImperativeHandle:vS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:xS,useReducer:kd,useRef:pS,useState:function(){return kd(xa)},useDebugValue:zp,useDeferredValue:function(e){var t=Nn();return Pt===null?t.memoizedState=e:SS(t,Pt.memoizedState,e)},useTransition:function(){var e=kd(xa)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:aS,useSyncExternalStore:lS,useId:bS,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hu={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zt(),o=po(e),s=kr(r,o);s.payload=t,n!=null&&(s.callback=n),t=fo(e,s,o),t!==null&&(Hn(t,e,o,r),Kl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zt(),o=po(e),s=kr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fo(e,s,o),t!==null&&(Hn(t,e,o,r),Kl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zt(),r=po(e),o=kr(n,r);o.tag=2,t!=null&&(o.callback=t),t=fo(e,o,r),t!==null&&(Hn(t,e,r,n),Kl(t,e,r))}};function Wy(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ha(n,r)||!ha(o,s):!0}function TS(e,t,n){var r=!1,o=xo,s=t.contextType;return typeof s=="object"&&s!==null?s=In(s):(o=ln(t)?Xo:Ht.current,r=t.contextTypes,s=(r=r!=null)?ti(e,o):xo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function th(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Lp(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=In(s):(s=ln(t)?Xo:Ht.current,o.context=ti(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(eh(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hu.enqueueReplaceState(o,o.state,null),Tc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var n="",r=t;do n+=OA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Ad(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dR=typeof WeakMap=="function"?WeakMap:Map;function kS(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mc||(Mc=!0,fh=r),nh(e,t)},n}function AS(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){nh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nh(e,t),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Gy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=PR.bind(null,e,t,n),t.then(e,e))}function Ky(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yy(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,fo(n,t,1))),n.lanes|=1),e)}var fR=Or.ReactCurrentOwner,sn=!1;function Qt(e,t,n,r){t.child=e===null?rS(t,null,n,r):ri(t,e.child,n,r)}function Qy(e,t,n,r,o){n=n.render;var s=t.ref;return Fs(t,o),r=Vp(e,t,n,r,s,o),n=Up(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ir(e,t,o)):(it&&n&&Ap(t),t.flags|=1,Qt(e,t,r,o),t.child)}function Xy(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Xp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,DS(e,t,s,r,o)):(e=ec(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(i,r)&&e.ref===t.ref)return Ir(e,t,o)}return t.flags|=1,e=mo(s,r),e.ref=t.ref,e.return=t,t.child=e}function DS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ha(s,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Ir(e,t,o)}return rh(e,t,n,r,o)}function RS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ts,hn),hn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Ts,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Ts,hn),hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(Ts,hn),hn|=r;return Qt(e,t,o,n),t.child}function MS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rh(e,t,n,r,o){var s=ln(n)?Xo:Ht.current;return s=ti(t,s),Fs(t,o),n=Vp(e,t,n,r,s,o),r=Up(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ir(e,t,o)):(it&&r&&Ap(t),t.flags|=1,Qt(e,t,n,o),t.child)}function Zy(e,t,n,r,o){if(ln(n)){var s=!0;Sc(t)}else s=!1;if(Fs(t,o),t.stateNode===null)Xl(e,t),TS(t,n,r),th(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=ln(n)?Xo:Ht.current,c=ti(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Hy(t,i,r,c),Yr=!1;var h=t.memoizedState;i.state=h,Tc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||an.current||Yr?(typeof d=="function"&&(eh(t,n,d,r),l=t.memoizedState),(a=Yr||Wy(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,sS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Vn(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=ln(n)?Xo:Ht.current,l=ti(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Hy(t,i,r,l),Yr=!1,h=t.memoizedState,i.state=h,Tc(t,r,i,o);var g=t.memoizedState;a!==u||h!==g||an.current||Yr?(typeof y=="function"&&(eh(t,n,y,r),g=t.memoizedState),(c=Yr||Wy(t,n,c,r,h,g,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return oh(e,t,n,r,s,o)}function oh(e,t,n,r,o,s){MS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Fy(t,n,!1),Ir(e,t,s);r=t.stateNode,fR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ri(t,e.child,null,s),t.child=ri(t,null,a,s)):Qt(e,t,a,s),t.memoizedState=r.state,o&&Fy(t,n,!0),t.child}function _S(e){var t=e.stateNode;t.pendingContext?jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jy(e,t.context,!1),jp(e,t.containerInfo)}function Jy(e,t,n,r,o){return ni(),Rp(o),t.flags|=256,Qt(e,t,n,r),t.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function IS(e,t,n){var r=t.pendingProps,o=ct.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),tt(ct,o&1),e===null)return Zf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=gu(i,r,0,null),e=Go(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ih(n),t.memoizedState=sh,e):qp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return hR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=mo(a,s):(s=Go(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ih(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=sh,r}return s=e.child,e=s.sibling,r=mo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qp(e,t){return t=gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xl(e,t,n,r){return r!==null&&Rp(r),ri(t,e.child,null,n),e=qp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Ad(Error(W(422))),xl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=gu({mode:"visible",children:r.children},o,0,null),s=Go(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ri(t,e.child,null,i),t.child.memoizedState=ih(i),t.memoizedState=sh,s);if(!(t.mode&1))return xl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Ad(s,r,void 0),xl(e,t,i,r)}if(a=(i&e.childLanes)!==0,sn||a){if(r=Dt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,_r(e,o),Hn(r,e,o,-1))}return Qp(),r=Ad(Error(W(421))),xl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=TR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,mn=uo(o.nextSibling),gn=t,it=!0,qn=null,e!==null&&(An[Dn++]=Er,An[Dn++]=Pr,An[Dn++]=Zo,Er=e.id,Pr=e.overflow,Zo=t),t=qp(t,r.children),t.flags|=4096,t)}function ev(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jf(e.return,t,n)}function Dd(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function NS(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Qt(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ev(e,n,t);else if(e.tag===19)ev(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ct,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&kc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Dd(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&kc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Dd(t,!0,n,null,s);break;case"together":Dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=mo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pR(e,t,n){switch(t.tag){case 3:_S(t),ni();break;case 5:iS(t);break;case 1:ln(t.type)&&Sc(t);break;case 4:jp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;tt(Ec,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?IS(e,t,n):(tt(ct,ct.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);tt(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),tt(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,RS(e,t,n)}return Ir(e,t,n)}var LS,ah,jS,FS;LS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ah=function(){};jS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,$o(dr.current);var s=null;switch(n){case"input":o=Df(e,o),r=Df(e,r),s=[];break;case"select":o=pt({},o,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":o=_f(e,o),r=_f(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wc)}Nf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ia.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ia.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};FS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mi(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mR(e,t,n){var r=t.pendingProps;switch(Dp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return ln(t.type)&&xc(),$t(t),null;case 3:return r=t.stateNode,oi(),ot(an),ot(Ht),Op(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qn!==null&&(mh(qn),qn=null))),ah(e,t),$t(t),null;case 5:Fp(t);var o=$o(va.current);if(n=t.type,e!==null&&t.stateNode!=null)jS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return $t(t),null}if(e=$o(dr.current),vl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ar]=t,r[ga]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(o=0;o<Ui.length;o++)rt(Ui[o],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":cy(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":dy(r,s),rt("invalid",r)}Nf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,e),o=["children",""+a]):ia.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&rt("scroll",r)}switch(n){case"input":cl(r),uy(r,s,!0);break;case"textarea":cl(r),fy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ar]=t,e[ga]=r,LS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Lf(n,r),n){case"dialog":rt("cancel",e),rt("close",e),o=r;break;case"iframe":case"object":case"embed":rt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ui.length;o++)rt(Ui[o],e);o=r;break;case"source":rt("error",e),o=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),o=r;break;case"details":rt("toggle",e),o=r;break;case"input":cy(e,r),o=Df(e,r),rt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pt({},r,{value:void 0}),rt("invalid",e);break;case"textarea":dy(e,r),o=_f(e,r),rt("invalid",e);break;default:o=r}Nf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?px(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&aa(e,l):typeof l=="number"&&aa(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",e):l!=null&&pp(e,s,l,i))}switch(n){case"input":cl(e),uy(e,r,!1);break;case"textarea":cl(e),fy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Is(e,!!r.multiple,s,!1):r.defaultValue!=null&&Is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)FS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=$o(va.current),$o(dr.current),vl(t)){if(r=t.stateNode,n=t.memoizedProps,r[ar]=t,(s=r.nodeValue!==n)&&(e=gn,e!==null))switch(e.tag){case 3:yl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=t,t.stateNode=r}return $t(t),null;case 13:if(ot(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&mn!==null&&t.mode&1&&!(t.flags&128))tS(),ni(),t.flags|=98560,s=!1;else if(s=vl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[ar]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),s=!1}else qn!==null&&(mh(qn),qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Tt===0&&(Tt=3):Qp())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return oi(),ah(e,t),e===null&&pa(t.stateNode.containerInfo),$t(t),null;case 10:return Ip(t.type._context),$t(t),null;case 17:return ln(t.type)&&xc(),$t(t),null;case 19:if(ot(ct),s=t.memoizedState,s===null)return $t(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Mi(s,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=kc(e),i!==null){for(t.flags|=128,Mi(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&xt()>ii&&(t.flags|=128,r=!0,Mi(s,!1),t.lanes=4194304)}else{if(!r)if(e=kc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!it)return $t(t),null}else 2*xt()-s.renderingStartTime>ii&&n!==1073741824&&(t.flags|=128,r=!0,Mi(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xt(),t.sibling=null,n=ct.current,tt(ct,r?n&1|2:n&1),t):($t(t),null);case 22:case 23:return Yp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hn&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function gR(e,t){switch(Dp(t),t.tag){case 1:return ln(t.type)&&xc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(),ot(an),ot(Ht),Op(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fp(t),null;case 13:if(ot(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ct),null;case 4:return oi(),null;case 10:return Ip(t.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var Sl=!1,Bt=!1,yR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function lh(e,t,n){try{n()}catch(r){yt(e,t,r)}}var tv=!1;function vR(e,t){if(Wf=gc,e=Bx(),kp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var y;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(y=u.firstChild)!==null;)h=u,u=y;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(y=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hf={focusedElem:e,selectionRange:n},gc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,b=g.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Vn(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){yt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return g=tv,tv=!1,g}function Zi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&lh(t,n,s)}o=o.next}while(o!==r)}}function pu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ch(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OS(e){var t=e.alternate;t!==null&&(e.alternate=null,OS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[ga],delete t[Yf],delete t[eR],delete t[tR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $S(e){return e.tag===5||e.tag===3||e.tag===4}function nv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$S(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wc));else if(r!==4&&(e=e.child,e!==null))for(uh(e,t,n),e=e.sibling;e!==null;)uh(e,t,n),e=e.sibling}function dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dh(e,t,n),e=e.sibling;e!==null;)dh(e,t,n),e=e.sibling}var It=null,zn=!1;function Ur(e,t,n){for(n=n.child;n!==null;)VS(e,t,n),n=n.sibling}function VS(e,t,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:Bt||Ps(n,t);case 6:var r=It,o=zn;It=null,Ur(e,t,n),It=r,zn=o,It!==null&&(zn?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(zn?(e=It,n=n.stateNode,e.nodeType===8?bd(e.parentNode,n):e.nodeType===1&&bd(e,n),da(e)):bd(It,n.stateNode));break;case 4:r=It,o=zn,It=n.stateNode.containerInfo,zn=!0,Ur(e,t,n),It=r,zn=o;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&lh(n,t,i),o=o.next}while(o!==r)}Ur(e,t,n);break;case 1:if(!Bt&&(Ps(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,t,a)}Ur(e,t,n);break;case 21:Ur(e,t,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Ur(e,t,n),Bt=r):Ur(e,t,n);break;default:Ur(e,t,n)}}function rv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yR),t.forEach(function(r){var o=kR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,zn=!1;break e;case 3:It=a.stateNode.containerInfo,zn=!0;break e;case 4:It=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(It===null)throw Error(W(160));VS(s,i,o),It=null,zn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){yt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)US(t,e),t=t.sibling}function US(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),tr(e),r&4){try{Zi(3,e,e.return),pu(3,e)}catch(w){yt(e,e.return,w)}try{Zi(5,e,e.return)}catch(w){yt(e,e.return,w)}}break;case 1:On(t,e),tr(e),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(On(t,e),tr(e),r&512&&n!==null&&Ps(n,n.return),e.flags&32){var o=e.stateNode;try{aa(o,"")}catch(w){yt(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cx(o,s),Lf(a,i);var c=Lf(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?px(o,u):d==="dangerouslySetInnerHTML"?fx(o,u):d==="children"?aa(o,u):pp(o,d,u,c)}switch(a){case"input":Rf(o,s);break;case"textarea":ux(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Is(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?Is(o,!!s.multiple,s.defaultValue,!0):Is(o,!!s.multiple,s.multiple?[]:"",!1))}o[ga]=s}catch(w){yt(e,e.return,w)}}break;case 6:if(On(t,e),tr(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(w){yt(e,e.return,w)}}break;case 3:if(On(t,e),tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(w){yt(e,e.return,w)}break;case 4:On(t,e),tr(e);break;case 13:On(t,e),tr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Gp=xt())),r&4&&rv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(c=Bt)||d,On(t,e),Bt=c):On(t,e),tr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(u=ae=d;ae!==null;){switch(h=ae,y=h.child,h.tag){case 0:case 11:case 14:case 15:Zi(4,h,h.return);break;case 1:Ps(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){yt(r,n,w)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){sv(u);continue}}y!==null?(y.return=h,ae=y):sv(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hx("display",i))}catch(w){yt(e,e.return,w)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(w){yt(e,e.return,w)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:On(t,e),tr(e),r&4&&rv(e);break;case 21:break;default:On(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($S(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(aa(o,""),r.flags&=-33);var s=nv(e);dh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=nv(e);uh(e,a,i);break;default:throw Error(W(161))}}catch(l){yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wR(e,t,n){ae=e,BS(e)}function BS(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var o=ae,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Sl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Sl;var c=Bt;if(Sl=i,(Bt=l)&&!c)for(ae=o;ae!==null;)i=ae,l=i.child,i.tag===22&&i.memoizedState!==null?iv(o):l!==null?(l.return=i,ae=l):iv(o);for(;s!==null;)ae=s,BS(s),s=s.sibling;ae=o,Sl=a,Bt=c}ov(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ae=s):ov(e)}}function ov(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||pu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&By(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}By(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&da(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Bt||t.flags&512&&ch(t)}catch(h){yt(t,t.return,h)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function sv(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function iv(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pu(4,t)}catch(l){yt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){yt(t,o,l)}}var s=t.return;try{ch(t)}catch(l){yt(t,s,l)}break;case 5:var i=t.return;try{ch(t)}catch(l){yt(t,i,l)}}}catch(l){yt(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var xR=Math.ceil,Rc=Or.ReactCurrentDispatcher,Wp=Or.ReactCurrentOwner,Mn=Or.ReactCurrentBatchConfig,$e=0,Dt=null,Ct=null,Lt=0,hn=0,Ts=ko(0),Tt=0,ba=null,es=0,mu=0,Hp=0,Ji=null,rn=null,Gp=0,ii=1/0,br=null,Mc=!1,fh=null,ho=null,bl=!1,so=null,_c=0,ea=0,hh=null,Zl=-1,Jl=0;function Zt(){return $e&6?xt():Zl!==-1?Zl:Zl=xt()}function po(e){return e.mode&1?$e&2&&Lt!==0?Lt&-Lt:rR.transition!==null?(Jl===0&&(Jl=Tx()),Jl):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Ix(e.type)),e):1}function Hn(e,t,n,r){if(50<ea)throw ea=0,hh=null,Error(W(185));Ba(e,n,r),(!($e&2)||e!==Dt)&&(e===Dt&&(!($e&2)&&(mu|=n),Tt===4&&Zr(e,Lt)),cn(e,r),n===1&&$e===0&&!(t.mode&1)&&(ii=xt()+500,du&&Ao()))}function cn(e,t){var n=e.callbackNode;rD(e,t);var r=mc(e,e===Dt?Lt:0);if(r===0)n!==null&&my(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&my(n),t===1)e.tag===0?nR(av.bind(null,e)):Zx(av.bind(null,e)),ZD(function(){!($e&6)&&Ao()}),n=null;else{switch(kx(r)){case 1:n=wp;break;case 4:n=Ex;break;case 16:n=pc;break;case 536870912:n=Px;break;default:n=pc}n=QS(n,zS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zS(e,t){if(Zl=-1,Jl=0,$e&6)throw Error(W(327));var n=e.callbackNode;if(Os()&&e.callbackNode!==n)return null;var r=mc(e,e===Dt?Lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ic(e,r);else{t=r;var o=$e;$e|=2;var s=WS();(Dt!==e||Lt!==t)&&(br=null,ii=xt()+500,Ho(e,t));do try{CR();break}catch(a){qS(e,a)}while(!0);_p(),Rc.current=s,$e=o,Ct!==null?t=0:(Dt=null,Lt=0,t=Tt)}if(t!==0){if(t===2&&(o=Vf(e),o!==0&&(r=o,t=ph(e,o))),t===1)throw n=ba,Ho(e,0),Zr(e,r),cn(e,xt()),n;if(t===6)Zr(e,r);else{if(o=e.current.alternate,!(r&30)&&!SR(o)&&(t=Ic(e,r),t===2&&(s=Vf(e),s!==0&&(r=s,t=ph(e,s))),t===1))throw n=ba,Ho(e,0),Zr(e,r),cn(e,xt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:No(e,rn,br);break;case 3:if(Zr(e,r),(r&130023424)===r&&(t=Gp+500-xt(),10<t)){if(mc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Zt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Kf(No.bind(null,e,rn,br),t);break}No(e,rn,br);break;case 4:if(Zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Wn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xR(r/1960))-r,10<r){e.timeoutHandle=Kf(No.bind(null,e,rn,br),r);break}No(e,rn,br);break;case 5:No(e,rn,br);break;default:throw Error(W(329))}}}return cn(e,xt()),e.callbackNode===n?zS.bind(null,e):null}function ph(e,t){var n=Ji;return e.current.memoizedState.isDehydrated&&(Ho(e,t).flags|=256),e=Ic(e,t),e!==2&&(t=rn,rn=n,t!==null&&mh(t)),e}function mh(e){rn===null?rn=e:rn.push.apply(rn,e)}function SR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Kn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~Hp,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function av(e){if($e&6)throw Error(W(327));Os();var t=mc(e,0);if(!(t&1))return cn(e,xt()),null;var n=Ic(e,t);if(e.tag!==0&&n===2){var r=Vf(e);r!==0&&(t=r,n=ph(e,r))}if(n===1)throw n=ba,Ho(e,0),Zr(e,t),cn(e,xt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e,rn,br),cn(e,xt()),null}function Kp(e,t){var n=$e;$e|=1;try{return e(t)}finally{$e=n,$e===0&&(ii=xt()+500,du&&Ao())}}function ts(e){so!==null&&so.tag===0&&!($e&6)&&Os();var t=$e;$e|=1;var n=Mn.transition,r=Ye;try{if(Mn.transition=null,Ye=1,e)return e()}finally{Ye=r,Mn.transition=n,$e=t,!($e&6)&&Ao()}}function Yp(){hn=Ts.current,ot(Ts)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XD(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(Dp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xc();break;case 3:oi(),ot(an),ot(Ht),Op();break;case 5:Fp(r);break;case 4:oi();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:Ip(r.type._context);break;case 22:case 23:Yp()}n=n.return}if(Dt=e,Ct=e=mo(e.current,null),Lt=hn=t,Tt=0,ba=null,Hp=mu=es=0,rn=Ji=null,Oo!==null){for(t=0;t<Oo.length;t++)if(n=Oo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Oo=null}return e}function qS(e,t){do{var n=Ct;try{if(_p(),Yl.current=Dc,Ac){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ac=!1}if(Jo=0,At=Pt=ht=null,Xi=!1,wa=0,Wp.current=null,n===null||n.return===null){Tt=1,ba=t,Ct=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Ky(i);if(y!==null){y.flags&=-257,Yy(y,i,a,s,t),y.mode&1&&Gy(s,c,t),t=y,l=c;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){Gy(s,c,t),Qp();break e}l=Error(W(426))}}else if(it&&a.mode&1){var b=Ky(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yy(b,i,a,s,t),Rp(si(l,a));break e}}s=l=si(l,a),Tt!==4&&(Tt=2),Ji===null?Ji=[s]:Ji.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=kS(s,l,t);Uy(s,m);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ho===null||!ho.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=AS(s,a,t);Uy(s,C);break e}}s=s.return}while(s!==null)}GS(n)}catch(E){t=E,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function WS(){var e=Rc.current;return Rc.current=Dc,e===null?Dc:e}function Qp(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Dt===null||!(es&268435455)&&!(mu&268435455)||Zr(Dt,Lt)}function Ic(e,t){var n=$e;$e|=2;var r=WS();(Dt!==e||Lt!==t)&&(br=null,Ho(e,t));do try{bR();break}catch(o){qS(e,o)}while(!0);if(_p(),$e=n,Rc.current=r,Ct!==null)throw Error(W(261));return Dt=null,Lt=0,Tt}function bR(){for(;Ct!==null;)HS(Ct)}function CR(){for(;Ct!==null&&!KA();)HS(Ct)}function HS(e){var t=YS(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?GS(e):Ct=t,Wp.current=null}function GS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gR(n,t),n!==null){n.flags&=32767,Ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,Ct=null;return}}else if(n=mR(n,t,hn),n!==null){Ct=n;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Tt===0&&(Tt=5)}function No(e,t,n){var r=Ye,o=Mn.transition;try{Mn.transition=null,Ye=1,ER(e,t,n,r)}finally{Mn.transition=o,Ye=r}return null}function ER(e,t,n,r){do Os();while(so!==null);if($e&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oD(e,s),e===Dt&&(Ct=Dt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,QS(pc,function(){return Os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var i=Ye;Ye=1;var a=$e;$e|=4,Wp.current=null,vR(e,n),US(n,e),qD(Hf),gc=!!Wf,Hf=Wf=null,e.current=n,wR(n),YA(),$e=a,Ye=i,Mn.transition=s}else e.current=n;if(bl&&(bl=!1,so=e,_c=o),s=e.pendingLanes,s===0&&(ho=null),ZA(n.stateNode),cn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Mc)throw Mc=!1,e=fh,fh=null,e;return _c&1&&e.tag!==0&&Os(),s=e.pendingLanes,s&1?e===hh?ea++:(ea=0,hh=e):ea=0,Ao(),null}function Os(){if(so!==null){var e=kx(_c),t=Mn.transition,n=Ye;try{if(Mn.transition=null,Ye=16>e?16:e,so===null)var r=!1;else{if(e=so,so=null,_c=0,$e&6)throw Error(W(331));var o=$e;for($e|=4,ae=e.current;ae!==null;){var s=ae,i=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Zi(8,d,s)}var u=d.child;if(u!==null)u.return=d,ae=u;else for(;ae!==null;){d=ae;var h=d.sibling,y=d.return;if(OS(d),d===c){ae=null;break}if(h!==null){h.return=y,ae=h;break}ae=y}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}ae=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ae=i;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ae=m;break e}ae=s.return}}var v=e.current;for(ae=v;ae!==null;){i=ae;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ae=x;else e:for(i=v;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pu(9,a)}}catch(E){yt(a,a.return,E)}if(a===i){ae=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ae=C;break e}ae=a.return}}if($e=o,Ao(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(iu,e)}catch{}r=!0}return r}finally{Ye=n,Mn.transition=t}}return!1}function lv(e,t,n){t=si(n,t),t=kS(e,t,1),e=fo(e,t,1),t=Zt(),e!==null&&(Ba(e,1,t),cn(e,t))}function yt(e,t,n){if(e.tag===3)lv(e,e,n);else for(;t!==null;){if(t.tag===3){lv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){e=si(n,e),e=AS(t,e,1),t=fo(t,e,1),e=Zt(),t!==null&&(Ba(t,1,e),cn(t,e));break}}t=t.return}}function PR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(Lt&n)===n&&(Tt===4||Tt===3&&(Lt&130023424)===Lt&&500>xt()-Gp?Ho(e,0):Hp|=n),cn(e,t)}function KS(e,t){t===0&&(e.mode&1?(t=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):t=1);var n=Zt();e=_r(e,t),e!==null&&(Ba(e,t,n),cn(e,n))}function TR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KS(e,n)}function kR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),KS(e,n)}var YS;YS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,pR(e,t,n);sn=!!(e.flags&131072)}else sn=!1,it&&t.flags&1048576&&Jx(t,Cc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xl(e,t),e=t.pendingProps;var o=ti(t,Ht.current);Fs(t,n),o=Vp(null,t,r,e,o,n);var s=Up();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(s=!0,Sc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Lp(t),o.updater=hu,t.stateNode=o,o._reactInternals=t,th(t,r,e,n),t=oh(null,t,r,!0,s,n)):(t.tag=0,it&&s&&Ap(t),Qt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=DR(r),e=Vn(r,e),o){case 0:t=rh(null,t,r,e,n);break e;case 1:t=Zy(null,t,r,e,n);break e;case 11:t=Qy(null,t,r,e,n);break e;case 14:t=Xy(null,t,r,Vn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),rh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Zy(e,t,r,o,n);case 3:e:{if(_S(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,sS(e,t),Tc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=si(Error(W(423)),t),t=Jy(e,t,r,n,o);break e}else if(r!==o){o=si(Error(W(424)),t),t=Jy(e,t,r,n,o);break e}else for(mn=uo(t.stateNode.containerInfo.firstChild),gn=t,it=!0,qn=null,n=rS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===o){t=Ir(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 5:return iS(t),e===null&&Zf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Gf(r,o)?i=null:s!==null&&Gf(r,s)&&(t.flags|=32),MS(e,t),Qt(e,t,i,n),t.child;case 6:return e===null&&Zf(t),null;case 13:return IS(e,t,n);case 4:return jp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Qy(e,t,r,o,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,tt(Ec,r._currentValue),r._currentValue=i,s!==null)if(Kn(s.value,i)){if(s.children===o.children&&!an.current){t=Ir(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Jf(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Qt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Fs(t,n),o=In(o),r=r(o),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return r=t.type,o=Vn(r,t.pendingProps),o=Vn(r.type,o),Xy(e,t,r,o,n);case 15:return DS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Xl(e,t),t.tag=1,ln(r)?(e=!0,Sc(t)):e=!1,Fs(t,n),TS(t,r,o),th(t,r,o,n),oh(null,t,r,!0,e,n);case 19:return NS(e,t,n);case 22:return RS(e,t,n)}throw Error(W(156,t.tag))};function QS(e,t){return Cx(e,t)}function AR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,n,r){return new AR(e,t,n,r)}function Xp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DR(e){if(typeof e=="function")return Xp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gp)return 11;if(e===yp)return 14}return 2}function mo(e,t){var n=e.alternate;return n===null?(n=Rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ec(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Xp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case gs:return Go(n.children,o,s,t);case mp:i=8,o|=8;break;case Pf:return e=Rn(12,n,t,o|2),e.elementType=Pf,e.lanes=s,e;case Tf:return e=Rn(13,n,t,o),e.elementType=Tf,e.lanes=s,e;case kf:return e=Rn(19,n,t,o),e.elementType=kf,e.lanes=s,e;case ix:return gu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ox:i=10;break e;case sx:i=9;break e;case gp:i=11;break e;case yp:i=14;break e;case Kr:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Rn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Go(e,t,n,r){return e=Rn(7,e,r,t),e.lanes=n,e}function gu(e,t,n,r){return e=Rn(22,e,r,t),e.elementType=ix,e.lanes=n,e.stateNode={isHidden:!1},e}function Rd(e,t,n){return e=Rn(6,e,null,t),e.lanes=n,e}function Md(e,t,n){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dd(0),this.expirationTimes=dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zp(e,t,n,r,o,s,i,a,l){return e=new RR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Rn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lp(s),e}function MR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function XS(e){if(!e)return xo;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(ln(n))return Xx(e,n,t)}return t}function ZS(e,t,n,r,o,s,i,a,l){return e=Zp(n,r,!0,e,o,s,i,a,l),e.context=XS(null),n=e.current,r=Zt(),o=po(n),s=kr(r,o),s.callback=t??null,fo(n,s,o),e.current.lanes=o,Ba(e,o,r),cn(e,r),e}function yu(e,t,n,r){var o=t.current,s=Zt(),i=po(o);return n=XS(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fo(o,t,i),e!==null&&(Hn(e,o,i,s),Kl(e,o,i)),i}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jp(e,t){cv(e,t),(e=e.alternate)&&cv(e,t)}function _R(){return null}var JS=typeof reportError=="function"?reportError:function(e){console.error(e)};function em(e){this._internalRoot=e}vu.prototype.render=em.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));yu(e,t,null,null)};vu.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){yu(null,e,null,null)}),t[Mr]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xr.length&&t!==0&&t<Xr[n].priority;n++);Xr.splice(n,0,e),n===0&&_x(e)}};function tm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uv(){}function IR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Nc(i);s.call(c)}}var i=ZS(t,r,e,0,null,!1,!1,"",uv);return e._reactRootContainer=i,e[Mr]=i.current,pa(e.nodeType===8?e.parentNode:e),ts(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Nc(l);a.call(c)}}var l=Zp(e,0,!1,null,null,!1,!1,"",uv);return e._reactRootContainer=l,e[Mr]=l.current,pa(e.nodeType===8?e.parentNode:e),ts(function(){yu(t,l,n,r)}),l}function xu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Nc(i);a.call(l)}}yu(t,i,e,o)}else i=IR(n,t,e,o,r);return Nc(i)}Ax=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vi(t.pendingLanes);n!==0&&(xp(t,n|1),cn(t,xt()),!($e&6)&&(ii=xt()+500,Ao()))}break;case 13:ts(function(){var r=_r(e,1);if(r!==null){var o=Zt();Hn(r,e,1,o)}}),Jp(e,1)}};Sp=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var n=Zt();Hn(t,e,134217728,n)}Jp(e,134217728)}};Dx=function(e){if(e.tag===13){var t=po(e),n=_r(e,t);if(n!==null){var r=Zt();Hn(n,e,t,r)}Jp(e,t)}};Rx=function(){return Ye};Mx=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};Ff=function(e,t,n){switch(t){case"input":if(Rf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=uu(r);if(!o)throw Error(W(90));lx(r),Rf(r,o)}}}break;case"textarea":ux(e,n);break;case"select":t=n.value,t!=null&&Is(e,!!n.multiple,t,!1)}};yx=Kp;vx=ts;var NR={usingClientEntryPoint:!1,Events:[qa,xs,uu,mx,gx,Kp]},_i={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LR={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sx(e),e===null?null:e.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||_R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{iu=Cl.inject(LR),ur=Cl}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(t))throw Error(W(200));return MR(e,t,null,n)};xn.createRoot=function(e,t){if(!tm(e))throw Error(W(299));var n=!1,r="",o=JS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Zp(e,1,!1,null,null,n,!1,r,o),e[Mr]=t.current,pa(e.nodeType===8?e.parentNode:e),new em(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Sx(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return ts(e)};xn.hydrate=function(e,t,n){if(!wu(t))throw Error(W(200));return xu(null,e,t,!0,n)};xn.hydrateRoot=function(e,t,n){if(!tm(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=JS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ZS(t,null,e,1,n??null,o,!1,s,i),e[Mr]=t.current,pa(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new vu(t)};xn.render=function(e,t,n){if(!wu(t))throw Error(W(200));return xu(null,e,t,!1,n)};xn.unmountComponentAtNode=function(e){if(!wu(e))throw Error(W(40));return e._reactRootContainer?(ts(function(){xu(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};xn.unstable_batchedUpdates=Kp;xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wu(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return xu(e,t,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eb)}catch(e){console.error(e)}}eb(),ex.exports=xn;var Ha=ex.exports;const jR=ap(Ha);var tb,dv=Ha;tb=dv.createRoot,dv.hydrateRoot;function FR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=f;function OR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $R=typeof Object.is=="function"?Object.is:OR,VR=ai.useState,UR=ai.useEffect,BR=ai.useLayoutEffect,zR=ai.useDebugValue;function qR(e,t){var n=t(),r=VR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return BR(function(){o.value=n,o.getSnapshot=t,_d(o)&&s({inst:o})},[e,n,t]),UR(function(){return _d(o)&&s({inst:o}),e(function(){_d(o)&&s({inst:o})})},[e]),zR(n),n}function _d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$R(e,n)}catch{return!0}}function WR(e,t){return t()}var HR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WR:qR;rb.useSyncExternalStore=ai.useSyncExternalStore!==void 0?ai.useSyncExternalStore:HR;nb.exports=rb;var GR=nb.exports;const KR=Z0.useInsertionEffect,YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ob=YR?f.useLayoutEffect:f.useEffect,QR=KR||ob,nm=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return QR(()=>{t[0]=e}),t[1]},XR="popstate",rm="pushState",om="replaceState",ZR="hashchange",fv=[XR,rm,om,ZR],JR=e=>{for(const t of fv)addEventListener(t,e);return()=>{for(const t of fv)removeEventListener(t,e)}},sb=(e,t)=>GR.useSyncExternalStore(JR,e,t),eM=()=>location.search,tM=({ssrSearch:e=""}={})=>sb(eM,()=>e),hv=()=>location.pathname,nM=({ssrPath:e}={})=>sb(hv,e?()=>e:hv),rM=(e,{replace:t=!1,state:n=null}={})=>history[t?om:rm](n,"",e),oM=(e={})=>[nM(e),rM],pv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[pv]>"u"){for(const e of[rm,om]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,pv,{value:!0})}const sM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ib=(e="")=>e==="/"?"":e,iM=(e,t)=>e[0]==="~"?e.slice(1):ib(t)+e,aM=(e="",t)=>sM(mv(ib(e)),mv(t)),mv=e=>{try{return decodeURI(e)}catch{return e}},ab={hook:oM,searchHook:tM,parser:FR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},lb=f.createContext(ab),Ga=()=>f.useContext(lb),cb={},ub=f.createContext(cb),lM=()=>f.useContext(ub),Su=e=>{const[t,n]=e.hook(e);return[aM(e.base,t),nm((r,o)=>n(iM(r,e.base),o))]},bu=()=>Su(Ga()),db=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},fb=({children:e,...t})=>{var d,u;const n=Ga(),r=t.hook?ab:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const y=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&y!==c[h]&&(a.current=c={...c}),c[h]=y,y!==r[h]&&(o=c)}return f.createElement(lb.Provider,{value:o,children:e})},gv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,cM=e=>{let t=f.useRef(cb),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},El=({path:e,nest:t,match:n,...r})=>{const o=Ga(),[s]=Su(o),[i,a,l]=n??db(o.parser,e,s,t),c=cM({...lM(),...a});if(!i)return null;const d=l?f.createElement(fb,{base:l},gv(r,c)):gv(r,c);return f.createElement(ub.Provider,{value:c,children:d})},uM=f.forwardRef((e,t)=>{const n=Ga(),[r,o]=Su(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...y}=e,g=nm(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),w=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:g,href:w}):f.createElement("a",{...y,onClick:g,href:w,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),hb=e=>Array.isArray(e)?e.flatMap(t=>hb(t&&t.type===f.Fragment?t.props.children:t)):[e],dM=({children:e,location:t})=>{const n=Ga(),[r]=Su(n);for(const o of hb(e)){let s=0;if(f.isValidElement(o)&&(s=db(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null},fM=e=>{const{to:t,href:n=t}=e,[,r]=bu(),o=nm(()=>r(t||n,e));return ob(()=>{o()},[]),null};var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Eu=typeof window>"u"||"Deno"in globalThis;function Un(){}function hM(e,t){return typeof e=="function"?e(t):e}function pM(e){return typeof e=="number"&&e>=0&&e!==1/0}function mM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yv(e,t){return typeof e=="function"?e(t):e}function gM(e,t){return typeof e=="function"?e(t):e}function vv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==sm(i,t.options))return!1}else if(!Ea(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function wv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Ca(t.options.mutationKey)!==Ca(s))return!1}else if(!Ea(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function sm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ca)(e)}function Ca(e){return JSON.stringify(e,(t,n)=>gh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ea(e[n],t[n])):!1}function pb(e,t){if(e===t)return e;const n=xv(e)&&xv(t);if(n||gh(e)&&gh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=pb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function xv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gh(e){if(!Sv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Sv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Sv(e){return Object.prototype.toString.call(e)==="[object Object]"}function yM(e){return new Promise(t=>{setTimeout(t,e)})}function vM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?pb(e,t):t}function wM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function xM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var im=Symbol();function mb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===im?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bo,Jr,Ws,N0,SM=(N0=class extends Cu{constructor(){super();He(this,Bo);He(this,Jr);He(this,Ws);Ae(this,Ws,t=>{if(!Eu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Jr)||this.setEventListener(V(this,Ws))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Jr))==null||t.call(this),Ae(this,Jr,void 0))}setEventListener(t){var n;Ae(this,Ws,t),(n=V(this,Jr))==null||n.call(this),Ae(this,Jr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,Bo)!==t&&(Ae(this,Bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,Bo)=="boolean"?V(this,Bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bo=new WeakMap,Jr=new WeakMap,Ws=new WeakMap,N0),gb=new SM,Hs,eo,Gs,L0,bM=(L0=class extends Cu{constructor(){super();He(this,Hs,!0);He(this,eo);He(this,Gs);Ae(this,Gs,t=>{if(!Eu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,eo)||this.setEventListener(V(this,Gs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,eo))==null||t.call(this),Ae(this,eo,void 0))}setEventListener(t){var n;Ae(this,Gs,t),(n=V(this,eo))==null||n.call(this),Ae(this,eo,t(this.setOnline.bind(this)))}setOnline(t){V(this,Hs)!==t&&(Ae(this,Hs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Hs)}},Hs=new WeakMap,eo=new WeakMap,Gs=new WeakMap,L0),Lc=new bM;function CM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function EM(e){return Math.min(1e3*2**e,3e4)}function yb(e){return(e??"online")==="online"?Lc.isOnline():!0}var vb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Id(e){return e instanceof vb}function wb(e){let t=!1,n=0,r=!1,o;const s=CM(),i=w=>{var b;r||(h(new vb(w)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>gb.isFocused()&&(e.networkMode==="always"||Lc.isOnline())&&e.canRun(),d=()=>yb(e.networkMode)&&e.canRun(),u=w=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,w),o==null||o(),s.resolve(w))},h=w=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,w),o==null||o(),s.reject(w))},y=()=>new Promise(w=>{var b;o=m=>{(r||c())&&w(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var w;o=void 0,r||(w=e.onContinue)==null||w.call(e)}),g=()=>{if(r)return;let w;const b=n===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(u).catch(m=>{var P;if(r)return;const v=e.retry??(Eu?0:3),x=e.retryDelay??EM,C=typeof x=="function"?x(n,m):x,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),yM(C).then(()=>c()?void 0:y()).then(()=>{t?h(m):g()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?g():y().then(g),s)}}function PM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Xt=PM(),zo,j0,xb=(j0=class{constructor(){He(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pM(this.gcTime)&&Ae(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Eu?1/0:5*60*1e3))}clearGcTimeout(){V(this,zo)&&(clearTimeout(V(this,zo)),Ae(this,zo,void 0))}},zo=new WeakMap,j0),Ks,Ys,kn,Vt,$a,qo,Bn,Sr,F0,TM=(F0=class extends xb{constructor(t){super();He(this,Bn);He(this,Ks);He(this,Ys);He(this,kn);He(this,Vt);He(this,$a);He(this,qo);Ae(this,qo,!1),Ae(this,$a,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,kn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,Ks,AM(this.options)),this.state=t.state??V(this,Ks),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,Vt))==null?void 0:t.promise}setOptions(t){this.options={...V(this,$a),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,kn).remove(this)}setData(t,n){const r=vM(this.state.data,t,this.options);return Ft(this,Bn,Sr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ft(this,Bn,Sr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=V(this,Vt))==null?void 0:r.promise;return(o=V(this,Vt))==null||o.cancel(t),n?n.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ks))}isActive(){return this.observers.some(t=>gM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===im||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Vt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Vt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,Vt)&&(V(this,qo)?V(this,Vt).cancel({revert:!0}):V(this,Vt).cancelRetry()),this.scheduleGc()),V(this,kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,Bn,Sr).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Vt))return V(this,Vt).continueRetry(),V(this,Vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Ae(this,qo,!0),r.signal)})},s=()=>{const u=mb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),Ae(this,qo,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),Ae(this,Ys,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Ft(this,Bn,Sr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,y,g,w;Id(u)&&u.silent||Ft(this,Bn,Sr).call(this,{type:"error",error:u}),Id(u)||((y=(h=V(this,kn).config).onError)==null||y.call(h,u,this),(w=(g=V(this,kn).config).onSettled)==null||w.call(g,this.state.data,u,this)),this.scheduleGc()};return Ae(this,Vt,wb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,y,g,w;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){a(b);return}(y=(h=V(this,kn).config).onSuccess)==null||y.call(h,u,this),(w=(g=V(this,kn).config).onSettled)==null||w.call(g,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{Ft(this,Bn,Sr).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Ft(this,Bn,Sr).call(this,{type:"pause"})},onContinue:()=>{Ft(this,Bn,Sr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),V(this,Vt).start()}},Ks=new WeakMap,Ys=new WeakMap,kn=new WeakMap,Vt=new WeakMap,$a=new WeakMap,qo=new WeakMap,Bn=new WeakSet,Sr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Id(o)&&o.revert&&V(this,Ys)?{...V(this,Ys),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,kn).notify({query:this,type:"updated",action:t})})},F0);function kM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,O0,DM=(O0=class extends Cu{constructor(t={}){super();He(this,rr);this.config=t,Ae(this,rr,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??sm(o,n);let i=this.get(s);return i||(i=new TM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){V(this,rr).has(t.queryHash)||(V(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,rr).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,rr).get(t)}getAll(){return[...V(this,rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>vv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>vv(t,r)):n}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,O0),or,Yt,Wo,sr,qr,$0,RM=($0=class extends xb{constructor(t){super();He(this,sr);He(this,or);He(this,Yt);He(this,Wo);this.mutationId=t.mutationId,Ae(this,Yt,t.mutationCache),Ae(this,or,[]),this.state=t.state||MM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,or).includes(t)||(V(this,or).push(t),this.clearGcTimeout(),V(this,Yt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,or,V(this,or).filter(n=>n!==t)),this.scheduleGc(),V(this,Yt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,or).length||(this.state.status==="pending"?this.scheduleGc():V(this,Yt).remove(this))}continue(){var t;return((t=V(this,Wo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,y,g,w,b,m,v,x,C,E,P,k;Ae(this,Wo,wb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{Ft(this,sr,qr).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Ft(this,sr,qr).call(this,{type:"pause"})},onContinue:()=>{Ft(this,sr,qr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Yt).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Wo).canStart();try{if(!n){Ft(this,sr,qr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=V(this,Yt).config).onMutate)==null?void 0:s.call(o,t,this));const D=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));D!==this.state.context&&Ft(this,sr,qr).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const A=await V(this,Wo).start();return await((c=(l=V(this,Yt).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,A,t,this.state.context)),await((y=(h=V(this,Yt).config).onSettled)==null?void 0:y.call(h,A,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,A,null,t,this.state.context)),Ft(this,sr,qr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(b=V(this,Yt).config).onError)==null?void 0:m.call(b,A,t,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,A,t,this.state.context)),await((E=(C=V(this,Yt).config).onSettled)==null?void 0:E.call(C,void 0,A,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context)),A}finally{Ft(this,sr,qr).call(this,{type:"error",error:A})}}finally{V(this,Yt).runNext(this)}}},or=new WeakMap,Yt=new WeakMap,Wo=new WeakMap,sr=new WeakSet,qr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xt.batch(()=>{V(this,or).forEach(r=>{r.onMutationUpdate(t)}),V(this,Yt).notify({mutation:this,type:"updated",action:t})})},$0);function MM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fn,Va,V0,_M=(V0=class extends Cu{constructor(t={}){super();He(this,fn);He(this,Va);this.config=t,Ae(this,fn,new Map),Ae(this,Va,Date.now())}build(t,n,r){const o=new RM({mutationCache:this,mutationId:++il(this,Va)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=Pl(t),r=V(this,fn).get(n)??[];r.push(t),V(this,fn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Pl(t);if(V(this,fn).has(n)){const o=(r=V(this,fn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?V(this,fn).delete(n):V(this,fn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=V(this,fn).get(Pl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=V(this,fn).get(Pl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,fn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wv(n,r))}findAll(t={}){return this.getAll().filter(n=>wv(t,n))}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Un))))}},fn=new WeakMap,Va=new WeakMap,V0);function Pl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function bv(e){return{onFetch:(t,n)=>{var d,u,h,y,g;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},m=mb(t.options,t.fetchOptions),v=async(x,C,E)=>{if(w)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const k=await m(P),{maxPages:A}=t.options,D=E?xM:wM;return{pages:D(x.pages,k,A),pageParams:D(x.pageParams,C,A)}};if(o&&s.length){const x=o==="backward",C=x?IM:Cv,E={pages:s,pageParams:i},P=C(r,E);a=await v(E,P,x)}else{const x=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:Cv(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var w,b;return(b=(w=t.options).persister)==null?void 0:b.call(w,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Cv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var mt,to,no,Qs,Xs,ro,Zs,Js,U0,NM=(U0=class{constructor(e={}){He(this,mt);He(this,to);He(this,no);He(this,Qs);He(this,Xs);He(this,ro);He(this,Zs);He(this,Js);Ae(this,mt,e.queryCache||new DM),Ae(this,to,e.mutationCache||new _M),Ae(this,no,e.defaultOptions||{}),Ae(this,Qs,new Map),Ae(this,Xs,new Map),Ae(this,ro,0)}mount(){il(this,ro)._++,V(this,ro)===1&&(Ae(this,Zs,gb.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,mt).onFocus())})),Ae(this,Js,Lc.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,mt).onOnline())})))}unmount(){var e,t;il(this,ro)._--,V(this,ro)===0&&((e=V(this,Zs))==null||e.call(this),Ae(this,Zs,void 0),(t=V(this,Js))==null||t.call(this),Ae(this,Js,void 0))}isFetching(e){return V(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,to).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,mt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(yv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=V(this,mt).get(r.queryHash),s=o==null?void 0:o.state.data,i=hM(t,s);if(i!==void 0)return V(this,mt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Xt.batch(()=>V(this,mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,mt);Xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,mt),r={type:"active",...e};return Xt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Xt.batch(()=>V(this,mt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Un).catch(Un)}invalidateQueries(e={},t={}){return Xt.batch(()=>{if(V(this,mt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Xt.batch(()=>V(this,mt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Un)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,mt).build(this,t);return n.isStaleByTime(yv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=bv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=bv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lc.isOnline()?V(this,to).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,mt)}getMutationCache(){return V(this,to)}getDefaultOptions(){return V(this,no)}setDefaultOptions(e){Ae(this,no,e)}setQueryDefaults(e,t){V(this,Qs).set(Ca(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Qs).values()];let n={};return t.forEach(r=>{Ea(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){V(this,Xs).set(Ca(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Xs).values()];let n={};return t.forEach(r=>{Ea(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,no).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===im&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,no).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,mt).clear(),V(this,to).clear()}},mt=new WeakMap,to=new WeakMap,no=new WeakMap,Qs=new WeakMap,Xs=new WeakMap,ro=new WeakMap,Zs=new WeakMap,Js=new WeakMap,U0),LM=f.createContext(void 0),jM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(LM.Provider,{value:e,children:t}));async function FM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const OM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await FM(n),await n.json())},$M=new NM({defaultOptions:{queries:{queryFn:OM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),VM=1,UM=1e6;let Nd=0;function BM(){return Nd=(Nd+1)%Number.MAX_SAFE_INTEGER,Nd.toString()}const Ld=new Map,Ev=e=>{if(Ld.has(e))return;const t=setTimeout(()=>{Ld.delete(e),ta({type:"REMOVE_TOAST",toastId:e})},UM);Ld.set(e,t)},zM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ev(n):e.toasts.forEach(r=>{Ev(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},tc=[];let nc={toasts:[]};function ta(e){nc=zM(nc,e),tc.forEach(t=>{t(nc)})}function qM({...e}){const t=BM(),n=o=>ta({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ta({type:"DISMISS_TOAST",toastId:t});return ta({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Ka(){const[e,t]=f.useState(nc);return f.useEffect(()=>(tc.push(t),()=>{const n=tc.indexOf(t);n>-1&&tc.splice(n,1)}),[e]),{...e,toast:qM,dismiss:n=>ta({type:"DISMISS_TOAST",toastId:n})}}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Pv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Pv(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Pv(e[o],null)}}}}function Le(...e){return f.useCallback(Pu(...e),e)}function WM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function un(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:y,...g}=u,w=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>g,Object.values(g));return p.jsx(w.Provider,{value:b,children:y})};c.displayName=s+"Provider";function d(u,h){var w;const y=((w=h==null?void 0:h[e])==null?void 0:w[l])||a,g=f.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,HM(o,...t)]}function HM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function li(e){const t=KM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(YM);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var GM=li("Slot");function KM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=XM(o),a=QM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Pu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sb=Symbol("radix.slottable");function bb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Sb,t}function YM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sb}function QM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function XM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tu(e){const t=e+"CollectionProvider",[n,r]=un(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:b,children:m}=w,v=bt.useRef(null),x=bt.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:x,collectionRef:v,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=li(a),c=bt.forwardRef((w,b)=>{const{scope:m,children:v}=w,x=s(a,m),C=Le(b,x.collectionRef);return p.jsx(l,{ref:C,children:v})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=li(d),y=bt.forwardRef((w,b)=>{const{scope:m,children:v,...x}=w,C=bt.useRef(null),E=Le(b,C),P=s(d,m);return bt.useEffect(()=>(P.itemMap.set(C,{ref:C,...x}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:v})});y.displayName=d;function g(w){const b=s(e+"CollectionConsumer",w);return bt.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,k)=>x.indexOf(P.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:y},g,r]}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=ZM.reduce((e,t)=>{const n=li(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function am(e,t){e&&Ha.flushSync(()=>e.dispatchEvent(t))}function ut(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function JM(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var e_="DismissableLayer",yh="dismissableLayer.update",t_="dismissableLayer.pointerDownOutside",n_="dismissableLayer.focusOutside",Tv,Cb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ya=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(Cb),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),g=Le(t,k=>u(k)),w=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=w.indexOf(b),v=d?w.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=m,E=o_(k=>{const A=k.target,D=[...c.branches].some(M=>M.contains(A));!C||D||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=s_(k=>{const A=k.target;[...c.branches].some(M=>M.contains(A))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return JM(k=>{v===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Tv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),kv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Tv)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),kv())},[d,c]),f.useEffect(()=>{const k=()=>y({});return document.addEventListener(yh,k),()=>document.removeEventListener(yh,k)},[]),p.jsx(ve.div,{...l,ref:g,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,E.onPointerDownCapture)})});Ya.displayName=e_;var r_="DismissableLayerBranch",Eb=f.forwardRef((e,t)=>{const n=f.useContext(Cb),r=f.useRef(null),o=Le(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(ve.div,{...e,ref:o})});Eb.displayName=r_;function o_(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Pb(t_,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s_(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Pb(n_,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kv(){const e=new CustomEvent(yh);document.dispatchEvent(e)}function Pb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?am(o,s):o.dispatchEvent(s)}var i_=Ya,a_=Eb,Ln=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},l_="Portal",ku=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);Ln(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?jR.createPortal(p.jsx(ve.div,{...r,ref:t}),i):null});ku.displayName=l_;function c_(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var dn=e=>{const{present:t,children:n}=e,r=u_(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Le(r.ref,d_(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};dn.displayName="Presence";function u_(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=c_(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Tl(r.current);s.current=a==="mounted"?c:"none"},[a]),Ln(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,y=Tl(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Ln(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=y=>{const w=Tl(r.current).includes(y.animationName);if(y.target===t&&w&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=y=>{y.target===t&&(s.current=Tl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Tl(e){return(e==null?void 0:e.animationName)||"none"}function d_(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=f_({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=ut(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function f_({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=ut(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var h_="VisuallyHidden",Au=f.forwardRef((e,t)=>p.jsx(ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Au.displayName=h_;var p_=Au,lm="ToastProvider",[cm,m_,g_]=Tu("Toast"),[Tb,G4]=un("Toast",[g_]),[y_,Du]=Tb(lm),kb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lm}\`. Expected non-empty \`string\`.`),p.jsx(cm.Provider,{scope:t,children:p.jsx(y_,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(y=>y+1),[]),onToastRemove:f.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};kb.displayName=lm;var Ab="ToastViewport",v_=["F8"],vh="toast.viewportPause",wh="toast.viewportResume",Db=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=v_,label:o="Notifications ({hotkey})",...s}=e,i=Du(Ab,n),a=m_(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=Le(t,u,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;f.useEffect(()=>{const b=m=>{var x;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((x=u.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=u.current;if(g&&b&&m){const v=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(vh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(wh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&x()},E=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",v),b.addEventListener("focusout",C),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[g,i.isClosePausedRef]);const w=f.useCallback(({tabbingDirection:b})=>{const v=a().map(x=>{const C=x.ref.current,E=[C,...M_(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return f.useEffect(()=>{const b=u.current;if(b){const m=v=>{var E,P,k;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const A=document.activeElement,D=v.shiftKey;if(v.target===b&&D){(E=c.current)==null||E.focus();return}const F=w({tabbingDirection:D?"backwards":"forwards"}),H=F.findIndex(O=>O===A);jd(F.slice(H+1))?v.preventDefault():D?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,w]),p.jsxs(a_,{ref:l,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(xh,{ref:c,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"forwards"});jd(b)}}),p.jsx(cm.Slot,{scope:n,children:p.jsx(ve.ol,{tabIndex:-1,...s,ref:h})}),g&&p.jsx(xh,{ref:d,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"backwards"});jd(b)}})]})});Db.displayName=Ab;var Rb="ToastFocusProxy",xh=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Du(Rb,n);return p.jsx(Au,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});xh.displayName=Rb;var Ru="Toast",w_="toast.swipeStart",x_="toast.swipeMove",S_="toast.swipeCancel",b_="toast.swipeEnd",Mb=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=yr({prop:r,defaultProp:o,onChange:s});return p.jsx(dn,{present:n||a,children:p.jsx(P_,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:ut(e.onPause),onResume:ut(e.onResume),onSwipeStart:ne(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ne(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Mb.displayName=Ru;var[C_,E_]=Tb(Ru,{onClose(){}}),P_=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:y,...g}=e,w=Du(Ru,n),[b,m]=f.useState(null),v=Le(t,O=>m(O)),x=f.useRef(null),C=f.useRef(null),E=o||w.duration,P=f.useRef(0),k=f.useRef(E),A=f.useRef(0),{onToastAdd:D,onToastRemove:M}=w,j=ut(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=w.viewport)==null||z.focus()),i()}),F=f.useCallback(O=>{!O||O===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(j,O))},[j]);f.useEffect(()=>{const O=w.viewport;if(O){const z=()=>{F(k.current),c==null||c()},N=()=>{const L=new Date().getTime()-P.current;k.current=k.current-L,window.clearTimeout(A.current),l==null||l()};return O.addEventListener(vh,N),O.addEventListener(wh,z),()=>{O.removeEventListener(vh,N),O.removeEventListener(wh,z)}}},[w.viewport,E,l,c,F]),f.useEffect(()=>{s&&!w.isClosePausedRef.current&&F(E)},[s,E,w.isClosePausedRef,F]),f.useEffect(()=>(D(),()=>M()),[D,M]);const H=f.useMemo(()=>b?Ob(b):null,[b]);return w.viewport?p.jsxs(p.Fragment,{children:[H&&p.jsx(T_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),p.jsx(C_,{scope:n,onClose:j,children:Ha.createPortal(p.jsx(cm.ItemSlot,{scope:n,children:p.jsx(i_,{asChild:!0,onEscapeKeyDown:ne(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||j(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:ne(e.onPointerDown,O=>{O.button===0&&(x.current={x:O.clientX,y:O.clientY})}),onPointerMove:ne(e.onPointerMove,O=>{if(!x.current)return;const z=O.clientX-x.current.x,N=O.clientY-x.current.y,L=!!C.current,R=["left","right"].includes(w.swipeDirection),_=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,$=R?_(0,z):0,G=R?0:_(0,N),X=O.pointerType==="touch"?10:2,J={x:$,y:G},ue={originalEvent:O,delta:J};L?(C.current=J,kl(x_,u,ue,{discrete:!1})):Av(J,w.swipeDirection,X)?(C.current=J,kl(w_,d,ue,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(z)>X||Math.abs(N)>X)&&(x.current=null)}),onPointerUp:ne(e.onPointerUp,O=>{const z=C.current,N=O.target;if(N.hasPointerCapture(O.pointerId)&&N.releasePointerCapture(O.pointerId),C.current=null,x.current=null,z){const L=O.currentTarget,R={originalEvent:O,delta:z};Av(z,w.swipeDirection,w.swipeThreshold)?kl(b_,y,R,{discrete:!0}):kl(S_,h,R,{discrete:!0}),L.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),T_=e=>{const{__scopeToast:t,children:n,...r}=e,o=Du(Ru,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return D_(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(ku,{asChild:!0,children:p.jsx(Au,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},k_="ToastTitle",_b=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(ve.div,{...r,ref:t})});_b.displayName=k_;var A_="ToastDescription",Ib=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(ve.div,{...r,ref:t})});Ib.displayName=A_;var Nb="ToastAction",Lb=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Fb,{altText:n,asChild:!0,children:p.jsx(um,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nb}\`. Expected non-empty \`string\`.`),null)});Lb.displayName=Nb;var jb="ToastClose",um=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=E_(jb,n);return p.jsx(Fb,{asChild:!0,children:p.jsx(ve.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,o.onClose)})})});um.displayName=jb;var Fb=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Ob(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),R_(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Ob(r))}}),t}function kl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?am(o,s):o.dispatchEvent(s)}var Av=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function D_(e=()=>{}){const t=ut(e);Ln(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function R_(e){return e.nodeType===e.ELEMENT_NODE}function M_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var __=kb,$b=Db,Vb=Mb,Ub=_b,Bb=Ib,zb=Lb,qb=um;function Wb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Wb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Wb(e))&&(r&&(r+=" "),r+=t);return r}const Dv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rv=Hb,Qa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Rv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=Dv(d)||Dv(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...y}=d;return Object.entries(y).every(g=>{let[w,b]=g;return Array.isArray(b)?b.includes({...s,...a}[w]):{...s,...a}[w]===b})?[...c,u,h]:c},[]);return Rv(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...N_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Gb("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(L_,{ref:s,iconNode:t,className:Gb(`lucide-${I_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Ve("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ve("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ve("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ve("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Ve("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ve("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),fm="-",rI=e=>{const t=sI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(fm);return a[0]===""&&a.length!==1&&a.shift(),nC(a,t)||oI(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},nC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?nC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(fm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},_v=/^\[(.+)\]$/,oI=e=>{if(_v.test(e)){const t=_v.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return aI(Object.entries(e.classGroups),n).forEach(([s,i])=>{Sh(i,r,s,t)}),r},Sh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Iv(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(iI(o)){Sh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Sh(i,Iv(t,s),n,r)})})},Iv=(e,t)=>{let n=e;return t.split(fm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iI=e=>e.isThemeGetter,aI=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,lI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},rC="!",cI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(m==="/"){u=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),y=h.startsWith(rC),g=y?h.substring(1):h,w=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:i}):i},uI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dI=e=>({cache:lI(e.cacheSize),parseClassName:cI(e),...rI(e)}),fI=/\s+/,hI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(fI);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let g=!!y,w=r(g?h.substring(0,y):h);if(!w){if(!g){a=c+(a.length>0?" "+a:a);continue}if(w=r(h),!w){a=c+(a.length>0?" "+a:a);continue}g=!1}const b=uI(d).join(":"),m=u?b+rC:b,v=m+w;if(s.includes(v))continue;s.push(v);const x=o(w,g);for(let C=0;C<x.length;++C){const E=x[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function pI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oC(t))&&(r&&(r+=" "),r+=n);return r}const oC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oC(e[r]))&&(n&&(n+=" "),n+=t);return n};function mI(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=dI(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=hI(l,n);return o(l,d),d}return function(){return s(pI.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},sC=/^\[(?:([a-z-]+):)?(.+)\]$/i,gI=/^\d+\/\d+$/,yI=new Set(["px","full","screen"]),vI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xr=e=>$s(e)||yI.has(e)||gI.test(e),Br=e=>vi(e,"length",RI),$s=e=>!!e&&!Number.isNaN(Number(e)),Fd=e=>vi(e,"number",$s),Ii=e=>!!e&&Number.isInteger(Number(e)),CI=e=>e.endsWith("%")&&$s(e.slice(0,-1)),ke=e=>sC.test(e),zr=e=>vI.test(e),EI=new Set(["length","size","percentage"]),PI=e=>vi(e,EI,iC),TI=e=>vi(e,"position",iC),kI=new Set(["image","url"]),AI=e=>vi(e,kI,_I),DI=e=>vi(e,"",MI),Ni=()=>!0,vi=(e,t,n)=>{const r=sC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},RI=e=>wI.test(e)&&!xI.test(e),iC=()=>!1,MI=e=>SI.test(e),_I=e=>bI.test(e),II=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),o=nt("borderColor"),s=nt("borderRadius"),i=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),d=nt("hueRotate"),u=nt("invert"),h=nt("gap"),y=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),w=nt("inset"),b=nt("margin"),m=nt("opacity"),v=nt("padding"),x=nt("saturate"),C=nt("scale"),E=nt("sepia"),P=nt("skew"),k=nt("space"),A=nt("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ke,t],F=()=>[ke,t],H=()=>["",xr,Br],O=()=>["auto",$s,ke],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",ke],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[$s,ke];return{cacheSize:500,separator:":",theme:{colors:[Ni],spacing:[xr,Br],blur:["none","",zr,ke],brightness:G(),borderColor:[e],borderRadius:["none","","full",zr,ke],borderSpacing:F(),borderWidth:H(),contrast:G(),grayscale:_(),hueRotate:G(),invert:_(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[CI,Br],inset:j(),margin:j(),opacity:G(),padding:F(),saturate:G(),scale:G(),sepia:_(),skew:G(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[zr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),ke]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,ke]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Ii,ke]}],"grid-cols":[{"grid-cols":[Ni]}],"col-start-end":[{col:["auto",{span:["full",Ii,ke]},ke]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Ni]}],"row-start-end":[{row:["auto",{span:[Ii,ke]},ke]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,t]}],"min-w":[{"min-w":[ke,t,"min","max","fit"]}],"max-w":[{"max-w":[ke,t,"none","full","min","max","fit","prose",{screen:[zr]},zr]}],h:[{h:[ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zr,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fd]}],"font-family":[{font:[Ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",$s,Fd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xr,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xr,Br]}],"underline-offset":[{"underline-offset":["auto",xr,ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),TI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[xr,ke]}],"outline-w":[{outline:[xr,Br]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[xr,Br]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zr,DI]}],"shadow-color":[{shadow:[Ni]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zr,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ii,ke]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xr,Br,Fd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NI=mI(II);function LI(e){throw new Error("Unexpected object: "+e)}function ee(...e){return NI(Hb(e))}function jI(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const FI=__,aC=f.forwardRef(({className:e,...t},n)=>p.jsx($b,{ref:n,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aC.displayName=$b.displayName;const OI=Qa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Vb,{ref:r,className:ee(OI({variant:t}),e),...n}));lC.displayName=Vb.displayName;const $I=f.forwardRef(({className:e,...t},n)=>p.jsx(zb,{ref:n,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$I.displayName=zb.displayName;const cC=f.forwardRef(({className:e,...t},n)=>p.jsx(qb,{ref:n,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Mu,{className:"h-4 w-4"})}));cC.displayName=qb.displayName;const uC=f.forwardRef(({className:e,...t},n)=>p.jsx(Ub,{ref:n,className:ee("text-sm font-semibold",e),...t}));uC.displayName=Ub.displayName;const dC=f.forwardRef(({className:e,...t},n)=>p.jsx(Bb,{ref:n,className:ee("text-sm opacity-90",e),...t}));dC.displayName=Bb.displayName;function VI(){const{toasts:e}=Ka();return p.jsxs(FI,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(lC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(uC,{children:n}),r&&p.jsx(dC,{children:r})]}),o,p.jsx(cC,{})]},t)}),p.jsx(aC,{})]})}var UI=Z0[" useId ".trim().toString()]||(()=>{}),BI=0;function Ko(e){const[t,n]=f.useState(UI());return Ln(()=>{n(r=>r??String(BI++))},[e]),t?`radix-${t}`:""}const zI=["top","right","bottom","left"],So=Math.min,pn=Math.max,jc=Math.round,Al=Math.floor,fr=e=>({x:e,y:e}),qI={left:"right",right:"left",bottom:"top",top:"bottom"},WI={start:"end",end:"start"};function bh(e,t,n){return pn(e,So(t,n))}function Nr(e,t){return typeof e=="function"?e(t):e}function Lr(e){return e.split("-")[0]}function wi(e){return e.split("-")[1]}function hm(e){return e==="x"?"y":"x"}function pm(e){return e==="y"?"height":"width"}function bo(e){return["top","bottom"].includes(Lr(e))?"y":"x"}function mm(e){return hm(bo(e))}function HI(e,t,n){n===void 0&&(n=!1);const r=wi(e),o=mm(e),s=pm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Fc(i)),[i,Fc(i)]}function GI(e){const t=Fc(e);return[Ch(e),t,Ch(t)]}function Ch(e){return e.replace(/start|end/g,t=>WI[t])}function KI(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function YI(e,t,n,r){const o=wi(e);let s=KI(Lr(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Ch)))),s}function Fc(e){return e.replace(/left|right|bottom|top/g,t=>qI[t])}function QI(e){return{top:0,right:0,bottom:0,left:0,...e}}function fC(e){return typeof e!="number"?QI(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Nv(e,t,n){let{reference:r,floating:o}=e;const s=bo(t),i=mm(t),a=pm(i),l=Lr(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-o.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:u};break;case"left":y={x:r.x-o.width,y:u};break;default:y={x:r.x,y:r.y}}switch(wi(t)){case"start":y[i]-=h*(n&&c?-1:1);break;case"end":y[i]+=h*(n&&c?-1:1);break}return y}const XI=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=Nv(c,r,l),h=r,y={},g=0;for(let w=0;w<a.length;w++){const{name:b,fn:m}=a[w],{x:v,y:x,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:y,rects:c,platform:i,elements:{reference:e,floating:t}});d=v??d,u=x??u,y={...y,[b]:{...y[b],...C}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=Nv(c,h,l)),w=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:y}};async function Pa(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:y=0}=Nr(t,e),g=fC(y),b=a[h?u==="floating"?"reference":"floating":u],m=Oc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Oc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(m.top-E.top+g.top)/C.y,bottom:(E.bottom-m.bottom+g.bottom)/C.y,left:(m.left-E.left+g.left)/C.x,right:(E.right-m.right+g.right)/C.x}}const ZI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Nr(e,t)||{};if(c==null)return{};const u=fC(d),h={x:n,y:r},y=mm(o),g=pm(y),w=await i.getDimensions(c),b=y==="y",m=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=s.reference[g]+s.reference[y]-h[y]-s.floating[g],E=h[y]-s.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[x]||s.floating[g]);const A=C/2-E/2,D=k/2-w[g]/2-1,M=So(u[m],D),j=So(u[v],D),F=M,H=k-w[g]-j,O=k/2-w[g]/2+A,z=bh(F,O,H),N=!l.arrow&&wi(o)!=null&&O!==z&&s.reference[g]/2-(O<F?M:j)-w[g]/2<0,L=N?O<F?O-F:O-H:0;return{[y]:h[y]+L,data:{[y]:z,centerOffset:O-z-L,...N&&{alignmentOffset:L}},reset:N}}}),JI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...b}=Nr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Lr(o),v=bo(a),x=Lr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(x||!w?[Fc(a)]:GI(a)),P=g!=="none";!h&&P&&E.push(...YI(a,w,g,C));const k=[a,...E],A=await Pa(t,b),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&D.push(A[m]),u){const O=HI(o,i,C);D.push(A[O[0]],A[O[1]])}if(M=[...M,{placement:o,overflows:D}],!D.every(O=>O<=0)){var j,F;const O=(((j=s.flip)==null?void 0:j.index)||0)+1,z=k[O];if(z)return{data:{index:O,overflows:M},reset:{placement:z}};let N=(F=M.filter(L=>L.overflows[0]<=0).sort((L,R)=>L.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!N)switch(y){case"bestFit":{var H;const L=(H=M.filter(R=>{if(P){const _=bo(R.placement);return _===v||_==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(_=>_>0).reduce((_,$)=>_+$,0)]).sort((R,_)=>R[1]-_[1])[0])==null?void 0:H[0];L&&(N=L);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Lv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function jv(e){return zI.some(t=>e[t]>=0)}const eN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Nr(e,t);switch(r){case"referenceHidden":{const s=await Pa(t,{...o,elementContext:"reference"}),i=Lv(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:jv(i)}}}case"escaped":{const s=await Pa(t,{...o,altBoundary:!0}),i=Lv(s,n.floating);return{data:{escapedOffsets:i,escaped:jv(i)}}}default:return{}}}}};async function tN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Lr(n),a=wi(n),l=bo(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=Nr(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof g=="number"&&(y=a==="end"?g*-1:g),l?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const nN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await tN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},rN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:v}=b;return{x:m,y:v}}},...l}=Nr(e,t),c={x:n,y:r},d=await Pa(t,l),u=bo(Lr(o)),h=hm(u);let y=c[h],g=c[u];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",v=y+d[b],x=y-d[m];y=bh(v,y,x)}if(i){const b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",v=g+d[b],x=g-d[m];g=bh(v,g,x)}const w=a.fn({...t,[h]:y,[u]:g});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:s,[u]:i}}}}}},oN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Nr(e,t),d={x:n,y:r},u=bo(o),h=hm(u);let y=d[h],g=d[u];const w=Nr(a,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const x=h==="y"?"height":"width",C=s.reference[h]-s.floating[x]+b.mainAxis,E=s.reference[h]+s.reference[x]-b.mainAxis;y<C?y=C:y>E&&(y=E)}if(c){var m,v;const x=h==="y"?"width":"height",C=["top","left"].includes(Lr(o)),E=s.reference[u]-s.floating[x]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:b.crossAxis),P=s.reference[u]+s.reference[x]+(C?0:((v=i.offset)==null?void 0:v[u])||0)-(C?b.crossAxis:0);g<E?g=E:g>P&&(g=P)}return{[h]:y,[u]:g}}}},sN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Nr(e,t),d=await Pa(t,c),u=Lr(o),h=wi(o),y=bo(o)==="y",{width:g,height:w}=s.floating;let b,m;u==="top"||u==="bottom"?(b=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,b=h==="end"?"top":"bottom");const v=w-d.top-d.bottom,x=g-d.left-d.right,C=So(w-d[b],v),E=So(g-d[m],x),P=!t.middlewareData.shift;let k=C,A=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=v),P&&!h){const M=pn(d.left,0),j=pn(d.right,0),F=pn(d.top,0),H=pn(d.bottom,0);y?A=g-2*(M!==0||j!==0?M+j:pn(d.left,d.right)):k=w-2*(F!==0||H!==0?F+H:pn(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const D=await i.getDimensions(a.floating);return g!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function _u(){return typeof window<"u"}function xi(e){return hC(e)?(e.nodeName||"").toLowerCase():"#document"}function yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(hC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hC(e){return _u()?e instanceof Node||e instanceof yn(e).Node:!1}function Yn(e){return _u()?e instanceof Element||e instanceof yn(e).Element:!1}function gr(e){return _u()?e instanceof HTMLElement||e instanceof yn(e).HTMLElement:!1}function Fv(e){return!_u()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yn(e).ShadowRoot}function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function iN(e){return["table","td","th"].includes(xi(e))}function Iu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function gm(e){const t=ym(),n=Yn(e)?Qn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aN(e){let t=Co(e);for(;gr(t)&&!ci(t);){if(gm(t))return t;if(Iu(t))return null;t=Co(t)}return null}function ym(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ci(e){return["html","body","#document"].includes(xi(e))}function Qn(e){return yn(e).getComputedStyle(e)}function Nu(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Co(e){if(xi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fv(e)&&e.host||vr(e);return Fv(t)?t.host:t}function pC(e){const t=Co(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:gr(t)&&Xa(t)?t:pC(t)}function Ta(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=pC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=yn(o);if(s){const a=Eh(i);return t.concat(i,i.visualViewport||[],Xa(o)?o:[],a&&n?Ta(a):[])}return t.concat(o,Ta(o,[],n))}function Eh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mC(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=jc(n)!==s||jc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function vm(e){return Yn(e)?e:e.contextElement}function Vs(e){const t=vm(e);if(!gr(t))return fr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=mC(t);let i=(s?jc(n.width):n.width)/r,a=(s?jc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const lN=fr(0);function gC(e){const t=yn(e);return!ym()||!t.visualViewport?lN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==yn(e)?!1:t}function ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=vm(e);let i=fr(1);t&&(r?Yn(r)&&(i=Vs(r)):i=Vs(e));const a=cN(s,n,r)?gC(s):fr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=yn(s),y=r&&Yn(r)?yn(r):r;let g=h,w=Eh(g);for(;w&&r&&y!==g;){const b=Vs(w),m=w.getBoundingClientRect(),v=Qn(w),x=m.left+(w.clientLeft+parseFloat(v.paddingLeft))*b.x,C=m.top+(w.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,u*=b.y,l+=x,c+=C,g=yn(w),w=Eh(g)}}return Oc({width:d,height:u,x:l,y:c})}function wm(e,t){const n=Nu(e).scrollLeft;return t?t.left+n:ns(vr(e)).left+n}function yC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:wm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function uN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=vr(r),a=t?Iu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=fr(1);const d=fr(0),u=gr(r);if((u||!u&&!s)&&((xi(r)!=="body"||Xa(i))&&(l=Nu(r)),gr(r))){const y=ns(r);c=Vs(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const h=i&&!u&&!s?yC(i,l,!0):fr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function dN(e){return Array.from(e.getClientRects())}function fN(e){const t=vr(e),n=Nu(e),r=e.ownerDocument.body,o=pn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=pn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+wm(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(i+=pn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function hN(e,t){const n=yn(e),r=vr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=ym();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function pN(e,t){const n=ns(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=gr(e)?Vs(e):fr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Ov(e,t,n){let r;if(t==="viewport")r=hN(e,n);else if(t==="document")r=fN(vr(e));else if(Yn(t))r=pN(t,n);else{const o=gC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oc(r)}function vC(e,t){const n=Co(e);return n===t||!Yn(n)||ci(n)?!1:Qn(n).position==="fixed"||vC(n,t)}function mN(e,t){const n=t.get(e);if(n)return n;let r=Ta(e,[],!1).filter(a=>Yn(a)&&xi(a)!=="body"),o=null;const s=Qn(e).position==="fixed";let i=s?Co(e):e;for(;Yn(i)&&!ci(i);){const a=Qn(i),l=gm(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Xa(i)&&!l&&vC(e,i))?r=r.filter(d=>d!==i):o=a,i=Co(i)}return t.set(e,r),r}function gN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Iu(t)?[]:mN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=Ov(t,d,o);return c.top=pn(u.top,c.top),c.right=So(u.right,c.right),c.bottom=So(u.bottom,c.bottom),c.left=pn(u.left,c.left),c},Ov(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yN(e){const{width:t,height:n}=mC(e);return{width:t,height:n}}function vN(e,t,n){const r=gr(t),o=vr(t),s=n==="fixed",i=ns(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=fr(0);if(r||!r&&!s)if((xi(t)!=="body"||Xa(o))&&(a=Nu(t)),r){const h=ns(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=wm(o));const c=o&&!r&&!s?yC(o,a):fr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function Od(e){return Qn(e).position==="static"}function $v(e,t){if(!gr(e)||Qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vr(e)===n&&(n=n.ownerDocument.body),n}function wC(e,t){const n=yn(e);if(Iu(e))return n;if(!gr(e)){let o=Co(e);for(;o&&!ci(o);){if(Yn(o)&&!Od(o))return o;o=Co(o)}return n}let r=$v(e,t);for(;r&&iN(r)&&Od(r);)r=$v(r,t);return r&&ci(r)&&Od(r)&&!gm(r)?n:r||aN(e)||n}const wN=async function(e){const t=this.getOffsetParent||wC,n=this.getDimensions,r=await n(e.floating);return{reference:vN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xN(e){return Qn(e).direction==="rtl"}const SN={convertOffsetParentRelativeRectToViewportRelativeRect:uN,getDocumentElement:vr,getClippingRect:gN,getOffsetParent:wC,getElementRects:wN,getClientRects:dN,getDimensions:yN,getScale:Vs,isElement:Yn,isRTL:xN};function xC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bN(e,t){let n=null,r;const o=vr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:y}=c;if(a||t(),!h||!y)return;const g=Al(u),w=Al(o.clientWidth-(d+h)),b=Al(o.clientHeight-(u+y)),m=Al(d),x={rootMargin:-g+"px "+-w+"px "+-b+"px "+-m+"px",threshold:pn(0,So(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!xC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return i(!0),s}function CN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vm(e),d=o||s?[...c?Ta(c):[],...Ta(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?bN(c,n):null;let h=-1,y=null;i&&(y=new ResizeObserver(m=>{let[v]=m;v&&v.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let g,w=l?ns(e):null;l&&b();function b(){const m=ns(e);w&&!xC(w,m)&&n(),w=m,g=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),u==null||u(),(m=y)==null||m.disconnect(),y=null,l&&cancelAnimationFrame(g)}}const EN=nN,PN=rN,TN=JI,kN=sN,AN=eN,Vv=ZI,DN=oN,RN=(e,t,n)=>{const r=new Map,o={platform:SN,...n},s={...o.platform,_c:r};return XI(e,t,{...o,platform:s})};var rc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function $c(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$c(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!$c(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function SC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uv(e,t){const n=SC(e);return Math.round(t*n)/n}function $d(e){const t=f.useRef(e);return rc(()=>{t.current=e}),t}function MN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=f.useState(r);$c(h,r)||y(r);const[g,w]=f.useState(null),[b,m]=f.useState(null),v=f.useCallback(R=>{R!==P.current&&(P.current=R,w(R))},[]),x=f.useCallback(R=>{R!==k.current&&(k.current=R,m(R))},[]),C=s||g,E=i||b,P=f.useRef(null),k=f.useRef(null),A=f.useRef(d),D=l!=null,M=$d(l),j=$d(o),F=$d(c),H=f.useCallback(()=>{if(!P.current||!k.current)return;const R={placement:t,strategy:n,middleware:h};j.current&&(R.platform=j.current),RN(P.current,k.current,R).then(_=>{const $={..._,isPositioned:F.current!==!1};O.current&&!$c(A.current,$)&&(A.current=$,Ha.flushSync(()=>{u($)}))})},[h,t,n,j,F]);rc(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const O=f.useRef(!1);rc(()=>(O.current=!0,()=>{O.current=!1}),[]),rc(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(M.current)return M.current(C,E,H);H()}},[C,E,H,M,D]);const z=f.useMemo(()=>({reference:P,floating:k,setReference:v,setFloating:x}),[v,x]),N=f.useMemo(()=>({reference:C,floating:E}),[C,E]),L=f.useMemo(()=>{const R={position:n,left:0,top:0};if(!N.floating)return R;const _=Uv(N.floating,d.x),$=Uv(N.floating,d.y);return a?{...R,transform:"translate("+_+"px, "+$+"px)",...SC(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:$}},[n,a,N.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:H,refs:z,elements:N,floatingStyles:L}),[d,H,z,N,L])}const _N=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vv({element:r.current,padding:o}).fn(n):{}:r?Vv({element:r,padding:o}).fn(n):{}}}},IN=(e,t)=>({...EN(e),options:[e,t]}),NN=(e,t)=>({...PN(e),options:[e,t]}),LN=(e,t)=>({...DN(e),options:[e,t]}),jN=(e,t)=>({...TN(e),options:[e,t]}),FN=(e,t)=>({...kN(e),options:[e,t]}),ON=(e,t)=>({...AN(e),options:[e,t]}),$N=(e,t)=>({..._N(e),options:[e,t]});var VN="Arrow",bC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(ve.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});bC.displayName=VN;var UN=bC;function xm(e){const[t,n]=f.useState(void 0);return Ln(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Sm="Popper",[CC,Lu]=un(Sm),[BN,EC]=CC(Sm),PC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(BN,{scope:t,anchor:r,onAnchorChange:o,children:n})};PC.displayName=Sm;var TC="PopperAnchor",kC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=EC(TC,n),i=f.useRef(null),a=Le(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(ve.div,{...o,ref:a})});kC.displayName=TC;var bm="PopperContent",[zN,qN]=CC(bm),AC=f.forwardRef((e,t)=>{var Pe,De,je,Ze,ge,Z;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:g,...w}=e,b=EC(bm,n),[m,v]=f.useState(null),x=Le(t,ye=>v(ye)),[C,E]=f.useState(null),P=xm(C),k=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(c)?c:[c],F=j.length>0,H={padding:M,boundary:j.filter(HN),altBoundary:F},{refs:O,floatingStyles:z,placement:N,isPositioned:L,middlewareData:R}=MN({strategy:"fixed",placement:D,whileElementsMounted:(...ye)=>CN(...ye,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[IN({mainAxis:o+A,alignmentAxis:i}),l&&NN({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?LN():void 0,...H}),l&&jN({...H}),FN({...H,apply:({elements:ye,rects:Te,availableWidth:at,availableHeight:vt})=>{const{width:st,height:St}=Te.reference,lt=ye.floating.style;lt.setProperty("--radix-popper-available-width",`${at}px`),lt.setProperty("--radix-popper-available-height",`${vt}px`),lt.setProperty("--radix-popper-anchor-width",`${st}px`),lt.setProperty("--radix-popper-anchor-height",`${St}px`)}}),C&&$N({element:C,padding:a}),GN({arrowWidth:k,arrowHeight:A}),h&&ON({strategy:"referenceHidden",...H})]}),[_,$]=MC(N),G=ut(g);Ln(()=>{L&&(G==null||G())},[L,G]);const X=(Pe=R.arrow)==null?void 0:Pe.x,J=(De=R.arrow)==null?void 0:De.y,ue=((je=R.arrow)==null?void 0:je.centerOffset)!==0,[fe,Ee]=f.useState();return Ln(()=>{m&&Ee(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:L?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Ze=R.transformOrigin)==null?void 0:Ze.x,(ge=R.transformOrigin)==null?void 0:ge.y].join(" "),...((Z=R.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(zN,{scope:n,placedSide:_,onArrowChange:E,arrowX:X,arrowY:J,shouldHideArrow:ue,children:p.jsx(ve.div,{"data-side":_,"data-align":$,...w,ref:x,style:{...w.style,animation:L?void 0:"none"}})})})});AC.displayName=bm;var DC="PopperArrow",WN={top:"bottom",right:"left",bottom:"top",left:"right"},RC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=qN(DC,r),i=WN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(UN,{...o,ref:n,style:{...o.style,display:"block"}})})});RC.displayName=DC;function HN(e){return e!==null}var GN=e=>({name:"transformOrigin",options:e,fn(t){var b,m,v;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=MC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,y=(((v=o.arrow)==null?void 0:v.y)??0)+l/2;let g="",w="";return c==="bottom"?(g=i?u:`${h}px`,w=`${-l}px`):c==="top"?(g=i?u:`${h}px`,w=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,w=i?u:`${y}px`):c==="left"&&(g=`${r.floating.width+l}px`,w=i?u:`${y}px`),{data:{x:g,y:w}}}});function MC(e){const[t,n="center"]=e.split("-");return[t,n]}var _C=PC,IC=kC,NC=AC,LC=RC,[ju,K4]=un("Tooltip",[Lu]),Fu=Lu(),jC="TooltipProvider",KN=700,Ph="tooltip.open",[YN,Cm]=ju(jC),FC=e=>{const{__scopeTooltip:t,delayDuration:n=KN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(YN,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};FC.displayName=jC;var Ou="Tooltip",[QN,$u]=ju(Ou),OC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=Cm(Ou,e.__scopeTooltip),c=Fu(t),[d,u]=f.useState(null),h=Ko(),y=f.useRef(0),g=i??l.disableHoverableContent,w=a??l.delayDuration,b=f.useRef(!1),[m=!1,v]=yr({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ph))):l.onClose(),s==null||s(k)}}),x=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b.current=!1,v(!0)},[v]),E=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v(!1)},[v]),P=f.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=!0,v(!0),y.current=0},w)},[w,v]);return f.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),p.jsx(_C,{...c,children:p.jsx(QN,{scope:t,contentId:h,open:m,stateAttribute:x,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{g?E():(window.clearTimeout(y.current),y.current=0)},[E,g]),onOpen:C,onClose:E,disableHoverableContent:g,children:n})})};OC.displayName=Ou;var Th="TooltipTrigger",$C=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=$u(Th,n),s=Cm(Th,n),i=Fu(n),a=f.useRef(null),l=Le(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(IC,{asChild:!0,...i,children:p.jsx(ve.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:ne(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:ne(e.onBlur,o.onClose),onClick:ne(e.onClick,o.onClose)})})});$C.displayName=Th;var XN="TooltipPortal",[Y4,ZN]=ju(XN,{forceMount:void 0}),ui="TooltipContent",VC=f.forwardRef((e,t)=>{const n=ZN(ui,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=$u(ui,e.__scopeTooltip);return p.jsx(dn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(UC,{side:o,...s,ref:t}):p.jsx(JN,{side:o,...s,ref:t})})}),JN=f.forwardRef((e,t)=>{const n=$u(ui,e.__scopeTooltip),r=Cm(ui,e.__scopeTooltip),o=f.useRef(null),s=Le(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),y=f.useCallback((g,w)=>{const b=g.currentTarget,m={x:g.clientX,y:g.clientY},v=oL(m,b.getBoundingClientRect()),x=sL(m,v),C=iL(w.getBoundingClientRect()),E=lL([...x,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const g=b=>y(b,d),w=b=>y(b,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",w)}}},[l,d,y,h]),f.useEffect(()=>{if(i){const g=w=>{const b=w.target,m={x:w.clientX,y:w.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!aL(m,i);v?h():x&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,i,c,h]),p.jsx(UC,{...e,ref:s})}),[eL,tL]=ju(Ou,{isInside:!1}),nL=bb("TooltipContent"),UC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=$u(ui,n),c=Fu(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Ph,d),()=>document.removeEventListener(Ph,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Ya,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(NC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(nL,{children:r}),p.jsx(eL,{scope:n,isInside:!0,children:p.jsx(p_,{id:l.contentId,role:"tooltip",children:o||r})})]})})});VC.displayName=ui;var BC="TooltipArrow",rL=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Fu(n);return tL(BC,n).isInside?null:p.jsx(LC,{...o,...r,ref:t})});rL.displayName=BC;function oL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function iL(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function aL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function lL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cL(t)}function cL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var uL=FC,dL=OC,fL=$C,zC=VC;const qC=uL,hL=dL,pL=fL,WC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(zC,{ref:r,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));WC.displayName=zC.displayName;const Em=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Em.displayName="Card";const mL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));mL.displayName="CardHeader";const gL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));gL.displayName="CardTitle";const yL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));yL.displayName="CardDescription";const Pm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ee("p-6 pt-0",e),...t}));Pm.displayName="CardContent";const vL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ee("flex items-center p-6 pt-0",e),...t}));vL.displayName="CardFooter";function wL(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Em,{className:"w-full max-w-md mx-4",children:p.jsxs(Pm,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(Xb,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Tm=Qa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ke=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?GM:"button";return p.jsx(i,{className:ee(Tm({variant:t,size:n,className:e})),ref:s,...o})});Ke.displayName="Button";const S={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...e)},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...e)},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...e)}};var HC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new o(d,u||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],y]:l._events[g].push(y):(l._events[g]=y,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,y=u.length,g=new Array(y);h<y;h++)g[h]=u[h].fn;return g},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,y,g){var w=n?n+c:c;if(!this._events[w])return!1;var b=this._events[w],m=arguments.length,v,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,h),!0;case 5:return b.fn.call(b.context,d,u,h,y),!0;case 6:return b.fn.call(b.context,d,u,h,y,g),!0}for(x=1,v=new Array(m-1);x<m;x++)v[x-1]=arguments[x];b.fn.apply(b.context,v)}else{var C=b.length,E;for(x=0;x<C;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),m){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,u);break;case 4:b[x].fn.call(b[x].context,d,u,h);break;default:if(!v)for(E=1,v=new Array(m-1);E<m;E++)v[E-1]=arguments[E];b[x].fn.apply(b[x].context,v)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return i(this,y),this;var g=this._events[y];if(g.fn)g.fn===d&&(!h||g.once)&&(!u||g.context===u)&&i(this,y);else{for(var w=0,b=[],m=g.length;w<m;w++)(g[w].fn!==d||h&&!g[w].once||u&&g[w].context!==u)&&b.push(g[w]);b.length?this._events[y]=b.length===1?b[0]:b:i(this,y)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(HC);var xL=HC.exports;const SL=ap(xL),bL="401z949o3txi3r0",Dl="/Photos",Us="/Metadata",CL="images.json";function GC(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const KC=Us.startsWith("/")?Us.replace("//","/"):`/${Us}`.replace("//","/"),YC=`${KC}/${CL}`.replace("//","/");function QC(e,t){const n=GC(e,t);return`${KC}/${n}`.replace("//","/")}function jr(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function XC(e){var t;if(jr(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function ZC(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function EL(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function JC(e,t,n){let r=null;try{S.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return S.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return S.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return S.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(S.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){S.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return S.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(XC(o))return S.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw jr(o)?S.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):S.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function eE(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(S.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});S.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),S.log(`${t} saved successfully.`)}catch(o){throw jr(o)?S.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):S.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function Vc(e,t,n){const r=QC(t,n);return S.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),JC(e,r,["createdAt","updatedAt"])}async function PL(e){return JC(e,YC,["createdAt"])}async function Rl(e,t,n,r){const o=QC(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){S.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),S.log(`Deleted empty entries file: ${o}`)}catch(i){jr(i)&&ZC(i.error,"not_found")?S.log(`Empty entries file ${o} does not exist. No deletion needed.`):jr(i)?S.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):S.error(`Non-API Error deleting ${o}:`,i)}return}await eE(e,o,s,["createdAt","updatedAt"])}async function kh(e,t){await eE(e,YC,t,["createdAt"])}async function TL(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");S.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return S.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw S.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw jr(i)?S.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):S.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function kL(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return S.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),S.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return jr(l)&&(ZC(l.error,"not_found")||EL(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(S.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):(jr(l)?S.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):S.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function AL(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function DL(e){try{const t=await crypto.subtle.digest("SHA-256",e);return AL(t)}catch(t){throw S.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function RL(e){try{const t=await e.arrayBuffer();return DL(t)}catch(t){throw S.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const Ml="PhojoCacheDB",Bv=3,on="entries",hr="imageMetadata",Bs="photoBlobs",lr="cacheStatus",Yo="saveQueue";let En=null;function tE(){return new Promise((e,t)=>{if(En&&En.objectStoreNames.length>0){e(En);return}S.log(`[IDB] Opening database ${Ml} version ${Bv}...`);const n=indexedDB.open(Ml,Bv);n.onerror=r=>{var o;S.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{S.log(`[IDB] Database ${Ml} opened successfully.`),En=n.result,En.onclose=()=>{S.warn("[IDB] Database connection closed unexpectedly."),En=null},En.onversionchange=()=>{S.warn("[IDB] Database version change detected. Closing connection."),En==null||En.close(),En=null},e(En)},n.onupgradeneeded=r=>{S.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){S.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(Ml);a.onsuccess=()=>{S.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{S.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{S.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(on))o.createObjectStore(on).createIndex("byDate","date",{unique:!1}),S.log(`[IDB] Object store created: ${on} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(on);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),S.log(`[IDB] Added 'byDate' index to ${on} store`))}if(o.objectStoreNames.contains(hr)||(o.createObjectStore(hr),S.log(`[IDB] Object store created: ${hr}`)),o.objectStoreNames.contains(Bs)||(o.createObjectStore(Bs),S.log(`[IDB] Object store created: ${Bs}`)),!o.objectStoreNames.contains(lr))o.createObjectStore(lr).createIndex("lastAccessed","lastAccessed",{unique:!1}),S.log(`[IDB] Object store created: ${lr} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(lr);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),S.log(`[IDB] Re-created 'lastAccessed' index on ${lr}`))}o.objectStoreNames.contains(Yo)||(o.createObjectStore(Yo),S.log(`[IDB] Object store created: ${Yo}`)),S.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{S.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Xn(e,t,n){const r=await tE();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{S.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{S.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{S.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){S.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function go(e,t,n){await Xn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),S.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function nE(e,t){return Xn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function ir(e,t){await Xn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),S.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function ML(e){await Xn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),S.log(`[IDB] Store '${e}' cleared successfully.`)}async function _L(e){return Xn(lr,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{S.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){S.error("[IDB] Error setting up index query:",o),r(o)}}))}async function Uc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Xn(on,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const y=h.map(g=>({...g,createdAt:g.createdAt instanceof Date?g.createdAt:new Date(g.createdAt||0),updatedAt:g.updatedAt instanceof Date?g.updatedAt:new Date(g.updatedAt||0)}));a(y)}else a(void 0)},u.onerror=()=>{S.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){S.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function IL(e){return Xn(on,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{S.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(S.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){S.error("[IDB] Error caching entries:",o),r(o)}}))}async function Vd(){return Xn(hr,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{S.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function NL(){return Xn(on,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{S.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function LL(e){return Xn(hr,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{S.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(S.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){S.error("[IDB] Error caching metadata:",o),r(o)}}))}async function jL(e){return e?ir(hr,e):ML(hr)}async function Wr(e){return nE(Bs,e)}async function Ro(e,t,n){const r=Date.now();await go(Bs,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await go(lr,e,{lastAccessed:r,size:t.size,type:n})}async function ks(e){await Promise.all([ir(Bs,e),ir(lr,e)])}async function _l(e){const t=await nE(lr,e);if(!t){S.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await go(lr,e,t)}async function Li(e){S.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await go(Yo,e.actionId,e)}async function rE(){return S.log("[IDB] Getting all items from save queue"),Xn(Yo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter($L))??[];S.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{S.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function Ah(e){S.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await go(Yo,e.actionId,e)}async function FL(e){S.log(`[IDB] Removing action from save queue. ID: ${e}`),await ir(Yo,e)}async function OL(){const e=await rE();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await Ah(r),t++}t>0&&S.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function ka(){return(await rE()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function $L(e){var r;if(typeof e!="object"||e===null)return S.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return S.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return S.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return S.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return S.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return S.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return S.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return S.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return S.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return S.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return S.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}tE().catch(e=>S.error("[IDB] Initial DB open failed:",e));let Ud=!1;const zv=5e4;async function oE(e,t,n,r){if(!t||!e){S.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await sE(e,t,n,r);const o=await ka();o.length>0&&(S.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await oE(e,t,n,r))}function qv(e,t){if(!t||!e){S.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}oE(e,t).catch(n=>{S.error("[SyncService] Background sync process error:",n)}),S.log("[SyncService] Background sync process started")}async function sE(e,t,n,r){if(Ud){S.log("[SyncService] processSaveQueue already in progress, skipping");return}Ud=!0;try{if(!t||!e){S.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await ka();if(o.length===0){S.log("[SyncService] No pending actions in queue");return}S.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await Ah(i),s.entity==="entry"?await VL(e,s):s.entity==="photoMetadata"?await UL(e,s):s.entity==="photoUpload"?await BL(e,s):LI(s),await FL(s.actionId),S.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=zv?"failed":"pending",c={...s,retryCount:a,status:l};await Ah(c),S.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(S.error(`[SyncService] Action ${s.actionId} failed after ${zv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{Ud=!1}}async function VL(e,t){const{type:n,payload:r}=t,o=new km(e),{year:s,month:i}=r,a=await Vc(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(y=>!d.photos.some(g=>g.id===y.id))){const y=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(y)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(y=>y.id!==d);await Rl(e,s,i,u);const h=l.find(y=>y.id===d);if(h&&h.photos&&h.photos.length>0){S.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const y=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(y)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,y=await Vc(e,d,u),g=o.parseEntryDates(y),w=g.filter(x=>x.id!==x.id),m=[...l.filter(x=>x.id!==x.id),h];await Rl(e,d,u,w),await Rl(e,s,i,m);const v=g.find(x=>x.id===h.id);await c(h,v)}else{const{entry:d}=r,u=l.find(g=>g.id===d.id),y=[...l.filter(g=>g.id!==d.id),d];y.sort((g,w)=>{const b=new Date(g.date).getTime(),m=new Date(w.date).getTime();return b!==m?b-m:g.createdAt.getTime()-w.createdAt.getTime()}),await Rl(e,s,i,y),await c(d,u)}}async function UL(e,t){const{type:n,payload:r}=t,s=await new km(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await kh(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await kh(e,c)}}async function BL(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Wr(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await TL(e,s,a,o)}const iE=.8,zL=.7,qL=10;async function Dh(){try{if(!navigator.storage||!navigator.storage.estimate)return S.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return S.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return S.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return S.error("[StorageMgr] Error getting storage estimate:",e),null}}async function Wv(e,t=!0){try{const n=await _L(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return S.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function Bc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await Wv(e);return o.length>0?(S.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>ks(s))),o.length):0}const r=await Dh();if(!r||r.usagePercentage<iE)return S.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await Wv(qL);if(o.length===0){S.log("[StorageMgr] No more blobs to prune");break}S.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>ks(i))),t+=o.length;const s=await Dh();!s||s.usagePercentage<=zL?(S.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(S.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return S.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return S.error("[StorageMgr] Error during pruning:",t),0}}async function Bd(){try{const e=await Dh();if(!e)return;if(e.usagePercentage>=iE){S.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await Bc();S.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){S.error("[StorageMgr] Error in automatic pruning check:",e)}}async function zd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(S.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){S.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class io{constructor(){this.urlMap=new Map}static getInstance(){return io.instance||(io.instance=new io),io.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),S.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){S.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){S.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){S.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){S.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}var Rh=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(Rh||{});const qd=30*60*1e3,ji=Us.startsWith("/")?Us.replace("//","/"):`/${Us}`.replace("//","/"),Hv=e=>e.isNew===!0;class km{constructor(t){this.blobUrlManager=io.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new SL,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache(ji)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache(ji),S.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),S.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<qd?(S.log(`[MemCache] Hit folder list for ${t}`),n.data):(S.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),S.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){S.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(S.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(S.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;S.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),S.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(XC(r))return S.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw jr(r)?S.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):S.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){S.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(ji)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return S.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return S.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);S.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await Uc(t,n),i=s&&s.length>0;i?S.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):S.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<qd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{S.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){S.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await Uc(t,n);if(i&&i.length>0)return S.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){S.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);S.log(`[Background Sync] Starting background sync for ${o}`);try{const s=GC(t,n),a=(await this.listFolder(ji)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)S.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await Vc(this.dbx,t,n);l=this.parseEntryDates(c),S.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(y=>y.id)),u=r.filter(y=>!d.has(y.id));if(u.length>0){S.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const y=await ka();for(const g of u)y.some(b=>b.entity==="entry"&&b.type!=="delete"&&b.payload.entry.id===g.id)?S.log(`[Background Sync] Not deleting entry ${g.id} - has pending changes`):(S.log(`[Background Sync] Deleting orphaned entry ${g.id} from local cache`),await ir(on,g.id))}const h=[...l].sort((y,g)=>new Date(y.date).getTime()-new Date(g.date).getTime()||y.createdAt.getTime()-g.createdAt.getTime());S.log(`[Background Sync] Storing ${h.length} entries in local cache`),await IL(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(S.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),S.log(`[Background Sync] Completed for ${o}`)}catch(s){throw S.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");S.log("[Background Sync] Starting metadata background sync");try{S.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await PL(this.dbx),r=this.parseMetadataDates(n);S.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){S.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await ka();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?S.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(S.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await ir(hr,a.id))}S.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await LL(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(S.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),S.log("[Background Sync] Metadata sync completed")}catch(n){throw S.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){S.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await Vd(),r=n&&n.length>0;r?S.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):S.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<qd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{S.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){S.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await Vd();if(r&&r.length>0)return S.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){S.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return S.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return _l(o).catch(a=>S.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Wr(o);if(a)return S.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await _l(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Wr(t);if(l){S.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await zd(l.blob);return S.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await Ro(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return S.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){S.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return S.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Wr(t);if(a){S.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await zd(a.blob);return S.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await Ro(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return S.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return S.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return S.log(`[Memory] Found cached URL for hash ${t}`),_l(t).catch(s=>S.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Wr(t);if(s)return S.log(`[Cache] Found blob in IDB for hash ${t}.`),await _l(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){S.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return S.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return S.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;S.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var y;return((y=h.photoMetadata)==null?void 0:y.contentHash)===t});if(!(i!=null&&i.photoFilename))return S.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Dl}/${a}`.replace("//","/");S.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return S.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;S.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await Ro(t,d,"full"),this.generateThumbnailInBackground(t,d),S.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){S.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await Bc(10),await Ro(t,d,"full"),this.generateThumbnailInBackground(t,d),S.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(y){S.error(`[Cache] Failed to prune and retry caching for ${t}:`,y)}}else S.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return S.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,k,A;if(S.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(D=>D.photoId))??[]),c=[];i&&l.forEach(D=>{t.photos.some(j=>!Hv(j)&&j.photoId===D)||S.log(`[Save] Photo ${D} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let y=null,g=null;if(n){const D=new Date(n.date+"T00:00:00Z");y=D.getUTCFullYear(),g=D.getUTCMonth()+1}const w=i&&(u!==y||h!==g);for(const D of t.photos){let M=null,j,F=null,H=!1;if(Hv(D)){const O=D.file;j=D.crop,F=await RL(O);const z=o.find(N=>{var L;return((L=N.photoMetadata)==null?void 0:L.contentHash)===F});if(z)M=z.id,S.log(`[Save] Hash collision for ${O.name}. Using existing ID: ${M}`),l.has(M)||(H=!0),await Wr(F)||c.push({hash:F,blob:O});else{S.log(`[Save] Uploading new photo: ${O.name}`);const N=Date.now(),L=crypto.randomUUID().substring(0,8),R=O.name.replace(/[^a-zA-Z0-9.]/g,"_"),_=`${N}_${L}_${R}`,$={id:crypto.randomUUID(),photoFilename:_,photoMetadata:{filename:O.name,mimeType:O.type,width:(E=D.originalDimensions)==null?void 0:E.width,height:(P=D.originalDimensions)==null?void 0:P.height,exifDate:((k=D.exifData)==null?void 0:k.exifDate)??null,contentHash:F},createdAt:new Date},G=crypto.randomUUID(),X={actionId:G,type:"create",entity:"photoUpload",payload:{contentHash:F,photoFilename:_,folder:Dl},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(X),S.log(`[Save] Photo upload added to sync queue. ActionId: ${G}, Hash: ${F}`),M=$.id,o.push($),a.push($),await go(hr,$.id,$),H=!0,c.push({hash:F,blob:O}),S.log(`[Save] New photo uploaded. ID: ${M}, Hash: ${F}`)}}else{M=D.photoId,j=D.crop;const O=o.find(z=>z.id===M);F=((A=O==null?void 0:O.photoMetadata)==null?void 0:A.contentHash)??null,(!i||!l.has(M))&&(H=!0),F&&(await Wr(F)||S.warn(`[Save] Existing photo blob missing from cache for hash: ${F} (ID: ${M})`)),S.log(`[Save] Keeping existing photo ID: ${M}. Is addition? ${H}. Hash: ${F}`)}M&&s.push({photoId:M,crop:j})}for(const{hash:D,blob:M}of c)await Ro(D,M,"full");const b=t.date.toISOString().split("T")[0],m=new Date;let v;if(n?v={...n,date:b,content:t.content,photos:s,updatedAt:m}:v={id:crypto.randomUUID(),date:b,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),w&&y!==null&&g!==null){S.log(`[Save] Deleting entry ${v.id} from local database due to date change`),await ir(on,v.id),S.log(`[Save] Adding entry ${v.id} to local database due to date change`),await go(on,v.id,v);const D=crypto.randomUUID(),M={actionId:D,type:"update",entity:"entry",payload:{entry:v,year:y,month:g,isDateChange:!0,oldYear:y,oldMonth:g},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(M),S.log(`[Save] Date change original month update added to sync queue. ActionId: ${D}`)}else{S.log(`[Save] Saving entry ${v.id} to local database`),await go(on,v.id,v);const D=crypto.randomUUID(),M={actionId:D,type:n?"update":"create",entity:"entry",payload:{entry:v,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(M),S.log(`[Save] Entry save added to sync queue. ActionId: ${D}, ID: ${v.id}`)}S.log(`[Save] Queueing metadata update with ${a.length} entries`);const x=crypto.randomUUID(),C={actionId:x,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(C),S.log(`[Save] Metadata update added to sync queue. ActionId: ${x}`),r&&this.dbx&&(S.log("[Save] Online mode - triggering immediate processing of save queue in background"),qv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Wr(r)){S.log(`[Background] Thumbnail already exists for hash ${t}.`);return}S.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await zd(n);S.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await Ro(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){S.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await Bc(10),await Ro(r,s,"thumb"),S.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){S.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else S.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){S.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){S.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}S.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){S.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await Vc(this.dbx,a,l);S.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){S.error(`[Cleanup] Error processing entries file ${s}:`,i)}S.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){S.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(S.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var y;if(h.photoFilename)try{if(S.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await kL(this.dbx,h.photoFilename,Dl)){S.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const w=(y=h.photoMetadata)==null?void 0:y.contentHash;w&&(await ks(w),await ks(`${w}-thumb`),this.blobUrlManager.revokeUrl(w),this.blobUrlManager.revokeUrl(`${w}-thumb`))}}catch(g){S.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,g)}else S.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),S.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}S.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await kh(this.dbx,l);for(const c of o)jL(c.id)}else S.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(S.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){S.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?S.log("[Deletion Sync] Photo deletions sync completed successfully"):S.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?S.log("[Deletion Sync] Entry deletions sync completed successfully"):S.error("[Deletion Sync] Entry deletions sync failed:",n.reason),S.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){S.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(S.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Dl)).filter(i=>i[".tag"]==="file").map(i=>i.name);S.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await Vd();if(!r||r.length===0){S.log("[Deletion Sync] No local metadata to check");return}S.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){S.log("[Deletion Sync] No orphaned photo metadata found");return}S.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)S.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await ir(hr,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await ks(i.photoMetadata.contentHash),await ks(`${i.photoMetadata.contentHash}-thumb`));S.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(S.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(ji)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);S.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await NL();if(!r||r.length===0){S.log("[Deletion Sync] No local entries to check");return}S.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(S.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>ir(on,l.id))))}S.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){S.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){S.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}S.log(`[Delete] Deleting entry ${t} from local database`),await ir(on,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(l),S.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(S.log("[Delete] Online mode - triggering immediate processing of save queue in background"),qv(this.dbx,o)),S.log("[Delete] deleteEntry operation completed.")}catch(s){throw S.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){S.log("[Prefetch] Skipping prefetch while offline.");return}S.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){S.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>S.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){S.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>S.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var WL="rpc",HL="upload",GL="download",Wd="app",Hd="user",Gd="team",KL="noauth",YL="cookie",zc="dropboxapi.com",Gv="dropbox.com",Mh={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function QL(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Kd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==zc&&Mh[t]!==void 0&&(t=Mh[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},XL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gv;return t!==Gv&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Kv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==zc&&(r=Mh[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function Yv(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,QL)}function ZL(e){return new Date(Date.now()+e*1e3)}function Qv(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof lA>"u"||typeof window<"u"}function Yd(){return typeof window<"u"}function Qd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Il(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function oc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oc=function(n){return typeof n}:oc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oc(e)}function JL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ej(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}function tj(e){var t=aE();return function(){var r=Da(e),o;if(t){var s=Da(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return nj(this,o)}}function nj(e,t){return t&&(oc(t)==="object"||typeof t=="function")?t:rj(e)}function rj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _h(e){var t=typeof Map=="function"?new Map:void 0;return _h=function(r){if(r===null||!oj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return sc(r,arguments,Da(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Aa(o,r)},_h(e)}function sc(e,t,n){return aE()?sc=Reflect.construct:sc=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Aa(c,i.prototype),c},sc.apply(null,arguments)}function aE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Aa(e,t){return Aa=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Aa(e,t)}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Da(e)}var sj=function(e){ej(n,e);var t=tj(n);function n(r,o,s){var i;return JL(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(_h(Error));function ij(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var lE=function e(t,n,r){ij(this,e),this.status=t,this.headers=n,this.result=r};function cE(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new sj(e.status,e.headers,n)})}function qc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new lE(e.status,e.headers,n)}):cE(e)}function aj(e){return e.ok?new Promise(function(t){Qv()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Qv()?n.fileBlob=t:n.fileBinary=t,new lE(e.status,e.headers,n)}):cE(e)}function lj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uj(e,t,n){return t&&cj(e.prototype,t),e}var Nl,Mo,Xd,dj=300*1e3,Xv=128,fj=["legacy","offline","online"],hj=["code","token"],pj=["none","user","team"],uE=function(){function e(t){lj(this,e),t=t||{},Yd()?(Nl=window.fetch.bind(window),Mo=window.crypto||window.msCrypto):Qd()?(Nl=self.fetch.bind(self),Mo=self.crypto):(Nl=require("node-fetch"),Mo=require("crypto")),typeof TextEncoder>"u"?Xd=require("util").TextEncoder:Xd=TextEncoder,this.fetch=t.fetch||Nl,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return uj(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new Xd,o=r.encode(this.codeVerifier),s;if(Yd()||Qd())return Mo.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=Il(l).substr(0,128),n.codeChallenge=s});var i=Mo.createHash("sha256").update(o).digest();return s=Il(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Yd()||Qd()){var r=new Uint8Array(Xv),o=Mo.getRandomValues(r),s=btoa(o);n=Il(s).substr(0,128)}else{var i=Mo.randomBytes(Xv);n=Il(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=XL(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!hj.includes(s))throw new Error("Authorization type must be code or token");if(i&&!fj.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!pj.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Kv(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return qc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+dj)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Kv(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return qc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(ZL(c.result.expires_in))})}}]),e}();function mj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yj(e,t,n){return t&&gj(e.prototype,t),e}var vj=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,Zv=function(){function e(t){mj(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new uE(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return yj(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case WL:return this.rpcRequest(n,r,o,s);case GL:return this.downloadRequest(n,r,o,s);case HL:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Kd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return qc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":Yv(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Kd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return aj(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Yv(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Kd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return qc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Hd)&&this.auth.getAccessToken()?n=Hd:o.includes(Gd)&&this.auth.getAccessToken()?n=Gd:o.includes(Wd)&&(n=Wd)}switch(n){case Wd:if(this.auth.clientId&&this.auth.clientSecret){var s=vj("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Gd:case Hd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case KL:case YL:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function wj(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function xj(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{S.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new uE({clientId:bL}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(v=>{S.log("Generated auth URL, redirecting..."),window.location.href=String(v)}).catch(v=>{S.error("Dropbox auth URL generation failed:",v),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){S.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{S.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const y=f.useCallback((b,m=!1)=>{S.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(S.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(S.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const v=new Zv({accessToken:b});let x=!0;return v.usersGetCurrentAccount().then(C=>{if(!x)return;const E=C.result;t(v),r(!0),u(E),c(null),S.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(x)if(S.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),wj(C))S.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{S.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{x&&(S.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{x=!1}},[n]);f.useEffect(()=>{S.log("[useDropboxAuth useEffect] Running effect.");let b,v=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const x=localStorage.getItem("dropboxToken");let C=null;return v?(S.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",v),C=v,S.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):x&&(S.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=x),C?b=y(C,!1):(S.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{b==null||b(),S.log("[useDropboxAuth useEffect] Cleanup.")}},[y]);const g=f.useCallback(()=>{S.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?y(b,!0):S.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,y]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{S.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),b&&new Zv({accessToken:b}).authTokenRevoke().then(()=>S.log("Dropbox token revoked successfully.")).catch(v=>S.error("Failed to revoke Dropbox token:",v))},tryVerifyStoredToken:g}}function Sj(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,v)=>{const x=new Date(v,m-1),C=new Date(o,n-1);x>C?a(1):x<C?a(-1):a(0),r(m),s(v)},[n,o]),u=f.useCallback(()=>{let m=n,v=o;m===1?(v--,m=12):m--,d(m,v)},[n,o,d]),h=f.useCallback(()=>{let m=n,v=o;m===12?(v++,m=1):m++,d(m,v)},[n,o,d]),y=f.useCallback((m,v)=>{d(m,v),c(!1)},[d]),g=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),w=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:y,handleCalendarSwipe:g,openMonthYearPicker:w,closeMonthYearPicker:b,setSwipeDirection:a}}function bj(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((g,w)=>{s(g),r(w),a(!1),t(!0)},[]),u=f.useCallback(g=>{c(g),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),y=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:y}}const Zd=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Ih=()=>{const[e,t]=f.useState(Zd());f.useEffect(()=>{const r=()=>{const o=Zd();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=Zd();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},dE=f.createContext(void 0),Cj=({children:e})=>{const{toast:t}=Ka(),[,n]=Ih(),r=f.useRef(!0),o=xj(),s=Sj(new Date().getMonth()+1,new Date().getFullYear()),i=bj(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),y=f.useRef(u),[g,w]=f.useState([]),[b,m]=f.useState(!1),[v,x]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[A,D]=f.useState(null),[M,j]=f.useState(null),[F,H]=f.useState(!1),[O,z]=f.useState("calendar"),[N,L]=f.useState(null),[R,_]=f.useState(null),$=io.getInstance(),[G,X]=f.useState(!1),[J,ue]=f.useState(0),[fe,Ee]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;S.log("[AppContext] Setting up periodic storage check and pruning"),Bd().catch(K=>{S.error("[AppContext] Periodic storage check/prune error:",K)});const U=setInterval(()=>{r.current&&(S.log("[AppContext] Running periodic storage check and pruning"),Bd().catch(K=>{S.error("[AppContext] Periodic storage check/prune error:",K)}))},5*60*1e3);return()=>{clearInterval(U)}},[c,a]),f.useEffect(()=>{const U=()=>r.current&&h(!0),K=()=>r.current&&h(!1);return window.addEventListener("online",U),window.addEventListener("offline",K),S.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),y.current=navigator.onLine,()=>{window.removeEventListener("online",U),window.removeEventListener("offline",K),$.revokeAllUrls()}},[$]),f.useEffect(()=>{!y.current&&u&&(S.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(S.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):S.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),y.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const U=K=>{const B=K;B.message&&B.message.includes("QuotaExceededError")&&(S.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),Bc(20).catch(we=>{S.error("[AppContext] Failed to prune cache:",we)})),B.message&&B.message.includes("IndexedDB")&&(S.error("[AppContext] IndexedDB error detected:",B.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",U),()=>{window.removeEventListener("error",U)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(S.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(S.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const K=new km(o.dbx);K.on(Rh.ENTRIES_UPDATED,B=>{S.log(`[AppContext] Entries updated event received for ${B.year}-${B.month}`),B.year===s.currentYear&&B.month===s.currentMonth&&(S.log("[AppContext] Updated entries are for current month, refreshing UI"),w(B.entries))}),K.on(Rh.METADATA_UPDATED,B=>{S.log("[AppContext] Metadata updated event received"),x(B.metadata)}),l(K),d(!0),S.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(S.log("[AppContext] Triggering background deletion sync with Dropbox..."),K.syncDeletionsFromDropbox().catch(B=>{S.error("[AppContext] Background deletion sync failed:",B)})),await OL(),E(!0),j(null);try{const B=await K.fetchImagesMetadata(u);r.current&&x(B),S.log(`[AppContext] Initial metadata fetch/load success. Count: ${B.length}`)}catch(B){S.error("[AppContext] Err fetch/load initial metadata:",B),r.current&&j(B instanceof Error?B:new Error("Failed metadata load"))}finally{r.current&&E(!1)}Bd().catch(B=>{S.error("[AppContext] Initial storage check/prune error:",B)})}catch(K){S.error("[AppContext] Failed to initialize PhotoJournalClient:",K),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),k(null);const U=s.currentYear,K=s.currentMonth;S.log(`[AppContext] Fetching entries effect triggered for ${U}-${K+1}. Online: ${u}`),a.fetchEntriesForMonth(U,K,u).then(B=>{S.log(`[AppContext] Fetched/Loaded ${B.length} entries for ${U}-${K+1}`),r.current&&(w(B),u&&o.isAuthenticated&&a.triggerPrefetch(U,K,u))}).catch(B=>{S.error(`[AppContext] Err fetch/load entries for ${U}-${K+1}:`,B),r.current&&k(B instanceof Error?B:new Error("Failed entries load"))}).finally(()=>{S.log(`[AppContext] Finished fetching/loading entries for ${U}-${K+1}. isLoadingEntries: false`),r.current&&m(!1)})}else w([]),m(!1),k(null),S.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{$.revokeAllUrls(),o.logout(),L(null),_(null),w([]),x([]),l(null),d(!1)},[o,$]),f.useEffect(()=>{D(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{M&&t({title:"Metadata Error",description:M.message,variant:"destructive"})},[M,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{A&&t({title:"Operation Error",description:A.message,variant:"destructive"})},[A,t]),f.useEffect(()=>{const U=window.location.hash;if(U.startsWith("#shareKey=")){const K=U.substring(10);K&&(S.log(`[App Context] Share detected via hash, setting shareKeyToProcess: ${K}`),_(K),n(window.location.pathname+window.location.search,{replace:!0}))}},[n]),f.useEffect(()=>{const U=K=>{if(navigator.serviceWorker.controller){const B={type:"GET_STORED_FILES",key:K};S.log(`[App Context] Sending GET_STORED_FILES message to service worker with key: ${K}`),navigator.serviceWorker.controller.postMessage(B),_(null),S.log("[App Context] Set shareKeyToProcess to null after message sent")}else S.warn(`[App Context] SW controller not ready for key: ${K}`)};R&&(S.log(`[App Context] Processing shareKeyToProcess: ${R}`),navigator.serviceWorker.controller?(S.log("[App Context] Service worker controller available, requesting files immediately"),U(R)):(S.log("[App Context] Service worker controller not available, waiting for ready event"),navigator.serviceWorker.ready.then(K=>{K.active&&R?(S.log("[App Context] Service worker now active, requesting files"),U(R)):K.active?S.warn("[App Context] shareKeyToProcess no longer available after SW ready"):S.error("[App Context] Service worker not active after ready.")})))},[R]),f.useEffect(()=>{const U=we=>{const le=we.data;if(!le){S.warn("[App Context] Received SW message with no data");return}S.log(`[App Context] Received SW message of type: ${le.type}`,{key:le.key,filesCount:le.files?le.files.length:"none",error:le.error||"none"}),le.type==="SHARED_FILES_READY"&&le.key?(S.log(`[App Context] Processing SHARED_FILES_READY with key: ${le.key}`),navigator.serviceWorker.controller?(S.log("[App Context] Sending GET_STORED_FILES message to service worker"),navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:le.key})):(S.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"}))):le.type==="STORED_FILES_DATA"&&le.files?le.files.length>0?(S.log(`[App Context] Received ${le.files.length} shared files:`,{types:le.files.map(Qe=>Qe.type),sizes:le.files.map(Qe=>Qe.size),names:le.files.map(Qe=>Qe.name)}),S.log("[App Context] Setting pendingSharedFiles with received files"),L(le.files)):(S.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):le.type==="STORED_FILES_ERROR"&&(S.error("[App Context] Received STORED_FILES_ERROR:",le.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${le.error||"Unknown error"}`,variant:"destructive"}))},K=we=>{r.current&&U(we)};let B=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(we=>{we.active&&r.current?(navigator.serviceWorker.addEventListener("message",K),B=!0,S.log("[App Context] Service worker message listener attached.")):S.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(B&&"serviceWorker"in navigator){S.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",K)}catch(we){S.warn("[App Context] Error removing SW message listener:",we)}}}},[t]),f.useEffect(()=>{N&&S.log(`[AppContext] pendingSharedFiles state changed: ${N?N.length:"null"} files`,{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth}),o.isAuthenticated&&!o.isLoadingAuth&&N&&N.length>0&&(S.log(`[AppContext] Pending shared files ready for processing: ${N.length} files, navigating to /entry/new`),n("/entry/new"))},[o.isAuthenticated,o.isLoadingAuth,N,n]);const Pe=f.useCallback(()=>{S.log("[AppContext] Clearing pendingSharedFiles"),L(null)},[]),De=f.useCallback(async(U,K)=>{if(!c||!a||!U)return null;try{return await a.getPhotoBlobUrl(U,K,u)}catch(B){return S.error(`getPhotoBlobUrl Error for hash ${U} (ID ${K}):`,B),null}},[a,c,u]),je=f.useCallback(async(U,K)=>{if(!c||!a||!U)return null;try{return await a.getPhotoThumbnailUrl(U,K,u)}catch(B){return S.error(`getPhotoThumbnailUrl Error for hash ${U} (ID ${K}):`,B),null}},[a,c,u]),Ze=f.useCallback(async U=>{if(!c||!a)throw new Error("Client not ready");let K=[];try{K=await a.fetchImagesMetadata(u),r.current&&v.length===0&&K.length>0&&x(K)}catch(le){S.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",le),K=v}const B=(U.photos||[]).map(async le=>{let Qe=null,Re=null;const Fe=K.find(re=>re.id===le.photoId),Me=(Fe==null?void 0:Fe.photoMetadata)??null,I=(Fe==null?void 0:Fe.photoFilename)??null,q=Me==null?void 0:Me.contentHash;if(!q)S.warn(`Metadata or contentHash missing for photoId: ${le.photoId}`);else{const[re,ce]=await Promise.all([De(q,le.photoId),je(q,le.photoId)]);Qe=re,Re=ce}return{...le,photoUrl:Qe,thumbnailUrl:Re,photoMetadata:Me,photoFilename:I}}),we=await Promise.all(B);return{...U,photos:we}},[a,c,v,u,De]),ge=f.useCallback(async()=>{if(O!=="calendar"||!r.current||!c||!a)return;let U=0;const K=3;let B=document.querySelectorAll(".day-with-image");for(;B.length===0&&U<K;){S.log(`[loadDayBackgrounds] No day elements found, retrying (${U+1}/${K})...`);const I=200*Math.pow(2,U);await new Promise(q=>setTimeout(q,I)),B=document.querySelectorAll(".day-with-image"),U++}if(g.length===0||B.length===0){S.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const we=new Map;g.forEach(I=>{if(I.photos&&I.photos.length>0){const q=we.get(I.date),re=I.createdAt instanceof Date?I.createdAt:new Date(I.createdAt),ce=(q==null?void 0:q.createdAt)instanceof Date?q.createdAt:new Date(0);(!q||re.getTime()>ce.getTime())&&we.set(I.date,I)}});let le=[];try{le=await a.fetchImagesMetadata(u),r.current&&v.length===0&&le.length>0&&x(le)}catch(I){S.error("[loadDayBackgrounds] Failed fetch/load metadata:",I),le=v}const Qe=(I,q,re)=>{var Be;if(!r.current)return;const ce=q.crop,he=re==null?void 0:re.width,Ce=re==null?void 0:re.height,xe=(Be=I.parentElement)==null?void 0:Be.getBoundingClientRect(),Ie=(xe==null?void 0:xe.width)??0;if(ce&&he&&Ce&&he>0&&Ce>0&&ce.w>0&&Ie>0){const Ge=Ie/ce.w,Et=he*Ge,Mt=Ce*Ge,_t=-ce.x*Ge,kt=-ce.y*Ge;Object.assign(I.style,{width:`${Et}px`,height:`${Mt}px`,transform:`translate(${_t}px, ${kt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(I.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&I.classList.add("img-loaded")})},Re=I=>{I.src&&I.src.startsWith("blob:")&&$.revokeUrl(I.getAttribute("data-content-hash")??""),I.removeAttribute("src"),Object.assign(I.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),I.classList.remove("img-loaded"),I.removeAttribute("data-photo-id"),I.removeAttribute("data-content-hash")},Fe=new Set;B.forEach(I=>{var xe,Ie;const q=I.getAttribute("data-day");if(!q)return;const ce=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(q))).toISOString().split("T")[0],he=we.get(ce),Ce=(xe=he==null?void 0:he.photos)==null?void 0:xe[0];if(Ce!=null&&Ce.photoId){const Be=le.find(Et=>Et.id===Ce.photoId),Ge=(Ie=Be==null?void 0:Be.photoMetadata)==null?void 0:Ie.contentHash;Ge&&Fe.add(Ge)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(I=>{const q=I,re=q.getAttribute("data-content-hash");re&&!Fe.has(re)&&Re(q)});const Me=Array.from(B).map(async I=>{var Mt,_t;const q=I.getAttribute("data-day");if(!q)return;const ce=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(q))).toISOString().split("T")[0],he=I.querySelector(".calendar-day-img");if(!he)return;const Ce=we.get(ce),xe=(Mt=Ce==null?void 0:Ce.photos)==null?void 0:Mt[0],Ie=(xe==null?void 0:xe.photoId)??null,Be=Ie?le.find(kt=>kt.id===Ie):null,Ge=((_t=Be==null?void 0:Be.photoMetadata)==null?void 0:_t.contentHash)??null,Et=he.getAttribute("data-content-hash");if(Et&&Et!==Ge&&Re(he),Ge&&a&&Et!==Ge&&Ie&&xe&&(Be!=null&&Be.photoMetadata)){he.setAttribute("data-photo-id",Ie),he.setAttribute("data-content-hash",Ge);let kt=null;const Gt=xe.crop,bn=Be.photoMetadata.width||0,Fn=Be.photoMetadata.height||0,Y=Gt.w*Gt.h/(bn*Fn);(Y<.3||Gt.w<300||Gt.h<300)&&bn>0?(S.log(`[loadDayBackgrounds] Using full image for day ${q} (crop ratio: ${Y.toFixed(2)})`),kt=await De(Ge,Ie)):kt=await je(Ge,Ie),kt&&r.current&&he.getAttribute("data-content-hash")===Ge?(he.src=kt,Qe(he,xe,Be.photoMetadata)):r.current&&he.getAttribute("data-content-hash")===Ge&&Re(he)}else!Ge&&Et&&Re(he)});await Promise.all(Me)},[a,c,g,s,v,O,u,De,je,$]);f.useEffect(()=>{let U=null;return O==="calendar"&&c&&a?U=setTimeout(()=>{r.current&&(S.log("[AppContext] Triggering loadDayBackgrounds from effect."),ge())},500):document.querySelectorAll(".calendar-day-img").forEach(K=>{const B=K;B.src&&B.src.startsWith("blob:")&&$.revokeUrl(B.getAttribute("data-content-hash")??""),B.removeAttribute("src"),Object.assign(B.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),B.classList.remove("img-loaded"),B.removeAttribute("data-photo-id"),B.removeAttribute("data-content-hash")}),()=>{U&&clearTimeout(U)}},[ge,O,$,g,v,c,a]);const Z=f.useCallback(U=>{const B=new Date(Date.UTC(s.currentYear,s.currentMonth-1,U)).toISOString().split("T")[0];return g.filter(we=>we.date===B)},[g,s.currentMonth,s.currentYear]),ye=f.useCallback(U=>g.find(K=>K.id===U),[g]),Te=f.useCallback(async U=>{if(S.log(`[AppContext] loadSpecificEntry called for ID: ${U}`),!c||!a)return S.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const K=ye(U);if(K)return K;S.log(`[AppContext] loadSpecificEntry: Entry ${U} not in current month. Searching...`);try{const B=await a.listEntryFiles();if(!B)return S.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const we of B){const le=we.match(/^(\d{4})-(\d{2})-entries\.json$/);if(le){const Qe=parseInt(le[1],10),Re=parseInt(le[2],10)-1;if(Qe===s.currentYear&&Re===s.currentMonth)continue;const Me=(await a.fetchEntriesForMonth(Qe,Re,u)).find(I=>I.id===U);if(Me)return S.log(`[AppContext] loadSpecificEntry: Entry ${U} found in ${Qe}-${Re+1}`),Me}}}catch(B){S.error("[AppContext] loadSpecificEntry: Error searching other months:",B)}return S.warn(`[AppContext] loadSpecificEntry: Entry ${U} not found in any month.`),null},[a,c,ye,s.currentYear,s.currentMonth,u]),at=f.useCallback(async U=>{if(S.log(`[AppContext handleDayClick] START - Day: ${U}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){S.log("[AppContext handleDayClick] EXIT - Client not ready");return}const K=Z(U),B=new Date(Date.UTC(s.currentYear,s.currentMonth-1,U));if(S.log(`[AppContext handleDayClick] Day: ${U}, Entries found: ${K.length}`),K.length>0)S.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(B,K);else{const we=B.toISOString().split("T")[0];S.log("[AppContext handleDayClick] Navigating to /entry/new for date:",we),n(`/entry/new?date=${we}`)}},[a,c,s.currentMonth,s.currentYear,Z,i.openViewEntriesModal,n,u,t]),vt=f.useCallback(U=>{n(`/entry/edit/${U}`)},[n]),st=f.useCallback(U=>{i.openDeleteConfirmation(U)},[i.openDeleteConfirmation]),St=f.useCallback(async(U,K)=>{if(U.content=U.content.trim(),!c||!a)return D(new Error("Client not ready.")),!1;if(!o.isAuthenticated)return t({title:"Authentication Required",description:"Please log in to save entries.",variant:"destructive"}),D(new Error("Authentication Required")),!1;H(!0),D(null),k(null);try{const B=U.date.getUTCFullYear(),we=U.date.getUTCMonth()+1;let le=null,Qe=null;if(K){const I=new Date(K.date+"T00:00:00Z");le=I.getUTCFullYear(),Qe=I.getUTCMonth()+1}S.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}`),await a.saveEntry(U,K,u),u||t({title:"Saved Offline",description:"Entry saved locally and will sync when online.",variant:"default"});let Re=v,Fe=g,Me=null;try{const I=await Uc(B,we);if(I&&I.length>0&&(Fe=I),K&&(le!==B||Qe!==we)&&le===s.currentYear&&Qe===s.currentMonth){const q=await Uc(le,Qe);q&&q.length>0&&(Me=q)}}catch(I){S.error("[AppContext] Error fetching cached entries after offline save:",I)}return r.current&&(x(Re),B===s.currentYear&&we===s.currentMonth?w(Fe):Me!==null&&w(Me),(B!==s.currentYear||we!==s.currentMonth)&&s.handleMonthYearSelect(we,B),n("/")),!0}catch(B){return S.error("[AppContext] Save Err: Failed save entry:",B),r.current&&D(B instanceof Error?B:new Error("Failed to save entry")),!1}finally{r.current&&H(!1)}},[a,c,v,s,n,o.isAuthenticated,i,u,t,g]),lt=f.useCallback(async()=>{if(!(!c||!i.entryToDeleteId||!a)){if(!o.isAuthenticated){t({title:"Authentication Required",description:"Please log in to delete entries.",variant:"destructive"}),D(new Error("Authentication Required")),i.closeDeleteDialog();return}H(!0),D(null),k(null);try{const U=i.entryToDeleteId,K=ye(U);if(K){const B=new Date(K.date+"T00:00:00Z"),we=B.getUTCFullYear(),le=B.getUTCMonth()+1;S.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(U,we,le,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{S.error(`Delete Error: Could not find entry source for ID ${U}`);const B=await Te(U);if(!B){D(new Error("Could not find entry to delete")),H(!1),i.closeDeleteDialog();return}const we=new Date(B.date+"T00:00:00Z"),le=we.getUTCFullYear(),Qe=we.getUTCMonth()+1;if(S.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(U,le,Qe,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),le===s.currentYear&&Qe===s.currentMonth){const Re=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&w(Re)}}if(i.closeDeleteDialog(),i.closeViewModal(),w(B=>B.filter(we=>we.id!==U)),u){const B=await a.fetchImagesMetadata(u).catch(we=>(S.error("Delete Success: Failed post-delete metadata refresh:",we),v));r.current&&x(B)}}catch(U){S.error("[AppContext] Delete Error:",U),r.current&&D(U instanceof Error?U:new Error("Failed to delete entry"))}finally{r.current&&H(!1)}}},[a,c,i,g,s,ye,Te,o.isAuthenticated,u,t,v]),me=f.useCallback(async()=>{try{if(r.current){const U=await ka();ue(U.length)}}catch(U){S.error("[AppContext] Error getting pending sync count:",U)}},[]),Ue=f.useCallback(async()=>{if(G){S.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await me(),J!=0&&(r.current&&(X(!0),Ee(null)),sE(o.dbx,u,U=>{me(),J<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(U,K)=>{r.current&&Ee(K),t({title:"Sync Error",description:`Failed to sync some changes: ${K.message}`,variant:"destructive"})}).catch(U=>{S.error("[AppContext] Error processing save queue:",U),r.current&&Ee(U instanceof Error?U:new Error("Failed to sync changes"))}).finally(()=>{me(),r.current&&X(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,me,J,G]);f.useEffect(()=>{me();const U=setInterval(()=>{me()},3e4);return()=>clearInterval(U)},[me]),f.useEffect(()=>{u&&!y.current&&o.isAuthenticated?(S.log("[AppContext] Coming back online, triggering background sync"),Ue()):me(),y.current=u},[u,o.isAuthenticated,Ue,me]),f.useEffect(()=>{u&&c&&a&&(S.log("[AppContext] Checking for items in save queue due to client ready"),Ue())},[c,a,u,Ue]);const Rt={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:G,pendingSyncCount:J,syncError:fe,triggerBackgroundSync:Ue,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:O,setMonthViewType:z,currentMonthEntries:g,isLoadingEntries:b,imagesMetadata:v,isLoadingImagesMeta:C,entriesError:P,operationError:A,imagesMetaError:M,setEntriesError:k,setImagesMetaError:j,clearOperationError:()=>D(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:F,handleSaveEntry:St,handleDeleteEntry:lt,loadDayBackgrounds:ge,getPhotoBlobUrl:De,getPhotoThumbnailUrl:je,getCombinedEntryDetails:Ze,getEntriesForDay:Z,getEntryById:ye,loadSpecificEntry:Te,handleDayClick:at,handleEditRequest:vt,handleDeleteRequest:st,pendingSharedFiles:N,clearPendingSharedFiles:Pe,setPendingSharedFiles:L,navigate:n};return p.jsx(dE.Provider,{value:Rt,children:e})};function Zn(){const e=f.useContext(dE);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const Ej=Qa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pj({className:e,variant:t,...n}){return p.jsx("div",{className:ee(Ej({variant:t}),e),...n})}function Tj(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=Zn();if(!e||!t&&n===0&&!r)return null;let s=Mv,i="",a="",l="outline";return r?(s=tC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=X_,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Mv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(qC,{children:p.jsxs(hL,{children:[p.jsx(pL,{asChild:!0,children:p.jsxs(Ke,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:ee("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(Pj,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(WC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var kj=f.createContext(void 0);function Za(e){const t=f.useContext(kj);return e||t||"ltr"}var Jd="rovingFocusGroup.onEntryFocus",Aj={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[Nh,fE,Dj]=Tu(Vu),[Rj,Uu]=un(Vu,[Dj]),[Mj,_j]=Rj(Vu),hE=f.forwardRef((e,t)=>p.jsx(Nh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Nh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Ij,{...e,ref:t})})}));hE.displayName=Vu;var Ij=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),y=Le(t,h),g=Za(s),[w=null,b]=yr({prop:i,defaultProp:a,onChange:l}),[m,v]=f.useState(!1),x=ut(c),C=fE(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Jd,x),()=>A.removeEventListener(Jd,x)},[x]),p.jsx(Mj,{scope:n,orientation:r,dir:g,loop:o,currentTabStopId:w,onItemFocus:f.useCallback(A=>b(A),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:f.useCallback(()=>k(A=>A-1),[]),children:p.jsx(ve.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:y,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{E.current=!0}),onFocus:ne(e.onFocus,A=>{const D=!E.current;if(A.target===A.currentTarget&&D&&!m){const M=new CustomEvent(Jd,Aj);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const j=C().filter(N=>N.focusable),F=j.find(N=>N.active),H=j.find(N=>N.id===w),z=[F,H,...j].filter(Boolean).map(N=>N.ref.current);gE(z,d)}}E.current=!1}),onBlur:ne(e.onBlur,()=>v(!1))})})}),pE="RovingFocusGroupItem",mE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Ko(),l=s||a,c=_j(pE,n),d=c.currentTabStopId===l,u=fE(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=c;return f.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),p.jsx(Nh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(ve.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:ne(e.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:ne(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:ne(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const w=jj(g,c.orientation,c.dir);if(w!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let m=u().filter(v=>v.focusable).map(v=>v.ref.current);if(w==="last")m.reverse();else if(w==="prev"||w==="next"){w==="prev"&&m.reverse();const v=m.indexOf(g.currentTarget);m=c.loop?Fj(m,v+1):m.slice(v+1)}setTimeout(()=>gE(m))}})})})});mE.displayName=pE;var Nj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lj(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jj(e,t,n){const r=Lj(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Nj[r]}function gE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Fj(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yE=hE,vE=mE,Oj="Toggle",Am=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=yr({prop:n,onChange:o,defaultProp:r});return p.jsx(ve.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:ne(e.onClick,()=>{e.disabled||a(!i)})})});Am.displayName=Oj;var wE=Am,Si="ToggleGroup",[xE,Q4]=un(Si,[Uu]),SE=Uu(),Dm=bt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx($j,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(Vj,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Si}\``)});Dm.displayName=Si;var[bE,CE]=xE(Si),$j=bt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=yr({prop:n,defaultProp:r,onChange:o});return p.jsx(bE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:bt.useCallback(()=>a(""),[a]),children:p.jsx(EE,{...s,ref:t})})}),Vj=bt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=yr({prop:n,defaultProp:r,onChange:o}),l=bt.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=bt.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(bE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(EE,{...s,ref:t})})});Dm.displayName=Si;var[Uj,Bj]=xE(Si),EE=bt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=SE(n),d=Za(i),u={role:"group",dir:d,...l};return p.jsx(Uj,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(yE,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(ve.div,{...u,ref:t})}):p.jsx(ve.div,{...u,ref:t})})}),Wc="ToggleGroupItem",PE=bt.forwardRef((e,t)=>{const n=CE(Wc,e.__scopeToggleGroup),r=Bj(Wc,e.__scopeToggleGroup),o=SE(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=bt.useRef(null);return r.rovingFocus?p.jsx(vE,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(Jv,{...a,ref:t})}):p.jsx(Jv,{...a,ref:t})});PE.displayName=Wc;var Jv=bt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=CE(Wc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Am,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),TE=Dm,kE=PE;const AE=Qa("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),zj=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(wE,{ref:o,className:ee(AE({variant:t,size:n,className:e})),...r}));zj.displayName=wE.displayName;const DE=f.createContext({size:"default",variant:"default"}),RE=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(TE,{ref:s,className:ee("flex items-center justify-center gap-1",e),...o,children:p.jsx(DE.Provider,{value:{variant:t,size:n},children:r})}));RE.displayName=TE.displayName;const Lh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(DE);return p.jsx(kE,{ref:s,className:ee(AE({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});Lh.displayName=kE.displayName;var qj=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(y){(Array.isArray(e)?e:[e]).forEach(g=>{let w=g==="class",b=w&&s?o.map(m=>s[m]||m):o;w?(l.classList.remove(...b),l.classList.add(s&&s[y]?s[y]:y)):l.setAttribute(g,y)}),u(y)}function u(y){a&&c.includes(y)&&(l.style.colorScheme=y)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let y=localStorage.getItem(t)||n,g=i&&y==="system"?h():y;d(g)}catch{}},ew=["light","dark"],ME="(prefers-color-scheme: dark)",Wj=typeof window>"u",Rm=f.createContext(void 0),Hj={setTheme:e=>{},themes:[]},Mm=()=>{var e;return(e=f.useContext(Rm))!=null?e:Hj},Gj=e=>f.useContext(Rm)?f.createElement(f.Fragment,null,e.children):f.createElement(Yj,{...e}),Kj=["light","dark"],Yj=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=Kj,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,y]=f.useState(()=>Xj(o,i)),[g,w]=f.useState(()=>h==="system"?ef():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=ef());let k=l?l[P]:P,A=t?Zj(d):null,D=document.documentElement,M=j=>{j==="class"?(D.classList.remove(...b),k&&D.classList.add(k)):j.startsWith("data-")&&(k?D.setAttribute(j,k):D.removeAttribute(j))};if(Array.isArray(a)?a.forEach(M):M(a),r){let j=ew.includes(i)?i:null,F=ew.includes(P)?P:j;D.style.colorScheme=F}A==null||A()},[d]),v=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;y(P);try{localStorage.setItem(o,P)}catch{}},[h]),x=f.useCallback(E=>{let P=ef(E);w(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(ME);return E.addListener(x),x(E),()=>E.removeListener(x)},[x]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?y(P.newValue):v(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[v]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:v,forcedTheme:e,resolvedTheme:h==="system"?g:h,themes:n?[...s,"system"]:s,systemTheme:n?g:void 0}),[h,v,e,g,n,s]);return f.createElement(Rm.Provider,{value:C},f.createElement(Qj,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},Qj=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${qj.toString()})(${d})`}})}),Xj=(e,t)=>{if(Wj)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Zj=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},ef=e=>(e||(e=window.matchMedia(ME)),e.matches?"dark":"light"),_m="Avatar",[Jj,X4]=un(_m),[e2,_E]=Jj(_m),IE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(e2,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(ve.span,{...r,ref:t})})});IE.displayName=_m;var NE="AvatarImage",LE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=_E(NE,n),a=t2(r,s),l=ut(c=>{o(c),i.onImageLoadingStatusChange(c)});return Ln(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(ve.img,{...s,ref:t,src:r}):null});LE.displayName=NE;var jE="AvatarFallback",FE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=_E(jE,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(ve.span,{...o,ref:t}):null});FE.displayName=jE;function tw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t2(e,{referrerPolicy:t,crossOrigin:n}){const r=r2(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>tw(s,e));return Ln(()=>{a(tw(s,e))},[s,e]),Ln(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function n2(){return()=>{}}function r2(){return f.useSyncExternalStore(n2,()=>!0,()=>!1)}var OE=IE,$E=LE,VE=FE;const UE=f.forwardRef(({className:e,...t},n)=>p.jsx(OE,{ref:n,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));UE.displayName=OE.displayName;const o2=f.forwardRef(({className:e,...t},n)=>p.jsx($E,{ref:n,className:ee("aspect-square h-full w-full",e),...t}));o2.displayName=$E.displayName;const BE=f.forwardRef(({className:e,...t},n)=>p.jsx(VE,{ref:n,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));BE.displayName=VE.displayName;var tf=0;function zE(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nw()),document.body.insertAdjacentElement("beforeend",e[1]??nw()),tf++,()=>{tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tf--}},[])}function nw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nf="focusScope.autoFocusOnMount",rf="focusScope.autoFocusOnUnmount",rw={bubbles:!1,cancelable:!0},s2="FocusScope",Im=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=ut(o),d=ut(s),u=f.useRef(null),h=Le(t,w=>l(w)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let w=function(x){if(y.paused||!a)return;const C=x.target;a.contains(C)?u.current=C:Hr(u.current,{select:!0})},b=function(x){if(y.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||Hr(u.current,{select:!0}))},m=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&Hr(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const v=new MutationObserver(m);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,y.paused]),f.useEffect(()=>{if(a){sw.add(y);const w=document.activeElement;if(!a.contains(w)){const m=new CustomEvent(nf,rw);a.addEventListener(nf,c),a.dispatchEvent(m),m.defaultPrevented||(i2(d2(qE(a)),{select:!0}),document.activeElement===w&&Hr(a))}return()=>{a.removeEventListener(nf,c),setTimeout(()=>{const m=new CustomEvent(rf,rw);a.addEventListener(rf,d),a.dispatchEvent(m),m.defaultPrevented||Hr(w??document.body,{select:!0}),a.removeEventListener(rf,d),sw.remove(y)},0)}}},[a,c,d,y]);const g=f.useCallback(w=>{if(!n&&!r||y.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,m=document.activeElement;if(b&&m){const v=w.currentTarget,[x,C]=a2(v);x&&C?!w.shiftKey&&m===C?(w.preventDefault(),n&&Hr(x,{select:!0})):w.shiftKey&&m===x&&(w.preventDefault(),n&&Hr(C,{select:!0})):m===v&&w.preventDefault()}},[n,r,y.paused]);return p.jsx(ve.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Im.displayName=s2;function i2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Hr(r,{select:t}),document.activeElement!==n)return}function a2(e){const t=qE(e),n=ow(t,e),r=ow(t.reverse(),e);return[n,r]}function qE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ow(e,t){for(const n of e)if(!l2(n,{upTo:t}))return n}function l2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function c2(e){return e instanceof HTMLInputElement&&"select"in e}function Hr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&c2(e)&&t&&e.select()}}var sw=u2();function u2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=iw(e,t),e.unshift(t)},remove(t){var n;e=iw(e,t),(n=e[0])==null||n.resume()}}}function iw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function d2(e){return e.filter(t=>t.tagName!=="A")}var f2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fs=new WeakMap,Ll=new WeakMap,jl={},of=0,WE=function(e){return e&&(e.host||WE(e.parentNode))},h2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},p2=function(e,t,n,r){var o=h2(t,Array.isArray(e)?e:[e]);jl[n]||(jl[n]=new WeakMap);var s=jl[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),g=y!==null&&y!=="false",w=(fs.get(h)||0)+1,b=(s.get(h)||0)+1;fs.set(h,w),s.set(h,b),i.push(h),w===1&&g&&Ll.set(h,!0),b===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),of++,function(){i.forEach(function(u){var h=fs.get(u)-1,y=s.get(u)-1;fs.set(u,h),s.set(u,y),h||(Ll.has(u)||u.removeAttribute(r),Ll.delete(u)),y||u.removeAttribute(n)}),of--,of||(fs=new WeakMap,fs=new WeakMap,Ll=new WeakMap,jl={})}},HE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=f2(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),p2(r,o,n,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cr.apply(this,arguments)};function GE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function m2(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var ic="right-scroll-bar-position",ac="width-before-scroll-bar",g2="with-scroll-bars-hidden",y2="--removed-body-scroll-bar-size";function sf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function v2(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var w2=typeof window<"u"?f.useLayoutEffect:f.useEffect,aw=new WeakMap;function x2(e,t){var n=v2(null,function(r){return e.forEach(function(o){return sf(o,r)})});return w2(function(){var r=aw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||sf(a,null)}),s.forEach(function(a){o.has(a)||sf(a,i)})}aw.set(n,e)},[e]),n}function S2(e){return e}function b2(e,t){t===void 0&&(t=S2);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function C2(e){e===void 0&&(e={});var t=b2(null);return t.options=cr({async:!0,ssr:!1},e),t}var KE=function(e){var t=e.sideCar,n=GE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,cr({},n))};KE.isSideCarExport=!0;function E2(e,t){return e.useMedium(t),KE}var YE=C2(),af=function(){},Bu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:af,onWheelCapture:af,onTouchMoveCapture:af}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,y=e.noIsolation,g=e.inert,w=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,v=e.gapMode,x=GE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=x2([n,t]),P=cr(cr({},x),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:YE,removeScrollBar:c,shards:u,noIsolation:y,inert:g,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:v}),i?f.cloneElement(f.Children.only(a),cr(cr({},P),{ref:E})):f.createElement(m,cr({},P,{className:l,ref:E}),a))});Bu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bu.classNames={fullWidth:ac,zeroRight:ic};var P2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=P2();return t&&e.setAttribute("nonce",t),e}function k2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var D2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=T2())&&(k2(t,n),A2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R2=function(){var e=D2();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QE=function(){var e=R2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},M2={left:0,top:0,right:0,gap:0},lf=function(e){return parseInt(e||"",10)||0},_2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[lf(n),lf(r),lf(o)]},I2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M2;var t=_2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N2=QE(),zs="data-scroll-locked",L2=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(g2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ic,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ac,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ac," .").concat(ac,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zs,`] {
    `).concat(y2,": ").concat(a,`px;
  }
`)},lw=function(){var e=parseInt(document.body.getAttribute(zs)||"0",10);return isFinite(e)?e:0},j2=function(){f.useEffect(function(){return document.body.setAttribute(zs,(lw()+1).toString()),function(){var e=lw()-1;e<=0?document.body.removeAttribute(zs):document.body.setAttribute(zs,e.toString())}},[])},F2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;j2();var s=f.useMemo(function(){return I2(o)},[o]);return f.createElement(N2,{styles:L2(s,!t,o,n?"":"!important")})},jh=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return jh=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{jh=!1}var hs=jh?{passive:!1}:!1,O2=function(e){return e.tagName==="TEXTAREA"},XE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!O2(e)&&n[t]==="visible")},$2=function(e){return XE(e,"overflowY")},V2=function(e){return XE(e,"overflowX")},cw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=ZE(e,r);if(o){var s=JE(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},U2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},B2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZE=function(e,t){return e==="v"?$2(t):V2(t)},JE=function(e,t){return e==="v"?U2(t):B2(t)},z2=function(e,t){return e==="h"&&t==="rtl"?-1:1},q2=function(e,t,n,r,o){var s=z2(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var y=JE(e,a),g=y[0],w=y[1],b=y[2],m=w-b-s*g;(g||m)&&ZE(e,a)&&(u+=m,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Ol=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uw=function(e){return[e.deltaX,e.deltaY]},dw=function(e){return e&&"current"in e?e.current:e},W2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},H2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G2=0,ps=[];function K2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(G2++)[0],s=f.useState(QE)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=m2([e.lockRef.current],(e.shards||[]).map(dw),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!i.current.allowPinchZoom;var m=Ol(w),v=n.current,x="deltaX"in w?w.deltaX:v[0]-m[0],C="deltaY"in w?w.deltaY:v[1]-m[1],E,P=w.target,k=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in w&&k==="h"&&P.type==="range")return!1;var A=cw(k,P);if(!A)return!0;if(A?E=k:(E=k==="v"?"h":"v",A=cw(k,P)),!A)return!1;if(!r.current&&"changedTouches"in w&&(x||C)&&(r.current=E),!E)return!0;var D=r.current||E;return q2(D,b,w,D==="h"?x:C,!0)},[]),l=f.useCallback(function(w){var b=w;if(!(!ps.length||ps[ps.length-1]!==s)){var m="deltaY"in b?uw(b):Ol(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&W2(E.delta,m)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(dw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=x.length>0?a(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(w,b,m,v){var x={name:w,delta:b,target:m,should:v,shadowParent:Y2(m)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(w){n.current=Ol(w),r.current=void 0},[]),u=f.useCallback(function(w){c(w.type,uw(w),w.target,a(w,e.lockRef.current))},[]),h=f.useCallback(function(w){c(w.type,Ol(w),w.target,a(w,e.lockRef.current))},[]);f.useEffect(function(){return ps.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,hs),document.addEventListener("touchmove",l,hs),document.addEventListener("touchstart",d,hs),function(){ps=ps.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,hs),document.removeEventListener("touchmove",l,hs),document.removeEventListener("touchstart",d,hs)}},[]);var y=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(s,{styles:H2(o)}):null,y?f.createElement(F2,{gapMode:e.gapMode}):null)}function Y2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q2=E2(YE,K2);var Nm=f.forwardRef(function(e,t){return f.createElement(Bu,cr({},e,{ref:t,sideCar:Q2}))});Nm.classNames=Bu.classNames;var Fh=["Enter"," "],X2=["ArrowDown","PageUp","Home"],e1=["ArrowUp","PageDown","End"],Z2=[...X2,...e1],J2={ltr:[...Fh,"ArrowRight"],rtl:[...Fh,"ArrowLeft"]},eF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ja="Menu",[Ra,tF,nF]=Tu(Ja),[ls,t1]=un(Ja,[nF,Lu,Uu]),zu=Lu(),n1=Uu(),[rF,cs]=ls(Ja),[oF,el]=ls(Ja),r1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=zu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=ut(s),h=Za(o);return f.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.jsx(_C,{...a,children:p.jsx(rF,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(oF,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};r1.displayName=Ja;var sF="MenuAnchor",Lm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=zu(n);return p.jsx(IC,{...o,...r,ref:t})});Lm.displayName=sF;var jm="MenuPortal",[iF,o1]=ls(jm,{forceMount:void 0}),s1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=cs(jm,t);return p.jsx(iF,{scope:t,forceMount:n,children:p.jsx(dn,{present:n||s.open,children:p.jsx(ku,{asChild:!0,container:o,children:r})})})};s1.displayName=jm;var _n="MenuContent",[aF,Fm]=ls(_n),i1=f.forwardRef((e,t)=>{const n=o1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=cs(_n,e.__scopeMenu),i=el(_n,e.__scopeMenu);return p.jsx(Ra.Provider,{scope:e.__scopeMenu,children:p.jsx(dn,{present:r||s.open,children:p.jsx(Ra.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(lF,{...o,ref:t}):p.jsx(cF,{...o,ref:t})})})})}),lF=f.forwardRef((e,t)=>{const n=cs(_n,e.__scopeMenu),r=f.useRef(null),o=Le(t,r);return f.useEffect(()=>{const s=r.current;if(s)return HE(s)},[]),p.jsx(Om,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cF=f.forwardRef((e,t)=>{const n=cs(_n,e.__scopeMenu);return p.jsx(Om,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),uF=li("MenuContent.ScrollLock"),Om=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:y,disableOutsideScroll:g,...w}=e,b=cs(_n,n),m=el(_n,n),v=zu(n),x=n1(n),C=tF(n),[E,P]=f.useState(null),k=f.useRef(null),A=Le(t,k,b.onContentChange),D=f.useRef(0),M=f.useRef(""),j=f.useRef(0),F=f.useRef(null),H=f.useRef("right"),O=f.useRef(0),z=g?Nm:f.Fragment,N=g?{as:uF,allowPinchZoom:!0}:void 0,L=_=>{var Pe,De;const $=M.current+_,G=C().filter(je=>!je.disabled),X=document.activeElement,J=(Pe=G.find(je=>je.ref.current===X))==null?void 0:Pe.textValue,ue=G.map(je=>je.textValue),fe=bF(ue,$,J),Ee=(De=G.find(je=>je.textValue===fe))==null?void 0:De.ref.current;(function je(Ze){M.current=Ze,window.clearTimeout(D.current),Ze!==""&&(D.current=window.setTimeout(()=>je(""),1e3))})($),Ee&&setTimeout(()=>Ee.focus())};f.useEffect(()=>()=>window.clearTimeout(D.current),[]),zE();const R=f.useCallback(_=>{var G,X;return H.current===((G=F.current)==null?void 0:G.side)&&EF(_,(X=F.current)==null?void 0:X.area)},[]);return p.jsx(aF,{scope:n,searchRef:M,onItemEnter:f.useCallback(_=>{R(_)&&_.preventDefault()},[R]),onItemLeave:f.useCallback(_=>{var $;R(_)||(($=k.current)==null||$.focus(),P(null))},[R]),onTriggerLeave:f.useCallback(_=>{R(_)&&_.preventDefault()},[R]),pointerGraceTimerRef:j,onPointerGraceIntentChange:f.useCallback(_=>{F.current=_},[]),children:p.jsx(z,{...N,children:p.jsx(Im,{asChild:!0,trapped:o,onMountAutoFocus:ne(s,_=>{var $;_.preventDefault(),($=k.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Ya,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:y,children:p.jsx(yE,{asChild:!0,...x,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:ne(l,_=>{m.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(NC,{role:"menu","aria-orientation":"vertical","data-state":b1(b.open),"data-radix-menu-content":"",dir:m.dir,...v,...w,ref:A,style:{outline:"none",...w.style},onKeyDown:ne(w.onKeyDown,_=>{const G=_.target.closest("[data-radix-menu-content]")===_.currentTarget,X=_.ctrlKey||_.altKey||_.metaKey,J=_.key.length===1;G&&(_.key==="Tab"&&_.preventDefault(),!X&&J&&L(_.key));const ue=k.current;if(_.target!==ue||!Z2.includes(_.key))return;_.preventDefault();const Ee=C().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);e1.includes(_.key)&&Ee.reverse(),xF(Ee)}),onBlur:ne(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(D.current),M.current="")}),onPointerMove:ne(e.onPointerMove,Ma(_=>{const $=_.target,G=O.current!==_.clientX;if(_.currentTarget.contains($)&&G){const X=_.clientX>O.current?"right":"left";H.current=X,O.current=_.clientX}}))})})})})})})});i1.displayName=_n;var dF="MenuGroup",$m=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(ve.div,{role:"group",...r,ref:t})});$m.displayName=dF;var fF="MenuLabel",a1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(ve.div,{...r,ref:t})});a1.displayName=fF;var Hc="MenuItem",fw="menu.itemSelect",qu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=el(Hc,e.__scopeMenu),a=Fm(Hc,e.__scopeMenu),l=Le(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(fw,{bubbles:!0,cancelable:!0});u.addEventListener(fw,y=>r==null?void 0:r(y),{once:!0}),am(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(l1,{...o,ref:l,disabled:n,onClick:ne(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:ne(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:ne(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||Fh.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});qu.displayName=Hc;var l1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Fm(Hc,n),a=n1(n),l=f.useRef(null),c=Le(t,l),[d,u]=f.useState(!1),[h,y]=f.useState("");return f.useEffect(()=>{const g=l.current;g&&y((g.textContent??"").trim())},[s.children]),p.jsx(Ra.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(vE,{asChild:!0,...a,focusable:!r,children:p.jsx(ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ne(e.onPointerMove,Ma(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,Ma(g=>i.onItemLeave(g))),onFocus:ne(e.onFocus,()=>u(!0)),onBlur:ne(e.onBlur,()=>u(!1))})})})}),hF="MenuCheckboxItem",c1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(p1,{scope:e.__scopeMenu,checked:n,children:p.jsx(qu,{role:"menuitemcheckbox","aria-checked":Gc(n)?"mixed":n,...o,ref:t,"data-state":Um(n),onSelect:ne(o.onSelect,()=>r==null?void 0:r(Gc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});c1.displayName=hF;var u1="MenuRadioGroup",[pF,mF]=ls(u1,{value:void 0,onValueChange:()=>{}}),d1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=ut(r);return p.jsx(pF,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx($m,{...o,ref:t})})});d1.displayName=u1;var f1="MenuRadioItem",h1=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=mF(f1,e.__scopeMenu),s=n===o.value;return p.jsx(p1,{scope:e.__scopeMenu,checked:s,children:p.jsx(qu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Um(s),onSelect:ne(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});h1.displayName=f1;var Vm="MenuItemIndicator",[p1,gF]=ls(Vm,{checked:!1}),m1=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=gF(Vm,n);return p.jsx(dn,{present:r||Gc(s.checked)||s.checked===!0,children:p.jsx(ve.span,{...o,ref:t,"data-state":Um(s.checked)})})});m1.displayName=Vm;var yF="MenuSeparator",g1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});g1.displayName=yF;var vF="MenuArrow",y1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=zu(n);return p.jsx(LC,{...o,...r,ref:t})});y1.displayName=vF;var wF="MenuSub",[Z4,v1]=ls(wF),Bi="MenuSubTrigger",w1=f.forwardRef((e,t)=>{const n=cs(Bi,e.__scopeMenu),r=el(Bi,e.__scopeMenu),o=v1(Bi,e.__scopeMenu),s=Fm(Bi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(Lm,{asChild:!0,...c,children:p.jsx(l1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":b1(n.open),...e,ref:Pu(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Ma(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ne(e.onPointerLeave,Ma(u=>{var y,g;d();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const w=(g=n.content)==null?void 0:g.dataset.side,b=w==="right",m=b?-5:5,v=h[b?"left":"right"],x=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:v,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:v,y:h.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,u=>{var y;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||J2[r.dir].includes(u.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),u.preventDefault())})})})});w1.displayName=Bi;var x1="MenuSubContent",S1=f.forwardRef((e,t)=>{const n=o1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=cs(_n,e.__scopeMenu),i=el(_n,e.__scopeMenu),a=v1(x1,e.__scopeMenu),l=f.useRef(null),c=Le(t,l);return p.jsx(Ra.Provider,{scope:e.__scopeMenu,children:p.jsx(dn,{present:r||s.open,children:p.jsx(Ra.Slot,{scope:e.__scopeMenu,children:p.jsx(Om,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ne(e.onKeyDown,d=>{var y;const u=d.currentTarget.contains(d.target),h=eF[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),d.preventDefault())})})})})})});S1.displayName=x1;function b1(e){return e?"open":"closed"}function Gc(e){return e==="indeterminate"}function Um(e){return Gc(e)?"indeterminate":e?"checked":"unchecked"}function xF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function SF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function bF(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=SF(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function CF(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function EF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return CF(n,t)}function Ma(e){return t=>t.pointerType==="mouse"?e(t):void 0}var PF=r1,TF=Lm,kF=s1,AF=i1,DF=$m,RF=a1,MF=qu,_F=c1,IF=d1,NF=h1,LF=m1,jF=g1,FF=y1,OF=w1,$F=S1,Bm="DropdownMenu",[VF,J4]=un(Bm,[t1]),tn=t1(),[UF,C1]=VF(Bm),E1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=tn(t),c=f.useRef(null),[d=!1,u]=yr({prop:o,defaultProp:s,onChange:i});return p.jsx(UF,{scope:t,triggerId:Ko(),triggerRef:c,contentId:Ko(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(PF,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};E1.displayName=Bm;var P1="DropdownMenuTrigger",T1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=C1(P1,n),i=tn(n);return p.jsx(TF,{asChild:!0,...i,children:p.jsx(ve.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Pu(t,s.triggerRef),onPointerDown:ne(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ne(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});T1.displayName=P1;var BF="DropdownMenuPortal",k1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=tn(t);return p.jsx(kF,{...r,...n})};k1.displayName=BF;var A1="DropdownMenuContent",D1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=C1(A1,n),s=tn(n),i=f.useRef(!1);return p.jsx(AF,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D1.displayName=A1;var zF="DropdownMenuGroup",qF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(DF,{...o,...r,ref:t})});qF.displayName=zF;var WF="DropdownMenuLabel",R1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(RF,{...o,...r,ref:t})});R1.displayName=WF;var HF="DropdownMenuItem",M1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(MF,{...o,...r,ref:t})});M1.displayName=HF;var GF="DropdownMenuCheckboxItem",_1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(_F,{...o,...r,ref:t})});_1.displayName=GF;var KF="DropdownMenuRadioGroup",YF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(IF,{...o,...r,ref:t})});YF.displayName=KF;var QF="DropdownMenuRadioItem",I1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(NF,{...o,...r,ref:t})});I1.displayName=QF;var XF="DropdownMenuItemIndicator",N1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(LF,{...o,...r,ref:t})});N1.displayName=XF;var ZF="DropdownMenuSeparator",L1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(jF,{...o,...r,ref:t})});L1.displayName=ZF;var JF="DropdownMenuArrow",eO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(FF,{...o,...r,ref:t})});eO.displayName=JF;var tO="DropdownMenuSubTrigger",j1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx(OF,{...o,...r,ref:t})});j1.displayName=tO;var nO="DropdownMenuSubContent",F1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=tn(n);return p.jsx($F,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F1.displayName=nO;var rO=E1,oO=T1,sO=k1,O1=D1,$1=R1,V1=M1,U1=_1,B1=I1,z1=N1,q1=L1,W1=j1,H1=F1;const zm=rO,qm=oO,iO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(W1,{ref:o,className:ee("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(Qb,{className:"ml-auto"})]}));iO.displayName=W1.displayName;const aO=f.forwardRef(({className:e,...t},n)=>p.jsx(H1,{ref:n,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));aO.displayName=H1.displayName;const Wu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(sO,{children:p.jsx(O1,{ref:r,sideOffset:t,className:ee("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Wu.displayName=O1.displayName;const rs=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(V1,{ref:r,className:ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));rs.displayName=V1.displayName;const lO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(U1,{ref:o,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(z1,{children:p.jsx(Yb,{className:"h-4 w-4"})})}),t]}));lO.displayName=U1.displayName;const cO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(B1,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(z1,{children:p.jsx($_,{className:"h-2 w-2 fill-current"})})}),t]}));cO.displayName=B1.displayName;const G1=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx($1,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));G1.displayName=$1.displayName;const Oh=f.forwardRef(({className:e,...t},n)=>p.jsx(q1,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Oh.displayName=q1.displayName;function K1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Wm="Switch",[uO,e3]=un(Wm),[dO,fO]=uO(Wm),Y1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,y]=f.useState(null),g=Le(t,x=>y(x)),w=f.useRef(!1),b=h?d||!!h.closest("form"):!0,[m=!1,v]=yr({prop:o,defaultProp:s,onChange:c});return p.jsxs(dO,{scope:n,checked:m,disabled:a,children:[p.jsx(ve.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":Z1(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:g,onClick:ne(e.onClick,x=>{v(C=>!C),b&&(w.current=x.isPropagationStopped(),w.current||x.stopPropagation())})}),b&&p.jsx(hO,{control:h,bubbles:!w.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Y1.displayName=Wm;var Q1="SwitchThumb",X1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=fO(Q1,n);return p.jsx(ve.span,{"data-state":Z1(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});X1.displayName=Q1;var hO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=K1(n),a=xm(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Z1(e){return e?"checked":"unchecked"}var J1=Y1,pO=X1;const eP=f.forwardRef(({className:e,...t},n)=>p.jsx(J1,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(pO,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));eP.displayName=J1.displayName;function mO(){const{userInfo:e,isLoadingAuth:t,logout:n}=Zn(),{theme:r,setTheme:o,resolvedTheme:s}=Mm(),i=s==="dark";if(t||!e)return p.jsx(Ke,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(zt,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(zm,{children:[p.jsx(qm,{asChild:!0,children:p.jsx(Ke,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(UE,{className:"h-8 w-8",children:p.jsx(BE,{children:jI(e.name.display_name)})})})}),p.jsxs(Wu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(G1,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(Oh,{}),p.jsx(rs,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(Y_,{className:"mr-2 h-4 w-4"}):p.jsx(J_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(eP,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(Oh,{}),p.jsxs(rs,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(H_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function gO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=Zn();Mm();const[,c]=bu(),{toast:d}=Ka(),u=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{S.log("[Header] setLocation instance type:",typeof c)},[c]);const y=w=>{S.log("[Header] New Entry Link clicked. Href:",w.currentTarget.href)},g=w=>{const b=w.target.files;if(b&&b.length>0){const m=Array.from(b),v=m.filter(C=>!C.type.startsWith("image/"));v.length>0&&d({title:"Invalid File Type",description:`Only image files are allowed. ${v.map(C=>C.name).join(", ")} ${v.length===1?"was":"were"} ignored.`,variant:"destructive"});const x=m.filter(C=>C.type.startsWith("image/"));x.length>0?(i(x),S.log(`[Header] Set ${x.length} selected files as pending.`)):S.log("[Header] No valid image files selected.")}else S.log("[Header] No files selected.");w.target&&(w.target.value="")};return p.jsxs("header",{className:ee("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(eI,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),h&&p.jsxs("div",{className:ee("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(Xb,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Ke,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(W_,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:u,onChange:g,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:ee("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(RE,{type:"single",size:"sm",value:o,onValueChange:w=>{w&&s(w)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(Lh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(U_,{className:"h-4 w-4"})}),p.jsx(Lh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(q_,{className:"h-4 w-4"})})]}),p.jsx(Tj,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(uM,{href:"/entry/new",onClick:y,children:p.jsx(Ke,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!a,title:a?"New Entry":"New entry disabled while offline",children:p.jsx(Q_,{className:"h-4 w-4"})})}),p.jsx(mO,{})]})]})]})]})}function yO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Hu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const $h=e=>Array.isArray(e);function tP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _a(e){return typeof e=="string"||Array.isArray(e)}function hw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Hm(e,t,n,r){if(typeof t=="function"){const[o,s]=hw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=hw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Gu(e,t,n){const r=e.getProps();return Hm(r,t,n!==void 0?n:r.custom,e)}const Gm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Km=["initial",...Gm],tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],us=new Set(tl),Ar=e=>e*1e3,Dr=e=>e/1e3,vO={type:"spring",stiffness:500,damping:25,restSpeed:10},wO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xO={type:"keyframes",duration:.8},SO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bO=(e,{keyframes:t})=>t.length>2?xO:us.has(e)?e.startsWith("scale")?wO(t[1]):vO:SO;function Ym(e,t){return e?e[t]||e.default||e:void 0}const CO={skipAnimations:!1,useManualTiming:!1},EO=e=>e!==null;function Ku(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(EO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Wt=e=>e;let Vh=Wt;function PO(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const y=u&&r?t:n;return d&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const $l=["read","resolveKeyframes","update","preRender","render","postRender"],TO=40;function nP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=$l.reduce((m,v)=>(m[v]=PO(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,y=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,TO),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(y))},g=()=>{n=!0,r=!0,o.isProcessing||e(y)};return{schedule:$l.reduce((m,v)=>{const x=i[v];return m[v]=(C,E=!1,P=!1)=>(n||g(),x.schedule(C,E,P)),m},{}),cancel:m=>{for(let v=0;v<$l.length;v++)i[$l[v]].cancel(m)},state:o,steps:i}}const{schedule:Xe,cancel:Eo,state:Nt,steps:cf}=nP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0),rP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kO=1e-7,AO=12;function DO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=rP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>kO&&++a<AO);return i}function nl(e,t,n,r){if(e===t&&n===r)return Wt;const o=s=>DO(s,0,1,e,n);return s=>s===0||s===1?s:rP(o(s),t,r)}const oP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sP=e=>t=>1-e(1-t),iP=nl(.33,1.53,.69,.99),Qm=sP(iP),aP=oP(Qm),lP=e=>(e*=2)<1?.5*Qm(e):.5*(2-Math.pow(2,-10*(e-1))),Xm=e=>1-Math.sin(Math.acos(e)),cP=sP(Xm),uP=oP(Xm),dP=e=>/^0[^.\s]+$/u.test(e);function RO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dP(e):!0}const fP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),hP=e=>t=>typeof t=="string"&&t.startsWith(e),pP=hP("--"),MO=hP("var(--"),Zm=e=>MO(e)?_O.test(e.split("/*")[0].trim()):!1,_O=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,IO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NO(e){const t=IO.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function mP(e,t,n=1){const[r,o]=NO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return fP(i)?parseFloat(i):i}return Zm(o)?mP(o,t,n+1):o}const Fr=(e,t,n)=>n>t?t:n<e?e:n,bi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ia={...bi,transform:e=>Fr(0,1,e)},Vl={...bi,default:1},rl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gr=rl("deg"),pr=rl("%"),pe=rl("px"),LO=rl("vh"),jO=rl("vw"),pw={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},FO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mw=e=>e===bi||e===pe,gw=(e,t)=>parseFloat(e.split(", ")[t]),yw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return gw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?gw(s[1],e):0}},OO=new Set(["x","y","z"]),$O=tl.filter(e=>!OO.has(e));function VO(e){const t=[];return $O.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const di={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:yw(4,13),y:yw(5,14)};di.translateX=di.x;di.translateY=di.y;const gP=e=>t=>t.test(e),UO={test:e=>e==="auto",parse:e=>e},yP=[bi,pe,pr,Gr,jO,LO,UO],vw=e=>yP.find(gP(e)),Qo=new Set;let Uh=!1,Bh=!1;function vP(){if(Bh){const e=Array.from(Qo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=VO(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bh=!1,Uh=!1,Qo.forEach(e=>e.complete()),Qo.clear()}function wP(){Qo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bh=!0)})}function BO(){wP(),vP()}class Jm{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qo.add(this),Uh||(Uh=!0,Xe.read(wP),Xe.resolveKeyframes(vP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const na=e=>Math.round(e*1e5)/1e5,eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zO(e){return e==null}const qO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tg=(e,t)=>n=>!!(typeof n=="string"&&qO.test(n)&&n.startsWith(e)||t&&!zO(n)&&Object.prototype.hasOwnProperty.call(n,t)),xP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(eg);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},WO=e=>Fr(0,255,e),uf={...bi,transform:e=>Math.round(WO(e))},Vo={test:tg("rgb","red"),parse:xP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uf.transform(e)+", "+uf.transform(t)+", "+uf.transform(n)+", "+na(Ia.transform(r))+")"};function HO(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const zh={test:tg("#"),parse:HO,transform:Vo.transform},As={test:tg("hsl","hue"),parse:xP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pr.transform(na(t))+", "+pr.transform(na(n))+", "+na(Ia.transform(r))+")"},Ut={test:e=>Vo.test(e)||zh.test(e)||As.test(e),parse:e=>Vo.test(e)?Vo.parse(e):As.test(e)?As.parse(e):zh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vo.transform(e):As.transform(e)},GO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(eg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(GO))===null||n===void 0?void 0:n.length)||0)>0}const SP="number",bP="color",YO="var",QO="var(",ww="${}",XO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Na(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(XO,l=>(Ut.test(l)?(r.color.push(s),o.push(bP),n.push(Ut.parse(l))):l.startsWith(QO)?(r.var.push(s),o.push(YO),n.push(l)):(r.number.push(s),o.push(SP),n.push(parseFloat(l))),++s,ww)).split(ww);return{values:n,split:a,indexes:r,types:o}}function CP(e){return Na(e).values}function EP(e){const{split:t,types:n}=Na(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===SP?s+=na(o[i]):a===bP?s+=Ut.transform(o[i]):s+=o[i]}return s}}const ZO=e=>typeof e=="number"?0:e;function JO(e){const t=CP(e);return EP(e)(t.map(ZO))}const Po={test:KO,parse:CP,createTransformer:EP,getAnimatableNone:JO},e$=new Set(["brightness","contrast","saturate","opacity"]);function t$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(eg)||[];if(!r)return e;const o=n.replace(r,"");let s=e$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const n$=/\b([a-z-]*)\(.*?\)/gu,qh={...Po,getAnimatableNone:e=>{const t=e.match(n$);return t?t.map(t$).join(" "):e}},r$={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},o$={rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:Vl,scaleX:Vl,scaleY:Vl,scaleZ:Vl,skew:Gr,skewX:Gr,skewY:Gr,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Ia,originX:pw,originY:pw,originZ:pe},xw={...bi,transform:Math.round},ng={...r$,...o$,zIndex:xw,size:pe,fillOpacity:Ia,strokeOpacity:Ia,numOctaves:xw},s$={...ng,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:qh,WebkitFilter:qh},rg=e=>s$[e];function PP(e,t){let n=rg(e);return n!==qh&&(n=Po),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const i$=new Set(["auto","none","0"]);function a$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!i$.has(s)&&Na(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=PP(n,o)}class TP extends Jm{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Zm(c))){const d=mP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!FO.has(r)||t.length!==2)return;const[o,s]=t,i=vw(o),a=vw(s);if(i!==a)if(mw(i)&&mw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)RO(t[o])&&r.push(o);r.length&&a$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=di[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function og(e){return typeof e=="function"}let lc;function l$(){lc=void 0}const mr={now:()=>(lc===void 0&&mr.set(Nt.isProcessing||CO.useManualTiming?Nt.timestamp:performance.now()),lc),set:e=>{lc=e,queueMicrotask(l$)}},Sw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Po.test(e)||e==="0")&&!e.startsWith("url("));function c$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function u$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=Sw(o,t),a=Sw(s,t);return!i||!a?!1:c$(e)||(n==="spring"||og(n))&&r}const d$=40;class kP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>d$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!u$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Ku(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const fi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},AP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(fi(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function DP(e,t){return t?e*(1e3/t):0}const f$=5;function RP(e,t,n){const r=Math.max(t-f$,0);return DP(n-e(r),t-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},df=.001;function h$({duration:e=gt.duration,bounce:t=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let o,s,i=1-t;i=Fr(gt.minDamping,gt.maxDamping,i),e=Fr(gt.minDuration,gt.maxDuration,Dr(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,y=Wh(c,i),g=Math.exp(-u);return df-h/y*g},s=c=>{const u=c*i*e,h=u*n+n,y=Math.pow(i,2)*Math.pow(c,2)*e,g=Math.exp(-u),w=Wh(Math.pow(c,2),i);return(-o(c)+df>0?-1:1)*((h-y)*g)/w}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-df+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=m$(o,s,a);if(e=Ar(e),isNaN(l))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const p$=12;function m$(e,t,n){let r=n;for(let o=1;o<p$;o++)r=r-e(r)/t(r);return r}function Wh(e,t){return e*Math.sqrt(1-t*t)}const Hh=2e4;function MP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hh;)t+=n,r=e.next(t);return t>=Hh?1/0:t}const g$=["duration","bounce"],y$=["stiffness","damping","mass"];function bw(e,t){return t.some(n=>e[n]!==void 0)}function v$(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!bw(e,y$)&&bw(e,g$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Fr(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:gt.mass,stiffness:o,damping:s}}else{const n=h$(e);t={...t,...n,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function _P(e=gt.visualDuration,t=gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:y}=v$({...n,velocity:-Dr(n.velocity||0)}),g=h||0,w=c/(2*Math.sqrt(l*d)),b=i-s,m=Dr(Math.sqrt(l/d)),v=Math.abs(b)<5;r||(r=v?gt.restSpeed.granular:gt.restSpeed.default),o||(o=v?gt.restDelta.granular:gt.restDelta.default);let x;if(w<1){const E=Wh(m,w);x=P=>{const k=Math.exp(-w*m*P);return i-k*((g+w*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(w===1)x=E=>i-Math.exp(-m*E)*(b+(g+m*b)*E);else{const E=m*Math.sqrt(w*w-1);x=P=>{const k=Math.exp(-w*m*P),A=Math.min(E*P,300);return i-k*((g+w*m*b)*Math.sinh(A)+E*b*Math.cosh(A))/E}}const C={calculatedDuration:y&&u||null,next:E=>{const P=x(E);if(y)a.done=E>=u;else{let k=0;w<1&&(k=E===0?Ar(g):RP(x,E,P));const A=Math.abs(k)<=r,D=Math.abs(i-P)<=o;a.done=A&&D}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(MP(C),Hh),P=AP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function Cw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},y=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let w=n*t;const b=u+w,m=i===void 0?b:i(b);m!==b&&(w=m-u);const v=A=>-w*Math.exp(-A/r),x=A=>m+v(A),C=A=>{const D=v(A),M=x(A);h.done=Math.abs(D)<=c,h.value=h.done?m:M};let E,P;const k=A=>{y(h.value)&&(E=A,P=_P({keyframes:[h.value,g(h.value)],velocity:RP(x,A,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let D=!1;return!P&&E===void 0&&(D=!0,C(A),k(A)),E!==void 0&&A>=E?P.next(A-E):(!D&&C(A),h)}}}const w$=nl(.42,0,1,1),x$=nl(0,0,.58,1),IP=nl(.42,0,.58,1),S$=e=>Array.isArray(e)&&typeof e[0]!="number",sg=e=>Array.isArray(e)&&typeof e[0]=="number",Ew={linear:Wt,easeIn:w$,easeInOut:IP,easeOut:x$,circIn:Xm,circInOut:uP,circOut:cP,backIn:Qm,backInOut:aP,backOut:iP,anticipate:lP},Pw=e=>{if(sg(e)){Vh(e.length===4);const[t,n,r,o]=e;return nl(t,n,r,o)}else if(typeof e=="string")return Vh(Ew[e]!==void 0),Ew[e];return e},b$=(e,t)=>n=>t(e(n)),yo=(...e)=>e.reduce(b$),dt=(e,t,n)=>e+(t-e)*n;function ff(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function C$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=ff(l,a,e+1/3),s=ff(l,a,e),i=ff(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Kc(e,t){return n=>n>0?t:e}const hf=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},E$=[zh,Vo,As],P$=e=>E$.find(t=>t.test(e));function Tw(e){const t=P$(e);if(!t)return!1;let n=t.parse(e);return t===As&&(n=C$(n)),n}const kw=(e,t)=>{const n=Tw(e),r=Tw(t);if(!n||!r)return Kc(e,t);const o={...n};return s=>(o.red=hf(n.red,r.red,s),o.green=hf(n.green,r.green,s),o.blue=hf(n.blue,r.blue,s),o.alpha=dt(n.alpha,r.alpha,s),Vo.transform(o))},Gh=new Set(["none","hidden"]);function T$(e,t){return Gh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function k$(e,t){return n=>dt(e,t,n)}function ig(e){return typeof e=="number"?k$:typeof e=="string"?Zm(e)?Kc:Ut.test(e)?kw:R$:Array.isArray(e)?NP:typeof e=="object"?Ut.test(e)?kw:A$:Kc}function NP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>ig(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function A$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=ig(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function D$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const R$=(e,t)=>{const n=Po.createTransformer(t),r=Na(e),o=Na(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Gh.has(e)&&!o.values.length||Gh.has(t)&&!r.values.length?T$(e,t):yo(NP(D$(r,o),o.values),n):Kc(e,t)};function LP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?dt(e,t,n):ig(e)(e,t)}function M$(e,t,n){const r=[],o=n||LP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Wt:t;a=yo(l,a)}r.push(a)}return r}function _$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Vh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=M$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=fi(e[d],e[d+1],c);return i[d](u)};return n?c=>l(Fr(e[0],e[s-1],c)):l}function I$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=fi(0,t,r);e.push(dt(n,1,o))}}function N$(e){const t=[0];return I$(t,e.length-1),t}function L$(e,t){return e.map(n=>n*t)}function j$(e,t){return e.map(()=>t||IP).splice(0,e.length-1)}function Yc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=S$(r)?r.map(Pw):Pw(r),s={done:!1,value:t[0]},i=L$(n&&n.length===t.length?n:N$(t),e),a=_$(i,t,{ease:Array.isArray(o)?o:j$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const F$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Xe.update(t,!0),stop:()=>Eo(t),now:()=>Nt.isProcessing?Nt.timestamp:mr.now()}},O$={decay:Cw,inertia:Cw,tween:Yc,keyframes:Yc,spring:_P},$$=e=>e/100;class ag extends kP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||Jm,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=og(n)?n:O$[n]||Yc;let l,c;a!==Yc&&typeof t[0]!="number"&&(l=yo($$,LP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=MP(d));const{calculatedDuration:u}=d,h=u+o,y=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:y,repeatType:g,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,C=s;if(y){const A=Math.min(this.currentTime,d)/u;let D=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(g==="reverse"?(M=1-M,w&&(M-=w/u)):g==="mirror"&&(C=i)),x=Fr(0,1,M)*u}const E=v?{done:!1,value:l[0]}:C.next(x);a&&(E.value=a(E.value));let{done:P}=E;!v&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Ku(l,this.options,o)),b&&b(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Dr(t.calculatedDuration):0}get time(){return Dr(this.currentTime)}set time(t){t=Ar(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Dr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=F$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const V$=new Set(["opacity","clipPath","filter","transform"]);function lg(e){let t;return()=>(t===void 0&&(t=e()),t)}const U$={linearEasing:void 0};function B$(e,t){const n=lg(e);return()=>{var r;return(r=U$[t])!==null&&r!==void 0?r:n()}}const Qc=B$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function jP(e){return!!(typeof e=="function"&&Qc()||!e||typeof e=="string"&&(e in Kh||Qc())||sg(e)||Array.isArray(e)&&e.every(jP))}const zi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Kh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zi([0,.65,.55,1]),circOut:zi([.55,0,1,.45]),backIn:zi([.31,.01,.66,-.59]),backOut:zi([.33,1.53,.69,.99])};function FP(e,t){if(e)return typeof e=="function"&&Qc()?AP(e,t):sg(e)?zi(e):Array.isArray(e)?e.map(n=>FP(n,t)||Kh.easeOut):Kh[e]}function z$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=FP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function Aw(e,t){e.timeline=t,e.onfinish=null}const q$=lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xc=10,W$=2e4;function H$(e){return og(e.type)||e.type==="spring"||!jP(e.ease)}function G$(e,t){const n=new ag({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<W$;)r=n.sample(s),o.push(r.value),s+=Xc;return{times:void 0,keyframes:o,duration:s-Xc,ease:"linear"}}const OP={anticipate:lP,backInOut:aP,circInOut:uP};function K$(e){return e in OP}class Dw extends kP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new TP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Qc()&&K$(i)&&(i=OP[i]),H$(this.options)){const{onComplete:h,onUpdate:y,motionValue:g,element:w,...b}=this.options,m=G$(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=z$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Aw(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Ku(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Dr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Dr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ar(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Wt;const{animation:r}=n;Aw(r,t)}return Wt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...y}=this.options,g=new ag({...y,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),w=Ar(this.time);c.setWithVelocity(g.sample(w-Xc).value,g.sample(w).value,Xc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return q$()&&r&&V$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const Y$=lg(()=>window.ScrollTimeline!==void 0);class Q${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>Y$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function X$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const cg=(e,t,n,r={},o,s)=>i=>{const a=Ym(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ar(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};X$(a)||(d={...d,...bO(e,d)}),d.duration&&(d.duration=Ar(d.duration)),d.repeatDelay&&(d.repeatDelay=Ar(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Ku(d.keyframes,a);if(h!==void 0)return Xe.update(()=>{d.onUpdate(h),d.onComplete()}),new Q$([])}return!s&&Dw.supports(d)?new Dw(d):new ag(d)},Z$=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),J$=e=>$h(e)?e[e.length-1]||0:e;function ug(e,t){e.indexOf(t)===-1&&e.push(t)}function dg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fg{constructor(){this.subscriptions=[]}add(t){return ug(this.subscriptions,t),()=>dg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rw=30,eV=e=>!isNaN(parseFloat(e));class tV{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=mr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new fg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rw);return DP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(e,t){return new tV(e,t)}function nV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,La(n))}function rV(e,t){const n=Gu(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=J$(s[i]);nV(e,i,a)}}const hg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oV="framerAppearId",$P="data-"+hg(oV);function VP(e){return e.props[$P]}const qt=e=>!!(e&&e.getVelocity);function sV(e){return!!(qt(e)&&e.add)}function Yh(e,t){const n=e.getValue("willChange");if(sV(n))return n.add(t)}function iV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),y=l[u];if(y===void 0||d&&iV(d,u))continue;const g={delay:n,...Ym(i||{},u)};let w=!1;if(window.MotionHandoffAnimation){const m=VP(e);if(m){const v=window.MotionHandoffAnimation(m,u,Xe);v!==null&&(g.startTime=v,w=!0)}}Yh(e,u),h.start(cg(u,h,y,e.shouldReduceMotion&&us.has(u)?{type:!1}:g,e,w));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Xe.update(()=>{a&&rV(e,a)})}),c}function Qh(e,t,n={}){var r;const o=Gu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(UP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return aV(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function aV(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(lV).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Qh(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function lV(e,t){return e.sortNodePosition(t)}function cV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Qh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Qh(e,t,n);else{const o=typeof t=="function"?Gu(e,t,n.custom):t;r=Promise.all(UP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const uV=Km.length;function BP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uV;n++){const r=Km[n],o=e.props[r];(_a(o)||o===!1)&&(t[r]=o)}return t}const dV=[...Gm].reverse(),fV=Gm.length;function hV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>cV(e,n,r)))}function pV(e){let t=hV(e),n=Mw(),r=!0;const o=l=>(c,d)=>{var u;const h=Gu(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:y,transitionEnd:g,...w}=h;c={...c,...w,...g}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=BP(e.parent)||{},u=[],h=new Set;let y={},g=1/0;for(let b=0;b<fV;b++){const m=dV[b],v=n[m],x=c[m]!==void 0?c[m]:d[m],C=_a(x),E=m===l?v.isActive:null;E===!1&&(g=b);let P=x===d[m]&&x!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...y},!v.isActive&&E===null||!x&&!v.prevProp||Hu(x)||typeof x=="boolean")continue;const k=mV(v.prevProp,x);let A=k||m===l&&v.isActive&&!P&&C||b>g&&C,D=!1;const M=Array.isArray(x)?x:[x];let j=M.reduce(o(m),{});E===!1&&(j={});const{prevResolvedValues:F={}}=v,H={...F,...j},O=L=>{A=!0,h.has(L)&&(D=!0,h.delete(L)),v.needsAnimating[L]=!0;const R=e.getValue(L);R&&(R.liveStyle=!1)};for(const L in H){const R=j[L],_=F[L];if(y.hasOwnProperty(L))continue;let $=!1;$h(R)&&$h(_)?$=!tP(R,_):$=R!==_,$?R!=null?O(L):h.add(L):R!==void 0&&h.has(L)?O(L):v.protectedKeys[L]=!0}v.prevProp=x,v.prevResolvedValues=j,v.isActive&&(y={...y,...j}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(P&&k)||D)&&u.push(...M.map(L=>({animation:L,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const v=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),b[m]=v??null}),u.push({animation:b})}let w=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var y;return(y=h.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Mw(),r=!0}}}function mV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tP(t,e):!1}function _o(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mw(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class Do{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gV extends Do{constructor(t){super(t),t.animationState||(t.animationState=pV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let yV=0;class vV extends Do{constructor(){super(...arguments),this.id=yV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wV={animation:{Feature:gV},exit:{Feature:vV}};function xV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const $n={x:!1,y:!1};function zP(){return $n.x||$n.y}function _w(e){return t=>{t.pointerType==="touch"||zP()||e(t)}}function SV(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=_w(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=_w(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return xV(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function bV(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const qP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ol(e){return{point:{x:e.pageX,y:e.pageY}}}const CV=e=>t=>qP(t)&&e(t,ol(t));function Tr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function vo(e,t,n,r){return Tr(e,t,CV(n),r)}const Iw=(e,t)=>Math.abs(e-t);function EV(e,t){const n=Iw(e.x,t.x),r=Iw(e.y,t.y);return Math.sqrt(n**2+r**2)}class WP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=mf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=EV(u.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:g}=u,{timestamp:w}=Nt;this.history.push({...g,timestamp:w});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=pf(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=mf(u.type==="pointercancel"?this.lastMoveEventInfo:pf(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(u,b),g&&g(u,b)},!qP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=ol(t),a=pf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Nt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,mf(a,this.history)),this.removeListeners=yo(vo(this.contextWindow,"pointermove",this.handlePointerMove),vo(this.contextWindow,"pointerup",this.handlePointerUp),vo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}}function pf(e,t){return t?{point:t(e.point)}:e}function Nw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mf({point:e},t){return{point:e,delta:Nw(e,HP(t)),offset:Nw(e,PV(t)),velocity:TV(t,.1)}}function PV(e){return e[0]}function HP(e){return e[e.length-1]}function TV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=HP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Ar(t)));)n--;if(!r)return{x:0,y:0};const s=Dr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ds(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const GP=1e-4,kV=1-GP,AV=1+GP,KP=.01,DV=0-KP,RV=0+KP;function wn(e){return e.max-e.min}function MV(e,t,n){return Math.abs(e-t)<=n}function Lw(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=wn(n)/wn(t),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=kV&&e.scale<=AV||isNaN(e.scale))&&(e.scale=1),(e.translate>=DV&&e.translate<=RV||isNaN(e.translate))&&(e.translate=0)}function ra(e,t,n,r){Lw(e.x,t.x,n.x,r?r.originX:void 0),Lw(e.y,t.y,n.y,r?r.originY:void 0)}function jw(e,t,n){e.min=n.min+t.min,e.max=e.min+wn(t)}function _V(e,t,n){jw(e.x,t.x,n.x),jw(e.y,t.y,n.y)}function Fw(e,t,n){e.min=t.min-n.min,e.max=e.min+wn(t)}function oa(e,t,n){Fw(e.x,t.x,n.x),Fw(e.y,t.y,n.y)}function IV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function Ow(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function NV(e,{top:t,left:n,bottom:r,right:o}){return{x:Ow(e.x,n,o),y:Ow(e.y,t,r)}}function $w(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function LV(e,t){return{x:$w(e.x,t.x),y:$w(e.y,t.y)}}function jV(e,t){let n=.5;const r=wn(e),o=wn(t);return o>r?n=fi(t.min,t.max-r,e.min):r>o&&(n=fi(e.min,e.max-o,t.min)),Fr(0,1,n)}function FV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xh=.35;function OV(e=Xh){return e===!1?e=0:e===!0&&(e=Xh),{x:Vw(e,"left","right"),y:Vw(e,"top","bottom")}}function Vw(e,t,n){return{min:Uw(e,t),max:Uw(e,n)}}function Uw(e,t){return typeof e=="number"?e:e[t]||0}const Bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rs=()=>({x:Bw(),y:Bw()}),zw=()=>({min:0,max:0}),wt=()=>({x:zw(),y:zw()});function Tn(e){return[e("x"),e("y")]}function YP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function $V({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gf(e){return e===void 0||e===1}function Zh({scale:e,scaleX:t,scaleY:n}){return!gf(e)||!gf(t)||!gf(n)}function Lo(e){return Zh(e)||QP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function QP(e){return qw(e.x)||qw(e.y)}function qw(e){return e&&e!=="0%"}function Zc(e,t,n){const r=e-n,o=t*r;return n+o}function Ww(e,t,n,r,o){return o!==void 0&&(e=Zc(e,o,r)),Zc(e,n,r)+t}function Jh(e,t=0,n=1,r,o){e.min=Ww(e.min,t,n,r,o),e.max=Ww(e.max,t,n,r,o)}function XP(e,{x:t,y:n}){Jh(e.x,t.translate,t.scale,t.originPoint),Jh(e.y,n.translate,n.scale,n.originPoint)}const Hw=.999999999999,Gw=1.0000000000001;function UV(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_s(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,XP(e,i)),r&&Lo(s.latestValues)&&_s(e,s.latestValues))}t.x<Gw&&t.x>Hw&&(t.x=1),t.y<Gw&&t.y>Hw&&(t.y=1)}function Ms(e,t){e.min=e.min+t,e.max=e.max+t}function Kw(e,t,n,r,o=.5){const s=dt(e.min,e.max,o);Jh(e,t,n,s,r)}function _s(e,t){Kw(e.x,t.x,t.scaleX,t.scale,t.originX),Kw(e.y,t.y,t.scaleY,t.scale,t.originY)}function ZP(e,t){return YP(VV(e.getBoundingClientRect(),t))}function BV(e,t,n){const r=ZP(e,n),{scroll:o}=t;return o&&(Ms(r.x,o.offset.x),Ms(r.y,o.offset.y)),r}const JP=({current:e})=>e?e.ownerDocument.defaultView:null,zV=new WeakMap;class qV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ol(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:y,onDragStart:g}=this.getProps();if(h&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bV(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(pr.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[b];x&&(m=wn(x)*(parseFloat(m)/100))}}this.originPoint[b]=m}),g&&Xe.postRender(()=>g(d,u)),Yh(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:g,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=u;if(y&&this.currentDirection===null){this.currentDirection=WV(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),w&&w(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Tn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new WP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:JP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Xe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Ul(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=IV(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ds(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=NV(o.layoutBox,n):this.constraints=!1,this.elastic=OV(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Tn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=FV(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ds(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=BV(r,o.root,this.visualElement.getTransformPagePoint());let i=LV(o.layout.layoutBox,s);if(n){const a=n($V(i));this.hasMutatedConstraints=!!a,a&&(i=YP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Tn(d=>{if(!Ul(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,y=o?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Yh(this.visualElement,t),r.start(cg(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tn(n=>{const{drag:r}=this.getProps();if(!Ul(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-dt(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ds(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Tn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=jV({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(i=>{if(!Ul(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(dt(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;zV.set(this.visualElement,this);const t=this.visualElement.current,n=vo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ds(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(r);const i=Tr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Xh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Ul(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class HV extends Do{constructor(t){super(t),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new qV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yw=e=>(t,n)=>{e&&Xe.postRender(()=>e(t,n))};class GV extends Do{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(t){this.session=new WP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Yw(t),onStart:Yw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Xe.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yu=f.createContext(null);function KV(){const e=f.useContext(Yu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const pg=f.createContext({}),eT=f.createContext({}),cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pe.test(e))e=parseFloat(e);else return e;const n=Qw(e,t.target.x),r=Qw(e,t.target.y);return`${n}% ${r}%`}},YV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Po.parse(e);if(o.length>5)return r;const s=Po.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=dt(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},Jc={};function QV(e){Object.assign(Jc,e)}const{schedule:mg,cancel:t3}=nP(queueMicrotask,!1);class XV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;QV(ZV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Xe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tT(e){const[t,n]=KV(),r=f.useContext(pg);return p.jsx(XV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(eT),isPresent:t,safeToRemove:n})}const ZV={borderRadius:{...Fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fi,borderTopRightRadius:Fi,borderBottomLeftRadius:Fi,borderBottomRightRadius:Fi,boxShadow:YV},nT=["TopLeft","TopRight","BottomLeft","BottomRight"],JV=nT.length,Xw=e=>typeof e=="string"?parseFloat(e):e,Zw=e=>typeof e=="number"||pe.test(e);function eU(e,t,n,r,o,s){o?(e.opacity=dt(0,n.opacity!==void 0?n.opacity:1,tU(r)),e.opacityExit=dt(t.opacity!==void 0?t.opacity:1,0,nU(r))):s&&(e.opacity=dt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<JV;i++){const a=`border${nT[i]}Radius`;let l=Jw(t,a),c=Jw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Zw(l)===Zw(c)?(e[a]=Math.max(dt(Xw(l),Xw(c),r),0),(pr.test(c)||pr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function Jw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tU=rT(0,.5,cP),nU=rT(.5,.95,Wt);function rT(e,t,n){return r=>r<e?0:r>t?1:n(fi(e,t,r))}function e0(e,t){e.min=t.min,e.max=t.max}function Pn(e,t){e0(e.x,t.x),e0(e.y,t.y)}function t0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function n0(e,t,n,r,o){return e-=t,e=Zc(e,1/n,r),o!==void 0&&(e=Zc(e,1/o,r)),e}function rU(e,t=0,n=1,r=.5,o,s=e,i=e){if(pr.test(t)&&(t=parseFloat(t),t=dt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=dt(s.min,s.max,r);e===s&&(a-=t),e.min=n0(e.min,t,n,a,o),e.max=n0(e.max,t,n,a,o)}function r0(e,t,[n,r,o],s,i){rU(e,t[n],t[r],t[o],t.scale,s,i)}const oU=["x","scaleX","originX"],sU=["y","scaleY","originY"];function o0(e,t,n,r){r0(e.x,t,oU,n?n.x:void 0,r?r.x:void 0),r0(e.y,t,sU,n?n.y:void 0,r?r.y:void 0)}function s0(e){return e.translate===0&&e.scale===1}function oT(e){return s0(e.x)&&s0(e.y)}function i0(e,t){return e.min===t.min&&e.max===t.max}function iU(e,t){return i0(e.x,t.x)&&i0(e.y,t.y)}function a0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sT(e,t){return a0(e.x,t.x)&&a0(e.y,t.y)}function l0(e){return wn(e.x)/wn(e.y)}function c0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aU{constructor(){this.members=[]}add(t){ug(this.members,t),t.scheduleRender()}remove(t){if(dg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lU(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:y,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const cU=(e,t)=>e.depth-t.depth;class uU{constructor(){this.children=[],this.isDirty=!1}add(t){ug(this.children,t),this.isDirty=!0}remove(t){dg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cU),this.isDirty=!1,this.children.forEach(t)}}function uc(e){const t=qt(e)?e.get():e;return Z$(t)?t.toValue():t}function dU(e,t){const n=mr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(Eo(r),e(s-t))};return Xe.read(r,!0),()=>Eo(r)}function fU(e){return e instanceof SVGElement&&e.tagName!=="svg"}function hU(e,t,n){const r=qt(e)?e:La(e);return r.start(cg("",r,t,n)),r.animation}const jo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qi=typeof window<"u"&&window.MotionDebug!==void 0,yf=["","X","Y","Z"],pU={visibility:"hidden"},u0=1e3;let mU=0;function vf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function iT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&iT(r)}function aT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=mU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qi&&(jo.totalNodes=jo.resolvedTargetDeltas=jo.recalculatedProjection=0),this.nodes.forEach(vU),this.nodes.forEach(CU),this.nodes.forEach(EU),this.nodes.forEach(wU),qi&&window.MotionDebug.record(jo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uU)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new fg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fU(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=dU(h,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(f0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||DU,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),v=!this.targetLayout||!sT(this.targetLayout,g)||y,x=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,x);const C={...Ym(w,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||f0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PU),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}this.isUpdating||this.nodes.forEach(SU),this.isUpdating=!1,this.nodes.forEach(bU),this.nodes.forEach(gU),this.nodes.forEach(yU),this.clearAllSnapshots();const a=mr.now();Nt.delta=Fr(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,cf.update.process(Nt),cf.preRender.process(Nt),cf.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xU),this.sharedNodes.forEach(TU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!oT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||Lo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),RU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return wt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(MU))){const{scroll:d}=this.root;d&&(Ms(l.x,d.offset.x),Ms(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=wt();if(Pn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Pn(l,i),Ms(l.x,u.offset.x),Ms(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=wt();Pn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_s(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Lo(d.latestValues)&&_s(l,d.latestValues)}return Lo(this.latestValues)&&_s(l,this.latestValues),l}removeTransform(i){const a=wt();Pn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Lo(c.latestValues))continue;Zh(c.latestValues)&&c.updateSnapshot();const d=wt(),u=c.measurePageBox();Pn(d,u),o0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Lo(this.latestValues)&&o0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),oa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),XP(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),oa(this.relativeTargetOrigin,this.target,y.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qi&&jo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zh(this.parent.latestValues)||QP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Pn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;UV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=wt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t0(this.prevProjectionDelta.x,this.projectionDelta.x),t0(this.prevProjectionDelta.y,this.projectionDelta.y)),ra(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!c0(this.projectionDelta.x,this.prevProjectionDelta.x)||!c0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),qi&&jo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rs(),this.projectionDelta=Rs(),this.projectionDeltaWithTransform=Rs()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=Rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=wt(),y=l?l.source:void 0,g=this.layout?this.layout.source:void 0,w=y!==g,b=this.getStack(),m=!b||b.members.length<=1,v=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(AU));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const E=C/1e3;h0(u.x,i.x,E),h0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oa(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kU(this.relativeTarget,this.relativeTargetOrigin,h,E),x&&iU(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=wt()),Pn(x,this.relativeTarget)),w&&(this.animationValues=d,eU(d,c,this.latestValues,E,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{cc.hasAnimatedSinceResize=!0,this.currentAnimation=hU(0,u0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&lT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||wt();const u=wn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=wn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Pn(a,l),_s(a,d),ra(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new aU),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&vf("z",i,c,this.animationValues);for(let d=0;d<yf.length;d++)vf(`rotate${yf[d]}`,i,c,this.animationValues),vf(`skew${yf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pU;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=uc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=uc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=lU(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:y,y:g}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${g.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Jc){if(h[w]===void 0)continue;const{correct:b,applyTo:m}=Jc[w],v=c.transform==="none"?h[w]:b(h[w],u);if(m){const x=m.length;for(let C=0;C<x;C++)c[m[C]]=v}else c[w]=v}return this.options.layoutId&&(c.pointerEvents=u===this?uc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function gU(e){e.updateLayout()}function yU(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?Tn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],y=wn(h);h.min=r[u].min,h.max=h.min+y}):lT(s,n.layoutBox,r)&&Tn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],y=wn(r[u]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+y)});const a=Rs();ra(a,r,n.layoutBox);const l=Rs();i?ra(l,e.applyTransform(o,!0),n.measuredBox):ra(l,r,n.layoutBox);const c=!oT(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:y}=u;if(h&&y){const g=wt();oa(g,n.layoutBox,h.layoutBox);const w=wt();oa(w,r,y.layoutBox),sT(g,w)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=g,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function vU(e){qi&&jo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xU(e){e.clearSnapshot()}function d0(e){e.clearMeasurements()}function SU(e){e.isLayoutDirty=!1}function bU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function f0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CU(e){e.resolveTargetDelta()}function EU(e){e.calcProjection()}function PU(e){e.resetSkewAndRotation()}function TU(e){e.removeLeadSnapshot()}function h0(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function p0(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function kU(e,t,n,r){p0(e.x,t.x,n.x,r),p0(e.y,t.y,n.y,r)}function AU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DU={duration:.45,ease:[.4,0,.1,1]},m0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),g0=m0("applewebkit/")&&!m0("chrome/")?Math.round:Wt;function y0(e){e.min=g0(e.min),e.max=g0(e.max)}function RU(e){y0(e.x),y0(e.y)}function lT(e,t,n){return e==="position"||e==="preserve-aspect"&&!MV(l0(t),l0(n),.2)}function MU(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const _U=aT({attachResizeListener:(e,t)=>Tr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wf={current:void 0},cT=aT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wf.current){const e=new _U({});e.mount(window),e.setOptions({layoutScroll:!0}),wf.current=e}return wf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IU={pan:{Feature:GV},drag:{Feature:HV,ProjectionNode:cT,MeasureLayout:tT}};function v0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&Xe.postRender(()=>o(t,ol(t)))}class NU extends Do{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=SV(t,r=>(v0(this.node,r,!0),o=>v0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class LU extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yo(Tr(this.node.current,"focus",()=>this.onFocus()),Tr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uT=(e,t)=>t?e===t?!0:uT(e,t.parentElement):!1;function xf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ol(n))}class jU extends Do{constructor(){super(...arguments),this.removeStartListeners=Wt,this.removeEndListeners=Wt,this.removeAccessibleListeners=Wt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=vo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!uT(this.node.current,a.target)?d:c;h&&Xe.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=vo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yo(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||xf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Xe.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Tr(this.node.current,"keyup",i),xf("down",(a,l)=>{this.startPress(a,l)})},n=Tr(this.node.current,"keydown",t),r=()=>{this.isPressing&&xf("cancel",(s,i)=>this.cancelPress(s,i))},o=Tr(this.node.current,"blur",r);this.removeAccessibleListeners=yo(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xe.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xe.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=vo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Tr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ep=new WeakMap,Sf=new WeakMap,FU=e=>{const t=ep.get(e.target);t&&t(e)},OU=e=>{e.forEach(FU)};function $U({root:e,...t}){const n=e||document;Sf.has(n)||Sf.set(n,{});const r=Sf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(OU,{root:e,...t})),r[o]}function VU(e,t,n){const r=$U(t);return ep.set(e,n),r.observe(e),()=>{ep.delete(e),r.unobserve(e)}}const UU={some:0,all:1};class BU extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UU[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return VU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zU(t,n))&&this.startObserver()}unmount(){}}function zU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qU={inView:{Feature:BU},tap:{Feature:jU},focus:{Feature:LU},hover:{Feature:NU}},WU={layout:{ProjectionNode:cT,MeasureLayout:tT}},gg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Qu=f.createContext({}),yg=typeof window<"u",dT=yg?f.useLayoutEffect:f.useEffect,fT=f.createContext({strict:!1});function HU(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Qu),l=f.useContext(fT),c=f.useContext(Yu),d=f.useContext(gg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,y=f.useContext(eT);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&GU(u.current,n,o,y);const g=f.useRef(!1);f.useInsertionEffect(()=>{h&&g.current&&h.update(n,c)});const w=n[$P],b=f.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,w)));return dT(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),mg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,w)}),b.current=!1))}),h}function GU(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:hT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Ds(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function hT(e){if(e)return e.options.allowProjection!==!1?e.projection:hT(e.parent)}function KU(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ds(n)&&(n.current=r))},[t])}function Xu(e){return Hu(e.animate)||Km.some(t=>_a(e[t]))}function pT(e){return!!(Xu(e)||e.variants)}function YU(e,t){if(Xu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||_a(n)?n:void 0,animate:_a(r)?r:void 0}}return e.inherit!==!1?t:{}}function QU(e){const{initial:t,animate:n}=YU(e,f.useContext(Qu));return f.useMemo(()=>({initial:t,animate:n}),[w0(t),w0(n)])}function w0(e){return Array.isArray(e)?e.join(" "):e}const x0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hi={};for(const e in x0)hi[e]={isEnabled:t=>x0[e].some(n=>!!t[n])};function XU(e){for(const t in e)hi[t]={...hi[t],...e[t]}}const ZU=Symbol.for("motionComponentSymbol");function JU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&XU(e);function s(a,l){let c;const d={...f.useContext(gg),...a,layoutId:eB(a)},{isStatic:u}=d,h=QU(a),y=r(a,u);if(!u&&yg){tB();const g=nB(d);c=g.MeasureLayout,h.visualElement=HU(o,y,d,t,g.ProjectionNode)}return p.jsxs(Qu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,KU(y,h.visualElement,l),y,u,h.visualElement)]})}const i=f.forwardRef(s);return i[ZU]=o,i}function eB({layoutId:e}){const t=f.useContext(pg).id;return t&&e!==void 0?t+"-"+e:e}function tB(e,t){f.useContext(fT).strict}function nB(e){const{drag:t,layout:n}=hi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vg(e){return typeof e!="string"||e.includes("-")?!1:!!(rB.indexOf(e)>-1||/[A-Z]/u.test(e))}function mT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const gT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yT(e,t,n,r){mT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(gT.has(o)?o:hg(o),t.attrs[o])}function vT(e,{layout:t,layoutId:n}){return us.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jc[e]||e==="opacity")}function wg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(qt(o[i])||t.style&&qt(t.style[i])||vT(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function wT(e,t,n){const r=wg(e,t,n);for(const o in e)if(qt(e[o])||qt(t[o])){const s=tl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function xg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function oB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:sB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const xT=e=>(t,n)=>{const r=f.useContext(Qu),o=f.useContext(Yu),s=()=>oB(e,t,r,o);return n?s():xg(s)};function sB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=uc(s[h]);let{initial:i,animate:a}=e;const l=Xu(e),c=pT(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Hu(u)){const h=Array.isArray(u)?u:[u];for(let y=0;y<h.length;y++){const g=Hm(e,h[y]);if(g){const{transitionEnd:w,transition:b,...m}=g;for(const v in m){let x=m[v];if(Array.isArray(x)){const C=d?x.length-1:0;x=x[C]}x!==null&&(o[v]=x)}for(const v in w)o[v]=w[v]}}}return o}const Sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ST=()=>({...Sg(),attrs:{}}),bT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,iB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aB=tl.length;function lB(e,t,n){let r="",o=!0;for(let s=0;s<aB;s++){const i=tl[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=bT(a,ng[i]);if(!l){o=!1;const d=iB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function bg(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(us.has(l)){i=!0;continue}else if(pP(l)){o[l]=c;continue}else{const d=bT(c,ng[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=lB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function S0(e,t,n){return typeof e=="string"?e:pe.transform(t+n*e)}function cB(e,t,n){const r=S0(t,e.x,e.width),o=S0(n,e.y,e.height);return`${r} ${o}`}const uB={offset:"stroke-dashoffset",array:"stroke-dasharray"},dB={offset:"strokeDashoffset",array:"strokeDasharray"};function fB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?uB:dB;e[s.offset]=pe.transform(-r);const i=pe.transform(t),a=pe.transform(n);e[s.array]=`${i} ${a}`}function Cg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(bg(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:y,dimensions:g}=e;h.transform&&(g&&(y.transform=h.transform),delete h.transform),g&&(o!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=cB(g,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&fB(h,i,a,l,!1)}const Eg=e=>typeof e=="string"&&e.toLowerCase()==="svg",hB={useVisualState:xT({scrapeMotionValuesFromProps:wT,createRenderState:ST,onMount:(e,t,{renderState:n,latestValues:r})=>{Xe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{Cg(n,r,Eg(t.tagName),e.transformTemplate),yT(t,n)})}})},pB={useVisualState:xT({scrapeMotionValuesFromProps:wg,createRenderState:Sg})};function CT(e,t,n){for(const r in t)!qt(t[r])&&!vT(r,n)&&(e[r]=t[r])}function mB({transformTemplate:e},t){return f.useMemo(()=>{const n=Sg();return bg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function gB(e,t){const n=e.style||{},r={};return CT(r,n,e),Object.assign(r,mB(e,t)),r}function yB(e,t){const n={},r=gB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const vB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vB.has(e)}let ET=e=>!eu(e);function wB(e){e&&(ET=t=>t.startsWith("on")?!eu(t):e(t))}try{wB(require("@emotion/is-prop-valid").default)}catch{}function xB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(ET(o)||n===!0&&eu(o)||!t&&!eu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function SB(e,t,n,r){const o=f.useMemo(()=>{const s=ST();return Cg(s,t,Eg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};CT(s,e.style,e),o.style={...s,...o.style}}return o}function bB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(vg(n)?SB:yB)(r,s,i,n),c=xB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>qt(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function CB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...vg(r)?hB:pB,preloadedFeatures:e,useRender:bB(o),createVisualElement:t,Component:r};return JU(i)}}const tp={current:null},PT={current:!1};function EB(){if(PT.current=!0,!!yg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tp.current=e.matches;e.addListener(t),t()}else tp.current=!1}function PB(e,t,n){for(const r in t){const o=t[r],s=n[r];if(qt(o))e.addValue(r,o);else if(qt(s))e.addValue(r,La(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,La(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const b0=new WeakMap,TB=[...yP,Ut,Po],kB=e=>TB.find(gP(e)),C0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=mr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Xu(n),this.isVariantNode=pT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const y=u[h];l[h]!==void 0&&qt(y)&&y.set(l[h],!1)}}mount(t){this.current=t,b0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PT.current||EB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){b0.delete(this.current),this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=us.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hi){const n=hi[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C0.length;r++){const o=C0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=PB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=La(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(fP(o)||dP(o))?o=parseFloat(o):!kB(o)&&Po.test(n)&&(o=PP(t,n)),this.setBaseTarget(t,qt(o)?o.get():o)),qt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Hm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new fg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class TT extends AB{constructor(){super(...arguments),this.KeyframeResolver=TP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DB(e){return window.getComputedStyle(e)}class RB extends TT{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(t,n){if(us.has(n)){const r=rg(n);return r&&r.default||0}else{const r=DB(t),o=(pP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ZP(t,n)}build(t,n,r){bg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return wg(t,n,r)}}class MB extends TT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(us.has(n)){const r=rg(n);return r&&r.default||0}return n=gT.has(n)?n:hg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return wT(t,n,r)}build(t,n,r){Cg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){yT(t,n,r,o)}mount(t){this.isSVGTag=Eg(t.tagName),super.mount(t)}}const _B=(e,t)=>vg(e)?new MB(t):new RB(t,{allowProjection:e!==f.Fragment}),IB=CB({...wV,...qU,...IU,...WU},_B),Zu=yO(IB);class NB extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(gg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(NB,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const jB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=xg(FB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(LB,{isPresent:n,children:e})),p.jsx(Yu.Provider,{value:d,children:e})};function FB(){return new Map}const Bl=e=>e.key||"";function E0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Pg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>E0(e),[e]),l=a.map(Bl),c=f.useRef(!0),d=f.useRef(a),u=xg(()=>new Map),[h,y]=f.useState(a),[g,w]=f.useState(a);dT(()=>{c.current=!1,d.current=a;for(let v=0;v<g.length;v++){const x=Bl(g[v]);l.includes(x)?u.delete(x):u.get(x)!==!0&&u.set(x,!1)}},[g,l.length,l.join("-")]);const b=[];if(a!==h){let v=[...a];for(let x=0;x<g.length;x++){const C=g[x],E=Bl(C);l.includes(E)||(v.splice(x,0,C),b.push(C))}i==="wait"&&b.length&&(v=b),w(E0(v)),y(a);return}const{forceRender:m}=f.useContext(pg);return p.jsx(p.Fragment,{children:g.map(v=>{const x=Bl(v),C=a===g||l.includes(x),E=()=>{if(u.has(x))u.set(x,!0);else return;let P=!0;u.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),w(d.current),o&&o())};return p.jsx(jB,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:v},x)})})};function OB({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(Zu.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function $B(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=Zn(),a=50,l=.3,c={enter:g=>({x:g>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:g=>({x:g<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(g,w)=>{const{offset:b,velocity:m}=w;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},u=f.useCallback(g=>{const b=new Date(Date.UTC(t,e-1,g)).toISOString().split("T")[0],m=n.filter(x=>x.date===b);return{hasPhotoEntries:m.some(x=>x.photos&&x.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const g=new Date(t,e-1,0).getDate(),w=new Date(t,e-1,1).getDay(),b=Array(w).fill(null).map((v,x)=>({type:"empty",index:x})),m=Array.from({length:g},(v,x)=>({type:"day",day:x+1}));return[...b,...m]},[e,t]),y=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(g=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:g},g))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(Pg,{initial:!1,custom:r,mode:"wait",children:p.jsx(Zu.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:y,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(g=>{const w=m=>m.type==="day",b=w(g)?`day-${g.day}`:`empty-${g.index}`;if(w(g)){const{hasPhotoEntries:m,entryCount:v}=u(g.day);return p.jsx(OB,{day:g.day,hasPhotoEntries:m,entryCount:v,onClick:()=>o(g.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function VB(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=Zn(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Ke,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(O_,{className:"h-4 w-4"})}),p.jsxs(Ke,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(F_,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Ke,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(Qb,{className:"h-4 w-4"})})]})}function Tg(e,[t,n]){return Math.min(n,Math.max(t,e))}function UB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var kg="ScrollArea",[kT,r3]=un(kg),[BB,jn]=kT(kg),AT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[y,g]=f.useState(null),[w,b]=f.useState(null),[m,v]=f.useState(0),[x,C]=f.useState(0),[E,P]=f.useState(!1),[k,A]=f.useState(!1),D=Le(t,j=>l(j)),M=Za(o);return p.jsx(BB,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:y,onScrollbarXChange:g,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:C,children:p.jsx(ve.div,{dir:M,...i,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});AT.displayName=kg;var DT="ScrollAreaViewport",RT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=jn(DT,n),a=f.useRef(null),l=Le(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RT.displayName=DT;var wr="ScrollAreaScrollbar",Ag=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(wr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(zB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(qB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(MT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Dg,{...r,ref:t}):null});Ag.displayName=wr;var zB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(wr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(dn,{present:n||s,children:p.jsx(MT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),qB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(wr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=ed(()=>l("SCROLL_END"),100),[a,l]=UB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const y=c[d];u!==y&&(l("SCROLL"),i()),u=y};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(dn,{present:n||a!=="hidden",children:p.jsx(Dg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ne(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ne(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),MT=f.forwardRef((e,t)=>{const n=jn(wr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=ed(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return pi(n.viewport,l),pi(n.content,l),p.jsx(dn,{present:r||s,children:p.jsx(Dg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Dg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=jn(wr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=jT(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,y){return QB(h,i.current,a,y)}return n==="horizontal"?p.jsx(WB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,y=P0(h,a,o.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(HB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,y=P0(h,a);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),WB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=jn(wr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Le(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(IT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ju(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),OT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:nu(i.paddingLeft),paddingEnd:nu(i.paddingRight)}})}})}),HB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=jn(wr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Le(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(IT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ju(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),OT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:nu(i.paddingTop),paddingEnd:nu(i.paddingBottom)}})}})}),[GB,_T]=kT(wr),IT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,y=jn(wr,n),[g,w]=f.useState(null),b=Le(t,D=>w(D)),m=f.useRef(null),v=f.useRef(""),x=y.viewport,C=r.content-r.viewport,E=ut(d),P=ut(l),k=ed(u,10);function A(D){if(m.current){const M=D.clientX-m.current.left,j=D.clientY-m.current.top;c({x:M,y:j})}}return f.useEffect(()=>{const D=M=>{const j=M.target;(g==null?void 0:g.contains(j))&&E(M,C)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[x,g,C,E]),f.useEffect(P,[r,P]),pi(g,k),pi(y.content,k),p.jsx(GB,{scope:n,scrollbar:g,hasThumb:o,onThumbChange:ut(s),onThumbPointerUp:ut(i),onThumbPositionChange:P,onThumbPointerDown:ut(a),children:p.jsx(ve.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:ne(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),m.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:ne(e.onPointerMove,A),onPointerUp:ne(e.onPointerUp,D=>{const M=D.target;M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),m.current=null})})})}),tu="ScrollAreaThumb",NT=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=_T(tu,e.__scopeScrollArea);return p.jsx(dn,{present:n||o.hasThumb,children:p.jsx(KB,{ref:t,...r})})}),KB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=jn(tu,n),i=_T(tu,n),{onThumbPositionChange:a}=i,l=Le(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=ed(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const y=XB(u,a);c.current=y,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(ve.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ne(e.onPointerDownCapture,u=>{const y=u.target.getBoundingClientRect(),g=u.clientX-y.left,w=u.clientY-y.top;i.onThumbPointerDown({x:g,y:w})}),onPointerUp:ne(e.onPointerUp,i.onThumbPointerUp)})});NT.displayName=tu;var Rg="ScrollAreaCorner",LT=f.forwardRef((e,t)=>{const n=jn(Rg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(YB,{...e,ref:t}):null});LT.displayName=Rg;var YB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=jn(Rg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return pi(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),pi(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(ve.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nu(e){return e?parseInt(e,10):0}function jT(e,t){const n=e/t;return isNaN(n)?0:n}function Ju(e){const t=jT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function QB(e,t,n,r="ltr"){const o=Ju(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return FT([l,c],u)(e)}function P0(e,t,n="ltr"){const r=Ju(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Tg(e,l);return FT([0,i],[0,a])(c)}function FT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function OT(e,t){return e>0&&e<t}var XB=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function ed(e,t){const n=ut(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function pi(e,t){const n=ut(t);Ln(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var $T=AT,ZB=RT,JB=LT;const VT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs($T,{ref:r,className:ee("relative overflow-hidden",e),...n,children:[p.jsx(ZB,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(UT,{}),p.jsx(JB,{})]}));VT.displayName=$T.displayName;const UT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Ag,{ref:r,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(NT,{className:"relative flex-1 rounded-full bg-border"})}));UT.displayName=Ag.displayName;const ez=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},BT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const y=c.current,g=d.current;if(g){const w=ez(g),b=w*t,v=g.scrollHeight>b+w*.5;l(v),i(y&&!r?y.scrollHeight>y.clientHeight+2||v:!1),y&&!r&&v?(y.style.maxHeight=`${b}px`,y.style.overflow="hidden"):y&&(y.style.maxHeight="",y.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const y=c.current;if(!y)return;const g=new ResizeObserver(()=>{u()});return g.observe(y),()=>g.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:ee("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:ee("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Ke,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function tz(e){return Object.prototype.toString.call(e)==="[object Object]"}function T0(e){return tz(e)||Array.isArray(e)}function nz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Mg(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!T0(a)||!T0(l)?a===l:Mg(a,l)})}function k0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function rz(e,t){if(e.length!==t.length)return!1;const n=k0(e),r=k0(t);return n.every((o,s)=>{const i=r[s];return Mg(o,i)})}function _g(e){return typeof e=="number"}function np(e){return typeof e=="string"}function td(e){return typeof e=="boolean"}function A0(e){return Object.prototype.toString.call(e)==="[object Object]"}function ft(e){return Math.abs(e)}function Ig(e){return Math.sign(e)}function sa(e,t){return ft(e-t)}function oz(e,t){if(e===0||t===0||ft(e)<=ft(t))return 0;const n=sa(ft(e),ft(t));return ft(n/e)}function sz(e){return Math.round(e*100)/100}function ja(e){return Fa(e).map(Number)}function Gn(e){return e[sl(e)]}function sl(e){return Math.max(0,e.length-1)}function Ng(e,t){return t===sl(e)}function D0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Fa(e){return Object.keys(e)}function zT(e,t){return[e,t].reduce((n,r)=>(Fa(r).forEach(o=>{const s=n[o],i=r[o],a=A0(s)&&A0(i);n[o]=a?zT(s,i):i}),n),{})}function rp(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function iz(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return np(e)?n[e](l):e(t,l,c)}return{measure:i}}function Oa(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function az(e,t,n,r){const o=Oa(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&g()})}function d(){y(),o.clear()}function u(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const v=a/s;r(v),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function y(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function g(){i=null,a=0}return{init:c,destroy:d,start:h,stop:y,update:n,render:r}}function lz(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(g){const{height:w,width:b}=g;return r?w:b}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(g){return g*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function os(e=0,t=0){const n=ft(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function qT(e,t,n){const{constrain:r}=os(0,e),o=e+1;let s=i(t);function i(h){return n?ft((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return qT(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function cz(e,t,n,r,o,s,i,a,l,c,d,u,h,y,g,w,b,m,v){const{cross:x,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Oa(),A=Oa(),D=os(50,225).constrain(y.measure(20)),M={mouse:300,touch:400},j={mouse:500,touch:600},F=g?43:25;let H=!1,O=0,z=0,N=!1,L=!1,R=!1,_=!1;function $(Z){if(!v)return;function ye(at){(td(v)||v(Z,at))&&Ee(at)}const Te=t;k.add(Te,"dragstart",at=>at.preventDefault(),P).add(Te,"touchmove",()=>{},P).add(Te,"touchend",()=>{}).add(Te,"touchstart",ye).add(Te,"mousedown",ye).add(Te,"touchcancel",De).add(Te,"contextmenu",De).add(Te,"click",je,!0)}function G(){k.clear(),A.clear()}function X(){const Z=_?n:t;A.add(Z,"touchmove",Pe,P).add(Z,"touchend",De).add(Z,"mousemove",Pe,P).add(Z,"mouseup",De)}function J(Z){const ye=Z.nodeName||"";return E.includes(ye)}function ue(){return(g?j:M)[_?"mouse":"touch"]}function fe(Z,ye){const Te=u.add(Ig(Z)*-1),at=d.byDistance(Z,!g).distance;return g||ft(Z)<D?at:b&&ye?at*.5:d.byIndex(Te.get(),0).distance}function Ee(Z){const ye=rp(Z,r);_=ye,R=g&&ye&&!Z.buttons&&H,H=sa(o.get(),i.get())>=2,!(ye&&Z.button!==0)&&(J(Z.target)||(N=!0,s.pointerDown(Z),c.useFriction(0).useDuration(0),o.set(i),X(),O=s.readPoint(Z),z=s.readPoint(Z,x),h.emit("pointerDown")))}function Pe(Z){if(!rp(Z,r)&&Z.touches.length>=2)return De(Z);const Te=s.readPoint(Z),at=s.readPoint(Z,x),vt=sa(Te,O),st=sa(at,z);if(!L&&!_&&(!Z.cancelable||(L=vt>st,!L)))return De(Z);const St=s.pointerMove(Z);vt>w&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(St)),Z.preventDefault()}function De(Z){const Te=d.byDistance(0,!1).index!==u.get(),at=s.pointerUp(Z)*ue(),vt=fe(C(at),Te),st=oz(at,vt),St=F-10*st,lt=m+st/50;L=!1,N=!1,A.clear(),c.useDuration(St).useFriction(lt),l.distance(vt,!g),_=!1,h.emit("pointerUp")}function je(Z){R&&(Z.stopPropagation(),Z.preventDefault(),R=!1)}function Ze(){return N}return{init:$,destroy:G,pointerDown:Ze}}function uz(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const g=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(rp(u,t)?u:u.touches[0])[g]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),y=s(u)-s(r)>170;return o=u,y&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),y=s(u)-s(r),g=s(u)-s(o)>170,w=h/y;return y&&!g&&ft(w)>.1?w:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function dz(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function fz(e){function t(r){return e*(r/100)}return{measure:t}}function hz(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(b){return o.measureSize(i.measure(b))}function y(b){if(!s)return;c=h(e),d=r.map(h);function m(v){for(const x of v){if(u)return;const C=x.target===e,E=r.indexOf(x.target),P=C?c:d[E],k=h(C?e:r[E]);if(ft(k-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(v=>{(td(s)||s(b,v))&&m(v)}),n.requestAnimationFrame(()=>{a.forEach(v=>l.observe(v))})}function g(){u=!0,l&&l.disconnect()}return{init:y,destroy:g}}function pz(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),k=!l;let A=0;return k?(i=0,n.set(r),e.set(r),A=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),A=d-u),a=Ig(A),u=d,E}function y(){const P=r.get()-t.get();return ft(P)<.001}function g(){return l}function w(){return a}function b(){return i}function m(){return x(o)}function v(){return C(s)}function x(P){return l=P,E}function C(P){return c=P,E}const E={direction:w,duration:g,velocity:b,seek:h,settled:y,useBaseFriction:v,useBaseDuration:m,useFriction:C,useDuration:x};return E}function mz(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=os(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(y){if(!c())return;const g=e.reachedMin(t.get())?"min":"max",w=ft(e[g]-t.get()),b=n.get()-t.get(),m=a.constrain(w/i);n.subtract(b*m),!y&&ft(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(y){l=!y}return{shouldConstrain:c,constrain:d,toggleActive:u}}function gz(e,t,n,r,o){const s=os(-t+e,0),i=u(),a=d(),l=h();function c(g,w){return sa(g,w)<=1}function d(){const g=i[0],w=Gn(i),b=i.lastIndexOf(g),m=i.indexOf(w)+1;return os(b,m)}function u(){return n.map((g,w)=>{const{min:b,max:m}=s,v=s.constrain(g),x=!w,C=Ng(n,w);return x?m:C||c(b,v)?b:c(m,v)?m:v}).map(g=>parseFloat(g.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:g,max:w}=a;return i.slice(g,w)}return{snapsContained:l,scrollContainLimit:a}}function yz(e,t,n){const r=t[0],o=n?r-e:Gn(t);return{limit:os(o,r)}}function vz(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=os(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const y=e*(h*-1);r.forEach(g=>g.add(y))}return{loop:d}}function wz(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function xz(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=y();function u(){return a(r).map(w=>Gn(w)[i]-w[0][s]).map(ft)}function h(){return r.map(w=>n[s]-w[s]).map(w=>-ft(w))}function y(){return a(c).map(w=>w[0]).map((w,b)=>w+l[b])}return{snaps:c,snapsAligned:d}}function Sz(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),y=!e||t==="keepSnaps";return n.length===1?[s]:y?h:h.slice(a,l).map((g,w,b)=>{const m=!w,v=Ng(b,w);if(m){const x=Gn(b[0])+1;return D0(x)}if(v){const x=sl(s)-Gn(b)[0]+1;return D0(x,Gn(b)[0])}return g})}return{slideRegistry:c}}function bz(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(g){return g.concat().sort((w,b)=>ft(w)-ft(b))[0]}function c(g){const w=e?i(g):a(g),b=t.map((v,x)=>({diff:d(v-w,0),index:x})).sort((v,x)=>ft(v.diff)-ft(x.diff)),{index:m}=b[0];return{index:m,distance:w}}function d(g,w){const b=[g,g+n,g-n];if(!e)return g;if(!w)return l(b);const m=b.filter(v=>Ig(v)===w);return m.length?l(m):Gn(b)-n}function u(g,w){const b=t[g]-o.get(),m=d(b,w);return{index:g,distance:m}}function h(g,w){const b=o.get()+g,{index:m,distance:v}=c(b),x=!e&&s(b);if(!w||x)return{index:m,distance:g};const C=t[m]-v,E=g+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function Cz(e,t,n,r,o,s,i){function a(u){const h=u.distance,y=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),y&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const y=o.byDistance(u,h);a(y)}function c(u,h){const y=t.clone().set(u),g=o.byIndex(y.get(),h);a(g)}return{distance:l,index:c}}function Ez(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(y){if(!a)return;function g(w){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const v=n.findIndex(x=>x.includes(w));_g(v)&&(o.useDuration(0),r.index(v,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((w,b)=>{s.add(w,"focus",m=>{(td(a)||a(y,m))&&g(b)},l)})}function u(y){y.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Wi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return _g(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function WT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const y=sz(e.direction(h));y!==o&&(r.transform=n(y),o=y)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function Pz(e,t,n,r,o,s,i,a,l){const d=ja(o),u=ja(o).reverse(),h=m().concat(v());function y(k,A){return k.reduce((D,M)=>D-o[M],A)}function g(k,A){return k.reduce((D,M)=>y(D,A)>0?D.concat([M]):D,[])}function w(k){return s.map((A,D)=>({start:A-r[D]+.5+k,end:A+t-.5+k}))}function b(k,A,D){const M=w(A);return k.map(j=>{const F=D?0:-n,H=D?n:0,O=D?"end":"start",z=M[j][O];return{index:j,loopPoint:z,slideLocation:Wi(-1),translate:WT(e,l[j]),target:()=>a.get()>z?F:H}})}function m(){const k=i[0],A=g(u,k);return b(A,n,!1)}function v(){const k=t-i[0]-1,A=g(d,k);return b(A,-n,!0)}function x(){return h.every(({index:k})=>{const A=d.filter(D=>D!==k);return y(A,t)<=.1})}function C(){h.forEach(k=>{const{target:A,translate:D,slideLocation:M}=k,j=A();j!==M.get()&&(D.to(j),M.set(j))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:x,clear:E,loop:C,loopPoints:h}}function Tz(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(td(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function kz(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(g=>{l||(g.forEach(w=>{const b=t.indexOf(w.target);o[b]=w}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(g=>a.observe(g))}function d(){a&&a.disconnect(),l=!0}function u(g){return Fa(o).reduce((w,b)=>{const m=parseInt(b),{isIntersecting:v}=o[m];return(g&&v||!g&&!v)&&w.push(m),w},[])}function h(g=!0){if(g&&s)return s;if(!g&&i)return i;const w=u(g);return g&&(s=w),g||(i=w),w}return{init:c,destroy:d,get:h}}function Az(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=g(),u=w(),h=n.map(i),y=b();function g(){if(!c)return 0;const v=n[0];return ft(t[a]-v[a])}function w(){if(!c)return 0;const v=s.getComputedStyle(Gn(r));return parseFloat(v.getPropertyValue(`margin-${l}`))}function b(){return n.map((v,x,C)=>{const E=!x,P=Ng(C,x);return E?h[x]+d:P?h[x]+u:C[x+1][a]-v[a]}).map(ft)}return{slideSizes:h,slideSizesWithGaps:y,startGap:d,endGap:u}}function Dz(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=_g(n);function y(m,v){return ja(m).filter(x=>x%v===0).map(x=>m.slice(x,x+v))}function g(m){return m.length?ja(m).reduce((v,x,C)=>{const E=Gn(v)||0,P=E===0,k=x===sl(m),A=o[c]-s[E][c],D=o[c]-s[x][d],M=!r&&P?u(i):0,j=!r&&k?u(a):0,F=ft(D-j-(A+M));return C&&F>t+l&&v.push(x),k&&v.push(m.length),v},[]).map((v,x,C)=>{const E=Math.max(C[x-1]||0);return m.slice(E,v)}):[]}function w(m){return h?y(m,n):g(m)}return{groupSlides:w}}function Rz(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:y,dragThreshold:g,inViewThreshold:w,slidesToScroll:b,skipSnaps:m,containScroll:v,watchResize:x,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,A=dz(),D=A.measure(t),M=n.map(A.measure),j=lz(l,c),F=j.measureSize(D),H=fz(F),O=iz(a,F),z=!u&&!!v,N=u||!!v,{slideSizes:L,slideSizesWithGaps:R,startGap:_,endGap:$}=Az(j,D,M,n,N,o),G=Dz(j,F,b,u,D,M,_,$,k),{snaps:X,snapsAligned:J}=xz(j,O,D,M,G),ue=-Gn(X)+Gn(R),{snapsContained:fe,scrollContainLimit:Ee}=gz(F,ue,J,v,k),Pe=z?fe:J,{limit:De}=yz(ue,Pe,u),je=qT(sl(Pe),d,u),Ze=je.clone(),ge=ja(n),Z=({dragHandler:Fe,scrollBody:Me,scrollBounds:I,options:{loop:q}})=>{q||I.constrain(Fe.pointerDown()),Me.seek()},ye=({scrollBody:Fe,translate:Me,location:I,offsetLocation:q,previousLocation:re,scrollLooper:ce,slideLooper:he,dragHandler:Ce,animation:xe,eventHandler:Ie,scrollBounds:Be,options:{loop:Ge}},Et)=>{const Mt=Fe.settled(),_t=!Be.shouldConstrain(),kt=Ge?Mt:Mt&&_t,Gt=kt&&!Ce.pointerDown();Gt&&xe.stop();const bn=I.get()*Et+re.get()*(1-Et);q.set(bn),Ge&&(ce.loop(Fe.direction()),he.loop()),Me.to(q.get()),Gt&&Ie.emit("settle"),kt||Ie.emit("scroll")},Te=az(r,o,()=>Z(Re),Fe=>ye(Re,Fe)),at=.68,vt=Pe[je.get()],st=Wi(vt),St=Wi(vt),lt=Wi(vt),me=Wi(vt),Ue=pz(st,lt,St,me,h,at),Rt=bz(u,Pe,ue,De,me),U=Cz(Te,je,Ze,Ue,Rt,me,i),K=wz(De),B=Oa(),we=kz(t,n,i,w),{slideRegistry:le}=Sz(z,v,Pe,Ee,G,ge),Qe=Ez(e,n,le,U,Ue,B,i,P),Re={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:D,slideRects:M,animation:Te,axis:j,dragHandler:cz(j,e,r,o,me,uz(j,o),st,Te,U,Ue,Rt,je,i,H,y,g,m,at,E),eventStore:B,percentOfView:H,index:je,indexPrevious:Ze,limit:De,location:st,offsetLocation:lt,previousLocation:St,options:s,resizeHandler:hz(t,i,o,n,j,x,A),scrollBody:Ue,scrollBounds:mz(De,lt,me,Ue,H),scrollLooper:vz(ue,De,lt,[st,lt,St,me]),scrollProgress:K,scrollSnapList:Pe.map(K.get),scrollSnaps:Pe,scrollTarget:Rt,scrollTo:U,slideLooper:Pz(j,F,ue,L,R,X,Pe,lt,n),slideFocus:Qe,slidesHandler:Tz(t,i,C),slidesInView:we,slideIndexes:ge,slideRegistry:le,slidesToScroll:G,target:me,translate:WT(j,t)};return Re}function Mz(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const _z={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Iz(e){function t(s,i){return zT(s,i||{})}function n(s){const i=s.breakpoints||{},a=Fa(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>Fa(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function Nz(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function ru(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=Iz(o),i=Nz(s),a=Oa(),l=Mz(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:y,emit:g}=l,w=j;let b=!1,m,v=c(_z,ru.globalOptions),x=c(v),C=[],E,P,k;function A(){const{container:ge,slides:Z}=x;P=(np(ge)?e.querySelector(ge):ge)||e.children[0];const Te=np(Z)?P.querySelectorAll(Z):Z;k=[].slice.call(Te||P.children)}function D(ge){const Z=Rz(e,P,k,r,o,ge,l);if(ge.loop&&!Z.slideLooper.canLoop()){const ye=Object.assign({},ge,{loop:!1});return D(ye)}return Z}function M(ge,Z){b||(v=c(v,ge),x=d(v),C=Z||C,A(),m=D(x),u([v,...C.map(({options:ye})=>ye)]).forEach(ye=>a.add(ye,"change",j)),x.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ze),m.eventHandler.init(Ze),m.resizeHandler.init(Ze),m.slidesHandler.init(Ze),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(Ze),E=i.init(Ze,C)))}function j(ge,Z){const ye=G();F(),M(c({startIndex:ye},ge),Z),l.emit("reInit")}function F(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function H(){b||(b=!0,a.clear(),F(),l.emit("destroy"),l.clear())}function O(ge,Z,ye){!x.active||b||(m.scrollBody.useBaseFriction().useDuration(Z===!0?0:x.duration),m.scrollTo.index(ge,ye||0))}function z(ge){const Z=m.index.add(1).get();O(Z,ge,-1)}function N(ge){const Z=m.index.add(-1).get();O(Z,ge,1)}function L(){return m.index.add(1).get()!==G()}function R(){return m.index.add(-1).get()!==G()}function _(){return m.scrollSnapList}function $(){return m.scrollProgress.get(m.offsetLocation.get())}function G(){return m.index.get()}function X(){return m.indexPrevious.get()}function J(){return m.slidesInView.get()}function ue(){return m.slidesInView.get(!1)}function fe(){return E}function Ee(){return m}function Pe(){return e}function De(){return P}function je(){return k}const Ze={canScrollNext:L,canScrollPrev:R,containerNode:De,internalEngine:Ee,destroy:H,off:y,on:h,emit:g,plugins:fe,previousScrollSnap:X,reInit:w,rootNode:Pe,scrollNext:z,scrollPrev:N,scrollProgress:$,scrollSnapList:_,scrollTo:O,selectedScrollSnap:G,slideNodes:je,slidesInView:J,slidesNotInView:ue};return M(t,n),setTimeout(()=>l.emit("init"),0),Ze}ru.globalOptions=void 0;function Lg(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{Mg(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{rz(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(nz()&&i){ru.globalOptions=Lg.globalOptions;const c=ru(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}Lg.globalOptions=void 0;const HT=f.createContext(null);function nd(){const e=f.useContext(HT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const GT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=Lg({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,y]=f.useState(!1),g=f.useCallback(v=>{v&&(u(v.canScrollPrev()),y(v.canScrollNext()))},[]),w=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),w()):v.key==="ArrowRight"&&(v.preventDefault(),b())},[w,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return g(c),c.on("reInit",g),c.on("select",g),()=>{c==null||c.off("select",g)}},[c,g]),p.jsx(HT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:ee("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});GT.displayName="Carousel";const KT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=nd();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:ee("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});KT.displayName="CarouselContent";const YT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=nd();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ee("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});YT.displayName="CarouselItem";const QT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=nd();return p.jsxs(Ke,{ref:o,variant:t,size:n,className:ee("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Kb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});QT.displayName="CarouselPrevious";const XT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=nd();return p.jsxs(Ke,{ref:o,variant:t,size:n,className:ee("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(j_,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});XT.displayName="CarouselNext";const ZT=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[y,g]=f.useState({width:0,height:0}),[w,b]=f.useState(null),[m,v]=f.useState(!1),x=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(x.current){const D=x.current.offsetWidth,M=x.current.offsetHeight;D>0&&M>0?g({width:D,height:M}):D>0&&g({width:D,height:D})}},[]);f.useEffect(()=>{const D=x.current;if(!D)return;const M=new ResizeObserver(E);return M.observe(D),E(),()=>{M.unobserve(D)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(b(t),v(!0),u!=="loading"&&h("loading")):e?m||(b(e),u!=="loading"&&u!=="loaded"&&h("loading")):(b(null),v(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const D=new Image,M=()=>{b(e),v(!1),h("loaded"),l&&l()},j=()=>{S.error("Failed to load full image in background:",e)};return D.onload=M,D.onerror=j,D.src=e,()=>{D.onload=null,D.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const M=u==="loaded",j={position:"absolute",top:0,left:0,opacity:M?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:M?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||y.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return j;const{width:F,height:H}=r,z=y.width/n.w,N=F*z,L=H*z,R=-n.x*z,_=-n.y*z;return isNaN(N)||isNaN(L)||isNaN(R)||isNaN(_)?(S.warn("NaN detected during style calculation",{scale:z,naturalW:F,naturalH:H,cropData:n}),j):{...j,width:`${N}px`,height:`${L}px`,transform:`translate(${R}px, ${_}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,u,y]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===w&&w&&(h("loaded"),!m&&l&&l())},[w,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===w&&w){if(S.error("Failed to load image in CroppedImageViewer:",w),m&&e){b(e),v(!1);return}if(!m&&t){S.log("Full image failed to load. Falling back to thumbnail:",t),b(t),v(!0);return}h("error")}},[w,e,t,m]),A=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:x,"data-testid":"image-container",className:ee("relative w-full h-full overflow-hidden bg-muted",s),children:[A&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(zt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(Jb,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:w??"",alt:o,style:c,className:ee("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},Lz=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},y=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(S.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):S.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),g=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(S.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):S.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),w=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[w&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(zt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(Jb,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:ee("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(ZT,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:ee("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:y,onError:g,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(K_,{size:16}):p.jsx(G_,{size:16})})]})},JT=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:ee("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(GT,{setApi:n,className:"w-full h-full",children:[p.jsx(KT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(YT,{className:"h-full",children:p.jsx(Lz,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(QT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(XT,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},jz=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function Fz(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=Zn(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),y=f.useRef(null),g=50,w=.3,b={enter:x=>({x:x>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:x=>({x:x<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(x,C)=>{const{offset:E,velocity:P}=C;let k=x.target;for(;k&&k!==y.current;){if(k.classList.contains("ignore-list-swipe")){S.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>g||P.x>w&&E.x>10?l(-1):(E.x<-g||P.x<-w&&E.x<-10)&&l(1)},v=f.useMemo(()=>[...e].sort((x,C)=>{const E=new Date(x.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=x.createdAt instanceof Date?x.createdAt.getTime():Date.parse(x.createdAt),A=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-A}),[e]);return f.useEffect(()=>{let x=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{x&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{S.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{x&&h(E=>new Map(E).set(C.id,!1))})}),()=>{x=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})]}):v.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(VT,{className:"h-full",children:[" ",p.jsxs("div",{ref:y,className:"relative overflow-hidden h-full",children:[" ",p.jsx(Pg,{initial:!1,custom:a,mode:"wait",children:p.jsx(Zu.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:v.map(x=>{const E=c.get(x.id)||{...x,photos:(x.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Em,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(JT,{entry:E})}),p.jsxs(Pm,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:jz(x.date)}),p.jsxs(zm,{children:[p.jsx(qm,{asChild:!0,children:p.jsx(Ke,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(Zb,{className:"h-4 w-4"})})}),p.jsxs(Wu,{align:"end",children:[p.jsxs(rs,{onClick:P=>{P.stopPropagation(),n(x.id)},children:[p.jsx(eC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(rs,{onClick:P=>{P.stopPropagation(),r(x.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(dm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(BT,{text:x.content,linesToShow:4})]})]},x.id)})},`${s}-${i}-list`)})]})]})}var jg="Dialog",[ek,tk]=un(jg),[Oz,Jn]=ek(jg),nk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=yr({prop:r,defaultProp:o,onChange:s});return p.jsx(Oz,{scope:t,triggerRef:a,contentRef:l,contentId:Ko(),titleId:Ko(),descriptionId:Ko(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};nk.displayName=jg;var rk="DialogTrigger",ok=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(rk,n),s=Le(t,o.triggerRef);return p.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":$g(o.open),...r,ref:s,onClick:ne(e.onClick,o.onOpenToggle)})});ok.displayName=rk;var Fg="DialogPortal",[$z,sk]=ek(Fg,{forceMount:void 0}),ik=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Jn(Fg,t);return p.jsx($z,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(dn,{present:n||s.open,children:p.jsx(ku,{asChild:!0,container:o,children:i})}))})};ik.displayName=Fg;var ou="DialogOverlay",ak=f.forwardRef((e,t)=>{const n=sk(ou,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(ou,e.__scopeDialog);return s.modal?p.jsx(dn,{present:r||s.open,children:p.jsx(Uz,{...o,ref:t})}):null});ak.displayName=ou;var Vz=li("DialogOverlay.RemoveScroll"),Uz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(ou,n);return p.jsx(Nm,{as:Vz,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(ve.div,{"data-state":$g(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ss="DialogContent",lk=f.forwardRef((e,t)=>{const n=sk(ss,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(ss,e.__scopeDialog);return p.jsx(dn,{present:r||s.open,children:s.modal?p.jsx(Bz,{...o,ref:t}):p.jsx(zz,{...o,ref:t})})});lk.displayName=ss;var Bz=f.forwardRef((e,t)=>{const n=Jn(ss,e.__scopeDialog),r=f.useRef(null),o=Le(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return HE(s)},[]),p.jsx(ck,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,s=>s.preventDefault())})}),zz=f.forwardRef((e,t)=>{const n=Jn(ss,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(ck,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),ck=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Jn(ss,n),l=f.useRef(null),c=Le(t,l);return zE(),p.jsxs(p.Fragment,{children:[p.jsx(Im,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Ya,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$g(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Wz,{titleId:a.titleId}),p.jsx(Gz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Og="DialogTitle",uk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(Og,n);return p.jsx(ve.h2,{id:o.titleId,...r,ref:t})});uk.displayName=Og;var dk="DialogDescription",fk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(dk,n);return p.jsx(ve.p,{id:o.descriptionId,...r,ref:t})});fk.displayName=dk;var hk="DialogClose",pk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(hk,n);return p.jsx(ve.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,()=>o.onOpenChange(!1))})});pk.displayName=hk;function $g(e){return e?"open":"closed"}var mk="DialogTitleWarning",[qz,gk]=WM(mk,{contentName:ss,titleName:Og,docsSlug:"dialog"}),Wz=({titleId:e})=>{const t=gk(mk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Hz="DialogDescriptionWarning",Gz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gk(Hz).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},yk=nk,Kz=ok,vk=ik,Vg=ak,Ug=lk,Bg=uk,zg=fk,qg=pk;const wk=yk,Yz=vk,xk=f.forwardRef(({className:e,...t},n)=>p.jsx(Vg,{ref:n,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xk.displayName=Vg.displayName;const Wg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Yz,{children:[p.jsx(xk,{}),p.jsxs(Ug,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(qg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Mu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wg.displayName=Ug.displayName;const Hg=({className:e,...t})=>p.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hg.displayName="DialogHeader";const Gg=f.forwardRef(({className:e,...t},n)=>p.jsx(Bg,{ref:n,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Gg.displayName=Bg.displayName;const Sk=f.forwardRef(({className:e,...t},n)=>p.jsx(zg,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));Sk.displayName=zg.displayName;function bk({className:e,...t}){return p.jsx("div",{className:ee("animate-pulse rounded-md bg-muted",e),...t})}const R0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function Qz(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=Zn(),[,a]=bu(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,y]=f.useState(new Set),g=f.useRef(!0),w=f.useMemo(()=>[...n].sort((m,v)=>{const x=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=v.createdAt instanceof Date?v.createdAt.getTime():Date.parse(v.createdAt);return x-C}),[n]);f.useEffect(()=>{if(g.current=!0,e&&w.length>0){u(!0),c(new Map),y(new Set);const m=w.map(v=>i(v).then(x=>{g.current&&c(C=>new Map(C).set(v.id,x))}).catch(x=>{S.error(`Error fetching details for entry ${v.id} in modal:`,x),g.current&&(y(C=>new Set(C).add(v.id)),c(C=>new Map(C).set(v.id,R0(v))))}));Promise.allSettled(m).finally(()=>{g.current&&u(!1)})}else e||(c(new Map),u(!1),y(new Set));return()=>{g.current=!1}},[e,w,i]);const b=()=>{t(),a("/entry/new")};return p.jsx(wk,{open:e,onOpenChange:t,children:p.jsxs(Wg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Hg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(Gg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:w.length===0&&!d?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Ke,{onClick:b,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:w.map((m,v)=>{const x=l.get(m.id),C=d&&!x,E=h.has(m.id),P=x||R0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(bk,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(JT,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(zm,{children:[p.jsx(qm,{asChild:!0,children:p.jsx(Ke,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(Zb,{className:"h-4 w-4"})})}),p.jsxs(Wu,{align:"end",children:[p.jsxs(rs,{onClick:()=>o(m.id),children:[p.jsx(eC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(rs,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(dm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(BT,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+v)})})}),!d&&w.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Ke,{onClick:b,children:"Add Another Entry"})})]})})}var Ck="AlertDialog",[Xz,o3]=un(Ck,[tk]),$r=tk(),Ek=e=>{const{__scopeAlertDialog:t,...n}=e,r=$r(t);return p.jsx(yk,{...r,...n,modal:!0})};Ek.displayName=Ck;var Zz="AlertDialogTrigger",Jz=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(Kz,{...o,...r,ref:t})});Jz.displayName=Zz;var e4="AlertDialogPortal",Pk=e=>{const{__scopeAlertDialog:t,...n}=e,r=$r(t);return p.jsx(vk,{...r,...n})};Pk.displayName=e4;var t4="AlertDialogOverlay",Tk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(Vg,{...o,...r,ref:t})});Tk.displayName=t4;var qs="AlertDialogContent",[n4,r4]=Xz(qs),o4=bb("AlertDialogContent"),kk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=$r(n),i=f.useRef(null),a=Le(t,i),l=f.useRef(null);return p.jsx(qz,{contentName:qs,titleName:Ak,docsSlug:"alert-dialog",children:p.jsx(n4,{scope:n,cancelRef:l,children:p.jsxs(Ug,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:ne(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(o4,{children:r}),p.jsx(i4,{contentRef:i})]})})})});kk.displayName=qs;var Ak="AlertDialogTitle",Dk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(Bg,{...o,...r,ref:t})});Dk.displayName=Ak;var Rk="AlertDialogDescription",Mk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(zg,{...o,...r,ref:t})});Mk.displayName=Rk;var s4="AlertDialogAction",_k=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(qg,{...o,...r,ref:t})});_k.displayName=s4;var Ik="AlertDialogCancel",Nk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=r4(Ik,n),s=$r(n),i=Le(t,o);return p.jsx(qg,{...s,...r,ref:i})});Nk.displayName=Ik;var i4=({contentRef:e})=>{const t=`\`${qs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qs}\` by passing a \`${Rk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},a4=Ek,l4=Pk,Lk=Tk,jk=kk,Fk=_k,Ok=Nk,$k=Dk,Vk=Mk;const Uk=a4,c4=l4,Bk=f.forwardRef(({className:e,...t},n)=>p.jsx(Lk,{className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Bk.displayName=Lk.displayName;const Kg=f.forwardRef(({className:e,...t},n)=>p.jsxs(c4,{children:[p.jsx(Bk,{}),p.jsx(jk,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Kg.displayName=jk.displayName;const Yg=({className:e,...t})=>p.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});Yg.displayName="AlertDialogHeader";const Qg=({className:e,...t})=>p.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qg.displayName="AlertDialogFooter";const Xg=f.forwardRef(({className:e,...t},n)=>p.jsx($k,{ref:n,className:ee("text-lg font-semibold",e),...t}));Xg.displayName=$k.displayName;const Zg=f.forwardRef(({className:e,...t},n)=>p.jsx(Vk,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));Zg.displayName=Vk.displayName;const Jg=f.forwardRef(({className:e,...t},n)=>p.jsx(Fk,{ref:n,className:ee(Tm(),e),...t}));Jg.displayName=Fk.displayName;const ey=f.forwardRef(({className:e,...t},n)=>p.jsx(Ok,{ref:n,className:ee(Tm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ey.displayName=Ok.displayName;function u4(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=Zn(),o=async()=>{await n()};return p.jsx(Uk,{open:e,onOpenChange:t,children:p.jsxs(Kg,{children:[p.jsxs(Yg,{children:[p.jsx(Xg,{children:"Delete Entry"}),p.jsx(Zg,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Qg,{children:[p.jsx(ey,{disabled:r,children:"Cancel"}),p.jsx(Jg,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var d4="Label",zk=f.forwardRef((e,t)=>p.jsx(ve.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zk.displayName=d4;var qk=zk;const f4=Qa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rd=f.forwardRef(({className:e,...t},n)=>p.jsx(qk,{ref:n,className:ee(f4(),e),...t}));rd.displayName=qk.displayName;function h4({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Ka(),l=f.useCallback(async g=>{if(!g||g.length===0)return;const w=Array.from(g),b=[],m=[];let v=!0;if(s+w.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const x of w){if(!x.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${x.name}" is not a supported image file.`,variant:"destructive"}),v=!1;continue}try{const C=URL.createObjectURL(x);b.push(x),m.push(C)}catch(C){S.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${x.name}`,variant:"destructive"}),v=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!v&&m.length>0&&m.forEach(URL.revokeObjectURL),v&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(g=>{t||l(g.target.files)},[t,l]),d=f.useCallback(g=>{t||(g.preventDefault(),g.stopPropagation(),l(g.dataTransfer.files))},[t,l]),u=g=>{t||(g.preventDefault(),g.stopPropagation())},h=f.useCallback(()=>{var g;t||(g=i.current)==null||g.click()},[t]),y=r?bt.isValidElement(r)?bt.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:ee("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:ee(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),y]})}const Uo=10,Qr=e=>e.isNew===!0,Wk=e=>e.isNew===!1,p4=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function m4({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const y=f.useRef(null),g=f.useRef(null),[w,b]=f.useState(null),[m,v]=f.useState(null),x=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{x.current=x.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),v(null)},k=N=>{const L=E.current,R=C.current;if(!L||!R||N<0||N>e.length){P();return}if(N===m&&L.style.display!=="none")return;v(N);const _=p4(R);let $=null,G=!1;if(N===e.length?($=x.current[e.length-1],G=!0):($=x.current[N],G=!1),$){const X=$.getBoundingClientRect(),J=$.offsetTop;let ue;G?ue=$.offsetLeft+X.width+_/2:ue=$.offsetLeft-_/2,L.style.display="block",L.style.top=`${J}px`,L.style.left=`${ue}px`,L.style.height=`${X.height}px`}else P()},A=(N,L)=>{if(y.current=L,b(L),P(),N.dataTransfer)try{N.dataTransfer.effectAllowed="move"}catch{}},D=(N,L)=>{if(N.preventDefault(),y.current===null||y.current===L){g.current=null,P();return}g.current=L;const R=x.current[L];if(R){const _=R.getBoundingClientRect(),$=_.left+_.width/2,X=N.clientX<$?L:L+1;k(X)}},M=N=>{C.current&&!C.current.contains(N.relatedTarget)&&(g.current=null,P())},j=()=>{let N=m;y.current!==null&&N!==null&&N>y.current&&N--,y.current!==null&&N!==null&&y.current!==N&&t(L=>{const R=[...L],_=R.splice(y.current,1)[0];return R.splice(N,0,_),R}),y.current=null,g.current=null,b(null),P()},F=(N,L)=>{y.current=L,b(L),P()},H=N=>{if(y.current===null)return;N.cancelable&&N.preventDefault();const L=N.touches[0],R=document.elementFromPoint(L.clientX,L.clientY),_=R==null?void 0:R.closest('[draggable="true"]');if(_){const $=x.current.indexOf(_);if($!==-1&&$!==y.current){g.current=$;const G=_.getBoundingClientRect(),X=G.left+G.width/2,ue=L.clientX<X?$:$+1;k(ue);return}}g.current=null,P()},O=()=>{let N=m;y.current!==null&&N!==null&&N>y.current&&N--,y.current!==null&&N!==null&&y.current!==N&&t(L=>{const R=[...L],_=R.splice(y.current,1)[0];return R.splice(N,0,_),R}),y.current=null,g.current=null,b(null),P()},z=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(rd,{children:["Photos (",e.length,"/",Uo,")"," ",z&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((N,L)=>p.jsx(bk,{className:"h-16 w-16 rounded aspect-square"},L))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:M,onTouchStart:N=>{},onTouchMove:H,onTouchEnd:O,onTouchCancel:O,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((N,L)=>{var J;const R=Qr(N)?N.localId:N.photoId,_=l.current.get(R),$=N.crop;let G=null;Qr(N)?N.originalDimensions&&(G={filename:N.file.name,mimeType:N.file.type,width:N.originalDimensions.width,height:N.originalDimensions.height,exifDate:(J=N.exifData)==null?void 0:J.exifDate}):Wk(N)&&(G=c.current.get(N.photoId)??null);const X=!!_;return p.jsxs("div",{ref:ue=>x.current[L]=ue,draggable:z,onDragStart:ue=>z&&A(ue,L),onDragOver:ue=>z&&D(ue,L),onDragEnd:z?j:void 0,onTouchStart:ue=>z&&F(ue,L),className:ee("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",z?"cursor-grab active:cursor-grabbing":"cursor-default",w===L?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(ZT,{imageUrl:_,thumbnailUrl:_,cropData:$,photoMetadata:G,altText:`Photo ${L+1} thumbnail`,className:"rounded",enableLoadingState:!!_&&_.startsWith("blob:")}),p.jsxs("div",{className:ee("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Ke,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:ue=>{ue.stopPropagation(),!n&&X?s(L):X||S.warn(`Cannot open cropper: original URL missing for ${R}`)},disabled:n||!X,children:p.jsx(V_,{className:"h-3 w-3"})}),p.jsx(Ke,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:ue=>{ue.stopPropagation(),n||i(L)},disabled:n,children:p.jsx(dm,{className:"h-3 w-3"})})]}),z&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(B_,{className:"h-3 w-3 text-white"})})]},R+"-"+L)}),e.length<Uo&&p.jsx(h4,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:Uo,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(zt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(z_,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function g4({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(rd,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(tC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Hk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Hk.displayName="Textarea";function y4({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(rd,{htmlFor:"content",children:"Content"}),p.jsx(Hk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function v4({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Ke,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Ke,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function w4(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function x4(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function S4(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=Zn(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=w4(),d=x4(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(wk,{open:e,onOpenChange:t,children:p.jsxs(Wg,{className:"sm:max-w-md",children:[p.jsxs(Hg,{children:[p.jsx(Gg,{children:"Select Month and Year"}),p.jsx(Sk,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,y)=>p.jsx("option",{value:y+1,children:h},y))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Ke,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Ke,{onClick:u,children:"Apply"})]})]})})}function b4(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=Zn();Mm(),bu();const h=l,y=l?"Saving...":"",g={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})});const w=u&&!e&&!t&&!n,b=w?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(gO,{}),h&&p.jsxs("div",{className:ee("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",w?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(zt,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:y})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Mu,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:ee("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx(VB,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(Pg,{initial:!1,mode:"wait",children:p.jsx(Zu.div,{variants:g,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx($B,{}):p.jsx(Fz,{})})},s)})})})]}),p.jsx(S4,{}),p.jsx(Qz,{}),p.jsx(u4,{})]})}var Gk=["PageUp","PageDown"],Kk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ci="Slider",[op,C4,E4]=Tu(Ci),[Qk,s3]=un(Ci,[E4]),[P4,od]=Qk(Ci),Xk=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:y=!1,form:g,...w}=e,b=f.useRef(new Set),m=f.useRef(0),x=i==="horizontal"?T4:k4,[C=[],E]=yr({prop:d,defaultProp:c,onChange:j=>{var H;(H=[...b.current][m.current])==null||H.focus(),u(j)}}),P=f.useRef(C);function k(j){const F=_4(C,j);M(j,F)}function A(j){M(j,m.current)}function D(){const j=P.current[m.current];C[m.current]!==j&&h(C)}function M(j,F,{commit:H}={commit:!1}){const O=j4(s),z=F4(Math.round((j-r)/s)*s+r,O),N=Tg(z,[r,o]);E((L=[])=>{const R=R4(L,N,F);if(L4(R,l*s)){m.current=R.indexOf(N);const _=String(R)!==String(L);return _&&H&&h(R),_?R:L}else return L})}return p.jsx(P4,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:g,children:p.jsx(op.Provider,{scope:e.__scopeSlider,children:p.jsx(op.Slot,{scope:e.__scopeSlider,children:p.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:t,onPointerDown:ne(w.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:y,onSlideStart:a?void 0:k,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:D,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(o,C.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:F})=>{if(!a){const z=Gk.includes(j.key)||j.shiftKey&&Kk.includes(j.key)?10:1,N=m.current,L=C[N],R=s*z*F;M(L+R,N,{commit:!0})}}})})})})});Xk.displayName=Ci;var[Zk,Jk]=Qk(Ci,{startEdge:"left",endEdge:"right",size:"width",direction:1}),T4=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),y=Le(t,x=>h(x)),g=f.useRef(void 0),w=Za(o),b=w==="ltr",m=b&&!s||!b&&s;function v(x){const C=g.current||u.getBoundingClientRect(),E=[0,C.width],k=ty(E,m?[n,r]:[r,n]);return g.current=C,k(x-C.left)}return p.jsx(Zk,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(eA,{dir:w,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const C=v(x.clientX);i==null||i(C)},onSlideMove:x=>{const C=v(x.clientX);a==null||a(C)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:x=>{const E=Yk[m?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:E?-1:1})}})})}),k4=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=Le(t,d),h=f.useRef(void 0),y=!o;function g(w){const b=h.current||d.current.getBoundingClientRect(),m=[0,b.height],x=ty(m,y?[r,n]:[n,r]);return h.current=b,x(w-b.top)}return p.jsx(Zk,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:p.jsx(eA,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const b=g(w.clientY);s==null||s(b)},onSlideMove:w=>{const b=g(w.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:w=>{const m=Yk[y?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:m?-1:1})}})})}),eA=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=od(Ci,n);return p.jsx(ve.span,{...c,ref:t,onKeyDown:ne(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):Gk.concat(Kk).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:ne(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:ne(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:ne(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),tA="SliderTrack",nA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=od(tA,n);return p.jsx(ve.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});nA.displayName=tA;var sp="SliderRange",rA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=od(sp,n),s=Jk(sp,n),i=f.useRef(null),a=Le(t,i),l=o.values.length,c=o.values.map(h=>sA(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(ve.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});rA.displayName=sp;var ip="SliderThumb",oA=f.forwardRef((e,t)=>{const n=C4(e.__scopeSlider),[r,o]=f.useState(null),s=Le(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(A4,{...e,ref:s,index:i})}),A4=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=od(ip,n),a=Jk(ip,n),[l,c]=f.useState(null),d=Le(t,v=>c(v)),u=l?i.form||!!l.closest("form"):!0,h=xm(l),y=i.values[r],g=y===void 0?0:sA(y,i.min,i.max),w=M4(r,i.values.length),b=h==null?void 0:h[a.size],m=b?I4(b,g,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${m}px)`},children:[p.jsx(op.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(ve.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:y===void 0?{display:"none"}:e.style,onFocus:ne(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(D4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});oA.displayName=ip;var D4=e=>{const{value:t,...n}=e,r=f.useRef(null),o=K1(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function R4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function sA(e,t,n){const s=100/(n-t)*(e-t);return Tg(s,[0,100])}function M4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function _4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function I4(e,t,n){const r=e/2,s=ty([0,50],[0,r]);return(r-s(t)*n)*n}function N4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function L4(e,t){if(t>0){const n=N4(e);return Math.min(...n)>=t}return!0}function ty(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function j4(e){return(String(e).split(".")[1]||"").length}function F4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var iA=Xk,O4=nA,$4=rA,V4=oA;const aA=f.forwardRef(({className:e,...t},n)=>p.jsxs(iA,{ref:n,className:ee("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(O4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx($4,{className:"absolute h-full bg-primary"})}),p.jsx(V4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));aA.displayName=iA.displayName;const et=250,M0=200;function U4({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,y]=f.useState({x:0,y:0,scale:1}),[g,w]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[v,x]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[A,D]=f.useState(5),[M,j]=f.useState(!1),[F,H]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[O,z]=f.useState(null),[N,L]=f.useState(null),[R,_]=f.useState(null),[$,G]=f.useState(null),X=b&&v,J=e!==u.current&&!X,ue=I=>I&&typeof I=="object"&&"x"in I&&"y"in I&&"w"in I&&"h"in I&&typeof I.x=="number"&&typeof I.y=="number"&&typeof I.w=="number"&&typeof I.h=="number"&&I.w>0&&I.h>0&&I.w===I.h,fe=f.useCallback((I,q)=>I<=0||q<=0||et<=0?.1:Math.max(et/I,et/q),[]),Ee=f.useCallback((I,q)=>I<=0||q<=0||et<=0||M0<=0?5:Math.max(Math.max(et/I,et/q),et/M0),[]),Pe=f.useCallback((I,q,re)=>{const ce=s.current;if(!b||g.width<=0||g.height<=0)return{x:I,y:q};const he=(ce==null?void 0:ce.clientWidth)??0,Ce=(ce==null?void 0:ce.clientHeight)??0;if(he<=0||Ce<=0)return{x:I,y:q};const xe=g.width*re,Ie=g.height*re,Be=(he-et)/2,Ge=(Ce-et)/2,Et=Be,Mt=Be+et-xe,_t=Ge,kt=Ge+et-Ie,Gt=xe<et?Be+(et-xe)/2:Math.min(Et,Math.max(Mt,I)),bn=Ie<et?Ge+(et-Ie)/2:Math.min(_t,Math.max(kt,q));return{x:Gt,y:bn}},[b,g]),De=f.useCallback((I,q)=>{if(!b||!l.current||v||g.width<=0||g.height<=0)return;const re=g.width,ce=g.height,he=fe(re,ce),Ce=Ee(re,ce);k(he),D(Ce);let xe,Ie,Be;if(ue(r)){xe=et/r.w,xe=Math.max(he,Math.min(Ce,xe));const Mt=(I-et)/2,_t=(q-et)/2;Ie=Mt-r.x*xe,Be=_t-r.y*xe}else xe=Math.max(et/re,et/ce),xe=Math.max(he,xe),Ie=(I-re*xe)/2,Be=(q-ce*xe)/2;const Et={...Pe(Ie,Be,xe),scale:xe};y(Et),x(!0),c.current=!0},[b,v,g,r,fe,Ee,Pe]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{u.current!==e?(u.current&&v?(L(u.current),_(h),G(g)):(L(null),_(null),G(null)),m(!1),x(!1),w(o||{width:0,height:0}),y({x:0,y:0,scale:1}),k(.1),D(5),c.current=!1,E(!1),u.current=e):o&&!v&&(o.width!==g.width||o.height!==g.height)&&w(o)},[e,o]);const je=f.useCallback(()=>{const I=i.current;if(!I||!l.current||I.src!==e)return;const q=I.naturalWidth,re=I.naturalHeight;if(q<=0||re<=0){S.error("[Cropper] Image invalid dimensions on load"),m(!1),x(!1);return}(g.width!==q||g.height!==re)&&w({width:q,height:re}),m(!0)},[e,g]),Ze=f.useCallback(()=>{const I=i.current;!I||!l.current||I.src!==e||(S.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),x(!1))},[e]);f.useEffect(()=>{const I=s.current;if(I&&b&&!v){const q=he=>{if(!(!l.current||v))for(const Ce of he){const{width:xe,height:Ie}=Ce.contentRect||{width:Ce.target.clientWidth,height:Ce.target.clientHeight};xe>0&&Ie>0?De(xe,Ie):S.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(q),d.current.observe(I);const re=I.clientWidth,ce=I.clientHeight;return re>0&&ce>0&&De(re,ce),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[b,v,De]),f.useEffect(()=>{if(b&&v){const{x:I,y:q,scale:re}=h,ce=Pe(I,q,re);(ce.x!==I||ce.y!==q)&&y(he=>({...he,...ce}))}},[h.scale,b,v,Pe,h.x,h.y]);const ge=f.useCallback((I,q,re)=>{!X||!s.current||y(ce=>{let he=ce.scale*I;if(he=Math.max(P,Math.min(A,he)),he===ce.scale)return ce;const Ce=(q-ce.x)/ce.scale,xe=(re-ce.y)/ce.scale,Ie=q-Ce*he,Be=re-xe*he;return{scale:he,...Pe(Ie,Be,he)}})},[X,P,A,Pe]),Z=(I,q,re)=>{!X||C||(j(!0),H({x:I,y:q,pinchDistance:re,imageX:h.x,imageY:h.y}),z(re??null))},ye=(I,q,re)=>{if(!(!M||!X||!s.current)){if(re!==void 0&&O!==null){const ce=re/O,he=s.current.getBoundingClientRect(),Ce=F.x-he.left,xe=F.y-he.top;ge(ce,Ce,xe),z(re)}else if(O===null){const ce=I-F.x,he=q-F.y,Ce=F.imageX+ce,xe=F.imageY+he;y(Ie=>({...Ie,...Pe(Ce,xe,Ie.scale)}))}}},Te=()=>{M&&(j(!1),z(null))},at=I=>Z(I.clientX,I.clientY),vt=I=>ye(I.clientX,I.clientY),st=I=>{if(I.touches.length===2){const q=I.touches[0],re=I.touches[1],ce=Math.hypot(re.clientX-q.clientX,re.clientY-q.clientY),he=(q.clientX+re.clientX)/2,Ce=(q.clientY+re.clientY)/2;Z(he,Ce,ce)}else I.touches.length===1&&Z(I.touches[0].clientX,I.touches[0].clientY)},St=I=>{if(M)if(I.cancelable&&I.preventDefault(),I.touches.length===2){const q=I.touches[0],re=I.touches[1],ce=Math.hypot(re.clientX-q.clientX,re.clientY-q.clientY),he=(q.clientX+re.clientX)/2,Ce=(q.clientY+re.clientY)/2;ye(he,Ce,ce)}else I.touches.length===1&&ye(I.touches[0].clientX,I.touches[0].clientY)},lt=f.useCallback(I=>{if(!X||!s.current||C)return;I.preventDefault();const q=s.current.getBoundingClientRect(),re=I.clientX-q.left,ce=I.clientY-q.top,Ce=1+I.deltaY*-.005;ge(Ce,re,ce)},[X,C,ge]);f.useEffect(()=>{if(M)return window.addEventListener("mousemove",vt),window.addEventListener("touchmove",St,{passive:!1}),window.addEventListener("mouseup",Te),window.addEventListener("touchend",Te),window.addEventListener("touchcancel",Te),()=>{window.removeEventListener("mousemove",vt),window.removeEventListener("touchmove",St),window.removeEventListener("mouseup",Te),window.removeEventListener("touchend",Te),window.removeEventListener("touchcancel",Te)}},[M,St]),f.useEffect(()=>{const I=s.current;if(I&&X)return I.addEventListener("wheel",lt,{passive:!1}),()=>I.removeEventListener("wheel",lt)},[X,lt]);const me=f.useCallback(I=>{if(!s.current||!X||(I=Math.max(P,Math.min(A,I)),I===h.scale))return;const q=s.current,re=q.clientWidth/2,ce=q.clientHeight/2;ge(I/h.scale,re,ce)},[X,P,A,h.scale,ge]),Ue=()=>me(h.scale*1.15),Rt=()=>me(h.scale/1.15),U=I=>me(I[0]),K=()=>{if(x(!1),c.current=!1,y({x:0,y:0,scale:1}),s.current&&b){const I=s.current.clientWidth,q=s.current.clientHeight;I>0&&q>0&&De(I,q)}},B=()=>{const I=s.current,q=i.current;if(!I||!v||!q||!q.naturalWidth||!q.naturalHeight||q.naturalWidth<=0||q.naturalHeight<=0){S.error("[Cropper] Cannot crop: Preconditions fail");return}E(!0);try{const re=I.clientWidth,ce=I.clientHeight,he=(re-et)/2,Ce=(ce-et)/2,xe=he-h.x,Ie=Ce-h.y,Be=xe/h.scale,Ge=Ie/h.scale,Et=et/h.scale,Mt=et/h.scale,_t=Math.max(0,Be),kt=Math.max(0,Ge),Gt=Math.min(Et,q.naturalWidth-_t),bn=Math.min(Mt,q.naturalHeight-kt);if(Gt<=0||bn<=0)throw new Error(`Crop area zero/negative: W=${Gt}, H=${bn}`);let Fn={x:Math.round(_t),y:Math.round(kt),w:Math.round(Gt),h:Math.round(bn)};const Y=Math.min(Fn.w,Fn.h);if(Fn.w=Y,Fn.h=Y,Fn.w<=0)throw new Error(`Final crop width <= 0: ${Fn.w}`);l.current&&t(Fn)}catch(re){S.error("[Cropper] Error during cropping:",re)}finally{l.current&&E(!1)}},we=J||!v&&!C,le=!v&&!C,Qe=!v||C,Re={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Fe={...Re,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:v?1:0,transition:M?"none":"transform 0.1s linear",zIndex:2},Me={...Re,transform:R?`translate(${R.x}px, ${R.y}px) scale(${R.scale})`:"translate(0px, 0px) scale(1)",opacity:v?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(zt,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:ee("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",M?"cursor-grabbing":"cursor-grab"),onMouseDown:at,onTouchStart:st,children:[N&&R&&$&&p.jsx("img",{ref:a,src:N,alt:"",className:"absolute transform-gpu origin-top-left block",style:Me,draggable:!1,width:$.width,height:$.height},N+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Fe,onLoad:je,onError:Ze,draggable:!1,loading:"eager"},e),we&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(zt,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${et}px`,height:`${et}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ke,{type:"button",variant:"outline",size:"icon",onClick:Rt,disabled:!X||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(nI,{className:"h-4 w-4"})," "]}),p.jsx(aA,{value:[h.scale],min:P,max:A,step:(A-P)/100,onValueChange:U,className:"flex-grow",disabled:!X||C,"aria-label":"Zoom slider"}),p.jsxs(Ke,{type:"button",variant:"outline",size:"icon",onClick:Ue,disabled:!X||C||h.scale>=A,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(tI,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Ke,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Ke,{type:"button",variant:"ghost",onClick:K,disabled:!X||C,className:"px-3",children:[" ",p.jsx(Z_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Ke,{type:"button",variant:"default",onClick:B,disabled:Qe,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):le?p.jsxs(p.Fragment,{children:[" ",p.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(Yb,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function bf(e){return new Promise((t,n)=>{const r=new Image;if(r.onload=()=>{r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):n(new Error("Image loaded with zero dimensions."))},r.onerror=o=>{S.error("Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")r.src=e;else if(e instanceof File){const o=new FileReader;o.onload=s=>{var i;(i=s.target)!=null&&i.result?r.src=s.target.result:n(new Error("FileReader result is empty."))},o.onerror=s=>{S.error("FileReader error:",s),n(new Error("Failed to read file."))},o.readAsDataURL(e)}else n(new Error("Invalid input for getImageDimensions"))})}const B4=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return S.error("Error parsing EXIF date string:",t),null}};function Cf(e){return new Promise(t=>{if(!window.EXIF){S.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(S.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=B4(o);t({exifDate:s})}catch(o){S.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,S.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function _0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(Uk,{open:e,onOpenChange:t,children:p.jsxs(Kg,{children:[p.jsxs(Yg,{children:[p.jsx(Xg,{children:r}),p.jsx(Zg,{children:o})]}),p.jsxs(Qg,{children:[p.jsx(ey,{disabled:a,children:i}),p.jsxs(Jg,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const z4=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&S.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function I0({entryId:e}){const t=Zn(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,isAuthenticated:d,isLoadingAuth:u,navigate:h,isLoadingImagesMeta:y,isClientReady:g,isOnline:w}=t,{toast:b}=Ka(),[m,v]=f.useState(null),[x,C]=f.useState(()=>{const te=window.location.hash.split("?")[1];let oe=null;if(te)try{oe=new URLSearchParams(te).get("date")}catch{}if(oe&&/^\d{4}-\d{2}-\d{2}$/.test(oe))return S.log(`[EntryForm State Init] Initializing date from param: ${oe}`),new Date(oe+"T00:00:00Z");{S.log("[EntryForm State Init] Initializing date to today (UTC).");const se=new Date;return new Date(Date.UTC(se.getFullYear(),se.getMonth(),se.getDate()))}}),[E,P]=f.useState(!1),[k,A]=f.useState(""),[D,M]=f.useState([]),[j,F]=f.useState(!1),[H,O]=f.useState(null),[z,N]=f.useState(!1),[L,R]=f.useState(null),[_,$]=f.useState(null),[G,X]=f.useState(!0),[J,ue]=f.useState([]),[fe,Ee]=f.useState(null),[Pe,De]=f.useState(!1),[je,Ze]=f.useState(null),[ge,Z]=f.useState(null),[ye,Te]=f.useState(!1),[at,vt]=f.useState(!1),[st,St]=f.useState(new Map),lt=f.useRef(null),me=f.useRef(!1),Ue=f.useRef(new Map),Rt=f.useRef(new Map),U=f.useRef(null),K=f.useRef(!1),B=f.useRef(!1),we=f.useRef(0),le=f.useRef({}),Qe=io.getInstance(),Re=!!e,Fe=fe!==null&&fe<J.length,Me=a||Fe||Pe,I=!G&&!Me&&!a&&!u&&D.length>0&&!z&&J.length===0&&ye,q=f.useMemo(()=>{const Y=m?m.date:x.toISOString().split("T")[0],te=m?m.content:"",oe=m?m.photos:[],se=new Set(oe.map(ie=>ie.photoId));return{date:Y,content:te,photoIds:se}},[m,x]);f.useEffect(()=>{if(G||u||y){Te(!1);return}const Y=x.toISOString().split("T")[0]!==q.date,te=k!==q.content,oe=new Set(D.map(de=>Qr(de)?de.localId:de.photoId)),se=q.photoIds;let ie=oe.size!==se.size;if(!ie){for(const de of oe)se.has(de)||(ie=!0);if(!ie)for(const de of se)oe.has(de)||(ie=!0)}let be=!1;if(m&&!ie){for(const de of D)if(!Qr(de)){const Q=m.photos.find(Se=>Se.photoId===de.photoId);if(Q&&(de.crop.x!==Q.crop.x||de.crop.y!==Q.crop.y||de.crop.w!==Q.crop.w||de.crop.h!==Q.crop.h)){be=!0;break}}}if(Re)Te(Y||te||ie||be);else{const de=(()=>{const qe=window.location.hash.split("?")[1];let Ne=null;if(qe)try{Ne=new URLSearchParams(qe).get("date")}catch{}if(Ne&&/^\d{4}-\d{2}-\d{2}$/.test(Ne))return Ne;{const Je=new Date;return new Date(Date.UTC(Je.getFullYear(),Je.getMonth(),Je.getDate())).toISOString().split("T")[0]}})(),Q=x.toISOString().split("T")[0]!==de;Te(k.trim()!==""||D.length>0||Q)}},[x,k,D,q.date,q.content,q.photoIds,Re,G,u,y,m]);const re=f.useCallback(async Y=>{if(!me.current||Y>=J.length)return;const te=J[Y];if(!te||st.has(te.localId))return;U.current&&U.current.abort();const oe=new AbortController;U.current=oe;try{const[se,ie]=await Promise.all([bf(te.file),Cf(te.file)]);if(oe.signal.aborted||!me.current)return;St(be=>new Map(be).set(te.localId,{dims:se,exif:ie}))}catch(se){se.name==="AbortError"||me.current&&S.error(`[Prefetch] Error pre-fetching data for index ${Y}, file: ${te.file.name}`,se)}finally{U.current===oe&&(U.current=null)}},[J,st]),ce=f.useCallback((Y,te)=>{if(S.log(`[EntryForm] handleFilesSelect called with ${Y.length} files:`,{fileTypes:Y.map(ie=>ie.type),fileSizes:Y.map(ie=>ie.size),fileNames:Y.map(ie=>ie.name),previewUrls:te}),!me.current){S.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&(S.log(`[EntryForm] Revoking ${te.length} blob URLs due to unmount`),te.forEach(ie=>{S.log(`[EntryForm] Revoking blob URL: ${ie}`),URL.revokeObjectURL(ie)}));return}const oe=Uo-D.length-J.length;if(S.log(`[EntryForm] Available slots: ${oe} (MAX_PHOTOS: ${Uo}, current photos: ${D.length}, queue: ${J.length})`),Y.length>oe&&(S.warn(`[EntryForm] Too many files (${Y.length}), limiting to ${oe}`),b({title:"Too many files",description:`You can only add ${oe} more photo(s). Some files were ignored.`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"&&(S.log(`[EntryForm] Revoking excess blob URLs (${te.length-oe})`),te.slice(oe).forEach(ie=>{S.log(`[EntryForm] Revoking excess blob URL: ${ie}`),URL.revokeObjectURL(ie)})),Y=Y.slice(0,oe),te=te.slice(0,oe),Y.length===0)){S.warn("[EntryForm] No files left after limiting");return}const se=Y.map((ie,be)=>{const de=crypto.randomUUID(),Q=te[be];return S.log(`[EntryForm] Processing file for queue: ${ie.name}, type: ${ie.type}, size: ${ie.size}`),S.log(`[EntryForm] Generated localId: ${de} for blob URL: ${Q}`),(!Q||!Q.startsWith("blob:"))&&S.error(`[EntryForm] Invalid blob URL for file ${ie.name}: ${Q}`),Ue.current.set(de,Q),S.log(`[EntryForm] Stored in originalBlobUrlsRef. Current count: ${Ue.current.size}`),{file:ie,previewUrl:Q,localId:de}});S.log(`[EntryForm] Created ${se.length} new queue items`),ue(ie=>{const be=[...ie,...se];return S.log(`[EntryForm] ProcessingQueue updated: ${ie.length}  ${be.length} items`),fe===null&&be.length>0?(S.log("[EntryForm] Starting queue processing - setting currentQueueIndex to 0"),Ee(0),be.length>1&&(S.log("[EntryForm] Prefetching next item at index 1"),re(1))):S.log(`[EntryForm] Queue processing already in progress, currentQueueIndex: ${fe}`),be})},[D.length,J.length,b,fe,re]);f.useEffect(()=>{const Y={entryId:e,isAuthenticated:d,isLoadingAuth:u,isClientReady:g,isLoadingImagesMeta:y,isOnline:w,navigate:h,toast:b,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:m==null?void 0:m.id};we.current++;const te=we.current,oe=`init-${te}`;if(z4(te,le.current,Y),(te===1||e!==le.current.entryId)&&(B.current=!1),!(!u&&d&&g&&!y)){X(!0),le.current=Y;return}me.current=!0,Te(!1);const ie=()=>{S.log(`[EntryForm Init Effect ${oe}] resetFormState() called.`),v(null),A(""),M([]),F(!1),O(null),N(!1),R(null),$(null),ue([]),Ee(null),De(!1),Ze(null),Z(null),St(new Map),Ue.current.forEach((Q,Se)=>{try{Q.startsWith("blob:")&&URL.revokeObjectURL(Q)}catch{}}),Ue.current.clear(),Rt.current.clear()},be=async Q=>{if(S.log(`[EntryForm Init Effect ${oe}] Populate form for entry ID:`,Q.id),!me.current)return;let Se=new Date(Q.date+"T00:00:00Z");if(C(Se),A(Q.content),v({...Q}),P(!0),S.log(`[EntryForm Init Effect ${oe}] Basic form fields populated. isDateSetByUserIntent: true`),M([]),Rt.current.clear(),Ue.current.forEach((qe,Ne)=>{try{qe.startsWith("blob:")&&URL.revokeObjectURL(qe)}catch{}}),Ue.current.clear(),Q.photos&&Q.photos.length>0){S.log(`[EntryForm Init Effect ${oe}] Loading ${Q.photos.length} photos.`),(!i||i.length===0)&&S.warn(`[EntryForm Init Effect ${oe}] Missing imagesMetadata.`);const qe=Q.photos.map(async Ne=>{const Je=(i||[]).find(Kt=>Kt.id===Ne.photoId),We=(Je==null?void 0:Je.photoMetadata)??null,ze=We==null?void 0:We.contentHash;let Oe=null;try{if(Oe=await s(ze,Ne.photoId),!me.current)return null;Oe?(Ue.current.set(Ne.photoId,Oe),We&&Rt.current.set(Ne.photoId,We)):S.warn(`[EntryForm Init Effect ${oe}] No preview URL for photo ${Ne.photoId}`)}catch(Kt){S.error(`[EntryForm Init Effect ${oe}] Failed getting preview link for photo ${Ne.photoId}:`,Kt)}const nn=Oe===null?void 0:Oe;return nn?{...Ne,isNew:!1,localPreviewUrl:nn}:null});try{const Ne=await Promise.all(qe);if(!me.current)return;const Je=Ne.filter(We=>We!==null);if(S.log(`[EntryForm Init Effect ${oe}] Setting ${Je.length} photos.`),M(Je),Je.length>0){const We=Rt.current.get(Je[0].photoId),ze=(We==null?void 0:We.exifDate)??null;S.log(`[EntryForm Init Edit] Storing initial EXIF date: ${ze}`),O(ze);const Oe=Se.toISOString().split("T")[0];let nn=!1,Kt="";if(ze){const[er,Vr,Cn]=ze.split("-").map(Number);!isNaN(er)&&!isNaN(Vr)&&!isNaN(Cn)&&(Kt=new Date(Date.UTC(er,Vr-1,Cn)).toISOString().split("T")[0],nn=Oe!==Kt)}S.log(`[EntryForm Init Edit] Comparing Form UTC: ${Oe} vs EXIF as UTC: ${Kt||"N/A"}. Show warning: ${nn}`),F(nn)}else S.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),O(null),F(!1)}catch(Ne){S.error(`[EntryForm Init Effect ${oe}] Error loading initial photo details:`,Ne),me.current&&M([])}}else S.log(`[EntryForm Init Effect ${oe}] Entry has no photos.`),M([]),O(null),F(!1);S.log(`[EntryForm Init Effect ${oe}] populateForm finished.`)};return(async()=>{if(B.current){X(!1);return}X(!0),ie();try{if(Re&&e){S.log(`[EntryForm Init Effect ${oe}] EDIT MODE: Initializing for entry ID: ${e}`);let Q=null;if(Q=r(e)||null,Q||(S.log(`[EntryForm Init Effect ${oe}] EDIT MODE: Not in context, loading...`),Q=await o(e)),Q&&me.current)await be(Q),B.current=!0;else if(me.current){S.error(`[EntryForm Init Effect ${oe}] EDIT MODE: Entry ${e} not found. Redirecting.`),b({title:"Error",description:"Entry not found.",variant:"destructive"}),h("/");return}}else{S.log(`[EntryForm Init Effect ${oe}] NEW MODE: Initializing.`);const Se=window.location.hash.split("?")[1];let qe=null;if(Se)try{qe=new URLSearchParams(Se).get("date")}catch{}let Ne=!1,Je;if(qe&&/^\d{4}-\d{2}-\d{2}$/.test(qe))Je=new Date(qe+"T00:00:00Z"),Ne=!0,S.log(`[EntryForm Init Effect ${oe}] NEW MODE: Date from param: ${qe}. User intent: true.`);else{const We=new Date;Je=new Date(Date.UTC(We.getFullYear(),We.getMonth(),We.getDate())),Ne=!1,S.log(`[EntryForm Init Effect ${oe}] NEW MODE: Date defaulted to today. User intent: false.`)}C(Je),P(Ne),v(null),B.current=!0}}finally{me.current&&X(!1)}})(),le.current=Y,()=>{me.current=!1,U.current&&(U.current.abort(),U.current=null),S.log(`[EntryForm Cleanup] Attempting to revoke ${Ue.current.size} URLs.`),Ue.current.forEach((Q,Se)=>{try{Q&&Q.startsWith("blob:")&&URL.revokeObjectURL(Q)}catch{}}),Ue.current.clear(),Rt.current.clear()}},[e,d,u,g,y,h,b,r,o,s,i,w,Qe]),f.useEffect(()=>{if(S.log("[Shared Files Effect] Running check.",{isEditMode:Re,isAuthenticated:d,isLoadingAuth:u,pendingSharedFiles:l?`${l.length} files`:"null",hasProcessedInitialSharedFiles:K.current,isLoadingData:G,photos:D.length,processingQueue:J.length}),!Re&&d&&!u&&l&&l.length>0&&!K.current&&!G){S.log(`[Shared Files Effect] Processing ${l.length} pending shared files:`,{fileTypes:l.map(de=>de.type),fileSizes:l.map(de=>de.size),fileNames:l.map(de=>de.name)}),P(!1);const Y=[...l];if(c(),K.current=!0,S.log("[Shared Files Effect] Set hasProcessedInitialSharedFiles to true"),typeof URL.createObjectURL!="function"){S.error("[Shared Files Effect] URL.createObjectURL not available, cannot process files"),b({title:"Error",description:"Cannot process shared files.",variant:"destructive"});return}const te=D.length,oe=J.length,se=Uo-te-oe;if(S.log(`[Shared Files Effect] Available slots: ${se} (max: ${Uo}, current: ${te}, queue: ${oe})`),Y.length>se&&(S.warn(`[Shared Files Effect] Too many files (${Y.length}), limiting to ${se}`),b({title:"Too many files",description:`Limit reached. Added first ${se}.`,variant:"destructive"}),Y.splice(se)),Y.length===0){S.warn("[Shared Files Effect] No files to process after adjustments");return}const ie=[],be=[];try{Y.forEach(de=>{if(S.log(`[Shared Files Effect] Processing file: ${de.name}, type: ${de.type}, size: ${de.size}`),!de.type.startsWith("image/"))throw S.error(`[Shared Files Effect] Invalid file type: ${de.type} for file ${de.name}`),new Error(`Invalid file type: ${de.type}`);S.log(`[Shared Files Effect] Creating blob URL for ${de.name}`);const Q=URL.createObjectURL(de);S.log(`[Shared Files Effect] Created blob URL: ${Q}`),ie.push(Q);const Se=crypto.randomUUID();S.log(`[Shared Files Effect] Generated localId: ${Se}`),Ue.current.set(Se,Q),S.log(`[Shared Files Effect] Stored blob URL in originalBlobUrlsRef for localId: ${Se}`),be.push({file:de,previewUrl:Q,localId:Se})}),S.log(`[Shared Files Effect] Created ${be.length} queue items, calling handleFilesSelect`),ce(be.map(de=>de.file),be.map(de=>de.previewUrl))}catch(de){S.error("[Shared Files Effect] Error processing shared files:",de),ie.forEach(URL.revokeObjectURL)}}},[Re,d,u,l,c,b,ce,G,D.length,J.length]),f.useEffect(()=>{if(!Fe||!me.current){S.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:Fe,isMounted:me.current,currentQueueIndex:fe,queueLength:J.length});return}S.log(`[Queue Effect] Processing queue item at index ${fe} of ${J.length}`);const Y=J[fe];if(!Y){S.error(`[Queue Effect] No item found at index ${fe} in queue of length ${J.length}`),J.length>0&&fe!==null&&(S.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Ee(null),ue([]),z&&N(!1));return}S.log(`[Queue Effect] Found item to process: file=${Y.file.name}, localId=${Y.localId}, blob=${Y.previewUrl}`),(async()=>{if(!me.current){S.warn("[Queue Effect] Component unmounted during processing");return}const oe=Y,{file:se,previewUrl:ie,localId:be}=oe;S.log(`[Queue Effect] Processing file: ${se.name}, type: ${se.type}, size: ${se.size}`),S.log(`[Queue Effect] Using blob URL: ${ie}`);let de=null;st.has(be)?(S.log(`[Queue Effect] Using pre-fetched data for ${be}`),de=st.get(be),St(Q=>{const Se=new Map(Q);return Se.delete(be),Se})):S.log(`[Queue Effect] No pre-fetched data available for ${be}, will fetch now`);try{S.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${se.name}`);const{dims:Q,exif:Se}=de??await(async()=>{S.log(`[Queue Effect] Fetching data now for ${se.name}`);const ze=await bf(se),Oe=await Cf(se);return S.log(`[Queue Effect] Got dimensions: ${ze.width}${ze.height} and EXIF data:`,Oe),{dims:ze,exif:Oe}})();if(!me.current){S.warn("[Queue Effect] Component unmounted during data fetch");return}S.log(`[Queue Effect] Calculating initial crop for ${se.name}`);const qe=Math.min(Q.width,Q.height),Ne={x:Math.round((Q.width-qe)/2),y:Math.round((Q.height-qe)/2),w:Math.round(qe),h:Math.round(qe)};S.log(`[Queue Effect] Initial crop calculated: x=${Ne.x}, y=${Ne.y}, w=${Ne.w}, h=${Ne.h}`);const Je={isNew:!0,file:se,originalDimensions:Q,exifData:Se,localPreviewUrl:ie,localId:be};if(S.log(`[Queue Effect] Created newPhotoBase object with localId: ${be}`),S.log(`[Queue Effect] Date Logic check - photos: ${D.length}, initialExifDate: ${H}, isEditMode: ${Re}`),D.length===0&&!H&&!Re){S.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const ze=Se.exifDate;let Oe=!1;if(S.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${E}. Storing initial EXIF date string: ${ze}`),O(ze),ze){S.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${ze}, parsing components`);const[nn,Kt,er]=ze.split("-").map(Number);if(S.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${nn}, month=${Kt}, day=${er}`),!isNaN(nn)&&!isNaN(Kt)&&!isNaN(er)){const Vr=new Date(Date.UTC(nn,Kt-1,er)),Cn=Vr.toISOString().split("T")[0],Ei=x.toISOString().split("T")[0];S.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${Cn}`),E?(S.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Ei} vs EXIF as UTC: ${Cn}`),Oe=Cn!==Ei,S.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${Oe}`)):(S.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${Cn}`),C(Vr),Oe=!1,S.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else S.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${ze}. Setting warning false.`),Oe=!1}else S.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),Oe=!1;S.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${Oe}`),F(Oe)}else S.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");Z(Je),R(null),$(ie),z||N(!0);const We=fe+1;We<J.length&&re(We)}catch(Q){if(S.error(`[Queue Effect] Error processing queue item ${fe}:`,Q),b({title:"Error Processing Photo",description:`Could not process: ${se.name}. ${Q instanceof Error?Q.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ie)}catch{}if(Ue.current.delete(be),me.current){const Se=fe!==null?fe+1:null;Se!==null&&Se<J.length?Ee(Se):(S.log("[Queue Effect] Last item failed. Resetting queue."),Ee(null),ue([]),z&&N(!1))}}})()},[fe,J,st,z,re,D.length,H,Re,x,b,E]),f.useEffect(()=>{if(!Fe||!me.current){S.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:Fe,isMounted:me.current,currentQueueIndex:fe,queueLength:J.length});return}S.log(`[Queue Effect] Processing queue item at index ${fe} of ${J.length}`);const Y=J[fe];if(!Y){S.error(`[Queue Effect] No item found at index ${fe} in queue of length ${J.length}`),J.length>0&&fe!==null&&(S.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Ee(null),ue([]),z&&N(!1));return}S.log(`[Queue Effect] Found item to process: file=${Y.file.name}, localId=${Y.localId}, blob=${Y.previewUrl}`),(async()=>{if(!me.current){S.warn("[Queue Effect] Component unmounted during processing");return}const oe=Y,{file:se,previewUrl:ie,localId:be}=oe;S.log(`[Queue Effect] Processing file: ${se.name}, type: ${se.type}, size: ${se.size}`),S.log(`[Queue Effect] Using blob URL: ${ie}`);let de=null;st.has(be)?(S.log(`[Queue Effect] Using pre-fetched data for ${be}`),de=st.get(be),St(Q=>{const Se=new Map(Q);return Se.delete(be),Se})):S.log(`[Queue Effect] No pre-fetched data available for ${be}, will fetch now`);try{S.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${se.name}`);const{dims:Q,exif:Se}=de??await(async()=>{S.log(`[Queue Effect] Fetching data now for ${se.name}`);const ze=await bf(se),Oe=await Cf(se);return S.log(`[Queue Effect] Got dimensions: ${ze.width}${ze.height} and EXIF data:`,Oe),{dims:ze,exif:Oe}})();if(!me.current){S.warn("[Queue Effect] Component unmounted during data fetch");return}S.log(`[Queue Effect] Calculating initial crop for ${se.name}`);const qe=Math.min(Q.width,Q.height),Ne={x:Math.round((Q.width-qe)/2),y:Math.round((Q.height-qe)/2),w:Math.round(qe),h:Math.round(qe)};S.log(`[Queue Effect] Initial crop calculated: x=${Ne.x}, y=${Ne.y}, w=${Ne.w}, h=${Ne.h}`);const Je={isNew:!0,file:se,originalDimensions:Q,exifData:Se,localPreviewUrl:ie,localId:be};if(S.log(`[Queue Effect] Created newPhotoBase object with localId: ${be}`),S.log(`[Queue Effect] Date Logic check - photos: ${D.length}, initialExifDate: ${H}, isEditMode: ${Re}`),D.length===0&&!H&&!Re){S.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const ze=Se.exifDate;let Oe=!1;if(S.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${E}. Storing initial EXIF date string: ${ze}`),O(ze),ze){S.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${ze}, parsing components`);const[nn,Kt,er]=ze.split("-").map(Number);if(S.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${nn}, month=${Kt}, day=${er}`),!isNaN(nn)&&!isNaN(Kt)&&!isNaN(er)){const Vr=new Date(Date.UTC(nn,Kt-1,er)),Cn=Vr.toISOString().split("T")[0],Ei=x.toISOString().split("T")[0];S.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${Cn}`),E?(S.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Ei} vs EXIF as UTC: ${Cn}`),Oe=Cn!==Ei,S.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${Oe}`)):(S.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${Cn}`),C(Vr),Oe=!1,S.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else S.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${ze}. Setting warning false.`),Oe=!1}else S.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),Oe=!1;S.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${Oe}`),F(Oe)}else S.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");Z(Je),R(null),$(ie),z||N(!0);const We=fe+1;We<J.length&&re(We)}catch(Q){if(S.error(`[Queue Effect] Error processing queue item ${fe}:`,Q),b({title:"Error Processing Photo",description:`Could not process: ${se.name}. ${Q instanceof Error?Q.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ie)}catch{}if(Ue.current.delete(be),me.current){const Se=fe!==null?fe+1:null;Se!==null&&Se<J.length?Ee(Se):(S.log("[Queue Effect] Last item failed. Resetting queue."),Ee(null),ue([]),z&&N(!1))}}})()},[fe,Fe,D.length,st,J,x,Re,H,z,E,moveToNextQueueItem]);const he=f.useCallback(Y=>{if(!me.current)return;if(ge){const oe={...ge,crop:Y};M(se=>[...se,oe]),Z(null)}else L!==null&&M(oe=>oe.map((se,ie)=>ie===L?{...se,crop:Y}:se));R(null);const te=fe!==null?fe+1:null;te!==null&&te<J.length?Ee(te):(Ee(null),ue([]),N(!1)),te!==null&&te<J.length||setTimeout(()=>{var oe;return(oe=lt.current)==null?void 0:oe.focus()},50)},[fe,J.length,ge,L]),Ce=f.useCallback(()=>{if(!me.current)return;if(ge){if(typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ge.localPreviewUrl)}catch{}Ue.current.delete(ge.localId),Z(null)}R(null);const Y=fe!==null?fe+1:null;Y!==null&&Y<J.length?Ee(Y):(Ee(null),ue([]),N(!1)),Y!==null&&Y<J.length||setTimeout(()=>{var te;return(te=lt.current)==null?void 0:te.focus()},50)},[fe,J.length,ge,L]),xe=f.useCallback(Y=>{const te=D[Y];if(!te||Fe||Me){S.warn(`[EntryForm] openCropperForPhoto prevented for index ${Y}.`,{isProcessingQueue:Fe,isBusy:Me});return}const oe=Qr(te)?te.localId:te.photoId,se=Ue.current.get(oe);se?(R(Y),Z(null),$(se),N(!0)):(b({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),S.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${Y}, id ${oe}`))},[D,Fe,Me,b]),Ie=f.useCallback(Y=>{Ze(Y),De(!0)},[]),Be=f.useCallback(()=>{var de;if(je===null)return;const Y=je,te=D[Y];if(!te){S.warn(`[EntryForm] Photo to remove at index ${Y} not found.`),De(!1),Ze(null);return}const oe=Qr(te)?te.localId:te.photoId,se=Y===0;let ie=[];const be=Ue.current.get(oe);if(typeof URL.revokeObjectURL=="function"&&be)try{URL.revokeObjectURL(be)}catch(Q){S.error("Error revoking original URL on remove:",Q)}if(typeof URL.revokeObjectURL=="function"&&te.localPreviewUrl&&te.localPreviewUrl.startsWith("blob:")&&te.localPreviewUrl!==be)try{URL.revokeObjectURL(te.localPreviewUrl)}catch(Q){S.error("Error revoking preview URL on remove:",Q)}if(Ue.current.delete(oe),Rt.current.delete(oe),M(Q=>(ie=Q.filter((Se,qe)=>qe!==Y),ie)),se&&me.current){const Q=ie.length>0?ie[0]:null;let Se=null;if(Q)if(Qr(Q))Se=((de=Q.exifData)==null?void 0:de.exifDate)??null;else{const We=Rt.current.get(Q.photoId);Se=(We==null?void 0:We.exifDate)??null}S.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${Se}`),O(Se);const qe=x.toISOString().split("T")[0];let Ne=!1,Je="";if(Se){const[We,ze,Oe]=Se.split("-").map(Number);!isNaN(We)&&!isNaN(ze)&&!isNaN(Oe)&&(Je=new Date(Date.UTC(We,ze-1,Oe)).toISOString().split("T")[0],Ne=qe!==Je)}S.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${qe} vs New EXIF as UTC: ${Je||"N/A"}. Show warning: ${Ne}`),F(Ne)}De(!1),Ze(null)},[je,D,x]),Ge=f.useCallback(()=>{if(H){S.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${H}.`);const[Y,te,oe]=H.split("-").map(Number);C(new Date(Date.UTC(Y,te-1,oe))),S.log("[EntryForm] handleUseExifDate setting warning to false."),F(!1)}},[H]),Et=f.useCallback(Y=>{try{const te=new Date(Y.target.value+"T00:00:00Z");if(isNaN(te.getTime()))S.warn("[EntryForm] Invalid date input received:",Y.target.value);else{C(te);const oe=te.toISOString().split("T")[0];let se=!1,ie="";if(H){const[be,de,Q]=H.split("-").map(Number);!isNaN(be)&&!isNaN(de)&&!isNaN(Q)&&(ie=new Date(Date.UTC(be,de-1,Q)).toISOString().split("T")[0],se=oe!==ie)}S.log(`[handleDateChange - DATE CHECK 1] Date changed to ${Y.target.value}. Comparing New Form UTC: ${oe} vs Initial EXIF as UTC: ${ie||"N/A"}. Show warning: ${se}`),F(se)}}catch(te){S.error("[EntryForm] Error processing date change:",te)}},[H]),Mt=f.useCallback(async()=>{if(S.log("[EntryForm] handleSave called.",{isBusy:Me,canSave:I}),Me||!I){S.warn("[EntryForm] Save prevented:",{isBusy:Me,canSave:I});return}const te=await n({date:x,content:k,photos:D},m);te&&me.current?Te(!1):te||S.warn("[EntryForm] Save failed (returned false).")},[Me,I,x,k,D,n,m]),_t=f.useCallback(()=>{z?Ce():ye?vt(!0):h("/")},[z,ye,h,Ce]),kt=f.useCallback(()=>{vt(!1),Te(!1),h("/")},[h]),Gt=f.useCallback(Y=>{Y.key==="Enter"&&(Y.metaKey||Y.ctrlKey)&&(Y.preventDefault(),I&&!Me&&Mt())},[I,Me,Mt]);if(u&&!d)return S.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(!d)return S.log("[EntryForm Render] Redirecting (Not Authenticated)..."),p.jsx(fM,{to:"/"});if(G)return S.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})," "]});S.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:z,isEditMode:Re,photoCount:D.length,queueLength:J.length,currentQueueIndex:fe,isLoadingData:G,isBusy:Me,formDateUTC:x.toISOString().split("T")[0],initialExifDate:H,showExifDateMismatchWarning:j,isDateSetByUserIntent:E});const bn=()=>{var Y;if(z&&_){const te=ge??(L!==null?D[L]:null),oe=te&&"crop"in te?te.crop:void 0;let se;if(ge&&ge.originalDimensions)se=ge.originalDimensions;else if(L!==null&&Wk(D[L])){const ie=Rt.current.get(D[L].photoId);ie!=null&&ie.width&&(ie!=null&&ie.height)&&(se={width:ie.width,height:ie.height})}else L!==null&&Qr(D[L])&&(se=D[L].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(U4,{imageUrl:_,onCropComplete:he,onCancel:Ce,initialCropData:oe,initialImageDimensions:se})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(m4,{photos:D,setPhotos:M,isBusy:Me,isLoadingInitial:!1,initialPhotoCount:((Y=m==null?void 0:m.photos)==null?void 0:Y.length)??0,onOpenCropper:xe,onRemovePhoto:Ie,onFilesSelect:ce,originalBlobUrlsRef:Ue,existingPhotoMetaRef:Rt,processingQueueLength:J.length,currentQueueIndex:fe,isProcessingQueueItem:Fe}),D.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(g4,{date:x,onDateChange:Et,showExifWarning:j,initialExifDate:H,onUseExifDate:Ge,isBusy:Me}),p.jsx(y4,{content:k,setContent:A,isBusy:Me,onKeyDown:Gt,textAreaRef:lt})]})]})},Fn=()=>z?`Adjust Photo${J.length>0&&fe!==null?` (${fe+1}/${J.length})`:""}`:Re?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Ke,{variant:"ghost",size:"icon",onClick:_t,disabled:Me&&!z,"aria-label":z?"Cancel Crop":"Go Back",children:[" ",p.jsx(Kb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:Fn()}),p.jsxs(Ke,{variant:"ghost",size:"icon",onClick:_t,disabled:Me&&!z,"aria-label":"Close",children:[" ",p.jsx(Mu,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[bn(),!z&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(v4,{isBusy:Me,isSaving:a,isEditMode:Re,canSave:I,onCancel:_t,onSave:Mt})})]})]}),p.jsx(_0,{open:Pe,onOpenChange:De,onConfirm:Be,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(_0,{open:at,onOpenChange:vt,onConfirm:kt,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function q4(){return S.log("[App] Using hook:",Ih),p.jsx(jM,{client:$M,children:p.jsx(Cj,{children:p.jsxs(qC,{children:[p.jsx(fb,{hook:Ih,children:p.jsxs(dM,{children:[p.jsx(El,{path:"/",component:b4}),p.jsx(El,{path:"/entry/new",children:p.jsx(I0,{})}),p.jsx(El,{path:"/entry/edit/:id",children:e=>p.jsx(I0,{entryId:e.id})}),p.jsx(El,{children:()=>p.jsx(wL,{})})]})}),p.jsx(VI,{})]})})})}tb(document.getElementById("root")).render(p.jsx(Gj,{attribute:"class",children:p.jsx(q4,{})}))});export default W4();
