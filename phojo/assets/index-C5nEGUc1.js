var dy=e=>{throw TypeError(e)};var gD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var cd=(e,t,n)=>t.has(e)||dy("Cannot "+n);var U=(e,t,n)=>(cd(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?dy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),De=(e,t,n,r)=>(cd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ut=(e,t,n)=>(cd(e,t,"access private method"),n);var fl=(e,t,n,r)=>({set _(o){De(e,t,o,n)},get _(){return U(e,t,r)}});var J4=gD((p3,mD)=>{function yD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function pp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q0={exports:{}},uu={},X0={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=Symbol.for("react.element"),vD=Symbol.for("react.portal"),wD=Symbol.for("react.fragment"),xD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),bD=Symbol.for("react.provider"),CD=Symbol.for("react.context"),ED=Symbol.for("react.forward_ref"),PD=Symbol.for("react.suspense"),TD=Symbol.for("react.memo"),kD=Symbol.for("react.lazy"),fy=Symbol.iterator;function DD(e){return e===null||typeof e!="object"?null:(e=fy&&e[fy]||e["@@iterator"],typeof e=="function"?e:null)}var Z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J0=Object.assign,ex={};function vi(e,t,n){this.props=e,this.context=t,this.refs=ex,this.updater=n||Z0}vi.prototype.isReactComponent={};vi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tx(){}tx.prototype=vi.prototype;function mp(e,t,n){this.props=e,this.context=t,this.refs=ex,this.updater=n||Z0}var gp=mp.prototype=new tx;gp.constructor=mp;J0(gp,vi.prototype);gp.isPureReactComponent=!0;var hy=Array.isArray,nx=Object.prototype.hasOwnProperty,yp={current:null},rx={key:!0,ref:!0,__self:!0,__source:!0};function ox(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)nx.call(t,r)&&!rx.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Wa,type:e,key:s,ref:i,props:o,_owner:yp.current}}function AD(e,t){return{$$typeof:Wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wa}function RD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var py=/\/+/g;function ud(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RD(""+e.key):t.toString(36)}function Kl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wa:case vD:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+ud(i,0):r,hy(o)?(n="",e!=null&&(n=e.replace(py,"$&/")+"/"),Kl(o,t,n,"",function(c){return c})):o!=null&&(vp(o)&&(o=AD(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(py,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",hy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+ud(s,a);i+=Kl(s,t,n,l,o)}else if(l=DD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+ud(s,a++),i+=Kl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function hl(e,t,n){if(e==null)return e;var r=[],o=0;return Kl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function MD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},Yl={transition:null},ID={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:yp};function sx(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:hl,forEach:function(e,t,n){hl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hl(e,function(){t++}),t},toArray:function(e){return hl(e,function(t){return t})||[]},only:function(e){if(!vp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=vi;Re.Fragment=wD;Re.Profiler=SD;Re.PureComponent=mp;Re.StrictMode=xD;Re.Suspense=PD;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ID;Re.act=sx;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=yp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)nx.call(t,l)&&!rx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wa,type:e.type,key:o,ref:s,props:r,_owner:i}};Re.createContext=function(e){return e={$$typeof:CD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bD,_context:e},e.Consumer=e};Re.createElement=ox;Re.createFactory=function(e){var t=ox.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:ED,render:e}};Re.isValidElement=vp;Re.lazy=function(e){return{$$typeof:kD,_payload:{_status:-1,_result:e},_init:MD}};Re.memo=function(e,t){return{$$typeof:TD,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Yl.transition;Yl.transition={};try{e()}finally{Yl.transition=t}};Re.unstable_act=sx;Re.useCallback=function(e,t){return nn.current.useCallback(e,t)};Re.useContext=function(e){return nn.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};Re.useEffect=function(e,t){return nn.current.useEffect(e,t)};Re.useId=function(){return nn.current.useId()};Re.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return nn.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};Re.useRef=function(e){return nn.current.useRef(e)};Re.useState=function(e){return nn.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return nn.current.useTransition()};Re.version="18.3.1";X0.exports=Re;var f=X0.exports;const Dt=pp(f),ix=yD({__proto__:null,default:Dt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D=f,ND=Symbol.for("react.element"),LD=Symbol.for("react.fragment"),FD=Object.prototype.hasOwnProperty,jD=_D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OD={key:!0,ref:!0,__self:!0,__source:!0};function ax(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)FD.call(t,r)&&!OD.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ND,type:e,key:s,ref:i,props:o,_owner:jD.current}}uu.Fragment=LD;uu.jsx=ax;uu.jsxs=ax;Q0.exports=uu;var p=Q0.exports,lx={exports:{}},Cn={},cx={exports:{}},ux={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var F=R.length;R.push(I);e:for(;0<F;){var H=F-1>>>1,ee=R[H];if(0<o(ee,I))R[H]=I,R[F]=ee,F=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],F=R.pop();if(F!==I){R[0]=F;e:for(var H=0,ee=R.length,ke=ee>>>1;H<ke;){var de=2*(H+1)-1,tt=R[de],te=de+1,ge=R[te];if(0>o(tt,F))te<ee&&0>o(ge,tt)?(R[H]=ge,R[te]=F,H=te):(R[H]=tt,R[de]=F,H=de);else if(te<ee&&0>o(ge,F))R[H]=ge,R[te]=F,H=te;else break e}}return I}function o(R,I){var F=R.sortIndex-I.sortIndex;return F!==0?F:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,v=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=R)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function C(R){if(x=!1,S(R),!y)if(n(l)!==null)y=!0,N(E);else{var I=n(c);I!==null&&O(C,I.startTime-R)}}function E(R,I){y=!1,x&&(x=!1,m(D),D=-1),v=!0;var F=h;try{for(S(I),u=n(l);u!==null&&(!(u.expirationTime>I)||R&&!L());){var H=u.callback;if(typeof H=="function"){u.callback=null,h=u.priorityLevel;var ee=H(u.expirationTime<=I);I=e.unstable_now(),typeof ee=="function"?u.callback=ee:u===n(l)&&r(l),S(I)}else r(l);u=n(l)}if(u!==null)var ke=!0;else{var de=n(c);de!==null&&O(C,de.startTime-I),ke=!1}return ke}finally{u=null,h=F,v=!1}}var P=!1,k=null,D=-1,A=5,M=-1;function L(){return!(e.unstable_now()-M<A)}function _(){if(k!==null){var R=e.unstable_now();M=R;var I=!0;try{I=k(!0,R)}finally{I?Y():(P=!1,k=null)}}else P=!1}var Y;if(typeof w=="function")Y=function(){w(_)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=_,Y=function(){K.postMessage(null)}}else Y=function(){b(_,0)};function N(R){k=R,P||(P=!0,Y())}function O(R,I){D=b(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,N(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var F=h;h=I;try{return R()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=h;h=R;try{return I()}finally{h=F}},e.unstable_scheduleCallback=function(R,I,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,R={id:d++,callback:I,priorityLevel:R,startTime:F,expirationTime:ee,sortIndex:-1},F>H?(R.sortIndex=F,t(c,R),n(l)===null&&R===n(c)&&(x?(m(D),D=-1):x=!0,O(C,F-H))):(R.sortIndex=ee,t(l,R),y||v||(y=!0,N(E))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var I=h;return function(){var F=h;h=I;try{return R.apply(this,arguments)}finally{h=F}}}})(ux);cx.exports=ux;var $D=cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD=f,Sn=$D;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dx=new Set,ua={};function ls(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(ua[e]=t,e=0;e<t.length;e++)dx.add(t[e])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=Object.prototype.hasOwnProperty,VD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,my={},gy={};function BD(e){return Rf.call(gy,e)?!0:Rf.call(my,e)?!1:VD.test(e)?gy[e]=!0:(my[e]=!0,!1)}function zD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qD(e,t,n,r){if(t===null||typeof t>"u"||zD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wp=/[\-:]([a-z])/g;function xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wp,xp);Ot[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wp,xp);Ot[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wp,xp);Ot[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sp(e,t,n,r){var o=Ot.hasOwnProperty(t)?Ot[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qD(t,n,o,r)&&(n=null),r||o===null?BD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vr=UD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),fx=Symbol.for("react.provider"),hx=Symbol.for("react.context"),Cp=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),px=Symbol.for("react.offscreen"),yy=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=yy&&e[yy]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,dd;function Vi(e){if(dd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dd=t&&t[1]||""}return`
`+dd+e}var fd=!1;function hd(e,t){if(!e||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function WD(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=hd(e.type,!1),e;case 11:return e=hd(e.type.render,!1),e;case 1:return e=hd(e.type,!0),e;default:return""}}function Nf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case ys:return"Portal";case Mf:return"Profiler";case bp:return"StrictMode";case If:return"Suspense";case _f:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hx:return(e.displayName||"Context")+".Consumer";case fx:return(e._context.displayName||"Context")+".Provider";case Cp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ep:return t=e.displayName||null,t!==null?t:Nf(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return Nf(e(t))}catch{}}return null}function HD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(t);case 8:return t===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function So(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GD(e){var t=mx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=GD(e))}function gx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lf(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=So(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yx(e,t){t=t.checked,t!=null&&Sp(e,"checked",t,!1)}function Ff(e,t){yx(e,t);var n=So(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jf(e,t.type,n):t.hasOwnProperty("defaultValue")&&jf(e,t.type,So(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jf(e,t,n){(t!=="number"||gc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bi=Array.isArray;function Fs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+So(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Bi(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:So(n)}}function vx(e,t){var n=So(t.value),r=So(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gl,xx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KD=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(e){KD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yi[t]=Yi[e]})});function Sx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yi.hasOwnProperty(e)&&Yi[e]?(""+t).trim():t+"px"}function bx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Sx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var YD=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(e,t){if(t){if(YD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Vf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=null;function Pp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zf=null,js=null,Os=null;function by(e){if(e=Ka(e)){if(typeof zf!="function")throw Error(W(280));var t=e.stateNode;t&&(t=mu(t),zf(e.stateNode,e.type,t))}}function Cx(e){js?Os?Os.push(e):Os=[e]:js=e}function Ex(){if(js){var e=js,t=Os;if(Os=js=null,by(e),t)for(e=0;e<t.length;e++)by(t[e])}}function Px(e,t){return e(t)}function Tx(){}var pd=!1;function kx(e,t,n){if(pd)return e(t,n);pd=!0;try{return Px(e,t,n)}finally{pd=!1,(js!==null||Os!==null)&&(Tx(),Ex())}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=mu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var qf=!1;if(_r)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{qf=!1}function QD(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Qi=!1,yc=null,vc=!1,Wf=null,XD={onError:function(e){Qi=!0,yc=e}};function ZD(e,t,n,r,o,s,i,a,l){Qi=!1,yc=null,QD.apply(XD,arguments)}function JD(e,t,n,r,o,s,i,a,l){if(ZD.apply(this,arguments),Qi){if(Qi){var c=yc;Qi=!1,yc=null}else throw Error(W(198));vc||(vc=!0,Wf=c)}}function cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cy(e){if(cs(e)!==e)throw Error(W(188))}function eA(e){var t=e.alternate;if(!t){if(t=cs(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Cy(o),e;if(s===r)return Cy(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function Ax(e){return e=eA(e),e!==null?Rx(e):null}function Rx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rx(e);if(t!==null)return t;e=e.sibling}return null}var Mx=Sn.unstable_scheduleCallback,Ey=Sn.unstable_cancelCallback,tA=Sn.unstable_shouldYield,nA=Sn.unstable_requestPaint,Pt=Sn.unstable_now,rA=Sn.unstable_getCurrentPriorityLevel,Tp=Sn.unstable_ImmediatePriority,Ix=Sn.unstable_UserBlockingPriority,wc=Sn.unstable_NormalPriority,oA=Sn.unstable_LowPriority,_x=Sn.unstable_IdlePriority,du=null,dr=null;function sA(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(du,e,void 0,(e.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:lA,iA=Math.log,aA=Math.LN2;function lA(e){return e>>>=0,e===0?32:31-(iA(e)/aA|0)|0}var yl=64,vl=4194304;function zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=zi(a):(s&=i,s!==0&&(r=zi(s)))}else i=n&~o,i!==0?r=zi(i):s!==0&&(r=zi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gn(t),o=1<<n,r|=e[n],t&=~o;return r}function cA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Gn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=cA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Hf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nx(){var e=yl;return yl<<=1,!(yl&4194240)&&(yl=64),e}function md(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ha(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gn(t),e[t]=n}function dA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Gn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function kp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ke=0;function Lx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fx,Dp,jx,Ox,$x,Gf=!1,wl=[],co=null,uo=null,fo=null,ha=new Map,pa=new Map,Jr=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Py(e,t){switch(e){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(t.pointerId)}}function Ai(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ka(t),t!==null&&Dp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hA(e,t,n,r,o){switch(t){case"focusin":return co=Ai(co,e,t,n,r,o),!0;case"dragenter":return uo=Ai(uo,e,t,n,r,o),!0;case"mouseover":return fo=Ai(fo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ha.set(s,Ai(ha.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,pa.set(s,Ai(pa.get(s)||null,e,t,n,r,o)),!0}return!1}function Ux(e){var t=Uo(e.target);if(t!==null){var n=cs(t);if(n!==null){if(t=n.tag,t===13){if(t=Dx(n),t!==null){e.blockedOn=t,$x(e.priority,function(){jx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bf=r,n.target.dispatchEvent(r),Bf=null}else return t=Ka(n),t!==null&&Dp(t),e.blockedOn=n,!1;t.shift()}return!0}function Ty(e,t,n){Ql(e)&&n.delete(t)}function pA(){Gf=!1,co!==null&&Ql(co)&&(co=null),uo!==null&&Ql(uo)&&(uo=null),fo!==null&&Ql(fo)&&(fo=null),ha.forEach(Ty),pa.forEach(Ty)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Gf||(Gf=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,pA)))}function ma(e){function t(o){return Ri(o,e)}if(0<wl.length){Ri(wl[0],e);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(co!==null&&Ri(co,e),uo!==null&&Ri(uo,e),fo!==null&&Ri(fo,e),ha.forEach(t),pa.forEach(t),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)Ux(n),n.blockedOn===null&&Jr.shift()}var $s=Vr.ReactCurrentBatchConfig,Sc=!0;function mA(e,t,n,r){var o=Ke,s=$s.transition;$s.transition=null;try{Ke=1,Ap(e,t,n,r)}finally{Ke=o,$s.transition=s}}function gA(e,t,n,r){var o=Ke,s=$s.transition;$s.transition=null;try{Ke=4,Ap(e,t,n,r)}finally{Ke=o,$s.transition=s}}function Ap(e,t,n,r){if(Sc){var o=Kf(e,t,n,r);if(o===null)Pd(e,t,r,bc,n),Py(e,r);else if(hA(o,e,t,n,r))r.stopPropagation();else if(Py(e,r),t&4&&-1<fA.indexOf(e)){for(;o!==null;){var s=Ka(o);if(s!==null&&Fx(s),s=Kf(e,t,n,r),s===null&&Pd(e,t,r,bc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Pd(e,t,r,null,n)}}var bc=null;function Kf(e,t,n,r){if(bc=null,e=Pp(r),e=Uo(e),e!==null)if(t=cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bc=e,null}function Vx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rA()){case Tp:return 1;case Ix:return 4;case wc:case oA:return 16;case _x:return 536870912;default:return 16}default:return 16}}var io=null,Rp=null,Xl=null;function Bx(){if(Xl)return Xl;var e,t=Rp,n=t.length,r,o="value"in io?io.value:io.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Xl=o.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function ky(){return!1}function En(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xl:ky,this.isPropagationStopped=ky,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=En(wi),Ga=gt({},wi,{view:0,detail:0}),yA=En(Ga),gd,yd,Mi,fu=gt({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(gd=e.screenX-Mi.screenX,yd=e.screenY-Mi.screenY):yd=gd=0,Mi=e),gd)},movementY:function(e){return"movementY"in e?e.movementY:yd}}),Dy=En(fu),vA=gt({},fu,{dataTransfer:0}),wA=En(vA),xA=gt({},Ga,{relatedTarget:0}),vd=En(xA),SA=gt({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=En(SA),CA=gt({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EA=En(CA),PA=gt({},wi,{data:0}),Ay=En(PA),TA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DA[e])?!!t[e]:!1}function Ip(){return AA}var RA=gt({},Ga,{key:function(e){if(e.key){var t=TA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MA=En(RA),IA=gt({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ry=En(IA),_A=gt({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),NA=En(_A),LA=gt({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=En(LA),jA=gt({},fu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OA=En(jA),$A=[9,13,27,32],_p=_r&&"CompositionEvent"in window,Xi=null;_r&&"documentMode"in document&&(Xi=document.documentMode);var UA=_r&&"TextEvent"in window&&!Xi,zx=_r&&(!_p||Xi&&8<Xi&&11>=Xi),My=" ",Iy=!1;function qx(e,t){switch(e){case"keyup":return $A.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function VA(e,t){switch(e){case"compositionend":return Wx(t);case"keypress":return t.which!==32?null:(Iy=!0,My);case"textInput":return e=t.data,e===My&&Iy?null:e;default:return null}}function BA(e,t){if(ws)return e==="compositionend"||!_p&&qx(e,t)?(e=Bx(),Xl=Rp=io=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zx&&t.locale!=="ko"?null:t.data;default:return null}}var zA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zA[e.type]:t==="textarea"}function Hx(e,t,n,r){Cx(r),t=Cc(t,"onChange"),0<t.length&&(n=new Mp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zi=null,ga=null;function qA(e){rS(e,0)}function hu(e){var t=bs(e);if(gx(t))return e}function WA(e,t){if(e==="change")return t}var Gx=!1;if(_r){var wd;if(_r){var xd="oninput"in document;if(!xd){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),xd=typeof Ny.oninput=="function"}wd=xd}else wd=!1;Gx=wd&&(!document.documentMode||9<document.documentMode)}function Ly(){Zi&&(Zi.detachEvent("onpropertychange",Kx),ga=Zi=null)}function Kx(e){if(e.propertyName==="value"&&hu(ga)){var t=[];Hx(t,ga,e,Pp(e)),kx(qA,t)}}function HA(e,t,n){e==="focusin"?(Ly(),Zi=t,ga=n,Zi.attachEvent("onpropertychange",Kx)):e==="focusout"&&Ly()}function GA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(ga)}function KA(e,t){if(e==="click")return hu(t)}function YA(e,t){if(e==="input"||e==="change")return hu(t)}function QA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:QA;function ya(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Rf.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Fy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jy(e,t){var n=Fy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function Yx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qx(){for(var e=window,t=gc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gc(e.document)}return t}function Np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XA(e){var t=Qx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yx(n.ownerDocument.documentElement,n)){if(r!==null&&Np(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=jy(n,s);var i=jy(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZA=_r&&"documentMode"in document&&11>=document.documentMode,xs=null,Yf=null,Ji=null,Qf=!1;function Oy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||xs==null||xs!==gc(r)||(r=xs,"selectionStart"in r&&Np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ji&&ya(Ji,r)||(Ji=r,r=Cc(Yf,"onSelect"),0<r.length&&(t=new Mp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xs)))}function Sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},Sd={},Xx={};_r&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function pu(e){if(Sd[e])return Sd[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xx)return Sd[e]=t[n];return e}var Zx=pu("animationend"),Jx=pu("animationiteration"),eS=pu("animationstart"),tS=pu("transitionend"),nS=new Map,$y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(e,t){nS.set(e,t),ls(t,[e])}for(var bd=0;bd<$y.length;bd++){var Cd=$y[bd],JA=Cd.toLowerCase(),eR=Cd[0].toUpperCase()+Cd.slice(1);Do(JA,"on"+eR)}Do(Zx,"onAnimationEnd");Do(Jx,"onAnimationIteration");Do(eS,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(tS,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Uy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JD(r,t,void 0,e),e.currentTarget=null}function rS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Uy(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Uy(o,a,c),s=l}}}if(vc)throw e=Wf,vc=!1,Wf=null,e}function rt(e,t){var n=t[th];n===void 0&&(n=t[th]=new Set);var r=e+"__bubble";n.has(r)||(oS(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),oS(n,e,r,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function va(e){if(!e[bl]){e[bl]=!0,dx.forEach(function(n){n!=="selectionchange"&&(tR.has(n)||Ed(n,!1,e),Ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,Ed("selectionchange",!1,t))}}function oS(e,t,n,r){switch(Vx(t)){case 1:var o=mA;break;case 4:o=gA;break;default:o=Ap}n=o.bind(null,t,n,e),o=void 0,!qf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Pd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Uo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}kx(function(){var c=s,d=Pp(n),u=[];e:{var h=nS.get(e);if(h!==void 0){var v=Mp,y=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":v=MA;break;case"focusin":y="focus",v=vd;break;case"focusout":y="blur",v=vd;break;case"beforeblur":case"afterblur":v=vd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=NA;break;case Zx:case Jx:case eS:v=bA;break;case tS:v=FA;break;case"scroll":v=yA;break;case"wheel":v=OA;break;case"copy":case"cut":case"paste":v=EA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ry}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,m!==null&&(C=fa(w,m),C!=null&&x.push(wa(w,C,S)))),b)break;w=w.return}0<x.length&&(h=new v(h,y,null,n,d),u.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Bf&&(y=n.relatedTarget||n.fromElement)&&(Uo(y)||y[Nr]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Uo(y):null,y!==null&&(b=cs(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(x=Dy,C="onMouseLeave",m="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ry,C="onPointerLeave",m="onPointerEnter",w="pointer"),b=v==null?h:bs(v),S=y==null?h:bs(y),h=new x(C,w+"leave",v,n,d),h.target=b,h.relatedTarget=S,C=null,Uo(d)===c&&(x=new x(m,w+"enter",y,n,d),x.target=S,x.relatedTarget=b,C=x),b=C,v&&y)t:{for(x=v,m=y,w=0,S=x;S;S=hs(S))w++;for(S=0,C=m;C;C=hs(C))S++;for(;0<w-S;)x=hs(x),w--;for(;0<S-w;)m=hs(m),S--;for(;w--;){if(x===m||m!==null&&x===m.alternate)break t;x=hs(x),m=hs(m)}x=null}else x=null;v!==null&&Vy(u,h,v,x,!1),y!==null&&b!==null&&Vy(u,b,y,x,!0)}}e:{if(h=c?bs(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=WA;else if(_y(h))if(Gx)E=YA;else{E=GA;var P=HA}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=KA);if(E&&(E=E(e,c))){Hx(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&jf(h,"number",h.value)}switch(P=c?bs(c):window,e){case"focusin":(_y(P)||P.contentEditable==="true")&&(xs=P,Yf=c,Ji=null);break;case"focusout":Ji=Yf=xs=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Oy(u,n,d);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":Oy(u,n,d)}var k;if(_p)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ws?qx(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(zx&&n.locale!=="ko"&&(ws||D!=="onCompositionStart"?D==="onCompositionEnd"&&ws&&(k=Bx()):(io=d,Rp="value"in io?io.value:io.textContent,ws=!0)),P=Cc(c,D),0<P.length&&(D=new Ay(D,e,null,n,d),u.push({event:D,listeners:P}),k?D.data=k:(k=Wx(n),k!==null&&(D.data=k)))),(k=UA?VA(e,n):BA(e,n))&&(c=Cc(c,"onBeforeInput"),0<c.length&&(d=new Ay("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=k))}rS(u,t)})}function wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=fa(e,n),s!=null&&r.unshift(wa(e,s,o)),s=fa(e,t),s!=null&&r.push(wa(e,s,o))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vy(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=fa(n,s),l!=null&&i.unshift(wa(n,l,a))):o||(l=fa(n,s),l!=null&&i.push(wa(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var nR=/\r\n?/g,rR=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(nR,`
`).replace(rR,"")}function Cl(e,t,n){if(t=By(t),By(e)!==t&&n)throw Error(W(425))}function Ec(){}var Xf=null,Zf=null;function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(iR)}:eh;function iR(e){setTimeout(function(){throw e})}function Td(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ma(t)}function ho(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),lr="__reactFiber$"+xi,xa="__reactProps$"+xi,Nr="__reactContainer$"+xi,th="__reactEvents$"+xi,aR="__reactListeners$"+xi,lR="__reactHandles$"+xi;function Uo(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qy(e);e!==null;){if(n=e[lr])return n;e=qy(e)}return t}e=n,n=e.parentNode}return null}function Ka(e){return e=e[lr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function mu(e){return e[xa]||null}var nh=[],Cs=-1;function Ao(e){return{current:e}}function ot(e){0>Cs||(e.current=nh[Cs],nh[Cs]=null,Cs--)}function et(e,t){Cs++,nh[Cs]=e.current,e.current=t}var bo={},Yt=Ao(bo),un=Ao(!1),Jo=bo;function oi(e,t){var n=e.type.contextTypes;if(!n)return bo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function dn(e){return e=e.childContextTypes,e!=null}function Pc(){ot(un),ot(Yt)}function Wy(e,t,n){if(Yt.current!==bo)throw Error(W(168));et(Yt,t),et(un,n)}function sS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,HD(e)||"Unknown",o));return gt({},n,r)}function Tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,Jo=Yt.current,et(Yt,e),et(un,un.current),!0}function Hy(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=sS(e,t,Jo),r.__reactInternalMemoizedMergedChildContext=e,ot(un),ot(Yt),et(Yt,e)):ot(un),et(un,n)}var Tr=null,gu=!1,kd=!1;function iS(e){Tr===null?Tr=[e]:Tr.push(e)}function cR(e){gu=!0,iS(e)}function Ro(){if(!kd&&Tr!==null){kd=!0;var e=0,t=Ke;try{var n=Tr;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tr=null,gu=!1}catch(o){throw Tr!==null&&(Tr=Tr.slice(e+1)),Mx(Tp,Ro),o}finally{Ke=t,kd=!1}}return null}var Es=[],Ps=0,kc=null,Dc=0,An=[],Rn=0,es=null,kr=1,Dr="";function Fo(e,t){Es[Ps++]=Dc,Es[Ps++]=kc,kc=e,Dc=t}function aS(e,t,n){An[Rn++]=kr,An[Rn++]=Dr,An[Rn++]=es,es=e;var r=kr;e=Dr;var o=32-Gn(r)-1;r&=~(1<<o),n+=1;var s=32-Gn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,kr=1<<32-Gn(t)+o|n<<o|r,Dr=s+e}else kr=1<<s|n<<o|r,Dr=e}function Lp(e){e.return!==null&&(Fo(e,1),aS(e,1,0))}function Fp(e){for(;e===kc;)kc=Es[--Ps],Es[Ps]=null,Dc=Es[--Ps],Es[Ps]=null;for(;e===es;)es=An[--Rn],An[Rn]=null,Dr=An[--Rn],An[Rn]=null,kr=An[--Rn],An[Rn]=null}var wn=null,vn=null,it=!1,Hn=null;function lS(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,vn=ho(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=es!==null?{id:kr,overflow:Dr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,vn=null,!0):!1;default:return!1}}function rh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oh(e){if(it){var t=vn;if(t){var n=t;if(!Gy(e,t)){if(rh(e))throw Error(W(418));t=ho(n.nextSibling);var r=wn;t&&Gy(e,t)?lS(r,n):(e.flags=e.flags&-4097|2,it=!1,wn=e)}}else{if(rh(e))throw Error(W(418));e.flags=e.flags&-4097|2,it=!1,wn=e}}}function Ky(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function El(e){if(e!==wn)return!1;if(!it)return Ky(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jf(e.type,e.memoizedProps)),t&&(t=vn)){if(rh(e))throw cS(),Error(W(418));for(;t;)lS(e,t),t=ho(t.nextSibling)}if(Ky(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=ho(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=wn?ho(e.stateNode.nextSibling):null;return!0}function cS(){for(var e=vn;e;)e=ho(e.nextSibling)}function si(){vn=wn=null,it=!1}function jp(e){Hn===null?Hn=[e]:Hn.push(e)}var uR=Vr.ReactCurrentBatchConfig;function Ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Pl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yy(e){var t=e._init;return t(e._payload)}function uS(e){function t(m,w){if(e){var S=m.deletions;S===null?(m.deletions=[w],m.flags|=16):S.push(w)}}function n(m,w){if(!e)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function o(m,w){return m=yo(m,w),m.index=0,m.sibling=null,m}function s(m,w,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<w?(m.flags|=2,w):S):(m.flags|=2,w)):(m.flags|=1048576,w)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,w,S,C){return w===null||w.tag!==6?(w=Nd(S,m.mode,C),w.return=m,w):(w=o(w,S),w.return=m,w)}function l(m,w,S,C){var E=S.type;return E===vs?d(m,w,S.props.children,C,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Xr&&Yy(E)===w.type)?(C=o(w,S.props),C.ref=Ii(m,w,S),C.return=m,C):(C=sc(S.type,S.key,S.props,null,m.mode,C),C.ref=Ii(m,w,S),C.return=m,C)}function c(m,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ld(S,m.mode,C),w.return=m,w):(w=o(w,S.children||[]),w.return=m,w)}function d(m,w,S,C,E){return w===null||w.tag!==7?(w=Yo(S,m.mode,C,E),w.return=m,w):(w=o(w,S),w.return=m,w)}function u(m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Nd(""+w,m.mode,S),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:return S=sc(w.type,w.key,w.props,null,m.mode,S),S.ref=Ii(m,null,w),S.return=m,S;case ys:return w=Ld(w,m.mode,S),w.return=m,w;case Xr:var C=w._init;return u(m,C(w._payload),S)}if(Bi(w)||ki(w))return w=Yo(w,m.mode,S,null),w.return=m,w;Pl(m,w)}return null}function h(m,w,S,C){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(m,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pl:return S.key===E?l(m,w,S,C):null;case ys:return S.key===E?c(m,w,S,C):null;case Xr:return E=S._init,h(m,w,E(S._payload),C)}if(Bi(S)||ki(S))return E!==null?null:d(m,w,S,C,null);Pl(m,S)}return null}function v(m,w,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(S)||null,a(w,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pl:return m=m.get(C.key===null?S:C.key)||null,l(w,m,C,E);case ys:return m=m.get(C.key===null?S:C.key)||null,c(w,m,C,E);case Xr:var P=C._init;return v(m,w,S,P(C._payload),E)}if(Bi(C)||ki(C))return m=m.get(S)||null,d(w,m,C,E,null);Pl(w,C)}return null}function y(m,w,S,C){for(var E=null,P=null,k=w,D=w=0,A=null;k!==null&&D<S.length;D++){k.index>D?(A=k,k=null):A=k.sibling;var M=h(m,k,S[D],C);if(M===null){k===null&&(k=A);break}e&&k&&M.alternate===null&&t(m,k),w=s(M,w,D),P===null?E=M:P.sibling=M,P=M,k=A}if(D===S.length)return n(m,k),it&&Fo(m,D),E;if(k===null){for(;D<S.length;D++)k=u(m,S[D],C),k!==null&&(w=s(k,w,D),P===null?E=k:P.sibling=k,P=k);return it&&Fo(m,D),E}for(k=r(m,k);D<S.length;D++)A=v(k,m,D,S[D],C),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?D:A.key),w=s(A,w,D),P===null?E=A:P.sibling=A,P=A);return e&&k.forEach(function(L){return t(m,L)}),it&&Fo(m,D),E}function x(m,w,S,C){var E=ki(S);if(typeof E!="function")throw Error(W(150));if(S=E.call(S),S==null)throw Error(W(151));for(var P=E=null,k=w,D=w=0,A=null,M=S.next();k!==null&&!M.done;D++,M=S.next()){k.index>D?(A=k,k=null):A=k.sibling;var L=h(m,k,M.value,C);if(L===null){k===null&&(k=A);break}e&&k&&L.alternate===null&&t(m,k),w=s(L,w,D),P===null?E=L:P.sibling=L,P=L,k=A}if(M.done)return n(m,k),it&&Fo(m,D),E;if(k===null){for(;!M.done;D++,M=S.next())M=u(m,M.value,C),M!==null&&(w=s(M,w,D),P===null?E=M:P.sibling=M,P=M);return it&&Fo(m,D),E}for(k=r(m,k);!M.done;D++,M=S.next())M=v(k,m,D,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?D:M.key),w=s(M,w,D),P===null?E=M:P.sibling=M,P=M);return e&&k.forEach(function(_){return t(m,_)}),it&&Fo(m,D),E}function b(m,w,S,C){if(typeof S=="object"&&S!==null&&S.type===vs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case pl:e:{for(var E=S.key,P=w;P!==null;){if(P.key===E){if(E=S.type,E===vs){if(P.tag===7){n(m,P.sibling),w=o(P,S.props.children),w.return=m,m=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Xr&&Yy(E)===P.type){n(m,P.sibling),w=o(P,S.props),w.ref=Ii(m,P,S),w.return=m,m=w;break e}n(m,P);break}else t(m,P);P=P.sibling}S.type===vs?(w=Yo(S.props.children,m.mode,C,S.key),w.return=m,m=w):(C=sc(S.type,S.key,S.props,null,m.mode,C),C.ref=Ii(m,w,S),C.return=m,m=C)}return i(m);case ys:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(m,w.sibling),w=o(w,S.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else t(m,w);w=w.sibling}w=Ld(S,m.mode,C),w.return=m,m=w}return i(m);case Xr:return P=S._init,b(m,w,P(S._payload),C)}if(Bi(S))return y(m,w,S,C);if(ki(S))return x(m,w,S,C);Pl(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(m,w.sibling),w=o(w,S),w.return=m,m=w):(n(m,w),w=Nd(S,m.mode,C),w.return=m,m=w),i(m)):n(m,w)}return b}var ii=uS(!0),dS=uS(!1),Ac=Ao(null),Rc=null,Ts=null,Op=null;function $p(){Op=Ts=Rc=null}function Up(e){var t=Ac.current;ot(Ac),e._currentValue=t}function sh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Rc=e,Op=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(Op!==e)if(e={context:e,memoizedValue:t,next:null},Ts===null){if(Rc===null)throw Error(W(308));Ts=e,Rc.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Vo=null;function Vp(e){Vo===null?Vo=[e]:Vo.push(e)}function fS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Vp(t)):(n.next=o.next,o.next=n),t.interleaved=n,Lr(e,r)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Bp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Lr(e,n)}return o=r.interleaved,o===null?(t.next=t,Vp(r)):(t.next=o.next,o.next=t),r.interleaved=t,Lr(e,n)}function Jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kp(e,n)}}function Qy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mc(e,t,n,r){var o=e.updateQueue;Zr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(h=t,v=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){u=y.call(v,u,h);break e}u=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(v,u,h):y,h==null)break e;u=gt({},u,h);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=u):d=d.next=v,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ns|=i,e.lanes=i,e.memoizedState=u}}function Xy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Ya={},fr=Ao(Ya),Sa=Ao(Ya),ba=Ao(Ya);function Bo(e){if(e===Ya)throw Error(W(174));return e}function zp(e,t){switch(et(ba,t),et(Sa,e),et(fr,Ya),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$f(t,e)}ot(fr),et(fr,t)}function ai(){ot(fr),ot(Sa),ot(ba)}function pS(e){Bo(ba.current);var t=Bo(fr.current),n=$f(t,e.type);t!==n&&(et(Sa,e),et(fr,n))}function qp(e){Sa.current===e&&(ot(fr),ot(Sa))}var dt=Ao(0);function Ic(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dd=[];function Wp(){for(var e=0;e<Dd.length;e++)Dd[e]._workInProgressVersionPrimary=null;Dd.length=0}var ec=Vr.ReactCurrentDispatcher,Ad=Vr.ReactCurrentBatchConfig,ts=0,mt=null,Rt=null,It=null,_c=!1,ea=!1,Ca=0,dR=0;function Vt(){throw Error(W(321))}function Hp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Gp(e,t,n,r,o,s){if(ts=s,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ec.current=e===null||e.memoizedState===null?mR:gR,e=n(r,o),ea){s=0;do{if(ea=!1,Ca=0,25<=s)throw Error(W(301));s+=1,It=Rt=null,t.updateQueue=null,ec.current=yR,e=n(r,o)}while(ea)}if(ec.current=Nc,t=Rt!==null&&Rt.next!==null,ts=0,It=Rt=mt=null,_c=!1,t)throw Error(W(300));return e}function Kp(){var e=Ca!==0;return Ca=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?mt.memoizedState=It=e:It=It.next=e,It}function Ln(){if(Rt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=It===null?mt.memoizedState:It.next;if(t!==null)It=t,Rt=e;else{if(e===null)throw Error(W(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},It===null?mt.memoizedState=It=e:It=It.next=e}return It}function Ea(e,t){return typeof t=="function"?t(e):t}function Rd(e){var t=Ln(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Rt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((ts&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,mt.lanes|=d,ns|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Qn(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,mt.lanes|=s,ns|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Md(e){var t=Ln(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Qn(s,t.memoizedState)||(cn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function mS(){}function gS(e,t){var n=mt,r=Ln(),o=t(),s=!Qn(r.memoizedState,o);if(s&&(r.memoizedState=o,cn=!0),r=r.queue,Yp(wS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Pa(9,vS.bind(null,n,r,o,t),void 0,null),_t===null)throw Error(W(349));ts&30||yS(n,t,o)}return o}function yS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vS(e,t,n,r){t.value=n,t.getSnapshot=r,xS(t)&&SS(e)}function wS(e,t,n){return n(function(){xS(t)&&SS(e)})}function xS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch{return!0}}function SS(e){var t=Lr(e,1);t!==null&&Kn(t,e,1,-1)}function Zy(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=pR.bind(null,mt,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bS(){return Ln().memoizedState}function tc(e,t,n,r){var o=rr();mt.flags|=e,o.memoizedState=Pa(1|t,n,void 0,r===void 0?null:r)}function yu(e,t,n,r){var o=Ln();r=r===void 0?null:r;var s=void 0;if(Rt!==null){var i=Rt.memoizedState;if(s=i.destroy,r!==null&&Hp(r,i.deps)){o.memoizedState=Pa(t,n,s,r);return}}mt.flags|=e,o.memoizedState=Pa(1|t,n,s,r)}function Jy(e,t){return tc(8390656,8,e,t)}function Yp(e,t){return yu(2048,8,e,t)}function CS(e,t){return yu(4,2,e,t)}function ES(e,t){return yu(4,4,e,t)}function PS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TS(e,t,n){return n=n!=null?n.concat([e]):null,yu(4,4,PS.bind(null,t,e),n)}function Qp(){}function kS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AS(e,t,n){return ts&21?(Qn(n,t)||(n=Nx(),mt.lanes|=n,ns|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function fR(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=Ad.transition;Ad.transition={};try{e(!1),t()}finally{Ke=n,Ad.transition=r}}function RS(){return Ln().memoizedState}function hR(e,t,n){var r=go(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MS(e))IS(t,n);else if(n=fS(e,t,n,r),n!==null){var o=tn();Kn(n,e,r,o),_S(n,t,r)}}function pR(e,t,n){var r=go(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MS(e))IS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Qn(a,i)){var l=t.interleaved;l===null?(o.next=o,Vp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=fS(e,t,o,r),n!==null&&(o=tn(),Kn(n,e,r,o),_S(n,t,r))}}function MS(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function IS(e,t){ea=_c=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _S(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kp(e,n)}}var Nc={readContext:Nn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},mR={readContext:Nn,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Jy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tc(4194308,4,PS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return tc(4,2,e,t)},useMemo:function(e,t){var n=rr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hR.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:Zy,useDebugValue:Qp,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=Zy(!1),t=e[0];return e=fR.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,o=rr();if(it){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),_t===null)throw Error(W(349));ts&30||yS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Jy(wS.bind(null,r,s,e),[e]),r.flags|=2048,Pa(9,vS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=rr(),t=_t.identifierPrefix;if(it){var n=Dr,r=kr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ca++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gR={readContext:Nn,useCallback:kS,useContext:Nn,useEffect:Yp,useImperativeHandle:TS,useInsertionEffect:CS,useLayoutEffect:ES,useMemo:DS,useReducer:Rd,useRef:bS,useState:function(){return Rd(Ea)},useDebugValue:Qp,useDeferredValue:function(e){var t=Ln();return AS(t,Rt.memoizedState,e)},useTransition:function(){var e=Rd(Ea)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:mS,useSyncExternalStore:gS,useId:RS,unstable_isNewReconciler:!1},yR={readContext:Nn,useCallback:kS,useContext:Nn,useEffect:Yp,useImperativeHandle:TS,useInsertionEffect:CS,useLayoutEffect:ES,useMemo:DS,useReducer:Md,useRef:bS,useState:function(){return Md(Ea)},useDebugValue:Qp,useDeferredValue:function(e){var t=Ln();return Rt===null?t.memoizedState=e:AS(t,Rt.memoizedState,e)},useTransition:function(){var e=Md(Ea)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:mS,useSyncExternalStore:gS,useId:RS,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ih(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vu={isMounted:function(e){return(e=e._reactInternals)?cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tn(),o=go(e),s=Rr(r,o);s.payload=t,n!=null&&(s.callback=n),t=po(e,s,o),t!==null&&(Kn(t,e,o,r),Jl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tn(),o=go(e),s=Rr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=po(e,s,o),t!==null&&(Kn(t,e,o,r),Jl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),r=go(e),o=Rr(n,r);o.tag=2,t!=null&&(o.callback=t),t=po(e,o,r),t!==null&&(Kn(t,e,r,n),Jl(t,e,r))}};function ev(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ya(n,r)||!ya(o,s):!0}function NS(e,t,n){var r=!1,o=bo,s=t.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(o=dn(t)?Jo:Yt.current,r=t.contextTypes,s=(r=r!=null)?oi(e,o):bo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function tv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function ah(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Bp(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Nn(s):(s=dn(t)?Jo:Yt.current,o.context=oi(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ih(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vu.enqueueReplaceState(o,o.state,null),Mc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t){try{var n="",r=t;do n+=WD(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Id(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function lh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vR=typeof WeakMap=="function"?WeakMap:Map;function LS(e,t,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fc||(Fc=!0,vh=r),lh(e,t)},n}function FS(e,t,n){n=Rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){lh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lh(e,t),typeof r!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function nv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=IR.bind(null,e,t,n),t.then(e,e))}function rv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ov(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rr(-1,1),t.tag=2,po(n,t,1))),n.lanes|=1),e)}var wR=Vr.ReactCurrentOwner,cn=!1;function Jt(e,t,n,r){t.child=e===null?dS(t,null,n,r):ii(t,e.child,n,r)}function sv(e,t,n,r,o){n=n.render;var s=t.ref;return Us(t,o),r=Gp(e,t,n,r,s,o),n=Kp(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fr(e,t,o)):(it&&n&&Lp(t),t.flags|=1,Jt(e,t,r,o),t.child)}function iv(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!om(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jS(e,t,s,r,o)):(e=sc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(i,r)&&e.ref===t.ref)return Fr(e,t,o)}return t.flags|=1,e=yo(s,r),e.ref=t.ref,e.return=t,t.child=e}function jS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ya(s,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,Fr(e,t,o)}return ch(e,t,n,r,o)}function OS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ds,gn),gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Ds,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(Ds,gn),gn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,et(Ds,gn),gn|=r;return Jt(e,t,o,n),t.child}function $S(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ch(e,t,n,r,o){var s=dn(n)?Jo:Yt.current;return s=oi(t,s),Us(t,o),n=Gp(e,t,n,r,s,o),r=Kp(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fr(e,t,o)):(it&&r&&Lp(t),t.flags|=1,Jt(e,t,n,o),t.child)}function av(e,t,n,r,o){if(dn(n)){var s=!0;Tc(t)}else s=!1;if(Us(t,o),t.stateNode===null)nc(e,t),NS(t,n,r),ah(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=dn(n)?Jo:Yt.current,c=oi(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tv(t,i,r,c),Zr=!1;var h=t.memoizedState;i.state=h,Mc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||un.current||Zr?(typeof d=="function"&&(ih(t,n,d,r),l=t.memoizedState),(a=Zr||ev(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,hS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Bn(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=dn(n)?Jo:Yt.current,l=oi(t,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&tv(t,i,r,l),Zr=!1,h=t.memoizedState,i.state=h,Mc(t,r,i,o);var y=t.memoizedState;a!==u||h!==y||un.current||Zr?(typeof v=="function"&&(ih(t,n,v,r),y=t.memoizedState),(c=Zr||ev(t,n,c,r,h,y,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return uh(e,t,n,r,s,o)}function uh(e,t,n,r,o,s){$S(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Hy(t,n,!1),Fr(e,t,s);r=t.stateNode,wR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ii(t,e.child,null,s),t.child=ii(t,null,a,s)):Jt(e,t,a,s),t.memoizedState=r.state,o&&Hy(t,n,!0),t.child}function US(e){var t=e.stateNode;t.pendingContext?Wy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wy(e,t.context,!1),zp(e,t.containerInfo)}function lv(e,t,n,r,o){return si(),jp(o),t.flags|=256,Jt(e,t,n,r),t.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function VS(e,t,n){var r=t.pendingProps,o=dt.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),et(dt,o&1),e===null)return oh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Su(i,r,0,null),e=Yo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fh(n),t.memoizedState=dh,e):Xp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return xR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=yo(a,s):(s=Yo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?fh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=dh,r}return s=e.child,e=s.sibling,r=yo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xp(e,t){return t=Su({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,n,r){return r!==null&&jp(r),ii(t,e.child,null,n),e=Xp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Id(Error(W(422))),Tl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Su({mode:"visible",children:r.children},o,0,null),s=Yo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ii(t,e.child,null,i),t.child.memoizedState=fh(i),t.memoizedState=dh,s);if(!(t.mode&1))return Tl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Id(s,r,void 0),Tl(e,t,i,r)}if(a=(i&e.childLanes)!==0,cn||a){if(r=_t,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Lr(e,o),Kn(r,e,o,-1))}return rm(),r=Id(Error(W(421))),Tl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=_R.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,vn=ho(o.nextSibling),wn=t,it=!0,Hn=null,e!==null&&(An[Rn++]=kr,An[Rn++]=Dr,An[Rn++]=es,kr=e.id,Dr=e.overflow,es=t),t=Xp(t,r.children),t.flags|=4096,t)}function cv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sh(e.return,t,n)}function _d(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function BS(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Jt(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cv(e,n,t);else if(e.tag===19)cv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(dt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ic(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),_d(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ic(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}_d(t,!0,n,null,s);break;case"together":_d(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=yo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SR(e,t,n){switch(t.tag){case 3:US(t),si();break;case 5:pS(t);break;case 1:dn(t.type)&&Tc(t);break;case 4:zp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;et(Ac,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?VS(e,t,n):(et(dt,dt.current&1),e=Fr(e,t,n),e!==null?e.sibling:null);et(dt,dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return BS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),et(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,OS(e,t,n)}return Fr(e,t,n)}var zS,hh,qS,WS;zS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hh=function(){};qS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bo(fr.current);var s=null;switch(n){case"input":o=Lf(e,o),r=Lf(e,r),s=[];break;case"select":o=gt({},o,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":o=Of(e,o),r=Of(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ec)}Uf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ua.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ua.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};WS=function(e,t,n,r){n!==r&&(t.flags|=4)};function _i(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bR(e,t,n){var r=t.pendingProps;switch(Fp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return dn(t.type)&&Pc(),Bt(t),null;case 3:return r=t.stateNode,ai(),ot(un),ot(Yt),Wp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(El(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(Sh(Hn),Hn=null))),hh(e,t),Bt(t),null;case 5:qp(t);var o=Bo(ba.current);if(n=t.type,e!==null&&t.stateNode!=null)qS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Bt(t),null}if(e=Bo(fr.current),El(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[lr]=t,r[xa]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(o=0;o<qi.length;o++)rt(qi[o],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":vy(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":xy(r,s),rt("invalid",r)}Uf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cl(r.textContent,a,e),o=["children",""+a]):ua.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&rt("scroll",r)}switch(n){case"input":ml(r),wy(r,s,!0);break;case"textarea":ml(r),Sy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ec)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[lr]=t,e[xa]=r,zS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vf(n,r),n){case"dialog":rt("cancel",e),rt("close",e),o=r;break;case"iframe":case"object":case"embed":rt("load",e),o=r;break;case"video":case"audio":for(o=0;o<qi.length;o++)rt(qi[o],e);o=r;break;case"source":rt("error",e),o=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),o=r;break;case"details":rt("toggle",e),o=r;break;case"input":vy(e,r),o=Lf(e,r),rt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=gt({},r,{value:void 0}),rt("invalid",e);break;case"textarea":xy(e,r),o=Of(e,r),rt("invalid",e);break;default:o=r}Uf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&da(e,l):typeof l=="number"&&da(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ua.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",e):l!=null&&Sp(e,s,l,i))}switch(n){case"input":ml(e),wy(e,r,!1);break;case"textarea":ml(e),Sy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+So(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Fs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Fs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)WS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Bo(ba.current),Bo(fr.current),El(t)){if(r=t.stateNode,n=t.memoizedProps,r[lr]=t,(s=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Cl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=t,t.stateNode=r}return Bt(t),null;case 13:if(ot(dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&vn!==null&&t.mode&1&&!(t.flags&128))cS(),si(),t.flags|=98560,s=!1;else if(s=El(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[lr]=t}else si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else Hn!==null&&(Sh(Hn),Hn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Mt===0&&(Mt=3):rm())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return ai(),hh(e,t),e===null&&va(t.stateNode.containerInfo),Bt(t),null;case 10:return Up(t.type._context),Bt(t),null;case 17:return dn(t.type)&&Pc(),Bt(t),null;case 19:if(ot(dt),s=t.memoizedState,s===null)return Bt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)_i(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ic(e),i!==null){for(t.flags|=128,_i(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(dt,dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pt()>ci&&(t.flags|=128,r=!0,_i(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ic(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!it)return Bt(t),null}else 2*Pt()-s.renderingStartTime>ci&&n!==1073741824&&(t.flags|=128,r=!0,_i(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pt(),t.sibling=null,n=dt.current,et(dt,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return nm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function CR(e,t){switch(Fp(t),t.tag){case 1:return dn(t.type)&&Pc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),ot(un),ot(Yt),Wp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qp(t),null;case 13:if(ot(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(dt),null;case 4:return ai(),null;case 10:return Up(t.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var kl=!1,Wt=!1,ER=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ks(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(e,t,r)}else n.current=null}function ph(e,t,n){try{n()}catch(r){St(e,t,r)}}var uv=!1;function PR(e,t){if(Xf=Sc,e=Qx(),Np(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var v;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(v=u.firstChild)!==null;)h=u,u=v;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(v=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zf={focusedElem:e,selectionRange:n},Sc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Bn(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){St(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return y=uv,uv=!1,y}function ta(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&ph(t,n,s)}o=o.next}while(o!==r)}}function wu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function HS(e){var t=e.alternate;t!==null&&(e.alternate=null,HS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[xa],delete t[th],delete t[aR],delete t[lR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GS(e){return e.tag===5||e.tag===3||e.tag===4}function dv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ec));else if(r!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}function yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yh(e,t,n),e=e.sibling;e!==null;)yh(e,t,n),e=e.sibling}var Lt=null,Wn=!1;function qr(e,t,n){for(n=n.child;n!==null;)KS(e,t,n),n=n.sibling}function KS(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(du,n)}catch{}switch(n.tag){case 5:Wt||ks(n,t);case 6:var r=Lt,o=Wn;Lt=null,qr(e,t,n),Lt=r,Wn=o,Lt!==null&&(Wn?(e=Lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Wn?(e=Lt,n=n.stateNode,e.nodeType===8?Td(e.parentNode,n):e.nodeType===1&&Td(e,n),ma(e)):Td(Lt,n.stateNode));break;case 4:r=Lt,o=Wn,Lt=n.stateNode.containerInfo,Wn=!0,qr(e,t,n),Lt=r,Wn=o;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ph(n,t,i),o=o.next}while(o!==r)}qr(e,t,n);break;case 1:if(!Wt&&(ks(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){St(n,t,a)}qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,qr(e,t,n),Wt=r):qr(e,t,n);break;default:qr(e,t,n)}}function fv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ER),t.forEach(function(r){var o=NR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Wn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Wn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Lt===null)throw Error(W(160));KS(s,i,o),Lt=null,Wn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){St(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)YS(t,e),t=t.sibling}function YS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),nr(e),r&4){try{ta(3,e,e.return),wu(3,e)}catch(x){St(e,e.return,x)}try{ta(5,e,e.return)}catch(x){St(e,e.return,x)}}break;case 1:$n(t,e),nr(e),r&512&&n!==null&&ks(n,n.return);break;case 5:if($n(t,e),nr(e),r&512&&n!==null&&ks(n,n.return),e.flags&32){var o=e.stateNode;try{da(o,"")}catch(x){St(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yx(o,s),Vf(a,i);var c=Vf(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?bx(o,u):d==="dangerouslySetInnerHTML"?xx(o,u):d==="children"?da(o,u):Sp(o,d,u,c)}switch(a){case"input":Ff(o,s);break;case"textarea":vx(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fs(o,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fs(o,!!s.multiple,s.defaultValue,!0):Fs(o,!!s.multiple,s.multiple?[]:"",!1))}o[xa]=s}catch(x){St(e,e.return,x)}}break;case 6:if($n(t,e),nr(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){St(e,e.return,x)}}break;case 3:if($n(t,e),nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(x){St(e,e.return,x)}break;case 4:$n(t,e),nr(e);break;case 13:$n(t,e),nr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(em=Pt())),r&4&&fv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Wt=(c=Wt)||d,$n(t,e),Wt=c):$n(t,e),nr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(u=ae=d;ae!==null;){switch(h=ae,v=h.child,h.tag){case 0:case 11:case 14:case 15:ta(4,h,h.return);break;case 1:ks(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){St(r,n,x)}}break;case 5:ks(h,h.return);break;case 22:if(h.memoizedState!==null){pv(u);continue}}v!==null?(v.return=h,ae=v):pv(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sx("display",i))}catch(x){St(e,e.return,x)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(x){St(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:$n(t,e),nr(e),r&4&&fv(e);break;case 21:break;default:$n(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(GS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(da(o,""),r.flags&=-33);var s=dv(e);yh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=dv(e);gh(e,a,i);break;default:throw Error(W(161))}}catch(l){St(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TR(e,t,n){ae=e,QS(e)}function QS(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var o=ae,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||kl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=kl;var c=Wt;if(kl=i,(Wt=l)&&!c)for(ae=o;ae!==null;)i=ae,l=i.child,i.tag===22&&i.memoizedState!==null?mv(o):l!==null?(l.return=i,ae=l):mv(o);for(;s!==null;)ae=s,QS(s),s=s.sibling;ae=o,kl=a,Wt=c}hv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ae=s):hv(e)}}function hv(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||wu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Bn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Xy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&ma(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Wt||t.flags&512&&mh(t)}catch(h){St(t,t.return,h)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function pv(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function mv(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wu(4,t)}catch(l){St(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){St(t,o,l)}}var s=t.return;try{mh(t)}catch(l){St(t,s,l)}break;case 5:var i=t.return;try{mh(t)}catch(l){St(t,i,l)}}}catch(l){St(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var kR=Math.ceil,Lc=Vr.ReactCurrentDispatcher,Zp=Vr.ReactCurrentOwner,In=Vr.ReactCurrentBatchConfig,Le=0,_t=null,At=null,jt=0,gn=0,Ds=Ao(0),Mt=0,Ta=null,ns=0,xu=0,Jp=0,na=null,an=null,em=0,ci=1/0,Pr=null,Fc=!1,vh=null,mo=null,Dl=!1,ao=null,jc=0,ra=0,wh=null,rc=-1,oc=0;function tn(){return Le&6?Pt():rc!==-1?rc:rc=Pt()}function go(e){return e.mode&1?Le&2&&jt!==0?jt&-jt:uR.transition!==null?(oc===0&&(oc=Nx()),oc):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:Vx(e.type)),e):1}function Kn(e,t,n,r){if(50<ra)throw ra=0,wh=null,Error(W(185));Ha(e,n,r),(!(Le&2)||e!==_t)&&(e===_t&&(!(Le&2)&&(xu|=n),Mt===4&&eo(e,jt)),fn(e,r),n===1&&Le===0&&!(t.mode&1)&&(ci=Pt()+500,gu&&Ro()))}function fn(e,t){var n=e.callbackNode;uA(e,t);var r=xc(e,e===_t?jt:0);if(r===0)n!==null&&Ey(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ey(n),t===1)e.tag===0?cR(gv.bind(null,e)):iS(gv.bind(null,e)),sR(function(){!(Le&6)&&Ro()}),n=null;else{switch(Lx(r)){case 1:n=Tp;break;case 4:n=Ix;break;case 16:n=wc;break;case 536870912:n=_x;break;default:n=wc}n=ob(n,XS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function XS(e,t){if(rc=-1,oc=0,Le&6)throw Error(W(327));var n=e.callbackNode;if(Vs()&&e.callbackNode!==n)return null;var r=xc(e,e===_t?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oc(e,r);else{t=r;var o=Le;Le|=2;var s=JS();(_t!==e||jt!==t)&&(Pr=null,ci=Pt()+500,Ko(e,t));do try{RR();break}catch(a){ZS(e,a)}while(!0);$p(),Lc.current=s,Le=o,At!==null?t=0:(_t=null,jt=0,t=Mt)}if(t!==0){if(t===2&&(o=Hf(e),o!==0&&(r=o,t=xh(e,o))),t===1)throw n=Ta,Ko(e,0),eo(e,r),fn(e,Pt()),n;if(t===6)eo(e,r);else{if(o=e.current.alternate,!(r&30)&&!DR(o)&&(t=Oc(e,r),t===2&&(s=Hf(e),s!==0&&(r=s,t=xh(e,s))),t===1))throw n=Ta,Ko(e,0),eo(e,r),fn(e,Pt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:jo(e,an,Pr);break;case 3:if(eo(e,r),(r&130023424)===r&&(t=em+500-Pt(),10<t)){if(xc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){tn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=eh(jo.bind(null,e,an,Pr),t);break}jo(e,an,Pr);break;case 4:if(eo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Gn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kR(r/1960))-r,10<r){e.timeoutHandle=eh(jo.bind(null,e,an,Pr),r);break}jo(e,an,Pr);break;case 5:jo(e,an,Pr);break;default:throw Error(W(329))}}}return fn(e,Pt()),e.callbackNode===n?XS.bind(null,e):null}function xh(e,t){var n=na;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=Oc(e,t),e!==2&&(t=an,an=n,t!==null&&Sh(t)),e}function Sh(e){an===null?an=e:an.push.apply(an,e)}function DR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Qn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eo(e,t){for(t&=~Jp,t&=~xu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gn(t),r=1<<n;e[n]=-1,t&=~r}}function gv(e){if(Le&6)throw Error(W(327));Vs();var t=xc(e,0);if(!(t&1))return fn(e,Pt()),null;var n=Oc(e,t);if(e.tag!==0&&n===2){var r=Hf(e);r!==0&&(t=r,n=xh(e,r))}if(n===1)throw n=Ta,Ko(e,0),eo(e,t),fn(e,Pt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,an,Pr),fn(e,Pt()),null}function tm(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(ci=Pt()+500,gu&&Ro())}}function rs(e){ao!==null&&ao.tag===0&&!(Le&6)&&Vs();var t=Le;Le|=1;var n=In.transition,r=Ke;try{if(In.transition=null,Ke=1,e)return e()}finally{Ke=r,In.transition=n,Le=t,!(Le&6)&&Ro()}}function nm(){gn=Ds.current,ot(Ds)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oR(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pc();break;case 3:ai(),ot(un),ot(Yt),Wp();break;case 5:qp(r);break;case 4:ai();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Up(r.type._context);break;case 22:case 23:nm()}n=n.return}if(_t=e,At=e=yo(e.current,null),jt=gn=t,Mt=0,Ta=null,Jp=xu=ns=0,an=na=null,Vo!==null){for(t=0;t<Vo.length;t++)if(n=Vo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Vo=null}return e}function ZS(e,t){do{var n=At;try{if($p(),ec.current=Nc,_c){for(var r=mt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}_c=!1}if(ts=0,It=Rt=mt=null,ea=!1,Ca=0,Zp.current=null,n===null||n.return===null){Mt=1,Ta=t,At=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=rv(i);if(v!==null){v.flags&=-257,ov(v,i,a,s,t),v.mode&1&&nv(s,c,t),t=v,l=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){nv(s,c,t),rm();break e}l=Error(W(426))}}else if(it&&a.mode&1){var b=rv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ov(b,i,a,s,t),jp(li(l,a));break e}}s=l=li(l,a),Mt!==4&&(Mt=2),na===null?na=[s]:na.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=LS(s,l,t);Qy(s,m);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(mo===null||!mo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=FS(s,a,t);Qy(s,C);break e}}s=s.return}while(s!==null)}tb(n)}catch(E){t=E,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function JS(){var e=Lc.current;return Lc.current=Nc,e===null?Nc:e}function rm(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),_t===null||!(ns&268435455)&&!(xu&268435455)||eo(_t,jt)}function Oc(e,t){var n=Le;Le|=2;var r=JS();(_t!==e||jt!==t)&&(Pr=null,Ko(e,t));do try{AR();break}catch(o){ZS(e,o)}while(!0);if($p(),Le=n,Lc.current=r,At!==null)throw Error(W(261));return _t=null,jt=0,Mt}function AR(){for(;At!==null;)eb(At)}function RR(){for(;At!==null&&!tA();)eb(At)}function eb(e){var t=rb(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?tb(e):At=t,Zp.current=null}function tb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CR(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,At=null;return}}else if(n=bR(n,t,gn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Mt===0&&(Mt=5)}function jo(e,t,n){var r=Ke,o=In.transition;try{In.transition=null,Ke=1,MR(e,t,n,r)}finally{In.transition=o,Ke=r}return null}function MR(e,t,n,r){do Vs();while(ao!==null);if(Le&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dA(e,s),e===_t&&(At=_t=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dl||(Dl=!0,ob(wc,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var i=Ke;Ke=1;var a=Le;Le|=4,Zp.current=null,PR(e,n),YS(n,e),XA(Zf),Sc=!!Xf,Zf=Xf=null,e.current=n,TR(n),nA(),Le=a,Ke=i,In.transition=s}else e.current=n;if(Dl&&(Dl=!1,ao=e,jc=o),s=e.pendingLanes,s===0&&(mo=null),sA(n.stateNode),fn(e,Pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Fc)throw Fc=!1,e=vh,vh=null,e;return jc&1&&e.tag!==0&&Vs(),s=e.pendingLanes,s&1?e===wh?ra++:(ra=0,wh=e):ra=0,Ro(),null}function Vs(){if(ao!==null){var e=Lx(jc),t=In.transition,n=Ke;try{if(In.transition=null,Ke=16>e?16:e,ao===null)var r=!1;else{if(e=ao,ao=null,jc=0,Le&6)throw Error(W(331));var o=Le;for(Le|=4,ae=e.current;ae!==null;){var s=ae,i=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:ta(8,d,s)}var u=d.child;if(u!==null)u.return=d,ae=u;else for(;ae!==null;){d=ae;var h=d.sibling,v=d.return;if(HS(d),d===c){ae=null;break}if(h!==null){h.return=v,ae=h;break}ae=v}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ae=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ae=i;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ta(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ae=m;break e}ae=s.return}}var w=e.current;for(ae=w;ae!==null;){i=ae;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,ae=S;else e:for(i=w;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wu(9,a)}}catch(E){St(a,a.return,E)}if(a===i){ae=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ae=C;break e}ae=a.return}}if(Le=o,Ro(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(du,e)}catch{}r=!0}return r}finally{Ke=n,In.transition=t}}return!1}function yv(e,t,n){t=li(n,t),t=LS(e,t,1),e=po(e,t,1),t=tn(),e!==null&&(Ha(e,1,t),fn(e,t))}function St(e,t,n){if(e.tag===3)yv(e,e,n);else for(;t!==null;){if(t.tag===3){yv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mo===null||!mo.has(r))){e=li(n,e),e=FS(t,e,1),t=po(t,e,1),e=tn(),t!==null&&(Ha(t,1,e),fn(t,e));break}}t=t.return}}function IR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(jt&n)===n&&(Mt===4||Mt===3&&(jt&130023424)===jt&&500>Pt()-em?Ko(e,0):Jp|=n),fn(e,t)}function nb(e,t){t===0&&(e.mode&1?(t=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):t=1);var n=tn();e=Lr(e,t),e!==null&&(Ha(e,t,n),fn(e,n))}function _R(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nb(e,n)}function NR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),nb(e,n)}var rb;rb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,SR(e,t,n);cn=!!(e.flags&131072)}else cn=!1,it&&t.flags&1048576&&aS(t,Dc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nc(e,t),e=t.pendingProps;var o=oi(t,Yt.current);Us(t,n),o=Gp(null,t,r,e,o,n);var s=Kp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(s=!0,Tc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Bp(t),o.updater=vu,t.stateNode=o,o._reactInternals=t,ah(t,r,e,n),t=uh(null,t,r,!0,s,n)):(t.tag=0,it&&s&&Lp(t),Jt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=FR(r),e=Bn(r,e),o){case 0:t=ch(null,t,r,e,n);break e;case 1:t=av(null,t,r,e,n);break e;case 11:t=sv(null,t,r,e,n);break e;case 14:t=iv(null,t,r,Bn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),ch(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),av(e,t,r,o,n);case 3:e:{if(US(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,hS(e,t),Mc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=li(Error(W(423)),t),t=lv(e,t,r,n,o);break e}else if(r!==o){o=li(Error(W(424)),t),t=lv(e,t,r,n,o);break e}else for(vn=ho(t.stateNode.containerInfo.firstChild),wn=t,it=!0,Hn=null,n=dS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(si(),r===o){t=Fr(e,t,n);break e}Jt(e,t,r,n)}t=t.child}return t;case 5:return pS(t),e===null&&oh(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Jf(r,o)?i=null:s!==null&&Jf(r,s)&&(t.flags|=32),$S(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&oh(t),null;case 13:return VS(e,t,n);case 4:return zp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ii(t,null,r,n):Jt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),sv(e,t,r,o,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,et(Ac,r._currentValue),r._currentValue=i,s!==null)if(Qn(s.value,i)){if(s.children===o.children&&!un.current){t=Fr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),sh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),sh(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Jt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Us(t,n),o=Nn(o),r=r(o),t.flags|=1,Jt(e,t,r,n),t.child;case 14:return r=t.type,o=Bn(r,t.pendingProps),o=Bn(r.type,o),iv(e,t,r,o,n);case 15:return jS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),nc(e,t),t.tag=1,dn(r)?(e=!0,Tc(t)):e=!1,Us(t,n),NS(t,r,o),ah(t,r,o,n),uh(null,t,r,!0,e,n);case 19:return BS(e,t,n);case 22:return OS(e,t,n)}throw Error(W(156,t.tag))};function ob(e,t){return Mx(e,t)}function LR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new LR(e,t,n,r)}function om(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FR(e){if(typeof e=="function")return om(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cp)return 11;if(e===Ep)return 14}return 2}function yo(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sc(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")om(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vs:return Yo(n.children,o,s,t);case bp:i=8,o|=8;break;case Mf:return e=Mn(12,n,t,o|2),e.elementType=Mf,e.lanes=s,e;case If:return e=Mn(13,n,t,o),e.elementType=If,e.lanes=s,e;case _f:return e=Mn(19,n,t,o),e.elementType=_f,e.lanes=s,e;case px:return Su(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fx:i=10;break e;case hx:i=9;break e;case Cp:i=11;break e;case Ep:i=14;break e;case Xr:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Mn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Yo(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function Su(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=px,e.lanes=n,e.stateNode={isHidden:!1},e}function Nd(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Ld(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function sm(e,t,n,r,o,s,i,a,l){return e=new jR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(s),e}function OR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sb(e){if(!e)return bo;e=e._reactInternals;e:{if(cs(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(dn(n))return sS(e,n,t)}return t}function ib(e,t,n,r,o,s,i,a,l){return e=sm(n,r,!0,e,o,s,i,a,l),e.context=sb(null),n=e.current,r=tn(),o=go(n),s=Rr(r,o),s.callback=t??null,po(n,s,o),e.current.lanes=o,Ha(e,o,r),fn(e,r),e}function bu(e,t,n,r){var o=t.current,s=tn(),i=go(o);return n=sb(n),t.context===null?t.context=n:t.pendingContext=n,t=Rr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=po(o,t,i),e!==null&&(Kn(e,o,i,s),Jl(e,o,i)),i}function $c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function im(e,t){vv(e,t),(e=e.alternate)&&vv(e,t)}function $R(){return null}var ab=typeof reportError=="function"?reportError:function(e){console.error(e)};function am(e){this._internalRoot=e}Cu.prototype.render=am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));bu(e,t,null,null)};Cu.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){bu(null,e,null,null)}),t[Nr]=null}};function Cu(e){this._internalRoot=e}Cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ox();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&Ux(e)}};function lm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wv(){}function UR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=$c(i);s.call(c)}}var i=ib(t,r,e,0,null,!1,!1,"",wv);return e._reactRootContainer=i,e[Nr]=i.current,va(e.nodeType===8?e.parentNode:e),rs(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=$c(l);a.call(c)}}var l=sm(e,0,!1,null,null,!1,!1,"",wv);return e._reactRootContainer=l,e[Nr]=l.current,va(e.nodeType===8?e.parentNode:e),rs(function(){bu(t,l,n,r)}),l}function Pu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=$c(i);a.call(l)}}bu(t,i,e,o)}else i=UR(n,t,e,o,r);return $c(i)}Fx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zi(t.pendingLanes);n!==0&&(kp(t,n|1),fn(t,Pt()),!(Le&6)&&(ci=Pt()+500,Ro()))}break;case 13:rs(function(){var r=Lr(e,1);if(r!==null){var o=tn();Kn(r,e,1,o)}}),im(e,1)}};Dp=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=tn();Kn(t,e,134217728,n)}im(e,134217728)}};jx=function(e){if(e.tag===13){var t=go(e),n=Lr(e,t);if(n!==null){var r=tn();Kn(n,e,t,r)}im(e,t)}};Ox=function(){return Ke};$x=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};zf=function(e,t,n){switch(t){case"input":if(Ff(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=mu(r);if(!o)throw Error(W(90));gx(r),Ff(r,o)}}}break;case"textarea":vx(e,n);break;case"select":t=n.value,t!=null&&Fs(e,!!n.multiple,t,!1)}};Px=tm;Tx=rs;var VR={usingClientEntryPoint:!1,Events:[Ka,bs,mu,Cx,Ex,tm]},Ni={findFiberByHostInstance:Uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BR={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ax(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||$R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{du=Al.inject(BR),dr=Al}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lm(t))throw Error(W(200));return OR(e,t,null,n)};Cn.createRoot=function(e,t){if(!lm(e))throw Error(W(299));var n=!1,r="",o=ab;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=sm(e,1,!1,null,null,n,!1,r,o),e[Nr]=t.current,va(e.nodeType===8?e.parentNode:e),new am(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Ax(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return rs(e)};Cn.hydrate=function(e,t,n){if(!Eu(t))throw Error(W(200));return Pu(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!lm(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=ab;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ib(t,null,e,1,n??null,o,!1,s,i),e[Nr]=t.current,va(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Cu(t)};Cn.render=function(e,t,n){if(!Eu(t))throw Error(W(200));return Pu(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!Eu(e))throw Error(W(40));return e._reactRootContainer?(rs(function(){Pu(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};Cn.unstable_batchedUpdates=tm;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Eu(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Pu(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lb)}catch(e){console.error(e)}}lb(),lx.exports=Cn;var Qa=lx.exports;const zR=pp(Qa);var cb,xv=Qa;cb=xv.createRoot,xv.hydrateRoot;function qR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var ub={exports:{}},db={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=f;function WR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HR=typeof Object.is=="function"?Object.is:WR,GR=ui.useState,KR=ui.useEffect,YR=ui.useLayoutEffect,QR=ui.useDebugValue;function XR(e,t){var n=t(),r=GR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return YR(function(){o.value=n,o.getSnapshot=t,Fd(o)&&s({inst:o})},[e,n,t]),KR(function(){return Fd(o)&&s({inst:o}),e(function(){Fd(o)&&s({inst:o})})},[e]),QR(n),n}function Fd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!HR(e,n)}catch{return!0}}function ZR(e,t){return t()}var JR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZR:XR;db.useSyncExternalStore=ui.useSyncExternalStore!==void 0?ui.useSyncExternalStore:JR;ub.exports=db;var eM=ub.exports;const tM=ix.useInsertionEffect,nM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rM=nM?f.useLayoutEffect:f.useEffect,oM=tM||rM,fb=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return oM(()=>{t[0]=e}),t[1]},sM="popstate",cm="pushState",um="replaceState",iM="hashchange",Sv=[sM,cm,um,iM],aM=e=>{for(const t of Sv)addEventListener(t,e);return()=>{for(const t of Sv)removeEventListener(t,e)}},hb=(e,t)=>eM.useSyncExternalStore(aM,e,t),lM=()=>location.search,cM=({ssrSearch:e=""}={})=>hb(lM,()=>e),bv=()=>location.pathname,uM=({ssrPath:e}={})=>hb(bv,e?()=>e:bv),dM=(e,{replace:t=!1,state:n=null}={})=>history[t?um:cm](n,"",e),fM=(e={})=>[uM(e),dM],Cv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Cv]>"u"){for(const e of[cm,um]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Cv,{value:!0})}const hM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",pb=(e="")=>e==="/"?"":e,pM=(e,t)=>e[0]==="~"?e.slice(1):pb(t)+e,mM=(e="",t)=>hM(Ev(pb(e)),Ev(t)),Ev=e=>{try{return decodeURI(e)}catch{return e}},mb={hook:fM,searchHook:cM,parser:qR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},gb=f.createContext(mb),Xa=()=>f.useContext(gb),yb={},vb=f.createContext(yb),gM=()=>f.useContext(vb),Tu=e=>{const[t,n]=e.hook(e);return[mM(e.base,t),fb((r,o)=>n(pM(r,e.base),o))]},dm=()=>Tu(Xa()),wb=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},xb=({children:e,...t})=>{var d,u;const n=Xa(),r=t.hook?mb:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const v=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&v!==c[h]&&(a.current=c={...c}),c[h]=v,v!==r[h]&&(o=c)}return f.createElement(gb.Provider,{value:o,children:e})},Pv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,yM=e=>{let t=f.useRef(yb),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Li=({path:e,nest:t,match:n,...r})=>{const o=Xa(),[s]=Tu(o),[i,a,l]=n??wb(o.parser,e,s,t),c=yM({...gM(),...a});if(!i)return null;const d=l?f.createElement(xb,{base:l},Pv(r,c)):Pv(r,c);return f.createElement(vb.Provider,{value:c,children:d})},vM=f.forwardRef((e,t)=>{const n=Xa(),[r,o]=Tu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...v}=e,y=fb(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),x=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:y,href:x}):f.createElement("a",{...v,onClick:y,href:x,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),Sb=e=>Array.isArray(e)?e.flatMap(t=>Sb(t&&t.type===f.Fragment?t.props.children:t)):[e],wM=({children:e,location:t})=>{const n=Xa(),[r]=Tu(n);for(const o of Sb(e)){let s=0;if(f.isValidElement(o)&&(s=wb(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null};var ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Du=typeof window>"u"||"Deno"in globalThis;function zn(){}function xM(e,t){return typeof e=="function"?e(t):e}function SM(e){return typeof e=="number"&&e>=0&&e!==1/0}function bM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tv(e,t){return typeof e=="function"?e(t):e}function CM(e,t){return typeof e=="function"?e(t):e}function kv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==fm(i,t.options))return!1}else if(!Da(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function Dv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ka(t.options.mutationKey)!==ka(s))return!1}else if(!Da(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function fm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ka)(e)}function ka(e){return JSON.stringify(e,(t,n)=>bh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Da(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Da(e[n],t[n])):!1}function bb(e,t){if(e===t)return e;const n=Av(e)&&Av(t);if(n||bh(e)&&bh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=bb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function Av(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bh(e){if(!Rv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rv(e){return Object.prototype.toString.call(e)==="[object Object]"}function EM(e){return new Promise(t=>{setTimeout(t,e)})}function PM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bb(e,t):t}function TM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var hm=Symbol();function Cb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qo,to,Ks,B0,DM=(B0=class extends ku{constructor(){super();ze(this,qo);ze(this,to);ze(this,Ks);De(this,Ks,t=>{if(!Du&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,to)||this.setEventListener(U(this,Ks))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,to))==null||t.call(this),De(this,to,void 0))}setEventListener(t){var n;De(this,Ks,t),(n=U(this,to))==null||n.call(this),De(this,to,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,qo)!==t&&(De(this,qo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,qo)=="boolean"?U(this,qo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qo=new WeakMap,to=new WeakMap,Ks=new WeakMap,B0),Eb=new DM,Ys,no,Qs,z0,AM=(z0=class extends ku{constructor(){super();ze(this,Ys,!0);ze(this,no);ze(this,Qs);De(this,Qs,t=>{if(!Du&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,no)||this.setEventListener(U(this,Qs))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,no))==null||t.call(this),De(this,no,void 0))}setEventListener(t){var n;De(this,Qs,t),(n=U(this,no))==null||n.call(this),De(this,no,t(this.setOnline.bind(this)))}setOnline(t){U(this,Ys)!==t&&(De(this,Ys,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Ys)}},Ys=new WeakMap,no=new WeakMap,Qs=new WeakMap,z0),Uc=new AM;function RM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function MM(e){return Math.min(1e3*2**e,3e4)}function Pb(e){return(e??"online")==="online"?Uc.isOnline():!0}var Tb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jd(e){return e instanceof Tb}function kb(e){let t=!1,n=0,r=!1,o;const s=RM(),i=x=>{var b;r||(h(new Tb(x)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Eb.isFocused()&&(e.networkMode==="always"||Uc.isOnline())&&e.canRun(),d=()=>Pb(e.networkMode)&&e.canRun(),u=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),o==null||o(),s.resolve(x))},h=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),o==null||o(),s.reject(x))},v=()=>new Promise(x=>{var b;o=m=>{(r||c())&&x(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(u).catch(m=>{var P;if(r)return;const w=e.retry??(Du?0:3),S=e.retryDelay??MM,C=typeof S=="function"?S(n,m):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),EM(C).then(()=>c()?void 0:v()).then(()=>{t?h(m):y()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():v().then(y),s)}}function IM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var en=IM(),Wo,q0,Db=(q0=class{constructor(){ze(this,Wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SM(this.gcTime)&&De(this,Wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Du?1/0:5*60*1e3))}clearGcTimeout(){U(this,Wo)&&(clearTimeout(U(this,Wo)),De(this,Wo,void 0))}},Wo=new WeakMap,q0),Xs,Zs,Dn,zt,za,Ho,qn,Er,W0,_M=(W0=class extends Db{constructor(t){super();ze(this,qn);ze(this,Xs);ze(this,Zs);ze(this,Dn);ze(this,zt);ze(this,za);ze(this,Ho);De(this,Ho,!1),De(this,za,t.defaultOptions),this.setOptions(t.options),this.observers=[],De(this,Dn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,De(this,Xs,LM(this.options)),this.state=t.state??U(this,Xs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,zt))==null?void 0:t.promise}setOptions(t){this.options={...U(this,za),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Dn).remove(this)}setData(t,n){const r=PM(this.state.data,t,this.options);return Ut(this,qn,Er).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ut(this,qn,Er).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=U(this,zt))==null?void 0:r.promise;return(o=U(this,zt))==null||o.cancel(t),n?n.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Xs))}isActive(){return this.observers.some(t=>CM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!bM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,zt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,zt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,zt)&&(U(this,Ho)?U(this,zt).cancel({revert:!0}):U(this,zt).cancelRetry()),this.scheduleGc()),U(this,Dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,qn,Er).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,zt))return U(this,zt).continueRetry(),U(this,zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(De(this,Ho,!0),r.signal)})},s=()=>{const u=Cb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),De(this,Ho,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),De(this,Zs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Ut(this,qn,Er).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,v,y,x;jd(u)&&u.silent||Ut(this,qn,Er).call(this,{type:"error",error:u}),jd(u)||((v=(h=U(this,Dn).config).onError)==null||v.call(h,u,this),(x=(y=U(this,Dn).config).onSettled)==null||x.call(y,this.state.data,u,this)),this.scheduleGc()};return De(this,zt,kb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,v,y,x;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){a(b);return}(v=(h=U(this,Dn).config).onSuccess)==null||v.call(h,u,this),(x=(y=U(this,Dn).config).onSettled)==null||x.call(y,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{Ut(this,qn,Er).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Ut(this,qn,Er).call(this,{type:"pause"})},onContinue:()=>{Ut(this,qn,Er).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),U(this,zt).start()}},Xs=new WeakMap,Zs=new WeakMap,Dn=new WeakMap,zt=new WeakMap,za=new WeakMap,Ho=new WeakMap,qn=new WeakSet,Er=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return jd(o)&&o.revert&&U(this,Zs)?{...U(this,Zs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),en.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Dn).notify({query:this,type:"updated",action:t})})},W0);function NM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,H0,FM=(H0=class extends ku{constructor(t={}){super();ze(this,or);this.config=t,De(this,or,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??fm(o,n);let i=this.get(s);return i||(i=new _M({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){U(this,or).has(t.queryHash)||(U(this,or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,or).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,or).get(t)}getAll(){return[...U(this,or).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>kv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>kv(t,r)):n}notify(t){en.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){en.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},or=new WeakMap,H0),sr,Zt,Go,ir,Gr,G0,jM=(G0=class extends Db{constructor(t){super();ze(this,ir);ze(this,sr);ze(this,Zt);ze(this,Go);this.mutationId=t.mutationId,De(this,Zt,t.mutationCache),De(this,sr,[]),this.state=t.state||OM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,sr).includes(t)||(U(this,sr).push(t),this.clearGcTimeout(),U(this,Zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){De(this,sr,U(this,sr).filter(n=>n!==t)),this.scheduleGc(),U(this,Zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,sr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Zt).remove(this))}continue(){var t;return((t=U(this,Go))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,v,y,x,b,m,w,S,C,E,P,k;De(this,Go,kb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,A)=>{Ut(this,ir,Gr).call(this,{type:"failed",failureCount:D,error:A})},onPause:()=>{Ut(this,ir,Gr).call(this,{type:"pause"})},onContinue:()=>{Ut(this,ir,Gr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Zt).canRun(this)}));const n=this.state.status==="pending",r=!U(this,Go).canStart();try{if(!n){Ut(this,ir,Gr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=U(this,Zt).config).onMutate)==null?void 0:s.call(o,t,this));const A=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));A!==this.state.context&&Ut(this,ir,Gr).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const D=await U(this,Go).start();return await((c=(l=U(this,Zt).config).onSuccess)==null?void 0:c.call(l,D,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,D,t,this.state.context)),await((v=(h=U(this,Zt).config).onSettled)==null?void 0:v.call(h,D,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,D,null,t,this.state.context)),Ut(this,ir,Gr).call(this,{type:"success",data:D}),D}catch(D){try{throw await((m=(b=U(this,Zt).config).onError)==null?void 0:m.call(b,D,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,D,t,this.state.context)),await((E=(C=U(this,Zt).config).onSettled)==null?void 0:E.call(C,void 0,D,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,D,t,this.state.context)),D}finally{Ut(this,ir,Gr).call(this,{type:"error",error:D})}}finally{U(this,Zt).runNext(this)}}},sr=new WeakMap,Zt=new WeakMap,Go=new WeakMap,ir=new WeakSet,Gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),en.batch(()=>{U(this,sr).forEach(r=>{r.onMutationUpdate(t)}),U(this,Zt).notify({mutation:this,type:"updated",action:t})})},G0);function OM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mn,qa,K0,$M=(K0=class extends ku{constructor(t={}){super();ze(this,mn);ze(this,qa);this.config=t,De(this,mn,new Map),De(this,qa,Date.now())}build(t,n,r){const o=new jM({mutationCache:this,mutationId:++fl(this,qa)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=Rl(t),r=U(this,mn).get(n)??[];r.push(t),U(this,mn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Rl(t);if(U(this,mn).has(n)){const o=(r=U(this,mn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?U(this,mn).delete(n):U(this,mn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=U(this,mn).get(Rl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=U(this,mn).get(Rl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,mn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dv(n,r))}findAll(t={}){return this.getAll().filter(n=>Dv(t,n))}notify(t){en.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(t.map(n=>n.continue().catch(zn))))}},mn=new WeakMap,qa=new WeakMap,K0);function Rl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Mv(e){return{onFetch:(t,n)=>{var d,u,h,v,y;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},m=Cb(t.options,t.fetchOptions),w=async(S,C,E)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const k=await m(P),{maxPages:D}=t.options,A=E?kM:TM;return{pages:A(S.pages,k,D),pageParams:A(S.pageParams,C,D)}};if(o&&s.length){const S=o==="backward",C=S?UM:Iv,E={pages:s,pageParams:i},P=C(r,E);a=await w(E,P,S)}else{const S=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:Iv(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Iv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function UM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var wt,ro,oo,Js,ei,so,ti,ni,Y0,VM=(Y0=class{constructor(e={}){ze(this,wt);ze(this,ro);ze(this,oo);ze(this,Js);ze(this,ei);ze(this,so);ze(this,ti);ze(this,ni);De(this,wt,e.queryCache||new FM),De(this,ro,e.mutationCache||new $M),De(this,oo,e.defaultOptions||{}),De(this,Js,new Map),De(this,ei,new Map),De(this,so,0)}mount(){fl(this,so)._++,U(this,so)===1&&(De(this,ti,Eb.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,wt).onFocus())})),De(this,ni,Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,wt).onOnline())})))}unmount(){var e,t;fl(this,so)._--,U(this,so)===0&&((e=U(this,ti))==null||e.call(this),De(this,ti,void 0),(t=U(this,ni))==null||t.call(this),De(this,ni,void 0))}isFetching(e){return U(this,wt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,ro).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,wt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,wt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Tv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,wt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=U(this,wt).get(r.queryHash),s=o==null?void 0:o.state.data,i=xM(t,s);if(i!==void 0)return U(this,wt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return en.batch(()=>U(this,wt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,wt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,wt);en.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,wt),r={type:"active",...e};return en.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=en.batch(()=>U(this,wt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(e={},t={}){return en.batch(()=>{if(U(this,wt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=en.batch(()=>U(this,wt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(zn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,wt).build(this,t);return n.isStaleByTime(Tv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zn).catch(zn)}fetchInfiniteQuery(e){return e.behavior=Mv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zn).catch(zn)}ensureInfiniteQueryData(e){return e.behavior=Mv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uc.isOnline()?U(this,ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,wt)}getMutationCache(){return U(this,ro)}getDefaultOptions(){return U(this,oo)}setDefaultOptions(e){De(this,oo,e)}setQueryDefaults(e,t){U(this,Js).set(ka(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Js).values()];let n={};return t.forEach(r=>{Da(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){U(this,ei).set(ka(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,ei).values()];let n={};return t.forEach(r=>{Da(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===hm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,wt).clear(),U(this,ro).clear()}},wt=new WeakMap,ro=new WeakMap,oo=new WeakMap,Js=new WeakMap,ei=new WeakMap,so=new WeakMap,ti=new WeakMap,ni=new WeakMap,Y0),BM=f.createContext(void 0),zM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(BM.Provider,{value:e,children:t}));async function qM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const WM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await qM(n),await n.json())},HM=new VM({defaultOptions:{queries:{queryFn:WM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),GM=1,KM=1e6;let Od=0;function YM(){return Od=(Od+1)%Number.MAX_SAFE_INTEGER,Od.toString()}const $d=new Map,_v=e=>{if($d.has(e))return;const t=setTimeout(()=>{$d.delete(e),oa({type:"REMOVE_TOAST",toastId:e})},KM);$d.set(e,t)},QM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,GM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?_v(n):e.toasts.forEach(r=>{_v(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ic=[];let ac={toasts:[]};function oa(e){ac=QM(ac,e),ic.forEach(t=>{t(ac)})}function XM({...e}){const t=YM(),n=o=>oa({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>oa({type:"DISMISS_TOAST",toastId:t});return oa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Za(){const[e,t]=f.useState(ac);return f.useEffect(()=>(ic.push(t),()=>{const n=ic.indexOf(t);n>-1&&ic.splice(n,1)}),[e]),{...e,toast:XM,dismiss:n=>oa({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Nv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Au(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Nv(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Nv(e[o],null)}}}}function Ie(...e){return f.useCallback(Au(...e),e)}function ZM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function hn(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:v,...y}=u,x=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>y,Object.values(y));return p.jsx(x.Provider,{value:b,children:v})};c.displayName=s+"Provider";function d(u,h){var x;const v=((x=h==null?void 0:h[e])==null?void 0:x[l])||a,y=f.useContext(v);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,JM(o,...t)]}function JM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function di(e){const t=tI(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(nI);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var eI=di("Slot");function tI(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=oI(o),a=rI(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Au(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ab=Symbol("radix.slottable");function Rb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Ab,t}function nI(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ab}function rI(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function oI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ru(e){const t=e+"CollectionProvider",[n,r]=hn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:m}=x,w=Dt.useRef(null),S=Dt.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:S,collectionRef:w,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=di(a),c=Dt.forwardRef((x,b)=>{const{scope:m,children:w}=x,S=s(a,m),C=Ie(b,S.collectionRef);return p.jsx(l,{ref:C,children:w})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=di(d),v=Dt.forwardRef((x,b)=>{const{scope:m,children:w,...S}=x,C=Dt.useRef(null),E=Ie(b,C),P=s(d,m);return Dt.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:w})});v.displayName=d;function y(x){const b=s(e+"CollectionConsumer",x);return Dt.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,k)=>S.indexOf(P.ref.current)-S.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:v},y,r]}var sI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=sI.reduce((e,t)=>{const n=di(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function pm(e,t){e&&Qa.flushSync(()=>e.dispatchEvent(t))}function ft(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function iI(e,t=globalThis==null?void 0:globalThis.document){const n=ft(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var aI="DismissableLayer",Ch="dismissableLayer.update",lI="dismissableLayer.pointerDownOutside",cI="dismissableLayer.focusOutside",Lv,Mb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ja=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(Mb),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=f.useState({}),y=Ie(t,k=>u(k)),x=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(b),w=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=m,E=dI(k=>{const D=k.target,A=[...c.branches].some(M=>M.contains(D));!C||A||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=fI(k=>{const D=k.target;[...c.branches].some(M=>M.contains(D))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return iI(k=>{w===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Lv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Fv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Lv)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Fv())},[d,c]),f.useEffect(()=>{const k=()=>v({});return document.addEventListener(Ch,k),()=>document.removeEventListener(Ch,k)},[]),p.jsx(Se.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,P.onFocusCapture),onBlurCapture:re(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,E.onPointerDownCapture)})});Ja.displayName=aI;var uI="DismissableLayerBranch",Ib=f.forwardRef((e,t)=>{const n=f.useContext(Mb),r=f.useRef(null),o=Ie(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Se.div,{...e,ref:o})});Ib.displayName=uI;function dI(e,t=globalThis==null?void 0:globalThis.document){const n=ft(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){_b(lI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fI(e,t=globalThis==null?void 0:globalThis.document){const n=ft(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&_b(cI,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fv(){const e=new CustomEvent(Ch);document.dispatchEvent(e)}function _b(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?pm(o,s):o.dispatchEvent(s)}var hI=Ja,pI=Ib,Fn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},mI="Portal",Mu=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);Fn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?zR.createPortal(p.jsx(Se.div,{...r,ref:t}),i):null});Mu.displayName=mI;function gI(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var pn=e=>{const{present:t,children:n}=e,r=yI(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Ie(r.ref,vI(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};pn.displayName="Presence";function yI(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=gI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Ml(r.current);s.current=a==="mounted"?c:"none"},[a]),Fn(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,v=Ml(c);e?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Fn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=v=>{const x=Ml(r.current).includes(v.animationName);if(v.target===t&&x&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=v=>{v.target===t&&(s.current=Ml(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ml(e){return(e==null?void 0:e.animationName)||"none"}function vI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=wI({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=ft(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function wI({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=ft(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var xI="VisuallyHidden",Iu=f.forwardRef((e,t)=>p.jsx(Se.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Iu.displayName=xI;var SI=Iu,mm="ToastProvider",[gm,bI,CI]=Ru("Toast"),[Nb,t3]=hn("Toast",[CI]),[EI,_u]=Nb(mm),Lb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mm}\`. Expected non-empty \`string\`.`),p.jsx(gm.Provider,{scope:t,children:p.jsx(EI,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(v=>v+1),[]),onToastRemove:f.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};Lb.displayName=mm;var Fb="ToastViewport",PI=["F8"],Eh="toast.viewportPause",Ph="toast.viewportResume",jb=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=PI,label:o="Notifications ({hotkey})",...s}=e,i=_u(Fb,n),a=bI(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=Ie(t,u,i.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;f.useEffect(()=>{const b=m=>{var S;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((S=u.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=u.current;if(y&&b&&m){const w=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(Eh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(Ph);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&S()},E=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",C),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,i.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:b})=>{const w=a().map(S=>{const C=S.ref.current,E=[C,...OI(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return f.useEffect(()=>{const b=u.current;if(b){const m=w=>{var E,P,k;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const D=document.activeElement,A=w.shiftKey;if(w.target===b&&A){(E=c.current)==null||E.focus();return}const _=x({tabbingDirection:A?"backwards":"forwards"}),Y=_.findIndex($=>$===D);Ud(_.slice(Y+1))?w.preventDefault():A?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,x]),p.jsxs(pI,{ref:l,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&p.jsx(Th,{ref:c,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Ud(b)}}),p.jsx(gm.Slot,{scope:n,children:p.jsx(Se.ol,{tabIndex:-1,...s,ref:h})}),y&&p.jsx(Th,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Ud(b)}})]})});jb.displayName=Fb;var Ob="ToastFocusProxy",Th=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=_u(Ob,n);return p.jsx(Iu,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Th.displayName=Ob;var Nu="Toast",TI="toast.swipeStart",kI="toast.swipeMove",DI="toast.swipeCancel",AI="toast.swipeEnd",$b=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=vr({prop:r,defaultProp:o,onChange:s});return p.jsx(pn,{present:n||a,children:p.jsx(II,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:ft(e.onPause),onResume:ft(e.onResume),onSwipeStart:re(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:re(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});$b.displayName=Nu;var[RI,MI]=Nb(Nu,{onClose(){}}),II=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:v,...y}=e,x=_u(Nu,n),[b,m]=f.useState(null),w=Ie(t,$=>m($)),S=f.useRef(null),C=f.useRef(null),E=o||x.duration,P=f.useRef(0),k=f.useRef(E),D=f.useRef(0),{onToastAdd:A,onToastRemove:M}=x,L=ft(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),i()}),_=f.useCallback($=>{!$||$===1/0||(window.clearTimeout(D.current),P.current=new Date().getTime(),D.current=window.setTimeout(L,$))},[L]);f.useEffect(()=>{const $=x.viewport;if($){const K=()=>{_(k.current),c==null||c()},N=()=>{const O=new Date().getTime()-P.current;k.current=k.current-O,window.clearTimeout(D.current),l==null||l()};return $.addEventListener(Eh,N),$.addEventListener(Ph,K),()=>{$.removeEventListener(Eh,N),$.removeEventListener(Ph,K)}}},[x.viewport,E,l,c,_]),f.useEffect(()=>{s&&!x.isClosePausedRef.current&&_(E)},[s,E,x.isClosePausedRef,_]),f.useEffect(()=>(A(),()=>M()),[A,M]);const Y=f.useMemo(()=>b?Hb(b):null,[b]);return x.viewport?p.jsxs(p.Fragment,{children:[Y&&p.jsx(_I,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),p.jsx(RI,{scope:n,onClose:L,children:Qa.createPortal(p.jsx(gm.ItemSlot,{scope:n,children:p.jsx(hI,{asChild:!0,onEscapeKeyDown:re(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||L(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:re(e.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:re(e.onPointerMove,$=>{if(!S.current)return;const K=$.clientX-S.current.x,N=$.clientY-S.current.y,O=!!C.current,R=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,F=R?I(0,K):0,H=R?0:I(0,N),ee=$.pointerType==="touch"?10:2,ke={x:F,y:H},de={originalEvent:$,delta:ke};O?(C.current=ke,Il(kI,u,de,{discrete:!1})):jv(ke,x.swipeDirection,ee)?(C.current=ke,Il(TI,d,de,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(K)>ee||Math.abs(N)>ee)&&(S.current=null)}),onPointerUp:re(e.onPointerUp,$=>{const K=C.current,N=$.target;if(N.hasPointerCapture($.pointerId)&&N.releasePointerCapture($.pointerId),C.current=null,S.current=null,K){const O=$.currentTarget,R={originalEvent:$,delta:K};jv(K,x.swipeDirection,x.swipeThreshold)?Il(AI,v,R,{discrete:!0}):Il(DI,h,R,{discrete:!0}),O.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),_I=e=>{const{__scopeToast:t,children:n,...r}=e,o=_u(Nu,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return FI(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Mu,{asChild:!0,children:p.jsx(Iu,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},NI="ToastTitle",Ub=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Se.div,{...r,ref:t})});Ub.displayName=NI;var LI="ToastDescription",Vb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Se.div,{...r,ref:t})});Vb.displayName=LI;var Bb="ToastAction",zb=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Wb,{altText:n,asChild:!0,children:p.jsx(ym,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Bb}\`. Expected non-empty \`string\`.`),null)});zb.displayName=Bb;var qb="ToastClose",ym=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=MI(qb,n);return p.jsx(Wb,{asChild:!0,children:p.jsx(Se.button,{type:"button",...r,ref:t,onClick:re(e.onClick,o.onClose)})})});ym.displayName=qb;var Wb=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Hb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),jI(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Hb(r))}}),t}function Il(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?pm(o,s):o.dispatchEvent(s)}var jv=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function FI(e=()=>{}){const t=ft(e);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function jI(e){return e.nodeType===e.ELEMENT_NODE}function OI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ud(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var $I=Lb,Gb=jb,Kb=$b,Yb=Ub,Qb=Vb,Xb=zb,Zb=ym;function Jb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Jb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function eC(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Jb(e))&&(r&&(r+=" "),r+=t);return r}const Ov=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$v=eC,el=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return $v(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=Ov(d)||Ov(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...v}=d;return Object.entries(v).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes({...s,...a}[x]):{...s,...a}[x]===b})?[...c,u,h]:c},[]);return $v(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...VI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:tC("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(BI,{ref:s,iconNode:t,className:tC(`lucide-${UI(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Fe("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Fe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Fe("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Fe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Fe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Fe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),wm="-",d_=e=>{const t=h_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(wm);return a[0]===""&&a.length!==1&&a.shift(),cC(a,t)||f_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},cC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?cC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(wm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Vv=/^\[(.+)\]$/,f_=e=>{if(Vv.test(e)){const t=Vv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},h_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return m_(Object.entries(e.classGroups),n).forEach(([s,i])=>{kh(i,r,s,t)}),r},kh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Bv(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(p_(o)){kh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{kh(i,Bv(t,s),n,r)})})},Bv=(e,t)=>{let n=e;return t.split(wm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},p_=e=>e.isThemeGetter,m_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,g_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},uC="!",y_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(m==="/"){u=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),v=h.startsWith(uC),y=v?h.substring(1):h,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:i}):i},v_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},w_=e=>({cache:g_(e.cacheSize),parseClassName:y_(e),...d_(e)}),x_=/\s+/,S_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(x_);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:v}=n(c);let y=!!v,x=r(y?h.substring(0,v):h);if(!x){if(!y){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}y=!1}const b=v_(d).join(":"),m=u?b+uC:b,w=m+x;if(s.includes(w))continue;s.push(w);const S=o(x,y);for(let C=0;C<S.length;++C){const E=S[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function b_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=dC(t))&&(r&&(r+=" "),r+=n);return r}const dC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=dC(e[r]))&&(n&&(n+=" "),n+=t);return n};function C_(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=w_(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=S_(l,n);return o(l,d),d}return function(){return s(b_.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},fC=/^\[(?:([a-z-]+):)?(.+)\]$/i,E_=/^\d+\/\d+$/,P_=new Set(["px","full","screen"]),T_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=e=>Bs(e)||P_.has(e)||E_.test(e),Wr=e=>Si(e,"length",O_),Bs=e=>!!e&&!Number.isNaN(Number(e)),Vd=e=>Si(e,"number",Bs),Fi=e=>!!e&&Number.isInteger(Number(e)),M_=e=>e.endsWith("%")&&Bs(e.slice(0,-1)),Te=e=>fC.test(e),Hr=e=>T_.test(e),I_=new Set(["length","size","percentage"]),__=e=>Si(e,I_,hC),N_=e=>Si(e,"position",hC),L_=new Set(["image","url"]),F_=e=>Si(e,L_,U_),j_=e=>Si(e,"",$_),ji=()=>!0,Si=(e,t,n)=>{const r=fC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},O_=e=>k_.test(e)&&!D_.test(e),hC=()=>!1,$_=e=>A_.test(e),U_=e=>R_.test(e),V_=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),o=nt("borderColor"),s=nt("borderRadius"),i=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),d=nt("hueRotate"),u=nt("invert"),h=nt("gap"),v=nt("gradientColorStops"),y=nt("gradientColorStopPositions"),x=nt("inset"),b=nt("margin"),m=nt("opacity"),w=nt("padding"),S=nt("saturate"),C=nt("scale"),E=nt("sepia"),P=nt("skew"),k=nt("space"),D=nt("translate"),A=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Te,t],_=()=>[Te,t],Y=()=>["",Cr,Wr],$=()=>["auto",Bs,Te],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Te],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Bs,Te];return{cacheSize:500,separator:":",theme:{colors:[ji],spacing:[Cr,Wr],blur:["none","",Hr,Te],brightness:H(),borderColor:[e],borderRadius:["none","","full",Hr,Te],borderSpacing:_(),borderWidth:Y(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[M_,Wr],inset:L(),margin:L(),opacity:H(),padding:_(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Te]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fi,Te]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Fi,Te]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",Fi,Te]},Te]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[Fi,Te]},Te]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vd]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",Bs,Vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,Wr]}],"underline-offset":[{"underline-offset":["auto",Cr,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),N_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",__]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[Cr,Te]}],"outline-w":[{outline:[Cr,Wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Cr,Wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hr,j_]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hr,Te]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Fi,Te]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cr,Wr,Vd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},B_=C_(V_);function z_(e){throw new Error("Unexpected object: "+e)}function ne(...e){return B_(eC(e))}function q_(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const W_=$I,pC=f.forwardRef(({className:e,...t},n)=>p.jsx(Gb,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pC.displayName=Gb.displayName;const H_=el("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Kb,{ref:r,className:ne(H_({variant:t}),e),...n}));mC.displayName=Kb.displayName;const G_=f.forwardRef(({className:e,...t},n)=>p.jsx(Xb,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));G_.displayName=Xb.displayName;const gC=f.forwardRef(({className:e,...t},n)=>p.jsx(Zb,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Lu,{className:"h-4 w-4"})}));gC.displayName=Zb.displayName;const yC=f.forwardRef(({className:e,...t},n)=>p.jsx(Yb,{ref:n,className:ne("text-sm font-semibold",e),...t}));yC.displayName=Yb.displayName;const vC=f.forwardRef(({className:e,...t},n)=>p.jsx(Qb,{ref:n,className:ne("text-sm opacity-90",e),...t}));vC.displayName=Qb.displayName;function K_(){const{toasts:e}=Za();return p.jsxs(W_,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(mC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(yC,{children:n}),r&&p.jsx(vC,{children:r})]}),o,p.jsx(gC,{})]},t)}),p.jsx(pC,{})]})}var Y_=ix[" useId ".trim().toString()]||(()=>{}),Q_=0;function Qo(e){const[t,n]=f.useState(Y_());return Fn(()=>{n(r=>r??String(Q_++))},[e]),t?`radix-${t}`:""}const X_=["top","right","bottom","left"],Co=Math.min,yn=Math.max,Vc=Math.round,_l=Math.floor,hr=e=>({x:e,y:e}),Z_={left:"right",right:"left",bottom:"top",top:"bottom"},J_={start:"end",end:"start"};function Dh(e,t,n){return yn(e,Co(t,n))}function jr(e,t){return typeof e=="function"?e(t):e}function Or(e){return e.split("-")[0]}function bi(e){return e.split("-")[1]}function xm(e){return e==="x"?"y":"x"}function Sm(e){return e==="y"?"height":"width"}function Eo(e){return["top","bottom"].includes(Or(e))?"y":"x"}function bm(e){return xm(Eo(e))}function eN(e,t,n){n===void 0&&(n=!1);const r=bi(e),o=bm(e),s=Sm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Bc(i)),[i,Bc(i)]}function tN(e){const t=Bc(e);return[Ah(e),t,Ah(t)]}function Ah(e){return e.replace(/start|end/g,t=>J_[t])}function nN(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function rN(e,t,n,r){const o=bi(e);let s=nN(Or(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Ah)))),s}function Bc(e){return e.replace(/left|right|bottom|top/g,t=>Z_[t])}function oN(e){return{top:0,right:0,bottom:0,left:0,...e}}function wC(e){return typeof e!="number"?oN(e):{top:e,right:e,bottom:e,left:e}}function zc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function zv(e,t,n){let{reference:r,floating:o}=e;const s=Eo(t),i=bm(t),a=Sm(i),l=Or(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-o.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:u};break;case"left":v={x:r.x-o.width,y:u};break;default:v={x:r.x,y:r.y}}switch(bi(t)){case"start":v[i]-=h*(n&&c?-1:1);break;case"end":v[i]+=h*(n&&c?-1:1);break}return v}const sN=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=zv(c,r,l),h=r,v={},y=0;for(let x=0;x<a.length;x++){const{name:b,fn:m}=a[x],{x:w,y:S,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:v,rects:c,platform:i,elements:{reference:e,floating:t}});d=w??d,u=S??u,v={...v,[b]:{...v[b],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=zv(c,h,l)),x=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:v}};async function Aa(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:v=0}=jr(t,e),y=wC(v),b=a[h?u==="floating"?"reference":"floating":u],m=zc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=zc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(m.top-E.top+y.top)/C.y,bottom:(E.bottom-m.bottom+y.bottom)/C.y,left:(m.left-E.left+y.left)/C.x,right:(E.right-m.right+y.right)/C.x}}const iN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=jr(e,t)||{};if(c==null)return{};const u=wC(d),h={x:n,y:r},v=bm(o),y=Sm(v),x=await i.getDimensions(c),b=v==="y",m=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[v]-h[v]-s.floating[y],E=h[v]-s.reference[v],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[S]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[S]||s.floating[y]);const D=C/2-E/2,A=k/2-x[y]/2-1,M=Co(u[m],A),L=Co(u[w],A),_=M,Y=k-x[y]-L,$=k/2-x[y]/2+D,K=Dh(_,$,Y),N=!l.arrow&&bi(o)!=null&&$!==K&&s.reference[y]/2-($<_?M:L)-x[y]/2<0,O=N?$<_?$-_:$-Y:0;return{[v]:h[v]+O,data:{[v]:K,centerOffset:$-K-O,...N&&{alignmentOffset:O}},reset:N}}}),aN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...b}=jr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Or(o),w=Eo(a),S=Or(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(S||!x?[Bc(a)]:tN(a)),P=y!=="none";!h&&P&&E.push(...rN(a,x,y,C));const k=[a,...E],D=await Aa(t,b),A=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(D[m]),u){const $=eN(o,i,C);A.push(D[$[0]],D[$[1]])}if(M=[...M,{placement:o,overflows:A}],!A.every($=>$<=0)){var L,_;const $=(((L=s.flip)==null?void 0:L.index)||0)+1,K=k[$];if(K)return{data:{index:$,overflows:M},reset:{placement:K}};let N=(_=M.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:_.placement;if(!N)switch(v){case"bestFit":{var Y;const O=(Y=M.filter(R=>{if(P){const I=Eo(R.placement);return I===w||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,F)=>I+F,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:Y[0];O&&(N=O);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function qv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wv(e){return X_.some(t=>e[t]>=0)}const lN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=jr(e,t);switch(r){case"referenceHidden":{const s=await Aa(t,{...o,elementContext:"reference"}),i=qv(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Wv(i)}}}case"escaped":{const s=await Aa(t,{...o,altBoundary:!0}),i=qv(s,n.floating);return{data:{escapedOffsets:i,escaped:Wv(i)}}}default:return{}}}}};async function cN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Or(n),a=bi(n),l=Eo(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=jr(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const uN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await cN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},dN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:w}=b;return{x:m,y:w}}},...l}=jr(e,t),c={x:n,y:r},d=await Aa(t,l),u=Eo(Or(o)),h=xm(u);let v=c[h],y=c[u];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",w=v+d[b],S=v-d[m];v=Dh(w,v,S)}if(i){const b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",w=y+d[b],S=y-d[m];y=Dh(w,y,S)}const x=a.fn({...t,[h]:v,[u]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[u]:i}}}}}},fN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=jr(e,t),d={x:n,y:r},u=Eo(o),h=xm(u);let v=d[h],y=d[u];const x=jr(a,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=h==="y"?"height":"width",C=s.reference[h]-s.floating[S]+b.mainAxis,E=s.reference[h]+s.reference[S]-b.mainAxis;v<C?v=C:v>E&&(v=E)}if(c){var m,w;const S=h==="y"?"width":"height",C=["top","left"].includes(Or(o)),E=s.reference[u]-s.floating[S]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:b.crossAxis),P=s.reference[u]+s.reference[S]+(C?0:((w=i.offset)==null?void 0:w[u])||0)-(C?b.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:v,[u]:y}}}},hN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=jr(e,t),d=await Aa(t,c),u=Or(o),h=bi(o),v=Eo(o)==="y",{width:y,height:x}=s.floating;let b,m;u==="top"||u==="bottom"?(b=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,b=h==="end"?"top":"bottom");const w=x-d.top-d.bottom,S=y-d.left-d.right,C=Co(x-d[b],w),E=Co(y-d[m],S),P=!t.middlewareData.shift;let k=C,D=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=w),P&&!h){const M=yn(d.left,0),L=yn(d.right,0),_=yn(d.top,0),Y=yn(d.bottom,0);v?D=y-2*(M!==0||L!==0?M+L:yn(d.left,d.right)):k=x-2*(_!==0||Y!==0?_+Y:yn(d.top,d.bottom))}await l({...t,availableWidth:D,availableHeight:k});const A=await i.getDimensions(a.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Fu(){return typeof window<"u"}function Ci(e){return xC(e)?(e.nodeName||"").toLowerCase():"#document"}function xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wr(e){var t;return(t=(xC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xC(e){return Fu()?e instanceof Node||e instanceof xn(e).Node:!1}function Xn(e){return Fu()?e instanceof Element||e instanceof xn(e).Element:!1}function yr(e){return Fu()?e instanceof HTMLElement||e instanceof xn(e).HTMLElement:!1}function Hv(e){return!Fu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xn(e).ShadowRoot}function tl(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function pN(e){return["table","td","th"].includes(Ci(e))}function ju(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cm(e){const t=Em(),n=Xn(e)?Zn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mN(e){let t=Po(e);for(;yr(t)&&!fi(t);){if(Cm(t))return t;if(ju(t))return null;t=Po(t)}return null}function Em(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fi(e){return["html","body","#document"].includes(Ci(e))}function Zn(e){return xn(e).getComputedStyle(e)}function Ou(e){return Xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Po(e){if(Ci(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hv(e)&&e.host||wr(e);return Hv(t)?t.host:t}function SC(e){const t=Po(e);return fi(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&tl(t)?t:SC(t)}function Ra(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=SC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=xn(o);if(s){const a=Rh(i);return t.concat(i,i.visualViewport||[],tl(o)?o:[],a&&n?Ra(a):[])}return t.concat(o,Ra(o,[],n))}function Rh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bC(e){const t=Zn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=yr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Vc(n)!==s||Vc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function Pm(e){return Xn(e)?e:e.contextElement}function zs(e){const t=Pm(e);if(!yr(t))return hr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=bC(t);let i=(s?Vc(n.width):n.width)/r,a=(s?Vc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const gN=hr(0);function CC(e){const t=xn(e);return!Em()||!t.visualViewport?gN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xn(e)?!1:t}function os(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Pm(e);let i=hr(1);t&&(r?Xn(r)&&(i=zs(r)):i=zs(e));const a=yN(s,n,r)?CC(s):hr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=xn(s),v=r&&Xn(r)?xn(r):r;let y=h,x=Rh(y);for(;x&&r&&v!==y;){const b=zs(x),m=x.getBoundingClientRect(),w=Zn(x),S=m.left+(x.clientLeft+parseFloat(w.paddingLeft))*b.x,C=m.top+(x.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,u*=b.y,l+=S,c+=C,y=xn(x),x=Rh(y)}}return zc({width:d,height:u,x:l,y:c})}function Tm(e,t){const n=Ou(e).scrollLeft;return t?t.left+n:os(wr(e)).left+n}function EC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Tm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function vN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=wr(r),a=t?ju(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=hr(1);const d=hr(0),u=yr(r);if((u||!u&&!s)&&((Ci(r)!=="body"||tl(i))&&(l=Ou(r)),yr(r))){const v=os(r);c=zs(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const h=i&&!u&&!s?EC(i,l,!0):hr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function wN(e){return Array.from(e.getClientRects())}function xN(e){const t=wr(e),n=Ou(e),r=e.ownerDocument.body,o=yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Tm(e);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(i+=yn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function SN(e,t){const n=xn(e),r=wr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=Em();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function bN(e,t){const n=os(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=yr(e)?zs(e):hr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Gv(e,t,n){let r;if(t==="viewport")r=SN(e,n);else if(t==="document")r=xN(wr(e));else if(Xn(t))r=bN(t,n);else{const o=CC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return zc(r)}function PC(e,t){const n=Po(e);return n===t||!Xn(n)||fi(n)?!1:Zn(n).position==="fixed"||PC(n,t)}function CN(e,t){const n=t.get(e);if(n)return n;let r=Ra(e,[],!1).filter(a=>Xn(a)&&Ci(a)!=="body"),o=null;const s=Zn(e).position==="fixed";let i=s?Po(e):e;for(;Xn(i)&&!fi(i);){const a=Zn(i),l=Cm(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||tl(i)&&!l&&PC(e,i))?r=r.filter(d=>d!==i):o=a,i=Po(i)}return t.set(e,r),r}function EN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?ju(t)?[]:CN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=Gv(t,d,o);return c.top=yn(u.top,c.top),c.right=Co(u.right,c.right),c.bottom=Co(u.bottom,c.bottom),c.left=yn(u.left,c.left),c},Gv(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PN(e){const{width:t,height:n}=bC(e);return{width:t,height:n}}function TN(e,t,n){const r=yr(t),o=wr(t),s=n==="fixed",i=os(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=hr(0);if(r||!r&&!s)if((Ci(t)!=="body"||tl(o))&&(a=Ou(t)),r){const h=os(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=Tm(o));const c=o&&!r&&!s?EC(o,a):hr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function Bd(e){return Zn(e).position==="static"}function Kv(e,t){if(!yr(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return wr(e)===n&&(n=n.ownerDocument.body),n}function TC(e,t){const n=xn(e);if(ju(e))return n;if(!yr(e)){let o=Po(e);for(;o&&!fi(o);){if(Xn(o)&&!Bd(o))return o;o=Po(o)}return n}let r=Kv(e,t);for(;r&&pN(r)&&Bd(r);)r=Kv(r,t);return r&&fi(r)&&Bd(r)&&!Cm(r)?n:r||mN(e)||n}const kN=async function(e){const t=this.getOffsetParent||TC,n=this.getDimensions,r=await n(e.floating);return{reference:TN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DN(e){return Zn(e).direction==="rtl"}const AN={convertOffsetParentRelativeRectToViewportRelativeRect:vN,getDocumentElement:wr,getClippingRect:EN,getOffsetParent:TC,getElementRects:kN,getClientRects:wN,getDimensions:PN,getScale:zs,isElement:Xn,isRTL:DN};function kC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RN(e,t){let n=null,r;const o=wr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:v}=c;if(a||t(),!h||!v)return;const y=_l(u),x=_l(o.clientWidth-(d+h)),b=_l(o.clientHeight-(u+v)),m=_l(d),S={rootMargin:-y+"px "+-x+"px "+-b+"px "+-m+"px",threshold:yn(0,Co(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!kC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return i(!0),s}function MN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Pm(e),d=o||s?[...c?Ra(c):[],...Ra(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?RN(c,n):null;let h=-1,v=null;i&&(v=new ResizeObserver(m=>{let[w]=m;w&&w.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(t)})),n()}),c&&!l&&v.observe(c),v.observe(t));let y,x=l?os(e):null;l&&b();function b(){const m=os(e);x&&!kC(x,m)&&n(),x=m,y=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(w=>{o&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),u==null||u(),(m=v)==null||m.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const IN=uN,_N=dN,NN=aN,LN=hN,FN=lN,Yv=iN,jN=fN,ON=(e,t,n)=>{const r=new Map,o={platform:AN,...n},s={...o.platform,_c:r};return sN(e,t,{...o,platform:s})};var lc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function qc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!qc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function DC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qv(e,t){const n=DC(e);return Math.round(t*n)/n}function zd(e){const t=f.useRef(e);return lc(()=>{t.current=e}),t}function $N(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=f.useState(r);qc(h,r)||v(r);const[y,x]=f.useState(null),[b,m]=f.useState(null),w=f.useCallback(R=>{R!==P.current&&(P.current=R,x(R))},[]),S=f.useCallback(R=>{R!==k.current&&(k.current=R,m(R))},[]),C=s||y,E=i||b,P=f.useRef(null),k=f.useRef(null),D=f.useRef(d),A=l!=null,M=zd(l),L=zd(o),_=zd(c),Y=f.useCallback(()=>{if(!P.current||!k.current)return;const R={placement:t,strategy:n,middleware:h};L.current&&(R.platform=L.current),ON(P.current,k.current,R).then(I=>{const F={...I,isPositioned:_.current!==!1};$.current&&!qc(D.current,F)&&(D.current=F,Qa.flushSync(()=>{u(F)}))})},[h,t,n,L,_]);lc(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const $=f.useRef(!1);lc(()=>($.current=!0,()=>{$.current=!1}),[]),lc(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(M.current)return M.current(C,E,Y);Y()}},[C,E,Y,M,A]);const K=f.useMemo(()=>({reference:P,floating:k,setReference:w,setFloating:S}),[w,S]),N=f.useMemo(()=>({reference:C,floating:E}),[C,E]),O=f.useMemo(()=>{const R={position:n,left:0,top:0};if(!N.floating)return R;const I=Qv(N.floating,d.x),F=Qv(N.floating,d.y);return a?{...R,transform:"translate("+I+"px, "+F+"px)",...DC(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:F}},[n,a,N.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:Y,refs:K,elements:N,floatingStyles:O}),[d,Y,K,N,O])}const UN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Yv({element:r.current,padding:o}).fn(n):{}:r?Yv({element:r,padding:o}).fn(n):{}}}},VN=(e,t)=>({...IN(e),options:[e,t]}),BN=(e,t)=>({..._N(e),options:[e,t]}),zN=(e,t)=>({...jN(e),options:[e,t]}),qN=(e,t)=>({...NN(e),options:[e,t]}),WN=(e,t)=>({...LN(e),options:[e,t]}),HN=(e,t)=>({...FN(e),options:[e,t]}),GN=(e,t)=>({...UN(e),options:[e,t]});var KN="Arrow",AC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(Se.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});AC.displayName=KN;var YN=AC;function km(e){const[t,n]=f.useState(void 0);return Fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dm="Popper",[RC,$u]=hn(Dm),[QN,MC]=RC(Dm),IC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(QN,{scope:t,anchor:r,onAnchorChange:o,children:n})};IC.displayName=Dm;var _C="PopperAnchor",NC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=MC(_C,n),i=f.useRef(null),a=Ie(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(Se.div,{...o,ref:a})});NC.displayName=_C;var Am="PopperContent",[XN,ZN]=RC(Am),LC=f.forwardRef((e,t)=>{var ge,se,Ae,qe,Ce,oe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=e,b=MC(Am,n),[m,w]=f.useState(null),S=Ie(t,xe=>w(xe)),[C,E]=f.useState(null),P=km(C),k=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,A=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],_=L.length>0,Y={padding:M,boundary:L.filter(eL),altBoundary:_},{refs:$,floatingStyles:K,placement:N,isPositioned:O,middlewareData:R}=$N({strategy:"fixed",placement:A,whileElementsMounted:(...xe)=>MN(...xe,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[VN({mainAxis:o+D,alignmentAxis:i}),l&&BN({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?zN():void 0,...Y}),l&&qN({...Y}),WN({...Y,apply:({elements:xe,rects:ie,availableWidth:_e,availableHeight:at})=>{const{width:yt,height:Nt}=ie.reference,lt=xe.floating.style;lt.setProperty("--radix-popper-available-width",`${_e}px`),lt.setProperty("--radix-popper-available-height",`${at}px`),lt.setProperty("--radix-popper-anchor-width",`${yt}px`),lt.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),C&&GN({element:C,padding:a}),tL({arrowWidth:k,arrowHeight:D}),h&&HN({strategy:"referenceHidden",...Y})]}),[I,F]=OC(N),H=ft(y);Fn(()=>{O&&(H==null||H())},[O,H]);const ee=(ge=R.arrow)==null?void 0:ge.x,ke=(se=R.arrow)==null?void 0:se.y,de=((Ae=R.arrow)==null?void 0:Ae.centerOffset)!==0,[tt,te]=f.useState();return Fn(()=>{m&&te(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:O?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(qe=R.transformOrigin)==null?void 0:qe.x,(Ce=R.transformOrigin)==null?void 0:Ce.y].join(" "),...((oe=R.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(XN,{scope:n,placedSide:I,onArrowChange:E,arrowX:ee,arrowY:ke,shouldHideArrow:de,children:p.jsx(Se.div,{"data-side":I,"data-align":F,...x,ref:S,style:{...x.style,animation:O?void 0:"none"}})})})});LC.displayName=Am;var FC="PopperArrow",JN={top:"bottom",right:"left",bottom:"top",left:"right"},jC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=ZN(FC,r),i=JN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(YN,{...o,ref:n,style:{...o.style,display:"block"}})})});jC.displayName=FC;function eL(e){return e!==null}var tL=e=>({name:"transformOrigin",options:e,fn(t){var b,m,w;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=OC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,v=(((w=o.arrow)==null?void 0:w.y)??0)+l/2;let y="",x="";return c==="bottom"?(y=i?u:`${h}px`,x=`${-l}px`):c==="top"?(y=i?u:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,x=i?u:`${v}px`):c==="left"&&(y=`${r.floating.width+l}px`,x=i?u:`${v}px`),{data:{x:y,y:x}}}});function OC(e){const[t,n="center"]=e.split("-");return[t,n]}var $C=IC,UC=NC,VC=LC,BC=jC,[Uu,n3]=hn("Tooltip",[$u]),Vu=$u(),zC="TooltipProvider",nL=700,Mh="tooltip.open",[rL,Rm]=Uu(zC),qC=e=>{const{__scopeTooltip:t,delayDuration:n=nL,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(rL,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};qC.displayName=zC;var Bu="Tooltip",[oL,zu]=Uu(Bu),WC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=Rm(Bu,e.__scopeTooltip),c=Vu(t),[d,u]=f.useState(null),h=Qo(),v=f.useRef(0),y=i??l.disableHoverableContent,x=a??l.delayDuration,b=f.useRef(!1),[m=!1,w]=vr({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(Mh))):l.onClose(),s==null||s(k)}}),S=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(v.current),v.current=0,b.current=!1,w(!0)},[w]),E=f.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w(!1)},[w]),P=f.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{b.current=!0,w(!0),v.current=0},x)},[x,w]);return f.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),p.jsx($C,{...c,children:p.jsx(oL,{scope:t,contentId:h,open:m,stateAttribute:S,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{y?E():(window.clearTimeout(v.current),v.current=0)},[E,y]),onOpen:C,onClose:E,disableHoverableContent:y,children:n})})};WC.displayName=Bu;var Ih="TooltipTrigger",HC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=zu(Ih,n),s=Rm(Ih,n),i=Vu(n),a=f.useRef(null),l=Ie(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(UC,{asChild:!0,...i,children:p.jsx(Se.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:re(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:re(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:re(e.onBlur,o.onClose),onClick:re(e.onClick,o.onClose)})})});HC.displayName=Ih;var sL="TooltipPortal",[r3,iL]=Uu(sL,{forceMount:void 0}),hi="TooltipContent",GC=f.forwardRef((e,t)=>{const n=iL(hi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=zu(hi,e.__scopeTooltip);return p.jsx(pn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(KC,{side:o,...s,ref:t}):p.jsx(aL,{side:o,...s,ref:t})})}),aL=f.forwardRef((e,t)=>{const n=zu(hi,e.__scopeTooltip),r=Rm(hi,e.__scopeTooltip),o=f.useRef(null),s=Ie(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),v=f.useCallback((y,x)=>{const b=y.currentTarget,m={x:y.clientX,y:y.clientY},w=fL(m,b.getBoundingClientRect()),S=hL(m,w),C=pL(x.getBoundingClientRect()),E=gL([...S,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const y=b=>v(b,d),x=b=>v(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[l,d,v,h]),f.useEffect(()=>{if(i){const y=x=>{const b=x.target,m={x:x.clientX,y:x.clientY},w=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),S=!mL(m,i);w?h():S&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,i,c,h]),p.jsx(KC,{...e,ref:s})}),[lL,cL]=Uu(Bu,{isInside:!1}),uL=Rb("TooltipContent"),KC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=zu(hi,n),c=Vu(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Mh,d),()=>document.removeEventListener(Mh,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Ja,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(VC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(uL,{children:r}),p.jsx(lL,{scope:n,isInside:!0,children:p.jsx(SI,{id:l.contentId,role:"tooltip",children:o||r})})]})})});GC.displayName=hi;var YC="TooltipArrow",dL=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Vu(n);return cL(YC,n).isInside?null:p.jsx(BC,{...o,...r,ref:t})});dL.displayName=YC;function fL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function pL(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function mL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function gL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yL(t)}function yL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vL=qC,wL=WC,xL=HC,QC=GC;const XC=vL,SL=wL,bL=xL,ZC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(QC,{ref:r,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));ZC.displayName=QC.displayName;const Mm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mm.displayName="Card";const CL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));CL.displayName="CardHeader";const EL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));EL.displayName="CardTitle";const PL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));PL.displayName="CardDescription";const Im=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("p-6 pt-0",e),...t}));Im.displayName="CardContent";const TL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",e),...t}));TL.displayName="CardFooter";function kL(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Mm,{className:"w-full max-w-md mx-4",children:p.jsxs(Im,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(sC,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const _m=el("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?eI:"button";return p.jsx(i,{className:ne(_m({variant:t,size:n,className:e})),ref:s,...o})});Ge.displayName="Button";const qd=e=>e.map(t=>typeof t=="object"?JSON.stringify(t):t),g={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...qd(e))},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...qd(e))},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...qd(e))}};var JC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new o(d,u||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],v]:l._events[y].push(v):(l._events[y]=v,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,v=u.length,y=new Array(v);h<v;h++)y[h]=u[h].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,v,y){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],m=arguments.length,w,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,h),!0;case 5:return b.fn.call(b.context,d,u,h,v),!0;case 6:return b.fn.call(b.context,d,u,h,v,y),!0}for(S=1,w=new Array(m-1);S<m;S++)w[S-1]=arguments[S];b.fn.apply(b.context,w)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),m){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,u);break;case 4:b[S].fn.call(b[S].context,d,u,h);break;default:if(!w)for(E=1,w=new Array(m-1);E<m;E++)w[E-1]=arguments[E];b[S].fn.apply(b[S].context,w)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var v=n?n+c:c;if(!this._events[v])return this;if(!d)return i(this,v),this;var y=this._events[v];if(y.fn)y.fn===d&&(!h||y.once)&&(!u||y.context===u)&&i(this,v);else{for(var x=0,b=[],m=y.length;x<m;x++)(y[x].fn!==d||h&&!y[x].once||u&&y[x].context!==u)&&b.push(y[x]);b.length?this._events[v]=b.length===1?b[0]:b:i(this,v)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(JC);var DL=JC.exports;const AL=pp(DL),RL="401z949o3txi3r0",Nl="/Photos",qs="/Metadata",ML="images.json";function eE(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const tE=qs.startsWith("/")?qs.replace("//","/"):`/${qs}`.replace("//","/"),nE=`${tE}/${ML}`.replace("//","/");function rE(e,t){const n=eE(e,t);return`${tE}/${n}`.replace("//","/")}function $r(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function oE(e){var t;if($r(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function sE(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function IL(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function iE(e,t,n){let r=null;try{g.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return g.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return g.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return g.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(g.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){g.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return g.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(oE(o))return g.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw $r(o)?g.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):g.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function aE(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(g.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});g.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),g.log(`${t} saved successfully.`)}catch(o){throw $r(o)?g.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):g.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function Wc(e,t,n){const r=rE(t,n);return g.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),iE(e,r,["createdAt","updatedAt"])}async function _L(e){return iE(e,nE,["createdAt"])}async function Ll(e,t,n,r){const o=rE(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){g.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),g.log(`Deleted empty entries file: ${o}`)}catch(i){$r(i)&&sE(i.error,"not_found")?g.log(`Empty entries file ${o} does not exist. No deletion needed.`):$r(i)?g.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):g.error(`Non-API Error deleting ${o}:`,i)}return}await aE(e,o,s,["createdAt","updatedAt"])}async function _h(e,t){await aE(e,nE,t,["createdAt"])}async function NL(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");g.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return g.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw g.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw $r(i)?g.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):g.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function LL(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return g.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),g.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return $r(l)&&(sE(l.error,"not_found")||IL(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(g.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):($r(l)?g.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):g.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function FL(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function jL(e){try{const t=await crypto.subtle.digest("SHA-256",e);return FL(t)}catch(t){throw g.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function OL(e){try{const t=await e.arrayBuffer();return jL(t)}catch(t){throw g.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const Fl="PhojoCacheDB",Xv=3,ln="entries",pr="imageMetadata",Ws="photoBlobs",cr="cacheStatus",Xo="saveQueue";let Pn=null;function lE(){return new Promise((e,t)=>{if(Pn&&Pn.objectStoreNames.length>0){e(Pn);return}g.log(`[IDB] Opening database ${Fl} version ${Xv}...`);const n=indexedDB.open(Fl,Xv);n.onerror=r=>{var o;g.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{g.log(`[IDB] Database ${Fl} opened successfully.`),Pn=n.result,Pn.onclose=()=>{g.warn("[IDB] Database connection closed unexpectedly."),Pn=null},Pn.onversionchange=()=>{g.warn("[IDB] Database version change detected. Closing connection."),Pn==null||Pn.close(),Pn=null},e(Pn)},n.onupgradeneeded=r=>{g.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){g.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(Fl);a.onsuccess=()=>{g.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{g.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{g.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(ln))o.createObjectStore(ln).createIndex("byDate","date",{unique:!1}),g.log(`[IDB] Object store created: ${ln} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(ln);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),g.log(`[IDB] Added 'byDate' index to ${ln} store`))}if(o.objectStoreNames.contains(pr)||(o.createObjectStore(pr),g.log(`[IDB] Object store created: ${pr}`)),o.objectStoreNames.contains(Ws)||(o.createObjectStore(Ws),g.log(`[IDB] Object store created: ${Ws}`)),!o.objectStoreNames.contains(cr))o.createObjectStore(cr).createIndex("lastAccessed","lastAccessed",{unique:!1}),g.log(`[IDB] Object store created: ${cr} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(cr);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),g.log(`[IDB] Re-created 'lastAccessed' index on ${cr}`))}o.objectStoreNames.contains(Xo)||(o.createObjectStore(Xo),g.log(`[IDB] Object store created: ${Xo}`)),g.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{g.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Jn(e,t,n){const r=await lE();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{g.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{g.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{g.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){g.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function vo(e,t,n){await Jn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),g.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function cE(e,t){return Jn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function ar(e,t){await Jn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),g.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function $L(e){await Jn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),g.log(`[IDB] Store '${e}' cleared successfully.`)}async function UL(e){return Jn(cr,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{g.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){g.error("[IDB] Error setting up index query:",o),r(o)}}))}async function Hc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Jn(ln,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const v=h.map(y=>({...y,createdAt:y.createdAt instanceof Date?y.createdAt:new Date(y.createdAt||0),updatedAt:y.updatedAt instanceof Date?y.updatedAt:new Date(y.updatedAt||0)}));a(v)}else a(void 0)},u.onerror=()=>{g.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){g.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function VL(e){return Jn(ln,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{g.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(g.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){g.error("[IDB] Error caching entries:",o),r(o)}}))}async function Wd(){return Jn(pr,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{g.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function BL(){return Jn(ln,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{g.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function zL(e){return Jn(pr,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{g.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(g.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){g.error("[IDB] Error caching metadata:",o),r(o)}}))}async function qL(e){return e?ar(pr,e):$L(pr)}async function Kr(e){return cE(Ws,e)}async function _o(e,t,n){const r=Date.now();await vo(Ws,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await vo(cr,e,{lastAccessed:r,size:t.size,type:n})}async function As(e){await Promise.all([ar(Ws,e),ar(cr,e)])}async function jl(e){const t=await cE(cr,e);if(!t){g.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await vo(cr,e,t)}async function Oi(e){g.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await vo(Xo,e.actionId,e)}async function uE(){return g.log("[IDB] Getting all items from save queue"),Jn(Xo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter(GL))??[];g.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{g.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function Nh(e){g.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await vo(Xo,e.actionId,e)}async function WL(e){g.log(`[IDB] Removing action from save queue. ID: ${e}`),await ar(Xo,e)}async function HL(){const e=await uE();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await Nh(r),t++}t>0&&g.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function Ma(){return(await uE()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function GL(e){var r;if(typeof e!="object"||e===null)return g.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return g.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return g.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return g.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return g.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return g.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return g.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return g.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}lE().catch(e=>g.error("[IDB] Initial DB open failed:",e));let Hd=!1;const Zv=5e4;async function dE(e,t,n,r){if(!t||!e){g.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await fE(e,t,n,r);const o=await Ma();o.length>0&&(g.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await dE(e,t,n,r))}function Jv(e,t){if(!t||!e){g.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}dE(e,t).catch(n=>{g.error("[SyncService] Background sync process error:",n)}),g.log("[SyncService] Background sync process started")}async function fE(e,t,n,r){if(Hd){g.log("[SyncService] processSaveQueue already in progress, skipping");return}Hd=!0;try{if(!t||!e){g.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await Ma();if(o.length===0){g.log("[SyncService] No pending actions in queue");return}g.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await Nh(i),s.entity==="entry"?await KL(e,s):s.entity==="photoMetadata"?await YL(e,s):s.entity==="photoUpload"?await QL(e,s):z_(s),await WL(s.actionId),g.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=Zv?"failed":"pending",c={...s,retryCount:a,status:l};await Nh(c),g.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(g.error(`[SyncService] Action ${s.actionId} failed after ${Zv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{Hd=!1}}async function KL(e,t){const{type:n,payload:r}=t,o=new Nm(e),{year:s,month:i}=r,a=await Wc(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(v=>!d.photos.some(y=>y.id===v.id))){const v=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(v)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(v=>v.id!==d);await Ll(e,s,i,u);const h=l.find(v=>v.id===d);if(h&&h.photos&&h.photos.length>0){g.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const v=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(v)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,v=await Wc(e,d,u),y=o.parseEntryDates(v),x=y.filter(S=>S.id!==S.id),m=[...l.filter(S=>S.id!==S.id),h];await Ll(e,d,u,x),await Ll(e,s,i,m);const w=y.find(S=>S.id===h.id);await c(h,w)}else{const{entry:d}=r,u=l.find(y=>y.id===d.id),v=[...l.filter(y=>y.id!==d.id),d];v.sort((y,x)=>{const b=new Date(y.date).getTime(),m=new Date(x.date).getTime();return b!==m?b-m:y.createdAt.getTime()-x.createdAt.getTime()}),await Ll(e,s,i,v),await c(d,u)}}async function YL(e,t){const{type:n,payload:r}=t,s=await new Nm(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await _h(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await _h(e,c)}}async function QL(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Kr(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await NL(e,s,a,o)}const hE=.8,XL=.7,ZL=10;async function Lh(){try{if(!navigator.storage||!navigator.storage.estimate)return g.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return g.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return g.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return g.error("[StorageMgr] Error getting storage estimate:",e),null}}async function ew(e,t=!0){try{const n=await UL(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return g.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function Gc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await ew(e);return o.length>0?(g.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>As(s))),o.length):0}const r=await Lh();if(!r||r.usagePercentage<hE)return g.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await ew(ZL);if(o.length===0){g.log("[StorageMgr] No more blobs to prune");break}g.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>As(i))),t+=o.length;const s=await Lh();!s||s.usagePercentage<=XL?(g.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(g.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return g.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return g.error("[StorageMgr] Error during pruning:",t),0}}async function Gd(){try{const e=await Lh();if(!e)return;if(e.usagePercentage>=hE){g.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await Gc();g.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){g.error("[StorageMgr] Error in automatic pruning check:",e)}}async function Kd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(g.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){g.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class lo{constructor(){this.urlMap=new Map}static getInstance(){return lo.instance||(lo.instance=new lo),lo.instance}createUrl(t,n){let r=this.urlMap.get(t);return r?(g.log(`[BlobMgr] [URL REUSE] Reusing existing URL for hash ${t}: ${r}`,{action:"createUrl_reuse",contentHash:t,mapSize:this.urlMap.size,timestamp:Date.now()}),r):(r=URL.createObjectURL(n),this.urlMap.set(t,r),g.log(`[BlobMgr] [URL CREATION] Created URL for hash ${t}: ${r}`,{action:"createUrl_new",contentHash:t,blobType:n.type,blobSize:n.size,mapSize:this.urlMap.size,timestamp:Date.now()}),r)}getUrl(t){const n=this.urlMap.get(t)||null;return g.log(`[BlobMgr] [URL ACCESS] GetUrl for hash ${t}: ${n?"found":"not found"}`,{action:"getUrl",contentHash:t,found:!!n,mapSize:this.urlMap.size,timestamp:Date.now()}),n}revokeUrl(t){const n=this.urlMap.get(t);if(n){g.log(`[BlobMgr] [URL REVOCATION] Revoking URL for hash ${t}: ${n}`,{action:"revokeUrl",contentHash:t,mapSize:this.urlMap.size,timestamp:Date.now(),stackTrace:new Error().stack});try{URL.revokeObjectURL(n),g.log(`[BlobMgr] [URL REVOCATION] Successfully revoked URL for hash ${t}`)}catch(r){g.error(`[BlobMgr] [URL REVOCATION] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t),g.log(`[BlobMgr] [URL LIFECYCLE] Removed URL from map for hash ${t}. Map size now: ${this.urlMap.size}`)}else g.warn(`[BlobMgr] [URL REVOCATION] Attempted to revoke URL for hash ${t}, but no URL was found`)}revokeAllUrls(){const t=this.urlMap.size;g.log(`[BlobMgr] [URL BULK REVOCATION] Revoking all ${t} URLs.`,{action:"revokeAllUrls",mapSize:t,timestamp:Date.now(),hashList:Array.from(this.urlMap.keys()),stackTrace:new Error().stack}),this.urlMap.forEach((n,r)=>{try{g.log(`[BlobMgr] [URL BULK REVOCATION] Revoking URL for hash ${r}: ${n}`),URL.revokeObjectURL(n)}catch(o){g.error(`[BlobMgr] [URL BULK REVOCATION] Error revoking URL for hash ${r}:`,o)}}),this.urlMap.clear(),g.log(`[BlobMgr] [URL LIFECYCLE] Cleared all ${t} URLs from map. Map size now: ${this.urlMap.size}`)}}var Fh=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(Fh||{});const Yd=30*60*1e3,$i=qs.startsWith("/")?qs.replace("//","/"):`/${qs}`.replace("//","/"),tw=e=>e.isNew===!0;class Nm{constructor(t){this.blobUrlManager=lo.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new AL,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache($i)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache($i),g.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),g.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<Yd?(g.log(`[MemCache] Hit folder list for ${t}`),n.data):(g.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),g.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){g.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(g.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(g.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;g.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),g.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(oE(r))return g.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw $r(r)?g.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):g.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){g.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder($i)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return g.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return g.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);g.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await Hc(t,n),i=s&&s.length>0;i?g.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):g.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<Yd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{g.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){g.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await Hc(t,n);if(i&&i.length>0)return g.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){g.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);g.log(`[Background Sync] Starting background sync for ${o}`);try{const s=eE(t,n),a=(await this.listFolder($i)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)g.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await Wc(this.dbx,t,n);l=this.parseEntryDates(c),g.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(v=>v.id)),u=r.filter(v=>!d.has(v.id));if(u.length>0){g.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const v=await Ma();for(const y of u)v.some(b=>b.entity==="entry"&&b.type!=="delete"&&b.payload.entry.id===y.id)?g.log(`[Background Sync] Not deleting entry ${y.id} - has pending changes`):(g.log(`[Background Sync] Deleting orphaned entry ${y.id} from local cache`),await ar(ln,y.id))}const h=[...l].sort((v,y)=>new Date(v.date).getTime()-new Date(y.date).getTime()||v.createdAt.getTime()-y.createdAt.getTime());g.log(`[Background Sync] Storing ${h.length} entries in local cache`),await VL(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(g.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),g.log(`[Background Sync] Completed for ${o}`)}catch(s){throw g.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");g.log("[Background Sync] Starting metadata background sync");try{g.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await _L(this.dbx),r=this.parseMetadataDates(n);g.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){g.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await Ma();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?g.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(g.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await ar(pr,a.id))}g.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await zL(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(g.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),g.log("[Background Sync] Metadata sync completed")}catch(n){throw g.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){g.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await Wd(),r=n&&n.length>0;r?g.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):g.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<Yd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{g.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){g.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await Wd();if(r&&r.length>0)return g.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){g.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return g.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return jl(o).catch(a=>g.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Kr(o);if(a)return g.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await jl(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Kr(t);if(l){g.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await Kd(l.blob);return g.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await _o(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return g.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){g.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return g.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Kr(t);if(a){g.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await Kd(a.blob);return g.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await _o(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return g.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return g.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return g.log(`[Memory] Found cached URL for hash ${t}`),jl(t).catch(s=>g.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Kr(t);if(s)return g.log(`[Cache] Found blob in IDB for hash ${t}.`),await jl(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){g.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return g.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return g.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;g.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var v;return((v=h.photoMetadata)==null?void 0:v.contentHash)===t});if(!(i!=null&&i.photoFilename))return g.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Nl}/${a}`.replace("//","/");g.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return g.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;g.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await _o(t,d,"full"),this.generateThumbnailInBackground(t,d),g.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){g.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await Gc(10),await _o(t,d,"full"),this.generateThumbnailInBackground(t,d),g.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(v){g.error(`[Cache] Failed to prune and retry caching for ${t}:`,v)}}else g.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return g.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,k,D;if(g.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(A=>A.photoId))??[]),c=[];i&&l.forEach(A=>{t.photos.some(L=>!tw(L)&&L.photoId===A)||g.log(`[Save] Photo ${A} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let v=null,y=null;if(n){const A=new Date(n.date+"T00:00:00Z");v=A.getUTCFullYear(),y=A.getUTCMonth()+1}const x=i&&(u!==v||h!==y);for(const A of t.photos){let M=null,L,_=null,Y=!1;if(tw(A)){const $=A.file;L=A.crop,_=await OL($);const K=o.find(N=>{var O;return((O=N.photoMetadata)==null?void 0:O.contentHash)===_});if(K)M=K.id,g.log(`[Save] Hash collision for ${$.name}. Using existing ID: ${M}`),l.has(M)||(Y=!0),await Kr(_)||c.push({hash:_,blob:$});else{g.log(`[Save] Uploading new photo: ${$.name}`);const N=Date.now(),O=crypto.randomUUID().substring(0,8),R=$.name.replace(/[^a-zA-Z0-9.]/g,"_"),I=`${N}_${O}_${R}`,F={id:crypto.randomUUID(),photoFilename:I,photoMetadata:{filename:$.name,mimeType:$.type,width:(E=A.originalDimensions)==null?void 0:E.width,height:(P=A.originalDimensions)==null?void 0:P.height,exifDate:((k=A.exifData)==null?void 0:k.exifDate)??null,contentHash:_},createdAt:new Date},H=crypto.randomUUID(),ee={actionId:H,type:"create",entity:"photoUpload",payload:{contentHash:_,photoFilename:I,folder:Nl},timestamp:Date.now(),retryCount:0,status:"pending"};await Oi(ee),g.log(`[Save] Photo upload added to sync queue. ActionId: ${H}, Hash: ${_}`),M=F.id,o.push(F),a.push(F),await vo(pr,F.id,F),Y=!0,c.push({hash:_,blob:$}),g.log(`[Save] New photo uploaded. ID: ${M}, Hash: ${_}`)}}else{M=A.photoId,L=A.crop;const $=o.find(K=>K.id===M);_=((D=$==null?void 0:$.photoMetadata)==null?void 0:D.contentHash)??null,(!i||!l.has(M))&&(Y=!0),_&&(await Kr(_)||g.warn(`[Save] Existing photo blob missing from cache for hash: ${_} (ID: ${M})`)),g.log(`[Save] Keeping existing photo ID: ${M}. Is addition? ${Y}. Hash: ${_}`)}M&&s.push({photoId:M,crop:L})}for(const{hash:A,blob:M}of c)await _o(A,M,"full");const b=t.date.toISOString().split("T")[0],m=new Date;let w;if(n?w={...n,date:b,content:t.content,photos:s,updatedAt:m}:w={id:crypto.randomUUID(),date:b,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),x&&v!==null&&y!==null){g.log(`[Save] Deleting entry ${w.id} from local database due to date change`),await ar(ln,w.id),g.log(`[Save] Adding entry ${w.id} to local database due to date change`),await vo(ln,w.id,w);const A=crypto.randomUUID(),M={actionId:A,type:"update",entity:"entry",payload:{entry:w,year:v,month:y,isDateChange:!0,oldYear:v,oldMonth:y},timestamp:Date.now(),retryCount:0,status:"pending"};await Oi(M),g.log(`[Save] Date change original month update added to sync queue. ActionId: ${A}`)}else{g.log(`[Save] Saving entry ${w.id} to local database`),await vo(ln,w.id,w);const A=crypto.randomUUID(),M={actionId:A,type:n?"update":"create",entity:"entry",payload:{entry:w,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Oi(M),g.log(`[Save] Entry save added to sync queue. ActionId: ${A}, ID: ${w.id}`)}g.log(`[Save] Queueing metadata update with ${a.length} entries`);const S=crypto.randomUUID(),C={actionId:S,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Oi(C),g.log(`[Save] Metadata update added to sync queue. ActionId: ${S}`),r&&this.dbx&&(g.log("[Save] Online mode - triggering immediate processing of save queue in background"),Jv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Kr(r)){g.log(`[Background] Thumbnail already exists for hash ${t}.`);return}g.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await Kd(n);g.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await _o(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){g.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await Gc(10),await _o(r,s,"thumb"),g.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){g.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else g.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){g.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){g.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}g.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){g.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await Wc(this.dbx,a,l);g.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){g.error(`[Cleanup] Error processing entries file ${s}:`,i)}g.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){g.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(g.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var v;if(h.photoFilename)try{if(g.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await LL(this.dbx,h.photoFilename,Nl)){g.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const x=(v=h.photoMetadata)==null?void 0:v.contentHash;x&&(await As(x),await As(`${x}-thumb`),this.blobUrlManager.revokeUrl(x),this.blobUrlManager.revokeUrl(`${x}-thumb`))}}catch(y){g.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,y)}else g.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),g.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}g.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await _h(this.dbx,l);for(const c of o)qL(c.id)}else g.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(g.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){g.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?g.log("[Deletion Sync] Photo deletions sync completed successfully"):g.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?g.log("[Deletion Sync] Entry deletions sync completed successfully"):g.error("[Deletion Sync] Entry deletions sync failed:",n.reason),g.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){g.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(g.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Nl)).filter(i=>i[".tag"]==="file").map(i=>i.name);g.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await Wd();if(!r||r.length===0){g.log("[Deletion Sync] No local metadata to check");return}g.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){g.log("[Deletion Sync] No orphaned photo metadata found");return}g.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)g.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await ar(pr,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await As(i.photoMetadata.contentHash),await As(`${i.photoMetadata.contentHash}-thumb`));g.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(g.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder($i)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);g.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await BL();if(!r||r.length===0){g.log("[Deletion Sync] No local entries to check");return}g.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(g.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>ar(ln,l.id))))}g.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){g.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){g.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}g.log(`[Delete] Deleting entry ${t} from local database`),await ar(ln,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Oi(l),g.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(g.log("[Delete] Online mode - triggering immediate processing of save queue in background"),Jv(this.dbx,o)),g.log("[Delete] deleteEntry operation completed.")}catch(s){throw g.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){g.log("[Prefetch] Skipping prefetch while offline.");return}g.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){g.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>g.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){g.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>g.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var JL="rpc",eF="upload",tF="download",Qd="app",Xd="user",Zd="team",nF="noauth",rF="cookie",Kc="dropboxapi.com",nw="dropbox.com",jh={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function oF(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Jd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Kc&&jh[t]!==void 0&&(t=jh[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},sF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nw;return t!==nw&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},rw=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Kc&&(r=jh[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function ow(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,oF)}function iF(e){return new Date(Date.now()+e*1e3)}function sw(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof mD>"u"||typeof window<"u"}function ef(){return typeof window<"u"}function tf(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Ol(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function cc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cc=function(n){return typeof n}:cc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cc(e)}function aF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}function cF(e){var t=pE();return function(){var r=_a(e),o;if(t){var s=_a(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return uF(this,o)}}function uF(e,t){return t&&(cc(t)==="object"||typeof t=="function")?t:dF(e)}function dF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oh(e){var t=typeof Map=="function"?new Map:void 0;return Oh=function(r){if(r===null||!fF(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return uc(r,arguments,_a(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ia(o,r)},Oh(e)}function uc(e,t,n){return pE()?uc=Reflect.construct:uc=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Ia(c,i.prototype),c},uc.apply(null,arguments)}function pE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function fF(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ia(e,t){return Ia=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ia(e,t)}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_a(e)}var hF=function(e){lF(n,e);var t=cF(n);function n(r,o,s){var i;return aF(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(Oh(Error));function pF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var mE=function e(t,n,r){pF(this,e),this.status=t,this.headers=n,this.result=r};function gE(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new hF(e.status,e.headers,n)})}function Yc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new mE(e.status,e.headers,n)}):gE(e)}function mF(e){return e.ok?new Promise(function(t){sw()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return sw()?n.fileBlob=t:n.fileBinary=t,new mE(e.status,e.headers,n)}):gE(e)}function gF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vF(e,t,n){return t&&yF(e.prototype,t),e}var $l,No,nf,wF=300*1e3,iw=128,xF=["legacy","offline","online"],SF=["code","token"],bF=["none","user","team"],yE=function(){function e(t){gF(this,e),t=t||{},ef()?($l=window.fetch.bind(window),No=window.crypto||window.msCrypto):tf()?($l=self.fetch.bind(self),No=self.crypto):($l=require("node-fetch"),No=require("crypto")),typeof TextEncoder>"u"?nf=require("util").TextEncoder:nf=TextEncoder,this.fetch=t.fetch||$l,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return vF(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new nf,o=r.encode(this.codeVerifier),s;if(ef()||tf())return No.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=Ol(l).substr(0,128),n.codeChallenge=s});var i=No.createHash("sha256").update(o).digest();return s=Ol(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(ef()||tf()){var r=new Uint8Array(iw),o=No.getRandomValues(r),s=btoa(o);n=Ol(s).substr(0,128)}else{var i=No.randomBytes(iw);n=Ol(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=sF(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!SF.includes(s))throw new Error("Authorization type must be code or token");if(i&&!xF.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!bF.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=rw(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return Yc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+wF)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=rw(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return Yc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(iF(c.result.expires_in))})}}]),e}();function CF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PF(e,t,n){return t&&EF(e.prototype,t),e}var TF=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,aw=function(){function e(t){CF(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new yE(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return PF(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case JL:return this.rpcRequest(n,r,o,s);case tF:return this.downloadRequest(n,r,o,s);case eF:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Jd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Yc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":ow(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Jd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return mF(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":ow(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Jd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Yc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Xd)&&this.auth.getAccessToken()?n=Xd:o.includes(Zd)&&this.auth.getAccessToken()?n=Zd:o.includes(Qd)&&(n=Qd)}switch(n){case Qd:if(this.auth.clientId&&this.auth.clientSecret){var s=TF("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Zd:case Xd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case nF:case rF:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function kF(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function DF(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{g.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new yE({clientId:RL}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(w=>{g.log("Generated auth URL, redirecting..."),window.location.href=String(w)}).catch(w=>{g.error("Dropbox auth URL generation failed:",w),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){g.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{g.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const v=f.useCallback((b,m=!1)=>{g.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(g.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(g.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const w=new aw({accessToken:b});let S=!0;return w.usersGetCurrentAccount().then(C=>{if(!S)return;const E=C.result;t(w),r(!0),u(E),c(null),g.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(S)if(g.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),kF(C))g.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{g.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{S&&(g.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{S=!1}},[n]);f.useEffect(()=>{g.log("[useDropboxAuth useEffect] Running effect.");let b,w=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const S=localStorage.getItem("dropboxToken");let C=null;return w?(g.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",w),C=w,g.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):S&&(g.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=S),C?b=v(C,!1):(g.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{b==null||b(),g.log("[useDropboxAuth useEffect] Cleanup.")}},[v]);const y=f.useCallback(()=>{g.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?v(b,!0):g.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,v]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{g.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),b&&new aw({accessToken:b}).authTokenRevoke().then(()=>g.log("Dropbox token revoked successfully.")).catch(w=>g.error("Failed to revoke Dropbox token:",w))},tryVerifyStoredToken:y}}function AF(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,w)=>{const S=new Date(w,m-1),C=new Date(o,n-1);S>C?a(1):S<C?a(-1):a(0),r(m),s(w)},[n,o]),u=f.useCallback(()=>{let m=n,w=o;m===1?(w--,m=12):m--,d(m,w)},[n,o,d]),h=f.useCallback(()=>{let m=n,w=o;m===12?(w++,m=1):m++,d(m,w)},[n,o,d]),v=f.useCallback((m,w)=>{d(m,w),c(!1)},[d]),y=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),x=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:v,handleCalendarSwipe:y,openMonthYearPicker:x,closeMonthYearPicker:b,setSwipeDirection:a}}function RF(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((y,x)=>{s(y),r(x),a(!1),t(!0)},[]),u=f.useCallback(y=>{c(y),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),v=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:v}}const rf=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",$h=()=>{const[e,t]=f.useState(rf());f.useEffect(()=>{const r=()=>{const o=rf();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=rf();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},Uh=()=>Rs.getInstance();class Rs{constructor(){this.listeners=new Map,this.swController=null,this.messageQueue=[],this.isListenerAttached=!1,this.handleControllerChange=()=>{g.log("[SWHandler] Service Worker controller changed."),this.swController=navigator.serviceWorker.controller,this.attachMessageListener()},this.handleIncomingMessage=t=>{const n=t.data;if(!n||!n.type){g.warn("[SWHandler] Received SW message with no data or type",t.data);return}this.dispatchMessage(n)},g.log("[SWHandler] Initializing ServiceWorkerMessageHandler..."),this.readyPromise=this.initializeServiceWorker()}static getInstance(){return Rs.instance||(Rs.instance=new Rs),Rs.instance}async initializeServiceWorker(){if(typeof window>"u"||!("serviceWorker"in navigator)){g.warn("[SWHandler] Service Worker API not supported in this environment.");return}try{const t=await navigator.serviceWorker.ready;return g.log("[SWHandler] Service Worker is ready."),this.swController=t.active||navigator.serviceWorker.controller,this.attachMessageListener(),navigator.serviceWorker.addEventListener("controllerchange",this.handleControllerChange),this.messageQueue.forEach(n=>this.dispatchMessage(n)),this.messageQueue=[],t}catch(t){g.error("[SWHandler] Service Worker registration failed:",t);return}}attachMessageListener(){!this.isListenerAttached&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",this.handleIncomingMessage),this.isListenerAttached=!0,g.log("[SWHandler] Global message listener attached to navigator.serviceWorker."))}dispatchMessage(t){g.log(`[SWHandler] Dispatching message of type: ${t.type}`,t);const n=this.listeners.get(t.type);n?n.forEach(r=>{try{r(t)}catch(o){g.error(`[SWHandler] Error in callback for message type ${t.type}:`,o)}}):g.log(`[SWHandler] No listeners registered for message type: ${t.type}`)}registerListener(t,n){return this.readyPromise.then(r=>{r?(this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(n),g.log(`[SWHandler] Listener registered for type: ${t}`)):(g.warn(`[SWHandler] SW not ready, listener for ${t} not actively registered yet, but queued.`),this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(n))}).catch(r=>{g.error(`[SWHandler] Error during SW readiness check for listener registration (${t}):`,r)}),()=>{this.unregisterListener(t,n)}}unregisterListener(t,n){const r=this.listeners.get(t);r&&(r.delete(n),g.log(`[SWHandler] Listener unregistered for type: ${t}`),r.size===0&&(this.listeners.delete(t),g.log(`[SWHandler] All listeners for type ${t} removed.`)))}async sendMessageToSW(t){if(await this.readyPromise,this.swController)try{g.log("[SWHandler] Sending message to SW:",t),this.swController.postMessage(t)}catch(n){throw g.error("[SWHandler] Error sending message to SW:",n),n}else throw g.error("[SWHandler] Service Worker controller not available. Cannot send message:",t),new Error("Service Worker controller not available to send message.")}async getController(){return await this.readyPromise,this.swController}cleanup(){this.isListenerAttached&&navigator.serviceWorker&&(navigator.serviceWorker.removeEventListener("message",this.handleIncomingMessage),navigator.serviceWorker.removeEventListener("controllerchange",this.handleControllerChange),this.isListenerAttached=!1,g.log("[SWHandler] Global message listener removed.")),this.listeners.clear()}}const vE=f.createContext(void 0),MF=({children:e})=>{const{toast:t}=Za(),[,n]=$h(),r=f.useRef(!0),o=DF(),s=AF(new Date().getMonth()+1,new Date().getFullYear()),i=RF(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),v=f.useRef(u),[y,x]=f.useState([]),[b,m]=f.useState(!1),[w,S]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[D,A]=f.useState(null),[M,L]=f.useState(null),[_,Y]=f.useState(!1),[$,K]=f.useState("calendar"),[N,O]=f.useState(null),[R,I]=f.useState(null),F=lo.getInstance(),[H,ee]=f.useState(!1),[ke,de]=f.useState(0),[tt,te]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;g.log("[AppContext] Setting up periodic storage check and pruning"),Gd().catch(G=>{g.error("[AppContext] Periodic storage check/prune error:",G)});const z=setInterval(()=>{r.current&&(g.log("[AppContext] Running periodic storage check and pruning"),Gd().catch(G=>{g.error("[AppContext] Periodic storage check/prune error:",G)}))},5*60*1e3);return()=>{clearInterval(z)}},[c,a]),f.useEffect(()=>{const z=()=>r.current&&h(!0),G=()=>r.current&&h(!1);return window.addEventListener("online",z),window.addEventListener("offline",G),g.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),v.current=navigator.onLine,()=>{window.removeEventListener("online",z),window.removeEventListener("offline",G),F.revokeAllUrls()}},[F]),f.useEffect(()=>{!v.current&&u&&(g.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(g.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):g.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),v.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const z=G=>{const Q=G;Q.message&&Q.message.includes("QuotaExceededError")&&(g.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),Gc(20).catch(Pe=>{g.error("[AppContext] Failed to prune cache:",Pe)})),Q.message&&Q.message.includes("IndexedDB")&&(g.error("[AppContext] IndexedDB error detected:",Q.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",z),()=>{window.removeEventListener("error",z)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(g.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(g.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const G=new Nm(o.dbx);G.on(Fh.ENTRIES_UPDATED,Q=>{g.log(`[AppContext] Entries updated event received for ${Q.year}-${Q.month}`),Q.year===s.currentYear&&Q.month===s.currentMonth&&(g.log("[AppContext] Updated entries are for current month, refreshing UI"),x(Q.entries))}),G.on(Fh.METADATA_UPDATED,Q=>{g.log("[AppContext] Metadata updated event received"),S(Q.metadata)}),l(G),d(!0),g.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(g.log("[AppContext] Triggering background deletion sync with Dropbox..."),G.syncDeletionsFromDropbox().catch(Q=>{g.error("[AppContext] Background deletion sync failed:",Q)})),await HL(),E(!0),L(null);try{const Q=await G.fetchImagesMetadata(u);r.current&&S(Q),g.log(`[AppContext] Initial metadata fetch/load success. Count: ${Q.length}`)}catch(Q){g.error("[AppContext] Err fetch/load initial metadata:",Q),r.current&&L(Q instanceof Error?Q:new Error("Failed metadata load"))}finally{r.current&&E(!1)}Gd().catch(Q=>{g.error("[AppContext] Initial storage check/prune error:",Q)})}catch(G){g.error("[AppContext] Failed to initialize PhotoJournalClient:",G),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),k(null);const z=s.currentYear,G=s.currentMonth;g.log(`[AppContext] Fetching entries effect triggered for ${z}-${G+1}. Online: ${u}`),a.fetchEntriesForMonth(z,G,u).then(Q=>{g.log(`[AppContext] Fetched/Loaded ${Q.length} entries for ${z}-${G+1}`),r.current&&(x(Q),u&&o.isAuthenticated&&a.triggerPrefetch(z,G,u))}).catch(Q=>{g.error(`[AppContext] Err fetch/load entries for ${z}-${G+1}:`,Q),r.current&&k(Q instanceof Error?Q:new Error("Failed entries load"))}).finally(()=>{g.log(`[AppContext] Finished fetching/loading entries for ${z}-${G+1}. isLoadingEntries: false`),r.current&&m(!1)})}else x([]),m(!1),k(null),g.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{F.revokeAllUrls(),o.logout(),I(null),x([]),S([]),l(null),d(!1)},[o,F]),f.useEffect(()=>{A(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{M&&t({title:"Metadata Error",description:M.message,variant:"destructive"})},[M,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{D&&t({title:"Operation Error",description:D.message,variant:"destructive"})},[D,t]),f.useEffect(()=>{const z=window.location.hash,G=z.match(/shareKey=([\w-]+)/);if(G&&G[1]){const Q=G[1];g.log(`[App Context] Share detected via hash, setting shareKeyForForm: ${Q}`),O(Q),n("/entry",{replace:!0})}else z.includes("/phojo/")&&(g.log(`[App Context] Detected incorrect hash path: ${z}, redirecting to root`),n("/",{replace:!0}))},[n]);const ge=f.useCallback(()=>{g.log("[AppContext] Clearing shareKeyForForm"),O(null)},[]),se=Uh();f.useEffect(()=>{},[t,n,N,ge]);const Ae=f.useCallback(z=>{const G={type:"DELETE_STORED_FILES",key:z};g.log(`[App Context] Requesting SW to delete stored files with key: ${z}`),se.sendMessageToSW(G).catch(Q=>{g.warn(`[App Context] Failed to send DELETE_STORED_FILES message to SW for key ${z}:`,Q)})},[]),qe=f.useCallback(async(z,G)=>{if(!c||!a||!z)return null;try{return await a.getPhotoBlobUrl(z,G,u)}catch(Q){return g.error(`getPhotoBlobUrl Error for hash ${z} (ID ${G}):`,Q),null}},[a,c,u]),Ce=f.useCallback(async(z,G)=>{if(!c||!a||!z)return null;try{return await a.getPhotoThumbnailUrl(z,G,u)}catch(Q){return g.error(`getPhotoThumbnailUrl Error for hash ${z} (ID ${G}):`,Q),null}},[a,c,u]),oe=f.useCallback(async z=>{if(!c||!a)throw new Error("Client not ready");let G=[];try{G=await a.fetchImagesMetadata(u),r.current&&w.length===0&&G.length>0&&S(G)}catch(be){g.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",be),G=w}const Q=(z.photos||[]).map(async be=>{let Ue=null,Ve=null;const j=G.find(le=>le.id===be.photoId),B=(j==null?void 0:j.photoMetadata)??null,V=(j==null?void 0:j.photoFilename)??null,q=B==null?void 0:B.contentHash;if(!q)g.warn(`Metadata or contentHash missing for photoId: ${be.photoId}`);else{const[le,ye]=await Promise.all([qe(q,be.photoId),Ce(q,be.photoId)]);Ue=le,Ve=ye}return{...be,photoUrl:Ue,thumbnailUrl:Ve,photoMetadata:B,photoFilename:V}}),Pe=await Promise.all(Q);return{...z,photos:Pe}},[a,c,w,u,qe]),xe=f.useCallback(async()=>{if($!=="calendar"||!r.current||!c||!a)return;let z=0;const G=3;let Q=document.querySelectorAll(".day-with-image");for(;Q.length===0&&z<G;){g.log(`[loadDayBackgrounds] No day elements found, retrying (${z+1}/${G})...`);const V=200*Math.pow(2,z);await new Promise(q=>setTimeout(q,V)),Q=document.querySelectorAll(".day-with-image"),z++}if(y.length===0||Q.length===0){g.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const Pe=new Map;y.forEach(V=>{if(V.photos&&V.photos.length>0){const q=Pe.get(V.date),le=V.createdAt instanceof Date?V.createdAt:new Date(V.createdAt),ye=(q==null?void 0:q.createdAt)instanceof Date?q.createdAt:new Date(0);(!q||le.getTime()>ye.getTime())&&Pe.set(V.date,V)}});let be=[];try{be=await a.fetchImagesMetadata(u),r.current&&w.length===0&&be.length>0&&S(be)}catch(V){g.error("[loadDayBackgrounds] Failed fetch/load metadata:",V),be=w}const Ue=(V,q,le)=>{var Ye;if(!r.current)return;const ye=q.crop,fe=le==null?void 0:le.width,Me=le==null?void 0:le.height,Be=(Ye=V.parentElement)==null?void 0:Ye.getBoundingClientRect(),Xe=(Be==null?void 0:Be.width)??0;if(ye&&fe&&Me&&fe>0&&Me>0&&ye.w>0&&Xe>0){const He=Xe/ye.w,kt=fe*He,Qt=Me*He,$t=-ye.x*He,bt=-ye.y*He;Object.assign(V.style,{width:`${kt}px`,height:`${Qt}px`,transform:`translate(${$t}px, ${bt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(V.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&V.classList.add("img-loaded")})},Ve=V=>{V.src&&V.src.startsWith("blob:")&&F.revokeUrl(V.getAttribute("data-content-hash")??""),V.removeAttribute("src"),Object.assign(V.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),V.classList.remove("img-loaded"),V.removeAttribute("data-photo-id"),V.removeAttribute("data-content-hash")},j=new Set;Q.forEach(V=>{var Be,Xe;const q=V.getAttribute("data-day");if(!q)return;const ye=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(q))).toISOString().split("T")[0],fe=Pe.get(ye),Me=(Be=fe==null?void 0:fe.photos)==null?void 0:Be[0];if(Me!=null&&Me.photoId){const Ye=be.find(kt=>kt.id===Me.photoId),He=(Xe=Ye==null?void 0:Ye.photoMetadata)==null?void 0:Xe.contentHash;He&&j.add(He)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(V=>{const q=V,le=q.getAttribute("data-content-hash");le&&!j.has(le)&&Ve(q)});const B=Array.from(Q).map(async V=>{var Qt,$t;const q=V.getAttribute("data-day");if(!q)return;const ye=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(q))).toISOString().split("T")[0],fe=V.querySelector(".calendar-day-img");if(!fe)return;const Me=Pe.get(ye),Be=(Qt=Me==null?void 0:Me.photos)==null?void 0:Qt[0],Xe=(Be==null?void 0:Be.photoId)??null,Ye=Xe?be.find(bt=>bt.id===Xe):null,He=(($t=Ye==null?void 0:Ye.photoMetadata)==null?void 0:$t.contentHash)??null,kt=fe.getAttribute("data-content-hash");if(kt&&kt!==He&&Ve(fe),He&&a&&kt!==He&&Xe&&Be&&(Ye!=null&&Ye.photoMetadata)){fe.setAttribute("data-photo-id",Xe),fe.setAttribute("data-content-hash",He);let bt=null;const st=Be.crop,Io=Ye.photoMetadata.width||0,Sr=Ye.photoMetadata.height||0,ul=st.w*st.h/(Io*Sr);(ul<.3||st.w<300||st.h<300)&&Io>0?(g.log(`[loadDayBackgrounds] Using full image for day ${q} (crop ratio: ${ul.toFixed(2)})`),bt=await qe(He,Xe)):bt=await Ce(He,Xe),bt&&r.current&&fe.getAttribute("data-content-hash")===He?(fe.src=bt,Ue(fe,Be,Ye.photoMetadata)):r.current&&fe.getAttribute("data-content-hash")===He&&Ve(fe)}else!He&&kt&&Ve(fe)});await Promise.all(B)},[a,c,y,s,w,$,u,qe,Ce,F]);f.useEffect(()=>{let z=null;return $==="calendar"&&c&&a?z=setTimeout(()=>{r.current&&(g.log("[AppContext] Triggering loadDayBackgrounds from effect."),xe())},500):document.querySelectorAll(".calendar-day-img").forEach(G=>{const Q=G;Q.src&&Q.src.startsWith("blob:")&&F.revokeUrl(Q.getAttribute("data-content-hash")??""),Q.removeAttribute("src"),Object.assign(Q.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),Q.classList.remove("img-loaded"),Q.removeAttribute("data-photo-id"),Q.removeAttribute("data-content-hash")}),()=>{z&&clearTimeout(z)}},[xe,$,F,y,w,c,a]);const ie=f.useCallback(z=>{const Q=new Date(Date.UTC(s.currentYear,s.currentMonth-1,z)).toISOString().split("T")[0];return y.filter(Pe=>Pe.date===Q)},[y,s.currentMonth,s.currentYear]),_e=f.useCallback(z=>y.find(G=>G.id===z),[y]),at=f.useCallback(async z=>{if(g.log(`[AppContext] loadSpecificEntry called for ID: ${z}`),!c||!a)return g.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const G=_e(z);if(G)return G;g.log(`[AppContext] loadSpecificEntry: Entry ${z} not in current month. Searching...`);try{const Q=await a.listEntryFiles();if(!Q)return g.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const Pe of Q){const be=Pe.match(/^(\d{4})-(\d{2})-entries\.json$/);if(be){const Ue=parseInt(be[1],10),Ve=parseInt(be[2],10)-1;if(Ue===s.currentYear&&Ve===s.currentMonth)continue;const B=(await a.fetchEntriesForMonth(Ue,Ve,u)).find(V=>V.id===z);if(B)return g.log(`[AppContext] loadSpecificEntry: Entry ${z} found in ${Ue}-${Ve+1}`),B}}}catch(Q){g.error("[AppContext] loadSpecificEntry: Error searching other months:",Q)}return g.warn(`[AppContext] loadSpecificEntry: Entry ${z} not found in any month.`),null},[a,c,_e,s.currentYear,s.currentMonth,u]),yt=f.useCallback(async z=>{if(g.log(`[AppContext handleDayClick] START - Day: ${z}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){g.log("[AppContext handleDayClick] EXIT - Client not ready");return}const G=ie(z),Q=new Date(Date.UTC(s.currentYear,s.currentMonth-1,z));if(g.log(`[AppContext handleDayClick] Day: ${z}, Entries found: ${G.length}`),G.length>0)g.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(Q,G);else{const Pe=Q.toISOString().split("T")[0];g.log("[AppContext handleDayClick] Navigating to /entry/new for date:",Pe),n(`/entry/new?date=${Pe}`)}},[a,c,s.currentMonth,s.currentYear,ie,i.openViewEntriesModal,n,u,t]),Nt=f.useCallback(z=>{n(`/entry/edit/${z}`)},[n]),lt=f.useCallback(z=>{i.openDeleteConfirmation(z)},[i.openDeleteConfirmation]),vt=f.useCallback(async(z,G)=>{if(z.content=z.content.trim(),!c||!a)return A(new Error("Client not ready.")),!1;const Q=!o.isAuthenticated||!u;Q&&u&&g.log("[AppContext] User is online but not authenticated. Treating as offline mode."),Y(!0),A(null),k(null);try{const Pe=z.date.getUTCFullYear(),be=z.date.getUTCMonth()+1;let Ue=null,Ve=null;if(G){const q=new Date(G.date+"T00:00:00Z");Ue=q.getUTCFullYear(),Ve=q.getUTCMonth()+1}g.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}, Effectively Offline: ${Q}`),await a.saveEntry(z,G,!Q),Q&&t({title:u?"Saved Locally":"Saved Offline",description:u?"Entry saved locally and will sync when you log in.":"Entry saved locally and will sync when online.",variant:"default"});let j=w,B=y,V=null;try{const q=await Hc(Pe,be);if(q&&q.length>0&&(B=q),G&&(Ue!==Pe||Ve!==be)&&Ue===s.currentYear&&Ve===s.currentMonth){const le=await Hc(Ue,Ve);le&&le.length>0&&(V=le)}}catch(q){g.error("[AppContext] Error fetching cached entries after offline save:",q)}return r.current&&(S(j),Pe===s.currentYear&&be===s.currentMonth?x(B):V!==null&&x(V),(Pe!==s.currentYear||be!==s.currentMonth)&&s.handleMonthYearSelect(be,Pe),n("/")),!0}catch(Pe){return g.error("[AppContext] Save Err: Failed save entry:",Pe),r.current&&A(Pe instanceof Error?Pe:new Error("Failed to save entry")),!1}finally{r.current&&Y(!1)}},[a,c,w,s,n,o.isAuthenticated,i,u,t,y]),sn=f.useCallback(async()=>{if(!c||!i.entryToDeleteId||!a)return;(!o.isAuthenticated||!u)&&u&&g.log("[AppContext] User is online but not authenticated. Treating as offline mode for deletion."),Y(!0),A(null),k(null);try{const G=i.entryToDeleteId,Q=_e(G);if(Q){const Pe=new Date(Q.date+"T00:00:00Z"),be=Pe.getUTCFullYear(),Ue=Pe.getUTCMonth()+1;g.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(G,be,Ue,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{g.error(`Delete Error: Could not find entry source for ID ${G}`);const Pe=await at(G);if(!Pe){A(new Error("Could not find entry to delete")),Y(!1),i.closeDeleteDialog();return}const be=new Date(Pe.date+"T00:00:00Z"),Ue=be.getUTCFullYear(),Ve=be.getUTCMonth()+1;if(g.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(G,Ue,Ve,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),Ue===s.currentYear&&Ve===s.currentMonth){const j=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&x(j)}}if(i.closeDeleteDialog(),i.closeViewModal(),x(Pe=>Pe.filter(be=>be.id!==G)),u){const Pe=await a.fetchImagesMetadata(u).catch(be=>(g.error("Delete Success: Failed post-delete metadata refresh:",be),w));r.current&&S(Pe)}}catch(G){g.error("[AppContext] Delete Error:",G),r.current&&A(G instanceof Error?G:new Error("Failed to delete entry"))}finally{r.current&&Y(!1)}},[a,c,i,y,s,_e,at,o.isAuthenticated,u,t,w]),Tt=f.useCallback(async()=>{try{if(r.current){const z=await Ma();de(z.length)}}catch(z){g.error("[AppContext] Error getting pending sync count:",z)}},[]),Ee=f.useCallback(async()=>{if(H){g.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await Tt(),ke!=0&&(r.current&&(ee(!0),te(null)),fE(o.dbx,u,z=>{Tt(),ke<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(z,G)=>{r.current&&te(G),t({title:"Sync Error",description:`Failed to sync some changes: ${G.message}`,variant:"destructive"})}).catch(z=>{g.error("[AppContext] Error processing save queue:",z),r.current&&te(z instanceof Error?z:new Error("Failed to sync changes"))}).finally(()=>{Tt(),r.current&&ee(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,Tt,ke,H]);f.useEffect(()=>{Tt();const z=setInterval(()=>{Tt()},3e4);return()=>clearInterval(z)},[Tt]),f.useEffect(()=>{u&&!v.current&&o.isAuthenticated?(g.log("[AppContext] Coming back online, triggering background sync"),Ee()):Tt(),v.current=u},[u,o.isAuthenticated,Ee,Tt]),f.useEffect(()=>{u&&c&&a&&(g.log("[AppContext] Checking for items in save queue due to client ready"),Ee())},[c,a,u,Ee]);const We={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:H,pendingSyncCount:ke,syncError:tt,triggerBackgroundSync:Ee,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:$,setMonthViewType:K,currentMonthEntries:y,isLoadingEntries:b,imagesMetadata:w,isLoadingImagesMeta:C,entriesError:P,operationError:D,imagesMetaError:M,setEntriesError:k,setImagesMetaError:L,clearOperationError:()=>A(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:_,handleSaveEntry:vt,handleDeleteEntry:sn,loadDayBackgrounds:xe,getPhotoBlobUrl:qe,getPhotoThumbnailUrl:Ce,getCombinedEntryDetails:oe,getEntriesForDay:ie,getEntryById:_e,loadSpecificEntry:at,handleDayClick:yt,handleEditRequest:Nt,handleDeleteRequest:lt,shareKeyForForm:N,clearShareKeyForForm:ge,deleteSharedFilesFromStorage:Ae,navigate:n};return p.jsx(vE.Provider,{value:We,children:e})};function er(){const e=f.useContext(vE);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const IF=el("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _F({className:e,variant:t,...n}){return p.jsx("div",{className:ne(IF({variant:t}),e),...n})}function NF(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=er();if(!e||!t&&n===0&&!r)return null;let s=Uv,i="",a="",l="outline";return r?(s=lC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=s_,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Uv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(XC,{children:p.jsxs(SL,{children:[p.jsx(bL,{asChild:!0,children:p.jsxs(Ge,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:ne("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(_F,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(ZC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var LF=f.createContext(void 0);function nl(e){const t=f.useContext(LF);return e||t||"ltr"}var of="rovingFocusGroup.onEntryFocus",FF={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[Vh,wE,jF]=Ru(qu),[OF,Wu]=hn(qu,[jF]),[$F,UF]=OF(qu),xE=f.forwardRef((e,t)=>p.jsx(Vh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Vh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(VF,{...e,ref:t})})}));xE.displayName=qu;var VF=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),v=Ie(t,h),y=nl(s),[x=null,b]=vr({prop:i,defaultProp:a,onChange:l}),[m,w]=f.useState(!1),S=ft(c),C=wE(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const D=h.current;if(D)return D.addEventListener(of,S),()=>D.removeEventListener(of,S)},[S]),p.jsx($F,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:x,onItemFocus:f.useCallback(D=>b(D),[b]),onItemShiftTab:f.useCallback(()=>w(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:f.useCallback(()=>k(D=>D-1),[]),children:p.jsx(Se.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:v,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{E.current=!0}),onFocus:re(e.onFocus,D=>{const A=!E.current;if(D.target===D.currentTarget&&A&&!m){const M=new CustomEvent(of,FF);if(D.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=C().filter(N=>N.focusable),_=L.find(N=>N.active),Y=L.find(N=>N.id===x),K=[_,Y,...L].filter(Boolean).map(N=>N.ref.current);CE(K,d)}}E.current=!1}),onBlur:re(e.onBlur,()=>w(!1))})})}),SE="RovingFocusGroupItem",bE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Qo(),l=s||a,c=UF(SE,n),d=c.currentTabStopId===l,u=wE(n),{onFocusableItemAdd:h,onFocusableItemRemove:v}=c;return f.useEffect(()=>{if(r)return h(),()=>v()},[r,h,v]),p.jsx(Vh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:re(e.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:re(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:re(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=qF(y,c.orientation,c.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let m=u().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")m.reverse();else if(x==="prev"||x==="next"){x==="prev"&&m.reverse();const w=m.indexOf(y.currentTarget);m=c.loop?WF(m,w+1):m.slice(w+1)}setTimeout(()=>CE(m))}})})})});bE.displayName=SE;var BF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qF(e,t,n){const r=zF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BF[r]}function CE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function WF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EE=xE,PE=bE,HF="Toggle",Lm=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=vr({prop:n,onChange:o,defaultProp:r});return p.jsx(Se.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:re(e.onClick,()=>{e.disabled||a(!i)})})});Lm.displayName=HF;var TE=Lm,Ei="ToggleGroup",[kE,o3]=hn(Ei,[Wu]),DE=Wu(),Fm=Dt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(GF,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(KF,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ei}\``)});Fm.displayName=Ei;var[AE,RE]=kE(Ei),GF=Dt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=vr({prop:n,defaultProp:r,onChange:o});return p.jsx(AE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:Dt.useCallback(()=>a(""),[a]),children:p.jsx(ME,{...s,ref:t})})}),KF=Dt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=vr({prop:n,defaultProp:r,onChange:o}),l=Dt.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=Dt.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(AE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(ME,{...s,ref:t})})});Fm.displayName=Ei;var[YF,QF]=kE(Ei),ME=Dt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=DE(n),d=nl(i),u={role:"group",dir:d,...l};return p.jsx(YF,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(EE,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(Se.div,{...u,ref:t})}):p.jsx(Se.div,{...u,ref:t})})}),Qc="ToggleGroupItem",IE=Dt.forwardRef((e,t)=>{const n=RE(Qc,e.__scopeToggleGroup),r=QF(Qc,e.__scopeToggleGroup),o=DE(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=Dt.useRef(null);return r.rovingFocus?p.jsx(PE,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(lw,{...a,ref:t})}):p.jsx(lw,{...a,ref:t})});IE.displayName=Qc;var lw=Dt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=RE(Qc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Lm,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),_E=Fm,NE=IE;const LE=el("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),XF=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(TE,{ref:o,className:ne(LE({variant:t,size:n,className:e})),...r}));XF.displayName=TE.displayName;const FE=f.createContext({size:"default",variant:"default"}),jE=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(_E,{ref:s,className:ne("flex items-center justify-center gap-1",e),...o,children:p.jsx(FE.Provider,{value:{variant:t,size:n},children:r})}));jE.displayName=_E.displayName;const Bh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(FE);return p.jsx(NE,{ref:s,className:ne(LE({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});Bh.displayName=NE.displayName;var ZF=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(v){(Array.isArray(e)?e:[e]).forEach(y=>{let x=y==="class",b=x&&s?o.map(m=>s[m]||m):o;x?(l.classList.remove(...b),l.classList.add(s&&s[v]?s[v]:v)):l.setAttribute(y,v)}),u(v)}function u(v){a&&c.includes(v)&&(l.style.colorScheme=v)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let v=localStorage.getItem(t)||n,y=i&&v==="system"?h():v;d(y)}catch{}},cw=["light","dark"],OE="(prefers-color-scheme: dark)",JF=typeof window>"u",jm=f.createContext(void 0),ej={setTheme:e=>{},themes:[]},Om=()=>{var e;return(e=f.useContext(jm))!=null?e:ej},tj=e=>f.useContext(jm)?f.createElement(f.Fragment,null,e.children):f.createElement(rj,{...e}),nj=["light","dark"],rj=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=nj,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,v]=f.useState(()=>sj(o,i)),[y,x]=f.useState(()=>h==="system"?sf():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=sf());let k=l?l[P]:P,D=t?ij(d):null,A=document.documentElement,M=L=>{L==="class"?(A.classList.remove(...b),k&&A.classList.add(k)):L.startsWith("data-")&&(k?A.setAttribute(L,k):A.removeAttribute(L))};if(Array.isArray(a)?a.forEach(M):M(a),r){let L=cw.includes(i)?i:null,_=cw.includes(P)?P:L;A.style.colorScheme=_}D==null||D()},[d]),w=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;v(P);try{localStorage.setItem(o,P)}catch{}},[h]),S=f.useCallback(E=>{let P=sf(E);x(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(OE);return E.addListener(S),S(E),()=>E.removeListener(S)},[S]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?v(P.newValue):w(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[w]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:w,forcedTheme:e,resolvedTheme:h==="system"?y:h,themes:n?[...s,"system"]:s,systemTheme:n?y:void 0}),[h,w,e,y,n,s]);return f.createElement(jm.Provider,{value:C},f.createElement(oj,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},oj=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${ZF.toString()})(${d})`}})}),sj=(e,t)=>{if(JF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},ij=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},sf=e=>(e||(e=window.matchMedia(OE)),e.matches?"dark":"light"),$m="Avatar",[aj,s3]=hn($m),[lj,$E]=aj($m),UE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(lj,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(Se.span,{...r,ref:t})})});UE.displayName=$m;var VE="AvatarImage",BE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=$E(VE,n),a=cj(r,s),l=ft(c=>{o(c),i.onImageLoadingStatusChange(c)});return Fn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Se.img,{...s,ref:t,src:r}):null});BE.displayName=VE;var zE="AvatarFallback",qE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=$E(zE,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(Se.span,{...o,ref:t}):null});qE.displayName=zE;function uw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cj(e,{referrerPolicy:t,crossOrigin:n}){const r=dj(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>uw(s,e));return Fn(()=>{a(uw(s,e))},[s,e]),Fn(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function uj(){return()=>{}}function dj(){return f.useSyncExternalStore(uj,()=>!0,()=>!1)}var WE=UE,HE=BE,GE=qE;const KE=f.forwardRef(({className:e,...t},n)=>p.jsx(WE,{ref:n,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));KE.displayName=WE.displayName;const fj=f.forwardRef(({className:e,...t},n)=>p.jsx(HE,{ref:n,className:ne("aspect-square h-full w-full",e),...t}));fj.displayName=HE.displayName;const YE=f.forwardRef(({className:e,...t},n)=>p.jsx(GE,{ref:n,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));YE.displayName=GE.displayName;var af=0;function QE(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dw()),document.body.insertAdjacentElement("beforeend",e[1]??dw()),af++,()=>{af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),af--}},[])}function dw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lf="focusScope.autoFocusOnMount",cf="focusScope.autoFocusOnUnmount",fw={bubbles:!1,cancelable:!0},hj="FocusScope",Um=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=ft(o),d=ft(s),u=f.useRef(null),h=Ie(t,x=>l(x)),v=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(S){if(v.paused||!a)return;const C=S.target;a.contains(C)?u.current=C:Yr(u.current,{select:!0})},b=function(S){if(v.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Yr(u.current,{select:!0}))},m=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Yr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const w=new MutationObserver(m);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,v.paused]),f.useEffect(()=>{if(a){pw.add(v);const x=document.activeElement;if(!a.contains(x)){const m=new CustomEvent(lf,fw);a.addEventListener(lf,c),a.dispatchEvent(m),m.defaultPrevented||(pj(wj(XE(a)),{select:!0}),document.activeElement===x&&Yr(a))}return()=>{a.removeEventListener(lf,c),setTimeout(()=>{const m=new CustomEvent(cf,fw);a.addEventListener(cf,d),a.dispatchEvent(m),m.defaultPrevented||Yr(x??document.body,{select:!0}),a.removeEventListener(cf,d),pw.remove(v)},0)}}},[a,c,d,v]);const y=f.useCallback(x=>{if(!n&&!r||v.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(b&&m){const w=x.currentTarget,[S,C]=mj(w);S&&C?!x.shiftKey&&m===C?(x.preventDefault(),n&&Yr(S,{select:!0})):x.shiftKey&&m===S&&(x.preventDefault(),n&&Yr(C,{select:!0})):m===w&&x.preventDefault()}},[n,r,v.paused]);return p.jsx(Se.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Um.displayName=hj;function pj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yr(r,{select:t}),document.activeElement!==n)return}function mj(e){const t=XE(e),n=hw(t,e),r=hw(t.reverse(),e);return[n,r]}function XE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hw(e,t){for(const n of e)if(!gj(n,{upTo:t}))return n}function gj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yj(e){return e instanceof HTMLInputElement&&"select"in e}function Yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&yj(e)&&t&&e.select()}}var pw=vj();function vj(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=mw(e,t),e.unshift(t)},remove(t){var n;e=mw(e,t),(n=e[0])==null||n.resume()}}}function mw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function wj(e){return e.filter(t=>t.tagName!=="A")}var xj=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ps=new WeakMap,Ul=new WeakMap,Vl={},uf=0,ZE=function(e){return e&&(e.host||ZE(e.parentNode))},Sj=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ZE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},bj=function(e,t,n,r){var o=Sj(t,Array.isArray(e)?e:[e]);Vl[n]||(Vl[n]=new WeakMap);var s=Vl[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(r),y=v!==null&&v!=="false",x=(ps.get(h)||0)+1,b=(s.get(h)||0)+1;ps.set(h,x),s.set(h,b),i.push(h),x===1&&y&&Ul.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),uf++,function(){i.forEach(function(u){var h=ps.get(u)-1,v=s.get(u)-1;ps.set(u,h),s.set(u,v),h||(Ul.has(u)||u.removeAttribute(r),Ul.delete(u)),v||u.removeAttribute(n)}),uf--,uf||(ps=new WeakMap,ps=new WeakMap,Ul=new WeakMap,Vl={})}},JE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=xj(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),bj(r,o,n,"aria-hidden")):function(){return null}},ur=function(){return ur=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ur.apply(this,arguments)};function e1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Cj(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var dc="right-scroll-bar-position",fc="width-before-scroll-bar",Ej="with-scroll-bars-hidden",Pj="--removed-body-scroll-bar-size";function df(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Tj(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var kj=typeof window<"u"?f.useLayoutEffect:f.useEffect,gw=new WeakMap;function Dj(e,t){var n=Tj(null,function(r){return e.forEach(function(o){return df(o,r)})});return kj(function(){var r=gw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||df(a,null)}),s.forEach(function(a){o.has(a)||df(a,i)})}gw.set(n,e)},[e]),n}function Aj(e){return e}function Rj(e,t){t===void 0&&(t=Aj);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function Mj(e){e===void 0&&(e={});var t=Rj(null);return t.options=ur({async:!0,ssr:!1},e),t}var t1=function(e){var t=e.sideCar,n=e1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,ur({},n))};t1.isSideCarExport=!0;function Ij(e,t){return e.useMedium(t),t1}var n1=Mj(),ff=function(){},Hu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:ff,onWheelCapture:ff,onTouchMoveCapture:ff}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,v=e.noIsolation,y=e.inert,x=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,w=e.gapMode,S=e1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=Dj([n,t]),P=ur(ur({},S),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:n1,removeScrollBar:c,shards:u,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?f.cloneElement(f.Children.only(a),ur(ur({},P),{ref:E})):f.createElement(m,ur({},P,{className:l,ref:E}),a))});Hu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hu.classNames={fullWidth:fc,zeroRight:dc};var _j=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nj(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_j();return t&&e.setAttribute("nonce",t),e}function Lj(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Fj(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jj=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Nj())&&(Lj(t,n),Fj(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Oj=function(){var e=jj();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},r1=function(){var e=Oj(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},$j={left:0,top:0,right:0,gap:0},hf=function(e){return parseInt(e||"",10)||0},Uj=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[hf(n),hf(r),hf(o)]},Vj=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $j;var t=Uj(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Bj=r1(),Hs="data-scroll-locked",zj=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ej,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hs,`] {
    `).concat(Pj,": ").concat(a,`px;
  }
`)},yw=function(){var e=parseInt(document.body.getAttribute(Hs)||"0",10);return isFinite(e)?e:0},qj=function(){f.useEffect(function(){return document.body.setAttribute(Hs,(yw()+1).toString()),function(){var e=yw()-1;e<=0?document.body.removeAttribute(Hs):document.body.setAttribute(Hs,e.toString())}},[])},Wj=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;qj();var s=f.useMemo(function(){return Vj(o)},[o]);return f.createElement(Bj,{styles:zj(s,!t,o,n?"":"!important")})},zh=!1;if(typeof window<"u")try{var Bl=Object.defineProperty({},"passive",{get:function(){return zh=!0,!0}});window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{zh=!1}var ms=zh?{passive:!1}:!1,Hj=function(e){return e.tagName==="TEXTAREA"},o1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Hj(e)&&n[t]==="visible")},Gj=function(e){return o1(e,"overflowY")},Kj=function(e){return o1(e,"overflowX")},vw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=s1(e,r);if(o){var s=i1(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Yj=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Qj=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},s1=function(e,t){return e==="v"?Gj(t):Kj(t)},i1=function(e,t){return e==="v"?Yj(t):Qj(t)},Xj=function(e,t){return e==="h"&&t==="rtl"?-1:1},Zj=function(e,t,n,r,o){var s=Xj(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var v=i1(e,a),y=v[0],x=v[1],b=v[2],m=x-b-s*y;(y||m)&&s1(e,a)&&(u+=m,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},zl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ww=function(e){return[e.deltaX,e.deltaY]},xw=function(e){return e&&"current"in e?e.current:e},Jj=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},t2=0,gs=[];function n2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(t2++)[0],s=f.useState(r1)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=Cj([e.lockRef.current],(e.shards||[]).map(xw),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var m=zl(x),w=n.current,S="deltaX"in x?x.deltaX:w[0]-m[0],C="deltaY"in x?x.deltaY:w[1]-m[1],E,P=x.target,k=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&k==="h"&&P.type==="range")return!1;var D=vw(k,P);if(!D)return!0;if(D?E=k:(E=k==="v"?"h":"v",D=vw(k,P)),!D)return!1;if(!r.current&&"changedTouches"in x&&(S||C)&&(r.current=E),!E)return!0;var A=r.current||E;return Zj(A,b,x,A==="h"?S:C,!0)},[]),l=f.useCallback(function(x){var b=x;if(!(!gs.length||gs[gs.length-1]!==s)){var m="deltaY"in b?ww(b):zl(b),w=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&Jj(E.delta,m)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(i.current.shards||[]).map(xw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=S.length>0?a(b,S[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(x,b,m,w){var S={name:x,delta:b,target:m,should:w,shadowParent:r2(m)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=f.useCallback(function(x){n.current=zl(x),r.current=void 0},[]),u=f.useCallback(function(x){c(x.type,ww(x),x.target,a(x,e.lockRef.current))},[]),h=f.useCallback(function(x){c(x.type,zl(x),x.target,a(x,e.lockRef.current))},[]);f.useEffect(function(){return gs.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ms),document.addEventListener("touchmove",l,ms),document.addEventListener("touchstart",d,ms),function(){gs=gs.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,ms),document.removeEventListener("touchmove",l,ms),document.removeEventListener("touchstart",d,ms)}},[]);var v=e.removeScrollBar,y=e.inert;return f.createElement(f.Fragment,null,y?f.createElement(s,{styles:e2(o)}):null,v?f.createElement(Wj,{gapMode:e.gapMode}):null)}function r2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const o2=Ij(n1,n2);var Vm=f.forwardRef(function(e,t){return f.createElement(Hu,ur({},e,{ref:t,sideCar:o2}))});Vm.classNames=Hu.classNames;var qh=["Enter"," "],s2=["ArrowDown","PageUp","Home"],a1=["ArrowUp","PageDown","End"],i2=[...s2,...a1],a2={ltr:[...qh,"ArrowRight"],rtl:[...qh,"ArrowLeft"]},l2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rl="Menu",[Na,c2,u2]=Ru(rl),[us,l1]=hn(rl,[u2,$u,Wu]),Gu=$u(),c1=Wu(),[d2,ds]=us(rl),[f2,ol]=us(rl),u1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Gu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=ft(s),h=nl(o);return f.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),p.jsx($C,{...a,children:p.jsx(d2,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(f2,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};u1.displayName=rl;var h2="MenuAnchor",Bm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Gu(n);return p.jsx(UC,{...o,...r,ref:t})});Bm.displayName=h2;var zm="MenuPortal",[p2,d1]=us(zm,{forceMount:void 0}),f1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=ds(zm,t);return p.jsx(p2,{scope:t,forceMount:n,children:p.jsx(pn,{present:n||s.open,children:p.jsx(Mu,{asChild:!0,container:o,children:r})})})};f1.displayName=zm;var _n="MenuContent",[m2,qm]=us(_n),h1=f.forwardRef((e,t)=>{const n=d1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ds(_n,e.__scopeMenu),i=ol(_n,e.__scopeMenu);return p.jsx(Na.Provider,{scope:e.__scopeMenu,children:p.jsx(pn,{present:r||s.open,children:p.jsx(Na.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(g2,{...o,ref:t}):p.jsx(y2,{...o,ref:t})})})})}),g2=f.forwardRef((e,t)=>{const n=ds(_n,e.__scopeMenu),r=f.useRef(null),o=Ie(t,r);return f.useEffect(()=>{const s=r.current;if(s)return JE(s)},[]),p.jsx(Wm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),y2=f.forwardRef((e,t)=>{const n=ds(_n,e.__scopeMenu);return p.jsx(Wm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),v2=di("MenuContent.ScrollLock"),Wm=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:v,disableOutsideScroll:y,...x}=e,b=ds(_n,n),m=ol(_n,n),w=Gu(n),S=c1(n),C=c2(n),[E,P]=f.useState(null),k=f.useRef(null),D=Ie(t,k,b.onContentChange),A=f.useRef(0),M=f.useRef(""),L=f.useRef(0),_=f.useRef(null),Y=f.useRef("right"),$=f.useRef(0),K=y?Vm:f.Fragment,N=y?{as:v2,allowPinchZoom:!0}:void 0,O=I=>{var ge,se;const F=M.current+I,H=C().filter(Ae=>!Ae.disabled),ee=document.activeElement,ke=(ge=H.find(Ae=>Ae.ref.current===ee))==null?void 0:ge.textValue,de=H.map(Ae=>Ae.textValue),tt=R2(de,F,ke),te=(se=H.find(Ae=>Ae.textValue===tt))==null?void 0:se.ref.current;(function Ae(qe){M.current=qe,window.clearTimeout(A.current),qe!==""&&(A.current=window.setTimeout(()=>Ae(""),1e3))})(F),te&&setTimeout(()=>te.focus())};f.useEffect(()=>()=>window.clearTimeout(A.current),[]),QE();const R=f.useCallback(I=>{var H,ee;return Y.current===((H=_.current)==null?void 0:H.side)&&I2(I,(ee=_.current)==null?void 0:ee.area)},[]);return p.jsx(m2,{scope:n,searchRef:M,onItemEnter:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:f.useCallback(I=>{var F;R(I)||((F=k.current)==null||F.focus(),P(null))},[R]),onTriggerLeave:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(I=>{_.current=I},[]),children:p.jsx(K,{...N,children:p.jsx(Um,{asChild:!0,trapped:o,onMountAutoFocus:re(s,I=>{var F;I.preventDefault(),(F=k.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Ja,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:v,children:p.jsx(EE,{asChild:!0,...S,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:re(l,I=>{m.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(VC,{role:"menu","aria-orientation":"vertical","data-state":A1(b.open),"data-radix-menu-content":"",dir:m.dir,...w,...x,ref:D,style:{outline:"none",...x.style},onKeyDown:re(x.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ee=I.ctrlKey||I.altKey||I.metaKey,ke=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!ee&&ke&&O(I.key));const de=k.current;if(I.target!==de||!i2.includes(I.key))return;I.preventDefault();const te=C().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);a1.includes(I.key)&&te.reverse(),D2(te)}),onBlur:re(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),M.current="")}),onPointerMove:re(e.onPointerMove,La(I=>{const F=I.target,H=$.current!==I.clientX;if(I.currentTarget.contains(F)&&H){const ee=I.clientX>$.current?"right":"left";Y.current=ee,$.current=I.clientX}}))})})})})})})});h1.displayName=_n;var w2="MenuGroup",Hm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(Se.div,{role:"group",...r,ref:t})});Hm.displayName=w2;var x2="MenuLabel",p1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(Se.div,{...r,ref:t})});p1.displayName=x2;var Xc="MenuItem",Sw="menu.itemSelect",Ku=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=ol(Xc,e.__scopeMenu),a=qm(Xc,e.__scopeMenu),l=Ie(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(Sw,{bubbles:!0,cancelable:!0});u.addEventListener(Sw,v=>r==null?void 0:r(v),{once:!0}),pm(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(m1,{...o,ref:l,disabled:n,onClick:re(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:re(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:re(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||qh.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Ku.displayName=Xc;var m1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=qm(Xc,n),a=c1(n),l=f.useRef(null),c=Ie(t,l),[d,u]=f.useState(!1),[h,v]=f.useState("");return f.useEffect(()=>{const y=l.current;y&&v((y.textContent??"").trim())},[s.children]),p.jsx(Na.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(PE,{asChild:!0,...a,focusable:!r,children:p.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:re(e.onPointerMove,La(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,La(y=>i.onItemLeave(y))),onFocus:re(e.onFocus,()=>u(!0)),onBlur:re(e.onBlur,()=>u(!1))})})})}),S2="MenuCheckboxItem",g1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(S1,{scope:e.__scopeMenu,checked:n,children:p.jsx(Ku,{role:"menuitemcheckbox","aria-checked":Zc(n)?"mixed":n,...o,ref:t,"data-state":Km(n),onSelect:re(o.onSelect,()=>r==null?void 0:r(Zc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});g1.displayName=S2;var y1="MenuRadioGroup",[b2,C2]=us(y1,{value:void 0,onValueChange:()=>{}}),v1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=ft(r);return p.jsx(b2,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Hm,{...o,ref:t})})});v1.displayName=y1;var w1="MenuRadioItem",x1=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=C2(w1,e.__scopeMenu),s=n===o.value;return p.jsx(S1,{scope:e.__scopeMenu,checked:s,children:p.jsx(Ku,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Km(s),onSelect:re(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});x1.displayName=w1;var Gm="MenuItemIndicator",[S1,E2]=us(Gm,{checked:!1}),b1=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=E2(Gm,n);return p.jsx(pn,{present:r||Zc(s.checked)||s.checked===!0,children:p.jsx(Se.span,{...o,ref:t,"data-state":Km(s.checked)})})});b1.displayName=Gm;var P2="MenuSeparator",C1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});C1.displayName=P2;var T2="MenuArrow",E1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Gu(n);return p.jsx(BC,{...o,...r,ref:t})});E1.displayName=T2;var k2="MenuSub",[i3,P1]=us(k2),Wi="MenuSubTrigger",T1=f.forwardRef((e,t)=>{const n=ds(Wi,e.__scopeMenu),r=ol(Wi,e.__scopeMenu),o=P1(Wi,e.__scopeMenu),s=qm(Wi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(Bm,{asChild:!0,...c,children:p.jsx(m1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":A1(n.open),...e,ref:Au(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,La(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:re(e.onPointerLeave,La(u=>{var v,y;d();const h=(v=n.content)==null?void 0:v.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,b=x==="right",m=b?-5:5,w=h[b?"left":"right"],S=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:w,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:w,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,u=>{var v;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||a2[r.dir].includes(u.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),u.preventDefault())})})})});T1.displayName=Wi;var k1="MenuSubContent",D1=f.forwardRef((e,t)=>{const n=d1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ds(_n,e.__scopeMenu),i=ol(_n,e.__scopeMenu),a=P1(k1,e.__scopeMenu),l=f.useRef(null),c=Ie(t,l);return p.jsx(Na.Provider,{scope:e.__scopeMenu,children:p.jsx(pn,{present:r||s.open,children:p.jsx(Na.Slot,{scope:e.__scopeMenu,children:p.jsx(Wm,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:re(e.onKeyDown,d=>{var v;const u=d.currentTarget.contains(d.target),h=l2[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});D1.displayName=k1;function A1(e){return e?"open":"closed"}function Zc(e){return e==="indeterminate"}function Km(e){return Zc(e)?"indeterminate":e?"checked":"unchecked"}function D2(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function A2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function R2(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=A2(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function M2(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function I2(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return M2(n,t)}function La(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _2=u1,N2=Bm,L2=f1,F2=h1,j2=Hm,O2=p1,$2=Ku,U2=g1,V2=v1,B2=x1,z2=b1,q2=C1,W2=E1,H2=T1,G2=D1,Ym="DropdownMenu",[K2,a3]=hn(Ym,[l1]),on=l1(),[Y2,R1]=K2(Ym),M1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=on(t),c=f.useRef(null),[d=!1,u]=vr({prop:o,defaultProp:s,onChange:i});return p.jsx(Y2,{scope:t,triggerId:Qo(),triggerRef:c,contentId:Qo(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(_2,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};M1.displayName=Ym;var I1="DropdownMenuTrigger",_1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=R1(I1,n),i=on(n);return p.jsx(N2,{asChild:!0,...i,children:p.jsx(Se.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Au(t,s.triggerRef),onPointerDown:re(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:re(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});_1.displayName=I1;var Q2="DropdownMenuPortal",N1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=on(t);return p.jsx(L2,{...r,...n})};N1.displayName=Q2;var L1="DropdownMenuContent",F1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=R1(L1,n),s=on(n),i=f.useRef(!1);return p.jsx(F2,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:re(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F1.displayName=L1;var X2="DropdownMenuGroup",Z2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(j2,{...o,...r,ref:t})});Z2.displayName=X2;var J2="DropdownMenuLabel",j1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(O2,{...o,...r,ref:t})});j1.displayName=J2;var eO="DropdownMenuItem",O1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx($2,{...o,...r,ref:t})});O1.displayName=eO;var tO="DropdownMenuCheckboxItem",$1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(U2,{...o,...r,ref:t})});$1.displayName=tO;var nO="DropdownMenuRadioGroup",rO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(V2,{...o,...r,ref:t})});rO.displayName=nO;var oO="DropdownMenuRadioItem",U1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(B2,{...o,...r,ref:t})});U1.displayName=oO;var sO="DropdownMenuItemIndicator",V1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(z2,{...o,...r,ref:t})});V1.displayName=sO;var iO="DropdownMenuSeparator",B1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(q2,{...o,...r,ref:t})});B1.displayName=iO;var aO="DropdownMenuArrow",lO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(W2,{...o,...r,ref:t})});lO.displayName=aO;var cO="DropdownMenuSubTrigger",z1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(H2,{...o,...r,ref:t})});z1.displayName=cO;var uO="DropdownMenuSubContent",q1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=on(n);return p.jsx(G2,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q1.displayName=uO;var dO=M1,fO=_1,hO=N1,W1=F1,H1=j1,G1=O1,K1=$1,Y1=U1,Q1=V1,X1=B1,Z1=z1,J1=q1;const Qm=dO,Xm=fO,pO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(Z1,{ref:o,className:ne("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(oC,{className:"ml-auto"})]}));pO.displayName=Z1.displayName;const mO=f.forwardRef(({className:e,...t},n)=>p.jsx(J1,{ref:n,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));mO.displayName=J1.displayName;const Yu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(hO,{children:p.jsx(W1,{ref:r,sideOffset:t,className:ne("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Yu.displayName=W1.displayName;const ss=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(G1,{ref:r,className:ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ss.displayName=G1.displayName;const gO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(K1,{ref:o,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Q1,{children:p.jsx(rC,{className:"h-4 w-4"})})}),t]}));gO.displayName=K1.displayName;const yO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Y1,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Q1,{children:p.jsx(HI,{className:"h-2 w-2 fill-current"})})}),t]}));yO.displayName=Y1.displayName;const eP=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(H1,{ref:r,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));eP.displayName=H1.displayName;const Wh=f.forwardRef(({className:e,...t},n)=>p.jsx(X1,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Wh.displayName=X1.displayName;function tP(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Zm="Switch",[vO,l3]=hn(Zm),[wO,xO]=vO(Zm),nP=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,v]=f.useState(null),y=Ie(t,S=>v(S)),x=f.useRef(!1),b=h?d||!!h.closest("form"):!0,[m=!1,w]=vr({prop:o,defaultProp:s,onChange:c});return p.jsxs(wO,{scope:n,checked:m,disabled:a,children:[p.jsx(Se.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":sP(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:y,onClick:re(e.onClick,S=>{w(C=>!C),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&p.jsx(SO,{control:h,bubbles:!x.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});nP.displayName=Zm;var rP="SwitchThumb",oP=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=xO(rP,n);return p.jsx(Se.span,{"data-state":sP(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});oP.displayName=rP;var SO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=tP(n),a=km(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sP(e){return e?"checked":"unchecked"}var iP=nP,bO=oP;const aP=f.forwardRef(({className:e,...t},n)=>p.jsx(iP,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(bO,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));aP.displayName=iP.displayName;function CO(){const{userInfo:e,isLoadingAuth:t,logout:n}=er(),{theme:r,setTheme:o,resolvedTheme:s}=Om(),i=s==="dark";if(t||!e)return p.jsx(Ge,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Ht,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(Qm,{children:[p.jsx(Xm,{asChild:!0,children:p.jsx(Ge,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(KE,{className:"h-8 w-8",children:p.jsx(YE,{children:q_(e.name.display_name)})})})}),p.jsxs(Yu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(eP,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(Wh,{}),p.jsx(ss,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(r_,{className:"mr-2 h-4 w-4"}):p.jsx(a_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(aP,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(Wh,{}),p.jsxs(ss,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(e_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function EO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,isOnline:i,authError:a}=er();Om();const[,l]=dm(),{toast:c}=Za(),d=f.useRef(null),u=i&&!e&&!t&&!n;f.useEffect(()=>{g.log("[Header] setLocation instance type:",typeof l)},[l]);const h=y=>{g.log("[Header] New Entry Link clicked. Href:",y.currentTarget.href)},v=y=>{const x=y.target.files;if(x&&x.length>0){const b=Array.from(x),m=b.filter(S=>!S.type.startsWith("image/"));m.length>0&&c({title:"Invalid File Type",description:`Only image files are allowed. ${m.map(S=>S.name).join(", ")} ${m.length===1?"was":"were"} ignored.`,variant:"destructive"});const w=b.filter(S=>S.type.startsWith("image/"));if(w.length>0){const S=crypto.randomUUID();g.log(`[Header] Storing ${w.length} files with service worker using key: ${S}`),navigator.serviceWorker&&navigator.serviceWorker.controller?(navigator.serviceWorker.controller.postMessage({type:"STORE_FILES",key:S,files:w}),setTimeout(()=>{l(`/entry#shareKey=${S}`)},100)):(g.error("[Header] Service worker not available"),c({title:"Error",description:"Could not process files. Please try again.",variant:"destructive"}))}else g.log("[Header] No valid image files selected.")}else g.log("[Header] No files selected.");y.target&&(y.target.value="")};return p.jsxs("header",{className:ne("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",i?u&&a?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!i&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(l_,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),u&&p.jsxs("div",{className:ne("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",a?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(sC,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:a?`Connection error: ${a.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Ge,{size:"sm",variant:a?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(JI,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:d,onChange:v,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:ne("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(jE,{type:"single",size:"sm",value:o,onValueChange:y=>{y&&s(y)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(Bh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(KI,{className:"h-4 w-4"})}),p.jsx(Bh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(ZI,{className:"h-4 w-4"})})]}),p.jsx(NF,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(vM,{href:"/entry/new",onClick:h,children:p.jsx(Ge,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!i,title:i?"New Entry":"New entry disabled while offline",children:p.jsx(o_,{className:"h-4 w-4"})})}),p.jsx(CO,{})]})]})]})]})}function PO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Qu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Hh=e=>Array.isArray(e);function lP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Fa(e){return typeof e=="string"||Array.isArray(e)}function bw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Jm(e,t,n,r){if(typeof t=="function"){const[o,s]=bw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=bw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Xu(e,t,n){const r=e.getProps();return Jm(r,t,n!==void 0?n:r.custom,e)}const eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tg=["initial",...eg],sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fs=new Set(sl),Mr=e=>e*1e3,Ir=e=>e/1e3,TO={type:"spring",stiffness:500,damping:25,restSpeed:10},kO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),DO={type:"keyframes",duration:.8},AO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RO=(e,{keyframes:t})=>t.length>2?DO:fs.has(e)?e.startsWith("scale")?kO(t[1]):TO:AO;function ng(e,t){return e?e[t]||e.default||e:void 0}const MO={skipAnimations:!1,useManualTiming:!1},IO=e=>e!==null;function Zu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(IO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Kt=e=>e;let Gh=Kt;function _O(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const v=u&&r?t:n;return d&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const ql=["read","resolveKeyframes","update","preRender","render","postRender"],NO=40;function cP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=ql.reduce((m,w)=>(m[w]=_O(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,v=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,NO),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(v))},y=()=>{n=!0,r=!0,o.isProcessing||e(v)};return{schedule:ql.reduce((m,w)=>{const S=i[w];return m[w]=(C,E=!1,P=!1)=>(n||y(),S.schedule(C,E,P)),m},{}),cancel:m=>{for(let w=0;w<ql.length;w++)i[ql[w]].cancel(m)},state:o,steps:i}}const{schedule:Qe,cancel:To,state:Ft,steps:pf}=cP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),uP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LO=1e-7,FO=12;function jO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=uP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>LO&&++a<FO);return i}function il(e,t,n,r){if(e===t&&n===r)return Kt;const o=s=>jO(s,0,1,e,n);return s=>s===0||s===1?s:uP(o(s),t,r)}const dP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fP=e=>t=>1-e(1-t),hP=il(.33,1.53,.69,.99),rg=fP(hP),pP=dP(rg),mP=e=>(e*=2)<1?.5*rg(e):.5*(2-Math.pow(2,-10*(e-1))),og=e=>1-Math.sin(Math.acos(e)),gP=fP(og),yP=dP(og),vP=e=>/^0[^.\s]+$/u.test(e);function OO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vP(e):!0}const wP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),xP=e=>t=>typeof t=="string"&&t.startsWith(e),SP=xP("--"),$O=xP("var(--"),sg=e=>$O(e)?UO.test(e.split("/*")[0].trim()):!1,UO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BO(e){const t=VO.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function bP(e,t,n=1){const[r,o]=BO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return wP(i)?parseFloat(i):i}return sg(o)?bP(o,t,n+1):o}const Ur=(e,t,n)=>n>t?t:n<e?e:n,Pi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ja={...Pi,transform:e=>Ur(0,1,e)},Wl={...Pi,default:1},al=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qr=al("deg"),mr=al("%"),pe=al("px"),zO=al("vh"),qO=al("vw"),Cw={...mr,parse:e=>mr.parse(e)/100,transform:e=>mr.transform(e*100)},WO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ew=e=>e===Pi||e===pe,Pw=(e,t)=>parseFloat(e.split(", ")[t]),Tw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Pw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?Pw(s[1],e):0}},HO=new Set(["x","y","z"]),GO=sl.filter(e=>!HO.has(e));function KO(e){const t=[];return GO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const pi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Tw(4,13),y:Tw(5,14)};pi.translateX=pi.x;pi.translateY=pi.y;const CP=e=>t=>t.test(e),YO={test:e=>e==="auto",parse:e=>e},EP=[Pi,pe,mr,Qr,qO,zO,YO],kw=e=>EP.find(CP(e)),Zo=new Set;let Kh=!1,Yh=!1;function PP(){if(Yh){const e=Array.from(Zo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=KO(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yh=!1,Kh=!1,Zo.forEach(e=>e.complete()),Zo.clear()}function TP(){Zo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yh=!0)})}function QO(){TP(),PP()}class ig{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zo.add(this),Kh||(Kh=!0,Qe.read(TP),Qe.resolveKeyframes(PP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sa=e=>Math.round(e*1e5)/1e5,ag=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XO(e){return e==null}const ZO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lg=(e,t)=>n=>!!(typeof n=="string"&&ZO.test(n)&&n.startsWith(e)||t&&!XO(n)&&Object.prototype.hasOwnProperty.call(n,t)),kP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(ag);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},JO=e=>Ur(0,255,e),mf={...Pi,transform:e=>Math.round(JO(e))},zo={test:lg("rgb","red"),parse:kP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+mf.transform(e)+", "+mf.transform(t)+", "+mf.transform(n)+", "+sa(ja.transform(r))+")"};function e$(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Qh={test:lg("#"),parse:e$,transform:zo.transform},Ms={test:lg("hsl","hue"),parse:kP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+mr.transform(sa(t))+", "+mr.transform(sa(n))+", "+sa(ja.transform(r))+")"},qt={test:e=>zo.test(e)||Qh.test(e)||Ms.test(e),parse:e=>zo.test(e)?zo.parse(e):Ms.test(e)?Ms.parse(e):Qh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zo.transform(e):Ms.transform(e)},t$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n$(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ag))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(t$))===null||n===void 0?void 0:n.length)||0)>0}const DP="number",AP="color",r$="var",o$="var(",Dw="${}",s$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oa(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(s$,l=>(qt.test(l)?(r.color.push(s),o.push(AP),n.push(qt.parse(l))):l.startsWith(o$)?(r.var.push(s),o.push(r$),n.push(l)):(r.number.push(s),o.push(DP),n.push(parseFloat(l))),++s,Dw)).split(Dw);return{values:n,split:a,indexes:r,types:o}}function RP(e){return Oa(e).values}function MP(e){const{split:t,types:n}=Oa(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===DP?s+=sa(o[i]):a===AP?s+=qt.transform(o[i]):s+=o[i]}return s}}const i$=e=>typeof e=="number"?0:e;function a$(e){const t=RP(e);return MP(e)(t.map(i$))}const ko={test:n$,parse:RP,createTransformer:MP,getAnimatableNone:a$},l$=new Set(["brightness","contrast","saturate","opacity"]);function c$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ag)||[];if(!r)return e;const o=n.replace(r,"");let s=l$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const u$=/\b([a-z-]*)\(.*?\)/gu,Xh={...ko,getAnimatableNone:e=>{const t=e.match(u$);return t?t.map(c$).join(" "):e}},d$={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},f$={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:Wl,scaleX:Wl,scaleY:Wl,scaleZ:Wl,skew:Qr,skewX:Qr,skewY:Qr,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:ja,originX:Cw,originY:Cw,originZ:pe},Aw={...Pi,transform:Math.round},cg={...d$,...f$,zIndex:Aw,size:pe,fillOpacity:ja,strokeOpacity:ja,numOctaves:Aw},h$={...cg,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Xh,WebkitFilter:Xh},ug=e=>h$[e];function IP(e,t){let n=ug(e);return n!==Xh&&(n=ko),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const p$=new Set(["auto","none","0"]);function m$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!p$.has(s)&&Oa(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=IP(n,o)}class _P extends ig{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),sg(c))){const d=bP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!WO.has(r)||t.length!==2)return;const[o,s]=t,i=kw(o),a=kw(s);if(i!==a)if(Ew(i)&&Ew(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)OO(t[o])&&r.push(o);r.length&&m$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=pi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function dg(e){return typeof e=="function"}let hc;function g$(){hc=void 0}const gr={now:()=>(hc===void 0&&gr.set(Ft.isProcessing||MO.useManualTiming?Ft.timestamp:performance.now()),hc),set:e=>{hc=e,queueMicrotask(g$)}},Rw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ko.test(e)||e==="0")&&!e.startsWith("url("));function y$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function v$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=Rw(o,t),a=Rw(s,t);return!i||!a?!1:y$(e)||(n==="spring"||dg(n))&&r}const w$=40;class NP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>w$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&QO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!v$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Zu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const mi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},LP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(mi(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function FP(e,t){return t?e*(1e3/t):0}const x$=5;function jP(e,t,n){const r=Math.max(t-x$,0);return FP(n-e(r),t-r)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gf=.001;function S$({duration:e=xt.duration,bounce:t=xt.bounce,velocity:n=xt.velocity,mass:r=xt.mass}){let o,s,i=1-t;i=Ur(xt.minDamping,xt.maxDamping,i),e=Ur(xt.minDuration,xt.maxDuration,Ir(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,v=Zh(c,i),y=Math.exp(-u);return gf-h/v*y},s=c=>{const u=c*i*e,h=u*n+n,v=Math.pow(i,2)*Math.pow(c,2)*e,y=Math.exp(-u),x=Zh(Math.pow(c,2),i);return(-o(c)+gf>0?-1:1)*((h-v)*y)/x}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-gf+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=C$(o,s,a);if(e=Mr(e),isNaN(l))return{stiffness:xt.stiffness,damping:xt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const b$=12;function C$(e,t,n){let r=n;for(let o=1;o<b$;o++)r=r-e(r)/t(r);return r}function Zh(e,t){return e*Math.sqrt(1-t*t)}const Jh=2e4;function OP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Jh;)t+=n,r=e.next(t);return t>=Jh?1/0:t}const E$=["duration","bounce"],P$=["stiffness","damping","mass"];function Mw(e,t){return t.some(n=>e[n]!==void 0)}function T$(e){let t={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...e};if(!Mw(e,P$)&&Mw(e,E$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Ur(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:xt.mass,stiffness:o,damping:s}}else{const n=S$(e);t={...t,...n,mass:xt.mass},t.isResolvedFromDuration=!0}return t}function $P(e=xt.visualDuration,t=xt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:v}=T$({...n,velocity:-Ir(n.velocity||0)}),y=h||0,x=c/(2*Math.sqrt(l*d)),b=i-s,m=Ir(Math.sqrt(l/d)),w=Math.abs(b)<5;r||(r=w?xt.restSpeed.granular:xt.restSpeed.default),o||(o=w?xt.restDelta.granular:xt.restDelta.default);let S;if(x<1){const E=Zh(m,x);S=P=>{const k=Math.exp(-x*m*P);return i-k*((y+x*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(x===1)S=E=>i-Math.exp(-m*E)*(b+(y+m*b)*E);else{const E=m*Math.sqrt(x*x-1);S=P=>{const k=Math.exp(-x*m*P),D=Math.min(E*P,300);return i-k*((y+x*m*b)*Math.sinh(D)+E*b*Math.cosh(D))/E}}const C={calculatedDuration:v&&u||null,next:E=>{const P=S(E);if(v)a.done=E>=u;else{let k=0;x<1&&(k=E===0?Mr(y):jP(S,E,P));const D=Math.abs(k)<=r,A=Math.abs(i-P)<=o;a.done=D&&A}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(OP(C),Jh),P=LP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function Iw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},v=D=>a!==void 0&&D<a||l!==void 0&&D>l,y=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let x=n*t;const b=u+x,m=i===void 0?b:i(b);m!==b&&(x=m-u);const w=D=>-x*Math.exp(-D/r),S=D=>m+w(D),C=D=>{const A=w(D),M=S(D);h.done=Math.abs(A)<=c,h.value=h.done?m:M};let E,P;const k=D=>{v(h.value)&&(E=D,P=$P({keyframes:[h.value,y(h.value)],velocity:jP(S,D,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:D=>{let A=!1;return!P&&E===void 0&&(A=!0,C(D),k(D)),E!==void 0&&D>=E?P.next(D-E):(!A&&C(D),h)}}}const k$=il(.42,0,1,1),D$=il(0,0,.58,1),UP=il(.42,0,.58,1),A$=e=>Array.isArray(e)&&typeof e[0]!="number",fg=e=>Array.isArray(e)&&typeof e[0]=="number",_w={linear:Kt,easeIn:k$,easeInOut:UP,easeOut:D$,circIn:og,circInOut:yP,circOut:gP,backIn:rg,backInOut:pP,backOut:hP,anticipate:mP},Nw=e=>{if(fg(e)){Gh(e.length===4);const[t,n,r,o]=e;return il(t,n,r,o)}else if(typeof e=="string")return Gh(_w[e]!==void 0),_w[e];return e},R$=(e,t)=>n=>t(e(n)),wo=(...e)=>e.reduce(R$),ht=(e,t,n)=>e+(t-e)*n;function yf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function M$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=yf(l,a,e+1/3),s=yf(l,a,e),i=yf(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Jc(e,t){return n=>n>0?t:e}const vf=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},I$=[Qh,zo,Ms],_$=e=>I$.find(t=>t.test(e));function Lw(e){const t=_$(e);if(!t)return!1;let n=t.parse(e);return t===Ms&&(n=M$(n)),n}const Fw=(e,t)=>{const n=Lw(e),r=Lw(t);if(!n||!r)return Jc(e,t);const o={...n};return s=>(o.red=vf(n.red,r.red,s),o.green=vf(n.green,r.green,s),o.blue=vf(n.blue,r.blue,s),o.alpha=ht(n.alpha,r.alpha,s),zo.transform(o))},ep=new Set(["none","hidden"]);function N$(e,t){return ep.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function L$(e,t){return n=>ht(e,t,n)}function hg(e){return typeof e=="number"?L$:typeof e=="string"?sg(e)?Jc:qt.test(e)?Fw:O$:Array.isArray(e)?VP:typeof e=="object"?qt.test(e)?Fw:F$:Jc}function VP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>hg(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function F$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=hg(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function j$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const O$=(e,t)=>{const n=ko.createTransformer(t),r=Oa(e),o=Oa(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?ep.has(e)&&!o.values.length||ep.has(t)&&!r.values.length?N$(e,t):wo(VP(j$(r,o),o.values),n):Jc(e,t)};function BP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ht(e,t,n):hg(e)(e,t)}function $$(e,t,n){const r=[],o=n||BP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Kt:t;a=wo(l,a)}r.push(a)}return r}function U$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Gh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=$$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=mi(e[d],e[d+1],c);return i[d](u)};return n?c=>l(Ur(e[0],e[s-1],c)):l}function V$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=mi(0,t,r);e.push(ht(n,1,o))}}function B$(e){const t=[0];return V$(t,e.length-1),t}function z$(e,t){return e.map(n=>n*t)}function q$(e,t){return e.map(()=>t||UP).splice(0,e.length-1)}function eu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=A$(r)?r.map(Nw):Nw(r),s={done:!1,value:t[0]},i=z$(n&&n.length===t.length?n:B$(t),e),a=U$(i,t,{ease:Array.isArray(o)?o:q$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const W$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Qe.update(t,!0),stop:()=>To(t),now:()=>Ft.isProcessing?Ft.timestamp:gr.now()}},H$={decay:Iw,inertia:Iw,tween:eu,keyframes:eu,spring:$P},G$=e=>e/100;class pg extends NP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||ig,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=dg(n)?n:H$[n]||eu;let l,c;a!==eu&&typeof t[0]!="number"&&(l=wo(G$,BP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=OP(d));const{calculatedDuration:u}=d,h=u+o,v=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:v,repeatType:y,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=s;if(v){const D=Math.min(this.currentTime,d)/u;let A=Math.floor(D),M=D%1;!M&&D>=1&&(M=1),M===1&&A--,A=Math.min(A,v+1),!!(A%2)&&(y==="reverse"?(M=1-M,x&&(M-=x/u)):y==="mirror"&&(C=i)),S=Ur(0,1,M)*u}const E=w?{done:!1,value:l[0]}:C.next(S);a&&(E.value=a(E.value));let{done:P}=E;!w&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Zu(l,this.options,o)),b&&b(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Ir(t.calculatedDuration):0}get time(){return Ir(this.currentTime)}set time(t){t=Mr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=W$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const K$=new Set(["opacity","clipPath","filter","transform"]);function mg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Y$={linearEasing:void 0};function Q$(e,t){const n=mg(e);return()=>{var r;return(r=Y$[t])!==null&&r!==void 0?r:n()}}const tu=Q$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function zP(e){return!!(typeof e=="function"&&tu()||!e||typeof e=="string"&&(e in tp||tu())||fg(e)||Array.isArray(e)&&e.every(zP))}const Hi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hi([0,.65,.55,1]),circOut:Hi([.55,0,1,.45]),backIn:Hi([.31,.01,.66,-.59]),backOut:Hi([.33,1.53,.69,.99])};function qP(e,t){if(e)return typeof e=="function"&&tu()?LP(e,t):fg(e)?Hi(e):Array.isArray(e)?e.map(n=>qP(n,t)||tp.easeOut):tp[e]}function X$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=qP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function jw(e,t){e.timeline=t,e.onfinish=null}const Z$=mg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nu=10,J$=2e4;function eU(e){return dg(e.type)||e.type==="spring"||!zP(e.ease)}function tU(e,t){const n=new pg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<J$;)r=n.sample(s),o.push(r.value),s+=nu;return{times:void 0,keyframes:o,duration:s-nu,ease:"linear"}}const WP={anticipate:mP,backInOut:pP,circInOut:yP};function nU(e){return e in WP}class Ow extends NP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new _P(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&tu()&&nU(i)&&(i=WP[i]),eU(this.options)){const{onComplete:h,onUpdate:v,motionValue:y,element:x,...b}=this.options,m=tU(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=X$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(jw(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Zu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ir(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ir(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Mr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Kt;const{animation:r}=n;jw(r,t)}return Kt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...v}=this.options,y=new pg({...v,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),x=Mr(this.time);c.setWithVelocity(y.sample(x-nu).value,y.sample(x).value,nu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return Z$()&&r&&K$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const rU=mg(()=>window.ScrollTimeline!==void 0);class oU{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>rU()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function sU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const gg=(e,t,n,r={},o,s)=>i=>{const a=ng(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};sU(a)||(d={...d,...RO(e,d)}),d.duration&&(d.duration=Mr(d.duration)),d.repeatDelay&&(d.repeatDelay=Mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Zu(d.keyframes,a);if(h!==void 0)return Qe.update(()=>{d.onUpdate(h),d.onComplete()}),new oU([])}return!s&&Ow.supports(d)?new Ow(d):new pg(d)},iU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aU=e=>Hh(e)?e[e.length-1]||0:e;function yg(e,t){e.indexOf(t)===-1&&e.push(t)}function vg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wg{constructor(){this.subscriptions=[]}add(t){return yg(this.subscriptions,t),()=>vg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $w=30,lU=e=>!isNaN(parseFloat(e));class cU{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=gr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$w)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$w);return FP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $a(e,t){return new cU(e,t)}function uU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$a(n))}function dU(e,t){const n=Xu(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=aU(s[i]);uU(e,i,a)}}const xg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fU="framerAppearId",HP="data-"+xg(fU);function GP(e){return e.props[HP]}const Gt=e=>!!(e&&e.getVelocity);function hU(e){return!!(Gt(e)&&e.add)}function np(e,t){const n=e.getValue("willChange");if(hU(n))return n.add(t)}function pU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function KP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),v=l[u];if(v===void 0||d&&pU(d,u))continue;const y={delay:n,...ng(i||{},u)};let x=!1;if(window.MotionHandoffAnimation){const m=GP(e);if(m){const w=window.MotionHandoffAnimation(m,u,Qe);w!==null&&(y.startTime=w,x=!0)}}np(e,u),h.start(gg(u,h,v,e.shouldReduceMotion&&fs.has(u)?{type:!1}:y,e,x));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Qe.update(()=>{a&&dU(e,a)})}),c}function rp(e,t,n={}){var r;const o=Xu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(KP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return mU(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function mU(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(gU).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(rp(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function gU(e,t){return e.sortNodePosition(t)}function yU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>rp(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=rp(e,t,n);else{const o=typeof t=="function"?Xu(e,t,n.custom):t;r=Promise.all(KP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const vU=tg.length;function YP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?YP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<vU;n++){const r=tg[n],o=e.props[r];(Fa(o)||o===!1)&&(t[r]=o)}return t}const wU=[...eg].reverse(),xU=eg.length;function SU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>yU(e,n,r)))}function bU(e){let t=SU(e),n=Uw(),r=!0;const o=l=>(c,d)=>{var u;const h=Xu(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:v,transitionEnd:y,...x}=h;c={...c,...x,...y}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=YP(e.parent)||{},u=[],h=new Set;let v={},y=1/0;for(let b=0;b<xU;b++){const m=wU[b],w=n[m],S=c[m]!==void 0?c[m]:d[m],C=Fa(S),E=m===l?w.isActive:null;E===!1&&(y=b);let P=S===d[m]&&S!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...v},!w.isActive&&E===null||!S&&!w.prevProp||Qu(S)||typeof S=="boolean")continue;const k=CU(w.prevProp,S);let D=k||m===l&&w.isActive&&!P&&C||b>y&&C,A=!1;const M=Array.isArray(S)?S:[S];let L=M.reduce(o(m),{});E===!1&&(L={});const{prevResolvedValues:_={}}=w,Y={..._,...L},$=O=>{D=!0,h.has(O)&&(A=!0,h.delete(O)),w.needsAnimating[O]=!0;const R=e.getValue(O);R&&(R.liveStyle=!1)};for(const O in Y){const R=L[O],I=_[O];if(v.hasOwnProperty(O))continue;let F=!1;Hh(R)&&Hh(I)?F=!lP(R,I):F=R!==I,F?R!=null?$(O):h.add(O):R!==void 0&&h.has(O)?$(O):w.protectedKeys[O]=!0}w.prevProp=S,w.prevResolvedValues=L,w.isActive&&(v={...v,...L}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(P&&k)||A)&&u.push(...M.map(O=>({animation:O,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const w=e.getBaseTarget(m),S=e.getValue(m);S&&(S.liveStyle=!0),b[m]=w??null}),u.push({animation:b})}let x=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var v;return(v=h.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Uw(),r=!0}}}function CU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lP(t,e):!1}function Lo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uw(){return{animate:Lo(!0),whileInView:Lo(),whileHover:Lo(),whileTap:Lo(),whileDrag:Lo(),whileFocus:Lo(),exit:Lo()}}class Mo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class EU extends Mo{constructor(t){super(t),t.animationState||(t.animationState=bU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let PU=0;class TU extends Mo{constructor(){super(...arguments),this.id=PU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const kU={animation:{Feature:EU},exit:{Feature:TU}};function DU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Un={x:!1,y:!1};function QP(){return Un.x||Un.y}function Vw(e){return t=>{t.pointerType==="touch"||QP()||e(t)}}function AU(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=Vw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=Vw(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return DU(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function RU(e){return e==="x"||e==="y"?Un[e]?null:(Un[e]=!0,()=>{Un[e]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}const XP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ll(e){return{point:{x:e.pageX,y:e.pageY}}}const MU=e=>t=>XP(t)&&e(t,ll(t));function Ar(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xo(e,t,n,r){return Ar(e,t,MU(n),r)}const Bw=(e,t)=>Math.abs(e-t);function IU(e,t){const n=Bw(e.x,t.x),r=Bw(e.y,t.y);return Math.sqrt(n**2+r**2)}class ZP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=xf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=IU(u.offset,{x:0,y:0})>=3;if(!h&&!v)return;const{point:y}=u,{timestamp:x}=Ft;this.history.push({...y,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=wf(h,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=xf(u.type==="pointercancel"?this.lastMoveEventInfo:wf(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(u,b),y&&y(u,b)},!XP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=ll(t),a=wf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ft;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,xf(a,this.history)),this.removeListeners=wo(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function wf(e,t){return t?{point:t(e.point)}:e}function zw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xf({point:e},t){return{point:e,delta:zw(e,JP(t)),offset:zw(e,_U(t)),velocity:NU(t,.1)}}function _U(e){return e[0]}function JP(e){return e[e.length-1]}function NU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=JP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Mr(t)));)n--;if(!r)return{x:0,y:0};const s=Ir(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Is(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const eT=1e-4,LU=1-eT,FU=1+eT,tT=.01,jU=0-tT,OU=0+tT;function bn(e){return e.max-e.min}function $U(e,t,n){return Math.abs(e-t)<=n}function qw(e,t,n,r=.5){e.origin=r,e.originPoint=ht(t.min,t.max,e.origin),e.scale=bn(n)/bn(t),e.translate=ht(n.min,n.max,e.origin)-e.originPoint,(e.scale>=LU&&e.scale<=FU||isNaN(e.scale))&&(e.scale=1),(e.translate>=jU&&e.translate<=OU||isNaN(e.translate))&&(e.translate=0)}function ia(e,t,n,r){qw(e.x,t.x,n.x,r?r.originX:void 0),qw(e.y,t.y,n.y,r?r.originY:void 0)}function Ww(e,t,n){e.min=n.min+t.min,e.max=e.min+bn(t)}function UU(e,t,n){Ww(e.x,t.x,n.x),Ww(e.y,t.y,n.y)}function Hw(e,t,n){e.min=t.min-n.min,e.max=e.min+bn(t)}function aa(e,t,n){Hw(e.x,t.x,n.x),Hw(e.y,t.y,n.y)}function VU(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ht(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ht(n,e,r.max):Math.min(e,n)),e}function Gw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function BU(e,{top:t,left:n,bottom:r,right:o}){return{x:Gw(e.x,n,o),y:Gw(e.y,t,r)}}function Kw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function zU(e,t){return{x:Kw(e.x,t.x),y:Kw(e.y,t.y)}}function qU(e,t){let n=.5;const r=bn(e),o=bn(t);return o>r?n=mi(t.min,t.max-r,e.min):r>o&&(n=mi(e.min,e.max-o,t.min)),Ur(0,1,n)}function WU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const op=.35;function HU(e=op){return e===!1?e=0:e===!0&&(e=op),{x:Yw(e,"left","right"),y:Yw(e,"top","bottom")}}function Yw(e,t,n){return{min:Qw(e,t),max:Qw(e,n)}}function Qw(e,t){return typeof e=="number"?e:e[t]||0}const Xw=()=>({translate:0,scale:1,origin:0,originPoint:0}),_s=()=>({x:Xw(),y:Xw()}),Zw=()=>({min:0,max:0}),Et=()=>({x:Zw(),y:Zw()});function kn(e){return[e("x"),e("y")]}function nT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function GU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sf(e){return e===void 0||e===1}function sp({scale:e,scaleX:t,scaleY:n}){return!Sf(e)||!Sf(t)||!Sf(n)}function Oo(e){return sp(e)||rT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rT(e){return Jw(e.x)||Jw(e.y)}function Jw(e){return e&&e!=="0%"}function ru(e,t,n){const r=e-n,o=t*r;return n+o}function e0(e,t,n,r,o){return o!==void 0&&(e=ru(e,o,r)),ru(e,n,r)+t}function ip(e,t=0,n=1,r,o){e.min=e0(e.min,t,n,r,o),e.max=e0(e.max,t,n,r,o)}function oT(e,{x:t,y:n}){ip(e.x,t.translate,t.scale,t.originPoint),ip(e.y,n.translate,n.scale,n.originPoint)}const t0=.999999999999,n0=1.0000000000001;function YU(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ls(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,oT(e,i)),r&&Oo(s.latestValues)&&Ls(e,s.latestValues))}t.x<n0&&t.x>t0&&(t.x=1),t.y<n0&&t.y>t0&&(t.y=1)}function Ns(e,t){e.min=e.min+t,e.max=e.max+t}function r0(e,t,n,r,o=.5){const s=ht(e.min,e.max,o);ip(e,t,n,s,r)}function Ls(e,t){r0(e.x,t.x,t.scaleX,t.scale,t.originX),r0(e.y,t.y,t.scaleY,t.scale,t.originY)}function sT(e,t){return nT(KU(e.getBoundingClientRect(),t))}function QU(e,t,n){const r=sT(e,n),{scroll:o}=t;return o&&(Ns(r.x,o.offset.x),Ns(r.y,o.offset.y)),r}const iT=({current:e})=>e?e.ownerDocument.defaultView:null,XU=new WeakMap;class ZU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ll(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:v,onDragStart:y}=this.getProps();if(h&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RU(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(mr.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[b];S&&(m=bn(S)*(parseFloat(m)/100))}}this.originPoint[b]=m}),y&&Qe.postRender(()=>y(d,u)),np(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=u;if(v&&this.currentDirection===null){this.currentDirection=JU(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),x&&x(d,u)},a=(d,u)=>this.stop(d,u),l=()=>kn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ZP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:iT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Qe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Hl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=VU(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Is(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=BU(o.layoutBox,n):this.constraints=!1,this.elastic=HU(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=WU(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Is(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=QU(r,o.root,this.visualElement.getTransformPagePoint());let i=zU(o.layout.layoutBox,s);if(n){const a=n(GU(i));this.hasMutatedConstraints=!!a,a&&(i=nT(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kn(d=>{if(!Hl(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,v=o?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return np(this.visualElement,t),r.start(gg(t,r,0,n,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kn(n=>{const{drag:r}=this.getProps();if(!Hl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-ht(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Is(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=qU({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(i=>{if(!Hl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(ht(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;XU.set(this.visualElement,this);const t=this.visualElement.current,n=xo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Is(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qe.read(r);const i=Ar(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=op,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Hl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function JU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class eV extends Mo{constructor(t){super(t),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new ZU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const o0=e=>(t,n)=>{e&&Qe.postRender(()=>e(t,n))};class tV extends Mo{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(t){this.session=new ZP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:o0(t),onStart:o0(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Qe.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ju=f.createContext(null);function nV(){const e=f.useContext(Ju);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const Sg=f.createContext({}),aT=f.createContext({}),pc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ui={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pe.test(e))e=parseFloat(e);else return e;const n=s0(e,t.target.x),r=s0(e,t.target.y);return`${n}% ${r}%`}},rV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ko.parse(e);if(o.length>5)return r;const s=ko.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=ht(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},ou={};function oV(e){Object.assign(ou,e)}const{schedule:bg,cancel:c3}=cP(queueMicrotask,!1);class sV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;oV(iV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),pc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Qe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lT(e){const[t,n]=nV(),r=f.useContext(Sg);return p.jsx(sV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(aT),isPresent:t,safeToRemove:n})}const iV={borderRadius:{...Ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ui,borderTopRightRadius:Ui,borderBottomLeftRadius:Ui,borderBottomRightRadius:Ui,boxShadow:rV},cT=["TopLeft","TopRight","BottomLeft","BottomRight"],aV=cT.length,i0=e=>typeof e=="string"?parseFloat(e):e,a0=e=>typeof e=="number"||pe.test(e);function lV(e,t,n,r,o,s){o?(e.opacity=ht(0,n.opacity!==void 0?n.opacity:1,cV(r)),e.opacityExit=ht(t.opacity!==void 0?t.opacity:1,0,uV(r))):s&&(e.opacity=ht(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<aV;i++){const a=`border${cT[i]}Radius`;let l=l0(t,a),c=l0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||a0(l)===a0(c)?(e[a]=Math.max(ht(i0(l),i0(c),r),0),(mr.test(c)||mr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ht(t.rotate||0,n.rotate||0,r))}function l0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cV=uT(0,.5,gP),uV=uT(.5,.95,Kt);function uT(e,t,n){return r=>r<e?0:r>t?1:n(mi(e,t,r))}function c0(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){c0(e.x,t.x),c0(e.y,t.y)}function u0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function d0(e,t,n,r,o){return e-=t,e=ru(e,1/n,r),o!==void 0&&(e=ru(e,1/o,r)),e}function dV(e,t=0,n=1,r=.5,o,s=e,i=e){if(mr.test(t)&&(t=parseFloat(t),t=ht(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=ht(s.min,s.max,r);e===s&&(a-=t),e.min=d0(e.min,t,n,a,o),e.max=d0(e.max,t,n,a,o)}function f0(e,t,[n,r,o],s,i){dV(e,t[n],t[r],t[o],t.scale,s,i)}const fV=["x","scaleX","originX"],hV=["y","scaleY","originY"];function h0(e,t,n,r){f0(e.x,t,fV,n?n.x:void 0,r?r.x:void 0),f0(e.y,t,hV,n?n.y:void 0,r?r.y:void 0)}function p0(e){return e.translate===0&&e.scale===1}function dT(e){return p0(e.x)&&p0(e.y)}function m0(e,t){return e.min===t.min&&e.max===t.max}function pV(e,t){return m0(e.x,t.x)&&m0(e.y,t.y)}function g0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fT(e,t){return g0(e.x,t.x)&&g0(e.y,t.y)}function y0(e){return bn(e.x)/bn(e.y)}function v0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mV{constructor(){this.members=[]}add(t){yg(this.members,t),t.scheduleRender()}remove(t){if(vg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gV(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:v,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),v&&(r+=`skewX(${v}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const yV=(e,t)=>e.depth-t.depth;class vV{constructor(){this.children=[],this.isDirty=!1}add(t){yg(this.children,t),this.isDirty=!0}remove(t){vg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yV),this.isDirty=!1,this.children.forEach(t)}}function mc(e){const t=Gt(e)?e.get():e;return iU(t)?t.toValue():t}function wV(e,t){const n=gr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(To(r),e(s-t))};return Qe.read(r,!0),()=>To(r)}function xV(e){return e instanceof SVGElement&&e.tagName!=="svg"}function SV(e,t,n){const r=Gt(e)?e:$a(e);return r.start(gg("",r,t,n)),r.animation}const $o={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Gi=typeof window<"u"&&window.MotionDebug!==void 0,bf=["","X","Y","Z"],bV={visibility:"hidden"},w0=1e3;let CV=0;function Cf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hT(r)}function pT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=CV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gi&&($o.totalNodes=$o.resolvedTargetDeltas=$o.recalculatedProjection=0),this.nodes.forEach(TV),this.nodes.forEach(MV),this.nodes.forEach(IV),this.nodes.forEach(kV),Gi&&window.MotionDebug.record($o)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vV)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new wg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xV(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=wV(h,250),pc.hasAnimatedSinceResize&&(pc.hasAnimatedSinceResize=!1,this.nodes.forEach(S0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||jV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),w=!this.targetLayout||!fT(this.targetLayout,y)||v,S=!h&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const C={...ng(x,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||S0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_V),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x0);return}this.isUpdating||this.nodes.forEach(AV),this.isUpdating=!1,this.nodes.forEach(RV),this.nodes.forEach(EV),this.nodes.forEach(PV),this.clearAllSnapshots();const a=gr.now();Ft.delta=Ur(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,pf.update.process(Ft),pf.preRender.process(Ft),pf.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DV),this.sharedNodes.forEach(NV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||Oo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),OV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Et();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some($V))){const{scroll:d}=this.root;d&&(Ns(l.x,d.offset.x),Ns(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=Et();if(Tn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Tn(l,i),Ns(l.x,u.offset.x),Ns(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=Et();Tn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ls(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Oo(d.latestValues)&&Ls(l,d.latestValues)}return Oo(this.latestValues)&&Ls(l,this.latestValues),l}removeTransform(i){const a=Et();Tn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Oo(c.latestValues))continue;sp(c.latestValues)&&c.updateSnapshot();const d=Et(),u=c.measurePageBox();Tn(d,u),h0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Oo(this.latestValues)&&h0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),aa(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),oT(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),aa(this.relativeTargetOrigin,this.target,v.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gi&&$o.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sp(this.parent.latestValues)||rT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,v=this.treeScale.y;YU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Et());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u0(this.prevProjectionDelta.x,this.projectionDelta.x),u0(this.prevProjectionDelta.y,this.projectionDelta.y)),ia(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==v||!v0(this.projectionDelta.x,this.prevProjectionDelta.x)||!v0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Gi&&$o.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_s(),this.projectionDelta=_s(),this.projectionDeltaWithTransform=_s()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=_s();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Et(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=v!==y,b=this.getStack(),m=!b||b.members.length<=1,w=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(FV));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const E=C/1e3;b0(u.x,i.x,E),b0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aa(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LV(this.relativeTarget,this.relativeTargetOrigin,h,E),S&&pV(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Et()),Tn(S,this.relativeTarget)),x&&(this.animationValues=d,lV(d,c,this.latestValues,E,w,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{pc.hasAnimatedSinceResize=!0,this.currentAnimation=SV(0,w0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&mT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Et();const u=bn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=bn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Tn(a,l),Ls(a,d),ia(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new mV),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Cf("z",i,c,this.animationValues);for(let d=0;d<bf.length;d++)Cf(`rotate${bf[d]}`,i,c,this.animationValues),Cf(`skew${bf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bV;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=mc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=mc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=gV(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in ou){if(h[x]===void 0)continue;const{correct:b,applyTo:m}=ou[x],w=c.transform==="none"?h[x]:b(h[x],u);if(m){const S=m.length;for(let C=0;C<S;C++)c[m[C]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=u===this?mc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(x0),this.root.sharedNodes.clear()}}}function EV(e){e.updateLayout()}function PV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],v=bn(h);h.min=r[u].min,h.max=h.min+v}):mT(s,n.layoutBox,r)&&kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],v=bn(r[u]);h.max=h.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+v)});const a=_s();ia(a,r,n.layoutBox);const l=_s();i?ia(l,e.applyTransform(o,!0),n.measuredBox):ia(l,r,n.layoutBox);const c=!dT(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:v}=u;if(h&&v){const y=Et();aa(y,n.layoutBox,h.layoutBox);const x=Et();aa(x,r,v.layoutBox),fT(y,x)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function TV(e){Gi&&$o.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DV(e){e.clearSnapshot()}function x0(e){e.clearMeasurements()}function AV(e){e.isLayoutDirty=!1}function RV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function S0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function MV(e){e.resolveTargetDelta()}function IV(e){e.calcProjection()}function _V(e){e.resetSkewAndRotation()}function NV(e){e.removeLeadSnapshot()}function b0(e,t,n){e.translate=ht(t.translate,0,n),e.scale=ht(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function C0(e,t,n,r){e.min=ht(t.min,n.min,r),e.max=ht(t.max,n.max,r)}function LV(e,t,n,r){C0(e.x,t.x,n.x,r),C0(e.y,t.y,n.y,r)}function FV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jV={duration:.45,ease:[.4,0,.1,1]},E0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),P0=E0("applewebkit/")&&!E0("chrome/")?Math.round:Kt;function T0(e){e.min=P0(e.min),e.max=P0(e.max)}function OV(e){T0(e.x),T0(e.y)}function mT(e,t,n){return e==="position"||e==="preserve-aspect"&&!$U(y0(t),y0(n),.2)}function $V(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const UV=pT({attachResizeListener:(e,t)=>Ar(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ef={current:void 0},gT=pT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ef.current){const e=new UV({});e.mount(window),e.setOptions({layoutScroll:!0}),Ef.current=e}return Ef.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),VV={pan:{Feature:tV},drag:{Feature:eV,ProjectionNode:gT,MeasureLayout:lT}};function k0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&Qe.postRender(()=>o(t,ll(t)))}class BV extends Mo{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=AU(t,r=>(k0(this.node,r,!0),o=>k0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class zV extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wo(Ar(this.node.current,"focus",()=>this.onFocus()),Ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yT=(e,t)=>t?e===t?!0:yT(e,t.parentElement):!1;function Pf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ll(n))}class qV extends Mo{constructor(){super(...arguments),this.removeStartListeners=Kt,this.removeEndListeners=Kt,this.removeAccessibleListeners=Kt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=xo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!yT(this.node.current,a.target)?d:c;h&&Qe.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=xo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wo(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Pf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Qe.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ar(this.node.current,"keyup",i),Pf("down",(a,l)=>{this.startPress(a,l)})},n=Ar(this.node.current,"keydown",t),r=()=>{this.isPressing&&Pf("cancel",(s,i)=>this.cancelPress(s,i))},o=Ar(this.node.current,"blur",r);this.removeAccessibleListeners=wo(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qe.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qe.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=xo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ap=new WeakMap,Tf=new WeakMap,WV=e=>{const t=ap.get(e.target);t&&t(e)},HV=e=>{e.forEach(WV)};function GV({root:e,...t}){const n=e||document;Tf.has(n)||Tf.set(n,{});const r=Tf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(HV,{root:e,...t})),r[o]}function KV(e,t,n){const r=GV(t);return ap.set(e,n),r.observe(e),()=>{ap.delete(e),r.unobserve(e)}}const YV={some:0,all:1};class QV extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:YV[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return KV(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XV(t,n))&&this.startObserver()}unmount(){}}function XV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZV={inView:{Feature:QV},tap:{Feature:qV},focus:{Feature:zV},hover:{Feature:BV}},JV={layout:{ProjectionNode:gT,MeasureLayout:lT}},Cg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ed=f.createContext({}),Eg=typeof window<"u",vT=Eg?f.useLayoutEffect:f.useEffect,wT=f.createContext({strict:!1});function eB(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(ed),l=f.useContext(wT),c=f.useContext(Ju),d=f.useContext(Cg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,v=f.useContext(aT);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&tB(u.current,n,o,v);const y=f.useRef(!1);f.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const x=n[HP],b=f.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return vT(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),bg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,x)}),b.current=!1))}),h}function tB(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Is(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function xT(e){if(e)return e.options.allowProjection!==!1?e.projection:xT(e.parent)}function nB(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Is(n)&&(n.current=r))},[t])}function td(e){return Qu(e.animate)||tg.some(t=>Fa(e[t]))}function ST(e){return!!(td(e)||e.variants)}function rB(e,t){if(td(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fa(n)?n:void 0,animate:Fa(r)?r:void 0}}return e.inherit!==!1?t:{}}function oB(e){const{initial:t,animate:n}=rB(e,f.useContext(ed));return f.useMemo(()=>({initial:t,animate:n}),[D0(t),D0(n)])}function D0(e){return Array.isArray(e)?e.join(" "):e}const A0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gi={};for(const e in A0)gi[e]={isEnabled:t=>A0[e].some(n=>!!t[n])};function sB(e){for(const t in e)gi[t]={...gi[t],...e[t]}}const iB=Symbol.for("motionComponentSymbol");function aB({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&sB(e);function s(a,l){let c;const d={...f.useContext(Cg),...a,layoutId:lB(a)},{isStatic:u}=d,h=oB(a),v=r(a,u);if(!u&&Eg){cB();const y=uB(d);c=y.MeasureLayout,h.visualElement=eB(o,v,d,t,y.ProjectionNode)}return p.jsxs(ed.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,nB(v,h.visualElement,l),v,u,h.visualElement)]})}const i=f.forwardRef(s);return i[iB]=o,i}function lB({layoutId:e}){const t=f.useContext(Sg).id;return t&&e!==void 0?t+"-"+e:e}function cB(e,t){f.useContext(wT).strict}function uB(e){const{drag:t,layout:n}=gi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pg(e){return typeof e!="string"||e.includes("-")?!1:!!(dB.indexOf(e)>-1||/[A-Z]/u.test(e))}function bT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const CT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ET(e,t,n,r){bT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(CT.has(o)?o:xg(o),t.attrs[o])}function PT(e,{layout:t,layoutId:n}){return fs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ou[e]||e==="opacity")}function Tg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(Gt(o[i])||t.style&&Gt(t.style[i])||PT(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function TT(e,t,n){const r=Tg(e,t,n);for(const o in e)if(Gt(e[o])||Gt(t[o])){const s=sl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function kg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function fB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:hB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const kT=e=>(t,n)=>{const r=f.useContext(ed),o=f.useContext(Ju),s=()=>fB(e,t,r,o);return n?s():kg(s)};function hB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=mc(s[h]);let{initial:i,animate:a}=e;const l=td(e),c=ST(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Qu(u)){const h=Array.isArray(u)?u:[u];for(let v=0;v<h.length;v++){const y=Jm(e,h[v]);if(y){const{transitionEnd:x,transition:b,...m}=y;for(const w in m){let S=m[w];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(o[w]=S)}for(const w in x)o[w]=x[w]}}}return o}const Dg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DT=()=>({...Dg(),attrs:{}}),AT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,pB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mB=sl.length;function gB(e,t,n){let r="",o=!0;for(let s=0;s<mB;s++){const i=sl[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=AT(a,cg[i]);if(!l){o=!1;const d=pB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Ag(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(fs.has(l)){i=!0;continue}else if(SP(l)){o[l]=c;continue}else{const d=AT(c,cg[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=gB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function R0(e,t,n){return typeof e=="string"?e:pe.transform(t+n*e)}function yB(e,t,n){const r=R0(t,e.x,e.width),o=R0(n,e.y,e.height);return`${r} ${o}`}const vB={offset:"stroke-dashoffset",array:"stroke-dasharray"},wB={offset:"strokeDashoffset",array:"strokeDasharray"};function xB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?vB:wB;e[s.offset]=pe.transform(-r);const i=pe.transform(t),a=pe.transform(n);e[s.array]=`${i} ${a}`}function Rg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(Ag(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:v,dimensions:y}=e;h.transform&&(y&&(v.transform=h.transform),delete h.transform),y&&(o!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=yB(y,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&xB(h,i,a,l,!1)}const Mg=e=>typeof e=="string"&&e.toLowerCase()==="svg",SB={useVisualState:kT({scrapeMotionValuesFromProps:TT,createRenderState:DT,onMount:(e,t,{renderState:n,latestValues:r})=>{Qe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qe.render(()=>{Rg(n,r,Mg(t.tagName),e.transformTemplate),ET(t,n)})}})},bB={useVisualState:kT({scrapeMotionValuesFromProps:Tg,createRenderState:Dg})};function RT(e,t,n){for(const r in t)!Gt(t[r])&&!PT(r,n)&&(e[r]=t[r])}function CB({transformTemplate:e},t){return f.useMemo(()=>{const n=Dg();return Ag(n,t,e),Object.assign({},n.vars,n.style)},[t])}function EB(e,t){const n=e.style||{},r={};return RT(r,n,e),Object.assign(r,CB(e,t)),r}function PB(e,t){const n={},r=EB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const TB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function su(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||TB.has(e)}let MT=e=>!su(e);function kB(e){e&&(MT=t=>t.startsWith("on")?!su(t):e(t))}try{kB(require("@emotion/is-prop-valid").default)}catch{}function DB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(MT(o)||n===!0&&su(o)||!t&&!su(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function AB(e,t,n,r){const o=f.useMemo(()=>{const s=DT();return Rg(s,t,Mg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};RT(s,e.style,e),o.style={...s,...o.style}}return o}function RB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(Pg(n)?AB:PB)(r,s,i,n),c=DB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>Gt(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function MB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...Pg(r)?SB:bB,preloadedFeatures:e,useRender:RB(o),createVisualElement:t,Component:r};return aB(i)}}const lp={current:null},IT={current:!1};function IB(){if(IT.current=!0,!!Eg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lp.current=e.matches;e.addListener(t),t()}else lp.current=!1}function _B(e,t,n){for(const r in t){const o=t[r],s=n[r];if(Gt(o))e.addValue(r,o);else if(Gt(s))e.addValue(r,$a(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,$a(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const M0=new WeakMap,NB=[...EP,qt,ko],LB=e=>NB.find(CP(e)),I0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ig,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=gr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=td(n),this.isVariantNode=ST(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const v=u[h];l[h]!==void 0&&Gt(v)&&v.set(l[h],!1)}}mount(t){this.current=t,M0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IT.current||IB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M0.delete(this.current),this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=fs.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gi){const n=gi[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<I0.length;r++){const o=I0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=_B(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$a(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(wP(o)||vP(o))?o=parseFloat(o):!LB(o)&&ko.test(n)&&(o=IP(t,n)),this.setBaseTarget(t,Gt(o)?o.get():o)),Gt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Jm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Gt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class _T extends FB{constructor(){super(...arguments),this.KeyframeResolver=_P}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jB(e){return window.getComputedStyle(e)}class OB extends _T{constructor(){super(...arguments),this.type="html",this.renderInstance=bT}readValueFromInstance(t,n){if(fs.has(n)){const r=ug(n);return r&&r.default||0}else{const r=jB(t),o=(SP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sT(t,n)}build(t,n,r){Ag(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Tg(t,n,r)}}class $B extends _T{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fs.has(n)){const r=ug(n);return r&&r.default||0}return n=CT.has(n)?n:xg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return TT(t,n,r)}build(t,n,r){Rg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){ET(t,n,r,o)}mount(t){this.isSVGTag=Mg(t.tagName),super.mount(t)}}const UB=(e,t)=>Pg(e)?new $B(t):new OB(t,{allowProjection:e!==f.Fragment}),VB=MB({...kU,...ZV,...VV,...JV},UB),nd=PO(VB);class BB extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(Cg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(BB,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const qB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=kg(WB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(zB,{isPresent:n,children:e})),p.jsx(Ju.Provider,{value:d,children:e})};function WB(){return new Map}const Gl=e=>e.key||"";function _0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Ig=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>_0(e),[e]),l=a.map(Gl),c=f.useRef(!0),d=f.useRef(a),u=kg(()=>new Map),[h,v]=f.useState(a),[y,x]=f.useState(a);vT(()=>{c.current=!1,d.current=a;for(let w=0;w<y.length;w++){const S=Gl(y[w]);l.includes(S)?u.delete(S):u.get(S)!==!0&&u.set(S,!1)}},[y,l.length,l.join("-")]);const b=[];if(a!==h){let w=[...a];for(let S=0;S<y.length;S++){const C=y[S],E=Gl(C);l.includes(E)||(w.splice(S,0,C),b.push(C))}i==="wait"&&b.length&&(w=b),x(_0(w)),v(a);return}const{forceRender:m}=f.useContext(Sg);return p.jsx(p.Fragment,{children:y.map(w=>{const S=Gl(w),C=a===y||l.includes(S),E=()=>{if(u.has(S))u.set(S,!0);else return;let P=!0;u.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),x(d.current),o&&o())};return p.jsx(qB,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:w},S)})})};function HB({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(nd.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function GB(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=er(),a=50,l=.3,c={enter:y=>({x:y>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:y=>({x:y<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(y,x)=>{const{offset:b,velocity:m}=x;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},u=f.useCallback(y=>{const b=new Date(Date.UTC(t,e-1,y)).toISOString().split("T")[0],m=n.filter(S=>S.date===b);return{hasPhotoEntries:m.some(S=>S.photos&&S.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const y=new Date(t,e-1,0).getDate(),x=new Date(t,e-1,1).getDay(),b=Array(x).fill(null).map((w,S)=>({type:"empty",index:S})),m=Array.from({length:y},(w,S)=>({type:"day",day:S+1}));return[...b,...m]},[e,t]),v=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(y=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:y},y))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(Ig,{initial:!1,custom:r,mode:"wait",children:p.jsx(nd.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:v,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(y=>{const x=m=>m.type==="day",b=x(y)?`day-${y.day}`:`empty-${y.index}`;if(x(y)){const{hasPhotoEntries:m,entryCount:w}=u(y.day);return p.jsx(HB,{day:y.day,hasPhotoEntries:m,entryCount:w,onClick:()=>o(y.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function KB(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=er(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Ge,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(WI,{className:"h-4 w-4"})}),p.jsxs(Ge,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(qI,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Ge,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(oC,{className:"h-4 w-4"})})]})}function _g(e,[t,n]){return Math.min(n,Math.max(t,e))}function YB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Ng="ScrollArea",[NT,d3]=hn(Ng),[QB,jn]=NT(Ng),LT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[v,y]=f.useState(null),[x,b]=f.useState(null),[m,w]=f.useState(0),[S,C]=f.useState(0),[E,P]=f.useState(!1),[k,D]=f.useState(!1),A=Ie(t,L=>l(L)),M=nl(o);return p.jsx(QB,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:D,onCornerWidthChange:w,onCornerHeightChange:C,children:p.jsx(Se.div,{dir:M,...i,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});LT.displayName=Ng;var FT="ScrollAreaViewport",jT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=jn(FT,n),a=f.useRef(null),l=Ie(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});jT.displayName=FT;var xr="ScrollAreaScrollbar",Lg=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(xr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(XB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(ZB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(OT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Fg,{...r,ref:t}):null});Lg.displayName=xr;var XB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(xr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(pn,{present:n||s,children:p.jsx(OT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),ZB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(xr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=od(()=>l("SCROLL_END"),100),[a,l]=YB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const v=c[d];u!==v&&(l("SCROLL"),i()),u=v};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(pn,{present:n||a!=="hidden",children:p.jsx(Fg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:re(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:re(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),OT=f.forwardRef((e,t)=>{const n=jn(xr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=od(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return yi(n.viewport,l),yi(n.content,l),p.jsx(pn,{present:r||s,children:p.jsx(Fg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Fg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=jn(xr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=zT(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,v){return oz(h,i.current,a,v)}return n==="horizontal"?p.jsx(JB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,v=N0(h,a,o.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(ez,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,v=N0(h,a);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),JB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=jn(xr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Ie(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(UT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":rd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),WT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:au(i.paddingLeft),paddingEnd:au(i.paddingRight)}})}})}),ez=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=jn(xr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Ie(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(UT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":rd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),WT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:au(i.paddingTop),paddingEnd:au(i.paddingBottom)}})}})}),[tz,$T]=NT(xr),UT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,v=jn(xr,n),[y,x]=f.useState(null),b=Ie(t,A=>x(A)),m=f.useRef(null),w=f.useRef(""),S=v.viewport,C=r.content-r.viewport,E=ft(d),P=ft(l),k=od(u,10);function D(A){if(m.current){const M=A.clientX-m.current.left,L=A.clientY-m.current.top;c({x:M,y:L})}}return f.useEffect(()=>{const A=M=>{const L=M.target;(y==null?void 0:y.contains(L))&&E(M,C)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,y,C,E]),f.useEffect(P,[r,P]),yi(y,k),yi(v.content,k),p.jsx(tz,{scope:n,scrollbar:y,hasThumb:o,onThumbChange:ft(s),onThumbPointerUp:ft(i),onThumbPositionChange:P,onThumbPointerDown:ft(a),children:p.jsx(Se.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:re(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),m.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),D(A))}),onPointerMove:re(e.onPointerMove,D),onPointerUp:re(e.onPointerUp,A=>{const M=A.target;M.hasPointerCapture(A.pointerId)&&M.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),m.current=null})})})}),iu="ScrollAreaThumb",VT=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=$T(iu,e.__scopeScrollArea);return p.jsx(pn,{present:n||o.hasThumb,children:p.jsx(nz,{ref:t,...r})})}),nz=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=jn(iu,n),i=$T(iu,n),{onThumbPositionChange:a}=i,l=Ie(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=od(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const v=sz(u,a);c.current=v,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(Se.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(e.onPointerDownCapture,u=>{const v=u.target.getBoundingClientRect(),y=u.clientX-v.left,x=u.clientY-v.top;i.onThumbPointerDown({x:y,y:x})}),onPointerUp:re(e.onPointerUp,i.onThumbPointerUp)})});VT.displayName=iu;var jg="ScrollAreaCorner",BT=f.forwardRef((e,t)=>{const n=jn(jg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(rz,{...e,ref:t}):null});BT.displayName=jg;var rz=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=jn(jg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return yi(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),yi(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(Se.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function au(e){return e?parseInt(e,10):0}function zT(e,t){const n=e/t;return isNaN(n)?0:n}function rd(e){const t=zT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function oz(e,t,n,r="ltr"){const o=rd(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return qT([l,c],u)(e)}function N0(e,t,n="ltr"){const r=rd(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=_g(e,l);return qT([0,i],[0,a])(c)}function qT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function WT(e,t){return e>0&&e<t}var sz=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function od(e,t){const n=ft(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function yi(e,t){const n=ft(t);Fn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var HT=LT,iz=jT,az=BT;const GT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(HT,{ref:r,className:ne("relative overflow-hidden",e),...n,children:[p.jsx(iz,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(KT,{}),p.jsx(az,{})]}));GT.displayName=HT.displayName;const KT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Lg,{ref:r,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(VT,{className:"relative flex-1 rounded-full bg-border"})}));KT.displayName=Lg.displayName;const lz=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},YT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const v=c.current,y=d.current;if(y){const x=lz(y),b=x*t,w=y.scrollHeight>b+x*.5;l(w),i(v&&!r?v.scrollHeight>v.clientHeight+2||w:!1),v&&!r&&w?(v.style.maxHeight=`${b}px`,v.style.overflow="hidden"):v&&(v.style.maxHeight="",v.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const v=c.current;if(!v)return;const y=new ResizeObserver(()=>{u()});return y.observe(v),()=>y.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:ne("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:ne("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Ge,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function cz(e){return Object.prototype.toString.call(e)==="[object Object]"}function L0(e){return cz(e)||Array.isArray(e)}function uz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Og(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!L0(a)||!L0(l)?a===l:Og(a,l)})}function F0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function dz(e,t){if(e.length!==t.length)return!1;const n=F0(e),r=F0(t);return n.every((o,s)=>{const i=r[s];return Og(o,i)})}function $g(e){return typeof e=="number"}function cp(e){return typeof e=="string"}function sd(e){return typeof e=="boolean"}function j0(e){return Object.prototype.toString.call(e)==="[object Object]"}function pt(e){return Math.abs(e)}function Ug(e){return Math.sign(e)}function la(e,t){return pt(e-t)}function fz(e,t){if(e===0||t===0||pt(e)<=pt(t))return 0;const n=la(pt(e),pt(t));return pt(n/e)}function hz(e){return Math.round(e*100)/100}function Ua(e){return Va(e).map(Number)}function Yn(e){return e[cl(e)]}function cl(e){return Math.max(0,e.length-1)}function Vg(e,t){return t===cl(e)}function O0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Va(e){return Object.keys(e)}function QT(e,t){return[e,t].reduce((n,r)=>(Va(r).forEach(o=>{const s=n[o],i=r[o],a=j0(s)&&j0(i);n[o]=a?QT(s,i):i}),n),{})}function up(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function pz(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return cp(e)?n[e](l):e(t,l,c)}return{measure:i}}function Ba(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function mz(e,t,n,r){const o=Ba(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){v(),o.clear()}function u(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const w=a/s;r(w),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function v(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function y(){i=null,a=0}return{init:c,destroy:d,start:h,stop:v,update:n,render:r}}function gz(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(y){const{height:x,width:b}=y;return r?x:b}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(y){return y*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function is(e=0,t=0){const n=pt(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function XT(e,t,n){const{constrain:r}=is(0,e),o=e+1;let s=i(t);function i(h){return n?pt((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return XT(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function yz(e,t,n,r,o,s,i,a,l,c,d,u,h,v,y,x,b,m,w){const{cross:S,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Ba(),D=Ba(),A=is(50,225).constrain(v.measure(20)),M={mouse:300,touch:400},L={mouse:500,touch:600},_=y?43:25;let Y=!1,$=0,K=0,N=!1,O=!1,R=!1,I=!1;function F(oe){if(!w)return;function xe(_e){(sd(w)||w(oe,_e))&&te(_e)}const ie=t;k.add(ie,"dragstart",_e=>_e.preventDefault(),P).add(ie,"touchmove",()=>{},P).add(ie,"touchend",()=>{}).add(ie,"touchstart",xe).add(ie,"mousedown",xe).add(ie,"touchcancel",se).add(ie,"contextmenu",se).add(ie,"click",Ae,!0)}function H(){k.clear(),D.clear()}function ee(){const oe=I?n:t;D.add(oe,"touchmove",ge,P).add(oe,"touchend",se).add(oe,"mousemove",ge,P).add(oe,"mouseup",se)}function ke(oe){const xe=oe.nodeName||"";return E.includes(xe)}function de(){return(y?L:M)[I?"mouse":"touch"]}function tt(oe,xe){const ie=u.add(Ug(oe)*-1),_e=d.byDistance(oe,!y).distance;return y||pt(oe)<A?_e:b&&xe?_e*.5:d.byIndex(ie.get(),0).distance}function te(oe){const xe=up(oe,r);I=xe,R=y&&xe&&!oe.buttons&&Y,Y=la(o.get(),i.get())>=2,!(xe&&oe.button!==0)&&(ke(oe.target)||(N=!0,s.pointerDown(oe),c.useFriction(0).useDuration(0),o.set(i),ee(),$=s.readPoint(oe),K=s.readPoint(oe,S),h.emit("pointerDown")))}function ge(oe){if(!up(oe,r)&&oe.touches.length>=2)return se(oe);const ie=s.readPoint(oe),_e=s.readPoint(oe,S),at=la(ie,$),yt=la(_e,K);if(!O&&!I&&(!oe.cancelable||(O=at>yt,!O)))return se(oe);const Nt=s.pointerMove(oe);at>x&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(Nt)),oe.preventDefault()}function se(oe){const ie=d.byDistance(0,!1).index!==u.get(),_e=s.pointerUp(oe)*de(),at=tt(C(_e),ie),yt=fz(_e,at),Nt=_-10*yt,lt=m+yt/50;O=!1,N=!1,D.clear(),c.useDuration(Nt).useFriction(lt),l.distance(at,!y),I=!1,h.emit("pointerUp")}function Ae(oe){R&&(oe.stopPropagation(),oe.preventDefault(),R=!1)}function qe(){return N}return{init:F,destroy:H,pointerDown:qe}}function vz(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(up(u,t)?u:u.touches[0])[y]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),v=s(u)-s(r)>170;return o=u,v&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),v=s(u)-s(r),y=s(u)-s(o)>170,x=h/v;return v&&!y&&pt(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function wz(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function xz(e){function t(r){return e*(r/100)}return{measure:t}}function Sz(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(b){return o.measureSize(i.measure(b))}function v(b){if(!s)return;c=h(e),d=r.map(h);function m(w){for(const S of w){if(u)return;const C=S.target===e,E=r.indexOf(S.target),P=C?c:d[E],k=h(C?e:r[E]);if(pt(k-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(w=>{(sd(s)||s(b,w))&&m(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function y(){u=!0,l&&l.disconnect()}return{init:v,destroy:y}}function bz(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),k=!l;let D=0;return k?(i=0,n.set(r),e.set(r),D=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),D=d-u),a=Ug(D),u=d,E}function v(){const P=r.get()-t.get();return pt(P)<.001}function y(){return l}function x(){return a}function b(){return i}function m(){return S(o)}function w(){return C(s)}function S(P){return l=P,E}function C(P){return c=P,E}const E={direction:x,duration:y,velocity:b,seek:h,settled:v,useBaseFriction:w,useBaseDuration:m,useFriction:C,useDuration:S};return E}function Cz(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=is(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(v){if(!c())return;const y=e.reachedMin(t.get())?"min":"max",x=pt(e[y]-t.get()),b=n.get()-t.get(),m=a.constrain(x/i);n.subtract(b*m),!v&&pt(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(v){l=!v}return{shouldConstrain:c,constrain:d,toggleActive:u}}function Ez(e,t,n,r,o){const s=is(-t+e,0),i=u(),a=d(),l=h();function c(y,x){return la(y,x)<=1}function d(){const y=i[0],x=Yn(i),b=i.lastIndexOf(y),m=i.indexOf(x)+1;return is(b,m)}function u(){return n.map((y,x)=>{const{min:b,max:m}=s,w=s.constrain(y),S=!x,C=Vg(n,x);return S?m:C||c(b,w)?b:c(m,w)?m:w}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:y,max:x}=a;return i.slice(y,x)}return{snapsContained:l,scrollContainLimit:a}}function Pz(e,t,n){const r=t[0],o=n?r-e:Yn(t);return{limit:is(o,r)}}function Tz(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=is(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const v=e*(h*-1);r.forEach(y=>y.add(v))}return{loop:d}}function kz(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function Dz(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=v();function u(){return a(r).map(x=>Yn(x)[i]-x[0][s]).map(pt)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-pt(x))}function v(){return a(c).map(x=>x[0]).map((x,b)=>x+l[b])}return{snaps:c,snapsAligned:d}}function Az(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),v=!e||t==="keepSnaps";return n.length===1?[s]:v?h:h.slice(a,l).map((y,x,b)=>{const m=!x,w=Vg(b,x);if(m){const S=Yn(b[0])+1;return O0(S)}if(w){const S=cl(s)-Yn(b)[0]+1;return O0(S,Yn(b)[0])}return y})}return{slideRegistry:c}}function Rz(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(y){return y.concat().sort((x,b)=>pt(x)-pt(b))[0]}function c(y){const x=e?i(y):a(y),b=t.map((w,S)=>({diff:d(w-x,0),index:S})).sort((w,S)=>pt(w.diff)-pt(S.diff)),{index:m}=b[0];return{index:m,distance:x}}function d(y,x){const b=[y,y+n,y-n];if(!e)return y;if(!x)return l(b);const m=b.filter(w=>Ug(w)===x);return m.length?l(m):Yn(b)-n}function u(y,x){const b=t[y]-o.get(),m=d(b,x);return{index:y,distance:m}}function h(y,x){const b=o.get()+y,{index:m,distance:w}=c(b),S=!e&&s(b);if(!x||S)return{index:m,distance:y};const C=t[m]-w,E=y+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function Mz(e,t,n,r,o,s,i){function a(u){const h=u.distance,v=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),v&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const v=o.byDistance(u,h);a(v)}function c(u,h){const v=t.clone().set(u),y=o.byIndex(v.get(),h);a(y)}return{distance:l,index:c}}function Iz(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(v){if(!a)return;function y(x){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const w=n.findIndex(S=>S.includes(x));$g(w)&&(o.useDuration(0),r.index(w,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((x,b)=>{s.add(x,"focus",m=>{(sd(a)||a(v,m))&&y(b)},l)})}function u(v){v.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Ki(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return $g(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function ZT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const v=hz(e.direction(h));v!==o&&(r.transform=n(v),o=v)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function _z(e,t,n,r,o,s,i,a,l){const d=Ua(o),u=Ua(o).reverse(),h=m().concat(w());function v(k,D){return k.reduce((A,M)=>A-o[M],D)}function y(k,D){return k.reduce((A,M)=>v(A,D)>0?A.concat([M]):A,[])}function x(k){return s.map((D,A)=>({start:D-r[A]+.5+k,end:D+t-.5+k}))}function b(k,D,A){const M=x(D);return k.map(L=>{const _=A?0:-n,Y=A?n:0,$=A?"end":"start",K=M[L][$];return{index:L,loopPoint:K,slideLocation:Ki(-1),translate:ZT(e,l[L]),target:()=>a.get()>K?_:Y}})}function m(){const k=i[0],D=y(u,k);return b(D,n,!1)}function w(){const k=t-i[0]-1,D=y(d,k);return b(D,-n,!0)}function S(){return h.every(({index:k})=>{const D=d.filter(A=>A!==k);return v(D,t)<=.1})}function C(){h.forEach(k=>{const{target:D,translate:A,slideLocation:M}=k,L=D();L!==M.get()&&(A.to(L),M.set(L))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function Nz(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(sd(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function Lz(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(x=>{const b=t.indexOf(x.target);o[b]=x}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function u(y){return Va(o).reduce((x,b)=>{const m=parseInt(b),{isIntersecting:w}=o[m];return(y&&w||!y&&!w)&&x.push(m),x},[])}function h(y=!0){if(y&&s)return s;if(!y&&i)return i;const x=u(y);return y&&(s=x),y||(i=x),x}return{init:c,destroy:d,get:h}}function Fz(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=y(),u=x(),h=n.map(i),v=b();function y(){if(!c)return 0;const w=n[0];return pt(t[a]-w[a])}function x(){if(!c)return 0;const w=s.getComputedStyle(Yn(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function b(){return n.map((w,S,C)=>{const E=!S,P=Vg(C,S);return E?h[S]+d:P?h[S]+u:C[S+1][a]-w[a]}).map(pt)}return{slideSizes:h,slideSizesWithGaps:v,startGap:d,endGap:u}}function jz(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=$g(n);function v(m,w){return Ua(m).filter(S=>S%w===0).map(S=>m.slice(S,S+w))}function y(m){return m.length?Ua(m).reduce((w,S,C)=>{const E=Yn(w)||0,P=E===0,k=S===cl(m),D=o[c]-s[E][c],A=o[c]-s[S][d],M=!r&&P?u(i):0,L=!r&&k?u(a):0,_=pt(A-L-(D+M));return C&&_>t+l&&w.push(S),k&&w.push(m.length),w},[]).map((w,S,C)=>{const E=Math.max(C[S-1]||0);return m.slice(E,w)}):[]}function x(m){return h?v(m,n):y(m)}return{groupSlides:x}}function Oz(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:v,dragThreshold:y,inViewThreshold:x,slidesToScroll:b,skipSnaps:m,containScroll:w,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,D=wz(),A=D.measure(t),M=n.map(D.measure),L=gz(l,c),_=L.measureSize(A),Y=xz(_),$=pz(a,_),K=!u&&!!w,N=u||!!w,{slideSizes:O,slideSizesWithGaps:R,startGap:I,endGap:F}=Fz(L,A,M,n,N,o),H=jz(L,_,b,u,A,M,I,F,k),{snaps:ee,snapsAligned:ke}=Dz(L,$,A,M,H),de=-Yn(ee)+Yn(R),{snapsContained:tt,scrollContainLimit:te}=Ez(_,de,ke,w,k),ge=K?tt:ke,{limit:se}=Pz(de,ge,u),Ae=XT(cl(ge),d,u),qe=Ae.clone(),Ce=Ua(n),oe=({dragHandler:Ue,scrollBody:Ve,scrollBounds:j,options:{loop:B}})=>{B||j.constrain(Ue.pointerDown()),Ve.seek()},xe=({scrollBody:Ue,translate:Ve,location:j,offsetLocation:B,previousLocation:V,scrollLooper:q,slideLooper:le,dragHandler:ye,animation:fe,eventHandler:Me,scrollBounds:Be,options:{loop:Xe}},Ye)=>{const He=Ue.settled(),kt=!Be.shouldConstrain(),Qt=Xe?He:He&&kt,$t=Qt&&!ye.pointerDown();$t&&fe.stop();const bt=j.get()*Ye+V.get()*(1-Ye);B.set(bt),Xe&&(q.loop(Ue.direction()),le.loop()),Ve.to(B.get()),$t&&Me.emit("settle"),Qt||Me.emit("scroll")},ie=mz(r,o,()=>oe(be),Ue=>xe(be,Ue)),_e=.68,at=ge[Ae.get()],yt=Ki(at),Nt=Ki(at),lt=Ki(at),vt=Ki(at),sn=bz(yt,lt,Nt,vt,h,_e),Tt=Rz(u,ge,de,se,vt),Ee=Mz(ie,Ae,qe,sn,Tt,vt,i),We=kz(se),z=Ba(),G=Lz(t,n,i,x),{slideRegistry:Q}=Az(K,w,ge,te,H,Ce),Pe=Iz(e,n,Q,Ee,sn,z,i,P),be={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:A,slideRects:M,animation:ie,axis:L,dragHandler:yz(L,e,r,o,vt,vz(L,o),yt,ie,Ee,sn,Tt,Ae,i,Y,v,y,m,_e,E),eventStore:z,percentOfView:Y,index:Ae,indexPrevious:qe,limit:se,location:yt,offsetLocation:lt,previousLocation:Nt,options:s,resizeHandler:Sz(t,i,o,n,L,S,D),scrollBody:sn,scrollBounds:Cz(se,lt,vt,sn,Y),scrollLooper:Tz(de,se,lt,[yt,lt,Nt,vt]),scrollProgress:We,scrollSnapList:ge.map(We.get),scrollSnaps:ge,scrollTarget:Tt,scrollTo:Ee,slideLooper:_z(L,_,de,O,R,ee,ge,lt,n),slideFocus:Pe,slidesHandler:Nz(t,i,C),slidesInView:G,slideIndexes:Ce,slideRegistry:Q,slidesToScroll:H,target:vt,translate:ZT(L,t)};return be}function $z(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const Uz={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Vz(e){function t(s,i){return QT(s,i||{})}function n(s){const i=s.breakpoints||{},a=Va(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>Va(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function Bz(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function lu(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=Vz(o),i=Bz(s),a=Ba(),l=$z(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:v,emit:y}=l,x=L;let b=!1,m,w=c(Uz,lu.globalOptions),S=c(w),C=[],E,P,k;function D(){const{container:Ce,slides:oe}=S;P=(cp(Ce)?e.querySelector(Ce):Ce)||e.children[0];const ie=cp(oe)?P.querySelectorAll(oe):oe;k=[].slice.call(ie||P.children)}function A(Ce){const oe=Oz(e,P,k,r,o,Ce,l);if(Ce.loop&&!oe.slideLooper.canLoop()){const xe=Object.assign({},Ce,{loop:!1});return A(xe)}return oe}function M(Ce,oe){b||(w=c(w,Ce),S=d(w),C=oe||C,D(),m=A(S),u([w,...C.map(({options:xe})=>xe)]).forEach(xe=>a.add(xe,"change",L)),S.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(qe),m.eventHandler.init(qe),m.resizeHandler.init(qe),m.slidesHandler.init(qe),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(qe),E=i.init(qe,C)))}function L(Ce,oe){const xe=H();_(),M(c({startIndex:xe},Ce),oe),l.emit("reInit")}function _(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function Y(){b||(b=!0,a.clear(),_(),l.emit("destroy"),l.clear())}function $(Ce,oe,xe){!S.active||b||(m.scrollBody.useBaseFriction().useDuration(oe===!0?0:S.duration),m.scrollTo.index(Ce,xe||0))}function K(Ce){const oe=m.index.add(1).get();$(oe,Ce,-1)}function N(Ce){const oe=m.index.add(-1).get();$(oe,Ce,1)}function O(){return m.index.add(1).get()!==H()}function R(){return m.index.add(-1).get()!==H()}function I(){return m.scrollSnapList}function F(){return m.scrollProgress.get(m.offsetLocation.get())}function H(){return m.index.get()}function ee(){return m.indexPrevious.get()}function ke(){return m.slidesInView.get()}function de(){return m.slidesInView.get(!1)}function tt(){return E}function te(){return m}function ge(){return e}function se(){return P}function Ae(){return k}const qe={canScrollNext:O,canScrollPrev:R,containerNode:se,internalEngine:te,destroy:Y,off:v,on:h,emit:y,plugins:tt,previousScrollSnap:ee,reInit:x,rootNode:ge,scrollNext:K,scrollPrev:N,scrollProgress:F,scrollSnapList:I,scrollTo:$,selectedScrollSnap:H,slideNodes:Ae,slidesInView:ke,slidesNotInView:de};return M(t,n),setTimeout(()=>l.emit("init"),0),qe}lu.globalOptions=void 0;function Bg(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{Og(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{dz(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(uz()&&i){lu.globalOptions=Bg.globalOptions;const c=lu(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}Bg.globalOptions=void 0;const JT=f.createContext(null);function id(){const e=f.useContext(JT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const ek=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=Bg({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,v]=f.useState(!1),y=f.useCallback(w=>{w&&(u(w.canScrollPrev()),v(w.canScrollNext()))},[]),x=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),x()):w.key==="ArrowRight"&&(w.preventDefault(),b())},[x,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return y(c),c.on("reInit",y),c.on("select",y),()=>{c==null||c.off("select",y)}},[c,y]),p.jsx(JT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:ne("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});ek.displayName="Carousel";const tk=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=id();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:ne("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});tk.displayName="CarouselContent";const nk=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=id();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ne("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});nk.displayName="CarouselItem";const rk=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=id();return p.jsxs(Ge,{ref:o,variant:t,size:n,className:ne("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(nC,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});rk.displayName="CarouselPrevious";const ok=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=id();return p.jsxs(Ge,{ref:o,variant:t,size:n,className:ne("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(zI,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});ok.displayName="CarouselNext";const sk=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[v,y]=f.useState({width:0,height:0}),[x,b]=f.useState(null),[m,w]=f.useState(!1),S=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(S.current){const A=S.current.offsetWidth,M=S.current.offsetHeight;A>0&&M>0?y({width:A,height:M}):A>0&&y({width:A,height:A})}},[]);f.useEffect(()=>{const A=S.current;if(!A)return;const M=new ResizeObserver(E);return M.observe(A),E(),()=>{M.unobserve(A)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(b(t),w(!0),u!=="loading"&&h("loading")):e?m||(b(e),u!=="loading"&&u!=="loaded"&&h("loading")):(b(null),w(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const A=new Image,M=()=>{b(e),w(!1),h("loaded"),l&&l()},L=()=>{g.error("Failed to load full image in background:",e)};return A.onload=M,A.onerror=L,A.src=e,()=>{A.onload=null,A.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const M=u==="loaded",L={position:"absolute",top:0,left:0,opacity:M?1:0,transition:"opacity 0.3s ease-in-out",pointerEvents:M?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||v.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return L;const{width:_,height:Y}=r,K=v.width/n.w,N=_*K,O=Y*K,R=-n.x*K,I=-n.y*K;return isNaN(N)||isNaN(O)||isNaN(R)||isNaN(I)?(g.warn("NaN detected during style calculation",{scale:K,naturalW:_,naturalH:Y,cropData:n}),L):{...L,width:`${N}px`,height:`${O}px`,transform:`translate(${R}px, ${I}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity",transition:u==="loaded"?"opacity 0.3s ease-in-out, transform 0.3s ease-out":"opacity 0.3s ease-in-out"}})())},[n,r,u,v]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===x&&x&&(h("loaded"),!m&&l&&l())},[x,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===x&&x){if(g.error("Failed to load image in CroppedImageViewer:",x),m&&e){b(e),w(!1);return}if(!m&&t){g.log("Full image failed to load. Falling back to thumbnail:",t),b(t),w(!0);return}h("error")}},[x,e,t,m]),D=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:S,"data-testid":"image-container",className:ne("relative w-full h-full overflow-hidden bg-muted",s),children:[D&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(Ht,{className:"h-5 w-5 animate-spin text-muted-foreground"}):null}),p.jsx("img",{ref:C,src:x??"",alt:o,style:c,className:ne("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},zz=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},v=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(g.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):g.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),y=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(g.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):g.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),x=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[x&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Ht,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&!x&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(QI,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:ne("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(sk,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:ne("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:l&&p.jsx("img",{src:l,alt:"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:v,onError:y,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(n_,{size:16}):p.jsx(t_,{size:16})})]})},ik=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),f.useEffect(()=>{t==null||t.scrollTo(0,!1)},[t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:ne("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(ek,{setApi:n,className:"w-full h-full",children:[p.jsx(tk,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(nk,{className:"h-full",children:p.jsx(zz,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(rk,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(ok,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},qz=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function Wz(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=er(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),v=f.useRef(null),y=50,x=.3,b={enter:S=>({x:S>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:S=>({x:S<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(S,C)=>{const{offset:E,velocity:P}=C;let k=S.target;for(;k&&k!==v.current;){if(k.classList.contains("ignore-list-swipe")){g.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>y||P.x>x&&E.x>10?l(-1):(E.x<-y||P.x<-x&&E.x<-10)&&l(1)},w=f.useMemo(()=>[...e].sort((S,C)=>{const E=new Date(S.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=S.createdAt instanceof Date?S.createdAt.getTime():Date.parse(S.createdAt),D=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-D}),[e]);return f.useEffect(()=>{let S=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{S&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{g.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{S&&h(E=>new Map(E).set(C.id,!1))})}),()=>{S=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})]}):w.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(GT,{className:"h-full",children:[" ",p.jsxs("div",{ref:v,className:"relative overflow-hidden h-full",children:[" ",p.jsx(Ig,{initial:!1,custom:a,mode:"wait",children:p.jsx(nd.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:w.map(S=>{const E=c.get(S.id)||{...S,photos:(S.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Mm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(ik,{entry:E})}),p.jsxs(Im,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:qz(S.date)}),p.jsxs(Qm,{children:[p.jsx(Xm,{asChild:!0,children:p.jsx(Ge,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(iC,{className:"h-4 w-4"})})}),p.jsxs(Yu,{align:"end",children:[p.jsxs(ss,{onClick:P=>{P.stopPropagation(),n(S.id)},children:[p.jsx(aC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(ss,{onClick:P=>{P.stopPropagation(),r(S.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(vm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(YT,{text:S.content,linesToShow:4})]})]},S.id)})},`${s}-${i}-list`)})]})]})}var zg="Dialog",[ak,lk]=hn(zg),[Hz,tr]=ak(zg),ck=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=vr({prop:r,defaultProp:o,onChange:s});return p.jsx(Hz,{scope:t,triggerRef:a,contentRef:l,contentId:Qo(),titleId:Qo(),descriptionId:Qo(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};ck.displayName=zg;var uk="DialogTrigger",dk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(uk,n),s=Ie(t,o.triggerRef);return p.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Hg(o.open),...r,ref:s,onClick:re(e.onClick,o.onOpenToggle)})});dk.displayName=uk;var qg="DialogPortal",[Gz,fk]=ak(qg,{forceMount:void 0}),hk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=tr(qg,t);return p.jsx(Gz,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(pn,{present:n||s.open,children:p.jsx(Mu,{asChild:!0,container:o,children:i})}))})};hk.displayName=qg;var cu="DialogOverlay",pk=f.forwardRef((e,t)=>{const n=fk(cu,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=tr(cu,e.__scopeDialog);return s.modal?p.jsx(pn,{present:r||s.open,children:p.jsx(Yz,{...o,ref:t})}):null});pk.displayName=cu;var Kz=di("DialogOverlay.RemoveScroll"),Yz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(cu,n);return p.jsx(Vm,{as:Kz,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Se.div,{"data-state":Hg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),as="DialogContent",mk=f.forwardRef((e,t)=>{const n=fk(as,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=tr(as,e.__scopeDialog);return p.jsx(pn,{present:r||s.open,children:s.modal?p.jsx(Qz,{...o,ref:t}):p.jsx(Xz,{...o,ref:t})})});mk.displayName=as;var Qz=f.forwardRef((e,t)=>{const n=tr(as,e.__scopeDialog),r=f.useRef(null),o=Ie(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return JE(s)},[]),p.jsx(gk,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault())})}),Xz=f.forwardRef((e,t)=>{const n=tr(as,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(gk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),gk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=tr(as,n),l=f.useRef(null),c=Ie(t,l);return QE(),p.jsxs(p.Fragment,{children:[p.jsx(Um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Ja,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Hg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Jz,{titleId:a.titleId}),p.jsx(t4,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Wg="DialogTitle",yk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(Wg,n);return p.jsx(Se.h2,{id:o.titleId,...r,ref:t})});yk.displayName=Wg;var vk="DialogDescription",wk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(vk,n);return p.jsx(Se.p,{id:o.descriptionId,...r,ref:t})});wk.displayName=vk;var xk="DialogClose",Sk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(xk,n);return p.jsx(Se.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>o.onOpenChange(!1))})});Sk.displayName=xk;function Hg(e){return e?"open":"closed"}var bk="DialogTitleWarning",[Zz,Ck]=ZM(bk,{contentName:as,titleName:Wg,docsSlug:"dialog"}),Jz=({titleId:e})=>{const t=Ck(bk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},e4="DialogDescriptionWarning",t4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ck(e4).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ek=ck,n4=dk,Pk=hk,Gg=pk,Kg=mk,Yg=yk,Qg=wk,Xg=Sk;const Tk=Ek,r4=Pk,kk=f.forwardRef(({className:e,...t},n)=>p.jsx(Gg,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kk.displayName=Gg.displayName;const Zg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(r4,{children:[p.jsx(kk,{}),p.jsxs(Kg,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Xg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Lu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zg.displayName=Kg.displayName;const Jg=({className:e,...t})=>p.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jg.displayName="DialogHeader";const ey=f.forwardRef(({className:e,...t},n)=>p.jsx(Yg,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));ey.displayName=Yg.displayName;const Dk=f.forwardRef(({className:e,...t},n)=>p.jsx(Qg,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));Dk.displayName=Qg.displayName;function Ak({className:e,...t}){return p.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}const $0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function o4(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=er(),[,a]=dm(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,v]=f.useState(new Set),y=f.useRef(!0),[x,b]=f.useState([]),m=f.useMemo(()=>[...n].sort((S,C)=>{const E=S.createdAt instanceof Date?S.createdAt.getTime():Date.parse(S.createdAt),P=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return E-P}),[n]);f.useEffect(()=>{if(y.current=!0,e&&m.length>0){b(m),u(!0),c(new Map),v(new Set);const S=m.map(C=>i(C).then(E=>{y.current&&c(P=>new Map(P).set(C.id,E))}).catch(E=>{g.error(`Error fetching details for entry ${C.id} in modal:`,E),y.current&&(v(P=>new Set(P).add(C.id)),c(P=>new Map(P).set(C.id,$0(C))))}));Promise.allSettled(S).finally(()=>{y.current&&u(!1)})}else e||(c(new Map),u(!1),v(new Set));return()=>{y.current=!1}},[e,m,i]);const w=()=>{t(),a("/entry/new")};return p.jsx(Tk,{open:e,onOpenChange:t,children:p.jsxs(Zg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Jg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(ey,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:m.length===0&&!d&&x.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Ge,{onClick:w,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:(m.length>0?m:x).map((S,C)=>{const E=l.get(S.id),P=d&&!E,k=h.has(S.id),D=E||$0(S);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:P?p.jsx(Ak,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(ik,{entry:D})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(S.createdAt instanceof Date?S.createdAt:new Date(S.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),S.createdAt!==S.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(Qm,{children:[p.jsx(Xm,{asChild:!0,children:p.jsx(Ge,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(iC,{className:"h-4 w-4"})})}),p.jsxs(Yu,{align:"end",children:[p.jsxs(ss,{onClick:()=>o(S.id),children:[p.jsx(aC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(ss,{onClick:()=>s(S.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(vm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(YT,{text:S.content,linesToShow:4}),k&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},S.id+"-"+C)})})}),!d&&(m.length>0||x.length>0)&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Ge,{onClick:w,children:"Add Another Entry"})})]})})}var Rk="AlertDialog",[s4,f3]=hn(Rk,[lk]),Br=lk(),Mk=e=>{const{__scopeAlertDialog:t,...n}=e,r=Br(t);return p.jsx(Ek,{...r,...n,modal:!0})};Mk.displayName=Rk;var i4="AlertDialogTrigger",a4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(n4,{...o,...r,ref:t})});a4.displayName=i4;var l4="AlertDialogPortal",Ik=e=>{const{__scopeAlertDialog:t,...n}=e,r=Br(t);return p.jsx(Pk,{...r,...n})};Ik.displayName=l4;var c4="AlertDialogOverlay",_k=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Gg,{...o,...r,ref:t})});_k.displayName=c4;var Gs="AlertDialogContent",[u4,d4]=s4(Gs),f4=Rb("AlertDialogContent"),Nk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=Br(n),i=f.useRef(null),a=Ie(t,i),l=f.useRef(null);return p.jsx(Zz,{contentName:Gs,titleName:Lk,docsSlug:"alert-dialog",children:p.jsx(u4,{scope:n,cancelRef:l,children:p.jsxs(Kg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:re(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(f4,{children:r}),p.jsx(p4,{contentRef:i})]})})})});Nk.displayName=Gs;var Lk="AlertDialogTitle",Fk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Yg,{...o,...r,ref:t})});Fk.displayName=Lk;var jk="AlertDialogDescription",Ok=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Qg,{...o,...r,ref:t})});Ok.displayName=jk;var h4="AlertDialogAction",$k=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Xg,{...o,...r,ref:t})});$k.displayName=h4;var Uk="AlertDialogCancel",Vk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=d4(Uk,n),s=Br(n),i=Ie(t,o);return p.jsx(Xg,{...s,...r,ref:i})});Vk.displayName=Uk;var p4=({contentRef:e})=>{const t=`\`${Gs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gs}\` by passing a \`${jk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},m4=Mk,g4=Ik,Bk=_k,zk=Nk,qk=$k,Wk=Vk,Hk=Fk,Gk=Ok;const Kk=m4,y4=g4,Yk=f.forwardRef(({className:e,...t},n)=>p.jsx(Bk,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Yk.displayName=Bk.displayName;const ty=f.forwardRef(({className:e,...t},n)=>p.jsxs(y4,{children:[p.jsx(Yk,{}),p.jsx(zk,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ty.displayName=zk.displayName;const ny=({className:e,...t})=>p.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});ny.displayName="AlertDialogHeader";const ry=({className:e,...t})=>p.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ry.displayName="AlertDialogFooter";const oy=f.forwardRef(({className:e,...t},n)=>p.jsx(Hk,{ref:n,className:ne("text-lg font-semibold",e),...t}));oy.displayName=Hk.displayName;const sy=f.forwardRef(({className:e,...t},n)=>p.jsx(Gk,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));sy.displayName=Gk.displayName;const iy=f.forwardRef(({className:e,...t},n)=>p.jsx(qk,{ref:n,className:ne(_m(),e),...t}));iy.displayName=qk.displayName;const ay=f.forwardRef(({className:e,...t},n)=>p.jsx(Wk,{ref:n,className:ne(_m({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ay.displayName=Wk.displayName;function v4(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=er(),o=async()=>{await n()};return p.jsx(Kk,{open:e,onOpenChange:t,children:p.jsxs(ty,{children:[p.jsxs(ny,{children:[p.jsx(oy,{children:"Delete Entry"}),p.jsx(sy,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(ry,{children:[p.jsx(ay,{disabled:r,children:"Cancel"}),p.jsx(iy,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var w4="Label",Qk=f.forwardRef((e,t)=>p.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Qk.displayName=w4;var Xk=Qk;const x4=el("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ad=f.forwardRef(({className:e,...t},n)=>p.jsx(Xk,{ref:n,className:ne(x4(),e),...t}));ad.displayName=Xk.displayName;function S4({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Za(),l=f.useCallback(async y=>{if(!y||y.length===0)return;const x=Array.from(y),b=[],m=[];let w=!0;if(s+x.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const S of x){if(!S.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${S.name}" is not a supported image file.`,variant:"destructive"}),w=!1;continue}try{const C=URL.createObjectURL(S);b.push(S),m.push(C)}catch(C){g.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${S.name}`,variant:"destructive"}),w=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!w&&m.length>0&&m.forEach(URL.revokeObjectURL),w&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(y=>{t||l(y.target.files)},[t,l]),d=f.useCallback(y=>{t||(y.preventDefault(),y.stopPropagation(),l(y.dataTransfer.files))},[t,l]),u=y=>{t||(y.preventDefault(),y.stopPropagation())},h=f.useCallback(()=>{var y;t||(y=i.current)==null||y.click()},[t]),v=r?Dt.isValidElement(r)?Dt.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:ne("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:ne(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),v]})}const ca=10,Vn=e=>e.isNew===!0,Zk=e=>e.isNew===!1,b4=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function C4({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const v=f.useRef(null),y=f.useRef(null),[x,b]=f.useState(null),[m,w]=f.useState(null),S=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{S.current=S.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),w(null)},k=N=>{const O=E.current,R=C.current;if(!O||!R||N<0||N>e.length){P();return}if(N===m&&O.style.display!=="none")return;w(N);const I=b4(R);let F=null,H=!1;if(N===e.length?(F=S.current[e.length-1],H=!0):(F=S.current[N],H=!1),F){const ee=F.getBoundingClientRect(),ke=F.offsetTop;let de;H?de=F.offsetLeft+ee.width+I/2:de=F.offsetLeft-I/2,O.style.display="block",O.style.top=`${ke}px`,O.style.left=`${de}px`,O.style.height=`${ee.height}px`}else P()},D=(N,O)=>{if(v.current=O,b(O),P(),N.dataTransfer)try{N.dataTransfer.effectAllowed="move"}catch{}},A=(N,O)=>{if(N.preventDefault(),v.current===null||v.current===O){y.current=null,P();return}y.current=O;const R=S.current[O];if(R){const I=R.getBoundingClientRect(),F=I.left+I.width/2,ee=N.clientX<F?O:O+1;k(ee)}},M=N=>{C.current&&!C.current.contains(N.relatedTarget)&&(y.current=null,P())},L=()=>{let N=m;v.current!==null&&N!==null&&N>v.current&&N--,v.current!==null&&N!==null&&v.current!==N&&t(O=>{const R=[...O],I=R.splice(v.current,1)[0];return R.splice(N,0,I),R}),v.current=null,y.current=null,b(null),P()},_=(N,O)=>{v.current=O,b(O),P()},Y=N=>{if(v.current===null)return;N.cancelable&&N.preventDefault();const O=N.touches[0],R=document.elementFromPoint(O.clientX,O.clientY),I=R==null?void 0:R.closest('[draggable="true"]');if(I){const F=S.current.indexOf(I);if(F!==-1&&F!==v.current){y.current=F;const H=I.getBoundingClientRect(),ee=H.left+H.width/2,de=O.clientX<ee?F:F+1;k(de);return}}y.current=null,P()},$=()=>{let N=m;v.current!==null&&N!==null&&N>v.current&&N--,v.current!==null&&N!==null&&v.current!==N&&t(O=>{const R=[...O],I=R.splice(v.current,1)[0];return R.splice(N,0,I),R}),v.current=null,y.current=null,b(null),P()},K=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(ad,{children:["Photos (",e.length,"/",ca,")"," ",K&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((N,O)=>p.jsx(Ak,{className:"h-16 w-16 rounded aspect-square"},O))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:M,onTouchStart:N=>{},onTouchMove:Y,onTouchEnd:$,onTouchCancel:$,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((N,O)=>{var ke;const R=Vn(N)?N.localId:N.photoId,I=l.current.get(R),F=N.crop;let H=null;Vn(N)?N.originalDimensions&&(H={filename:N.file.name,mimeType:N.file.type,width:N.originalDimensions.width,height:N.originalDimensions.height,exifDate:(ke=N.exifData)==null?void 0:ke.exifDate}):Zk(N)&&(H=c.current.get(N.photoId)??null);const ee=!!I;return p.jsxs("div",{ref:de=>S.current[O]=de,draggable:K,onDragStart:de=>K&&D(de,O),onDragOver:de=>K&&A(de,O),onDragEnd:K?L:void 0,onTouchStart:de=>K&&_(de,O),className:ne("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",K?"cursor-grab active:cursor-grabbing":"cursor-default",x===O?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(sk,{imageUrl:I,thumbnailUrl:I,cropData:F,photoMetadata:H,altText:`Photo ${O+1} thumbnail`,className:"rounded",enableLoadingState:!!I&&I.startsWith("blob:")}),p.jsxs("div",{className:ne("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Ge,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:de=>{de.stopPropagation(),!n&&ee?s(O):ee||g.warn(`Cannot open cropper: original URL missing for ${R}`)},disabled:n||!ee,children:p.jsx(GI,{className:"h-3 w-3"})}),p.jsx(Ge,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:de=>{de.stopPropagation(),n||i(O)},disabled:n,children:p.jsx(vm,{className:"h-3 w-3"})})]}),K&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(YI,{className:"h-3 w-3 text-white"})})]},R+"-"+O)}),e.length<ca&&p.jsx(S4,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:ca,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Ht,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(XI,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function E4({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(ad,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(lC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Jk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Jk.displayName="Textarea";function P4({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(ad,{htmlFor:"content",children:"Content"}),p.jsx(Jk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function T4({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Ge,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Ge,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function k4(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function D4(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function A4(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=er(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=k4(),d=D4(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(Tk,{open:e,onOpenChange:t,children:p.jsxs(Zg,{className:"sm:max-w-md",children:[p.jsxs(Jg,{children:[p.jsx(ey,{children:"Select Month and Year"}),p.jsx(Dk,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,v)=>p.jsx("option",{value:v+1,children:h},v))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Ge,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Ge,{onClick:u,children:"Apply"})]})]})})}function R4(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=er();Om(),dm();const h=l,v=l?"Saving...":"",y={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})});const x=u&&!e&&!t&&!n,b=x?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(EO,{}),h&&p.jsxs("div",{className:ne("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",x?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(Ht,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:v})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Lu,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:ne("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx(KB,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(Ig,{initial:!1,mode:"wait",children:p.jsx(nd.div,{variants:y,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(GB,{}):p.jsx(Wz,{})})},s)})})})]}),p.jsx(A4,{}),p.jsx(o4,{}),p.jsx(v4,{})]})}var eD=["PageUp","PageDown"],tD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ti="Slider",[dp,M4,I4]=Ru(Ti),[rD,h3]=hn(Ti,[I4]),[_4,ld]=rD(Ti),oD=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:v=!1,form:y,...x}=e,b=f.useRef(new Set),m=f.useRef(0),S=i==="horizontal"?N4:L4,[C=[],E]=vr({prop:d,defaultProp:c,onChange:L=>{var Y;(Y=[...b.current][m.current])==null||Y.focus(),u(L)}}),P=f.useRef(C);function k(L){const _=U4(C,L);M(L,_)}function D(L){M(L,m.current)}function A(){const L=P.current[m.current];C[m.current]!==L&&h(C)}function M(L,_,{commit:Y}={commit:!1}){const $=q4(s),K=W4(Math.round((L-r)/s)*s+r,$),N=_g(K,[r,o]);E((O=[])=>{const R=O4(O,N,_);if(z4(R,l*s)){m.current=R.indexOf(N);const I=String(R)!==String(O);return I&&Y&&h(R),I?R:O}else return O})}return p.jsx(_4,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:y,children:p.jsx(dp.Provider,{scope:e.__scopeSlider,children:p.jsx(dp.Slot,{scope:e.__scopeSlider,children:p.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:re(x.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:v,onSlideStart:a?void 0:k,onSlideMove:a?void 0:D,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(o,C.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:_})=>{if(!a){const K=eD.includes(L.key)||L.shiftKey&&tD.includes(L.key)?10:1,N=m.current,O=C[N],R=s*K*_;M(O+R,N,{commit:!0})}}})})})})});oD.displayName=Ti;var[sD,iD]=rD(Ti,{startEdge:"left",endEdge:"right",size:"width",direction:1}),N4=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),v=Ie(t,S=>h(S)),y=f.useRef(void 0),x=nl(o),b=x==="ltr",m=b&&!s||!b&&s;function w(S){const C=y.current||u.getBoundingClientRect(),E=[0,C.width],k=ly(E,m?[n,r]:[r,n]);return y.current=C,k(S-C.left)}return p.jsx(sD,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(aD,{dir:x,"data-orientation":"horizontal",...d,ref:v,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=w(S.clientX);i==null||i(C)},onSlideMove:S=>{const C=w(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=nD[m?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:E?-1:1})}})})}),L4=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=Ie(t,d),h=f.useRef(void 0),v=!o;function y(x){const b=h.current||d.current.getBoundingClientRect(),m=[0,b.height],S=ly(m,v?[r,n]:[n,r]);return h.current=b,S(x-b.top)}return p.jsx(sD,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:p.jsx(aD,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=y(x.clientY);s==null||s(b)},onSlideMove:x=>{const b=y(x.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const m=nD[v?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:m?-1:1})}})})}),aD=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=ld(Ti,n);return p.jsx(Se.span,{...c,ref:t,onKeyDown:re(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):eD.concat(tD).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:re(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:re(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:re(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),lD="SliderTrack",cD=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=ld(lD,n);return p.jsx(Se.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});cD.displayName=lD;var fp="SliderRange",uD=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=ld(fp,n),s=iD(fp,n),i=f.useRef(null),a=Ie(t,i),l=o.values.length,c=o.values.map(h=>fD(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(Se.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});uD.displayName=fp;var hp="SliderThumb",dD=f.forwardRef((e,t)=>{const n=M4(e.__scopeSlider),[r,o]=f.useState(null),s=Ie(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(F4,{...e,ref:s,index:i})}),F4=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=ld(hp,n),a=iD(hp,n),[l,c]=f.useState(null),d=Ie(t,w=>c(w)),u=l?i.form||!!l.closest("form"):!0,h=km(l),v=i.values[r],y=v===void 0?0:fD(v,i.min,i.max),x=$4(r,i.values.length),b=h==null?void 0:h[a.size],m=b?V4(b,y,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${m}px)`},children:[p.jsx(dp.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(Se.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":v,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:v===void 0?{display:"none"}:e.style,onFocus:re(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(j4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:v},r)]})});dD.displayName=hp;var j4=e=>{const{value:t,...n}=e,r=f.useRef(null),o=tP(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function O4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function fD(e,t,n){const s=100/(n-t)*(e-t);return _g(s,[0,100])}function $4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function U4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function V4(e,t,n){const r=e/2,s=ly([0,50],[0,r]);return(r-s(t)*n)*n}function B4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function z4(e,t){if(t>0){const n=B4(e);return Math.min(...n)>=t}return!0}function ly(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function q4(e){return(String(e).split(".")[1]||"").length}function W4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var hD=oD,H4=cD,G4=uD,K4=dD;const pD=f.forwardRef(({className:e,...t},n)=>p.jsxs(hD,{ref:n,className:ne("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(H4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(G4,{className:"absolute h-full bg-primary"})}),p.jsx(K4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pD.displayName=hD.displayName;const Je=250,U0=200;function Y4({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,v]=f.useState({x:0,y:0,scale:1}),[y,x]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[w,S]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[D,A]=f.useState(5),[M,L]=f.useState(!1),[_,Y]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[$,K]=f.useState(null),[N,O]=f.useState(null),[R,I]=f.useState(null),[F,H]=f.useState(null),ee=b&&w,ke=e!==u.current&&!ee,de=j=>j&&typeof j=="object"&&"x"in j&&"y"in j&&"w"in j&&"h"in j&&typeof j.x=="number"&&typeof j.y=="number"&&typeof j.w=="number"&&typeof j.h=="number"&&j.w>0&&j.h>0&&j.w===j.h,tt=f.useCallback((j,B)=>j<=0||B<=0||Je<=0?.1:Math.max(Je/j,Je/B),[]),te=f.useCallback((j,B)=>j<=0||B<=0||Je<=0||U0<=0?5:Math.max(Math.max(Je/j,Je/B),Je/U0),[]),ge=f.useCallback((j,B,V)=>{const q=s.current;if(!b||y.width<=0||y.height<=0)return{x:j,y:B};const le=(q==null?void 0:q.clientWidth)??0,ye=(q==null?void 0:q.clientHeight)??0;if(le<=0||ye<=0)return{x:j,y:B};const fe=y.width*V,Me=y.height*V,Be=(le-Je)/2,Xe=(ye-Je)/2,Ye=Be,He=Be+Je-fe,kt=Xe,Qt=Xe+Je-Me,$t=fe<Je?Be+(Je-fe)/2:Math.min(Ye,Math.max(He,j)),bt=Me<Je?Xe+(Je-Me)/2:Math.min(kt,Math.max(Qt,B));return{x:$t,y:bt}},[b,y]),se=f.useCallback((j,B)=>{if(!b||!l.current||w||y.width<=0||y.height<=0)return;const V=y.width,q=y.height,le=tt(V,q),ye=te(V,q);k(le),A(ye);let fe,Me,Be;if(de(r)){fe=Je/r.w,fe=Math.max(le,Math.min(ye,fe));const He=(j-Je)/2,kt=(B-Je)/2;Me=He-r.x*fe,Be=kt-r.y*fe}else fe=Math.max(Je/V,Je/q),fe=Math.max(le,fe),Me=(j-V*fe)/2,Be=(B-q*fe)/2;const Ye={...ge(Me,Be,fe),scale:fe};v(Ye),S(!0),c.current=!0},[b,w,y,r,tt,te,ge]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{e!==u.current&&(g.log(`[ImprovedImageCropper] Image URL changed: ${u.current||"none"}  ${e}`),m(!1),S(!1),c.current=!1,O(u.current),I(h),H(y),u.current=e,g.log("[ImprovedImageCropper] Reset loader state and stored previous image state"))},[e,h,y]),f.useEffect(()=>{u.current!==e?(u.current&&w?(O(u.current),I(h),H(y)):(O(null),I(null),H(null)),m(!1),S(!1),x(o||{width:0,height:0}),v({x:0,y:0,scale:1}),k(.1),A(5),c.current=!1,E(!1),u.current=e):o&&!w&&(o.width!==y.width||o.height!==y.height)&&x(o)},[e,o]);const Ae=f.useCallback(()=>{const j=i.current;if(g.log(`[ImprovedImageCropper] handleImageLoad called for image: ${e}`),!j){g.warn("[ImprovedImageCropper] Image ref is null in handleImageLoad");return}if(!l.current){g.warn("[ImprovedImageCropper] Component unmounted during image load");return}if(j.src!==e){g.warn(`[ImprovedImageCropper] Image src mismatch: ${j.src} vs ${e}`);return}const B=j.naturalWidth,V=j.naturalHeight;if(g.log(`[ImprovedImageCropper] Image loaded with dimensions: ${B}${V}`),B<=0||V<=0){g.error(`[ImprovedImageCropper] Image has invalid dimensions on load: ${B}${V}`),m(!1),S(!1);return}(y.width!==B||y.height!==V)&&(g.log(`[ImprovedImageCropper] Updating image dimensions: ${y.width}${y.height}  ${B}${V}`),x({width:B,height:V})),m(!0),g.log("[ImprovedImageCropper] Image successfully loaded and ready")},[e,y]),qe=f.useCallback(()=>{const j=i.current;!j||!l.current||j.src!==e||(g.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),S(!1))},[e]);f.useEffect(()=>{const j=s.current;if(j&&b&&!w){const B=le=>{if(!(!l.current||w))for(const ye of le){const{width:fe,height:Me}=ye.contentRect||{width:ye.target.clientWidth,height:ye.target.clientHeight};fe>0&&Me>0?se(fe,Me):g.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(B),d.current.observe(j);const V=j.clientWidth,q=j.clientHeight;return V>0&&q>0&&se(V,q),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[b,w,se]),f.useEffect(()=>{if(b&&w){const{x:j,y:B,scale:V}=h,q=ge(j,B,V);(q.x!==j||q.y!==B)&&v(le=>({...le,...q}))}},[h.scale,b,w,ge,h.x,h.y]);const Ce=f.useCallback((j,B,V)=>{!ee||!s.current||v(q=>{let le=q.scale*j;if(le=Math.max(P,Math.min(D,le)),le===q.scale)return q;const ye=(B-q.x)/q.scale,fe=(V-q.y)/q.scale,Me=B-ye*le,Be=V-fe*le;return{scale:le,...ge(Me,Be,le)}})},[ee,P,D,ge]),oe=(j,B,V)=>{!ee||C||(L(!0),Y({x:j,y:B,pinchDistance:V,imageX:h.x,imageY:h.y}),K(V??null))},xe=(j,B,V)=>{if(!(!M||!ee||!s.current)){if(V!==void 0&&$!==null){const q=V/$,le=s.current.getBoundingClientRect(),ye=_.x-le.left,fe=_.y-le.top;Ce(q,ye,fe),K(V)}else if($===null){const q=j-_.x,le=B-_.y,ye=_.imageX+q,fe=_.imageY+le;v(Me=>({...Me,...ge(ye,fe,Me.scale)}))}}},ie=()=>{M&&(L(!1),K(null))},_e=j=>oe(j.clientX,j.clientY),at=j=>xe(j.clientX,j.clientY),yt=j=>{if(j.touches.length===2){const B=j.touches[0],V=j.touches[1],q=Math.hypot(V.clientX-B.clientX,V.clientY-B.clientY),le=(B.clientX+V.clientX)/2,ye=(B.clientY+V.clientY)/2;oe(le,ye,q)}else j.touches.length===1&&oe(j.touches[0].clientX,j.touches[0].clientY)},Nt=j=>{if(M)if(j.cancelable&&j.preventDefault(),j.touches.length===2){const B=j.touches[0],V=j.touches[1],q=Math.hypot(V.clientX-B.clientX,V.clientY-B.clientY),le=(B.clientX+V.clientX)/2,ye=(B.clientY+V.clientY)/2;xe(le,ye,q)}else j.touches.length===1&&xe(j.touches[0].clientX,j.touches[0].clientY)},lt=f.useCallback(j=>{if(!ee||!s.current||C)return;j.preventDefault();const B=s.current.getBoundingClientRect(),V=j.clientX-B.left,q=j.clientY-B.top,ye=1+j.deltaY*-.005;Ce(ye,V,q)},[ee,C,Ce]);f.useEffect(()=>{if(M)return window.addEventListener("mousemove",at),window.addEventListener("touchmove",Nt,{passive:!1}),window.addEventListener("mouseup",ie),window.addEventListener("touchend",ie),window.addEventListener("touchcancel",ie),()=>{window.removeEventListener("mousemove",at),window.removeEventListener("touchmove",Nt),window.removeEventListener("mouseup",ie),window.removeEventListener("touchend",ie),window.removeEventListener("touchcancel",ie)}},[M,Nt]),f.useEffect(()=>{const j=s.current;if(j&&ee)return j.addEventListener("wheel",lt,{passive:!1}),()=>j.removeEventListener("wheel",lt)},[ee,lt]);const vt=f.useCallback(j=>{if(!s.current||!ee||(j=Math.max(P,Math.min(D,j)),j===h.scale))return;const B=s.current,V=B.clientWidth/2,q=B.clientHeight/2;Ce(j/h.scale,V,q)},[ee,P,D,h.scale,Ce]),sn=()=>vt(h.scale*1.15),Tt=()=>vt(h.scale/1.15),Ee=j=>vt(j[0]),We=()=>{if(S(!1),c.current=!1,v({x:0,y:0,scale:1}),s.current&&b){const j=s.current.clientWidth,B=s.current.clientHeight;j>0&&B>0&&se(j,B)}},z=()=>{g.log("[ImprovedImageCropper] performCrop called");const j=s.current,B=i.current;if(g.log("[ImprovedImageCropper] Checking crop preconditions:",{hasContainer:!!j,isInitialized:w,hasCurrentImage:!!B,naturalWidth:B==null?void 0:B.naturalWidth,naturalHeight:B==null?void 0:B.naturalHeight,imageUrl:e}),!j||!w||!B||!B.naturalWidth||!B.naturalHeight||B.naturalWidth<=0||B.naturalHeight<=0){g.error("[ImprovedImageCropper] Cannot crop: Preconditions fail");return}g.log("[ImprovedImageCropper] Starting crop processing"),E(!0);try{const V=j.clientWidth,q=j.clientHeight;g.log(`[ImprovedImageCropper] Container dimensions: ${V}${q}`);const le=(V-Je)/2,ye=(q-Je)/2;g.log(`[ImprovedImageCropper] Frame position: (${le}, ${ye})`);const fe=le-h.x,Me=ye-h.y,Be=fe/h.scale,Xe=Me/h.scale;g.log(`[ImprovedImageCropper] Source position (original): (${Be}, ${Xe})`);const Ye=Je/h.scale,He=Je/h.scale;g.log(`[ImprovedImageCropper] Source dimensions (original): ${Ye}${He}`);const kt=Math.max(0,Be),Qt=Math.max(0,Xe),$t=Math.min(Ye,B.naturalWidth-kt),bt=Math.min(He,B.naturalHeight-Qt);if(g.log(`[ImprovedImageCropper] Clamped source: (${kt}, ${Qt}, ${$t}, ${bt})`),$t<=0||bt<=0){const Sr=`Crop area zero/negative: W=${$t}, H=${bt}`;throw g.error(`[ImprovedImageCropper] ${Sr}`),new Error(Sr)}let st={x:Math.round(kt),y:Math.round(Qt),w:Math.round($t),h:Math.round(bt)};g.log(`[ImprovedImageCropper] Initial crop data: (${st.x}, ${st.y}, ${st.w}, ${st.h})`);const Io=Math.min(st.w,st.h);if(st.w=Io,st.h=Io,g.log(`[ImprovedImageCropper] Final square crop data: (${st.x}, ${st.y}, ${st.w}, ${st.h})`),st.w<=0){const Sr=`Final crop width <= 0: ${st.w}`;throw g.error(`[ImprovedImageCropper] ${Sr}`),new Error(Sr)}l.current?(g.log("[ImprovedImageCropper] Component still mounted, calling onCropComplete with final crop data"),t(st)):g.warn("[ImprovedImageCropper] Component unmounted, skipping onCropComplete call")}catch(V){g.error("[ImprovedImageCropper] Error during cropping:",V),V instanceof Error&&(g.error(`[ImprovedImageCropper] Error message: ${V.message}`),g.error(`[ImprovedImageCropper] Error stack: ${V.stack}`))}finally{l.current&&(g.log("[ImprovedImageCropper] Setting isProcessing to false"),E(!1))}},G=ke||!w&&!C,Q=!w&&!C,Pe=!w||C,be={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Ue={...be,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:w?1:0,transition:M?"none":"transform 0.1s linear",zIndex:2},Ve={...be,transform:R?`translate(${R.x}px, ${R.y}px) scale(${R.scale})`:"translate(0px, 0px) scale(1)",opacity:w?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Ht,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:ne("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",M?"cursor-grabbing":"cursor-grab"),onMouseDown:_e,onTouchStart:yt,children:[N&&R&&F&&p.jsx("img",{ref:a,src:N,alt:"",className:"absolute transform-gpu origin-top-left block",style:Ve,draggable:!1,width:F.width,height:F.height},N+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Ue,onLoad:Ae,onError:qe,draggable:!1,loading:"eager"},e),G&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Ht,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${Je}px`,height:`${Je}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ge,{type:"button",variant:"outline",size:"icon",onClick:Tt,disabled:!ee||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(u_,{className:"h-4 w-4"})," "]}),p.jsx(pD,{value:[h.scale],min:P,max:D,step:(D-P)/100,onValueChange:Ee,className:"flex-grow",disabled:!ee||C,"aria-label":"Zoom slider"}),p.jsxs(Ge,{type:"button",variant:"outline",size:"icon",onClick:sn,disabled:!ee||C||h.scale>=D,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(c_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Ge,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Ge,{type:"button",variant:"ghost",onClick:We,disabled:!ee||C,className:"px-3",children:[" ",p.jsx(i_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Ge,{type:"button",variant:"default",onClick:z,disabled:Pe,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):Q?p.jsxs(p.Fragment,{children:[" ",p.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(rC,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function kf(e){return new Promise((t,n)=>{g.log("[getImageDimensions] Starting dimension extraction",{type:typeof e,isFile:e instanceof File,fileDetails:e instanceof File?{name:e.name,size:e.size,type:e.type}:"Not a file"});const r=new Image;if(r.onload=()=>{g.log(`[getImageDimensions] Image loaded successfully with dimensions: ${r.naturalWidth}x${r.naturalHeight}`),r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):(g.error("[getImageDimensions] Image loaded with zero dimensions"),n(new Error("Image loaded with zero dimensions.")))},r.onerror=o=>{g.error("[getImageDimensions] Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")g.log(`[getImageDimensions] Processing string URL: ${e.substring(0,50)}...`),r.src=e;else if(e instanceof File){g.log(`[getImageDimensions] Processing File object: ${e.name}, size: ${e.size}, type: ${e.type}`);const o=new FileReader;o.onload=s=>{var i;if(g.log("[getImageDimensions] FileReader load successful"),(i=s.target)!=null&&i.result){const a=s.target.result;g.log(`[getImageDimensions] Data URL created, length: ${a.length}, setting as img.src`),r.src=a}else g.error("[getImageDimensions] FileReader result is empty"),n(new Error("FileReader result is empty."))},o.onerror=s=>{g.error("[getImageDimensions] FileReader error:",s),n(new Error("Failed to read file."))},g.log("[getImageDimensions] Calling reader.readAsDataURL on file"),o.readAsDataURL(e)}else g.error("[getImageDimensions] Invalid input type"),n(new Error("Invalid input for getImageDimensions"))})}const Q4=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return g.error("Error parsing EXIF date string:",t),null}};function Df(e){return new Promise(t=>{if(!window.EXIF){g.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(g.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=Q4(o);t({exifDate:s})}catch(o){g.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,g.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function V0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(Kk,{open:e,onOpenChange:t,children:p.jsxs(ty,{children:[p.jsxs(ny,{children:[p.jsx(oy,{children:r}),p.jsx(sy,{children:o})]}),p.jsxs(ry,{children:[p.jsx(ay,{disabled:a,children:i}),p.jsxs(iy,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const X4=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&g.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function Af({entryId:e}){const t=er(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,shareKeyForForm:l,clearShareKeyForForm:c,deleteSharedFilesFromStorage:d,isAuthenticated:u,isLoadingAuth:h,navigate:v,isLoadingImagesMeta:y,isClientReady:x,isOnline:b}=t,{toast:m}=Za(),[w,S]=f.useState(!1),[C,E]=f.useState(null),[P,k]=f.useState(()=>{const X=window.location.hash.split("?")[1];let J=null;if(X)try{J=new URLSearchParams(X).get("date")}catch{}if(J&&/^\d{4}-\d{2}-\d{2}$/.test(J))return g.log(`[EntryForm State Init] Initializing date from param: ${J}`),new Date(J+"T00:00:00Z");{g.log("[EntryForm State Init] Initializing date to today (UTC).");const ce=new Date;return new Date(Date.UTC(ce.getFullYear(),ce.getMonth(),ce.getDate()))}}),[D,A]=f.useState(!1),[M,L]=f.useState(""),[_,Y]=f.useState([]),[$,K]=f.useState(!1),[N,O]=f.useState(null),[R,I]=f.useState(!1),[F,H]=f.useState(null),[ee,ke]=f.useState(null),[de,tt]=f.useState(!0),[te,ge]=f.useState([]),[se,Ae]=f.useState(null),[qe,Ce]=f.useState(!1),[oe,xe]=f.useState(null),[ie,_e]=f.useState(null),[at,yt]=f.useState(!1),[Nt,lt]=f.useState(!1),[vt,sn]=f.useState(new Map),Tt=f.useRef(null),Ee=f.useRef(!0),We=f.useRef(new Map),z=f.useRef(new Map),G=f.useRef(null),Q=f.useRef(!1),Pe=f.useRef(null),be=f.useRef(!1),Ue=f.useRef(0),Ve=f.useRef({}),j=f.useRef(null);lo.getInstance();const B=!!e,V=se!==null&&se<te.length,q=a||V||qe,le=!de&&!q&&!a&&!h&&_.length>0&&!R&&te.length===0&&at,ye=f.useMemo(()=>{const Z=C?C.date:P.toISOString().split("T")[0],X=C?C.content:"",J=C?C.photos:[],ce=new Set(J.map(ue=>ue.photoId));return{date:Z,content:X,photoIds:ce}},[C,P]);f.useEffect(()=>{if(de||h||y){yt(!1);return}const Z=P.toISOString().split("T")[0]!==ye.date,X=M!==ye.content,J=new Set(_.map(ve=>Vn(ve)?ve.localId:ve.photoId)),ce=ye.photoIds;let ue=J.size!==ce.size;if(!ue){for(const ve of J)ce.has(ve)||(ue=!0);if(!ue)for(const ve of ce)J.has(ve)||(ue=!0)}let me=!1;if(C&&!ue){for(const ve of _)if(!Vn(ve)){const we=C.photos.find(he=>he.photoId===ve.photoId);if(we&&(ve.crop.x!==we.crop.x||ve.crop.y!==we.crop.y||ve.crop.w!==we.crop.w||ve.crop.h!==we.crop.h)){me=!0;break}}}if(B)yt(Z||X||ue||me);else{const ve=(()=>{const je=window.location.hash.split("?")[1];let Oe=null;if(je)try{Oe=new URLSearchParams(je).get("date")}catch{}if(Oe&&/^\d{4}-\d{2}-\d{2}$/.test(Oe))return Oe;{const $e=new Date;return new Date(Date.UTC($e.getFullYear(),$e.getMonth(),$e.getDate())).toISOString().split("T")[0]}})(),we=P.toISOString().split("T")[0]!==ve;yt(M.trim()!==""||_.length>0||we)}},[P,M,_,ye.date,ye.content,ye.photoIds,B,de,h,y,C]);const fe=f.useCallback(async Z=>{if(!Ee.current||Z>=te.length)return;const X=te[Z];if(!X||vt.has(X.localId))return;G.current&&G.current.abort();const J=new AbortController;G.current=J;try{const[ce,ue]=await Promise.all([kf(X.file),Df(X.file)]);if(J.signal.aborted||!Ee.current)return;sn(me=>new Map(me).set(X.localId,{dims:ce,exif:ue}))}catch(ce){ce.name==="AbortError"||Ee.current&&g.error(`[Prefetch] Error pre-fetching data for index ${Z}, file: ${X.file.name}`,ce)}finally{G.current===J&&(G.current=null)}},[te,vt]),Me=f.useCallback((Z,X=[],J=!1)=>{if(!Z||Z.length===0){g.warn("[EntryForm] No files selected");return}g.log("[EntryForm handleFilesSelect] Processing files",{fileCount:Z.length,previewUrlCount:X.length,isFromSharedFiles:J,blobUrlsCount:We.current.size});const ce=ca-_.length-te.length;if(g.log(`[EntryForm] Available slots: ${ce} (MAX_PHOTOS: ${ca}, current photos: ${_.length}, queue: ${te.length})`),Z.length>ce&&(g.warn(`[EntryForm] Too many files (${Z.length}), limiting to ${ce}`),m({title:"Too many files",description:`You can only add ${ce} more photo(s). Some files were ignored.`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"&&(g.log(`[EntryForm] Revoking excess blob URLs (${X.length-ce})`),X.slice(ce).forEach(me=>{g.log(`[EntryForm] Revoking excess blob URL: ${me}`),URL.revokeObjectURL(me)})),Z=Z.slice(0,ce),X=X.slice(0,ce),Z.length===0)){g.warn("[EntryForm] No files left after limiting");return}const ue=Z.map((me,ve)=>{const we=crypto.randomUUID(),he=X[ve];return g.log(`[EntryForm] Processing file for queue: ${me.name}, type: ${me.type}, size: ${me.size}`),g.log(`[EntryForm] Generated localId: ${we} for blob URL: ${he}`),(!he||!he.startsWith("blob:"))&&g.error(`[EntryForm] Invalid blob URL for file ${me.name}: ${he}`),J&&g.log(`[EntryForm] Using existing blob URL for shared file: ${he}`),We.current.set(we,he),g.log(`[EntryForm] Stored in originalBlobUrlsRef. Current count: ${We.current.size}`),{file:me,previewUrl:he,localId:we}});g.log(`[EntryForm] Created ${ue.length} new queue items`),ge(me=>{const ve=[...me,...ue];return g.log(`[EntryForm] ProcessingQueue updated: ${me.length}  ${ve.length} items`),se===null&&ve.length>0?(g.log("[EntryForm] Starting queue processing - setting currentQueueIndex to 0"),Ae(0),ve.length>1&&(g.log("[EntryForm] Prefetching next item at index 1"),fe(1))):g.log(`[EntryForm] Queue processing already in progress, currentQueueIndex: ${se}`),ve})},[_.length,te.length,m,se,fe,We]);f.useEffect(()=>{const Z={entryId:e,isAuthenticated:u,isLoadingAuth:h,isClientReady:x,isLoadingImagesMeta:y,isOnline:b,navigate:v,toast:m,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:C==null?void 0:C.id};Ue.current++;const X=Ue.current,J=`init-${X}`;if(X4(X,Ve.current,Z),(X===1||e!==Ve.current.entryId)&&(be.current=!1),!(!h&&x&&!y)){tt(!0),Ve.current=Z;return}Ee.current=!0,yt(!1);const ue=()=>{const he=Ue.current;if(g.log(`[EntryForm Init Effect ${he}] Dependency check complete. Current state:`,{isEditMode:B,isAuthenticated:u,isLoadingAuth:h,isClientReady:x,isLoadingImagesMeta:y,isRequestingSharedFiles:w,isLoadingData:de,photos:_.length}),l&&!Q.current){E(null),L(""),K(!1),O(null),Ce(!1),xe(null),_e(null);return}E(null),L(""),Y([]),K(!1),O(null),I(!1),H(null),ee&&g.log(`[EntryForm Init Effect ${he}] Clearing cropperImageUrl: ${ee}`),ke(null),Ce(!1),xe(null),_e(null),sn(new Map)},me=async he=>{if(g.log(`[EntryForm Init Effect ${J}] Populate form for entry ID:`,he.id),!Ee.current)return;let je=new Date(he.date+"T00:00:00Z");if(k(je),L(he.content),E({...he}),A(!0),g.log(`[EntryForm Init Effect ${J}] Basic form fields populated. isDateSetByUserIntent: true`),Y([]),he.photos&&he.photos.length>0){g.log(`[EntryForm Init Effect ${J}] Loading ${he.photos.length} photos.`),(!i||i.length===0)&&g.warn(`[EntryForm Init Effect ${J}] Missing imagesMetadata.`);const Oe=he.photos.map(async $e=>{const Ze=(i||[]).find(Xt=>Xt.id===$e.photoId),Ne=(Ze==null?void 0:Ze.photoMetadata)??null,ct=Ne==null?void 0:Ne.contentHash;let ut=null;try{if(ut=await s(ct,$e.photoId),!Ee.current)return null;ut?(We.current.set($e.photoId,ut),Ne&&z.current.set($e.photoId,Ne)):g.warn(`[EntryForm Init Effect ${J}] No preview URL for photo ${$e.photoId}`)}catch(Xt){g.error(`[EntryForm Init Effect ${J}] Failed getting preview link for photo ${$e.photoId}:`,Xt)}const Ct=ut===null?void 0:ut;return Ct?{...$e,isNew:!1,localPreviewUrl:Ct}:null});try{const $e=await Promise.all(Oe);if(!Ee.current)return;const Ze=$e.filter(Ne=>Ne!==null);if(g.log(`[EntryForm Init Effect ${J}] Setting ${Ze.length} photos.`),Y(Ze),Ze.length>0){const Ne=z.current.get(Ze[0].photoId),ct=(Ne==null?void 0:Ne.exifDate)??null;g.log(`[EntryForm Init Edit] Storing initial EXIF date: ${ct}`),O(ct);const ut=je.toISOString().split("T")[0];let Ct=!1,Xt="";if(ct){const[br,On,zr]=ct.split("-").map(Number);!isNaN(br)&&!isNaN(On)&&!isNaN(zr)&&(Xt=new Date(Date.UTC(br,On-1,zr)).toISOString().split("T")[0],Ct=ut!==Xt)}g.log(`[EntryForm Init Edit] Comparing Form UTC: ${ut} vs EXIF as UTC: ${Xt||"N/A"}. Show warning: ${Ct}`),K(Ct)}else g.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),O(null),K(!1)}catch($e){g.error(`[EntryForm Init Effect ${J}] Error loading initial photo details:`,$e),Ee.current&&Y([])}}else g.log(`[EntryForm Init Effect ${J}] Entry has no photos.`),Y([]),O(null),K(!1);g.log(`[EntryForm Init Effect ${J}] populateForm finished.`)},ve=async()=>{if(be.current){tt(!1);return}tt(!0),ue();try{if(B&&e){g.log(`[EntryForm Init Effect ${J}] EDIT MODE: Initializing for entry ID: ${e}`);let he=null;if(he=r(e)||null,he||(g.log(`[EntryForm Init Effect ${J}] EDIT MODE: Not in context, loading...`),he=await o(e)),he&&Ee.current)await me(he),be.current=!0;else if(Ee.current){g.error(`[EntryForm Init Effect ${J}] EDIT MODE: Entry ${e} not found. Redirecting.`),m({title:"Error",description:"Entry not found.",variant:"destructive"}),v("/");return}}else{g.log(`[EntryForm Init Effect ${J}] NEW MODE: Initializing.`);const je=window.location.hash.split("?")[1];let Oe=null;if(je)try{Oe=new URLSearchParams(je).get("date")}catch{}let $e=!1,Ze;if(Oe&&/^\d{4}-\d{2}-\d{2}$/.test(Oe))Ze=new Date(Oe+"T00:00:00Z"),$e=!0,g.log(`[EntryForm Init Effect ${J}] NEW MODE: Date from param: ${Oe}. User intent: true.`);else{const Ne=new Date;Ze=new Date(Date.UTC(Ne.getFullYear(),Ne.getMonth(),Ne.getDate())),$e=!1,g.log(`[EntryForm Init Effect ${J}] NEW MODE: Date defaulted to today. User intent: false.`)}k(Ze),A($e),E(null),be.current=!0}}finally{Ee.current&&tt(!1)}};return l&&!Q.current&&te.length===0?(g.log(`[EntryForm Init Effect ${J}] Skipping initializeForm() due to pending shared files that need processing first`),g.log(`[EntryForm Init Effect ${J}] Setting isLoadingData to false to allow Shared Files Effect to run`),tt(!1)):ve(),Ve.current=Z,()=>{g.log(`[EntryForm Cleanup ${J}] Cleanup running. CurrentState:`,{isMounted:Ee.current,queueItems:te.length,shareKey:l?"present":"none",hasProcessedSharedFiles:Q.current,blobUrlCount:We.current.size,currentQueueIndex:se,cleanupTimeMs:Date.now()}),te.length>0&&g.log(`[EntryForm Cleanup ${J}]  ATTENTION: Setting isMountedRef.current=false during active queue processing!`,{queueLength:te.length,currentQueueIndex:se,shareKey:l?"present":"none"}),Ee.current=!1,G.current&&(G.current.abort(),G.current=null);const he=te.length>0,je=l&&!Q.current;if(he||je){g.log(`[EntryForm Cleanup ${J}] Skipping URL revocation due to active processing (queue: ${te.length}, shareKey: ${l?"present":"none"})`);return}}},[e,u,h,x,y]),f.useEffect(()=>{g.log(`[EntryForm Cleanup] Revoking ${We.current.size} URLs:`,Array.from(We.current.entries()).map(([Z,X])=>({id:Z,url:X}))),We.current.forEach((Z,X)=>{try{Z&&Z.startsWith("blob:")&&(g.log(`[EntryForm Cleanup] Revoking URL for id ${X}: ${Z}`),URL.revokeObjectURL(Z))}catch(J){g.error(`[EntryForm Cleanup] Error revoking URL: ${J}`)}}),We.current.clear(),z.current.clear()},[]),f.useEffect(()=>{const Z=Date.now();if(g.log(`[ShareKey Effect ${Z}] Running check.`,{isEditMode:B,shareKeyForForm:l,isClientReady:x,isRequestingSharedFiles:w,isLoadingData:de,photos:_.length,isMounted:Ee.current}),B||!l||!x||w||de){g.log(`[ShareKey Effect ${Z}] Skipping due to conditions not met`,{isEditMode:B,hasShareKey:!!l,isClientReady:x,isRequestingSharedFiles:w,isLoadingData:de,blockingCondition:B?"isEditMode":l?x?w?"alreadyRequesting":de?"isLoadingData":"unknown":"clientNotReady":"noShareKey"});return}g.log(`[ShareKey Effect] Detected shareKeyForForm: ${l}, requesting files`),S(!0);const X=Uh(),J={type:"GET_STORED_FILES",key:l};return X.sendMessageToSW(J).catch(ce=>{g.error("[ShareKey Effect] Failed to send GET_STORED_FILES to SW:",ce),m({title:"Share Error",description:"Could not request shared files from service worker.",variant:"destructive"}),S(!1)}),()=>{g.log("[ShareKey Effect] Cleaning up EntryForm SW message listeners.")}},[l,x,de]),f.useEffect(()=>{const Z=ue=>{if(!ue){g.warn("[ShareKey Effect] Received empty SW message");return}if(g.log(`[ShareKey Effect] Received SW message type: ${ue.type}`,{key:ue.key,filesCount:ue.files?ue.files.length:"none",error:ue.error||"none"}),ue.type==="STORED_FILES_DATA"&&ue.files)if(S(!1),ue.files.length>0){g.log(`[ShareKey Effect] Received ${ue.files.length} shared files:`,{types:ue.files.map(ve=>ve.type),sizes:ue.files.map(ve=>ve.size),names:ue.files.map(ve=>ve.name)});const me=ue.files.map(ve=>URL.createObjectURL(ve));j.current=l,Pe.current=ue.files,Q.current=!0,Me(ue.files,me,!0)}else g.warn("[ShareKey Effect] Received empty files array"),m({title:"Share Info",description:"No shared files found to process.",variant:"default"});else ue.type==="STORED_FILES_ERROR"&&(S(!1),g.error(`[ShareKey Effect] Error receiving files: ${ue.error}`),m({title:"Share Error",description:`Failed to load shared files: ${ue.error}`,variant:"destructive"}))},X=Uh(),J=X.registerListener("STORED_FILES_DATA",Z),ce=X.registerListener("STORED_FILES_ERROR",Z);return()=>{J(),ce()}},[]),f.useEffect(()=>{const Z=Date.now(),X=j.current!==null&&te.length>0;if(g.log(`[Queue Effect ${Z}] Checking processing conditions:`,{isProcessingQueue:V,isMounted:Ee.current,isProcessingSharedFiles:X,currentQueueIndex:se,queueLength:te.length,pendingShareKey:j.current,originalBlobUrlsCount:We.current.size}),!V||!Ee.current&&!X){g.log(`[Queue Effect ${Z}] Queue processing skipped`,{skipReason:V?!Ee.current&&!X?"not mounted and not shared files":"unknown":"isProcessingQueue is false",isProcessingQueue:V,isMounted:Ee.current,isProcessingSharedFiles:X,currentQueueIndex:se,queueLength:te.length,pendingShareKey:j.current});return}X&&g.log("[Queue Effect] Processing shared file queue items",{pendingShareKey:j.current,queueLength:te.length}),g.log(`[Queue Effect] Processing queue item at index ${se} of ${te.length}`);const J=te[se];if(!J){g.error(`[Queue Effect] No item found at index ${se} in queue of length ${te.length}`),te.length>0&&se!==null&&(g.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Ae(null),ge([]),R&&I(!1));return}g.log(`[Queue Effect] Found item to process: file=${J.file.name}, localId=${J.localId}, blob=${J.previewUrl}`),(async()=>{if(!Ee.current){g.warn("[Queue Effect] Component unmounted during processing");return}const ue=J,{file:me,previewUrl:ve,localId:we}=ue;g.log(`[Queue Effect] Processing file: ${me.name}, type: ${me.type}, size: ${me.size}`),g.log(`[Queue Effect] Using blob URL: ${ve}`);let he=null;vt.has(we)?(g.log(`[Queue Effect] Using pre-fetched data for ${we}`),he=vt.get(we),sn(je=>{const Oe=new Map(je);return Oe.delete(we),Oe})):g.log(`[Queue Effect] No pre-fetched data available for ${we}, will fetch now`);try{g.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${me.name}`);const{dims:je,exif:Oe}=he??await(async()=>{g.log(`[Queue Effect] Fetching data now for ${me.name}`);const ut=await kf(me),Ct=await Df(me);return g.log(`[Queue Effect] Got dimensions: ${ut.width}${ut.height} and EXIF data:`,Ct),{dims:ut,exif:Ct}})();if(!Ee.current){g.warn("[Queue Effect] Component unmounted during data fetch");return}g.log(`[Queue Effect] Calculating initial crop for ${me.name}`);const $e=Math.min(je.width,je.height),Ze={x:Math.round((je.width-$e)/2),y:Math.round((je.height-$e)/2),w:Math.round($e),h:Math.round($e)};g.log(`[Queue Effect] Initial crop calculated: x=${Ze.x}, y=${Ze.y}, w=${Ze.w}, h=${Ze.h}`);const Ne={isNew:!0,file:me,originalDimensions:je,exifData:Oe,localPreviewUrl:ve,localId:we};if(g.log(`[Queue Effect] Created newPhotoBase object with localId: ${we}`),g.log(`[Queue Effect] Date Logic check - photos: ${_.length}, initialExifDate: ${N}, isEditMode: ${B}`),_.length===0&&!N&&!B){g.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const ut=Oe.exifDate;let Ct=!1;if(g.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${D}. Storing initial EXIF date string: ${ut}`),O(ut),ut){g.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${ut}, parsing components`);const[Xt,br,On]=ut.split("-").map(Number);if(g.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${Xt}, month=${br}, day=${On}`),!isNaN(Xt)&&!isNaN(br)&&!isNaN(On)){const zr=new Date(Date.UTC(Xt,br-1,On)),dl=zr.toISOString().split("T")[0],uy=P.toISOString().split("T")[0];g.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${dl}`),D?(g.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${uy} vs EXIF as UTC: ${dl}`),Ct=dl!==uy,g.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${Ct}`)):(g.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${dl}`),k(zr),Ct=!1,g.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else g.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${ut}. Setting warning false.`),Ct=!1}else g.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),Ct=!1;g.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${Ct}`),K(Ct)}else g.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");_e(Ne),H(null),ke(ve),R||I(!0);const ct=se+1;ct<te.length&&fe(ct)}catch(je){if(g.error(`[Queue Effect] Error processing queue item ${se}:`,je),m({title:"Error Processing Photo",description:`Could not process: ${me.name}. ${je instanceof Error?je.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ve)}catch{}if(We.current.delete(we),Ee.current){const Oe=se!==null?se+1:null;Oe!==null&&Oe<te.length?Ae(Oe):(g.log("[Queue Effect] Last item failed. Resetting queue."),Ae(null),ge([]),R&&I(!1))}}})()},[se,te,vt,R,fe,_.length,N,B,P,m,D]),f.useEffect(()=>{if(!V||!Ee.current){g.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:V,isMounted:Ee.current,currentQueueIndex:se,queueLength:te.length});return}g.log(`[Queue Effect] Processing queue item at index ${se} of ${te.length}`);const Z=te[se];if(!Z){g.error(`[Queue Effect] No item found at index ${se} in queue of length ${te.length}`),te.length>0&&se!==null&&(g.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Ae(null),ge([]),R&&I(!1));return}g.log(`[Queue Effect] Found item to process: file=${Z.file.name}, localId=${Z.localId}, blob=${Z.previewUrl}`),(async()=>{if(!Ee.current){g.warn("[Queue Effect] Component unmounted during processing");return}const J=Z,{file:ce,previewUrl:ue,localId:me}=J;g.log(`[Queue Effect] Processing file: ${ce.name}, type: ${ce.type}, size: ${ce.size}`),g.log(`[Queue Effect] Using blob URL: ${ue}`);let ve=null;vt.has(me)?(g.log(`[Queue Effect] Using pre-fetched data for ${me}`),ve=vt.get(me),sn(we=>{const he=new Map(we);return he.delete(me),he})):g.log(`[Queue Effect] No pre-fetched data available for ${me}, will fetch now`);try{g.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${ce.name}`);const{dims:we,exif:he}=ve??await(async()=>{g.log(`[Queue Effect] Fetching data now for ${ce.name}`);const Ne=await kf(ce),ct=await Df(ce);return g.log(`[Queue Effect] Got dimensions: ${Ne.width}${Ne.height} and EXIF data:`,ct),{dims:Ne,exif:ct}})();if(!Ee.current){g.warn("[Queue Effect] Component unmounted during data fetch");return}g.log(`[Queue Effect] Calculating initial crop for ${ce.name}`);const je=Math.min(we.width,we.height),Oe={x:Math.round((we.width-je)/2),y:Math.round((we.height-je)/2),w:Math.round(je),h:Math.round(je)};g.log(`[Queue Effect] Initial crop calculated: x=${Oe.x}, y=${Oe.y}, w=${Oe.w}, h=${Oe.h}`);const $e={isNew:!0,file:ce,originalDimensions:we,exifData:he,localPreviewUrl:ue,localId:me};if(g.log(`[Queue Effect] Created newPhotoBase object with localId: ${me}`),g.log(`[Queue Effect] Date Logic check - photos: ${_.length}, initialExifDate: ${N}, isEditMode: ${B}`),_.length===0&&!N&&!B){g.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const Ne=he.exifDate;let ct=!1;if(g.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${D}. Storing initial EXIF date string: ${Ne}`),O(Ne),Ne){g.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${Ne}, parsing components`);const[ut,Ct,Xt]=Ne.split("-").map(Number);if(g.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${ut}, month=${Ct}, day=${Xt}`),!isNaN(ut)&&!isNaN(Ct)&&!isNaN(Xt)){const br=new Date(Date.UTC(ut,Ct-1,Xt)),On=br.toISOString().split("T")[0],zr=P.toISOString().split("T")[0];g.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${On}`),D?(g.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${zr} vs EXIF as UTC: ${On}`),ct=On!==zr,g.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${ct}`)):(g.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${On}`),k(br),ct=!1,g.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else g.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${Ne}. Setting warning false.`),ct=!1}else g.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),ct=!1;g.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${ct}`),K(ct)}else g.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");_e($e),H(null),ke(ue),R||I(!0);const Ze=se+1;Ze<te.length&&fe(Ze)}catch(we){if(g.error(`[Queue Effect] Error processing queue item ${se}:`,we),m({title:"Error Processing Photo",description:`Could not process: ${ce.name}. ${we instanceof Error?we.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ue)}catch{}if(We.current.delete(me),Ee.current){const he=se!==null?se+1:null;he!==null&&he<te.length?Ae(he):(g.log("[Queue Effect] Last item failed. Resetting queue."),Ae(null),ge([]),R&&I(!1))}}})()},[se,te,vt,R,fe,_.length,N,B,P,m,D]);const Be=f.useCallback(Z=>{if(!Ee.current){g.warn("[EntryForm] handleCropComplete called but component unmounted");return}if(g.log("[EntryForm] handleCropComplete called with crop data:",{newCropData:Z,hasPendingNewPhotoData:!!ie,photoIndexToCrop:F,pendingPhotoLocalId:ie==null?void 0:ie.localId,pendingPhotoInfo:ie?{fileName:ie.file.name,fileType:ie.file.type,fileSize:ie.file.size,dimensions:`${ie.originalDimensions.width}${ie.originalDimensions.height}`,localPreviewUrl:ie.localPreviewUrl}:"none"}),ie){g.log(`[EntryForm] Processing pending new photo with localId: ${ie.localId}`);const J={...ie,crop:Z};g.log(`[EntryForm] Adding new photo to photos array, current count: ${_.length}`),Y(ce=>[...ce,J]),_e(null),g.log("[EntryForm] Set pendingNewPhotoData to null")}else F!==null&&(g.log(`[EntryForm] Updating crop for existing photo at index: ${F}`),Y(J=>J.map((ce,ue)=>ue===F?{...ce,crop:Z}:ce)));H(null);const X=se!==null?se+1:null;g.log(`[EntryForm] Crop complete. Next queue index: ${X}. Queue length: ${te.length}`),X!==null&&X<te.length?(g.log(`[EntryForm] Moving to next item in queue (index ${X}), cropper stays open`),Ae(X)):(g.log("[EntryForm] Queue processing finished. Clearing queue and closing cropper"),Ae(null),ge([]),I(!1)),X!==null&&X<te.length||(g.log("[EntryForm] Scheduling focus on content textarea"),setTimeout(()=>{Tt.current?(Tt.current.focus(),g.log("[EntryForm] Content textarea focused")):g.warn("[EntryForm] Content textarea ref not available")},50))},[se,te.length,ie,F,_.length]),Xe=f.useCallback(()=>{if(!Ee.current){g.warn("[EntryForm] handleCropCancel called but component unmounted");return}if(g.log("[EntryForm] handleCropCancel called:",{hasPendingNewPhotoData:!!ie,photoIndexToCrop:F,currentQueueIndex:se,processingQueueLength:te.length}),ie){if(g.log(`[EntryForm] Discarding pending new photo with localId: ${ie.localId}`,{fileName:ie.file.name,fileSize:ie.file.size,fileType:ie.file.type,localPreviewUrl:ie.localPreviewUrl}),typeof URL.revokeObjectURL=="function"){g.log(`[EntryForm] [BLOB URL REVOCATION] Revoking blob URL on CROP CANCEL for localId ${ie.localId}: ${ie.localPreviewUrl}`,{revocationReason:"cropCancel",blobUrlsBeforeCount:We.current.size});try{URL.revokeObjectURL(ie.localPreviewUrl),g.log(`[EntryForm] [BLOB URL REVOCATION] Successfully revoked URL for ${ie.localId}`)}catch(X){g.error(`[EntryForm] [BLOB URL REVOCATION] Error revoking URL: ${X}`)}}g.log(`[EntryForm] [BLOB URL LIFECYCLE] Removing URL from originalBlobUrlsRef for localId: ${ie.localId}`),We.current.delete(ie.localId),g.log(`[EntryForm] [BLOB URL LIFECYCLE] BlobUrls count after deletion: ${We.current.size}`),_e(null)}H(null);const Z=se!==null?se+1:null;Z!==null&&Z<te.length?Ae(Z):(Ae(null),ge([]),I(!1)),Z!==null&&Z<te.length||setTimeout(()=>{var X;return(X=Tt.current)==null?void 0:X.focus()},50)},[se,te.length,ie,F]),Ye=f.useCallback(Z=>{const X=_[Z];if(!X||V||q){g.warn(`[EntryForm] openCropperForPhoto prevented for index ${Z}.`,{isProcessingQueue:V,isBusy:q});return}const J=Vn(X)?X.localId:X.photoId;g.log(`[EntryForm] [BLOB URL USAGE] openCropperForPhoto retrieving URL for index ${Z}`,{photoId:J,isNewPhoto:Vn(X),photoType:Vn(X)?"newPhoto":"existingPhoto",blobUrlsCount:We.current.size,photoCount:_.length});const ce=We.current.get(J);ce?(g.log(`[EntryForm] [BLOB URL USAGE] Found URL for photo ID ${J}: ${ce}`),H(Z),_e(null),ke(ce),I(!0)):(m({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),g.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${Z}, id ${J}`))},[_,V,q,m]),He=f.useCallback(Z=>{xe(Z),Ce(!0)},[]),kt=f.useCallback(()=>{var ve;if(oe===null)return;const Z=oe,X=_[Z];if(!X){g.warn(`[EntryForm] Photo to remove at index ${Z} not found.`),Ce(!1),xe(null);return}const J=Vn(X)?X.localId:X.photoId,ce=Z===0;let ue=[];g.log(`[EntryForm] [BLOB URL LIFECYCLE] Removing photo id ${J}`,{wasFirstPhoto:ce,photoType:Vn(X)?"newPhoto":"existingPhoto",currentPhotosCount:_.length,currentBlobUrlsCount:We.current.size});const me=We.current.get(J);if(typeof URL.revokeObjectURL=="function"&&me){g.log(`[EntryForm] [BLOB URL REVOCATION] Revoking original URL on REMOVE CONFIRM for ${J}: ${me}`,{revocationReason:"photoRemoval",blobUrlsBeforeCount:We.current.size});try{URL.revokeObjectURL(me),g.log(`[EntryForm] [BLOB URL REVOCATION] Successfully revoked original URL for ${J}`)}catch(we){g.error(`[EntryForm] [BLOB URL REVOCATION] Error revoking original URL on remove: ${we}`)}}if(typeof URL.revokeObjectURL=="function"&&X.localPreviewUrl&&X.localPreviewUrl.startsWith("blob:")&&X.localPreviewUrl!==me){g.log(`[EntryForm] [BLOB URL REVOCATION] Revoking preview URL on REMOVE CONFIRM for ${J}: ${X.localPreviewUrl}`,{revocationReason:"photoRemoval",isDifferentFromOriginal:!0});try{URL.revokeObjectURL(X.localPreviewUrl),g.log(`[EntryForm] [BLOB URL REVOCATION] Successfully revoked preview URL for ${J}`)}catch(we){g.error(`[EntryForm] [BLOB URL REVOCATION] Error revoking preview URL on remove: ${we}`)}}if(g.log(`[EntryForm] [BLOB URL LIFECYCLE] Removing entries from refs for id: ${J}`),Y(we=>(ue=we.filter((he,je)=>je!==Z),ue)),ce&&Ee.current){const we=ue.length>0?ue[0]:null;let he=null;if(we)if(Vn(we))he=((ve=we.exifData)==null?void 0:ve.exifDate)??null;else{const Ze=z.current.get(we.photoId);he=(Ze==null?void 0:Ze.exifDate)??null}g.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${he}`),O(he);const je=P.toISOString().split("T")[0];let Oe=!1,$e="";if(he){const[Ze,Ne,ct]=he.split("-").map(Number);!isNaN(Ze)&&!isNaN(Ne)&&!isNaN(ct)&&($e=new Date(Date.UTC(Ze,Ne-1,ct)).toISOString().split("T")[0],Oe=je!==$e)}g.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${je} vs New EXIF as UTC: ${$e||"N/A"}. Show warning: ${Oe}`),K(Oe)}Ce(!1),xe(null)},[oe,_,P]),Qt=f.useCallback(()=>{if(N){g.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${N}.`);const[Z,X,J]=N.split("-").map(Number);k(new Date(Date.UTC(Z,X-1,J))),g.log("[EntryForm] handleUseExifDate setting warning to false."),K(!1)}},[N]),$t=f.useCallback(Z=>{try{const X=new Date(Z.target.value+"T00:00:00Z");if(isNaN(X.getTime()))g.warn("[EntryForm] Invalid date input received:",Z.target.value);else{k(X);const J=X.toISOString().split("T")[0];let ce=!1,ue="";if(N){const[me,ve,we]=N.split("-").map(Number);!isNaN(me)&&!isNaN(ve)&&!isNaN(we)&&(ue=new Date(Date.UTC(me,ve-1,we)).toISOString().split("T")[0],ce=J!==ue)}g.log(`[handleDateChange - DATE CHECK 1] Date changed to ${Z.target.value}. Comparing New Form UTC: ${J} vs Initial EXIF as UTC: ${ue||"N/A"}. Show warning: ${ce}`),K(ce)}}catch(X){g.error("[EntryForm] Error processing date change:",X)}},[N]),bt=f.useCallback(async()=>{if(g.log("[EntryForm] handleSave called.",{isBusy:q,canSave:le}),q||!le){g.warn("[EntryForm] Save prevented:",{isBusy:q,canSave:le});return}const X=await n({date:P,content:M,photos:_},C);c(),X&&Ee.current?(yt(!1),j.current&&(g.log(`[EntryForm] Save successful, cleaning up shared files with key: ${j.current}`),d(j.current),j.current=null)):X||g.warn("[EntryForm] Save failed (returned false).")},[q,le,P,M,_,n,C]),st=f.useCallback(()=>{R?Xe():at?lt(!0):v("/")},[R,at,v,Xe]),Io=f.useCallback(()=>{lt(!1),yt(!1),j.current&&(g.log(`[EntryForm] Canceling entry, cleaning up shared files with key: ${j.current}`),d(j.current),j.current=null),v("/")},[v]),Sr=f.useCallback(Z=>{Z.key==="Enter"&&(Z.metaKey||Z.ctrlKey)&&(Z.preventDefault(),le&&!q&&bt())},[le,q,bt]);if(h&&!u)return g.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(de)return g.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})," "]});g.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:R,isEditMode:B,photoCount:_.length,queueLength:te.length,currentQueueIndex:se,isLoadingData:de,isBusy:q,formDateUTC:P.toISOString().split("T")[0],initialExifDate:N,showExifDateMismatchWarning:$,isDateSetByUserIntent:D});const ul=()=>{var Z;if(R&&ee){const X=ie??(F!==null?_[F]:null),J=X&&"crop"in X?X.crop:void 0;let ce;if(ie&&ie.originalDimensions)ce=ie.originalDimensions;else if(F!==null&&Zk(_[F])){const ue=z.current.get(_[F].photoId);ue!=null&&ue.width&&(ue!=null&&ue.height)&&(ce={width:ue.width,height:ue.height})}else F!==null&&Vn(_[F])&&(ce=_[F].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(Y4,{imageUrl:ee,onCropComplete:Be,onCancel:Xe,initialCropData:J,initialImageDimensions:ce})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(C4,{photos:_,setPhotos:Y,isBusy:q,isLoadingInitial:!1,initialPhotoCount:((Z=C==null?void 0:C.photos)==null?void 0:Z.length)??0,onOpenCropper:Ye,onRemovePhoto:He,onFilesSelect:Me,originalBlobUrlsRef:We,existingPhotoMetaRef:z,processingQueueLength:te.length,currentQueueIndex:se,isProcessingQueueItem:V}),_.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(E4,{date:P,onDateChange:$t,showExifWarning:$,initialExifDate:N,onUseExifDate:Qt,isBusy:q}),p.jsx(P4,{content:M,setContent:L,isBusy:q,onKeyDown:Sr,textAreaRef:Tt})]})]})},cy=()=>R?`Adjust Photo${te.length>0&&se!==null?` (${se+1}/${te.length})`:""}`:B?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Ge,{variant:"ghost",size:"icon",onClick:st,disabled:q&&!R,"aria-label":R?"Cancel Crop":"Go Back",children:[" ",p.jsx(nC,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:cy()}),p.jsxs(Ge,{variant:"ghost",size:"icon",onClick:st,disabled:q&&!R,"aria-label":"Close",children:[" ",p.jsx(Lu,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[ul(),!R&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(T4,{isBusy:q,isSaving:a,isEditMode:B,canSave:le,onCancel:st,onSave:bt})})]})]}),p.jsx(V0,{open:qe,onOpenChange:Ce,onConfirm:kt,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(V0,{open:Nt,onOpenChange:lt,onConfirm:Io,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function Z4(){return g.log("[App] Using hook:",$h),p.jsx(zM,{client:HM,children:p.jsx(MF,{children:p.jsxs(XC,{children:[p.jsx(xb,{hook:$h,children:p.jsxs(wM,{children:[p.jsx(Li,{path:"/",component:R4}),p.jsx(Li,{path:"/entry",children:p.jsx(Af,{})}),p.jsx(Li,{path:"/entry/new",children:p.jsx(Af,{})}),p.jsx(Li,{path:"/entry/edit/:id",children:e=>p.jsx(Af,{entryId:e.id})}),p.jsx(Li,{children:()=>p.jsx(kL,{})})]})}),p.jsx(K_,{})]})})})}cb(document.getElementById("root")).render(p.jsx(tj,{attribute:"class",children:p.jsx(Z4,{})}))});export default J4();
