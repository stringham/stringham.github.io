var ay=e=>{throw TypeError(e)};var mD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ad=(e,t,n)=>t.has(e)||ay("Cannot "+n);var B=(e,t,n)=>(ad(e,t,"read from private field"),n?n.call(e):t.get(e)),qe=(e,t,n)=>t.has(e)?ay("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Re=(e,t,n,r)=>(ad(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vt=(e,t,n)=>(ad(e,t,"access private method"),n);var cl=(e,t,n,r)=>({set _(o){Re(e,t,o,n)},get _(){return B(e,t,r)}});var X4=mD((f3,hD)=>{function gD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G0={exports:{}},lu={},K0={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),yD=Symbol.for("react.portal"),vD=Symbol.for("react.fragment"),wD=Symbol.for("react.strict_mode"),xD=Symbol.for("react.profiler"),SD=Symbol.for("react.provider"),bD=Symbol.for("react.context"),CD=Symbol.for("react.forward_ref"),ED=Symbol.for("react.suspense"),PD=Symbol.for("react.memo"),kD=Symbol.for("react.lazy"),ly=Symbol.iterator;function TD(e){return e===null||typeof e!="object"?null:(e=ly&&e[ly]||e["@@iterator"],typeof e=="function"?e:null)}var Y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q0=Object.assign,X0={};function yi(e,t,n){this.props=e,this.context=t,this.refs=X0,this.updater=n||Y0}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z0(){}Z0.prototype=yi.prototype;function dp(e,t,n){this.props=e,this.context=t,this.refs=X0,this.updater=n||Y0}var fp=dp.prototype=new Z0;fp.constructor=dp;Q0(fp,yi.prototype);fp.isPureReactComponent=!0;var cy=Array.isArray,J0=Object.prototype.hasOwnProperty,hp={current:null},ex={key:!0,ref:!0,__self:!0,__source:!0};function tx(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)J0.call(t,r)&&!ex.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:za,type:e,key:s,ref:i,props:o,_owner:hp.current}}function DD(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pp(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function AD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uy=/\/+/g;function ld(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AD(""+e.key):t.toString(36)}function Hl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case za:case yD:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+ld(i,0):r,cy(o)?(n="",e!=null&&(n=e.replace(uy,"$&/")+"/"),Hl(o,t,n,"",function(c){return c})):o!=null&&(pp(o)&&(o=DD(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(uy,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",cy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+ld(s,a);i+=Hl(s,t,n,l,o)}else if(l=TD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+ld(s,a++),i+=Hl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ul(e,t,n){if(e==null)return e;var r=[],o=0;return Hl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function RD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rn={current:null},Gl={transition:null},MD={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:hp};function nx(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:ul,forEach:function(e,t,n){ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!pp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=yi;_e.Fragment=vD;_e.Profiler=xD;_e.PureComponent=dp;_e.StrictMode=wD;_e.Suspense=ED;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MD;_e.act=nx;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Q0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=hp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)J0.call(t,l)&&!ex.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:za,type:e.type,key:o,ref:s,props:r,_owner:i}};_e.createContext=function(e){return e={$$typeof:bD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SD,_context:e},e.Consumer=e};_e.createElement=tx;_e.createFactory=function(e){var t=tx.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:CD,render:e}};_e.isValidElement=pp;_e.lazy=function(e){return{$$typeof:kD,_payload:{_status:-1,_result:e},_init:RD}};_e.memo=function(e,t){return{$$typeof:PD,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Gl.transition;Gl.transition={};try{e()}finally{Gl.transition=t}};_e.unstable_act=nx;_e.useCallback=function(e,t){return rn.current.useCallback(e,t)};_e.useContext=function(e){return rn.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return rn.current.useDeferredValue(e)};_e.useEffect=function(e,t){return rn.current.useEffect(e,t)};_e.useId=function(){return rn.current.useId()};_e.useImperativeHandle=function(e,t,n){return rn.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return rn.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return rn.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return rn.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return rn.current.useReducer(e,t,n)};_e.useRef=function(e){return rn.current.useRef(e)};_e.useState=function(e){return rn.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return rn.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return rn.current.useTransition()};_e.version="18.3.1";K0.exports=_e;var f=K0.exports;const Tt=up(f),rx=gD({__proto__:null,default:Tt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ID=f,_D=Symbol.for("react.element"),ND=Symbol.for("react.fragment"),LD=Object.prototype.hasOwnProperty,FD=ID.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jD={key:!0,ref:!0,__self:!0,__source:!0};function ox(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)LD.call(t,r)&&!jD.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:_D,type:e,key:s,ref:i,props:o,_owner:FD.current}}lu.Fragment=ND;lu.jsx=ox;lu.jsxs=ox;G0.exports=lu;var p=G0.exports,sx={exports:{}},Cn={},ix={exports:{}},ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var j=R.length;R.push(I);e:for(;0<j;){var H=j-1>>>1,ee=R[H];if(0<o(ee,I))R[H]=I,R[j]=ee,j=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],j=R.pop();if(j!==I){R[0]=j;e:for(var H=0,ee=R.length,Ae=ee>>>1;H<Ae;){var ce=2*(H+1)-1,Je=R[ce],te=ce+1,ve=R[te];if(0>o(Je,j))te<ee&&0>o(ve,Je)?(R[H]=ve,R[te]=j,H=te):(R[H]=Je,R[ce]=j,H=ce);else if(te<ee&&0>o(ve,j))R[H]=ve,R[te]=j,H=te;else break e}}return I}function o(R,I){var j=R.sortIndex-I.sortIndex;return j!==0?j:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,v=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=R)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function C(R){if(x=!1,S(R),!y)if(n(l)!==null)y=!0,N(E);else{var I=n(c);I!==null&&O(C,I.startTime-R)}}function E(R,I){y=!1,x&&(x=!1,m(D),D=-1),v=!0;var j=h;try{for(S(I),u=n(l);u!==null&&(!(u.expirationTime>I)||R&&!L());){var H=u.callback;if(typeof H=="function"){u.callback=null,h=u.priorityLevel;var ee=H(u.expirationTime<=I);I=e.unstable_now(),typeof ee=="function"?u.callback=ee:u===n(l)&&r(l),S(I)}else r(l);u=n(l)}if(u!==null)var Ae=!0;else{var ce=n(c);ce!==null&&O(C,ce.startTime-I),Ae=!1}return Ae}finally{u=null,h=j,v=!1}}var P=!1,T=null,D=-1,A=5,M=-1;function L(){return!(e.unstable_now()-M<A)}function _(){if(T!==null){var R=e.unstable_now();M=R;var I=!0;try{I=T(!0,R)}finally{I?Y():(P=!1,T=null)}}else P=!1}var Y;if(typeof w=="function")Y=function(){w(_)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=_,Y=function(){K.postMessage(null)}}else Y=function(){b(_,0)};function N(R){T=R,P||(P=!0,Y())}function O(R,I){D=b(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,N(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var j=h;h=I;try{return R()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var j=h;h=R;try{return I()}finally{h=j}},e.unstable_scheduleCallback=function(R,I,j){var H=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?H+j:H):j=H,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=j+ee,R={id:d++,callback:I,priorityLevel:R,startTime:j,expirationTime:ee,sortIndex:-1},j>H?(R.sortIndex=j,t(c,R),n(l)===null&&R===n(c)&&(x?(m(D),D=-1):x=!0,O(C,j-H))):(R.sortIndex=ee,t(l,R),y||v||(y=!0,N(E))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var I=h;return function(){var j=h;h=I;try{return R.apply(this,arguments)}finally{h=j}}}})(ax);ix.exports=ax;var OD=ix.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D=f,Sn=OD;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lx=new Set,la={};function as(e,t){ni(e,t),ni(e+"Capture",t)}function ni(e,t){for(la[e]=t,e=0;e<t.length;e++)lx.add(t[e])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,UD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dy={},fy={};function VD(e){return Tf.call(fy,e)?!0:Tf.call(dy,e)?!1:UD.test(e)?fy[e]=!0:(dy[e]=!0,!1)}function BD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zD(e,t,n,r){if(t===null||typeof t>"u"||BD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function on(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new on(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new on(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new on(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new on(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new on(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new on(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new on(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new on(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new on(e,5,!1,e.toLowerCase(),null,!1,!1)});var mp=/[\-:]([a-z])/g;function gp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mp,gp);Ot[t]=new on(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mp,gp);Ot[t]=new on(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mp,gp);Ot[t]=new on(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new on(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new on(e,1,!1,e.toLowerCase(),null,!0,!0)});function yp(e,t,n,r){var o=Ot.hasOwnProperty(t)?Ot[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zD(t,n,o,r)&&(n=null),r||o===null?VD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vr=$D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),cx=Symbol.for("react.provider"),ux=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),dx=Symbol.for("react.offscreen"),hy=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=hy&&e[hy]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,cd;function $i(e){if(cd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cd=t&&t[1]||""}return`
`+cd+e}var ud=!1;function dd(e,t){if(!e||ud)return"";ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ud=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$i(e):""}function qD(e){switch(e.tag){case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return e=dd(e.type,!1),e;case 11:return e=dd(e.type.render,!1),e;case 1:return e=dd(e.type,!0),e;default:return""}}function Mf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case ys:return"Portal";case Df:return"Profiler";case vp:return"StrictMode";case Af:return"Suspense";case Rf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ux:return(e.displayName||"Context")+".Consumer";case cx:return(e._context.displayName||"Context")+".Provider";case wp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xp:return t=e.displayName||null,t!==null?t:Mf(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return Mf(e(t))}catch{}}return null}function WD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(t);case 8:return t===vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function So(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HD(e){var t=fx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){e._valueTracker||(e._valueTracker=HD(e))}function hx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function If(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function py(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=So(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function px(e,t){t=t.checked,t!=null&&yp(e,"checked",t,!1)}function _f(e,t){px(e,t);var n=So(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nf(e,t.type,So(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function my(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nf(e,t,n){(t!=="number"||pc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ui=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+So(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Lf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Ui(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:So(n)}}function mx(e,t){var n=So(t.value),r=So(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hl,yx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GD=["Webkit","ms","Moz","O"];Object.keys(Gi).forEach(function(e){GD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gi[t]=Gi[e]})});function vx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gi.hasOwnProperty(e)&&Gi[e]?(""+t).trim():t+"px"}function wx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var KD=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jf(e,t){if(t){if(KD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Of(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function Sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uf=null,Fs=null,js=null;function vy(e){if(e=Ha(e)){if(typeof Uf!="function")throw Error(W(280));var t=e.stateNode;t&&(t=hu(t),Uf(e.stateNode,e.type,t))}}function xx(e){Fs?js?js.push(e):js=[e]:Fs=e}function Sx(){if(Fs){var e=Fs,t=js;if(js=Fs=null,vy(e),t)for(e=0;e<t.length;e++)vy(t[e])}}function bx(e,t){return e(t)}function Cx(){}var fd=!1;function Ex(e,t,n){if(fd)return e(t,n);fd=!0;try{return bx(e,t,n)}finally{fd=!1,(Fs!==null||js!==null)&&(Cx(),Sx())}}function ua(e,t){var n=e.stateNode;if(n===null)return null;var r=hu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Vf=!1;if(_r)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Vf=!1}function YD(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ki=!1,mc=null,gc=!1,Bf=null,QD={onError:function(e){Ki=!0,mc=e}};function XD(e,t,n,r,o,s,i,a,l){Ki=!1,mc=null,YD.apply(QD,arguments)}function ZD(e,t,n,r,o,s,i,a,l){if(XD.apply(this,arguments),Ki){if(Ki){var c=mc;Ki=!1,mc=null}else throw Error(W(198));gc||(gc=!0,Bf=c)}}function ls(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Px(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wy(e){if(ls(e)!==e)throw Error(W(188))}function JD(e){var t=e.alternate;if(!t){if(t=ls(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return wy(o),e;if(s===r)return wy(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function kx(e){return e=JD(e),e!==null?Tx(e):null}function Tx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tx(e);if(t!==null)return t;e=e.sibling}return null}var Dx=Sn.unstable_scheduleCallback,xy=Sn.unstable_cancelCallback,eA=Sn.unstable_shouldYield,tA=Sn.unstable_requestPaint,Et=Sn.unstable_now,nA=Sn.unstable_getCurrentPriorityLevel,bp=Sn.unstable_ImmediatePriority,Ax=Sn.unstable_UserBlockingPriority,yc=Sn.unstable_NormalPriority,rA=Sn.unstable_LowPriority,Rx=Sn.unstable_IdlePriority,cu=null,fr=null;function oA(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(cu,e,void 0,(e.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:aA,sA=Math.log,iA=Math.LN2;function aA(e){return e>>>=0,e===0?32:31-(sA(e)/iA|0)|0}var pl=64,ml=4194304;function Vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Vi(a):(s&=i,s!==0&&(r=Vi(s)))}else i=n&~o,i!==0?r=Vi(i):s!==0&&(r=Vi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gn(t),o=1<<n,r|=e[n],t&=~o;return r}function lA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Gn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=lA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function zf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mx(){var e=pl;return pl<<=1,!(pl&4194240)&&(pl=64),e}function hd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gn(t),e[t]=n}function uA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Gn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Cp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ke=0;function Ix(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _x,Ep,Nx,Lx,Fx,qf=!1,gl=[],co=null,uo=null,fo=null,da=new Map,fa=new Map,Jr=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sy(e,t){switch(e){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(t.pointerId)}}function Di(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ha(t),t!==null&&Ep(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fA(e,t,n,r,o){switch(t){case"focusin":return co=Di(co,e,t,n,r,o),!0;case"dragenter":return uo=Di(uo,e,t,n,r,o),!0;case"mouseover":return fo=Di(fo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return da.set(s,Di(da.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,fa.set(s,Di(fa.get(s)||null,e,t,n,r,o)),!0}return!1}function jx(e){var t=$o(e.target);if(t!==null){var n=ls(t);if(n!==null){if(t=n.tag,t===13){if(t=Px(n),t!==null){e.blockedOn=t,Fx(e.priority,function(){Nx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return t=Ha(n),t!==null&&Ep(t),e.blockedOn=n,!1;t.shift()}return!0}function by(e,t,n){Kl(e)&&n.delete(t)}function hA(){qf=!1,co!==null&&Kl(co)&&(co=null),uo!==null&&Kl(uo)&&(uo=null),fo!==null&&Kl(fo)&&(fo=null),da.forEach(by),fa.forEach(by)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,qf||(qf=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,hA)))}function ha(e){function t(o){return Ai(o,e)}if(0<gl.length){Ai(gl[0],e);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(co!==null&&Ai(co,e),uo!==null&&Ai(uo,e),fo!==null&&Ai(fo,e),da.forEach(t),fa.forEach(t),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)jx(n),n.blockedOn===null&&Jr.shift()}var Os=Vr.ReactCurrentBatchConfig,wc=!0;function pA(e,t,n,r){var o=Ke,s=Os.transition;Os.transition=null;try{Ke=1,Pp(e,t,n,r)}finally{Ke=o,Os.transition=s}}function mA(e,t,n,r){var o=Ke,s=Os.transition;Os.transition=null;try{Ke=4,Pp(e,t,n,r)}finally{Ke=o,Os.transition=s}}function Pp(e,t,n,r){if(wc){var o=Wf(e,t,n,r);if(o===null)Cd(e,t,r,xc,n),Sy(e,r);else if(fA(o,e,t,n,r))r.stopPropagation();else if(Sy(e,r),t&4&&-1<dA.indexOf(e)){for(;o!==null;){var s=Ha(o);if(s!==null&&_x(s),s=Wf(e,t,n,r),s===null&&Cd(e,t,r,xc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Cd(e,t,r,null,n)}}var xc=null;function Wf(e,t,n,r){if(xc=null,e=Sp(r),e=$o(e),e!==null)if(t=ls(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Px(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xc=e,null}function Ox(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nA()){case bp:return 1;case Ax:return 4;case yc:case rA:return 16;case Rx:return 536870912;default:return 16}default:return 16}}var io=null,kp=null,Yl=null;function $x(){if(Yl)return Yl;var e,t=kp,n=t.length,r,o="value"in io?io.value:io.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Yl=o.slice(e,1<r?1-r:void 0)}function Ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Cy(){return!1}function En(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yl:Cy,this.isPropagationStopped=Cy,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=En(vi),Wa=ht({},vi,{view:0,detail:0}),gA=En(Wa),pd,md,Ri,uu=ht({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(pd=e.screenX-Ri.screenX,md=e.screenY-Ri.screenY):md=pd=0,Ri=e),pd)},movementY:function(e){return"movementY"in e?e.movementY:md}}),Ey=En(uu),yA=ht({},uu,{dataTransfer:0}),vA=En(yA),wA=ht({},Wa,{relatedTarget:0}),gd=En(wA),xA=ht({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),SA=En(xA),bA=ht({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CA=En(bA),EA=ht({},vi,{data:0}),Py=En(EA),PA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TA[e])?!!t[e]:!1}function Dp(){return DA}var AA=ht({},Wa,{key:function(e){if(e.key){var t=PA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RA=En(AA),MA=ht({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=En(MA),IA=ht({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),_A=En(IA),NA=ht({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),LA=En(NA),FA=ht({},uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=En(FA),OA=[9,13,27,32],Ap=_r&&"CompositionEvent"in window,Yi=null;_r&&"documentMode"in document&&(Yi=document.documentMode);var $A=_r&&"TextEvent"in window&&!Yi,Ux=_r&&(!Ap||Yi&&8<Yi&&11>=Yi),Ty=" ",Dy=!1;function Vx(e,t){switch(e){case"keyup":return OA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function UA(e,t){switch(e){case"compositionend":return Bx(t);case"keypress":return t.which!==32?null:(Dy=!0,Ty);case"textInput":return e=t.data,e===Ty&&Dy?null:e;default:return null}}function VA(e,t){if(ws)return e==="compositionend"||!Ap&&Vx(e,t)?(e=$x(),Yl=kp=io=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ux&&t.locale!=="ko"?null:t.data;default:return null}}var BA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BA[e.type]:t==="textarea"}function zx(e,t,n,r){xx(r),t=Sc(t,"onChange"),0<t.length&&(n=new Tp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qi=null,pa=null;function zA(e){eS(e,0)}function du(e){var t=bs(e);if(hx(t))return e}function qA(e,t){if(e==="change")return t}var qx=!1;if(_r){var yd;if(_r){var vd="oninput"in document;if(!vd){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),vd=typeof Ry.oninput=="function"}yd=vd}else yd=!1;qx=yd&&(!document.documentMode||9<document.documentMode)}function My(){Qi&&(Qi.detachEvent("onpropertychange",Wx),pa=Qi=null)}function Wx(e){if(e.propertyName==="value"&&du(pa)){var t=[];zx(t,pa,e,Sp(e)),Ex(zA,t)}}function WA(e,t,n){e==="focusin"?(My(),Qi=t,pa=n,Qi.attachEvent("onpropertychange",Wx)):e==="focusout"&&My()}function HA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(pa)}function GA(e,t){if(e==="click")return du(t)}function KA(e,t){if(e==="input"||e==="change")return du(t)}function YA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:YA;function ma(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Tf.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Iy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _y(e,t){var n=Iy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iy(n)}}function Hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=pc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pc(e.document)}return t}function Rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QA(e){var t=Gx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hx(n.ownerDocument.documentElement,n)){if(r!==null&&Rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=_y(n,s);var i=_y(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XA=_r&&"documentMode"in document&&11>=document.documentMode,xs=null,Hf=null,Xi=null,Gf=!1;function Ny(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gf||xs==null||xs!==pc(r)||(r=xs,"selectionStart"in r&&Rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xi&&ma(Xi,r)||(Xi=r,r=Sc(Hf,"onSelect"),0<r.length&&(t=new Tp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xs)))}function vl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},wd={},Kx={};_r&&(Kx=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function fu(e){if(wd[e])return wd[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kx)return wd[e]=t[n];return e}var Yx=fu("animationend"),Qx=fu("animationiteration"),Xx=fu("animationstart"),Zx=fu("transitionend"),Jx=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(e,t){Jx.set(e,t),as(t,[e])}for(var xd=0;xd<Ly.length;xd++){var Sd=Ly[xd],ZA=Sd.toLowerCase(),JA=Sd[0].toUpperCase()+Sd.slice(1);Do(ZA,"on"+JA)}Do(Yx,"onAnimationEnd");Do(Qx,"onAnimationIteration");Do(Xx,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(Zx,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Fy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZD(r,t,void 0,e),e.currentTarget=null}function eS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Fy(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Fy(o,a,c),s=l}}}if(gc)throw e=Bf,gc=!1,Bf=null,e}function nt(e,t){var n=t[Zf];n===void 0&&(n=t[Zf]=new Set);var r=e+"__bubble";n.has(r)||(tS(t,e,2,!1),n.add(r))}function bd(e,t,n){var r=0;t&&(r|=4),tS(n,e,r,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function ga(e){if(!e[wl]){e[wl]=!0,lx.forEach(function(n){n!=="selectionchange"&&(eR.has(n)||bd(n,!1,e),bd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,bd("selectionchange",!1,t))}}function tS(e,t,n,r){switch(Ox(t)){case 1:var o=pA;break;case 4:o=mA;break;default:o=Pp}n=o.bind(null,t,n,e),o=void 0,!Vf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Cd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=$o(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Ex(function(){var c=s,d=Sp(n),u=[];e:{var h=Jx.get(e);if(h!==void 0){var v=Tp,y=e;switch(e){case"keypress":if(Ql(n)===0)break e;case"keydown":case"keyup":v=RA;break;case"focusin":y="focus",v=gd;break;case"focusout":y="blur",v=gd;break;case"beforeblur":case"afterblur":v=gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_A;break;case Yx:case Qx:case Xx:v=SA;break;case Zx:v=LA;break;case"scroll":v=gA;break;case"wheel":v=jA;break;case"copy":case"cut":case"paste":v=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ky}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,m!==null&&(C=ua(w,m),C!=null&&x.push(ya(w,C,S)))),b)break;w=w.return}0<x.length&&(h=new v(h,y,null,n,d),u.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==$f&&(y=n.relatedTarget||n.fromElement)&&($o(y)||y[Nr]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?$o(y):null,y!==null&&(b=ls(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(x=Ey,C="onMouseLeave",m="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=ky,C="onPointerLeave",m="onPointerEnter",w="pointer"),b=v==null?h:bs(v),S=y==null?h:bs(y),h=new x(C,w+"leave",v,n,d),h.target=b,h.relatedTarget=S,C=null,$o(d)===c&&(x=new x(m,w+"enter",y,n,d),x.target=S,x.relatedTarget=b,C=x),b=C,v&&y)t:{for(x=v,m=y,w=0,S=x;S;S=hs(S))w++;for(S=0,C=m;C;C=hs(C))S++;for(;0<w-S;)x=hs(x),w--;for(;0<S-w;)m=hs(m),S--;for(;w--;){if(x===m||m!==null&&x===m.alternate)break t;x=hs(x),m=hs(m)}x=null}else x=null;v!==null&&jy(u,h,v,x,!1),y!==null&&b!==null&&jy(u,b,y,x,!0)}}e:{if(h=c?bs(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=qA;else if(Ay(h))if(qx)E=KA;else{E=HA;var P=WA}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=GA);if(E&&(E=E(e,c))){zx(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Nf(h,"number",h.value)}switch(P=c?bs(c):window,e){case"focusin":(Ay(P)||P.contentEditable==="true")&&(xs=P,Hf=c,Xi=null);break;case"focusout":Xi=Hf=xs=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,Ny(u,n,d);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":Ny(u,n,d)}var T;if(Ap)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ws?Vx(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Ux&&n.locale!=="ko"&&(ws||D!=="onCompositionStart"?D==="onCompositionEnd"&&ws&&(T=$x()):(io=d,kp="value"in io?io.value:io.textContent,ws=!0)),P=Sc(c,D),0<P.length&&(D=new Py(D,e,null,n,d),u.push({event:D,listeners:P}),T?D.data=T:(T=Bx(n),T!==null&&(D.data=T)))),(T=$A?UA(e,n):VA(e,n))&&(c=Sc(c,"onBeforeInput"),0<c.length&&(d=new Py("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=T))}eS(u,t)})}function ya(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ua(e,n),s!=null&&r.unshift(ya(e,s,o)),s=ua(e,t),s!=null&&r.push(ya(e,s,o))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jy(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=ua(n,s),l!=null&&i.unshift(ya(n,l,a))):o||(l=ua(n,s),l!=null&&i.push(ya(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var tR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(tR,`
`).replace(nR,"")}function xl(e,t,n){if(t=Oy(t),Oy(e)!==t&&n)throw Error(W(425))}function bc(){}var Kf=null,Yf=null;function Qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(sR)}:Xf;function sR(e){setTimeout(function(){throw e})}function Ed(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ha(t)}function ho(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),cr="__reactFiber$"+wi,va="__reactProps$"+wi,Nr="__reactContainer$"+wi,Zf="__reactEvents$"+wi,iR="__reactListeners$"+wi,aR="__reactHandles$"+wi;function $o(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uy(e);e!==null;){if(n=e[cr])return n;e=Uy(e)}return t}e=n,n=e.parentNode}return null}function Ha(e){return e=e[cr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function hu(e){return e[va]||null}var Jf=[],Cs=-1;function Ao(e){return{current:e}}function rt(e){0>Cs||(e.current=Jf[Cs],Jf[Cs]=null,Cs--)}function Ze(e,t){Cs++,Jf[Cs]=e.current,e.current=t}var bo={},Qt=Ao(bo),un=Ao(!1),Zo=bo;function ri(e,t){var n=e.type.contextTypes;if(!n)return bo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function dn(e){return e=e.childContextTypes,e!=null}function Cc(){rt(un),rt(Qt)}function Vy(e,t,n){if(Qt.current!==bo)throw Error(W(168));Ze(Qt,t),Ze(un,n)}function nS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,WD(e)||"Unknown",o));return ht({},n,r)}function Ec(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,Zo=Qt.current,Ze(Qt,e),Ze(un,un.current),!0}function By(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=nS(e,t,Zo),r.__reactInternalMemoizedMergedChildContext=e,rt(un),rt(Qt),Ze(Qt,e)):rt(un),Ze(un,n)}var kr=null,pu=!1,Pd=!1;function rS(e){kr===null?kr=[e]:kr.push(e)}function lR(e){pu=!0,rS(e)}function Ro(){if(!Pd&&kr!==null){Pd=!0;var e=0,t=Ke;try{var n=kr;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kr=null,pu=!1}catch(o){throw kr!==null&&(kr=kr.slice(e+1)),Dx(bp,Ro),o}finally{Ke=t,Pd=!1}}return null}var Es=[],Ps=0,Pc=null,kc=0,An=[],Rn=0,Jo=null,Tr=1,Dr="";function Lo(e,t){Es[Ps++]=kc,Es[Ps++]=Pc,Pc=e,kc=t}function oS(e,t,n){An[Rn++]=Tr,An[Rn++]=Dr,An[Rn++]=Jo,Jo=e;var r=Tr;e=Dr;var o=32-Gn(r)-1;r&=~(1<<o),n+=1;var s=32-Gn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Tr=1<<32-Gn(t)+o|n<<o|r,Dr=s+e}else Tr=1<<s|n<<o|r,Dr=e}function Mp(e){e.return!==null&&(Lo(e,1),oS(e,1,0))}function Ip(e){for(;e===Pc;)Pc=Es[--Ps],Es[Ps]=null,kc=Es[--Ps],Es[Ps]=null;for(;e===Jo;)Jo=An[--Rn],An[Rn]=null,Dr=An[--Rn],An[Rn]=null,Tr=An[--Rn],An[Rn]=null}var wn=null,vn=null,ot=!1,Hn=null;function sS(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,vn=ho(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jo!==null?{id:Tr,overflow:Dr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,vn=null,!0):!1;default:return!1}}function eh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function th(e){if(ot){var t=vn;if(t){var n=t;if(!zy(e,t)){if(eh(e))throw Error(W(418));t=ho(n.nextSibling);var r=wn;t&&zy(e,t)?sS(r,n):(e.flags=e.flags&-4097|2,ot=!1,wn=e)}}else{if(eh(e))throw Error(W(418));e.flags=e.flags&-4097|2,ot=!1,wn=e}}}function qy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Sl(e){if(e!==wn)return!1;if(!ot)return qy(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qf(e.type,e.memoizedProps)),t&&(t=vn)){if(eh(e))throw iS(),Error(W(418));for(;t;)sS(e,t),t=ho(t.nextSibling)}if(qy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=ho(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=wn?ho(e.stateNode.nextSibling):null;return!0}function iS(){for(var e=vn;e;)e=ho(e.nextSibling)}function oi(){vn=wn=null,ot=!1}function _p(e){Hn===null?Hn=[e]:Hn.push(e)}var cR=Vr.ReactCurrentBatchConfig;function Mi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function bl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wy(e){var t=e._init;return t(e._payload)}function aS(e){function t(m,w){if(e){var S=m.deletions;S===null?(m.deletions=[w],m.flags|=16):S.push(w)}}function n(m,w){if(!e)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function o(m,w){return m=yo(m,w),m.index=0,m.sibling=null,m}function s(m,w,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<w?(m.flags|=2,w):S):(m.flags|=2,w)):(m.flags|=1048576,w)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,w,S,C){return w===null||w.tag!==6?(w=Id(S,m.mode,C),w.return=m,w):(w=o(w,S),w.return=m,w)}function l(m,w,S,C){var E=S.type;return E===vs?d(m,w,S.props.children,C,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Xr&&Wy(E)===w.type)?(C=o(w,S.props),C.ref=Mi(m,w,S),C.return=m,C):(C=rc(S.type,S.key,S.props,null,m.mode,C),C.ref=Mi(m,w,S),C.return=m,C)}function c(m,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=_d(S,m.mode,C),w.return=m,w):(w=o(w,S.children||[]),w.return=m,w)}function d(m,w,S,C,E){return w===null||w.tag!==7?(w=Ko(S,m.mode,C,E),w.return=m,w):(w=o(w,S),w.return=m,w)}function u(m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Id(""+w,m.mode,S),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dl:return S=rc(w.type,w.key,w.props,null,m.mode,S),S.ref=Mi(m,null,w),S.return=m,S;case ys:return w=_d(w,m.mode,S),w.return=m,w;case Xr:var C=w._init;return u(m,C(w._payload),S)}if(Ui(w)||ki(w))return w=Ko(w,m.mode,S,null),w.return=m,w;bl(m,w)}return null}function h(m,w,S,C){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(m,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dl:return S.key===E?l(m,w,S,C):null;case ys:return S.key===E?c(m,w,S,C):null;case Xr:return E=S._init,h(m,w,E(S._payload),C)}if(Ui(S)||ki(S))return E!==null?null:d(m,w,S,C,null);bl(m,S)}return null}function v(m,w,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(S)||null,a(w,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dl:return m=m.get(C.key===null?S:C.key)||null,l(w,m,C,E);case ys:return m=m.get(C.key===null?S:C.key)||null,c(w,m,C,E);case Xr:var P=C._init;return v(m,w,S,P(C._payload),E)}if(Ui(C)||ki(C))return m=m.get(S)||null,d(w,m,C,E,null);bl(w,C)}return null}function y(m,w,S,C){for(var E=null,P=null,T=w,D=w=0,A=null;T!==null&&D<S.length;D++){T.index>D?(A=T,T=null):A=T.sibling;var M=h(m,T,S[D],C);if(M===null){T===null&&(T=A);break}e&&T&&M.alternate===null&&t(m,T),w=s(M,w,D),P===null?E=M:P.sibling=M,P=M,T=A}if(D===S.length)return n(m,T),ot&&Lo(m,D),E;if(T===null){for(;D<S.length;D++)T=u(m,S[D],C),T!==null&&(w=s(T,w,D),P===null?E=T:P.sibling=T,P=T);return ot&&Lo(m,D),E}for(T=r(m,T);D<S.length;D++)A=v(T,m,D,S[D],C),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?D:A.key),w=s(A,w,D),P===null?E=A:P.sibling=A,P=A);return e&&T.forEach(function(L){return t(m,L)}),ot&&Lo(m,D),E}function x(m,w,S,C){var E=ki(S);if(typeof E!="function")throw Error(W(150));if(S=E.call(S),S==null)throw Error(W(151));for(var P=E=null,T=w,D=w=0,A=null,M=S.next();T!==null&&!M.done;D++,M=S.next()){T.index>D?(A=T,T=null):A=T.sibling;var L=h(m,T,M.value,C);if(L===null){T===null&&(T=A);break}e&&T&&L.alternate===null&&t(m,T),w=s(L,w,D),P===null?E=L:P.sibling=L,P=L,T=A}if(M.done)return n(m,T),ot&&Lo(m,D),E;if(T===null){for(;!M.done;D++,M=S.next())M=u(m,M.value,C),M!==null&&(w=s(M,w,D),P===null?E=M:P.sibling=M,P=M);return ot&&Lo(m,D),E}for(T=r(m,T);!M.done;D++,M=S.next())M=v(T,m,D,M.value,C),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?D:M.key),w=s(M,w,D),P===null?E=M:P.sibling=M,P=M);return e&&T.forEach(function(_){return t(m,_)}),ot&&Lo(m,D),E}function b(m,w,S,C){if(typeof S=="object"&&S!==null&&S.type===vs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case dl:e:{for(var E=S.key,P=w;P!==null;){if(P.key===E){if(E=S.type,E===vs){if(P.tag===7){n(m,P.sibling),w=o(P,S.props.children),w.return=m,m=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Xr&&Wy(E)===P.type){n(m,P.sibling),w=o(P,S.props),w.ref=Mi(m,P,S),w.return=m,m=w;break e}n(m,P);break}else t(m,P);P=P.sibling}S.type===vs?(w=Ko(S.props.children,m.mode,C,S.key),w.return=m,m=w):(C=rc(S.type,S.key,S.props,null,m.mode,C),C.ref=Mi(m,w,S),C.return=m,m=C)}return i(m);case ys:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(m,w.sibling),w=o(w,S.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else t(m,w);w=w.sibling}w=_d(S,m.mode,C),w.return=m,m=w}return i(m);case Xr:return P=S._init,b(m,w,P(S._payload),C)}if(Ui(S))return y(m,w,S,C);if(ki(S))return x(m,w,S,C);bl(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(m,w.sibling),w=o(w,S),w.return=m,m=w):(n(m,w),w=Id(S,m.mode,C),w.return=m,m=w),i(m)):n(m,w)}return b}var si=aS(!0),lS=aS(!1),Tc=Ao(null),Dc=null,ks=null,Np=null;function Lp(){Np=ks=Dc=null}function Fp(e){var t=Tc.current;rt(Tc),e._currentValue=t}function nh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){Dc=e,Np=ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(Np!==e)if(e={context:e,memoizedValue:t,next:null},ks===null){if(Dc===null)throw Error(W(308));ks=e,Dc.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Uo=null;function jp(e){Uo===null?Uo=[e]:Uo.push(e)}function cS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,jp(t)):(n.next=o.next,o.next=n),t.interleaved=n,Lr(e,r)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Op(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Lr(e,n)}return o=r.interleaved,o===null?(t.next=t,jp(r)):(t.next=o.next,o.next=t),r.interleaved=t,Lr(e,n)}function Xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cp(e,n)}}function Hy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ac(e,t,n,r){var o=e.updateQueue;Zr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(h=t,v=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){u=y.call(v,u,h);break e}u=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(v,u,h):y,h==null)break e;u=ht({},u,h);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=u):d=d.next=v,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ts|=i,e.lanes=i,e.memoizedState=u}}function Gy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Ga={},hr=Ao(Ga),wa=Ao(Ga),xa=Ao(Ga);function Vo(e){if(e===Ga)throw Error(W(174));return e}function $p(e,t){switch(Ze(xa,t),Ze(wa,e),Ze(hr,Ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ff(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ff(t,e)}rt(hr),Ze(hr,t)}function ii(){rt(hr),rt(wa),rt(xa)}function dS(e){Vo(xa.current);var t=Vo(hr.current),n=Ff(t,e.type);t!==n&&(Ze(wa,e),Ze(hr,n))}function Up(e){wa.current===e&&(rt(hr),rt(wa))}var lt=Ao(0);function Rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kd=[];function Vp(){for(var e=0;e<kd.length;e++)kd[e]._workInProgressVersionPrimary=null;kd.length=0}var Zl=Vr.ReactCurrentDispatcher,Td=Vr.ReactCurrentBatchConfig,es=0,ft=null,At=null,Mt=null,Mc=!1,Zi=!1,Sa=0,uR=0;function Bt(){throw Error(W(321))}function Bp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function zp(e,t,n,r,o,s){if(es=s,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zl.current=e===null||e.memoizedState===null?pR:mR,e=n(r,o),Zi){s=0;do{if(Zi=!1,Sa=0,25<=s)throw Error(W(301));s+=1,Mt=At=null,t.updateQueue=null,Zl.current=gR,e=n(r,o)}while(Zi)}if(Zl.current=Ic,t=At!==null&&At.next!==null,es=0,Mt=At=ft=null,Mc=!1,t)throw Error(W(300));return e}function qp(){var e=Sa!==0;return Sa=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ft.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Ln(){if(At===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Mt===null?ft.memoizedState:Mt.next;if(t!==null)Mt=t,At=e;else{if(e===null)throw Error(W(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Mt===null?ft.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function ba(e,t){return typeof t=="function"?t(e):t}function Dd(e){var t=Ln(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=At,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((es&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,ft.lanes|=d,ts|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Qn(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ft.lanes|=s,ts|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ad(e){var t=Ln(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Qn(s,t.memoizedState)||(cn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fS(){}function hS(e,t){var n=ft,r=Ln(),o=t(),s=!Qn(r.memoizedState,o);if(s&&(r.memoizedState=o,cn=!0),r=r.queue,Wp(gS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Ca(9,mS.bind(null,n,r,o,t),void 0,null),It===null)throw Error(W(349));es&30||pS(n,t,o)}return o}function pS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mS(e,t,n,r){t.value=n,t.getSnapshot=r,yS(t)&&vS(e)}function gS(e,t,n){return n(function(){yS(t)&&vS(e)})}function yS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch{return!0}}function vS(e){var t=Lr(e,1);t!==null&&Kn(t,e,1,-1)}function Ky(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=hR.bind(null,ft,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wS(){return Ln().memoizedState}function Jl(e,t,n,r){var o=or();ft.flags|=e,o.memoizedState=Ca(1|t,n,void 0,r===void 0?null:r)}function mu(e,t,n,r){var o=Ln();r=r===void 0?null:r;var s=void 0;if(At!==null){var i=At.memoizedState;if(s=i.destroy,r!==null&&Bp(r,i.deps)){o.memoizedState=Ca(t,n,s,r);return}}ft.flags|=e,o.memoizedState=Ca(1|t,n,s,r)}function Yy(e,t){return Jl(8390656,8,e,t)}function Wp(e,t){return mu(2048,8,e,t)}function xS(e,t){return mu(4,2,e,t)}function SS(e,t){return mu(4,4,e,t)}function bS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CS(e,t,n){return n=n!=null?n.concat([e]):null,mu(4,4,bS.bind(null,t,e),n)}function Hp(){}function ES(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kS(e,t,n){return es&21?(Qn(n,t)||(n=Mx(),ft.lanes|=n,ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function dR(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=Td.transition;Td.transition={};try{e(!1),t()}finally{Ke=n,Td.transition=r}}function TS(){return Ln().memoizedState}function fR(e,t,n){var r=go(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DS(e))AS(t,n);else if(n=cS(e,t,n,r),n!==null){var o=nn();Kn(n,e,r,o),RS(n,t,r)}}function hR(e,t,n){var r=go(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DS(e))AS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Qn(a,i)){var l=t.interleaved;l===null?(o.next=o,jp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=cS(e,t,o,r),n!==null&&(o=nn(),Kn(n,e,r,o),RS(n,t,r))}}function DS(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function AS(e,t){Zi=Mc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function RS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cp(e,n)}}var Ic={readContext:Nn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},pR={readContext:Nn,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Yy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jl(4194308,4,bS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jl(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fR.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:Ky,useDebugValue:Hp,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=Ky(!1),t=e[0];return e=dR.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,o=or();if(ot){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),It===null)throw Error(W(349));es&30||pS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Yy(gS.bind(null,r,s,e),[e]),r.flags|=2048,Ca(9,mS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=or(),t=It.identifierPrefix;if(ot){var n=Dr,r=Tr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mR={readContext:Nn,useCallback:ES,useContext:Nn,useEffect:Wp,useImperativeHandle:CS,useInsertionEffect:xS,useLayoutEffect:SS,useMemo:PS,useReducer:Dd,useRef:wS,useState:function(){return Dd(ba)},useDebugValue:Hp,useDeferredValue:function(e){var t=Ln();return kS(t,At.memoizedState,e)},useTransition:function(){var e=Dd(ba)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:hS,useId:TS,unstable_isNewReconciler:!1},gR={readContext:Nn,useCallback:ES,useContext:Nn,useEffect:Wp,useImperativeHandle:CS,useInsertionEffect:xS,useLayoutEffect:SS,useMemo:PS,useReducer:Ad,useRef:wS,useState:function(){return Ad(ba)},useDebugValue:Hp,useDeferredValue:function(e){var t=Ln();return At===null?t.memoizedState=e:kS(t,At.memoizedState,e)},useTransition:function(){var e=Ad(ba)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:hS,useId:TS,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gu={isMounted:function(e){return(e=e._reactInternals)?ls(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nn(),o=go(e),s=Rr(r,o);s.payload=t,n!=null&&(s.callback=n),t=po(e,s,o),t!==null&&(Kn(t,e,o,r),Xl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nn(),o=go(e),s=Rr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=po(e,s,o),t!==null&&(Kn(t,e,o,r),Xl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),r=go(e),o=Rr(n,r);o.tag=2,t!=null&&(o.callback=t),t=po(e,o,r),t!==null&&(Kn(t,e,r,n),Xl(t,e,r))}};function Qy(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ma(n,r)||!ma(o,s):!0}function MS(e,t,n){var r=!1,o=bo,s=t.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(o=dn(t)?Zo:Qt.current,r=t.contextTypes,s=(r=r!=null)?ri(e,o):bo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Xy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gu.enqueueReplaceState(t,t.state,null)}function oh(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Op(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Nn(s):(s=dn(t)?Zo:Qt.current,o.context=ri(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rh(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&gu.enqueueReplaceState(o,o.state,null),Ac(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t){try{var n="",r=t;do n+=qD(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Rd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yR=typeof WeakMap=="function"?WeakMap:Map;function IS(e,t,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nc||(Nc=!0,mh=r),sh(e,t)},n}function _S(e,t,n){n=Rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){sh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sh(e,t),typeof r!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Zy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=MR.bind(null,e,t,n),t.then(e,e))}function Jy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ev(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rr(-1,1),t.tag=2,po(n,t,1))),n.lanes|=1),e)}var vR=Vr.ReactCurrentOwner,cn=!1;function en(e,t,n,r){t.child=e===null?lS(t,null,n,r):si(t,e.child,n,r)}function tv(e,t,n,r,o){n=n.render;var s=t.ref;return $s(t,o),r=zp(e,t,n,r,s,o),n=qp(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fr(e,t,o)):(ot&&n&&Mp(t),t.flags|=1,en(e,t,r,o),t.child)}function nv(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!em(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,NS(e,t,s,r,o)):(e=rc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ma,n(i,r)&&e.ref===t.ref)return Fr(e,t,o)}return t.flags|=1,e=yo(s,r),e.ref=t.ref,e.return=t,t.child=e}function NS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ma(s,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,Fr(e,t,o)}return ih(e,t,n,r,o)}function LS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ds,gn),gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Ds,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(Ds,gn),gn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ze(Ds,gn),gn|=r;return en(e,t,o,n),t.child}function FS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ih(e,t,n,r,o){var s=dn(n)?Zo:Qt.current;return s=ri(t,s),$s(t,o),n=zp(e,t,n,r,s,o),r=qp(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fr(e,t,o)):(ot&&r&&Mp(t),t.flags|=1,en(e,t,n,o),t.child)}function rv(e,t,n,r,o){if(dn(n)){var s=!0;Ec(t)}else s=!1;if($s(t,o),t.stateNode===null)ec(e,t),MS(t,n,r),oh(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=dn(n)?Zo:Qt.current,c=ri(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Xy(t,i,r,c),Zr=!1;var h=t.memoizedState;i.state=h,Ac(t,r,i,o),l=t.memoizedState,a!==r||h!==l||un.current||Zr?(typeof d=="function"&&(rh(t,n,d,r),l=t.memoizedState),(a=Zr||Qy(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,uS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Bn(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=dn(n)?Zo:Qt.current,l=ri(t,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Xy(t,i,r,l),Zr=!1,h=t.memoizedState,i.state=h,Ac(t,r,i,o);var y=t.memoizedState;a!==u||h!==y||un.current||Zr?(typeof v=="function"&&(rh(t,n,v,r),y=t.memoizedState),(c=Zr||Qy(t,n,c,r,h,y,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ah(e,t,n,r,s,o)}function ah(e,t,n,r,o,s){FS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&By(t,n,!1),Fr(e,t,s);r=t.stateNode,vR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=si(t,e.child,null,s),t.child=si(t,null,a,s)):en(e,t,a,s),t.memoizedState=r.state,o&&By(t,n,!0),t.child}function jS(e){var t=e.stateNode;t.pendingContext?Vy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vy(e,t.context,!1),$p(e,t.containerInfo)}function ov(e,t,n,r,o){return oi(),_p(o),t.flags|=256,en(e,t,n,r),t.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(e){return{baseLanes:e,cachePool:null,transitions:null}}function OS(e,t,n){var r=t.pendingProps,o=lt.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ze(lt,o&1),e===null)return th(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=wu(i,r,0,null),e=Ko(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ch(n),t.memoizedState=lh,e):Gp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return wR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=yo(a,s):(s=Ko(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ch(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=lh,r}return s=e.child,e=s.sibling,r=yo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gp(e,t){return t=wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cl(e,t,n,r){return r!==null&&_p(r),si(t,e.child,null,n),e=Gp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Rd(Error(W(422))),Cl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=wu({mode:"visible",children:r.children},o,0,null),s=Ko(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&si(t,e.child,null,i),t.child.memoizedState=ch(i),t.memoizedState=lh,s);if(!(t.mode&1))return Cl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Rd(s,r,void 0),Cl(e,t,i,r)}if(a=(i&e.childLanes)!==0,cn||a){if(r=It,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Lr(e,o),Kn(r,e,o,-1))}return Jp(),r=Rd(Error(W(421))),Cl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=IR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,vn=ho(o.nextSibling),wn=t,ot=!0,Hn=null,e!==null&&(An[Rn++]=Tr,An[Rn++]=Dr,An[Rn++]=Jo,Tr=e.id,Dr=e.overflow,Jo=t),t=Gp(t,r.children),t.flags|=4096,t)}function sv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nh(e.return,t,n)}function Md(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function $S(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(en(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sv(e,n,t);else if(e.tag===19)sv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ze(lt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Rc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Md(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Rc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Md(t,!0,n,null,s);break;case"together":Md(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ec(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=yo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xR(e,t,n){switch(t.tag){case 3:jS(t),oi();break;case 5:dS(t);break;case 1:dn(t.type)&&Ec(t);break;case 4:$p(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ze(Tc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ze(lt,lt.current&1),t.flags|=128,null):n&t.child.childLanes?OS(e,t,n):(Ze(lt,lt.current&1),e=Fr(e,t,n),e!==null?e.sibling:null);Ze(lt,lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $S(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ze(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,LS(e,t,n)}return Fr(e,t,n)}var US,uh,VS,BS;US=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uh=function(){};VS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Vo(hr.current);var s=null;switch(n){case"input":o=If(e,o),r=If(e,r),s=[];break;case"select":o=ht({},o,{value:void 0}),r=ht({},r,{value:void 0}),s=[];break;case"textarea":o=Lf(e,o),r=Lf(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bc)}jf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(la.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(la.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};BS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ii(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SR(e,t,n){var r=t.pendingProps;switch(Ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return dn(t.type)&&Cc(),zt(t),null;case 3:return r=t.stateNode,ii(),rt(un),rt(Qt),Vp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(vh(Hn),Hn=null))),uh(e,t),zt(t),null;case 5:Up(t);var o=Vo(xa.current);if(n=t.type,e!==null&&t.stateNode!=null)VS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return zt(t),null}if(e=Vo(hr.current),Sl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cr]=t,r[va]=s,e=(t.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(o=0;o<Bi.length;o++)nt(Bi[o],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":py(r,s),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nt("invalid",r);break;case"textarea":gy(r,s),nt("invalid",r)}jf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xl(r.textContent,a,e),o=["children",""+a]):la.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&nt("scroll",r)}switch(n){case"input":fl(r),my(r,s,!0);break;case"textarea":fl(r),yy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[cr]=t,e[va]=r,US(e,t,!1,!1),t.stateNode=e;e:{switch(i=Of(n,r),n){case"dialog":nt("cancel",e),nt("close",e),o=r;break;case"iframe":case"object":case"embed":nt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Bi.length;o++)nt(Bi[o],e);o=r;break;case"source":nt("error",e),o=r;break;case"img":case"image":case"link":nt("error",e),nt("load",e),o=r;break;case"details":nt("toggle",e),o=r;break;case"input":py(e,r),o=If(e,r),nt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ht({},r,{value:void 0}),nt("invalid",e);break;case"textarea":gy(e,r),o=Lf(e,r),nt("invalid",e);break;default:o=r}jf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ca(e,l):typeof l=="number"&&ca(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(la.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",e):l!=null&&yp(e,s,l,i))}switch(n){case"input":fl(e),my(e,r,!1);break;case"textarea":fl(e),yy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+So(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ls(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)BS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Vo(xa.current),Vo(hr.current),Sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[cr]=t,(s=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:xl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=t,t.stateNode=r}return zt(t),null;case 13:if(rt(lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&vn!==null&&t.mode&1&&!(t.flags&128))iS(),oi(),t.flags|=98560,s=!1;else if(s=Sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[cr]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),s=!1}else Hn!==null&&(vh(Hn),Hn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Rt===0&&(Rt=3):Jp())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return ii(),uh(e,t),e===null&&ga(t.stateNode.containerInfo),zt(t),null;case 10:return Fp(t.type._context),zt(t),null;case 17:return dn(t.type)&&Cc(),zt(t),null;case 19:if(rt(lt),s=t.memoizedState,s===null)return zt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Ii(s,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rc(e),i!==null){for(t.flags|=128,Ii(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(lt,lt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Et()>li&&(t.flags|=128,r=!0,Ii(s,!1),t.lanes=4194304)}else{if(!r)if(e=Rc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ii(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ot)return zt(t),null}else 2*Et()-s.renderingStartTime>li&&n!==1073741824&&(t.flags|=128,r=!0,Ii(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Et(),t.sibling=null,n=lt.current,Ze(lt,r?n&1|2:n&1),t):(zt(t),null);case 22:case 23:return Zp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function bR(e,t){switch(Ip(t),t.tag){case 1:return dn(t.type)&&Cc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),rt(un),rt(Qt),Vp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Up(t),null;case 13:if(rt(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(lt),null;case 4:return ii(),null;case 10:return Fp(t.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var El=!1,Ht=!1,CR=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(e,t,r)}else n.current=null}function dh(e,t,n){try{n()}catch(r){xt(e,t,r)}}var iv=!1;function ER(e,t){if(Kf=wc,e=Gx(),Rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var v;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(v=u.firstChild)!==null;)h=u,u=v;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(v=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yf={focusedElem:e,selectionRange:n},wc=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Bn(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){xt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return y=iv,iv=!1,y}function Ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&dh(t,n,s)}o=o.next}while(o!==r)}}function yu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zS(e){var t=e.alternate;t!==null&&(e.alternate=null,zS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[va],delete t[Zf],delete t[iR],delete t[aR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qS(e){return e.tag===5||e.tag===3||e.tag===4}function av(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bc));else if(r!==4&&(e=e.child,e!==null))for(hh(e,t,n),e=e.sibling;e!==null;)hh(e,t,n),e=e.sibling}function ph(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ph(e,t,n),e=e.sibling;e!==null;)ph(e,t,n),e=e.sibling}var Lt=null,Wn=!1;function qr(e,t,n){for(n=n.child;n!==null;)WS(e,t,n),n=n.sibling}function WS(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(cu,n)}catch{}switch(n.tag){case 5:Ht||Ts(n,t);case 6:var r=Lt,o=Wn;Lt=null,qr(e,t,n),Lt=r,Wn=o,Lt!==null&&(Wn?(e=Lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Wn?(e=Lt,n=n.stateNode,e.nodeType===8?Ed(e.parentNode,n):e.nodeType===1&&Ed(e,n),ha(e)):Ed(Lt,n.stateNode));break;case 4:r=Lt,o=Wn,Lt=n.stateNode.containerInfo,Wn=!0,qr(e,t,n),Lt=r,Wn=o;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&dh(n,t,i),o=o.next}while(o!==r)}qr(e,t,n);break;case 1:if(!Ht&&(Ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,t,a)}qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,qr(e,t,n),Ht=r):qr(e,t,n);break;default:qr(e,t,n)}}function lv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CR),t.forEach(function(r){var o=_R.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Wn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Wn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Lt===null)throw Error(W(160));WS(s,i,o),Lt=null,Wn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){xt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HS(t,e),t=t.sibling}function HS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),rr(e),r&4){try{Ji(3,e,e.return),yu(3,e)}catch(x){xt(e,e.return,x)}try{Ji(5,e,e.return)}catch(x){xt(e,e.return,x)}}break;case 1:$n(t,e),rr(e),r&512&&n!==null&&Ts(n,n.return);break;case 5:if($n(t,e),rr(e),r&512&&n!==null&&Ts(n,n.return),e.flags&32){var o=e.stateNode;try{ca(o,"")}catch(x){xt(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&px(o,s),Of(a,i);var c=Of(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?wx(o,u):d==="dangerouslySetInnerHTML"?yx(o,u):d==="children"?ca(o,u):yp(o,d,u,c)}switch(a){case"input":_f(o,s);break;case"textarea":mx(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ls(o,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ls(o,!!s.multiple,s.defaultValue,!0):Ls(o,!!s.multiple,s.multiple?[]:"",!1))}o[va]=s}catch(x){xt(e,e.return,x)}}break;case 6:if($n(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){xt(e,e.return,x)}}break;case 3:if($n(t,e),rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(x){xt(e,e.return,x)}break;case 4:$n(t,e),rr(e);break;case 13:$n(t,e),rr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Qp=Et())),r&4&&lv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ht=(c=Ht)||d,$n(t,e),Ht=c):$n(t,e),rr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(le=e,d=e.child;d!==null;){for(u=le=d;le!==null;){switch(h=le,v=h.child,h.tag){case 0:case 11:case 14:case 15:Ji(4,h,h.return);break;case 1:Ts(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){xt(r,n,x)}}break;case 5:Ts(h,h.return);break;case 22:if(h.memoizedState!==null){uv(u);continue}}v!==null?(v.return=h,le=v):uv(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vx("display",i))}catch(x){xt(e,e.return,x)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(x){xt(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:$n(t,e),rr(e),r&4&&lv(e);break;case 21:break;default:$n(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ca(o,""),r.flags&=-33);var s=av(e);ph(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=av(e);hh(e,a,i);break;default:throw Error(W(161))}}catch(l){xt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PR(e,t,n){le=e,GS(e)}function GS(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var o=le,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||El;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=El;var c=Ht;if(El=i,(Ht=l)&&!c)for(le=o;le!==null;)i=le,l=i.child,i.tag===22&&i.memoizedState!==null?dv(o):l!==null?(l.return=i,le=l):dv(o);for(;s!==null;)le=s,GS(s),s=s.sibling;le=o,El=a,Ht=c}cv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,le=s):cv(e)}}function cv(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ht||yu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Bn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Gy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&ha(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ht||t.flags&512&&fh(t)}catch(h){xt(t,t.return,h)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function uv(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function dv(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yu(4,t)}catch(l){xt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){xt(t,o,l)}}var s=t.return;try{fh(t)}catch(l){xt(t,s,l)}break;case 5:var i=t.return;try{fh(t)}catch(l){xt(t,i,l)}}}catch(l){xt(t,t.return,l)}if(t===e){le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,le=a;break}le=t.return}}var kR=Math.ceil,_c=Vr.ReactCurrentDispatcher,Kp=Vr.ReactCurrentOwner,In=Vr.ReactCurrentBatchConfig,Oe=0,It=null,Dt=null,jt=0,gn=0,Ds=Ao(0),Rt=0,Ea=null,ts=0,vu=0,Yp=0,ea=null,an=null,Qp=0,li=1/0,Pr=null,Nc=!1,mh=null,mo=null,Pl=!1,ao=null,Lc=0,ta=0,gh=null,tc=-1,nc=0;function nn(){return Oe&6?Et():tc!==-1?tc:tc=Et()}function go(e){return e.mode&1?Oe&2&&jt!==0?jt&-jt:cR.transition!==null?(nc===0&&(nc=Mx()),nc):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:Ox(e.type)),e):1}function Kn(e,t,n,r){if(50<ta)throw ta=0,gh=null,Error(W(185));qa(e,n,r),(!(Oe&2)||e!==It)&&(e===It&&(!(Oe&2)&&(vu|=n),Rt===4&&eo(e,jt)),fn(e,r),n===1&&Oe===0&&!(t.mode&1)&&(li=Et()+500,pu&&Ro()))}function fn(e,t){var n=e.callbackNode;cA(e,t);var r=vc(e,e===It?jt:0);if(r===0)n!==null&&xy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xy(n),t===1)e.tag===0?lR(fv.bind(null,e)):rS(fv.bind(null,e)),oR(function(){!(Oe&6)&&Ro()}),n=null;else{switch(Ix(r)){case 1:n=bp;break;case 4:n=Ax;break;case 16:n=yc;break;case 536870912:n=Rx;break;default:n=yc}n=tb(n,KS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KS(e,t){if(tc=-1,nc=0,Oe&6)throw Error(W(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=vc(e,e===It?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fc(e,r);else{t=r;var o=Oe;Oe|=2;var s=QS();(It!==e||jt!==t)&&(Pr=null,li=Et()+500,Go(e,t));do try{AR();break}catch(a){YS(e,a)}while(!0);Lp(),_c.current=s,Oe=o,Dt!==null?t=0:(It=null,jt=0,t=Rt)}if(t!==0){if(t===2&&(o=zf(e),o!==0&&(r=o,t=yh(e,o))),t===1)throw n=Ea,Go(e,0),eo(e,r),fn(e,Et()),n;if(t===6)eo(e,r);else{if(o=e.current.alternate,!(r&30)&&!TR(o)&&(t=Fc(e,r),t===2&&(s=zf(e),s!==0&&(r=s,t=yh(e,s))),t===1))throw n=Ea,Go(e,0),eo(e,r),fn(e,Et()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Fo(e,an,Pr);break;case 3:if(eo(e,r),(r&130023424)===r&&(t=Qp+500-Et(),10<t)){if(vc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Xf(Fo.bind(null,e,an,Pr),t);break}Fo(e,an,Pr);break;case 4:if(eo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Gn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kR(r/1960))-r,10<r){e.timeoutHandle=Xf(Fo.bind(null,e,an,Pr),r);break}Fo(e,an,Pr);break;case 5:Fo(e,an,Pr);break;default:throw Error(W(329))}}}return fn(e,Et()),e.callbackNode===n?KS.bind(null,e):null}function yh(e,t){var n=ea;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Fc(e,t),e!==2&&(t=an,an=n,t!==null&&vh(t)),e}function vh(e){an===null?an=e:an.push.apply(an,e)}function TR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Qn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eo(e,t){for(t&=~Yp,t&=~vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gn(t),r=1<<n;e[n]=-1,t&=~r}}function fv(e){if(Oe&6)throw Error(W(327));Us();var t=vc(e,0);if(!(t&1))return fn(e,Et()),null;var n=Fc(e,t);if(e.tag!==0&&n===2){var r=zf(e);r!==0&&(t=r,n=yh(e,r))}if(n===1)throw n=Ea,Go(e,0),eo(e,t),fn(e,Et()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fo(e,an,Pr),fn(e,Et()),null}function Xp(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(li=Et()+500,pu&&Ro())}}function ns(e){ao!==null&&ao.tag===0&&!(Oe&6)&&Us();var t=Oe;Oe|=1;var n=In.transition,r=Ke;try{if(In.transition=null,Ke=1,e)return e()}finally{Ke=r,In.transition=n,Oe=t,!(Oe&6)&&Ro()}}function Zp(){gn=Ds.current,rt(Ds)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rR(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(Ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cc();break;case 3:ii(),rt(un),rt(Qt),Vp();break;case 5:Up(r);break;case 4:ii();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Fp(r.type._context);break;case 22:case 23:Zp()}n=n.return}if(It=e,Dt=e=yo(e.current,null),jt=gn=t,Rt=0,Ea=null,Yp=vu=ts=0,an=ea=null,Uo!==null){for(t=0;t<Uo.length;t++)if(n=Uo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Uo=null}return e}function YS(e,t){do{var n=Dt;try{if(Lp(),Zl.current=Ic,Mc){for(var r=ft.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Mc=!1}if(es=0,Mt=At=ft=null,Zi=!1,Sa=0,Kp.current=null,n===null||n.return===null){Rt=1,Ea=t,Dt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Jy(i);if(v!==null){v.flags&=-257,ev(v,i,a,s,t),v.mode&1&&Zy(s,c,t),t=v,l=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Zy(s,c,t),Jp();break e}l=Error(W(426))}}else if(ot&&a.mode&1){var b=Jy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ev(b,i,a,s,t),_p(ai(l,a));break e}}s=l=ai(l,a),Rt!==4&&(Rt=2),ea===null?ea=[s]:ea.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=IS(s,l,t);Hy(s,m);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(mo===null||!mo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=_S(s,a,t);Hy(s,C);break e}}s=s.return}while(s!==null)}ZS(n)}catch(E){t=E,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function QS(){var e=_c.current;return _c.current=Ic,e===null?Ic:e}function Jp(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),It===null||!(ts&268435455)&&!(vu&268435455)||eo(It,jt)}function Fc(e,t){var n=Oe;Oe|=2;var r=QS();(It!==e||jt!==t)&&(Pr=null,Go(e,t));do try{DR();break}catch(o){YS(e,o)}while(!0);if(Lp(),Oe=n,_c.current=r,Dt!==null)throw Error(W(261));return It=null,jt=0,Rt}function DR(){for(;Dt!==null;)XS(Dt)}function AR(){for(;Dt!==null&&!eA();)XS(Dt)}function XS(e){var t=eb(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?ZS(e):Dt=t,Kp.current=null}function ZS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bR(n,t),n!==null){n.flags&=32767,Dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Dt=null;return}}else if(n=SR(n,t,gn),n!==null){Dt=n;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Fo(e,t,n){var r=Ke,o=In.transition;try{In.transition=null,Ke=1,RR(e,t,n,r)}finally{In.transition=o,Ke=r}return null}function RR(e,t,n,r){do Us();while(ao!==null);if(Oe&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(uA(e,s),e===It&&(Dt=It=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pl||(Pl=!0,tb(yc,function(){return Us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var i=Ke;Ke=1;var a=Oe;Oe|=4,Kp.current=null,ER(e,n),HS(n,e),QA(Yf),wc=!!Kf,Yf=Kf=null,e.current=n,PR(n),tA(),Oe=a,Ke=i,In.transition=s}else e.current=n;if(Pl&&(Pl=!1,ao=e,Lc=o),s=e.pendingLanes,s===0&&(mo=null),oA(n.stateNode),fn(e,Et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Nc)throw Nc=!1,e=mh,mh=null,e;return Lc&1&&e.tag!==0&&Us(),s=e.pendingLanes,s&1?e===gh?ta++:(ta=0,gh=e):ta=0,Ro(),null}function Us(){if(ao!==null){var e=Ix(Lc),t=In.transition,n=Ke;try{if(In.transition=null,Ke=16>e?16:e,ao===null)var r=!1;else{if(e=ao,ao=null,Lc=0,Oe&6)throw Error(W(331));var o=Oe;for(Oe|=4,le=e.current;le!==null;){var s=le,i=s.child;if(le.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Ji(8,d,s)}var u=d.child;if(u!==null)u.return=d,le=u;else for(;le!==null;){d=le;var h=d.sibling,v=d.return;if(zS(d),d===c){le=null;break}if(h!==null){h.return=v,le=h;break}le=v}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}le=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,le=i;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ji(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,le=m;break e}le=s.return}}var w=e.current;for(le=w;le!==null;){i=le;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,le=S;else e:for(i=w;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yu(9,a)}}catch(E){xt(a,a.return,E)}if(a===i){le=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,le=C;break e}le=a.return}}if(Oe=o,Ro(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(cu,e)}catch{}r=!0}return r}finally{Ke=n,In.transition=t}}return!1}function hv(e,t,n){t=ai(n,t),t=IS(e,t,1),e=po(e,t,1),t=nn(),e!==null&&(qa(e,1,t),fn(e,t))}function xt(e,t,n){if(e.tag===3)hv(e,e,n);else for(;t!==null;){if(t.tag===3){hv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mo===null||!mo.has(r))){e=ai(n,e),e=_S(t,e,1),t=po(t,e,1),e=nn(),t!==null&&(qa(t,1,e),fn(t,e));break}}t=t.return}}function MR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,It===e&&(jt&n)===n&&(Rt===4||Rt===3&&(jt&130023424)===jt&&500>Et()-Qp?Go(e,0):Yp|=n),fn(e,t)}function JS(e,t){t===0&&(e.mode&1?(t=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):t=1);var n=nn();e=Lr(e,t),e!==null&&(qa(e,t,n),fn(e,n))}function IR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),JS(e,n)}function _R(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),JS(e,n)}var eb;eb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,xR(e,t,n);cn=!!(e.flags&131072)}else cn=!1,ot&&t.flags&1048576&&oS(t,kc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ec(e,t),e=t.pendingProps;var o=ri(t,Qt.current);$s(t,n),o=zp(null,t,r,e,o,n);var s=qp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(s=!0,Ec(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Op(t),o.updater=gu,t.stateNode=o,o._reactInternals=t,oh(t,r,e,n),t=ah(null,t,r,!0,s,n)):(t.tag=0,ot&&s&&Mp(t),en(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ec(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=LR(r),e=Bn(r,e),o){case 0:t=ih(null,t,r,e,n);break e;case 1:t=rv(null,t,r,e,n);break e;case 11:t=tv(null,t,r,e,n);break e;case 14:t=nv(null,t,r,Bn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),ih(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),rv(e,t,r,o,n);case 3:e:{if(jS(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,uS(e,t),Ac(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ai(Error(W(423)),t),t=ov(e,t,r,n,o);break e}else if(r!==o){o=ai(Error(W(424)),t),t=ov(e,t,r,n,o);break e}else for(vn=ho(t.stateNode.containerInfo.firstChild),wn=t,ot=!0,Hn=null,n=lS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),r===o){t=Fr(e,t,n);break e}en(e,t,r,n)}t=t.child}return t;case 5:return dS(t),e===null&&th(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Qf(r,o)?i=null:s!==null&&Qf(r,s)&&(t.flags|=32),FS(e,t),en(e,t,i,n),t.child;case 6:return e===null&&th(t),null;case 13:return OS(e,t,n);case 4:return $p(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=si(t,null,r,n):en(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),tv(e,t,r,o,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Ze(Tc,r._currentValue),r._currentValue=i,s!==null)if(Qn(s.value,i)){if(s.children===o.children&&!un.current){t=Fr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),nh(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}en(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$s(t,n),o=Nn(o),r=r(o),t.flags|=1,en(e,t,r,n),t.child;case 14:return r=t.type,o=Bn(r,t.pendingProps),o=Bn(r.type,o),nv(e,t,r,o,n);case 15:return NS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Bn(r,o),ec(e,t),t.tag=1,dn(r)?(e=!0,Ec(t)):e=!1,$s(t,n),MS(t,r,o),oh(t,r,o,n),ah(null,t,r,!0,e,n);case 19:return $S(e,t,n);case 22:return LS(e,t,n)}throw Error(W(156,t.tag))};function tb(e,t){return Dx(e,t)}function NR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new NR(e,t,n,r)}function em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LR(e){if(typeof e=="function")return em(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wp)return 11;if(e===xp)return 14}return 2}function yo(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rc(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")em(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vs:return Ko(n.children,o,s,t);case vp:i=8,o|=8;break;case Df:return e=Mn(12,n,t,o|2),e.elementType=Df,e.lanes=s,e;case Af:return e=Mn(13,n,t,o),e.elementType=Af,e.lanes=s,e;case Rf:return e=Mn(19,n,t,o),e.elementType=Rf,e.lanes=s,e;case dx:return wu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cx:i=10;break e;case ux:i=9;break e;case wp:i=11;break e;case xp:i=14;break e;case Xr:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Mn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Ko(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function wu(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=dx,e.lanes=n,e.stateNode={isHidden:!1},e}function Id(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function _d(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function tm(e,t,n,r,o,s,i,a,l){return e=new FR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(s),e}function jR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nb(e){if(!e)return bo;e=e._reactInternals;e:{if(ls(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(dn(n))return nS(e,n,t)}return t}function rb(e,t,n,r,o,s,i,a,l){return e=tm(n,r,!0,e,o,s,i,a,l),e.context=nb(null),n=e.current,r=nn(),o=go(n),s=Rr(r,o),s.callback=t??null,po(n,s,o),e.current.lanes=o,qa(e,o,r),fn(e,r),e}function xu(e,t,n,r){var o=t.current,s=nn(),i=go(o);return n=nb(n),t.context===null?t.context=n:t.pendingContext=n,t=Rr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=po(o,t,i),e!==null&&(Kn(e,o,i,s),Xl(e,o,i)),i}function jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nm(e,t){pv(e,t),(e=e.alternate)&&pv(e,t)}function OR(){return null}var ob=typeof reportError=="function"?reportError:function(e){console.error(e)};function rm(e){this._internalRoot=e}Su.prototype.render=rm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));xu(e,t,null,null)};Su.prototype.unmount=rm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){xu(null,e,null,null)}),t[Nr]=null}};function Su(e){this._internalRoot=e}Su.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&jx(e)}};function om(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mv(){}function $R(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=jc(i);s.call(c)}}var i=rb(t,r,e,0,null,!1,!1,"",mv);return e._reactRootContainer=i,e[Nr]=i.current,ga(e.nodeType===8?e.parentNode:e),ns(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=jc(l);a.call(c)}}var l=tm(e,0,!1,null,null,!1,!1,"",mv);return e._reactRootContainer=l,e[Nr]=l.current,ga(e.nodeType===8?e.parentNode:e),ns(function(){xu(t,l,n,r)}),l}function Cu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=jc(i);a.call(l)}}xu(t,i,e,o)}else i=$R(n,t,e,o,r);return jc(i)}_x=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vi(t.pendingLanes);n!==0&&(Cp(t,n|1),fn(t,Et()),!(Oe&6)&&(li=Et()+500,Ro()))}break;case 13:ns(function(){var r=Lr(e,1);if(r!==null){var o=nn();Kn(r,e,1,o)}}),nm(e,1)}};Ep=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=nn();Kn(t,e,134217728,n)}nm(e,134217728)}};Nx=function(e){if(e.tag===13){var t=go(e),n=Lr(e,t);if(n!==null){var r=nn();Kn(n,e,t,r)}nm(e,t)}};Lx=function(){return Ke};Fx=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Uf=function(e,t,n){switch(t){case"input":if(_f(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=hu(r);if(!o)throw Error(W(90));hx(r),_f(r,o)}}}break;case"textarea":mx(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}};bx=Xp;Cx=ns;var UR={usingClientEntryPoint:!1,Events:[Ha,bs,hu,xx,Sx,Xp]},_i={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VR={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kx(e),e===null?null:e.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||OR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{cu=kl.inject(VR),fr=kl}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(t))throw Error(W(200));return jR(e,t,null,n)};Cn.createRoot=function(e,t){if(!om(e))throw Error(W(299));var n=!1,r="",o=ob;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=tm(e,1,!1,null,null,n,!1,r,o),e[Nr]=t.current,ga(e.nodeType===8?e.parentNode:e),new rm(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=kx(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return ns(e)};Cn.hydrate=function(e,t,n){if(!bu(t))throw Error(W(200));return Cu(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!om(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=ob;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=rb(t,null,e,1,n??null,o,!1,s,i),e[Nr]=t.current,ga(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Su(t)};Cn.render=function(e,t,n){if(!bu(t))throw Error(W(200));return Cu(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!bu(e))throw Error(W(40));return e._reactRootContainer?(ns(function(){Cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Xp;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bu(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Cu(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function sb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sb)}catch(e){console.error(e)}}sb(),sx.exports=Cn;var Ka=sx.exports;const BR=up(Ka);var ib,gv=Ka;ib=gv.createRoot,gv.hydrateRoot;function zR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var ab={exports:{}},lb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=f;function qR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WR=typeof Object.is=="function"?Object.is:qR,HR=ci.useState,GR=ci.useEffect,KR=ci.useLayoutEffect,YR=ci.useDebugValue;function QR(e,t){var n=t(),r=HR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return KR(function(){o.value=n,o.getSnapshot=t,Nd(o)&&s({inst:o})},[e,n,t]),GR(function(){return Nd(o)&&s({inst:o}),e(function(){Nd(o)&&s({inst:o})})},[e]),YR(n),n}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WR(e,n)}catch{return!0}}function XR(e,t){return t()}var ZR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XR:QR;lb.useSyncExternalStore=ci.useSyncExternalStore!==void 0?ci.useSyncExternalStore:ZR;ab.exports=lb;var JR=ab.exports;const eM=rx.useInsertionEffect,tM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nM=tM?f.useLayoutEffect:f.useEffect,rM=eM||nM,cb=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return rM(()=>{t[0]=e}),t[1]},oM="popstate",sm="pushState",im="replaceState",sM="hashchange",yv=[oM,sm,im,sM],iM=e=>{for(const t of yv)addEventListener(t,e);return()=>{for(const t of yv)removeEventListener(t,e)}},ub=(e,t)=>JR.useSyncExternalStore(iM,e,t),aM=()=>location.search,lM=({ssrSearch:e=""}={})=>ub(aM,()=>e),vv=()=>location.pathname,cM=({ssrPath:e}={})=>ub(vv,e?()=>e:vv),uM=(e,{replace:t=!1,state:n=null}={})=>history[t?im:sm](n,"",e),dM=(e={})=>[cM(e),uM],wv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[wv]>"u"){for(const e of[sm,im]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,wv,{value:!0})}const fM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",db=(e="")=>e==="/"?"":e,hM=(e,t)=>e[0]==="~"?e.slice(1):db(t)+e,pM=(e="",t)=>fM(xv(db(e)),xv(t)),xv=e=>{try{return decodeURI(e)}catch{return e}},fb={hook:dM,searchHook:lM,parser:zR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},hb=f.createContext(fb),Ya=()=>f.useContext(hb),pb={},mb=f.createContext(pb),mM=()=>f.useContext(mb),Eu=e=>{const[t,n]=e.hook(e);return[pM(e.base,t),cb((r,o)=>n(hM(r,e.base),o))]},am=()=>Eu(Ya()),gb=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},yb=({children:e,...t})=>{var d,u;const n=Ya(),r=t.hook?fb:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const v=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&v!==c[h]&&(a.current=c={...c}),c[h]=v,v!==r[h]&&(o=c)}return f.createElement(hb.Provider,{value:o,children:e})},Sv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,gM=e=>{let t=f.useRef(pb),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Tl=({path:e,nest:t,match:n,...r})=>{const o=Ya(),[s]=Eu(o),[i,a,l]=n??gb(o.parser,e,s,t),c=gM({...mM(),...a});if(!i)return null;const d=l?f.createElement(yb,{base:l},Sv(r,c)):Sv(r,c);return f.createElement(mb.Provider,{value:c,children:d})},yM=f.forwardRef((e,t)=>{const n=Ya(),[r,o]=Eu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...v}=e,y=cb(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),x=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:y,href:x}):f.createElement("a",{...v,onClick:y,href:x,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),vb=e=>Array.isArray(e)?e.flatMap(t=>vb(t&&t.type===f.Fragment?t.props.children:t)):[e],vM=({children:e,location:t})=>{const n=Ya(),[r]=Eu(n);for(const o of vb(e)){let s=0;if(f.isValidElement(o)&&(s=gb(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null};var Pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ku=typeof window>"u"||"Deno"in globalThis;function zn(){}function wM(e,t){return typeof e=="function"?e(t):e}function xM(e){return typeof e=="number"&&e>=0&&e!==1/0}function SM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bv(e,t){return typeof e=="function"?e(t):e}function bM(e,t){return typeof e=="function"?e(t):e}function Cv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==lm(i,t.options))return!1}else if(!ka(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function Ev(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Pa(t.options.mutationKey)!==Pa(s))return!1}else if(!ka(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function lm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pa)(e)}function Pa(e){return JSON.stringify(e,(t,n)=>wh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function ka(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ka(e[n],t[n])):!1}function wb(e,t){if(e===t)return e;const n=Pv(e)&&Pv(t);if(n||wh(e)&&wh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=wb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function Pv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wh(e){if(!kv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!kv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kv(e){return Object.prototype.toString.call(e)==="[object Object]"}function CM(e){return new Promise(t=>{setTimeout(t,e)})}function EM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wb(e,t):t}function PM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var cm=Symbol();function xb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zo,to,Gs,$0,TM=($0=class extends Pu{constructor(){super();qe(this,zo);qe(this,to);qe(this,Gs);Re(this,Gs,t=>{if(!ku&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,to)||this.setEventListener(B(this,Gs))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,to))==null||t.call(this),Re(this,to,void 0))}setEventListener(t){var n;Re(this,Gs,t),(n=B(this,to))==null||n.call(this),Re(this,to,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,zo)!==t&&(Re(this,zo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,zo)=="boolean"?B(this,zo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zo=new WeakMap,to=new WeakMap,Gs=new WeakMap,$0),Sb=new TM,Ks,no,Ys,U0,DM=(U0=class extends Pu{constructor(){super();qe(this,Ks,!0);qe(this,no);qe(this,Ys);Re(this,Ys,t=>{if(!ku&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,no)||this.setEventListener(B(this,Ys))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,no))==null||t.call(this),Re(this,no,void 0))}setEventListener(t){var n;Re(this,Ys,t),(n=B(this,no))==null||n.call(this),Re(this,no,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ks)!==t&&(Re(this,Ks,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,Ks)}},Ks=new WeakMap,no=new WeakMap,Ys=new WeakMap,U0),Oc=new DM;function AM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function RM(e){return Math.min(1e3*2**e,3e4)}function bb(e){return(e??"online")==="online"?Oc.isOnline():!0}var Cb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ld(e){return e instanceof Cb}function Eb(e){let t=!1,n=0,r=!1,o;const s=AM(),i=x=>{var b;r||(h(new Cb(x)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Sb.isFocused()&&(e.networkMode==="always"||Oc.isOnline())&&e.canRun(),d=()=>bb(e.networkMode)&&e.canRun(),u=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),o==null||o(),s.resolve(x))},h=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),o==null||o(),s.reject(x))},v=()=>new Promise(x=>{var b;o=m=>{(r||c())&&x(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(u).catch(m=>{var P;if(r)return;const w=e.retry??(ku?0:3),S=e.retryDelay??RM,C=typeof S=="function"?S(n,m):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),CM(C).then(()=>c()?void 0:v()).then(()=>{t?h(m):y()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():v().then(y),s)}}function MM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var tn=MM(),qo,V0,Pb=(V0=class{constructor(){qe(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xM(this.gcTime)&&Re(this,qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ku?1/0:5*60*1e3))}clearGcTimeout(){B(this,qo)&&(clearTimeout(B(this,qo)),Re(this,qo,void 0))}},qo=new WeakMap,V0),Qs,Xs,Dn,qt,Va,Wo,qn,Er,B0,IM=(B0=class extends Pb{constructor(t){super();qe(this,qn);qe(this,Qs);qe(this,Xs);qe(this,Dn);qe(this,qt);qe(this,Va);qe(this,Wo);Re(this,Wo,!1),Re(this,Va,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,Dn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Qs,NM(this.options)),this.state=t.state??B(this,Qs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,qt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,Va),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Dn).remove(this)}setData(t,n){const r=EM(this.state.data,t,this.options);return Vt(this,qn,Er).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Vt(this,qn,Er).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=B(this,qt))==null?void 0:r.promise;return(o=B(this,qt))==null||o.cancel(t),n?n.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Qs))}isActive(){return this.observers.some(t=>bM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!SM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,qt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,qt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,qt)&&(B(this,Wo)?B(this,qt).cancel({revert:!0}):B(this,qt).cancelRetry()),this.scheduleGc()),B(this,Dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,qn,Er).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,qt))return B(this,qt).continueRetry(),B(this,qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Re(this,Wo,!0),r.signal)})},s=()=>{const u=xb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),Re(this,Wo,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),Re(this,Xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Vt(this,qn,Er).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,v,y,x;Ld(u)&&u.silent||Vt(this,qn,Er).call(this,{type:"error",error:u}),Ld(u)||((v=(h=B(this,Dn).config).onError)==null||v.call(h,u,this),(x=(y=B(this,Dn).config).onSettled)==null||x.call(y,this.state.data,u,this)),this.scheduleGc()};return Re(this,qt,Eb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,v,y,x;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){a(b);return}(v=(h=B(this,Dn).config).onSuccess)==null||v.call(h,u,this),(x=(y=B(this,Dn).config).onSettled)==null||x.call(y,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{Vt(this,qn,Er).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Vt(this,qn,Er).call(this,{type:"pause"})},onContinue:()=>{Vt(this,qn,Er).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),B(this,qt).start()}},Qs=new WeakMap,Xs=new WeakMap,Dn=new WeakMap,qt=new WeakMap,Va=new WeakMap,Wo=new WeakMap,qn=new WeakSet,Er=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._M(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Ld(o)&&o.revert&&B(this,Xs)?{...B(this,Xs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),tn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Dn).notify({query:this,type:"updated",action:t})})},B0);function _M(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function NM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sr,z0,LM=(z0=class extends Pu{constructor(t={}){super();qe(this,sr);this.config=t,Re(this,sr,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??lm(o,n);let i=this.get(s);return i||(i=new IM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){B(this,sr).has(t.queryHash)||(B(this,sr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,sr).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,sr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,sr).get(t)}getAll(){return[...B(this,sr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Cv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Cv(t,r)):n}notify(t){tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sr=new WeakMap,z0),ir,Jt,Ho,ar,Gr,q0,FM=(q0=class extends Pb{constructor(t){super();qe(this,ar);qe(this,ir);qe(this,Jt);qe(this,Ho);this.mutationId=t.mutationId,Re(this,Jt,t.mutationCache),Re(this,ir,[]),this.state=t.state||jM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,ir).includes(t)||(B(this,ir).push(t),this.clearGcTimeout(),B(this,Jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,ir,B(this,ir).filter(n=>n!==t)),this.scheduleGc(),B(this,Jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,ir).length||(this.state.status==="pending"?this.scheduleGc():B(this,Jt).remove(this))}continue(){var t;return((t=B(this,Ho))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,v,y,x,b,m,w,S,C,E,P,T;Re(this,Ho,Eb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,A)=>{Vt(this,ar,Gr).call(this,{type:"failed",failureCount:D,error:A})},onPause:()=>{Vt(this,ar,Gr).call(this,{type:"pause"})},onContinue:()=>{Vt(this,ar,Gr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Jt).canRun(this)}));const n=this.state.status==="pending",r=!B(this,Ho).canStart();try{if(!n){Vt(this,ar,Gr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=B(this,Jt).config).onMutate)==null?void 0:s.call(o,t,this));const A=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));A!==this.state.context&&Vt(this,ar,Gr).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const D=await B(this,Ho).start();return await((c=(l=B(this,Jt).config).onSuccess)==null?void 0:c.call(l,D,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,D,t,this.state.context)),await((v=(h=B(this,Jt).config).onSettled)==null?void 0:v.call(h,D,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,D,null,t,this.state.context)),Vt(this,ar,Gr).call(this,{type:"success",data:D}),D}catch(D){try{throw await((m=(b=B(this,Jt).config).onError)==null?void 0:m.call(b,D,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,D,t,this.state.context)),await((E=(C=B(this,Jt).config).onSettled)==null?void 0:E.call(C,void 0,D,this.state.variables,this.state.context,this)),await((T=(P=this.options).onSettled)==null?void 0:T.call(P,void 0,D,t,this.state.context)),D}finally{Vt(this,ar,Gr).call(this,{type:"error",error:D})}}finally{B(this,Jt).runNext(this)}}},ir=new WeakMap,Jt=new WeakMap,Ho=new WeakMap,ar=new WeakSet,Gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tn.batch(()=>{B(this,ir).forEach(r=>{r.onMutationUpdate(t)}),B(this,Jt).notify({mutation:this,type:"updated",action:t})})},q0);function jM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mn,Ba,W0,OM=(W0=class extends Pu{constructor(t={}){super();qe(this,mn);qe(this,Ba);this.config=t,Re(this,mn,new Map),Re(this,Ba,Date.now())}build(t,n,r){const o=new FM({mutationCache:this,mutationId:++cl(this,Ba)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=Dl(t),r=B(this,mn).get(n)??[];r.push(t),B(this,mn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Dl(t);if(B(this,mn).has(n)){const o=(r=B(this,mn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?B(this,mn).delete(n):B(this,mn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,mn).get(Dl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,mn).get(Dl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,mn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ev(n,r))}findAll(t={}){return this.getAll().filter(n=>Ev(t,n))}notify(t){tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(t.map(n=>n.continue().catch(zn))))}},mn=new WeakMap,Ba=new WeakMap,W0);function Dl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Tv(e){return{onFetch:(t,n)=>{var d,u,h,v,y;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},m=xb(t.options,t.fetchOptions),w=async(S,C,E)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const T=await m(P),{maxPages:D}=t.options,A=E?kM:PM;return{pages:A(S.pages,T,D),pageParams:A(S.pageParams,C,D)}};if(o&&s.length){const S=o==="backward",C=S?$M:Dv,E={pages:s,pageParams:i},P=C(r,E);a=await w(E,P,S)}else{const S=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:Dv(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Dv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function $M(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var vt,ro,oo,Zs,Js,so,ei,ti,H0,UM=(H0=class{constructor(e={}){qe(this,vt);qe(this,ro);qe(this,oo);qe(this,Zs);qe(this,Js);qe(this,so);qe(this,ei);qe(this,ti);Re(this,vt,e.queryCache||new LM),Re(this,ro,e.mutationCache||new OM),Re(this,oo,e.defaultOptions||{}),Re(this,Zs,new Map),Re(this,Js,new Map),Re(this,so,0)}mount(){cl(this,so)._++,B(this,so)===1&&(Re(this,ei,Sb.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,vt).onFocus())})),Re(this,ti,Oc.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,vt).onOnline())})))}unmount(){var e,t;cl(this,so)._--,B(this,so)===0&&((e=B(this,ei))==null||e.call(this),Re(this,ei,void 0),(t=B(this,ti))==null||t.call(this),Re(this,ti,void 0))}isFetching(e){return B(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,ro).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,vt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(bv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=B(this,vt).get(r.queryHash),s=o==null?void 0:o.state.data,i=wM(t,s);if(i!==void 0)return B(this,vt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return tn.batch(()=>B(this,vt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,vt);tn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,vt),r={type:"active",...e};return tn.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=tn.batch(()=>B(this,vt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(e={},t={}){return tn.batch(()=>{if(B(this,vt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=tn.batch(()=>B(this,vt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(zn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,vt).build(this,t);return n.isStaleByTime(bv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zn).catch(zn)}fetchInfiniteQuery(e){return e.behavior=Tv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zn).catch(zn)}ensureInfiniteQueryData(e){return e.behavior=Tv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oc.isOnline()?B(this,ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,vt)}getMutationCache(){return B(this,ro)}getDefaultOptions(){return B(this,oo)}setDefaultOptions(e){Re(this,oo,e)}setQueryDefaults(e,t){B(this,Zs).set(Pa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Zs).values()];let n={};return t.forEach(r=>{ka(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,Js).set(Pa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Js).values()];let n={};return t.forEach(r=>{ka(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===cm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,vt).clear(),B(this,ro).clear()}},vt=new WeakMap,ro=new WeakMap,oo=new WeakMap,Zs=new WeakMap,Js=new WeakMap,so=new WeakMap,ei=new WeakMap,ti=new WeakMap,H0),VM=f.createContext(void 0),BM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(VM.Provider,{value:e,children:t}));async function zM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const qM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await zM(n),await n.json())},WM=new UM({defaultOptions:{queries:{queryFn:qM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),HM=1,GM=1e6;let Fd=0;function KM(){return Fd=(Fd+1)%Number.MAX_SAFE_INTEGER,Fd.toString()}const jd=new Map,Av=e=>{if(jd.has(e))return;const t=setTimeout(()=>{jd.delete(e),na({type:"REMOVE_TOAST",toastId:e})},GM);jd.set(e,t)},YM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Av(n):e.toasts.forEach(r=>{Av(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},oc=[];let sc={toasts:[]};function na(e){sc=YM(sc,e),oc.forEach(t=>{t(sc)})}function QM({...e}){const t=KM(),n=o=>na({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>na({type:"DISMISS_TOAST",toastId:t});return na({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Qa(){const[e,t]=f.useState(sc);return f.useEffect(()=>(oc.push(t),()=>{const n=oc.indexOf(t);n>-1&&oc.splice(n,1)}),[e]),{...e,toast:QM,dismiss:n=>na({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Rv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Rv(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Rv(e[o],null)}}}}function je(...e){return f.useCallback(Tu(...e),e)}function XM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function hn(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:v,...y}=u,x=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>y,Object.values(y));return p.jsx(x.Provider,{value:b,children:v})};c.displayName=s+"Provider";function d(u,h){var x;const v=((x=h==null?void 0:h[e])==null?void 0:x[l])||a,y=f.useContext(v);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,ZM(o,...t)]}function ZM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function ui(e){const t=eI(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(tI);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var JM=ui("Slot");function eI(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=rI(o),a=nI(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Tu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kb=Symbol("radix.slottable");function Tb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kb,t}function tI(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kb}function nI(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function rI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Du(e){const t=e+"CollectionProvider",[n,r]=hn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:m}=x,w=Tt.useRef(null),S=Tt.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:S,collectionRef:w,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=ui(a),c=Tt.forwardRef((x,b)=>{const{scope:m,children:w}=x,S=s(a,m),C=je(b,S.collectionRef);return p.jsx(l,{ref:C,children:w})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=ui(d),v=Tt.forwardRef((x,b)=>{const{scope:m,children:w,...S}=x,C=Tt.useRef(null),E=je(b,C),P=s(d,m);return Tt.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:w})});v.displayName=d;function y(x){const b=s(e+"CollectionConsumer",x);return Tt.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,T)=>S.indexOf(P.ref.current)-S.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:v},y,r]}var oI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=oI.reduce((e,t)=>{const n=ui(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function um(e,t){e&&Ka.flushSync(()=>e.dispatchEvent(t))}function ct(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function sI(e,t=globalThis==null?void 0:globalThis.document){const n=ct(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var iI="DismissableLayer",xh="dismissableLayer.update",aI="dismissableLayer.pointerDownOutside",lI="dismissableLayer.focusOutside",Mv,Db=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xa=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(Db),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=f.useState({}),y=je(t,T=>u(T)),x=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(b),w=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=m,E=uI(T=>{const D=T.target,A=[...c.branches].some(M=>M.contains(D));!C||A||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},h),P=dI(T=>{const D=T.target;[...c.branches].some(M=>M.contains(D))||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},h);return sI(T=>{w===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Mv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Iv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Mv)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Iv())},[d,c]),f.useEffect(()=>{const T=()=>v({});return document.addEventListener(xh,T),()=>document.removeEventListener(xh,T)},[]),p.jsx(Se.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,P.onFocusCapture),onBlurCapture:se(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,E.onPointerDownCapture)})});Xa.displayName=iI;var cI="DismissableLayerBranch",Ab=f.forwardRef((e,t)=>{const n=f.useContext(Db),r=f.useRef(null),o=je(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Se.div,{...e,ref:o})});Ab.displayName=cI;function uI(e,t=globalThis==null?void 0:globalThis.document){const n=ct(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Rb(aI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dI(e,t=globalThis==null?void 0:globalThis.document){const n=ct(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Rb(lI,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Iv(){const e=new CustomEvent(xh);document.dispatchEvent(e)}function Rb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?um(o,s):o.dispatchEvent(s)}var fI=Xa,hI=Ab,Fn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},pI="Portal",Au=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);Fn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?BR.createPortal(p.jsx(Se.div,{...r,ref:t}),i):null});Au.displayName=pI;function mI(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var pn=e=>{const{present:t,children:n}=e,r=gI(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=je(r.ref,yI(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};pn.displayName="Presence";function gI(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=mI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Al(r.current);s.current=a==="mounted"?c:"none"},[a]),Fn(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,v=Al(c);e?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Fn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=v=>{const x=Al(r.current).includes(v.animationName);if(v.target===t&&x&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=v=>{v.target===t&&(s.current=Al(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Al(e){return(e==null?void 0:e.animationName)||"none"}function yI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=vI({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=ct(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function vI({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=ct(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var wI="VisuallyHidden",Ru=f.forwardRef((e,t)=>p.jsx(Se.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ru.displayName=wI;var xI=Ru,dm="ToastProvider",[fm,SI,bI]=Du("Toast"),[Mb,J4]=hn("Toast",[bI]),[CI,Mu]=Mb(dm),Ib=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${dm}\`. Expected non-empty \`string\`.`),p.jsx(fm.Provider,{scope:t,children:p.jsx(CI,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(v=>v+1),[]),onToastRemove:f.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};Ib.displayName=dm;var _b="ToastViewport",EI=["F8"],Sh="toast.viewportPause",bh="toast.viewportResume",Nb=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=EI,label:o="Notifications ({hotkey})",...s}=e,i=Mu(_b,n),a=SI(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=je(t,u,i.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;f.useEffect(()=>{const b=m=>{var S;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((S=u.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=u.current;if(y&&b&&m){const w=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(Sh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(bh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&S()},E=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",C),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,i.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:b})=>{const w=a().map(S=>{const C=S.ref.current,E=[C,...jI(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return f.useEffect(()=>{const b=u.current;if(b){const m=w=>{var E,P,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const D=document.activeElement,A=w.shiftKey;if(w.target===b&&A){(E=c.current)==null||E.focus();return}const _=x({tabbingDirection:A?"backwards":"forwards"}),Y=_.findIndex(V=>V===D);Od(_.slice(Y+1))?w.preventDefault():A?(P=c.current)==null||P.focus():(T=d.current)==null||T.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,x]),p.jsxs(hI,{ref:l,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&p.jsx(Ch,{ref:c,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Od(b)}}),p.jsx(fm.Slot,{scope:n,children:p.jsx(Se.ol,{tabIndex:-1,...s,ref:h})}),y&&p.jsx(Ch,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Od(b)}})]})});Nb.displayName=_b;var Lb="ToastFocusProxy",Ch=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Mu(Lb,n);return p.jsx(Ru,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Ch.displayName=Lb;var Iu="Toast",PI="toast.swipeStart",kI="toast.swipeMove",TI="toast.swipeCancel",DI="toast.swipeEnd",Fb=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=wr({prop:r,defaultProp:o,onChange:s});return p.jsx(pn,{present:n||a,children:p.jsx(MI,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:ct(e.onPause),onResume:ct(e.onResume),onSwipeStart:se(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:se(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Fb.displayName=Iu;var[AI,RI]=Mb(Iu,{onClose(){}}),MI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:v,...y}=e,x=Mu(Iu,n),[b,m]=f.useState(null),w=je(t,V=>m(V)),S=f.useRef(null),C=f.useRef(null),E=o||x.duration,P=f.useRef(0),T=f.useRef(E),D=f.useRef(0),{onToastAdd:A,onToastRemove:M}=x,L=ct(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),i()}),_=f.useCallback(V=>{!V||V===1/0||(window.clearTimeout(D.current),P.current=new Date().getTime(),D.current=window.setTimeout(L,V))},[L]);f.useEffect(()=>{const V=x.viewport;if(V){const K=()=>{_(T.current),c==null||c()},N=()=>{const O=new Date().getTime()-P.current;T.current=T.current-O,window.clearTimeout(D.current),l==null||l()};return V.addEventListener(Sh,N),V.addEventListener(bh,K),()=>{V.removeEventListener(Sh,N),V.removeEventListener(bh,K)}}},[x.viewport,E,l,c,_]),f.useEffect(()=>{s&&!x.isClosePausedRef.current&&_(E)},[s,E,x.isClosePausedRef,_]),f.useEffect(()=>(A(),()=>M()),[A,M]);const Y=f.useMemo(()=>b?zb(b):null,[b]);return x.viewport?p.jsxs(p.Fragment,{children:[Y&&p.jsx(II,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),p.jsx(AI,{scope:n,onClose:L,children:Ka.createPortal(p.jsx(fm.ItemSlot,{scope:n,children:p.jsx(fI,{asChild:!0,onEscapeKeyDown:se(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||L(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:se(e.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:se(e.onPointerMove,V=>{if(!S.current)return;const K=V.clientX-S.current.x,N=V.clientY-S.current.y,O=!!C.current,R=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,j=R?I(0,K):0,H=R?0:I(0,N),ee=V.pointerType==="touch"?10:2,Ae={x:j,y:H},ce={originalEvent:V,delta:Ae};O?(C.current=Ae,Rl(kI,u,ce,{discrete:!1})):_v(Ae,x.swipeDirection,ee)?(C.current=Ae,Rl(PI,d,ce,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(K)>ee||Math.abs(N)>ee)&&(S.current=null)}),onPointerUp:se(e.onPointerUp,V=>{const K=C.current,N=V.target;if(N.hasPointerCapture(V.pointerId)&&N.releasePointerCapture(V.pointerId),C.current=null,S.current=null,K){const O=V.currentTarget,R={originalEvent:V,delta:K};_v(K,x.swipeDirection,x.swipeThreshold)?Rl(DI,v,R,{discrete:!0}):Rl(TI,h,R,{discrete:!0}),O.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),II=e=>{const{__scopeToast:t,children:n,...r}=e,o=Mu(Iu,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return LI(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Au,{asChild:!0,children:p.jsx(Ru,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},_I="ToastTitle",jb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Se.div,{...r,ref:t})});jb.displayName=_I;var NI="ToastDescription",Ob=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Se.div,{...r,ref:t})});Ob.displayName=NI;var $b="ToastAction",Ub=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Bb,{altText:n,asChild:!0,children:p.jsx(hm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$b}\`. Expected non-empty \`string\`.`),null)});Ub.displayName=$b;var Vb="ToastClose",hm=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=RI(Vb,n);return p.jsx(Bb,{asChild:!0,children:p.jsx(Se.button,{type:"button",...r,ref:t,onClick:se(e.onClick,o.onClose)})})});hm.displayName=Vb;var Bb=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function zb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),FI(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...zb(r))}}),t}function Rl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?um(o,s):o.dispatchEvent(s)}var _v=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function LI(e=()=>{}){const t=ct(e);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function FI(e){return e.nodeType===e.ELEMENT_NODE}function jI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Od(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var OI=Ib,qb=Nb,Wb=Fb,Hb=jb,Gb=Ob,Kb=Ub,Yb=hm;function Qb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Qb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Qb(e))&&(r&&(r+=" "),r+=t);return r}const Nv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Lv=Xb,Za=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Lv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=Nv(d)||Nv(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...v}=d;return Object.entries(v).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes({...s,...a}[x]):{...s,...a}[x]===b})?[...c,u,h]:c},[]);return Lv(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...UI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zb("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(VI,{ref:s,iconNode:t,className:Zb(`lucide-${$I(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=$e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=$e("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=$e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=$e("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=$e("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=$e("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=$e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=$e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=$e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=$e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=$e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=$e("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=$e("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),mm="-",c_=e=>{const t=d_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(mm);return a[0]===""&&a.length!==1&&a.shift(),aC(a,t)||u_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},aC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?aC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(mm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},jv=/^\[(.+)\]$/,u_=e=>{if(jv.test(e)){const t=jv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},d_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return h_(Object.entries(e.classGroups),n).forEach(([s,i])=>{Eh(i,r,s,t)}),r},Eh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Ov(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(f_(o)){Eh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Eh(i,Ov(t,s),n,r)})})},Ov=(e,t)=>{let n=e;return t.split(mm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f_=e=>e.isThemeGetter,h_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,p_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},lC="!",m_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(m==="/"){u=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),v=h.startsWith(lC),y=v?h.substring(1):h,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:i}):i},g_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},y_=e=>({cache:p_(e.cacheSize),parseClassName:m_(e),...c_(e)}),v_=/\s+/,w_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(v_);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:v}=n(c);let y=!!v,x=r(y?h.substring(0,v):h);if(!x){if(!y){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}y=!1}const b=g_(d).join(":"),m=u?b+lC:b,w=m+x;if(s.includes(w))continue;s.push(w);const S=o(x,y);for(let C=0;C<S.length;++C){const E=S[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function x_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=cC(t))&&(r&&(r+=" "),r+=n);return r}const cC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=cC(e[r]))&&(n&&(n+=" "),n+=t);return n};function S_(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=y_(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=w_(l,n);return o(l,d),d}return function(){return s(x_.apply(null,arguments))}}const tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},uC=/^\[(?:([a-z-]+):)?(.+)\]$/i,b_=/^\d+\/\d+$/,C_=new Set(["px","full","screen"]),E_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=e=>Vs(e)||C_.has(e)||b_.test(e),Wr=e=>xi(e,"length",F_),Vs=e=>!!e&&!Number.isNaN(Number(e)),$d=e=>xi(e,"number",Vs),Ni=e=>!!e&&Number.isInteger(Number(e)),A_=e=>e.endsWith("%")&&Vs(e.slice(0,-1)),De=e=>uC.test(e),Hr=e=>E_.test(e),R_=new Set(["length","size","percentage"]),M_=e=>xi(e,R_,dC),I_=e=>xi(e,"position",dC),__=new Set(["image","url"]),N_=e=>xi(e,__,O_),L_=e=>xi(e,"",j_),Li=()=>!0,xi=(e,t,n)=>{const r=uC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},F_=e=>P_.test(e)&&!k_.test(e),dC=()=>!1,j_=e=>T_.test(e),O_=e=>D_.test(e),$_=()=>{const e=tt("colors"),t=tt("spacing"),n=tt("blur"),r=tt("brightness"),o=tt("borderColor"),s=tt("borderRadius"),i=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),d=tt("hueRotate"),u=tt("invert"),h=tt("gap"),v=tt("gradientColorStops"),y=tt("gradientColorStopPositions"),x=tt("inset"),b=tt("margin"),m=tt("opacity"),w=tt("padding"),S=tt("saturate"),C=tt("scale"),E=tt("sepia"),P=tt("skew"),T=tt("space"),D=tt("translate"),A=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",De,t],_=()=>[De,t],Y=()=>["",Cr,Wr],V=()=>["auto",Vs,De],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",De],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Vs,De];return{cacheSize:500,separator:":",theme:{colors:[Li],spacing:[Cr,Wr],blur:["none","",Hr,De],brightness:H(),borderColor:[e],borderRadius:["none","","full",Hr,De],borderSpacing:_(),borderWidth:Y(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[A_,Wr],inset:L(),margin:L(),opacity:H(),padding:_(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),De]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ni,De]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Ni,De]}],"grid-cols":[{"grid-cols":[Li]}],"col-start-end":[{col:["auto",{span:["full",Ni,De]},De]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Li]}],"row-start-end":[{row:["auto",{span:[Ni,De]},De]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,t]}],"min-w":[{"min-w":[De,t,"min","max","fit"]}],"max-w":[{"max-w":[De,t,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[De,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$d]}],"font-family":[{font:[Li]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Vs,$d]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,Wr]}],"underline-offset":[{"underline-offset":["auto",Cr,De]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),I_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[Cr,De]}],"outline-w":[{outline:[Cr,Wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Cr,Wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hr,L_]}],"shadow-color":[{shadow:[Li]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hr,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ni,De]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cr,Wr,$d]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},U_=S_($_);function V_(e){throw new Error("Unexpected object: "+e)}function re(...e){return U_(Xb(e))}function B_(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const z_=OI,fC=f.forwardRef(({className:e,...t},n)=>p.jsx(qb,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fC.displayName=qb.displayName;const q_=Za("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Wb,{ref:r,className:re(q_({variant:t}),e),...n}));hC.displayName=Wb.displayName;const W_=f.forwardRef(({className:e,...t},n)=>p.jsx(Kb,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));W_.displayName=Kb.displayName;const pC=f.forwardRef(({className:e,...t},n)=>p.jsx(Yb,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(_u,{className:"h-4 w-4"})}));pC.displayName=Yb.displayName;const mC=f.forwardRef(({className:e,...t},n)=>p.jsx(Hb,{ref:n,className:re("text-sm font-semibold",e),...t}));mC.displayName=Hb.displayName;const gC=f.forwardRef(({className:e,...t},n)=>p.jsx(Gb,{ref:n,className:re("text-sm opacity-90",e),...t}));gC.displayName=Gb.displayName;function H_(){const{toasts:e}=Qa();return p.jsxs(z_,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(hC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(mC,{children:n}),r&&p.jsx(gC,{children:r})]}),o,p.jsx(pC,{})]},t)}),p.jsx(fC,{})]})}var G_=rx[" useId ".trim().toString()]||(()=>{}),K_=0;function Yo(e){const[t,n]=f.useState(G_());return Fn(()=>{n(r=>r??String(K_++))},[e]),t?`radix-${t}`:""}const Y_=["top","right","bottom","left"],Co=Math.min,yn=Math.max,$c=Math.round,Ml=Math.floor,pr=e=>({x:e,y:e}),Q_={left:"right",right:"left",bottom:"top",top:"bottom"},X_={start:"end",end:"start"};function Ph(e,t,n){return yn(e,Co(t,n))}function jr(e,t){return typeof e=="function"?e(t):e}function Or(e){return e.split("-")[0]}function Si(e){return e.split("-")[1]}function gm(e){return e==="x"?"y":"x"}function ym(e){return e==="y"?"height":"width"}function Eo(e){return["top","bottom"].includes(Or(e))?"y":"x"}function vm(e){return gm(Eo(e))}function Z_(e,t,n){n===void 0&&(n=!1);const r=Si(e),o=vm(e),s=ym(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Uc(i)),[i,Uc(i)]}function J_(e){const t=Uc(e);return[kh(e),t,kh(t)]}function kh(e){return e.replace(/start|end/g,t=>X_[t])}function eN(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function tN(e,t,n,r){const o=Si(e);let s=eN(Or(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(kh)))),s}function Uc(e){return e.replace(/left|right|bottom|top/g,t=>Q_[t])}function nN(e){return{top:0,right:0,bottom:0,left:0,...e}}function yC(e){return typeof e!="number"?nN(e):{top:e,right:e,bottom:e,left:e}}function Vc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function $v(e,t,n){let{reference:r,floating:o}=e;const s=Eo(t),i=vm(t),a=ym(i),l=Or(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-o.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:u};break;case"left":v={x:r.x-o.width,y:u};break;default:v={x:r.x,y:r.y}}switch(Si(t)){case"start":v[i]-=h*(n&&c?-1:1);break;case"end":v[i]+=h*(n&&c?-1:1);break}return v}const rN=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=$v(c,r,l),h=r,v={},y=0;for(let x=0;x<a.length;x++){const{name:b,fn:m}=a[x],{x:w,y:S,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:v,rects:c,platform:i,elements:{reference:e,floating:t}});d=w??d,u=S??u,v={...v,[b]:{...v[b],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=$v(c,h,l)),x=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:v}};async function Ta(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:v=0}=jr(t,e),y=yC(v),b=a[h?u==="floating"?"reference":"floating":u],m=Vc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Vc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(m.top-E.top+y.top)/C.y,bottom:(E.bottom-m.bottom+y.bottom)/C.y,left:(m.left-E.left+y.left)/C.x,right:(E.right-m.right+y.right)/C.x}}const oN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=jr(e,t)||{};if(c==null)return{};const u=yC(d),h={x:n,y:r},v=vm(o),y=ym(v),x=await i.getDimensions(c),b=v==="y",m=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[v]-h[v]-s.floating[y],E=h[v]-s.reference[v],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let T=P?P[S]:0;(!T||!await(i.isElement==null?void 0:i.isElement(P)))&&(T=a.floating[S]||s.floating[y]);const D=C/2-E/2,A=T/2-x[y]/2-1,M=Co(u[m],A),L=Co(u[w],A),_=M,Y=T-x[y]-L,V=T/2-x[y]/2+D,K=Ph(_,V,Y),N=!l.arrow&&Si(o)!=null&&V!==K&&s.reference[y]/2-(V<_?M:L)-x[y]/2<0,O=N?V<_?V-_:V-Y:0;return{[v]:h[v]+O,data:{[v]:K,centerOffset:V-K-O,...N&&{alignmentOffset:O}},reset:N}}}),sN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...b}=jr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Or(o),w=Eo(a),S=Or(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(S||!x?[Uc(a)]:J_(a)),P=y!=="none";!h&&P&&E.push(...tN(a,x,y,C));const T=[a,...E],D=await Ta(t,b),A=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(D[m]),u){const V=Z_(o,i,C);A.push(D[V[0]],D[V[1]])}if(M=[...M,{placement:o,overflows:A}],!A.every(V=>V<=0)){var L,_;const V=(((L=s.flip)==null?void 0:L.index)||0)+1,K=T[V];if(K)return{data:{index:V,overflows:M},reset:{placement:K}};let N=(_=M.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:_.placement;if(!N)switch(v){case"bestFit":{var Y;const O=(Y=M.filter(R=>{if(P){const I=Eo(R.placement);return I===w||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,j)=>I+j,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:Y[0];O&&(N=O);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Uv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vv(e){return Y_.some(t=>e[t]>=0)}const iN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=jr(e,t);switch(r){case"referenceHidden":{const s=await Ta(t,{...o,elementContext:"reference"}),i=Uv(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Vv(i)}}}case"escaped":{const s=await Ta(t,{...o,altBoundary:!0}),i=Uv(s,n.floating);return{data:{escapedOffsets:i,escaped:Vv(i)}}}default:return{}}}}};async function aN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Or(n),a=Si(n),l=Eo(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=jr(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const lN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await aN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},cN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:w}=b;return{x:m,y:w}}},...l}=jr(e,t),c={x:n,y:r},d=await Ta(t,l),u=Eo(Or(o)),h=gm(u);let v=c[h],y=c[u];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",w=v+d[b],S=v-d[m];v=Ph(w,v,S)}if(i){const b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",w=y+d[b],S=y-d[m];y=Ph(w,y,S)}const x=a.fn({...t,[h]:v,[u]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[u]:i}}}}}},uN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=jr(e,t),d={x:n,y:r},u=Eo(o),h=gm(u);let v=d[h],y=d[u];const x=jr(a,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=h==="y"?"height":"width",C=s.reference[h]-s.floating[S]+b.mainAxis,E=s.reference[h]+s.reference[S]-b.mainAxis;v<C?v=C:v>E&&(v=E)}if(c){var m,w;const S=h==="y"?"width":"height",C=["top","left"].includes(Or(o)),E=s.reference[u]-s.floating[S]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:b.crossAxis),P=s.reference[u]+s.reference[S]+(C?0:((w=i.offset)==null?void 0:w[u])||0)-(C?b.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:v,[u]:y}}}},dN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=jr(e,t),d=await Ta(t,c),u=Or(o),h=Si(o),v=Eo(o)==="y",{width:y,height:x}=s.floating;let b,m;u==="top"||u==="bottom"?(b=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,b=h==="end"?"top":"bottom");const w=x-d.top-d.bottom,S=y-d.left-d.right,C=Co(x-d[b],w),E=Co(y-d[m],S),P=!t.middlewareData.shift;let T=C,D=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=w),P&&!h){const M=yn(d.left,0),L=yn(d.right,0),_=yn(d.top,0),Y=yn(d.bottom,0);v?D=y-2*(M!==0||L!==0?M+L:yn(d.left,d.right)):T=x-2*(_!==0||Y!==0?_+Y:yn(d.top,d.bottom))}await l({...t,availableWidth:D,availableHeight:T});const A=await i.getDimensions(a.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Nu(){return typeof window<"u"}function bi(e){return vC(e)?(e.nodeName||"").toLowerCase():"#document"}function xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xr(e){var t;return(t=(vC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vC(e){return Nu()?e instanceof Node||e instanceof xn(e).Node:!1}function Xn(e){return Nu()?e instanceof Element||e instanceof xn(e).Element:!1}function vr(e){return Nu()?e instanceof HTMLElement||e instanceof xn(e).HTMLElement:!1}function Bv(e){return!Nu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xn(e).ShadowRoot}function Ja(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function fN(e){return["table","td","th"].includes(bi(e))}function Lu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function wm(e){const t=xm(),n=Xn(e)?Zn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function hN(e){let t=Po(e);for(;vr(t)&&!di(t);){if(wm(t))return t;if(Lu(t))return null;t=Po(t)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function di(e){return["html","body","#document"].includes(bi(e))}function Zn(e){return xn(e).getComputedStyle(e)}function Fu(e){return Xn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Po(e){if(bi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bv(e)&&e.host||xr(e);return Bv(t)?t.host:t}function wC(e){const t=Po(e);return di(t)?e.ownerDocument?e.ownerDocument.body:e.body:vr(t)&&Ja(t)?t:wC(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=wC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=xn(o);if(s){const a=Th(i);return t.concat(i,i.visualViewport||[],Ja(o)?o:[],a&&n?Da(a):[])}return t.concat(o,Da(o,[],n))}function Th(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xC(e){const t=Zn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=vr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=$c(n)!==s||$c(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function Sm(e){return Xn(e)?e:e.contextElement}function Bs(e){const t=Sm(e);if(!vr(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=xC(t);let i=(s?$c(n.width):n.width)/r,a=(s?$c(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const pN=pr(0);function SC(e){const t=xn(e);return!xm()||!t.visualViewport?pN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xn(e)?!1:t}function rs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Sm(e);let i=pr(1);t&&(r?Xn(r)&&(i=Bs(r)):i=Bs(e));const a=mN(s,n,r)?SC(s):pr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=xn(s),v=r&&Xn(r)?xn(r):r;let y=h,x=Th(y);for(;x&&r&&v!==y;){const b=Bs(x),m=x.getBoundingClientRect(),w=Zn(x),S=m.left+(x.clientLeft+parseFloat(w.paddingLeft))*b.x,C=m.top+(x.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,u*=b.y,l+=S,c+=C,y=xn(x),x=Th(y)}}return Vc({width:d,height:u,x:l,y:c})}function bm(e,t){const n=Fu(e).scrollLeft;return t?t.left+n:rs(xr(e)).left+n}function bC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:bm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function gN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=xr(r),a=t?Lu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=pr(1);const d=pr(0),u=vr(r);if((u||!u&&!s)&&((bi(r)!=="body"||Ja(i))&&(l=Fu(r)),vr(r))){const v=rs(r);c=Bs(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const h=i&&!u&&!s?bC(i,l,!0):pr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function yN(e){return Array.from(e.getClientRects())}function vN(e){const t=xr(e),n=Fu(e),r=e.ownerDocument.body,o=yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+bm(e);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(i+=yn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function wN(e,t){const n=xn(e),r=xr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=xm();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function xN(e,t){const n=rs(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=vr(e)?Bs(e):pr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function zv(e,t,n){let r;if(t==="viewport")r=wN(e,n);else if(t==="document")r=vN(xr(e));else if(Xn(t))r=xN(t,n);else{const o=SC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Vc(r)}function CC(e,t){const n=Po(e);return n===t||!Xn(n)||di(n)?!1:Zn(n).position==="fixed"||CC(n,t)}function SN(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(a=>Xn(a)&&bi(a)!=="body"),o=null;const s=Zn(e).position==="fixed";let i=s?Po(e):e;for(;Xn(i)&&!di(i);){const a=Zn(i),l=wm(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ja(i)&&!l&&CC(e,i))?r=r.filter(d=>d!==i):o=a,i=Po(i)}return t.set(e,r),r}function bN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Lu(t)?[]:SN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=zv(t,d,o);return c.top=yn(u.top,c.top),c.right=Co(u.right,c.right),c.bottom=Co(u.bottom,c.bottom),c.left=yn(u.left,c.left),c},zv(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CN(e){const{width:t,height:n}=xC(e);return{width:t,height:n}}function EN(e,t,n){const r=vr(t),o=xr(t),s=n==="fixed",i=rs(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=pr(0);if(r||!r&&!s)if((bi(t)!=="body"||Ja(o))&&(a=Fu(t)),r){const h=rs(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=bm(o));const c=o&&!r&&!s?bC(o,a):pr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function Ud(e){return Zn(e).position==="static"}function qv(e,t){if(!vr(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xr(e)===n&&(n=n.ownerDocument.body),n}function EC(e,t){const n=xn(e);if(Lu(e))return n;if(!vr(e)){let o=Po(e);for(;o&&!di(o);){if(Xn(o)&&!Ud(o))return o;o=Po(o)}return n}let r=qv(e,t);for(;r&&fN(r)&&Ud(r);)r=qv(r,t);return r&&di(r)&&Ud(r)&&!wm(r)?n:r||hN(e)||n}const PN=async function(e){const t=this.getOffsetParent||EC,n=this.getDimensions,r=await n(e.floating);return{reference:EN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kN(e){return Zn(e).direction==="rtl"}const TN={convertOffsetParentRelativeRectToViewportRelativeRect:gN,getDocumentElement:xr,getClippingRect:bN,getOffsetParent:EC,getElementRects:PN,getClientRects:yN,getDimensions:CN,getScale:Bs,isElement:Xn,isRTL:kN};function PC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DN(e,t){let n=null,r;const o=xr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:v}=c;if(a||t(),!h||!v)return;const y=Ml(u),x=Ml(o.clientWidth-(d+h)),b=Ml(o.clientHeight-(u+v)),m=Ml(d),S={rootMargin:-y+"px "+-x+"px "+-b+"px "+-m+"px",threshold:yn(0,Co(1,l))||1};let C=!0;function E(P){const T=P[0].intersectionRatio;if(T!==l){if(!C)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!PC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return i(!0),s}function AN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Sm(e),d=o||s?[...c?Da(c):[],...Da(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?DN(c,n):null;let h=-1,v=null;i&&(v=new ResizeObserver(m=>{let[w]=m;w&&w.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(t)})),n()}),c&&!l&&v.observe(c),v.observe(t));let y,x=l?rs(e):null;l&&b();function b(){const m=rs(e);x&&!PC(x,m)&&n(),x=m,y=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(w=>{o&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),u==null||u(),(m=v)==null||m.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const RN=lN,MN=cN,IN=sN,_N=dN,NN=iN,Wv=oN,LN=uN,FN=(e,t,n)=>{const r=new Map,o={platform:TN,...n},s={...o.platform,_c:r};return rN(e,t,{...o,platform:s})};var ic=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Bc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Bc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Bc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function kC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hv(e,t){const n=kC(e);return Math.round(t*n)/n}function Vd(e){const t=f.useRef(e);return ic(()=>{t.current=e}),t}function jN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=f.useState(r);Bc(h,r)||v(r);const[y,x]=f.useState(null),[b,m]=f.useState(null),w=f.useCallback(R=>{R!==P.current&&(P.current=R,x(R))},[]),S=f.useCallback(R=>{R!==T.current&&(T.current=R,m(R))},[]),C=s||y,E=i||b,P=f.useRef(null),T=f.useRef(null),D=f.useRef(d),A=l!=null,M=Vd(l),L=Vd(o),_=Vd(c),Y=f.useCallback(()=>{if(!P.current||!T.current)return;const R={placement:t,strategy:n,middleware:h};L.current&&(R.platform=L.current),FN(P.current,T.current,R).then(I=>{const j={...I,isPositioned:_.current!==!1};V.current&&!Bc(D.current,j)&&(D.current=j,Ka.flushSync(()=>{u(j)}))})},[h,t,n,L,_]);ic(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const V=f.useRef(!1);ic(()=>(V.current=!0,()=>{V.current=!1}),[]),ic(()=>{if(C&&(P.current=C),E&&(T.current=E),C&&E){if(M.current)return M.current(C,E,Y);Y()}},[C,E,Y,M,A]);const K=f.useMemo(()=>({reference:P,floating:T,setReference:w,setFloating:S}),[w,S]),N=f.useMemo(()=>({reference:C,floating:E}),[C,E]),O=f.useMemo(()=>{const R={position:n,left:0,top:0};if(!N.floating)return R;const I=Hv(N.floating,d.x),j=Hv(N.floating,d.y);return a?{...R,transform:"translate("+I+"px, "+j+"px)",...kC(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:j}},[n,a,N.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:Y,refs:K,elements:N,floatingStyles:O}),[d,Y,K,N,O])}const ON=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Wv({element:r.current,padding:o}).fn(n):{}:r?Wv({element:r,padding:o}).fn(n):{}}}},$N=(e,t)=>({...RN(e),options:[e,t]}),UN=(e,t)=>({...MN(e),options:[e,t]}),VN=(e,t)=>({...LN(e),options:[e,t]}),BN=(e,t)=>({...IN(e),options:[e,t]}),zN=(e,t)=>({..._N(e),options:[e,t]}),qN=(e,t)=>({...NN(e),options:[e,t]}),WN=(e,t)=>({...ON(e),options:[e,t]});var HN="Arrow",TC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(Se.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});TC.displayName=HN;var GN=TC;function Cm(e){const[t,n]=f.useState(void 0);return Fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Em="Popper",[DC,ju]=hn(Em),[KN,AC]=DC(Em),RC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(KN,{scope:t,anchor:r,onAnchorChange:o,children:n})};RC.displayName=Em;var MC="PopperAnchor",IC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=AC(MC,n),i=f.useRef(null),a=je(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(Se.div,{...o,ref:a})});IC.displayName=MC;var Pm="PopperContent",[YN,QN]=DC(Pm),_C=f.forwardRef((e,t)=>{var ve,ae,Ee,Ye,ke,oe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=e,b=AC(Pm,n),[m,w]=f.useState(null),S=je(t,xe=>w(xe)),[C,E]=f.useState(null),P=Cm(C),T=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,A=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],_=L.length>0,Y={padding:M,boundary:L.filter(ZN),altBoundary:_},{refs:V,floatingStyles:K,placement:N,isPositioned:O,middlewareData:R}=jN({strategy:"fixed",placement:A,whileElementsMounted:(...xe)=>AN(...xe,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[$N({mainAxis:o+D,alignmentAxis:i}),l&&UN({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?VN():void 0,...Y}),l&&BN({...Y}),zN({...Y,apply:({elements:xe,rects:ie,availableWidth:Ve,availableHeight:St})=>{const{width:pt,height:_t}=ie.reference,st=xe.floating.style;st.setProperty("--radix-popper-available-width",`${Ve}px`),st.setProperty("--radix-popper-available-height",`${St}px`),st.setProperty("--radix-popper-anchor-width",`${pt}px`),st.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),C&&WN({element:C,padding:a}),JN({arrowWidth:T,arrowHeight:D}),h&&qN({strategy:"referenceHidden",...Y})]}),[I,j]=FC(N),H=ct(y);Fn(()=>{O&&(H==null||H())},[O,H]);const ee=(ve=R.arrow)==null?void 0:ve.x,Ae=(ae=R.arrow)==null?void 0:ae.y,ce=((Ee=R.arrow)==null?void 0:Ee.centerOffset)!==0,[Je,te]=f.useState();return Fn(()=>{m&&te(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:O?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Ye=R.transformOrigin)==null?void 0:Ye.x,(ke=R.transformOrigin)==null?void 0:ke.y].join(" "),...((oe=R.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(YN,{scope:n,placedSide:I,onArrowChange:E,arrowX:ee,arrowY:Ae,shouldHideArrow:ce,children:p.jsx(Se.div,{"data-side":I,"data-align":j,...x,ref:S,style:{...x.style,animation:O?void 0:"none"}})})})});_C.displayName=Pm;var NC="PopperArrow",XN={top:"bottom",right:"left",bottom:"top",left:"right"},LC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=QN(NC,r),i=XN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(GN,{...o,ref:n,style:{...o.style,display:"block"}})})});LC.displayName=NC;function ZN(e){return e!==null}var JN=e=>({name:"transformOrigin",options:e,fn(t){var b,m,w;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=FC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,v=(((w=o.arrow)==null?void 0:w.y)??0)+l/2;let y="",x="";return c==="bottom"?(y=i?u:`${h}px`,x=`${-l}px`):c==="top"?(y=i?u:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,x=i?u:`${v}px`):c==="left"&&(y=`${r.floating.width+l}px`,x=i?u:`${v}px`),{data:{x:y,y:x}}}});function FC(e){const[t,n="center"]=e.split("-");return[t,n]}var jC=RC,OC=IC,$C=_C,UC=LC,[Ou,e3]=hn("Tooltip",[ju]),$u=ju(),VC="TooltipProvider",eL=700,Dh="tooltip.open",[tL,km]=Ou(VC),BC=e=>{const{__scopeTooltip:t,delayDuration:n=eL,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(tL,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};BC.displayName=VC;var Uu="Tooltip",[nL,Vu]=Ou(Uu),zC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=km(Uu,e.__scopeTooltip),c=$u(t),[d,u]=f.useState(null),h=Yo(),v=f.useRef(0),y=i??l.disableHoverableContent,x=a??l.delayDuration,b=f.useRef(!1),[m=!1,w]=wr({prop:r,defaultProp:o,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Dh))):l.onClose(),s==null||s(T)}}),S=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(v.current),v.current=0,b.current=!1,w(!0)},[w]),E=f.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w(!1)},[w]),P=f.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{b.current=!0,w(!0),v.current=0},x)},[x,w]);return f.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),p.jsx(jC,{...c,children:p.jsx(nL,{scope:t,contentId:h,open:m,stateAttribute:S,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{y?E():(window.clearTimeout(v.current),v.current=0)},[E,y]),onOpen:C,onClose:E,disableHoverableContent:y,children:n})})};zC.displayName=Uu;var Ah="TooltipTrigger",qC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Vu(Ah,n),s=km(Ah,n),i=$u(n),a=f.useRef(null),l=je(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(OC,{asChild:!0,...i,children:p.jsx(Se.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:se(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:se(e.onBlur,o.onClose),onClick:se(e.onClick,o.onClose)})})});qC.displayName=Ah;var rL="TooltipPortal",[t3,oL]=Ou(rL,{forceMount:void 0}),fi="TooltipContent",WC=f.forwardRef((e,t)=>{const n=oL(fi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Vu(fi,e.__scopeTooltip);return p.jsx(pn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(HC,{side:o,...s,ref:t}):p.jsx(sL,{side:o,...s,ref:t})})}),sL=f.forwardRef((e,t)=>{const n=Vu(fi,e.__scopeTooltip),r=km(fi,e.__scopeTooltip),o=f.useRef(null),s=je(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),v=f.useCallback((y,x)=>{const b=y.currentTarget,m={x:y.clientX,y:y.clientY},w=uL(m,b.getBoundingClientRect()),S=dL(m,w),C=fL(x.getBoundingClientRect()),E=pL([...S,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const y=b=>v(b,d),x=b=>v(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[l,d,v,h]),f.useEffect(()=>{if(i){const y=x=>{const b=x.target,m={x:x.clientX,y:x.clientY},w=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),S=!hL(m,i);w?h():S&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,i,c,h]),p.jsx(HC,{...e,ref:s})}),[iL,aL]=Ou(Uu,{isInside:!1}),lL=Tb("TooltipContent"),HC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Vu(fi,n),c=$u(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Dh,d),()=>document.removeEventListener(Dh,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs($C,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(lL,{children:r}),p.jsx(iL,{scope:n,isInside:!0,children:p.jsx(xI,{id:l.contentId,role:"tooltip",children:o||r})})]})})});WC.displayName=fi;var GC="TooltipArrow",cL=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=$u(n);return aL(GC,n).isInside?null:p.jsx(UC,{...o,...r,ref:t})});cL.displayName=GC;function uL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function fL(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function hL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function pL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mL(t)}function mL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var gL=BC,yL=zC,vL=qC,KC=WC;const YC=gL,wL=yL,xL=vL,QC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(KC,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));QC.displayName=KC.displayName;const Tm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Tm.displayName="Card";const SL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));SL.displayName="CardHeader";const bL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));bL.displayName="CardTitle";const CL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));CL.displayName="CardDescription";const Dm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));Dm.displayName="CardContent";const EL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));EL.displayName="CardFooter";function PL(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Tm,{className:"w-full max-w-md mx-4",children:p.jsxs(Dm,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(nC,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Am=Za("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?JM:"button";return p.jsx(i,{className:re(Am({variant:t,size:n,className:e})),ref:s,...o})});Ge.displayName="Button";const Bd=e=>e.map(t=>typeof t=="object"?JSON.stringify(t):t),g={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...Bd(e))},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...Bd(e))},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...Bd(e))}};var XC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new o(d,u||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],v]:l._events[y].push(v):(l._events[y]=v,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,v=u.length,y=new Array(v);h<v;h++)y[h]=u[h].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,v,y){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],m=arguments.length,w,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,h),!0;case 5:return b.fn.call(b.context,d,u,h,v),!0;case 6:return b.fn.call(b.context,d,u,h,v,y),!0}for(S=1,w=new Array(m-1);S<m;S++)w[S-1]=arguments[S];b.fn.apply(b.context,w)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),m){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,u);break;case 4:b[S].fn.call(b[S].context,d,u,h);break;default:if(!w)for(E=1,w=new Array(m-1);E<m;E++)w[E-1]=arguments[E];b[S].fn.apply(b[S].context,w)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var v=n?n+c:c;if(!this._events[v])return this;if(!d)return i(this,v),this;var y=this._events[v];if(y.fn)y.fn===d&&(!h||y.once)&&(!u||y.context===u)&&i(this,v);else{for(var x=0,b=[],m=y.length;x<m;x++)(y[x].fn!==d||h&&!y[x].once||u&&y[x].context!==u)&&b.push(y[x]);b.length?this._events[v]=b.length===1?b[0]:b:i(this,v)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(XC);var kL=XC.exports;const TL=up(kL),DL="401z949o3txi3r0",Il="/Photos",zs="/Metadata",AL="images.json";function ZC(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const JC=zs.startsWith("/")?zs.replace("//","/"):`/${zs}`.replace("//","/"),eE=`${JC}/${AL}`.replace("//","/");function tE(e,t){const n=ZC(e,t);return`${JC}/${n}`.replace("//","/")}function $r(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function nE(e){var t;if($r(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function rE(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function RL(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function oE(e,t,n){let r=null;try{g.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return g.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return g.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return g.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(g.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){g.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return g.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(nE(o))return g.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw $r(o)?g.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):g.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function sE(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(g.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});g.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),g.log(`${t} saved successfully.`)}catch(o){throw $r(o)?g.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):g.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function zc(e,t,n){const r=tE(t,n);return g.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),oE(e,r,["createdAt","updatedAt"])}async function ML(e){return oE(e,eE,["createdAt"])}async function _l(e,t,n,r){const o=tE(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){g.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),g.log(`Deleted empty entries file: ${o}`)}catch(i){$r(i)&&rE(i.error,"not_found")?g.log(`Empty entries file ${o} does not exist. No deletion needed.`):$r(i)?g.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):g.error(`Non-API Error deleting ${o}:`,i)}return}await sE(e,o,s,["createdAt","updatedAt"])}async function Rh(e,t){await sE(e,eE,t,["createdAt"])}async function IL(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");g.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return g.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw g.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw $r(i)?g.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):g.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function _L(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return g.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),g.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return $r(l)&&(rE(l.error,"not_found")||RL(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(g.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):($r(l)?g.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):g.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function NL(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function LL(e){try{const t=await crypto.subtle.digest("SHA-256",e);return NL(t)}catch(t){throw g.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function FL(e){try{const t=await e.arrayBuffer();return LL(t)}catch(t){throw g.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const Nl="PhojoCacheDB",Gv=3,ln="entries",mr="imageMetadata",qs="photoBlobs",ur="cacheStatus",Qo="saveQueue";let Pn=null;function iE(){return new Promise((e,t)=>{if(Pn&&Pn.objectStoreNames.length>0){e(Pn);return}g.log(`[IDB] Opening database ${Nl} version ${Gv}...`);const n=indexedDB.open(Nl,Gv);n.onerror=r=>{var o;g.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{g.log(`[IDB] Database ${Nl} opened successfully.`),Pn=n.result,Pn.onclose=()=>{g.warn("[IDB] Database connection closed unexpectedly."),Pn=null},Pn.onversionchange=()=>{g.warn("[IDB] Database version change detected. Closing connection."),Pn==null||Pn.close(),Pn=null},e(Pn)},n.onupgradeneeded=r=>{g.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){g.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(Nl);a.onsuccess=()=>{g.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{g.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{g.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(ln))o.createObjectStore(ln).createIndex("byDate","date",{unique:!1}),g.log(`[IDB] Object store created: ${ln} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(ln);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),g.log(`[IDB] Added 'byDate' index to ${ln} store`))}if(o.objectStoreNames.contains(mr)||(o.createObjectStore(mr),g.log(`[IDB] Object store created: ${mr}`)),o.objectStoreNames.contains(qs)||(o.createObjectStore(qs),g.log(`[IDB] Object store created: ${qs}`)),!o.objectStoreNames.contains(ur))o.createObjectStore(ur).createIndex("lastAccessed","lastAccessed",{unique:!1}),g.log(`[IDB] Object store created: ${ur} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(ur);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),g.log(`[IDB] Re-created 'lastAccessed' index on ${ur}`))}o.objectStoreNames.contains(Qo)||(o.createObjectStore(Qo),g.log(`[IDB] Object store created: ${Qo}`)),g.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{g.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Jn(e,t,n){const r=await iE();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{g.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{g.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{g.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){g.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function vo(e,t,n){await Jn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),g.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function aE(e,t){return Jn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function lr(e,t){await Jn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),g.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function jL(e){await Jn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),g.log(`[IDB] Store '${e}' cleared successfully.`)}async function OL(e){return Jn(ur,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{g.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){g.error("[IDB] Error setting up index query:",o),r(o)}}))}async function qc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Jn(ln,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const v=h.map(y=>({...y,createdAt:y.createdAt instanceof Date?y.createdAt:new Date(y.createdAt||0),updatedAt:y.updatedAt instanceof Date?y.updatedAt:new Date(y.updatedAt||0)}));a(v)}else a(void 0)},u.onerror=()=>{g.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){g.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function $L(e){return Jn(ln,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{g.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(g.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){g.error("[IDB] Error caching entries:",o),r(o)}}))}async function zd(){return Jn(mr,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{g.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function UL(){return Jn(ln,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{g.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function VL(e){return Jn(mr,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{g.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(g.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){g.error("[IDB] Error caching metadata:",o),r(o)}}))}async function BL(e){return e?lr(mr,e):jL(mr)}async function Kr(e){return aE(qs,e)}async function Io(e,t,n){const r=Date.now();await vo(qs,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await vo(ur,e,{lastAccessed:r,size:t.size,type:n})}async function As(e){await Promise.all([lr(qs,e),lr(ur,e)])}async function Ll(e){const t=await aE(ur,e);if(!t){g.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await vo(ur,e,t)}async function Fi(e){g.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await vo(Qo,e.actionId,e)}async function lE(){return g.log("[IDB] Getting all items from save queue"),Jn(Qo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter(WL))??[];g.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{g.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function Mh(e){g.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await vo(Qo,e.actionId,e)}async function zL(e){g.log(`[IDB] Removing action from save queue. ID: ${e}`),await lr(Qo,e)}async function qL(){const e=await lE();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await Mh(r),t++}t>0&&g.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function Aa(){return(await lE()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function WL(e){var r;if(typeof e!="object"||e===null)return g.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return g.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return g.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return g.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return g.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return g.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return g.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return g.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return g.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}iE().catch(e=>g.error("[IDB] Initial DB open failed:",e));let qd=!1;const Kv=5e4;async function cE(e,t,n,r){if(!t||!e){g.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await uE(e,t,n,r);const o=await Aa();o.length>0&&(g.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await cE(e,t,n,r))}function Yv(e,t){if(!t||!e){g.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}cE(e,t).catch(n=>{g.error("[SyncService] Background sync process error:",n)}),g.log("[SyncService] Background sync process started")}async function uE(e,t,n,r){if(qd){g.log("[SyncService] processSaveQueue already in progress, skipping");return}qd=!0;try{if(!t||!e){g.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await Aa();if(o.length===0){g.log("[SyncService] No pending actions in queue");return}g.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await Mh(i),s.entity==="entry"?await HL(e,s):s.entity==="photoMetadata"?await GL(e,s):s.entity==="photoUpload"?await KL(e,s):V_(s),await zL(s.actionId),g.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=Kv?"failed":"pending",c={...s,retryCount:a,status:l};await Mh(c),g.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(g.error(`[SyncService] Action ${s.actionId} failed after ${Kv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{qd=!1}}async function HL(e,t){const{type:n,payload:r}=t,o=new Rm(e),{year:s,month:i}=r,a=await zc(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(v=>!d.photos.some(y=>y.id===v.id))){const v=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(v)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(v=>v.id!==d);await _l(e,s,i,u);const h=l.find(v=>v.id===d);if(h&&h.photos&&h.photos.length>0){g.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const v=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(v)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,v=await zc(e,d,u),y=o.parseEntryDates(v),x=y.filter(S=>S.id!==S.id),m=[...l.filter(S=>S.id!==S.id),h];await _l(e,d,u,x),await _l(e,s,i,m);const w=y.find(S=>S.id===h.id);await c(h,w)}else{const{entry:d}=r,u=l.find(y=>y.id===d.id),v=[...l.filter(y=>y.id!==d.id),d];v.sort((y,x)=>{const b=new Date(y.date).getTime(),m=new Date(x.date).getTime();return b!==m?b-m:y.createdAt.getTime()-x.createdAt.getTime()}),await _l(e,s,i,v),await c(d,u)}}async function GL(e,t){const{type:n,payload:r}=t,s=await new Rm(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await Rh(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await Rh(e,c)}}async function KL(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Kr(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await IL(e,s,a,o)}const dE=.8,YL=.7,QL=10;async function Ih(){try{if(!navigator.storage||!navigator.storage.estimate)return g.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return g.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return g.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return g.error("[StorageMgr] Error getting storage estimate:",e),null}}async function Qv(e,t=!0){try{const n=await OL(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return g.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function Wc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await Qv(e);return o.length>0?(g.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>As(s))),o.length):0}const r=await Ih();if(!r||r.usagePercentage<dE)return g.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await Qv(QL);if(o.length===0){g.log("[StorageMgr] No more blobs to prune");break}g.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>As(i))),t+=o.length;const s=await Ih();!s||s.usagePercentage<=YL?(g.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(g.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return g.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return g.error("[StorageMgr] Error during pruning:",t),0}}async function Wd(){try{const e=await Ih();if(!e)return;if(e.usagePercentage>=dE){g.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await Wc();g.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){g.error("[StorageMgr] Error in automatic pruning check:",e)}}async function Hd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(g.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){g.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class lo{constructor(){this.urlMap=new Map}static getInstance(){return lo.instance||(lo.instance=new lo),lo.instance}createUrl(t,n){let r=this.urlMap.get(t);return r?(g.log(`[BlobMgr] [URL REUSE] Reusing existing URL for hash ${t}: ${r}`,{action:"createUrl_reuse",contentHash:t,mapSize:this.urlMap.size,timestamp:Date.now()}),r):(r=URL.createObjectURL(n),this.urlMap.set(t,r),g.log(`[BlobMgr] [URL CREATION] Created URL for hash ${t}: ${r}`,{action:"createUrl_new",contentHash:t,blobType:n.type,blobSize:n.size,mapSize:this.urlMap.size,timestamp:Date.now()}),r)}getUrl(t){const n=this.urlMap.get(t)||null;return g.log(`[BlobMgr] [URL ACCESS] GetUrl for hash ${t}: ${n?"found":"not found"}`,{action:"getUrl",contentHash:t,found:!!n,mapSize:this.urlMap.size,timestamp:Date.now()}),n}revokeUrl(t){const n=this.urlMap.get(t);if(n){g.log(`[BlobMgr] [URL REVOCATION] Revoking URL for hash ${t}: ${n}`,{action:"revokeUrl",contentHash:t,mapSize:this.urlMap.size,timestamp:Date.now(),stackTrace:new Error().stack});try{URL.revokeObjectURL(n),g.log(`[BlobMgr] [URL REVOCATION] Successfully revoked URL for hash ${t}`)}catch(r){g.error(`[BlobMgr] [URL REVOCATION] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t),g.log(`[BlobMgr] [URL LIFECYCLE] Removed URL from map for hash ${t}. Map size now: ${this.urlMap.size}`)}else g.warn(`[BlobMgr] [URL REVOCATION] Attempted to revoke URL for hash ${t}, but no URL was found`)}revokeAllUrls(){const t=this.urlMap.size;g.log(`[BlobMgr] [URL BULK REVOCATION] Revoking all ${t} URLs.`,{action:"revokeAllUrls",mapSize:t,timestamp:Date.now(),hashList:Array.from(this.urlMap.keys()),stackTrace:new Error().stack}),this.urlMap.forEach((n,r)=>{try{g.log(`[BlobMgr] [URL BULK REVOCATION] Revoking URL for hash ${r}: ${n}`),URL.revokeObjectURL(n)}catch(o){g.error(`[BlobMgr] [URL BULK REVOCATION] Error revoking URL for hash ${r}:`,o)}}),this.urlMap.clear(),g.log(`[BlobMgr] [URL LIFECYCLE] Cleared all ${t} URLs from map. Map size now: ${this.urlMap.size}`)}}var _h=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(_h||{});const Gd=30*60*1e3,ji=zs.startsWith("/")?zs.replace("//","/"):`/${zs}`.replace("//","/"),Xv=e=>e.isNew===!0;class Rm{constructor(t){this.blobUrlManager=lo.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new TL,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache(ji)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache(ji),g.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),g.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<Gd?(g.log(`[MemCache] Hit folder list for ${t}`),n.data):(g.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),g.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){g.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(g.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(g.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;g.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),g.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(nE(r))return g.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw $r(r)?g.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):g.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){g.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(ji)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return g.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return g.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);g.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await qc(t,n),i=s&&s.length>0;i?g.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):g.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<Gd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{g.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){g.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await qc(t,n);if(i&&i.length>0)return g.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){g.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);g.log(`[Background Sync] Starting background sync for ${o}`);try{const s=ZC(t,n),a=(await this.listFolder(ji)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)g.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await zc(this.dbx,t,n);l=this.parseEntryDates(c),g.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(v=>v.id)),u=r.filter(v=>!d.has(v.id));if(u.length>0){g.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const v=await Aa();for(const y of u)v.some(b=>b.entity==="entry"&&b.type!=="delete"&&b.payload.entry.id===y.id)?g.log(`[Background Sync] Not deleting entry ${y.id} - has pending changes`):(g.log(`[Background Sync] Deleting orphaned entry ${y.id} from local cache`),await lr(ln,y.id))}const h=[...l].sort((v,y)=>new Date(v.date).getTime()-new Date(y.date).getTime()||v.createdAt.getTime()-y.createdAt.getTime());g.log(`[Background Sync] Storing ${h.length} entries in local cache`),await $L(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(g.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),g.log(`[Background Sync] Completed for ${o}`)}catch(s){throw g.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");g.log("[Background Sync] Starting metadata background sync");try{g.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await ML(this.dbx),r=this.parseMetadataDates(n);g.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){g.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await Aa();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?g.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(g.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await lr(mr,a.id))}g.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await VL(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(g.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),g.log("[Background Sync] Metadata sync completed")}catch(n){throw g.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){g.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await zd(),r=n&&n.length>0;r?g.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):g.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<Gd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{g.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){g.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await zd();if(r&&r.length>0)return g.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){g.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return g.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return Ll(o).catch(a=>g.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Kr(o);if(a)return g.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await Ll(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Kr(t);if(l){g.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await Hd(l.blob);return g.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await Io(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return g.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){g.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return g.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Kr(t);if(a){g.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await Hd(a.blob);return g.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await Io(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return g.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return g.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return g.log(`[Memory] Found cached URL for hash ${t}`),Ll(t).catch(s=>g.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Kr(t);if(s)return g.log(`[Cache] Found blob in IDB for hash ${t}.`),await Ll(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){g.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return g.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return g.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;g.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var v;return((v=h.photoMetadata)==null?void 0:v.contentHash)===t});if(!(i!=null&&i.photoFilename))return g.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Il}/${a}`.replace("//","/");g.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return g.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;g.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await Io(t,d,"full"),this.generateThumbnailInBackground(t,d),g.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){g.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await Wc(10),await Io(t,d,"full"),this.generateThumbnailInBackground(t,d),g.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(v){g.error(`[Cache] Failed to prune and retry caching for ${t}:`,v)}}else g.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return g.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,T,D;if(g.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(A=>A.photoId))??[]),c=[];i&&l.forEach(A=>{t.photos.some(L=>!Xv(L)&&L.photoId===A)||g.log(`[Save] Photo ${A} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let v=null,y=null;if(n){const A=new Date(n.date+"T00:00:00Z");v=A.getUTCFullYear(),y=A.getUTCMonth()+1}const x=i&&(u!==v||h!==y);for(const A of t.photos){let M=null,L,_=null,Y=!1;if(Xv(A)){const V=A.file;L=A.crop,_=await FL(V);const K=o.find(N=>{var O;return((O=N.photoMetadata)==null?void 0:O.contentHash)===_});if(K)M=K.id,g.log(`[Save] Hash collision for ${V.name}. Using existing ID: ${M}`),l.has(M)||(Y=!0),await Kr(_)||c.push({hash:_,blob:V});else{g.log(`[Save] Uploading new photo: ${V.name}`);const N=Date.now(),O=crypto.randomUUID().substring(0,8),R=V.name.replace(/[^a-zA-Z0-9.]/g,"_"),I=`${N}_${O}_${R}`,j={id:crypto.randomUUID(),photoFilename:I,photoMetadata:{filename:V.name,mimeType:V.type,width:(E=A.originalDimensions)==null?void 0:E.width,height:(P=A.originalDimensions)==null?void 0:P.height,exifDate:((T=A.exifData)==null?void 0:T.exifDate)??null,contentHash:_},createdAt:new Date},H=crypto.randomUUID(),ee={actionId:H,type:"create",entity:"photoUpload",payload:{contentHash:_,photoFilename:I,folder:Il},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(ee),g.log(`[Save] Photo upload added to sync queue. ActionId: ${H}, Hash: ${_}`),M=j.id,o.push(j),a.push(j),await vo(mr,j.id,j),Y=!0,c.push({hash:_,blob:V}),g.log(`[Save] New photo uploaded. ID: ${M}, Hash: ${_}`)}}else{M=A.photoId,L=A.crop;const V=o.find(K=>K.id===M);_=((D=V==null?void 0:V.photoMetadata)==null?void 0:D.contentHash)??null,(!i||!l.has(M))&&(Y=!0),_&&(await Kr(_)||g.warn(`[Save] Existing photo blob missing from cache for hash: ${_} (ID: ${M})`)),g.log(`[Save] Keeping existing photo ID: ${M}. Is addition? ${Y}. Hash: ${_}`)}M&&s.push({photoId:M,crop:L})}for(const{hash:A,blob:M}of c)await Io(A,M,"full");const b=t.date.toISOString().split("T")[0],m=new Date;let w;if(n?w={...n,date:b,content:t.content,photos:s,updatedAt:m}:w={id:crypto.randomUUID(),date:b,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),x&&v!==null&&y!==null){g.log(`[Save] Deleting entry ${w.id} from local database due to date change`),await lr(ln,w.id),g.log(`[Save] Adding entry ${w.id} to local database due to date change`),await vo(ln,w.id,w);const A=crypto.randomUUID(),M={actionId:A,type:"update",entity:"entry",payload:{entry:w,year:v,month:y,isDateChange:!0,oldYear:v,oldMonth:y},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(M),g.log(`[Save] Date change original month update added to sync queue. ActionId: ${A}`)}else{g.log(`[Save] Saving entry ${w.id} to local database`),await vo(ln,w.id,w);const A=crypto.randomUUID(),M={actionId:A,type:n?"update":"create",entity:"entry",payload:{entry:w,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(M),g.log(`[Save] Entry save added to sync queue. ActionId: ${A}, ID: ${w.id}`)}g.log(`[Save] Queueing metadata update with ${a.length} entries`);const S=crypto.randomUUID(),C={actionId:S,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(C),g.log(`[Save] Metadata update added to sync queue. ActionId: ${S}`),r&&this.dbx&&(g.log("[Save] Online mode - triggering immediate processing of save queue in background"),Yv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Kr(r)){g.log(`[Background] Thumbnail already exists for hash ${t}.`);return}g.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await Hd(n);g.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await Io(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){g.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await Wc(10),await Io(r,s,"thumb"),g.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){g.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else g.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){g.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){g.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}g.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){g.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await zc(this.dbx,a,l);g.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){g.error(`[Cleanup] Error processing entries file ${s}:`,i)}g.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){g.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(g.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var v;if(h.photoFilename)try{if(g.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await _L(this.dbx,h.photoFilename,Il)){g.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const x=(v=h.photoMetadata)==null?void 0:v.contentHash;x&&(await As(x),await As(`${x}-thumb`),this.blobUrlManager.revokeUrl(x),this.blobUrlManager.revokeUrl(`${x}-thumb`))}}catch(y){g.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,y)}else g.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),g.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}g.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await Rh(this.dbx,l);for(const c of o)BL(c.id)}else g.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(g.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){g.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?g.log("[Deletion Sync] Photo deletions sync completed successfully"):g.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?g.log("[Deletion Sync] Entry deletions sync completed successfully"):g.error("[Deletion Sync] Entry deletions sync failed:",n.reason),g.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){g.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(g.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Il)).filter(i=>i[".tag"]==="file").map(i=>i.name);g.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await zd();if(!r||r.length===0){g.log("[Deletion Sync] No local metadata to check");return}g.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){g.log("[Deletion Sync] No orphaned photo metadata found");return}g.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)g.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await lr(mr,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await As(i.photoMetadata.contentHash),await As(`${i.photoMetadata.contentHash}-thumb`));g.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(g.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(ji)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);g.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await UL();if(!r||r.length===0){g.log("[Deletion Sync] No local entries to check");return}g.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(g.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>lr(ln,l.id))))}g.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){g.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){g.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}g.log(`[Delete] Deleting entry ${t} from local database`),await lr(ln,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(l),g.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(g.log("[Delete] Online mode - triggering immediate processing of save queue in background"),Yv(this.dbx,o)),g.log("[Delete] deleteEntry operation completed.")}catch(s){throw g.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){g.log("[Prefetch] Skipping prefetch while offline.");return}g.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){g.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>g.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){g.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>g.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var XL="rpc",ZL="upload",JL="download",Kd="app",Yd="user",Qd="team",eF="noauth",tF="cookie",Hc="dropboxapi.com",Zv="dropbox.com",Nh={api:"api",notify:"bolt",content:"api-content"},k={};k.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};k.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};k.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};k.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};k.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};k.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};k.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};k.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};k.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};k.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};k.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};k.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};k.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};k.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};k.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};k.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};k.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};k.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};k.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};k.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};k.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};k.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};k.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};k.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};k.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};k.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};k.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};k.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};k.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};k.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};k.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};k.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};k.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};k.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};k.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};k.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};k.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};k.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};k.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};k.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};k.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};k.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};k.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};k.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};k.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};k.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};k.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};k.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};k.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};k.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};k.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};k.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};k.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};k.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};k.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};k.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};k.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};k.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};k.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};k.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};k.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};k.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};k.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};k.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};k.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};k.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};k.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};k.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};k.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};k.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};k.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};k.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};k.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};k.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};k.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};k.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};k.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};k.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};k.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};k.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};k.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};k.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};k.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};k.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};k.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};k.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};k.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};k.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};k.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};k.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};k.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};k.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};k.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};k.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};k.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};k.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};k.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};k.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};k.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};k.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};k.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};k.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};k.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};k.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};k.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};k.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};k.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};k.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};k.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};k.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};k.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};k.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};k.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};k.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};k.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};k.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};k.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};k.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};k.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};k.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};k.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};k.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};k.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};k.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};k.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};k.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};k.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};k.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};k.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};k.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};k.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};k.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};k.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};k.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};k.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};k.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};k.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};k.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};k.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};k.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};k.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};k.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};k.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};k.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};k.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};k.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};k.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};k.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};k.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};k.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};k.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};k.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};k.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};k.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};k.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};k.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};k.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};k.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};k.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};k.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};k.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};k.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};k.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};k.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};k.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};k.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};k.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};k.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};k.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};k.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};k.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};k.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};k.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};k.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};k.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};k.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};k.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};k.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};k.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};k.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};k.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};k.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};k.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};k.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};k.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};k.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};k.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};k.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};k.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};k.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};k.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};k.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};k.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};k.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};k.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};k.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};k.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};k.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};k.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};k.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};k.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};k.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};k.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};k.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};k.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};k.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};k.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};k.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};k.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};k.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};k.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};k.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};k.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};k.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};k.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};k.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};k.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};k.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};k.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};k.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};k.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};k.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};k.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};k.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};k.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};k.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};k.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};k.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};k.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};k.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};k.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};k.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};k.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};k.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};k.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};k.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};k.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};k.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};k.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};k.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};k.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};k.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};k.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};k.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};k.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};k.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};k.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};k.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};k.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};k.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};k.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};k.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};k.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};k.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};k.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};k.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};k.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};k.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};k.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};k.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};k.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function nF(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Xd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Hc&&Nh[t]!==void 0&&(t=Nh[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},rF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zv;return t!==Zv&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Jv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Hc&&(r=Nh[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function ew(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,nF)}function oF(e){return new Date(Date.now()+e*1e3)}function tw(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof hD>"u"||typeof window<"u"}function Zd(){return typeof window<"u"}function Jd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Fl(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function ac(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ac=function(n){return typeof n}:ac=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ac(e)}function sF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}function aF(e){var t=fE();return function(){var r=Ma(e),o;if(t){var s=Ma(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return lF(this,o)}}function lF(e,t){return t&&(ac(t)==="object"||typeof t=="function")?t:cF(e)}function cF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(e){var t=typeof Map=="function"?new Map:void 0;return Lh=function(r){if(r===null||!uF(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return lc(r,arguments,Ma(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ra(o,r)},Lh(e)}function lc(e,t,n){return fE()?lc=Reflect.construct:lc=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Ra(c,i.prototype),c},lc.apply(null,arguments)}function fE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function uF(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ra(e,t){return Ra=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ra(e,t)}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ma(e)}var dF=function(e){iF(n,e);var t=aF(n);function n(r,o,s){var i;return sF(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(Lh(Error));function fF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var hE=function e(t,n,r){fF(this,e),this.status=t,this.headers=n,this.result=r};function pE(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new dF(e.status,e.headers,n)})}function Gc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new hE(e.status,e.headers,n)}):pE(e)}function hF(e){return e.ok?new Promise(function(t){tw()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return tw()?n.fileBlob=t:n.fileBinary=t,new hE(e.status,e.headers,n)}):pE(e)}function pF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gF(e,t,n){return t&&mF(e.prototype,t),e}var jl,_o,ef,yF=300*1e3,nw=128,vF=["legacy","offline","online"],wF=["code","token"],xF=["none","user","team"],mE=function(){function e(t){pF(this,e),t=t||{},Zd()?(jl=window.fetch.bind(window),_o=window.crypto||window.msCrypto):Jd()?(jl=self.fetch.bind(self),_o=self.crypto):(jl=require("node-fetch"),_o=require("crypto")),typeof TextEncoder>"u"?ef=require("util").TextEncoder:ef=TextEncoder,this.fetch=t.fetch||jl,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return gF(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new ef,o=r.encode(this.codeVerifier),s;if(Zd()||Jd())return _o.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=Fl(l).substr(0,128),n.codeChallenge=s});var i=_o.createHash("sha256").update(o).digest();return s=Fl(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Zd()||Jd()){var r=new Uint8Array(nw),o=_o.getRandomValues(r),s=btoa(o);n=Fl(s).substr(0,128)}else{var i=_o.randomBytes(nw);n=Fl(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=rF(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!wF.includes(s))throw new Error("Authorization type must be code or token");if(i&&!vF.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!xF.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Jv(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return Gc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+yF)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Jv(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return Gc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(oF(c.result.expires_in))})}}]),e}();function SF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CF(e,t,n){return t&&bF(e.prototype,t),e}var EF=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,rw=function(){function e(t){SF(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new mE(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,k)}return CF(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case XL:return this.rpcRequest(n,r,o,s);case JL:return this.downloadRequest(n,r,o,s);case ZL:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Xd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Gc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":ew(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Xd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return hF(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":ew(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Xd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Gc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Yd)&&this.auth.getAccessToken()?n=Yd:o.includes(Qd)&&this.auth.getAccessToken()?n=Qd:o.includes(Kd)&&(n=Kd)}switch(n){case Kd:if(this.auth.clientId&&this.auth.clientSecret){var s=EF("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Qd:case Yd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case eF:case tF:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function PF(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function kF(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{g.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new mE({clientId:DL}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(w=>{g.log("Generated auth URL, redirecting..."),window.location.href=String(w)}).catch(w=>{g.error("Dropbox auth URL generation failed:",w),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){g.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{g.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const v=f.useCallback((b,m=!1)=>{g.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(g.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(g.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const w=new rw({accessToken:b});let S=!0;return w.usersGetCurrentAccount().then(C=>{if(!S)return;const E=C.result;t(w),r(!0),u(E),c(null),g.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(S)if(g.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),PF(C))g.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{g.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{S&&(g.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{S=!1}},[n]);f.useEffect(()=>{g.log("[useDropboxAuth useEffect] Running effect.");let b,w=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const S=localStorage.getItem("dropboxToken");let C=null;return w?(g.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",w),C=w,g.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):S&&(g.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=S),C?b=v(C,!1):(g.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{b==null||b(),g.log("[useDropboxAuth useEffect] Cleanup.")}},[v]);const y=f.useCallback(()=>{g.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?v(b,!0):g.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,v]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{g.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),b&&new rw({accessToken:b}).authTokenRevoke().then(()=>g.log("Dropbox token revoked successfully.")).catch(w=>g.error("Failed to revoke Dropbox token:",w))},tryVerifyStoredToken:y}}function TF(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,w)=>{const S=new Date(w,m-1),C=new Date(o,n-1);S>C?a(1):S<C?a(-1):a(0),r(m),s(w)},[n,o]),u=f.useCallback(()=>{let m=n,w=o;m===1?(w--,m=12):m--,d(m,w)},[n,o,d]),h=f.useCallback(()=>{let m=n,w=o;m===12?(w++,m=1):m++,d(m,w)},[n,o,d]),v=f.useCallback((m,w)=>{d(m,w),c(!1)},[d]),y=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),x=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:v,handleCalendarSwipe:y,openMonthYearPicker:x,closeMonthYearPicker:b,setSwipeDirection:a}}function DF(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((y,x)=>{s(y),r(x),a(!1),t(!0)},[]),u=f.useCallback(y=>{c(y),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),v=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:v}}const tf=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Fh=()=>{const[e,t]=f.useState(tf());f.useEffect(()=>{const r=()=>{const o=tf();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=tf();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},gE=f.createContext(void 0),AF=({children:e})=>{const{toast:t}=Qa(),[,n]=Fh(),r=f.useRef(!0),o=kF(),s=TF(new Date().getMonth()+1,new Date().getFullYear()),i=DF(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),v=f.useRef(u),[y,x]=f.useState([]),[b,m]=f.useState(!1),[w,S]=f.useState([]),[C,E]=f.useState(!1),[P,T]=f.useState(null),[D,A]=f.useState(null),[M,L]=f.useState(null),[_,Y]=f.useState(!1),[V,K]=f.useState("calendar"),[N,O]=f.useState(null),[R,I]=f.useState(null),j=lo.getInstance(),[H,ee]=f.useState(!1),[Ae,ce]=f.useState(0),[Je,te]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;g.log("[AppContext] Setting up periodic storage check and pruning"),Wd().catch(q=>{g.error("[AppContext] Periodic storage check/prune error:",q)});const U=setInterval(()=>{r.current&&(g.log("[AppContext] Running periodic storage check and pruning"),Wd().catch(q=>{g.error("[AppContext] Periodic storage check/prune error:",q)}))},5*60*1e3);return()=>{clearInterval(U)}},[c,a]),f.useEffect(()=>{const U=()=>r.current&&h(!0),q=()=>r.current&&h(!1);return window.addEventListener("online",U),window.addEventListener("offline",q),g.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),v.current=navigator.onLine,()=>{window.removeEventListener("online",U),window.removeEventListener("offline",q),j.revokeAllUrls()}},[j]),f.useEffect(()=>{!v.current&&u&&(g.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(g.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):g.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),v.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const U=q=>{const G=q;G.message&&G.message.includes("QuotaExceededError")&&(g.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),Wc(20).catch(fe=>{g.error("[AppContext] Failed to prune cache:",fe)})),G.message&&G.message.includes("IndexedDB")&&(g.error("[AppContext] IndexedDB error detected:",G.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",U),()=>{window.removeEventListener("error",U)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(g.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(g.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const q=new Rm(o.dbx);q.on(_h.ENTRIES_UPDATED,G=>{g.log(`[AppContext] Entries updated event received for ${G.year}-${G.month}`),G.year===s.currentYear&&G.month===s.currentMonth&&(g.log("[AppContext] Updated entries are for current month, refreshing UI"),x(G.entries))}),q.on(_h.METADATA_UPDATED,G=>{g.log("[AppContext] Metadata updated event received"),S(G.metadata)}),l(q),d(!0),g.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(g.log("[AppContext] Triggering background deletion sync with Dropbox..."),q.syncDeletionsFromDropbox().catch(G=>{g.error("[AppContext] Background deletion sync failed:",G)})),await qL(),E(!0),L(null);try{const G=await q.fetchImagesMetadata(u);r.current&&S(G),g.log(`[AppContext] Initial metadata fetch/load success. Count: ${G.length}`)}catch(G){g.error("[AppContext] Err fetch/load initial metadata:",G),r.current&&L(G instanceof Error?G:new Error("Failed metadata load"))}finally{r.current&&E(!1)}Wd().catch(G=>{g.error("[AppContext] Initial storage check/prune error:",G)})}catch(q){g.error("[AppContext] Failed to initialize PhotoJournalClient:",q),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),T(null);const U=s.currentYear,q=s.currentMonth;g.log(`[AppContext] Fetching entries effect triggered for ${U}-${q+1}. Online: ${u}`),a.fetchEntriesForMonth(U,q,u).then(G=>{g.log(`[AppContext] Fetched/Loaded ${G.length} entries for ${U}-${q+1}`),r.current&&(x(G),u&&o.isAuthenticated&&a.triggerPrefetch(U,q,u))}).catch(G=>{g.error(`[AppContext] Err fetch/load entries for ${U}-${q+1}:`,G),r.current&&T(G instanceof Error?G:new Error("Failed entries load"))}).finally(()=>{g.log(`[AppContext] Finished fetching/loading entries for ${U}-${q+1}. isLoadingEntries: false`),r.current&&m(!1)})}else x([]),m(!1),T(null),g.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{j.revokeAllUrls(),o.logout(),I(null),x([]),S([]),l(null),d(!1)},[o,j]),f.useEffect(()=>{A(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{M&&t({title:"Metadata Error",description:M.message,variant:"destructive"})},[M,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{D&&t({title:"Operation Error",description:D.message,variant:"destructive"})},[D,t]),f.useEffect(()=>{const U=window.location.hash,q=U.match(/shareKey=([\w-]+)/);if(q&&q[1]){const G=q[1];g.log(`[App Context] Share detected via hash, setting shareKeyForForm: ${G}`),O(G),n("/",{replace:!0})}else U.includes("/phojo/")&&(g.log(`[App Context] Detected incorrect hash path: ${U}, redirecting to root`),n("/",{replace:!0}))},[n]),f.useEffect(()=>{const U=fe=>{const pe=fe.data;if(!pe){g.warn("[App Context] Received SW message with no data");return}g.log(`[App Context] Received SW message of type: ${pe.type}`,{key:pe.key,filesCount:pe.files?pe.files.length:"none",error:pe.error||"none"}),pe.type==="SHARED_FILES_READY"&&pe.key?(g.log(`[App Context] Processing SHARED_FILES_READY with key: ${pe.key}`),O(pe.key),n("/entry/new")):pe.type==="STORED_FILES_ERROR"&&(g.error("[App Context] Received STORED_FILES_ERROR:",pe.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${pe.error||"Unknown error"}`,variant:"destructive"}))},q=fe=>{r.current&&U(fe)};let G=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(fe=>{fe.active&&r.current?(navigator.serviceWorker.addEventListener("message",q),G=!0,g.log("[App Context] Service worker message listener attached.")):g.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(G&&"serviceWorker"in navigator){g.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",q)}catch(fe){g.warn("[App Context] Error removing SW message listener:",fe)}}}},[t]);const ve=f.useCallback(()=>{g.log("[AppContext] Clearing shareKeyForForm"),O(null)},[]),ae=f.useCallback(U=>{if(navigator.serviceWorker.controller){const q={type:"DELETE_STORED_FILES",key:U};g.log(`[App Context] Sending DELETE_STORED_FILES message to service worker with key: ${U}`),navigator.serviceWorker.controller.postMessage(q)}else g.warn(`[App Context] Cannot delete files - SW controller not available for key: ${U}`)},[]),Ee=f.useCallback(async(U,q)=>{if(!c||!a||!U)return null;try{return await a.getPhotoBlobUrl(U,q,u)}catch(G){return g.error(`getPhotoBlobUrl Error for hash ${U} (ID ${q}):`,G),null}},[a,c,u]),Ye=f.useCallback(async(U,q)=>{if(!c||!a||!U)return null;try{return await a.getPhotoThumbnailUrl(U,q,u)}catch(G){return g.error(`getPhotoThumbnailUrl Error for hash ${U} (ID ${q}):`,G),null}},[a,c,u]),ke=f.useCallback(async U=>{if(!c||!a)throw new Error("Client not ready");let q=[];try{q=await a.fetchImagesMetadata(u),r.current&&w.length===0&&q.length>0&&S(q)}catch(pe){g.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",pe),q=w}const G=(U.photos||[]).map(async pe=>{let ze=null,Ue=null;const et=q.find(X=>X.id===pe.photoId),$=(et==null?void 0:et.photoMetadata)??null,F=(et==null?void 0:et.photoFilename)??null,z=$==null?void 0:$.contentHash;if(!z)g.warn(`Metadata or contentHash missing for photoId: ${pe.photoId}`);else{const[X,he]=await Promise.all([Ee(z,pe.photoId),Ye(z,pe.photoId)]);ze=X,Ue=he}return{...pe,photoUrl:ze,thumbnailUrl:Ue,photoMetadata:$,photoFilename:F}}),fe=await Promise.all(G);return{...U,photos:fe}},[a,c,w,u,Ee]),oe=f.useCallback(async()=>{if(V!=="calendar"||!r.current||!c||!a)return;let U=0;const q=3;let G=document.querySelectorAll(".day-with-image");for(;G.length===0&&U<q;){g.log(`[loadDayBackgrounds] No day elements found, retrying (${U+1}/${q})...`);const F=200*Math.pow(2,U);await new Promise(z=>setTimeout(z,F)),G=document.querySelectorAll(".day-with-image"),U++}if(y.length===0||G.length===0){g.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const fe=new Map;y.forEach(F=>{if(F.photos&&F.photos.length>0){const z=fe.get(F.date),X=F.createdAt instanceof Date?F.createdAt:new Date(F.createdAt),he=(z==null?void 0:z.createdAt)instanceof Date?z.createdAt:new Date(0);(!z||X.getTime()>he.getTime())&&fe.set(F.date,F)}});let pe=[];try{pe=await a.fetchImagesMetadata(u),r.current&&w.length===0&&pe.length>0&&S(pe)}catch(F){g.error("[loadDayBackgrounds] Failed fetch/load metadata:",F),pe=w}const ze=(F,z,X)=>{var Be;if(!r.current)return;const he=z.crop,me=X==null?void 0:X.width,ye=X==null?void 0:X.height,Ie=(Be=F.parentElement)==null?void 0:Be.getBoundingClientRect(),We=(Ie==null?void 0:Ie.width)??0;if(he&&me&&ye&&me>0&&ye>0&&he.w>0&&We>0){const He=We/he.w,Pt=me*He,Ut=ye*He,Xt=-he.x*He,kt=-he.y*He;Object.assign(F.style,{width:`${Pt}px`,height:`${Ut}px`,transform:`translate(${Xt}px, ${kt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(F.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&F.classList.add("img-loaded")})},Ue=F=>{F.src&&F.src.startsWith("blob:")&&j.revokeUrl(F.getAttribute("data-content-hash")??""),F.removeAttribute("src"),Object.assign(F.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),F.classList.remove("img-loaded"),F.removeAttribute("data-photo-id"),F.removeAttribute("data-content-hash")},et=new Set;G.forEach(F=>{var Ie,We;const z=F.getAttribute("data-day");if(!z)return;const he=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(z))).toISOString().split("T")[0],me=fe.get(he),ye=(Ie=me==null?void 0:me.photos)==null?void 0:Ie[0];if(ye!=null&&ye.photoId){const Be=pe.find(Pt=>Pt.id===ye.photoId),He=(We=Be==null?void 0:Be.photoMetadata)==null?void 0:We.contentHash;He&&et.add(He)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(F=>{const z=F,X=z.getAttribute("data-content-hash");X&&!et.has(X)&&Ue(z)});const $=Array.from(G).map(async F=>{var Ut,Xt;const z=F.getAttribute("data-day");if(!z)return;const he=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(z))).toISOString().split("T")[0],me=F.querySelector(".calendar-day-img");if(!me)return;const ye=fe.get(he),Ie=(Ut=ye==null?void 0:ye.photos)==null?void 0:Ut[0],We=(Ie==null?void 0:Ie.photoId)??null,Be=We?pe.find(kt=>kt.id===We):null,He=((Xt=Be==null?void 0:Be.photoMetadata)==null?void 0:Xt.contentHash)??null,Pt=me.getAttribute("data-content-hash");if(Pt&&Pt!==He&&Ue(me),He&&a&&Pt!==He&&We&&Ie&&(Be!=null&&Be.photoMetadata)){me.setAttribute("data-photo-id",We),me.setAttribute("data-content-hash",He);let kt=null;const Nt=Ie.crop,yt=Be.photoMetadata.width||0,fs=Be.photoMetadata.height||0,nr=Nt.w*Nt.h/(yt*fs);(nr<.3||Nt.w<300||Nt.h<300)&&yt>0?(g.log(`[loadDayBackgrounds] Using full image for day ${z} (crop ratio: ${nr.toFixed(2)})`),kt=await Ee(He,We)):kt=await Ye(He,We),kt&&r.current&&me.getAttribute("data-content-hash")===He?(me.src=kt,ze(me,Ie,Be.photoMetadata)):r.current&&me.getAttribute("data-content-hash")===He&&Ue(me)}else!He&&Pt&&Ue(me)});await Promise.all($)},[a,c,y,s,w,V,u,Ee,Ye,j]);f.useEffect(()=>{let U=null;return V==="calendar"&&c&&a?U=setTimeout(()=>{r.current&&(g.log("[AppContext] Triggering loadDayBackgrounds from effect."),oe())},500):document.querySelectorAll(".calendar-day-img").forEach(q=>{const G=q;G.src&&G.src.startsWith("blob:")&&j.revokeUrl(G.getAttribute("data-content-hash")??""),G.removeAttribute("src"),Object.assign(G.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),G.classList.remove("img-loaded"),G.removeAttribute("data-photo-id"),G.removeAttribute("data-content-hash")}),()=>{U&&clearTimeout(U)}},[oe,V,j,y,w,c,a]);const xe=f.useCallback(U=>{const G=new Date(Date.UTC(s.currentYear,s.currentMonth-1,U)).toISOString().split("T")[0];return y.filter(fe=>fe.date===G)},[y,s.currentMonth,s.currentYear]),ie=f.useCallback(U=>y.find(q=>q.id===U),[y]),Ve=f.useCallback(async U=>{if(g.log(`[AppContext] loadSpecificEntry called for ID: ${U}`),!c||!a)return g.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const q=ie(U);if(q)return q;g.log(`[AppContext] loadSpecificEntry: Entry ${U} not in current month. Searching...`);try{const G=await a.listEntryFiles();if(!G)return g.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const fe of G){const pe=fe.match(/^(\d{4})-(\d{2})-entries\.json$/);if(pe){const ze=parseInt(pe[1],10),Ue=parseInt(pe[2],10)-1;if(ze===s.currentYear&&Ue===s.currentMonth)continue;const $=(await a.fetchEntriesForMonth(ze,Ue,u)).find(F=>F.id===U);if($)return g.log(`[AppContext] loadSpecificEntry: Entry ${U} found in ${ze}-${Ue+1}`),$}}}catch(G){g.error("[AppContext] loadSpecificEntry: Error searching other months:",G)}return g.warn(`[AppContext] loadSpecificEntry: Entry ${U} not found in any month.`),null},[a,c,ie,s.currentYear,s.currentMonth,u]),St=f.useCallback(async U=>{if(g.log(`[AppContext handleDayClick] START - Day: ${U}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){g.log("[AppContext handleDayClick] EXIT - Client not ready");return}const q=xe(U),G=new Date(Date.UTC(s.currentYear,s.currentMonth-1,U));if(g.log(`[AppContext handleDayClick] Day: ${U}, Entries found: ${q.length}`),q.length>0)g.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(G,q);else{const fe=G.toISOString().split("T")[0];g.log("[AppContext handleDayClick] Navigating to /entry/new for date:",fe),n(`/entry/new?date=${fe}`)}},[a,c,s.currentMonth,s.currentYear,xe,i.openViewEntriesModal,n,u,t]),pt=f.useCallback(U=>{n(`/entry/edit/${U}`)},[n]),_t=f.useCallback(U=>{i.openDeleteConfirmation(U)},[i.openDeleteConfirmation]),st=f.useCallback(async(U,q)=>{if(U.content=U.content.trim(),!c||!a)return A(new Error("Client not ready.")),!1;const G=!o.isAuthenticated||!u;G&&u&&g.log("[AppContext] User is online but not authenticated. Treating as offline mode."),Y(!0),A(null),T(null);try{const fe=U.date.getUTCFullYear(),pe=U.date.getUTCMonth()+1;let ze=null,Ue=null;if(q){const z=new Date(q.date+"T00:00:00Z");ze=z.getUTCFullYear(),Ue=z.getUTCMonth()+1}g.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}, Effectively Offline: ${G}`),await a.saveEntry(U,q,!G),G&&t({title:u?"Saved Locally":"Saved Offline",description:u?"Entry saved locally and will sync when you log in.":"Entry saved locally and will sync when online.",variant:"default"});let et=w,$=y,F=null;try{const z=await qc(fe,pe);if(z&&z.length>0&&($=z),q&&(ze!==fe||Ue!==pe)&&ze===s.currentYear&&Ue===s.currentMonth){const X=await qc(ze,Ue);X&&X.length>0&&(F=X)}}catch(z){g.error("[AppContext] Error fetching cached entries after offline save:",z)}return r.current&&(S(et),fe===s.currentYear&&pe===s.currentMonth?x($):F!==null&&x(F),(fe!==s.currentYear||pe!==s.currentMonth)&&s.handleMonthYearSelect(pe,fe),n("/")),!0}catch(fe){return g.error("[AppContext] Save Err: Failed save entry:",fe),r.current&&A(fe instanceof Error?fe:new Error("Failed to save entry")),!1}finally{r.current&&Y(!1)}},[a,c,w,s,n,o.isAuthenticated,i,u,t,y]),mt=f.useCallback(async()=>{if(!c||!i.entryToDeleteId||!a)return;(!o.isAuthenticated||!u)&&u&&g.log("[AppContext] User is online but not authenticated. Treating as offline mode for deletion."),Y(!0),A(null),T(null);try{const q=i.entryToDeleteId,G=ie(q);if(G){const fe=new Date(G.date+"T00:00:00Z"),pe=fe.getUTCFullYear(),ze=fe.getUTCMonth()+1;g.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,pe,ze,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{g.error(`Delete Error: Could not find entry source for ID ${q}`);const fe=await Ve(q);if(!fe){A(new Error("Could not find entry to delete")),Y(!1),i.closeDeleteDialog();return}const pe=new Date(fe.date+"T00:00:00Z"),ze=pe.getUTCFullYear(),Ue=pe.getUTCMonth()+1;if(g.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,ze,Ue,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),ze===s.currentYear&&Ue===s.currentMonth){const et=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&x(et)}}if(i.closeDeleteDialog(),i.closeViewModal(),x(fe=>fe.filter(pe=>pe.id!==q)),u){const fe=await a.fetchImagesMetadata(u).catch(pe=>(g.error("Delete Success: Failed post-delete metadata refresh:",pe),w));r.current&&S(fe)}}catch(q){g.error("[AppContext] Delete Error:",q),r.current&&A(q instanceof Error?q:new Error("Failed to delete entry"))}finally{r.current&&Y(!1)}},[a,c,i,y,s,ie,Ve,o.isAuthenticated,u,t,w]),gt=f.useCallback(async()=>{try{if(r.current){const U=await Aa();ce(U.length)}}catch(U){g.error("[AppContext] Error getting pending sync count:",U)}},[]),$t=f.useCallback(async()=>{if(H){g.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await gt(),Ae!=0&&(r.current&&(ee(!0),te(null)),uE(o.dbx,u,U=>{gt(),Ae<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(U,q)=>{r.current&&te(q),t({title:"Sync Error",description:`Failed to sync some changes: ${q.message}`,variant:"destructive"})}).catch(U=>{g.error("[AppContext] Error processing save queue:",U),r.current&&te(U instanceof Error?U:new Error("Failed to sync changes"))}).finally(()=>{gt(),r.current&&ee(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,gt,Ae,H]);f.useEffect(()=>{gt();const U=setInterval(()=>{gt()},3e4);return()=>clearInterval(U)},[gt]),f.useEffect(()=>{u&&!v.current&&o.isAuthenticated?(g.log("[AppContext] Coming back online, triggering background sync"),$t()):gt(),v.current=u},[u,o.isAuthenticated,$t,gt]),f.useEffect(()=>{u&&c&&a&&(g.log("[AppContext] Checking for items in save queue due to client ready"),$t())},[c,a,u,$t]);const Te={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:H,pendingSyncCount:Ae,syncError:Je,triggerBackgroundSync:$t,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:V,setMonthViewType:K,currentMonthEntries:y,isLoadingEntries:b,imagesMetadata:w,isLoadingImagesMeta:C,entriesError:P,operationError:D,imagesMetaError:M,setEntriesError:T,setImagesMetaError:L,clearOperationError:()=>A(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:_,handleSaveEntry:st,handleDeleteEntry:mt,loadDayBackgrounds:oe,getPhotoBlobUrl:Ee,getPhotoThumbnailUrl:Ye,getCombinedEntryDetails:ke,getEntriesForDay:xe,getEntryById:ie,loadSpecificEntry:Ve,handleDayClick:St,handleEditRequest:pt,handleDeleteRequest:_t,shareKeyForForm:N,clearShareKeyForForm:ve,deleteSharedFilesFromStorage:ae,navigate:n};return p.jsx(gE.Provider,{value:Te,children:e})};function er(){const e=f.useContext(gE);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const RF=Za("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function MF({className:e,variant:t,...n}){return p.jsx("div",{className:re(RF({variant:t}),e),...n})}function IF(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=er();if(!e||!t&&n===0&&!r)return null;let s=Fv,i="",a="",l="outline";return r?(s=iC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=r_,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Fv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(YC,{children:p.jsxs(wL,{children:[p.jsx(xL,{asChild:!0,children:p.jsxs(Ge,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:re("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(MF,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(QC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var _F=f.createContext(void 0);function el(e){const t=f.useContext(_F);return e||t||"ltr"}var nf="rovingFocusGroup.onEntryFocus",NF={bubbles:!1,cancelable:!0},Bu="RovingFocusGroup",[jh,yE,LF]=Du(Bu),[FF,zu]=hn(Bu,[LF]),[jF,OF]=FF(Bu),vE=f.forwardRef((e,t)=>p.jsx(jh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(jh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx($F,{...e,ref:t})})}));vE.displayName=Bu;var $F=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),v=je(t,h),y=el(s),[x=null,b]=wr({prop:i,defaultProp:a,onChange:l}),[m,w]=f.useState(!1),S=ct(c),C=yE(n),E=f.useRef(!1),[P,T]=f.useState(0);return f.useEffect(()=>{const D=h.current;if(D)return D.addEventListener(nf,S),()=>D.removeEventListener(nf,S)},[S]),p.jsx(jF,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:x,onItemFocus:f.useCallback(D=>b(D),[b]),onItemShiftTab:f.useCallback(()=>w(!0),[]),onFocusableItemAdd:f.useCallback(()=>T(D=>D+1),[]),onFocusableItemRemove:f.useCallback(()=>T(D=>D-1),[]),children:p.jsx(Se.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:v,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{E.current=!0}),onFocus:se(e.onFocus,D=>{const A=!E.current;if(D.target===D.currentTarget&&A&&!m){const M=new CustomEvent(nf,NF);if(D.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=C().filter(N=>N.focusable),_=L.find(N=>N.active),Y=L.find(N=>N.id===x),K=[_,Y,...L].filter(Boolean).map(N=>N.ref.current);SE(K,d)}}E.current=!1}),onBlur:se(e.onBlur,()=>w(!1))})})}),wE="RovingFocusGroupItem",xE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Yo(),l=s||a,c=OF(wE,n),d=c.currentTabStopId===l,u=yE(n),{onFocusableItemAdd:h,onFocusableItemRemove:v}=c;return f.useEffect(()=>{if(r)return h(),()=>v()},[r,h,v]),p.jsx(jh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:se(e.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:se(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=BF(y,c.orientation,c.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let m=u().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")m.reverse();else if(x==="prev"||x==="next"){x==="prev"&&m.reverse();const w=m.indexOf(y.currentTarget);m=c.loop?zF(m,w+1):m.slice(w+1)}setTimeout(()=>SE(m))}})})})});xE.displayName=wE;var UF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BF(e,t,n){const r=VF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return UF[r]}function SE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function zF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bE=vE,CE=xE,qF="Toggle",Mm=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=wr({prop:n,onChange:o,defaultProp:r});return p.jsx(Se.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:se(e.onClick,()=>{e.disabled||a(!i)})})});Mm.displayName=qF;var EE=Mm,Ci="ToggleGroup",[PE,n3]=hn(Ci,[zu]),kE=zu(),Im=Tt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(WF,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(HF,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ci}\``)});Im.displayName=Ci;var[TE,DE]=PE(Ci),WF=Tt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=wr({prop:n,defaultProp:r,onChange:o});return p.jsx(TE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:Tt.useCallback(()=>a(""),[a]),children:p.jsx(AE,{...s,ref:t})})}),HF=Tt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=wr({prop:n,defaultProp:r,onChange:o}),l=Tt.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=Tt.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(TE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(AE,{...s,ref:t})})});Im.displayName=Ci;var[GF,KF]=PE(Ci),AE=Tt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=kE(n),d=el(i),u={role:"group",dir:d,...l};return p.jsx(GF,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(bE,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(Se.div,{...u,ref:t})}):p.jsx(Se.div,{...u,ref:t})})}),Kc="ToggleGroupItem",RE=Tt.forwardRef((e,t)=>{const n=DE(Kc,e.__scopeToggleGroup),r=KF(Kc,e.__scopeToggleGroup),o=kE(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=Tt.useRef(null);return r.rovingFocus?p.jsx(CE,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(ow,{...a,ref:t})}):p.jsx(ow,{...a,ref:t})});RE.displayName=Kc;var ow=Tt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=DE(Kc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Mm,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),ME=Im,IE=RE;const _E=Za("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),YF=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(EE,{ref:o,className:re(_E({variant:t,size:n,className:e})),...r}));YF.displayName=EE.displayName;const NE=f.createContext({size:"default",variant:"default"}),LE=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(ME,{ref:s,className:re("flex items-center justify-center gap-1",e),...o,children:p.jsx(NE.Provider,{value:{variant:t,size:n},children:r})}));LE.displayName=ME.displayName;const Oh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(NE);return p.jsx(IE,{ref:s,className:re(_E({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});Oh.displayName=IE.displayName;var QF=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(v){(Array.isArray(e)?e:[e]).forEach(y=>{let x=y==="class",b=x&&s?o.map(m=>s[m]||m):o;x?(l.classList.remove(...b),l.classList.add(s&&s[v]?s[v]:v)):l.setAttribute(y,v)}),u(v)}function u(v){a&&c.includes(v)&&(l.style.colorScheme=v)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let v=localStorage.getItem(t)||n,y=i&&v==="system"?h():v;d(y)}catch{}},sw=["light","dark"],FE="(prefers-color-scheme: dark)",XF=typeof window>"u",_m=f.createContext(void 0),ZF={setTheme:e=>{},themes:[]},Nm=()=>{var e;return(e=f.useContext(_m))!=null?e:ZF},JF=e=>f.useContext(_m)?f.createElement(f.Fragment,null,e.children):f.createElement(tj,{...e}),ej=["light","dark"],tj=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=ej,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,v]=f.useState(()=>rj(o,i)),[y,x]=f.useState(()=>h==="system"?rf():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=rf());let T=l?l[P]:P,D=t?oj(d):null,A=document.documentElement,M=L=>{L==="class"?(A.classList.remove(...b),T&&A.classList.add(T)):L.startsWith("data-")&&(T?A.setAttribute(L,T):A.removeAttribute(L))};if(Array.isArray(a)?a.forEach(M):M(a),r){let L=sw.includes(i)?i:null,_=sw.includes(P)?P:L;A.style.colorScheme=_}D==null||D()},[d]),w=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;v(P);try{localStorage.setItem(o,P)}catch{}},[h]),S=f.useCallback(E=>{let P=rf(E);x(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(FE);return E.addListener(S),S(E),()=>E.removeListener(S)},[S]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?v(P.newValue):w(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[w]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:w,forcedTheme:e,resolvedTheme:h==="system"?y:h,themes:n?[...s,"system"]:s,systemTheme:n?y:void 0}),[h,w,e,y,n,s]);return f.createElement(_m.Provider,{value:C},f.createElement(nj,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},nj=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${QF.toString()})(${d})`}})}),rj=(e,t)=>{if(XF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},oj=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},rf=e=>(e||(e=window.matchMedia(FE)),e.matches?"dark":"light"),Lm="Avatar",[sj,r3]=hn(Lm),[ij,jE]=sj(Lm),OE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(ij,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(Se.span,{...r,ref:t})})});OE.displayName=Lm;var $E="AvatarImage",UE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=jE($E,n),a=aj(r,s),l=ct(c=>{o(c),i.onImageLoadingStatusChange(c)});return Fn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Se.img,{...s,ref:t,src:r}):null});UE.displayName=$E;var VE="AvatarFallback",BE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=jE(VE,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(Se.span,{...o,ref:t}):null});BE.displayName=VE;function iw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function aj(e,{referrerPolicy:t,crossOrigin:n}){const r=cj(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>iw(s,e));return Fn(()=>{a(iw(s,e))},[s,e]),Fn(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function lj(){return()=>{}}function cj(){return f.useSyncExternalStore(lj,()=>!0,()=>!1)}var zE=OE,qE=UE,WE=BE;const HE=f.forwardRef(({className:e,...t},n)=>p.jsx(zE,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));HE.displayName=zE.displayName;const uj=f.forwardRef(({className:e,...t},n)=>p.jsx(qE,{ref:n,className:re("aspect-square h-full w-full",e),...t}));uj.displayName=qE.displayName;const GE=f.forwardRef(({className:e,...t},n)=>p.jsx(WE,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));GE.displayName=WE.displayName;var of=0;function KE(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??aw()),document.body.insertAdjacentElement("beforeend",e[1]??aw()),of++,()=>{of===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),of--}},[])}function aw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sf="focusScope.autoFocusOnMount",af="focusScope.autoFocusOnUnmount",lw={bubbles:!1,cancelable:!0},dj="FocusScope",Fm=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=ct(o),d=ct(s),u=f.useRef(null),h=je(t,x=>l(x)),v=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(S){if(v.paused||!a)return;const C=S.target;a.contains(C)?u.current=C:Yr(u.current,{select:!0})},b=function(S){if(v.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Yr(u.current,{select:!0}))},m=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Yr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const w=new MutationObserver(m);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,v.paused]),f.useEffect(()=>{if(a){uw.add(v);const x=document.activeElement;if(!a.contains(x)){const m=new CustomEvent(sf,lw);a.addEventListener(sf,c),a.dispatchEvent(m),m.defaultPrevented||(fj(yj(YE(a)),{select:!0}),document.activeElement===x&&Yr(a))}return()=>{a.removeEventListener(sf,c),setTimeout(()=>{const m=new CustomEvent(af,lw);a.addEventListener(af,d),a.dispatchEvent(m),m.defaultPrevented||Yr(x??document.body,{select:!0}),a.removeEventListener(af,d),uw.remove(v)},0)}}},[a,c,d,v]);const y=f.useCallback(x=>{if(!n&&!r||v.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(b&&m){const w=x.currentTarget,[S,C]=hj(w);S&&C?!x.shiftKey&&m===C?(x.preventDefault(),n&&Yr(S,{select:!0})):x.shiftKey&&m===S&&(x.preventDefault(),n&&Yr(C,{select:!0})):m===w&&x.preventDefault()}},[n,r,v.paused]);return p.jsx(Se.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Fm.displayName=dj;function fj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yr(r,{select:t}),document.activeElement!==n)return}function hj(e){const t=YE(e),n=cw(t,e),r=cw(t.reverse(),e);return[n,r]}function YE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cw(e,t){for(const n of e)if(!pj(n,{upTo:t}))return n}function pj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mj(e){return e instanceof HTMLInputElement&&"select"in e}function Yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mj(e)&&t&&e.select()}}var uw=gj();function gj(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dw(e,t),e.unshift(t)},remove(t){var n;e=dw(e,t),(n=e[0])==null||n.resume()}}}function dw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function yj(e){return e.filter(t=>t.tagName!=="A")}var vj=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ps=new WeakMap,Ol=new WeakMap,$l={},lf=0,QE=function(e){return e&&(e.host||QE(e.parentNode))},wj=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=QE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xj=function(e,t,n,r){var o=wj(t,Array.isArray(e)?e:[e]);$l[n]||($l[n]=new WeakMap);var s=$l[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(r),y=v!==null&&v!=="false",x=(ps.get(h)||0)+1,b=(s.get(h)||0)+1;ps.set(h,x),s.set(h,b),i.push(h),x===1&&y&&Ol.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),lf++,function(){i.forEach(function(u){var h=ps.get(u)-1,v=s.get(u)-1;ps.set(u,h),s.set(u,v),h||(Ol.has(u)||u.removeAttribute(r),Ol.delete(u)),v||u.removeAttribute(n)}),lf--,lf||(ps=new WeakMap,ps=new WeakMap,Ol=new WeakMap,$l={})}},XE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=vj(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),xj(r,o,n,"aria-hidden")):function(){return null}},dr=function(){return dr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},dr.apply(this,arguments)};function ZE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Sj(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var cc="right-scroll-bar-position",uc="width-before-scroll-bar",bj="with-scroll-bars-hidden",Cj="--removed-body-scroll-bar-size";function cf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ej(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Pj=typeof window<"u"?f.useLayoutEffect:f.useEffect,fw=new WeakMap;function kj(e,t){var n=Ej(null,function(r){return e.forEach(function(o){return cf(o,r)})});return Pj(function(){var r=fw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||cf(a,null)}),s.forEach(function(a){o.has(a)||cf(a,i)})}fw.set(n,e)},[e]),n}function Tj(e){return e}function Dj(e,t){t===void 0&&(t=Tj);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function Aj(e){e===void 0&&(e={});var t=Dj(null);return t.options=dr({async:!0,ssr:!1},e),t}var JE=function(e){var t=e.sideCar,n=ZE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,dr({},n))};JE.isSideCarExport=!0;function Rj(e,t){return e.useMedium(t),JE}var e1=Aj(),uf=function(){},qu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:uf,onWheelCapture:uf,onTouchMoveCapture:uf}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,v=e.noIsolation,y=e.inert,x=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,w=e.gapMode,S=ZE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=kj([n,t]),P=dr(dr({},S),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:e1,removeScrollBar:c,shards:u,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?f.cloneElement(f.Children.only(a),dr(dr({},P),{ref:E})):f.createElement(m,dr({},P,{className:l,ref:E}),a))});qu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qu.classNames={fullWidth:uc,zeroRight:cc};var Mj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ij(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Mj();return t&&e.setAttribute("nonce",t),e}function _j(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nj(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Lj=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ij())&&(_j(t,n),Nj(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Fj=function(){var e=Lj();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},t1=function(){var e=Fj(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},jj={left:0,top:0,right:0,gap:0},df=function(e){return parseInt(e||"",10)||0},Oj=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[df(n),df(r),df(o)]},$j=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jj;var t=Oj(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Uj=t1(),Ws="data-scroll-locked",Vj=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(bj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ws,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ws,`] {
    `).concat(Cj,": ").concat(a,`px;
  }
`)},hw=function(){var e=parseInt(document.body.getAttribute(Ws)||"0",10);return isFinite(e)?e:0},Bj=function(){f.useEffect(function(){return document.body.setAttribute(Ws,(hw()+1).toString()),function(){var e=hw()-1;e<=0?document.body.removeAttribute(Ws):document.body.setAttribute(Ws,e.toString())}},[])},zj=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Bj();var s=f.useMemo(function(){return $j(o)},[o]);return f.createElement(Uj,{styles:Vj(s,!t,o,n?"":"!important")})},$h=!1;if(typeof window<"u")try{var Ul=Object.defineProperty({},"passive",{get:function(){return $h=!0,!0}});window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{$h=!1}var ms=$h?{passive:!1}:!1,qj=function(e){return e.tagName==="TEXTAREA"},n1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!qj(e)&&n[t]==="visible")},Wj=function(e){return n1(e,"overflowY")},Hj=function(e){return n1(e,"overflowX")},pw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=r1(e,r);if(o){var s=o1(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gj=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Kj=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},r1=function(e,t){return e==="v"?Wj(t):Hj(t)},o1=function(e,t){return e==="v"?Gj(t):Kj(t)},Yj=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qj=function(e,t,n,r,o){var s=Yj(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var v=o1(e,a),y=v[0],x=v[1],b=v[2],m=x-b-s*y;(y||m)&&r1(e,a)&&(u+=m,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Vl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mw=function(e){return[e.deltaX,e.deltaY]},gw=function(e){return e&&"current"in e?e.current:e},Xj=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zj=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Jj=0,gs=[];function e2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(Jj++)[0],s=f.useState(t1)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=Sj([e.lockRef.current],(e.shards||[]).map(gw),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var m=Vl(x),w=n.current,S="deltaX"in x?x.deltaX:w[0]-m[0],C="deltaY"in x?x.deltaY:w[1]-m[1],E,P=x.target,T=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&T==="h"&&P.type==="range")return!1;var D=pw(T,P);if(!D)return!0;if(D?E=T:(E=T==="v"?"h":"v",D=pw(T,P)),!D)return!1;if(!r.current&&"changedTouches"in x&&(S||C)&&(r.current=E),!E)return!0;var A=r.current||E;return Qj(A,b,x,A==="h"?S:C,!0)},[]),l=f.useCallback(function(x){var b=x;if(!(!gs.length||gs[gs.length-1]!==s)){var m="deltaY"in b?mw(b):Vl(b),w=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&Xj(E.delta,m)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(i.current.shards||[]).map(gw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=S.length>0?a(b,S[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(x,b,m,w){var S={name:x,delta:b,target:m,should:w,shadowParent:t2(m)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=f.useCallback(function(x){n.current=Vl(x),r.current=void 0},[]),u=f.useCallback(function(x){c(x.type,mw(x),x.target,a(x,e.lockRef.current))},[]),h=f.useCallback(function(x){c(x.type,Vl(x),x.target,a(x,e.lockRef.current))},[]);f.useEffect(function(){return gs.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ms),document.addEventListener("touchmove",l,ms),document.addEventListener("touchstart",d,ms),function(){gs=gs.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,ms),document.removeEventListener("touchmove",l,ms),document.removeEventListener("touchstart",d,ms)}},[]);var v=e.removeScrollBar,y=e.inert;return f.createElement(f.Fragment,null,y?f.createElement(s,{styles:Zj(o)}):null,v?f.createElement(zj,{gapMode:e.gapMode}):null)}function t2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const n2=Rj(e1,e2);var jm=f.forwardRef(function(e,t){return f.createElement(qu,dr({},e,{ref:t,sideCar:n2}))});jm.classNames=qu.classNames;var Uh=["Enter"," "],r2=["ArrowDown","PageUp","Home"],s1=["ArrowUp","PageDown","End"],o2=[...r2,...s1],s2={ltr:[...Uh,"ArrowRight"],rtl:[...Uh,"ArrowLeft"]},i2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tl="Menu",[Ia,a2,l2]=Du(tl),[cs,i1]=hn(tl,[l2,ju,zu]),Wu=ju(),a1=zu(),[c2,us]=cs(tl),[u2,nl]=cs(tl),l1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Wu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=ct(s),h=el(o);return f.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),p.jsx(jC,{...a,children:p.jsx(c2,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(u2,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};l1.displayName=tl;var d2="MenuAnchor",Om=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Wu(n);return p.jsx(OC,{...o,...r,ref:t})});Om.displayName=d2;var $m="MenuPortal",[f2,c1]=cs($m,{forceMount:void 0}),u1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=us($m,t);return p.jsx(f2,{scope:t,forceMount:n,children:p.jsx(pn,{present:n||s.open,children:p.jsx(Au,{asChild:!0,container:o,children:r})})})};u1.displayName=$m;var _n="MenuContent",[h2,Um]=cs(_n),d1=f.forwardRef((e,t)=>{const n=c1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=us(_n,e.__scopeMenu),i=nl(_n,e.__scopeMenu);return p.jsx(Ia.Provider,{scope:e.__scopeMenu,children:p.jsx(pn,{present:r||s.open,children:p.jsx(Ia.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(p2,{...o,ref:t}):p.jsx(m2,{...o,ref:t})})})})}),p2=f.forwardRef((e,t)=>{const n=us(_n,e.__scopeMenu),r=f.useRef(null),o=je(t,r);return f.useEffect(()=>{const s=r.current;if(s)return XE(s)},[]),p.jsx(Vm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),m2=f.forwardRef((e,t)=>{const n=us(_n,e.__scopeMenu);return p.jsx(Vm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),g2=ui("MenuContent.ScrollLock"),Vm=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:v,disableOutsideScroll:y,...x}=e,b=us(_n,n),m=nl(_n,n),w=Wu(n),S=a1(n),C=a2(n),[E,P]=f.useState(null),T=f.useRef(null),D=je(t,T,b.onContentChange),A=f.useRef(0),M=f.useRef(""),L=f.useRef(0),_=f.useRef(null),Y=f.useRef("right"),V=f.useRef(0),K=y?jm:f.Fragment,N=y?{as:g2,allowPinchZoom:!0}:void 0,O=I=>{var ve,ae;const j=M.current+I,H=C().filter(Ee=>!Ee.disabled),ee=document.activeElement,Ae=(ve=H.find(Ee=>Ee.ref.current===ee))==null?void 0:ve.textValue,ce=H.map(Ee=>Ee.textValue),Je=D2(ce,j,Ae),te=(ae=H.find(Ee=>Ee.textValue===Je))==null?void 0:ae.ref.current;(function Ee(Ye){M.current=Ye,window.clearTimeout(A.current),Ye!==""&&(A.current=window.setTimeout(()=>Ee(""),1e3))})(j),te&&setTimeout(()=>te.focus())};f.useEffect(()=>()=>window.clearTimeout(A.current),[]),KE();const R=f.useCallback(I=>{var H,ee;return Y.current===((H=_.current)==null?void 0:H.side)&&R2(I,(ee=_.current)==null?void 0:ee.area)},[]);return p.jsx(h2,{scope:n,searchRef:M,onItemEnter:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:f.useCallback(I=>{var j;R(I)||((j=T.current)==null||j.focus(),P(null))},[R]),onTriggerLeave:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(I=>{_.current=I},[]),children:p.jsx(K,{...N,children:p.jsx(Fm,{asChild:!0,trapped:o,onMountAutoFocus:se(s,I=>{var j;I.preventDefault(),(j=T.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:v,children:p.jsx(bE,{asChild:!0,...S,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:se(l,I=>{m.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx($C,{role:"menu","aria-orientation":"vertical","data-state":T1(b.open),"data-radix-menu-content":"",dir:m.dir,...w,...x,ref:D,style:{outline:"none",...x.style},onKeyDown:se(x.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ee=I.ctrlKey||I.altKey||I.metaKey,Ae=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!ee&&Ae&&O(I.key));const ce=T.current;if(I.target!==ce||!o2.includes(I.key))return;I.preventDefault();const te=C().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);s1.includes(I.key)&&te.reverse(),k2(te)}),onBlur:se(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),M.current="")}),onPointerMove:se(e.onPointerMove,_a(I=>{const j=I.target,H=V.current!==I.clientX;if(I.currentTarget.contains(j)&&H){const ee=I.clientX>V.current?"right":"left";Y.current=ee,V.current=I.clientX}}))})})})})})})});d1.displayName=_n;var y2="MenuGroup",Bm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(Se.div,{role:"group",...r,ref:t})});Bm.displayName=y2;var v2="MenuLabel",f1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(Se.div,{...r,ref:t})});f1.displayName=v2;var Yc="MenuItem",yw="menu.itemSelect",Hu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=nl(Yc,e.__scopeMenu),a=Um(Yc,e.__scopeMenu),l=je(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(yw,{bubbles:!0,cancelable:!0});u.addEventListener(yw,v=>r==null?void 0:r(v),{once:!0}),um(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(h1,{...o,ref:l,disabled:n,onClick:se(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:se(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:se(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||Uh.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Hu.displayName=Yc;var h1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Um(Yc,n),a=a1(n),l=f.useRef(null),c=je(t,l),[d,u]=f.useState(!1),[h,v]=f.useState("");return f.useEffect(()=>{const y=l.current;y&&v((y.textContent??"").trim())},[s.children]),p.jsx(Ia.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(CE,{asChild:!0,...a,focusable:!r,children:p.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:se(e.onPointerMove,_a(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,_a(y=>i.onItemLeave(y))),onFocus:se(e.onFocus,()=>u(!0)),onBlur:se(e.onBlur,()=>u(!1))})})})}),w2="MenuCheckboxItem",p1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(w1,{scope:e.__scopeMenu,checked:n,children:p.jsx(Hu,{role:"menuitemcheckbox","aria-checked":Qc(n)?"mixed":n,...o,ref:t,"data-state":qm(n),onSelect:se(o.onSelect,()=>r==null?void 0:r(Qc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});p1.displayName=w2;var m1="MenuRadioGroup",[x2,S2]=cs(m1,{value:void 0,onValueChange:()=>{}}),g1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=ct(r);return p.jsx(x2,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Bm,{...o,ref:t})})});g1.displayName=m1;var y1="MenuRadioItem",v1=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=S2(y1,e.__scopeMenu),s=n===o.value;return p.jsx(w1,{scope:e.__scopeMenu,checked:s,children:p.jsx(Hu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":qm(s),onSelect:se(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});v1.displayName=y1;var zm="MenuItemIndicator",[w1,b2]=cs(zm,{checked:!1}),x1=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=b2(zm,n);return p.jsx(pn,{present:r||Qc(s.checked)||s.checked===!0,children:p.jsx(Se.span,{...o,ref:t,"data-state":qm(s.checked)})})});x1.displayName=zm;var C2="MenuSeparator",S1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});S1.displayName=C2;var E2="MenuArrow",b1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Wu(n);return p.jsx(UC,{...o,...r,ref:t})});b1.displayName=E2;var P2="MenuSub",[o3,C1]=cs(P2),zi="MenuSubTrigger",E1=f.forwardRef((e,t)=>{const n=us(zi,e.__scopeMenu),r=nl(zi,e.__scopeMenu),o=C1(zi,e.__scopeMenu),s=Um(zi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(Om,{asChild:!0,...c,children:p.jsx(h1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":T1(n.open),...e,ref:Tu(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,_a(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,_a(u=>{var v,y;d();const h=(v=n.content)==null?void 0:v.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,b=x==="right",m=b?-5:5,w=h[b?"left":"right"],S=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:w,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:w,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,u=>{var v;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||s2[r.dir].includes(u.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),u.preventDefault())})})})});E1.displayName=zi;var P1="MenuSubContent",k1=f.forwardRef((e,t)=>{const n=c1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=us(_n,e.__scopeMenu),i=nl(_n,e.__scopeMenu),a=C1(P1,e.__scopeMenu),l=f.useRef(null),c=je(t,l);return p.jsx(Ia.Provider,{scope:e.__scopeMenu,children:p.jsx(pn,{present:r||s.open,children:p.jsx(Ia.Slot,{scope:e.__scopeMenu,children:p.jsx(Vm,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var v;const u=d.currentTarget.contains(d.target),h=i2[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});k1.displayName=P1;function T1(e){return e?"open":"closed"}function Qc(e){return e==="indeterminate"}function qm(e){return Qc(e)?"indeterminate":e?"checked":"unchecked"}function k2(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function T2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function D2(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=T2(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function A2(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function R2(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return A2(n,t)}function _a(e){return t=>t.pointerType==="mouse"?e(t):void 0}var M2=l1,I2=Om,_2=u1,N2=d1,L2=Bm,F2=f1,j2=Hu,O2=p1,$2=g1,U2=v1,V2=x1,B2=S1,z2=b1,q2=E1,W2=k1,Wm="DropdownMenu",[H2,s3]=hn(Wm,[i1]),sn=i1(),[G2,D1]=H2(Wm),A1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=sn(t),c=f.useRef(null),[d=!1,u]=wr({prop:o,defaultProp:s,onChange:i});return p.jsx(G2,{scope:t,triggerId:Yo(),triggerRef:c,contentId:Yo(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(M2,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};A1.displayName=Wm;var R1="DropdownMenuTrigger",M1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=D1(R1,n),i=sn(n);return p.jsx(I2,{asChild:!0,...i,children:p.jsx(Se.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Tu(t,s.triggerRef),onPointerDown:se(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:se(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});M1.displayName=R1;var K2="DropdownMenuPortal",I1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=sn(t);return p.jsx(_2,{...r,...n})};I1.displayName=K2;var _1="DropdownMenuContent",N1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=D1(_1,n),s=sn(n),i=f.useRef(!1);return p.jsx(N2,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:se(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});N1.displayName=_1;var Y2="DropdownMenuGroup",Q2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(L2,{...o,...r,ref:t})});Q2.displayName=Y2;var X2="DropdownMenuLabel",L1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(F2,{...o,...r,ref:t})});L1.displayName=X2;var Z2="DropdownMenuItem",F1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(j2,{...o,...r,ref:t})});F1.displayName=Z2;var J2="DropdownMenuCheckboxItem",j1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(O2,{...o,...r,ref:t})});j1.displayName=J2;var eO="DropdownMenuRadioGroup",tO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx($2,{...o,...r,ref:t})});tO.displayName=eO;var nO="DropdownMenuRadioItem",O1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(U2,{...o,...r,ref:t})});O1.displayName=nO;var rO="DropdownMenuItemIndicator",$1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(V2,{...o,...r,ref:t})});$1.displayName=rO;var oO="DropdownMenuSeparator",U1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(B2,{...o,...r,ref:t})});U1.displayName=oO;var sO="DropdownMenuArrow",iO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(z2,{...o,...r,ref:t})});iO.displayName=sO;var aO="DropdownMenuSubTrigger",V1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(q2,{...o,...r,ref:t})});V1.displayName=aO;var lO="DropdownMenuSubContent",B1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sn(n);return p.jsx(W2,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B1.displayName=lO;var cO=A1,uO=M1,dO=I1,z1=N1,q1=L1,W1=F1,H1=j1,G1=O1,K1=$1,Y1=U1,Q1=V1,X1=B1;const Hm=cO,Gm=uO,fO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(Q1,{ref:o,className:re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(tC,{className:"ml-auto"})]}));fO.displayName=Q1.displayName;const hO=f.forwardRef(({className:e,...t},n)=>p.jsx(X1,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));hO.displayName=X1.displayName;const Gu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(dO,{children:p.jsx(z1,{ref:r,sideOffset:t,className:re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Gu.displayName=z1.displayName;const os=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(W1,{ref:r,className:re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));os.displayName=W1.displayName;const pO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(H1,{ref:o,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(K1,{children:p.jsx(eC,{className:"h-4 w-4"})})}),t]}));pO.displayName=H1.displayName;const mO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(G1,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(K1,{children:p.jsx(WI,{className:"h-2 w-2 fill-current"})})}),t]}));mO.displayName=G1.displayName;const Z1=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(q1,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Z1.displayName=q1.displayName;const Vh=f.forwardRef(({className:e,...t},n)=>p.jsx(Y1,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));Vh.displayName=Y1.displayName;function J1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Km="Switch",[gO,i3]=hn(Km),[yO,vO]=gO(Km),eP=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,v]=f.useState(null),y=je(t,S=>v(S)),x=f.useRef(!1),b=h?d||!!h.closest("form"):!0,[m=!1,w]=wr({prop:o,defaultProp:s,onChange:c});return p.jsxs(yO,{scope:n,checked:m,disabled:a,children:[p.jsx(Se.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":rP(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:y,onClick:se(e.onClick,S=>{w(C=>!C),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&p.jsx(wO,{control:h,bubbles:!x.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});eP.displayName=Km;var tP="SwitchThumb",nP=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=vO(tP,n);return p.jsx(Se.span,{"data-state":rP(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});nP.displayName=tP;var wO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=J1(n),a=Cm(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rP(e){return e?"checked":"unchecked"}var oP=eP,xO=nP;const sP=f.forwardRef(({className:e,...t},n)=>p.jsx(oP,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(xO,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sP.displayName=oP.displayName;function SO(){const{userInfo:e,isLoadingAuth:t,logout:n}=er(),{theme:r,setTheme:o,resolvedTheme:s}=Nm(),i=s==="dark";if(t||!e)return p.jsx(Ge,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Gt,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(Hm,{children:[p.jsx(Gm,{asChild:!0,children:p.jsx(Ge,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(HE,{className:"h-8 w-8",children:p.jsx(GE,{children:B_(e.name.display_name)})})})}),p.jsxs(Gu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(Z1,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(Vh,{}),p.jsx(os,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(t_,{className:"mr-2 h-4 w-4"}):p.jsx(s_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(sP,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(Vh,{}),p.jsxs(os,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(ZI,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function bO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,isOnline:i,authError:a}=er();Nm();const[,l]=am(),{toast:c}=Qa(),d=f.useRef(null),u=i&&!e&&!t&&!n;f.useEffect(()=>{g.log("[Header] setLocation instance type:",typeof l)},[l]);const h=y=>{g.log("[Header] New Entry Link clicked. Href:",y.currentTarget.href)},v=y=>{const x=y.target.files;if(x&&x.length>0){const b=Array.from(x),m=b.filter(S=>!S.type.startsWith("image/"));m.length>0&&c({title:"Invalid File Type",description:`Only image files are allowed. ${m.map(S=>S.name).join(", ")} ${m.length===1?"was":"were"} ignored.`,variant:"destructive"});const w=b.filter(S=>S.type.startsWith("image/"));if(w.length>0){const S=crypto.randomUUID();g.log(`[Header] Storing ${w.length} files with service worker using key: ${S}`),navigator.serviceWorker&&navigator.serviceWorker.controller?(navigator.serviceWorker.controller.postMessage({type:"STORE_FILES",key:S,files:w}),setTimeout(()=>{l(`/entry?shareKey=${S}`)},100)):(g.error("[Header] Service worker not available"),c({title:"Error",description:"Could not process files. Please try again.",variant:"destructive"}))}else g.log("[Header] No valid image files selected.")}else g.log("[Header] No files selected.");y.target&&(y.target.value="")};return p.jsxs("header",{className:re("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",i?u&&a?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!i&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(i_,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),u&&p.jsxs("div",{className:re("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",a?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(nC,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:a?`Connection error: ${a.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Ge,{size:"sm",variant:a?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(XI,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:d,onChange:v,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:re("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(LE,{type:"single",size:"sm",value:o,onValueChange:y=>{y&&s(y)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(Oh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(GI,{className:"h-4 w-4"})}),p.jsx(Oh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(QI,{className:"h-4 w-4"})})]}),p.jsx(IF,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(yM,{href:"/entry/new",onClick:h,children:p.jsx(Ge,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!i,title:i?"New Entry":"New entry disabled while offline",children:p.jsx(n_,{className:"h-4 w-4"})})}),p.jsx(SO,{})]})]})]})]})}function CO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Ku(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Bh=e=>Array.isArray(e);function iP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Na(e){return typeof e=="string"||Array.isArray(e)}function vw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ym(e,t,n,r){if(typeof t=="function"){const[o,s]=vw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=vw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Yu(e,t,n){const r=e.getProps();return Ym(r,t,n!==void 0?n:r.custom,e)}const Qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xm=["initial",...Qm],rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(rl),Mr=e=>e*1e3,Ir=e=>e/1e3,EO={type:"spring",stiffness:500,damping:25,restSpeed:10},PO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kO={type:"keyframes",duration:.8},TO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DO=(e,{keyframes:t})=>t.length>2?kO:ds.has(e)?e.startsWith("scale")?PO(t[1]):EO:TO;function Zm(e,t){return e?e[t]||e.default||e:void 0}const AO={skipAnimations:!1,useManualTiming:!1},RO=e=>e!==null;function Qu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(RO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Yt=e=>e;let zh=Yt;function MO(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const v=u&&r?t:n;return d&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const Bl=["read","resolveKeyframes","update","preRender","render","postRender"],IO=40;function aP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=Bl.reduce((m,w)=>(m[w]=MO(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,v=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,IO),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(v))},y=()=>{n=!0,r=!0,o.isProcessing||e(v)};return{schedule:Bl.reduce((m,w)=>{const S=i[w];return m[w]=(C,E=!1,P=!1)=>(n||y(),S.schedule(C,E,P)),m},{}),cancel:m=>{for(let w=0;w<Bl.length;w++)i[Bl[w]].cancel(m)},state:o,steps:i}}const{schedule:Qe,cancel:ko,state:Ft,steps:ff}=aP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),lP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_O=1e-7,NO=12;function LO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=lP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>_O&&++a<NO);return i}function ol(e,t,n,r){if(e===t&&n===r)return Yt;const o=s=>LO(s,0,1,e,n);return s=>s===0||s===1?s:lP(o(s),t,r)}const cP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uP=e=>t=>1-e(1-t),dP=ol(.33,1.53,.69,.99),Jm=uP(dP),fP=cP(Jm),hP=e=>(e*=2)<1?.5*Jm(e):.5*(2-Math.pow(2,-10*(e-1))),eg=e=>1-Math.sin(Math.acos(e)),pP=uP(eg),mP=cP(eg),gP=e=>/^0[^.\s]+$/u.test(e);function FO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gP(e):!0}const yP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),vP=e=>t=>typeof t=="string"&&t.startsWith(e),wP=vP("--"),jO=vP("var(--"),tg=e=>jO(e)?OO.test(e.split("/*")[0].trim()):!1,OO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$O=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UO(e){const t=$O.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function xP(e,t,n=1){const[r,o]=UO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return yP(i)?parseFloat(i):i}return tg(o)?xP(o,t,n+1):o}const Ur=(e,t,n)=>n>t?t:n<e?e:n,Ei={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},La={...Ei,transform:e=>Ur(0,1,e)},zl={...Ei,default:1},sl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qr=sl("deg"),gr=sl("%"),ge=sl("px"),VO=sl("vh"),BO=sl("vw"),ww={...gr,parse:e=>gr.parse(e)/100,transform:e=>gr.transform(e*100)},zO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xw=e=>e===Ei||e===ge,Sw=(e,t)=>parseFloat(e.split(", ")[t]),bw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Sw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?Sw(s[1],e):0}},qO=new Set(["x","y","z"]),WO=rl.filter(e=>!qO.has(e));function HO(e){const t=[];return WO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bw(4,13),y:bw(5,14)};hi.translateX=hi.x;hi.translateY=hi.y;const SP=e=>t=>t.test(e),GO={test:e=>e==="auto",parse:e=>e},bP=[Ei,ge,gr,Qr,BO,VO,GO],Cw=e=>bP.find(SP(e)),Xo=new Set;let qh=!1,Wh=!1;function CP(){if(Wh){const e=Array.from(Xo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=HO(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wh=!1,qh=!1,Xo.forEach(e=>e.complete()),Xo.clear()}function EP(){Xo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wh=!0)})}function KO(){EP(),CP()}class ng{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xo.add(this),qh||(qh=!0,Qe.read(EP),Qe.resolveKeyframes(CP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ra=e=>Math.round(e*1e5)/1e5,rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YO(e){return e==null}const QO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,og=(e,t)=>n=>!!(typeof n=="string"&&QO.test(n)&&n.startsWith(e)||t&&!YO(n)&&Object.prototype.hasOwnProperty.call(n,t)),PP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(rg);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},XO=e=>Ur(0,255,e),hf={...Ei,transform:e=>Math.round(XO(e))},Bo={test:og("rgb","red"),parse:PP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hf.transform(e)+", "+hf.transform(t)+", "+hf.transform(n)+", "+ra(La.transform(r))+")"};function ZO(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Hh={test:og("#"),parse:ZO,transform:Bo.transform},Rs={test:og("hsl","hue"),parse:PP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gr.transform(ra(t))+", "+gr.transform(ra(n))+", "+ra(La.transform(r))+")"},Wt={test:e=>Bo.test(e)||Hh.test(e)||Rs.test(e),parse:e=>Bo.test(e)?Bo.parse(e):Rs.test(e)?Rs.parse(e):Hh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bo.transform(e):Rs.transform(e)},JO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function e$(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(JO))===null||n===void 0?void 0:n.length)||0)>0}const kP="number",TP="color",t$="var",n$="var(",Ew="${}",r$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fa(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(r$,l=>(Wt.test(l)?(r.color.push(s),o.push(TP),n.push(Wt.parse(l))):l.startsWith(n$)?(r.var.push(s),o.push(t$),n.push(l)):(r.number.push(s),o.push(kP),n.push(parseFloat(l))),++s,Ew)).split(Ew);return{values:n,split:a,indexes:r,types:o}}function DP(e){return Fa(e).values}function AP(e){const{split:t,types:n}=Fa(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===kP?s+=ra(o[i]):a===TP?s+=Wt.transform(o[i]):s+=o[i]}return s}}const o$=e=>typeof e=="number"?0:e;function s$(e){const t=DP(e);return AP(e)(t.map(o$))}const To={test:e$,parse:DP,createTransformer:AP,getAnimatableNone:s$},i$=new Set(["brightness","contrast","saturate","opacity"]);function a$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(rg)||[];if(!r)return e;const o=n.replace(r,"");let s=i$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const l$=/\b([a-z-]*)\(.*?\)/gu,Gh={...To,getAnimatableNone:e=>{const t=e.match(l$);return t?t.map(a$).join(" "):e}},c$={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},u$={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:zl,scaleX:zl,scaleY:zl,scaleZ:zl,skew:Qr,skewX:Qr,skewY:Qr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:La,originX:ww,originY:ww,originZ:ge},Pw={...Ei,transform:Math.round},sg={...c$,...u$,zIndex:Pw,size:ge,fillOpacity:La,strokeOpacity:La,numOctaves:Pw},d$={...sg,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:Gh,WebkitFilter:Gh},ig=e=>d$[e];function RP(e,t){let n=ig(e);return n!==Gh&&(n=To),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const f$=new Set(["auto","none","0"]);function h$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!f$.has(s)&&Fa(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=RP(n,o)}class MP extends ng{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),tg(c))){const d=xP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!zO.has(r)||t.length!==2)return;const[o,s]=t,i=Cw(o),a=Cw(s);if(i!==a)if(xw(i)&&xw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)FO(t[o])&&r.push(o);r.length&&h$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=hi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ag(e){return typeof e=="function"}let dc;function p$(){dc=void 0}const yr={now:()=>(dc===void 0&&yr.set(Ft.isProcessing||AO.useManualTiming?Ft.timestamp:performance.now()),dc),set:e=>{dc=e,queueMicrotask(p$)}},kw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(To.test(e)||e==="0")&&!e.startsWith("url("));function m$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function g$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=kw(o,t),a=kw(s,t);return!i||!a?!1:m$(e)||(n==="spring"||ag(n))&&r}const y$=40;class IP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>y$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!g$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Qu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const pi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},_P=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(pi(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function NP(e,t){return t?e*(1e3/t):0}const v$=5;function LP(e,t,n){const r=Math.max(t-v$,0);return NP(n-e(r),t-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pf=.001;function w$({duration:e=wt.duration,bounce:t=wt.bounce,velocity:n=wt.velocity,mass:r=wt.mass}){let o,s,i=1-t;i=Ur(wt.minDamping,wt.maxDamping,i),e=Ur(wt.minDuration,wt.maxDuration,Ir(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,v=Kh(c,i),y=Math.exp(-u);return pf-h/v*y},s=c=>{const u=c*i*e,h=u*n+n,v=Math.pow(i,2)*Math.pow(c,2)*e,y=Math.exp(-u),x=Kh(Math.pow(c,2),i);return(-o(c)+pf>0?-1:1)*((h-v)*y)/x}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-pf+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=S$(o,s,a);if(e=Mr(e),isNaN(l))return{stiffness:wt.stiffness,damping:wt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const x$=12;function S$(e,t,n){let r=n;for(let o=1;o<x$;o++)r=r-e(r)/t(r);return r}function Kh(e,t){return e*Math.sqrt(1-t*t)}const Yh=2e4;function FP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Yh;)t+=n,r=e.next(t);return t>=Yh?1/0:t}const b$=["duration","bounce"],C$=["stiffness","damping","mass"];function Tw(e,t){return t.some(n=>e[n]!==void 0)}function E$(e){let t={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...e};if(!Tw(e,C$)&&Tw(e,b$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Ur(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:wt.mass,stiffness:o,damping:s}}else{const n=w$(e);t={...t,...n,mass:wt.mass},t.isResolvedFromDuration=!0}return t}function jP(e=wt.visualDuration,t=wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:v}=E$({...n,velocity:-Ir(n.velocity||0)}),y=h||0,x=c/(2*Math.sqrt(l*d)),b=i-s,m=Ir(Math.sqrt(l/d)),w=Math.abs(b)<5;r||(r=w?wt.restSpeed.granular:wt.restSpeed.default),o||(o=w?wt.restDelta.granular:wt.restDelta.default);let S;if(x<1){const E=Kh(m,x);S=P=>{const T=Math.exp(-x*m*P);return i-T*((y+x*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(x===1)S=E=>i-Math.exp(-m*E)*(b+(y+m*b)*E);else{const E=m*Math.sqrt(x*x-1);S=P=>{const T=Math.exp(-x*m*P),D=Math.min(E*P,300);return i-T*((y+x*m*b)*Math.sinh(D)+E*b*Math.cosh(D))/E}}const C={calculatedDuration:v&&u||null,next:E=>{const P=S(E);if(v)a.done=E>=u;else{let T=0;x<1&&(T=E===0?Mr(y):LP(S,E,P));const D=Math.abs(T)<=r,A=Math.abs(i-P)<=o;a.done=D&&A}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(FP(C),Yh),P=_P(T=>C.next(E*T).value,E,30);return E+"ms "+P}};return C}function Dw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},v=D=>a!==void 0&&D<a||l!==void 0&&D>l,y=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let x=n*t;const b=u+x,m=i===void 0?b:i(b);m!==b&&(x=m-u);const w=D=>-x*Math.exp(-D/r),S=D=>m+w(D),C=D=>{const A=w(D),M=S(D);h.done=Math.abs(A)<=c,h.value=h.done?m:M};let E,P;const T=D=>{v(h.value)&&(E=D,P=jP({keyframes:[h.value,y(h.value)],velocity:LP(S,D,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:D=>{let A=!1;return!P&&E===void 0&&(A=!0,C(D),T(D)),E!==void 0&&D>=E?P.next(D-E):(!A&&C(D),h)}}}const P$=ol(.42,0,1,1),k$=ol(0,0,.58,1),OP=ol(.42,0,.58,1),T$=e=>Array.isArray(e)&&typeof e[0]!="number",lg=e=>Array.isArray(e)&&typeof e[0]=="number",Aw={linear:Yt,easeIn:P$,easeInOut:OP,easeOut:k$,circIn:eg,circInOut:mP,circOut:pP,backIn:Jm,backInOut:fP,backOut:dP,anticipate:hP},Rw=e=>{if(lg(e)){zh(e.length===4);const[t,n,r,o]=e;return ol(t,n,r,o)}else if(typeof e=="string")return zh(Aw[e]!==void 0),Aw[e];return e},D$=(e,t)=>n=>t(e(n)),wo=(...e)=>e.reduce(D$),ut=(e,t,n)=>e+(t-e)*n;function mf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function A$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=mf(l,a,e+1/3),s=mf(l,a,e),i=mf(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Xc(e,t){return n=>n>0?t:e}const gf=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},R$=[Hh,Bo,Rs],M$=e=>R$.find(t=>t.test(e));function Mw(e){const t=M$(e);if(!t)return!1;let n=t.parse(e);return t===Rs&&(n=A$(n)),n}const Iw=(e,t)=>{const n=Mw(e),r=Mw(t);if(!n||!r)return Xc(e,t);const o={...n};return s=>(o.red=gf(n.red,r.red,s),o.green=gf(n.green,r.green,s),o.blue=gf(n.blue,r.blue,s),o.alpha=ut(n.alpha,r.alpha,s),Bo.transform(o))},Qh=new Set(["none","hidden"]);function I$(e,t){return Qh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _$(e,t){return n=>ut(e,t,n)}function cg(e){return typeof e=="number"?_$:typeof e=="string"?tg(e)?Xc:Wt.test(e)?Iw:F$:Array.isArray(e)?$P:typeof e=="object"?Wt.test(e)?Iw:N$:Xc}function $P(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>cg(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function N$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=cg(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function L$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const F$=(e,t)=>{const n=To.createTransformer(t),r=Fa(e),o=Fa(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Qh.has(e)&&!o.values.length||Qh.has(t)&&!r.values.length?I$(e,t):wo($P(L$(r,o),o.values),n):Xc(e,t)};function UP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):cg(e)(e,t)}function j$(e,t,n){const r=[],o=n||UP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Yt:t;a=wo(l,a)}r.push(a)}return r}function O$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(zh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=j$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=pi(e[d],e[d+1],c);return i[d](u)};return n?c=>l(Ur(e[0],e[s-1],c)):l}function $$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=pi(0,t,r);e.push(ut(n,1,o))}}function U$(e){const t=[0];return $$(t,e.length-1),t}function V$(e,t){return e.map(n=>n*t)}function B$(e,t){return e.map(()=>t||OP).splice(0,e.length-1)}function Zc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=T$(r)?r.map(Rw):Rw(r),s={done:!1,value:t[0]},i=V$(n&&n.length===t.length?n:U$(t),e),a=O$(i,t,{ease:Array.isArray(o)?o:B$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const z$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Qe.update(t,!0),stop:()=>ko(t),now:()=>Ft.isProcessing?Ft.timestamp:yr.now()}},q$={decay:Dw,inertia:Dw,tween:Zc,keyframes:Zc,spring:jP},W$=e=>e/100;class ug extends IP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||ng,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=ag(n)?n:q$[n]||Zc;let l,c;a!==Zc&&typeof t[0]!="number"&&(l=wo(W$,UP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=FP(d));const{calculatedDuration:u}=d,h=u+o,v=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:v,repeatType:y,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=s;if(v){const D=Math.min(this.currentTime,d)/u;let A=Math.floor(D),M=D%1;!M&&D>=1&&(M=1),M===1&&A--,A=Math.min(A,v+1),!!(A%2)&&(y==="reverse"?(M=1-M,x&&(M-=x/u)):y==="mirror"&&(C=i)),S=Ur(0,1,M)*u}const E=w?{done:!1,value:l[0]}:C.next(S);a&&(E.value=a(E.value));let{done:P}=E;!w&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return T&&o!==void 0&&(E.value=Qu(l,this.options,o)),b&&b(E.value),T&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Ir(t.calculatedDuration):0}get time(){return Ir(this.currentTime)}set time(t){t=Mr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=z$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const H$=new Set(["opacity","clipPath","filter","transform"]);function dg(e){let t;return()=>(t===void 0&&(t=e()),t)}const G$={linearEasing:void 0};function K$(e,t){const n=dg(e);return()=>{var r;return(r=G$[t])!==null&&r!==void 0?r:n()}}const Jc=K$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function VP(e){return!!(typeof e=="function"&&Jc()||!e||typeof e=="string"&&(e in Xh||Jc())||lg(e)||Array.isArray(e)&&e.every(VP))}const qi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qi([0,.65,.55,1]),circOut:qi([.55,0,1,.45]),backIn:qi([.31,.01,.66,-.59]),backOut:qi([.33,1.53,.69,.99])};function BP(e,t){if(e)return typeof e=="function"&&Jc()?_P(e,t):lg(e)?qi(e):Array.isArray(e)?e.map(n=>BP(n,t)||Xh.easeOut):Xh[e]}function Y$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=BP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function _w(e,t){e.timeline=t,e.onfinish=null}const Q$=dg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),eu=10,X$=2e4;function Z$(e){return ag(e.type)||e.type==="spring"||!VP(e.ease)}function J$(e,t){const n=new ug({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<X$;)r=n.sample(s),o.push(r.value),s+=eu;return{times:void 0,keyframes:o,duration:s-eu,ease:"linear"}}const zP={anticipate:hP,backInOut:fP,circInOut:mP};function eU(e){return e in zP}class Nw extends IP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new MP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Jc()&&eU(i)&&(i=zP[i]),Z$(this.options)){const{onComplete:h,onUpdate:v,motionValue:y,element:x,...b}=this.options,m=J$(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=Y$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(_w(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Qu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ir(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ir(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Mr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Yt;const{animation:r}=n;_w(r,t)}return Yt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...v}=this.options,y=new ug({...v,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),x=Mr(this.time);c.setWithVelocity(y.sample(x-eu).value,y.sample(x).value,eu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return Q$()&&r&&H$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const tU=dg(()=>window.ScrollTimeline!==void 0);class nU{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>tU()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function rU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const fg=(e,t,n,r={},o,s)=>i=>{const a=Zm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};rU(a)||(d={...d,...DO(e,d)}),d.duration&&(d.duration=Mr(d.duration)),d.repeatDelay&&(d.repeatDelay=Mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Qu(d.keyframes,a);if(h!==void 0)return Qe.update(()=>{d.onUpdate(h),d.onComplete()}),new nU([])}return!s&&Nw.supports(d)?new Nw(d):new ug(d)},oU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),sU=e=>Bh(e)?e[e.length-1]||0:e;function hg(e,t){e.indexOf(t)===-1&&e.push(t)}function pg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mg{constructor(){this.subscriptions=[]}add(t){return hg(this.subscriptions,t),()=>pg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lw=30,iU=e=>!isNaN(parseFloat(e));class aU{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=yr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lw);return NP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(e,t){return new aU(e,t)}function lU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ja(n))}function cU(e,t){const n=Yu(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=sU(s[i]);lU(e,i,a)}}const gg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uU="framerAppearId",qP="data-"+gg(uU);function WP(e){return e.props[qP]}const Kt=e=>!!(e&&e.getVelocity);function dU(e){return!!(Kt(e)&&e.add)}function Zh(e,t){const n=e.getValue("willChange");if(dU(n))return n.add(t)}function fU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function HP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),v=l[u];if(v===void 0||d&&fU(d,u))continue;const y={delay:n,...Zm(i||{},u)};let x=!1;if(window.MotionHandoffAnimation){const m=WP(e);if(m){const w=window.MotionHandoffAnimation(m,u,Qe);w!==null&&(y.startTime=w,x=!0)}}Zh(e,u),h.start(fg(u,h,v,e.shouldReduceMotion&&ds.has(u)?{type:!1}:y,e,x));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Qe.update(()=>{a&&cU(e,a)})}),c}function Jh(e,t,n={}){var r;const o=Yu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(HP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return hU(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function hU(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(pU).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Jh(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function pU(e,t){return e.sortNodePosition(t)}function mU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Jh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Jh(e,t,n);else{const o=typeof t=="function"?Yu(e,t,n.custom):t;r=Promise.all(HP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const gU=Xm.length;function GP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?GP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<gU;n++){const r=Xm[n],o=e.props[r];(Na(o)||o===!1)&&(t[r]=o)}return t}const yU=[...Qm].reverse(),vU=Qm.length;function wU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>mU(e,n,r)))}function xU(e){let t=wU(e),n=Fw(),r=!0;const o=l=>(c,d)=>{var u;const h=Yu(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:v,transitionEnd:y,...x}=h;c={...c,...x,...y}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=GP(e.parent)||{},u=[],h=new Set;let v={},y=1/0;for(let b=0;b<vU;b++){const m=yU[b],w=n[m],S=c[m]!==void 0?c[m]:d[m],C=Na(S),E=m===l?w.isActive:null;E===!1&&(y=b);let P=S===d[m]&&S!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...v},!w.isActive&&E===null||!S&&!w.prevProp||Ku(S)||typeof S=="boolean")continue;const T=SU(w.prevProp,S);let D=T||m===l&&w.isActive&&!P&&C||b>y&&C,A=!1;const M=Array.isArray(S)?S:[S];let L=M.reduce(o(m),{});E===!1&&(L={});const{prevResolvedValues:_={}}=w,Y={..._,...L},V=O=>{D=!0,h.has(O)&&(A=!0,h.delete(O)),w.needsAnimating[O]=!0;const R=e.getValue(O);R&&(R.liveStyle=!1)};for(const O in Y){const R=L[O],I=_[O];if(v.hasOwnProperty(O))continue;let j=!1;Bh(R)&&Bh(I)?j=!iP(R,I):j=R!==I,j?R!=null?V(O):h.add(O):R!==void 0&&h.has(O)?V(O):w.protectedKeys[O]=!0}w.prevProp=S,w.prevResolvedValues=L,w.isActive&&(v={...v,...L}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(P&&T)||A)&&u.push(...M.map(O=>({animation:O,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const w=e.getBaseTarget(m),S=e.getValue(m);S&&(S.liveStyle=!0),b[m]=w??null}),u.push({animation:b})}let x=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var v;return(v=h.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Fw(),r=!0}}}function SU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iP(t,e):!1}function No(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fw(){return{animate:No(!0),whileInView:No(),whileHover:No(),whileTap:No(),whileDrag:No(),whileFocus:No(),exit:No()}}class Mo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class bU extends Mo{constructor(t){super(t),t.animationState||(t.animationState=xU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ku(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let CU=0;class EU extends Mo{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const PU={animation:{Feature:bU},exit:{Feature:EU}};function kU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Un={x:!1,y:!1};function KP(){return Un.x||Un.y}function jw(e){return t=>{t.pointerType==="touch"||KP()||e(t)}}function TU(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=jw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=jw(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return kU(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function DU(e){return e==="x"||e==="y"?Un[e]?null:(Un[e]=!0,()=>{Un[e]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}const YP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function il(e){return{point:{x:e.pageX,y:e.pageY}}}const AU=e=>t=>YP(t)&&e(t,il(t));function Ar(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xo(e,t,n,r){return Ar(e,t,AU(n),r)}const Ow=(e,t)=>Math.abs(e-t);function RU(e,t){const n=Ow(e.x,t.x),r=Ow(e.y,t.y);return Math.sqrt(n**2+r**2)}class QP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=vf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=RU(u.offset,{x:0,y:0})>=3;if(!h&&!v)return;const{point:y}=u,{timestamp:x}=Ft;this.history.push({...y,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=yf(h,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=vf(u.type==="pointercancel"?this.lastMoveEventInfo:yf(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(u,b),y&&y(u,b)},!YP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=il(t),a=yf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ft;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,vf(a,this.history)),this.removeListeners=wo(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ko(this.updatePoint)}}function yf(e,t){return t?{point:t(e.point)}:e}function $w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vf({point:e},t){return{point:e,delta:$w(e,XP(t)),offset:$w(e,MU(t)),velocity:IU(t,.1)}}function MU(e){return e[0]}function XP(e){return e[e.length-1]}function IU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=XP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Mr(t)));)n--;if(!r)return{x:0,y:0};const s=Ir(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const ZP=1e-4,_U=1-ZP,NU=1+ZP,JP=.01,LU=0-JP,FU=0+JP;function bn(e){return e.max-e.min}function jU(e,t,n){return Math.abs(e-t)<=n}function Uw(e,t,n,r=.5){e.origin=r,e.originPoint=ut(t.min,t.max,e.origin),e.scale=bn(n)/bn(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_U&&e.scale<=NU||isNaN(e.scale))&&(e.scale=1),(e.translate>=LU&&e.translate<=FU||isNaN(e.translate))&&(e.translate=0)}function oa(e,t,n,r){Uw(e.x,t.x,n.x,r?r.originX:void 0),Uw(e.y,t.y,n.y,r?r.originY:void 0)}function Vw(e,t,n){e.min=n.min+t.min,e.max=e.min+bn(t)}function OU(e,t,n){Vw(e.x,t.x,n.x),Vw(e.y,t.y,n.y)}function Bw(e,t,n){e.min=t.min-n.min,e.max=e.min+bn(t)}function sa(e,t,n){Bw(e.x,t.x,n.x),Bw(e.y,t.y,n.y)}function $U(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ut(n,e,r.max):Math.min(e,n)),e}function zw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function UU(e,{top:t,left:n,bottom:r,right:o}){return{x:zw(e.x,n,o),y:zw(e.y,t,r)}}function qw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function VU(e,t){return{x:qw(e.x,t.x),y:qw(e.y,t.y)}}function BU(e,t){let n=.5;const r=bn(e),o=bn(t);return o>r?n=pi(t.min,t.max-r,e.min):r>o&&(n=pi(e.min,e.max-o,t.min)),Ur(0,1,n)}function zU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ep=.35;function qU(e=ep){return e===!1?e=0:e===!0&&(e=ep),{x:Ww(e,"left","right"),y:Ww(e,"top","bottom")}}function Ww(e,t,n){return{min:Hw(e,t),max:Hw(e,n)}}function Hw(e,t){return typeof e=="number"?e:e[t]||0}const Gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Is=()=>({x:Gw(),y:Gw()}),Kw=()=>({min:0,max:0}),Ct=()=>({x:Kw(),y:Kw()});function Tn(e){return[e("x"),e("y")]}function ek({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function WU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wf(e){return e===void 0||e===1}function tp({scale:e,scaleX:t,scaleY:n}){return!wf(e)||!wf(t)||!wf(n)}function jo(e){return tp(e)||tk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tk(e){return Yw(e.x)||Yw(e.y)}function Yw(e){return e&&e!=="0%"}function tu(e,t,n){const r=e-n,o=t*r;return n+o}function Qw(e,t,n,r,o){return o!==void 0&&(e=tu(e,o,r)),tu(e,n,r)+t}function np(e,t=0,n=1,r,o){e.min=Qw(e.min,t,n,r,o),e.max=Qw(e.max,t,n,r,o)}function nk(e,{x:t,y:n}){np(e.x,t.translate,t.scale,t.originPoint),np(e.y,n.translate,n.scale,n.originPoint)}const Xw=.999999999999,Zw=1.0000000000001;function GU(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ns(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,nk(e,i)),r&&jo(s.latestValues)&&Ns(e,s.latestValues))}t.x<Zw&&t.x>Xw&&(t.x=1),t.y<Zw&&t.y>Xw&&(t.y=1)}function _s(e,t){e.min=e.min+t,e.max=e.max+t}function Jw(e,t,n,r,o=.5){const s=ut(e.min,e.max,o);np(e,t,n,s,r)}function Ns(e,t){Jw(e.x,t.x,t.scaleX,t.scale,t.originX),Jw(e.y,t.y,t.scaleY,t.scale,t.originY)}function rk(e,t){return ek(HU(e.getBoundingClientRect(),t))}function KU(e,t,n){const r=rk(e,n),{scroll:o}=t;return o&&(_s(r.x,o.offset.x),_s(r.y,o.offset.y)),r}const ok=({current:e})=>e?e.ownerDocument.defaultView:null,YU=new WeakMap;class QU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(il(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:v,onDragStart:y}=this.getProps();if(h&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DU(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(gr.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[b];S&&(m=bn(S)*(parseFloat(m)/100))}}this.originPoint[b]=m}),y&&Qe.postRender(()=>y(d,u)),Zh(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=u;if(v&&this.currentDirection===null){this.currentDirection=XU(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),x&&x(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Tn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new QP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ok(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Qe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!ql(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=$U(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ms(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=UU(o.layoutBox,n):this.constraints=!1,this.elastic=qU(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Tn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=zU(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ms(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=KU(r,o.root,this.visualElement.getTransformPagePoint());let i=VU(o.layout.layoutBox,s);if(n){const a=n(WU(i));this.hasMutatedConstraints=!!a,a&&(i=ek(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Tn(d=>{if(!ql(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,v=o?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Zh(this.visualElement,t),r.start(fg(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tn(n=>{const{drag:r}=this.getProps();if(!ql(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-ut(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ms(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Tn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=BU({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(i=>{if(!ql(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(ut(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;YU.set(this.visualElement,this);const t=this.visualElement.current,n=xo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ms(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qe.read(r);const i=Ar(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=ep,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function ql(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function XU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ZU extends Mo{constructor(t){super(t),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new QU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const e0=e=>(t,n)=>{e&&Qe.postRender(()=>e(t,n))};class JU extends Mo{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(t){this.session=new QP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ok(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:e0(t),onStart:e0(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Qe.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xu=f.createContext(null);function eV(){const e=f.useContext(Xu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const yg=f.createContext({}),sk=f.createContext({}),fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function t0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=t0(e,t.target.x),r=t0(e,t.target.y);return`${n}% ${r}%`}},tV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=To.parse(e);if(o.length>5)return r;const s=To.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=ut(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},nu={};function nV(e){Object.assign(nu,e)}const{schedule:vg,cancel:a3}=aP(queueMicrotask,!1);class rV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;nV(oV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Qe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ik(e){const[t,n]=eV(),r=f.useContext(yg);return p.jsx(rV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(sk),isPresent:t,safeToRemove:n})}const oV={borderRadius:{...Oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oi,borderTopRightRadius:Oi,borderBottomLeftRadius:Oi,borderBottomRightRadius:Oi,boxShadow:tV},ak=["TopLeft","TopRight","BottomLeft","BottomRight"],sV=ak.length,n0=e=>typeof e=="string"?parseFloat(e):e,r0=e=>typeof e=="number"||ge.test(e);function iV(e,t,n,r,o,s){o?(e.opacity=ut(0,n.opacity!==void 0?n.opacity:1,aV(r)),e.opacityExit=ut(t.opacity!==void 0?t.opacity:1,0,lV(r))):s&&(e.opacity=ut(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<sV;i++){const a=`border${ak[i]}Radius`;let l=o0(t,a),c=o0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||r0(l)===r0(c)?(e[a]=Math.max(ut(n0(l),n0(c),r),0),(gr.test(c)||gr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,r))}function o0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aV=lk(0,.5,pP),lV=lk(.5,.95,Yt);function lk(e,t,n){return r=>r<e?0:r>t?1:n(pi(e,t,r))}function s0(e,t){e.min=t.min,e.max=t.max}function kn(e,t){s0(e.x,t.x),s0(e.y,t.y)}function i0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function a0(e,t,n,r,o){return e-=t,e=tu(e,1/n,r),o!==void 0&&(e=tu(e,1/o,r)),e}function cV(e,t=0,n=1,r=.5,o,s=e,i=e){if(gr.test(t)&&(t=parseFloat(t),t=ut(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=ut(s.min,s.max,r);e===s&&(a-=t),e.min=a0(e.min,t,n,a,o),e.max=a0(e.max,t,n,a,o)}function l0(e,t,[n,r,o],s,i){cV(e,t[n],t[r],t[o],t.scale,s,i)}const uV=["x","scaleX","originX"],dV=["y","scaleY","originY"];function c0(e,t,n,r){l0(e.x,t,uV,n?n.x:void 0,r?r.x:void 0),l0(e.y,t,dV,n?n.y:void 0,r?r.y:void 0)}function u0(e){return e.translate===0&&e.scale===1}function ck(e){return u0(e.x)&&u0(e.y)}function d0(e,t){return e.min===t.min&&e.max===t.max}function fV(e,t){return d0(e.x,t.x)&&d0(e.y,t.y)}function f0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uk(e,t){return f0(e.x,t.x)&&f0(e.y,t.y)}function h0(e){return bn(e.x)/bn(e.y)}function p0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class hV{constructor(){this.members=[]}add(t){hg(this.members,t),t.scheduleRender()}remove(t){if(pg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pV(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:v,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),v&&(r+=`skewX(${v}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mV=(e,t)=>e.depth-t.depth;class gV{constructor(){this.children=[],this.isDirty=!1}add(t){hg(this.children,t),this.isDirty=!0}remove(t){pg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mV),this.isDirty=!1,this.children.forEach(t)}}function hc(e){const t=Kt(e)?e.get():e;return oU(t)?t.toValue():t}function yV(e,t){const n=yr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(ko(r),e(s-t))};return Qe.read(r,!0),()=>ko(r)}function vV(e){return e instanceof SVGElement&&e.tagName!=="svg"}function wV(e,t,n){const r=Kt(e)?e:ja(e);return r.start(fg("",r,t,n)),r.animation}const Oo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wi=typeof window<"u"&&window.MotionDebug!==void 0,xf=["","X","Y","Z"],xV={visibility:"hidden"},m0=1e3;let SV=0;function Sf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function dk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=WP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&dk(r)}function fk({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=SV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wi&&(Oo.totalNodes=Oo.resolvedTargetDeltas=Oo.recalculatedProjection=0),this.nodes.forEach(EV),this.nodes.forEach(AV),this.nodes.forEach(RV),this.nodes.forEach(PV),Wi&&window.MotionDebug.record(Oo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gV)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new mg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vV(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=yV(h,250),fc.hasAnimatedSinceResize&&(fc.hasAnimatedSinceResize=!1,this.nodes.forEach(y0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||LV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),w=!this.targetLayout||!uk(this.targetLayout,y)||v,S=!h&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const C={...Zm(x,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||y0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MV),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(g0);return}this.isUpdating||this.nodes.forEach(TV),this.isUpdating=!1,this.nodes.forEach(DV),this.nodes.forEach(bV),this.nodes.forEach(CV),this.clearAllSnapshots();const a=yr.now();Ft.delta=Ur(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,ff.update.process(Ft),ff.preRender.process(Ft),ff.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kV),this.sharedNodes.forEach(IV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ck(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||jo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),FV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Ct();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(jV))){const{scroll:d}=this.root;d&&(_s(l.x,d.offset.x),_s(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=Ct();if(kn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&kn(l,i),_s(l.x,u.offset.x),_s(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=Ct();kn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ns(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jo(d.latestValues)&&Ns(l,d.latestValues)}return jo(this.latestValues)&&Ns(l,this.latestValues),l}removeTransform(i){const a=Ct();kn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!jo(c.latestValues))continue;tp(c.latestValues)&&c.updateSnapshot();const d=Ct(),u=c.measurePageBox();kn(d,u),c0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return jo(this.latestValues)&&c0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),sa(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),nk(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),sa(this.relativeTargetOrigin,this.target,v.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wi&&Oo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tp(this.parent.latestValues)||tk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;kn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,v=this.treeScale.y;GU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ct());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i0(this.prevProjectionDelta.x,this.projectionDelta.x),i0(this.prevProjectionDelta.y,this.projectionDelta.y)),oa(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==v||!p0(this.projectionDelta.x,this.prevProjectionDelta.x)||!p0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Wi&&Oo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Is(),this.projectionDelta=Is(),this.projectionDeltaWithTransform=Is()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=Is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=v!==y,b=this.getStack(),m=!b||b.members.length<=1,w=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(NV));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const E=C/1e3;v0(u.x,i.x,E),v0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sa(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_V(this.relativeTarget,this.relativeTargetOrigin,h,E),S&&fV(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ct()),kn(S,this.relativeTarget)),x&&(this.animationValues=d,iV(d,c,this.latestValues,E,w,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{fc.hasAnimatedSinceResize=!0,this.currentAnimation=wV(0,m0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&hk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const u=bn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=bn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}kn(a,l),Ns(a,d),oa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new hV),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Sf("z",i,c,this.animationValues);for(let d=0;d<xf.length;d++)Sf(`rotate${xf[d]}`,i,c,this.animationValues),Sf(`skew${xf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xV;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=hc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=hc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=pV(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in nu){if(h[x]===void 0)continue;const{correct:b,applyTo:m}=nu[x],w=c.transform==="none"?h[x]:b(h[x],u);if(m){const S=m.length;for(let C=0;C<S;C++)c[m[C]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=u===this?hc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(g0),this.root.sharedNodes.clear()}}}function bV(e){e.updateLayout()}function CV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?Tn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],v=bn(h);h.min=r[u].min,h.max=h.min+v}):hk(s,n.layoutBox,r)&&Tn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],v=bn(r[u]);h.max=h.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+v)});const a=Is();oa(a,r,n.layoutBox);const l=Is();i?oa(l,e.applyTransform(o,!0),n.measuredBox):oa(l,r,n.layoutBox);const c=!ck(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:v}=u;if(h&&v){const y=Ct();sa(y,n.layoutBox,h.layoutBox);const x=Ct();sa(x,r,v.layoutBox),uk(y,x)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function EV(e){Wi&&Oo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function PV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kV(e){e.clearSnapshot()}function g0(e){e.clearMeasurements()}function TV(e){e.isLayoutDirty=!1}function DV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function y0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AV(e){e.resolveTargetDelta()}function RV(e){e.calcProjection()}function MV(e){e.resetSkewAndRotation()}function IV(e){e.removeLeadSnapshot()}function v0(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function w0(e,t,n,r){e.min=ut(t.min,n.min,r),e.max=ut(t.max,n.max,r)}function _V(e,t,n,r){w0(e.x,t.x,n.x,r),w0(e.y,t.y,n.y,r)}function NV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LV={duration:.45,ease:[.4,0,.1,1]},x0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),S0=x0("applewebkit/")&&!x0("chrome/")?Math.round:Yt;function b0(e){e.min=S0(e.min),e.max=S0(e.max)}function FV(e){b0(e.x),b0(e.y)}function hk(e,t,n){return e==="position"||e==="preserve-aspect"&&!jU(h0(t),h0(n),.2)}function jV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const OV=fk({attachResizeListener:(e,t)=>Ar(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},pk=fk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bf.current){const e=new OV({});e.mount(window),e.setOptions({layoutScroll:!0}),bf.current=e}return bf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$V={pan:{Feature:JU},drag:{Feature:ZU,ProjectionNode:pk,MeasureLayout:ik}};function C0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&Qe.postRender(()=>o(t,il(t)))}class UV extends Mo{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=TU(t,r=>(C0(this.node,r,!0),o=>C0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class VV extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wo(Ar(this.node.current,"focus",()=>this.onFocus()),Ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mk=(e,t)=>t?e===t?!0:mk(e,t.parentElement):!1;function Cf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,il(n))}class BV extends Mo{constructor(){super(...arguments),this.removeStartListeners=Yt,this.removeEndListeners=Yt,this.removeAccessibleListeners=Yt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=xo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!mk(this.node.current,a.target)?d:c;h&&Qe.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=xo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wo(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Cf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Qe.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ar(this.node.current,"keyup",i),Cf("down",(a,l)=>{this.startPress(a,l)})},n=Ar(this.node.current,"keydown",t),r=()=>{this.isPressing&&Cf("cancel",(s,i)=>this.cancelPress(s,i))},o=Ar(this.node.current,"blur",r);this.removeAccessibleListeners=wo(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qe.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!KP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qe.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=xo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rp=new WeakMap,Ef=new WeakMap,zV=e=>{const t=rp.get(e.target);t&&t(e)},qV=e=>{e.forEach(zV)};function WV({root:e,...t}){const n=e||document;Ef.has(n)||Ef.set(n,{});const r=Ef.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(qV,{root:e,...t})),r[o]}function HV(e,t,n){const r=WV(t);return rp.set(e,n),r.observe(e),()=>{rp.delete(e),r.unobserve(e)}}const GV={some:0,all:1};class KV extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:GV[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return HV(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(YV(t,n))&&this.startObserver()}unmount(){}}function YV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const QV={inView:{Feature:KV},tap:{Feature:BV},focus:{Feature:VV},hover:{Feature:UV}},XV={layout:{ProjectionNode:pk,MeasureLayout:ik}},wg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Zu=f.createContext({}),xg=typeof window<"u",gk=xg?f.useLayoutEffect:f.useEffect,yk=f.createContext({strict:!1});function ZV(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Zu),l=f.useContext(yk),c=f.useContext(Xu),d=f.useContext(wg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,v=f.useContext(sk);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&JV(u.current,n,o,v);const y=f.useRef(!1);f.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const x=n[qP],b=f.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return gk(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),vg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,x)}),b.current=!1))}),h}function JV(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vk(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Ms(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function vk(e){if(e)return e.options.allowProjection!==!1?e.projection:vk(e.parent)}function eB(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ms(n)&&(n.current=r))},[t])}function Ju(e){return Ku(e.animate)||Xm.some(t=>Na(e[t]))}function wk(e){return!!(Ju(e)||e.variants)}function tB(e,t){if(Ju(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Na(n)?n:void 0,animate:Na(r)?r:void 0}}return e.inherit!==!1?t:{}}function nB(e){const{initial:t,animate:n}=tB(e,f.useContext(Zu));return f.useMemo(()=>({initial:t,animate:n}),[E0(t),E0(n)])}function E0(e){return Array.isArray(e)?e.join(" "):e}const P0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mi={};for(const e in P0)mi[e]={isEnabled:t=>P0[e].some(n=>!!t[n])};function rB(e){for(const t in e)mi[t]={...mi[t],...e[t]}}const oB=Symbol.for("motionComponentSymbol");function sB({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&rB(e);function s(a,l){let c;const d={...f.useContext(wg),...a,layoutId:iB(a)},{isStatic:u}=d,h=nB(a),v=r(a,u);if(!u&&xg){aB();const y=lB(d);c=y.MeasureLayout,h.visualElement=ZV(o,v,d,t,y.ProjectionNode)}return p.jsxs(Zu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,eB(v,h.visualElement,l),v,u,h.visualElement)]})}const i=f.forwardRef(s);return i[oB]=o,i}function iB({layoutId:e}){const t=f.useContext(yg).id;return t&&e!==void 0?t+"-"+e:e}function aB(e,t){f.useContext(yk).strict}function lB(e){const{drag:t,layout:n}=mi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const cB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sg(e){return typeof e!="string"||e.includes("-")?!1:!!(cB.indexOf(e)>-1||/[A-Z]/u.test(e))}function xk(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Sk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bk(e,t,n,r){xk(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Sk.has(o)?o:gg(o),t.attrs[o])}function Ck(e,{layout:t,layoutId:n}){return ds.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!nu[e]||e==="opacity")}function bg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(Kt(o[i])||t.style&&Kt(t.style[i])||Ck(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function Ek(e,t,n){const r=bg(e,t,n);for(const o in e)if(Kt(e[o])||Kt(t[o])){const s=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function Cg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function uB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:dB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const Pk=e=>(t,n)=>{const r=f.useContext(Zu),o=f.useContext(Xu),s=()=>uB(e,t,r,o);return n?s():Cg(s)};function dB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=hc(s[h]);let{initial:i,animate:a}=e;const l=Ju(e),c=wk(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Ku(u)){const h=Array.isArray(u)?u:[u];for(let v=0;v<h.length;v++){const y=Ym(e,h[v]);if(y){const{transitionEnd:x,transition:b,...m}=y;for(const w in m){let S=m[w];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(o[w]=S)}for(const w in x)o[w]=x[w]}}}return o}const Eg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kk=()=>({...Eg(),attrs:{}}),Tk=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hB=rl.length;function pB(e,t,n){let r="",o=!0;for(let s=0;s<hB;s++){const i=rl[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Tk(a,sg[i]);if(!l){o=!1;const d=fB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Pg(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(ds.has(l)){i=!0;continue}else if(wP(l)){o[l]=c;continue}else{const d=Tk(c,sg[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=pB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function k0(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function mB(e,t,n){const r=k0(t,e.x,e.width),o=k0(n,e.y,e.height);return`${r} ${o}`}const gB={offset:"stroke-dashoffset",array:"stroke-dasharray"},yB={offset:"strokeDashoffset",array:"strokeDasharray"};function vB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?gB:yB;e[s.offset]=ge.transform(-r);const i=ge.transform(t),a=ge.transform(n);e[s.array]=`${i} ${a}`}function kg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(Pg(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:v,dimensions:y}=e;h.transform&&(y&&(v.transform=h.transform),delete h.transform),y&&(o!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=mB(y,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&vB(h,i,a,l,!1)}const Tg=e=>typeof e=="string"&&e.toLowerCase()==="svg",wB={useVisualState:Pk({scrapeMotionValuesFromProps:Ek,createRenderState:kk,onMount:(e,t,{renderState:n,latestValues:r})=>{Qe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qe.render(()=>{kg(n,r,Tg(t.tagName),e.transformTemplate),bk(t,n)})}})},xB={useVisualState:Pk({scrapeMotionValuesFromProps:bg,createRenderState:Eg})};function Dk(e,t,n){for(const r in t)!Kt(t[r])&&!Ck(r,n)&&(e[r]=t[r])}function SB({transformTemplate:e},t){return f.useMemo(()=>{const n=Eg();return Pg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function bB(e,t){const n=e.style||{},r={};return Dk(r,n,e),Object.assign(r,SB(e,t)),r}function CB(e,t){const n={},r=bB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const EB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EB.has(e)}let Ak=e=>!ru(e);function PB(e){e&&(Ak=t=>t.startsWith("on")?!ru(t):e(t))}try{PB(require("@emotion/is-prop-valid").default)}catch{}function kB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Ak(o)||n===!0&&ru(o)||!t&&!ru(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function TB(e,t,n,r){const o=f.useMemo(()=>{const s=kk();return kg(s,t,Tg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Dk(s,e.style,e),o.style={...s,...o.style}}return o}function DB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(Sg(n)?TB:CB)(r,s,i,n),c=kB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>Kt(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function AB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...Sg(r)?wB:xB,preloadedFeatures:e,useRender:DB(o),createVisualElement:t,Component:r};return sB(i)}}const op={current:null},Rk={current:!1};function RB(){if(Rk.current=!0,!!xg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>op.current=e.matches;e.addListener(t),t()}else op.current=!1}function MB(e,t,n){for(const r in t){const o=t[r],s=n[r];if(Kt(o))e.addValue(r,o);else if(Kt(s))e.addValue(r,ja(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,ja(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const T0=new WeakMap,IB=[...bP,Wt,To],_B=e=>IB.find(SP(e)),D0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ng,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=yr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ju(n),this.isVariantNode=wk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const v=u[h];l[h]!==void 0&&Kt(v)&&v.set(l[h],!1)}}mount(t){this.current=t,T0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Rk.current||RB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:op.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T0.delete(this.current),this.projection&&this.projection.unmount(),ko(this.notifyUpdate),ko(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ds.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mi){const n=mi[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D0.length;r++){const o=D0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=MB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(yP(o)||gP(o))?o=parseFloat(o):!_B(o)&&To.test(n)&&(o=RP(t,n)),this.setBaseTarget(t,Kt(o)?o.get():o)),Kt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Ym(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Kt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Mk extends NB{constructor(){super(...arguments),this.KeyframeResolver=MP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Kt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LB(e){return window.getComputedStyle(e)}class FB extends Mk{constructor(){super(...arguments),this.type="html",this.renderInstance=xk}readValueFromInstance(t,n){if(ds.has(n)){const r=ig(n);return r&&r.default||0}else{const r=LB(t),o=(wP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rk(t,n)}build(t,n,r){Pg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return bg(t,n,r)}}class jB extends Mk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ds.has(n)){const r=ig(n);return r&&r.default||0}return n=Sk.has(n)?n:gg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ek(t,n,r)}build(t,n,r){kg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){bk(t,n,r,o)}mount(t){this.isSVGTag=Tg(t.tagName),super.mount(t)}}const OB=(e,t)=>Sg(e)?new jB(t):new FB(t,{allowProjection:e!==f.Fragment}),$B=AB({...PU,...QV,...$V,...XV},OB),ed=CO($B);class UB extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(wg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(UB,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const BB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=Cg(zB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(VB,{isPresent:n,children:e})),p.jsx(Xu.Provider,{value:d,children:e})};function zB(){return new Map}const Wl=e=>e.key||"";function A0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Dg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>A0(e),[e]),l=a.map(Wl),c=f.useRef(!0),d=f.useRef(a),u=Cg(()=>new Map),[h,v]=f.useState(a),[y,x]=f.useState(a);gk(()=>{c.current=!1,d.current=a;for(let w=0;w<y.length;w++){const S=Wl(y[w]);l.includes(S)?u.delete(S):u.get(S)!==!0&&u.set(S,!1)}},[y,l.length,l.join("-")]);const b=[];if(a!==h){let w=[...a];for(let S=0;S<y.length;S++){const C=y[S],E=Wl(C);l.includes(E)||(w.splice(S,0,C),b.push(C))}i==="wait"&&b.length&&(w=b),x(A0(w)),v(a);return}const{forceRender:m}=f.useContext(yg);return p.jsx(p.Fragment,{children:y.map(w=>{const S=Wl(w),C=a===y||l.includes(S),E=()=>{if(u.has(S))u.set(S,!0);else return;let P=!0;u.forEach(T=>{T||(P=!1)}),P&&(m==null||m(),x(d.current),o&&o())};return p.jsx(BB,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:w},S)})})};function qB({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(ed.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function WB(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=er(),a=50,l=.3,c={enter:y=>({x:y>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:y=>({x:y<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(y,x)=>{const{offset:b,velocity:m}=x;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},u=f.useCallback(y=>{const b=new Date(Date.UTC(t,e-1,y)).toISOString().split("T")[0],m=n.filter(S=>S.date===b);return{hasPhotoEntries:m.some(S=>S.photos&&S.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const y=new Date(t,e-1,0).getDate(),x=new Date(t,e-1,1).getDay(),b=Array(x).fill(null).map((w,S)=>({type:"empty",index:S})),m=Array.from({length:y},(w,S)=>({type:"day",day:S+1}));return[...b,...m]},[e,t]),v=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(y=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:y},y))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(Dg,{initial:!1,custom:r,mode:"wait",children:p.jsx(ed.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:v,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(y=>{const x=m=>m.type==="day",b=x(y)?`day-${y.day}`:`empty-${y.index}`;if(x(y)){const{hasPhotoEntries:m,entryCount:w}=u(y.day);return p.jsx(qB,{day:y.day,hasPhotoEntries:m,entryCount:w,onClick:()=>o(y.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function HB(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=er(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Ge,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(qI,{className:"h-4 w-4"})}),p.jsxs(Ge,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(zI,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Ge,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(tC,{className:"h-4 w-4"})})]})}function Ag(e,[t,n]){return Math.min(n,Math.max(t,e))}function GB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Rg="ScrollArea",[Ik,c3]=hn(Rg),[KB,jn]=Ik(Rg),_k=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[v,y]=f.useState(null),[x,b]=f.useState(null),[m,w]=f.useState(0),[S,C]=f.useState(0),[E,P]=f.useState(!1),[T,D]=f.useState(!1),A=je(t,L=>l(L)),M=el(o);return p.jsx(KB,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:D,onCornerWidthChange:w,onCornerHeightChange:C,children:p.jsx(Se.div,{dir:M,...i,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});_k.displayName=Rg;var Nk="ScrollAreaViewport",Lk=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=jn(Nk,n),a=f.useRef(null),l=je(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Lk.displayName=Nk;var Sr="ScrollAreaScrollbar",Mg=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(Sr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(YB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(QB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(Fk,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Ig,{...r,ref:t}):null});Mg.displayName=Sr;var YB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(Sr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(pn,{present:n||s,children:p.jsx(Fk,{"data-state":s?"visible":"hidden",...r,ref:t})})}),QB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jn(Sr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=nd(()=>l("SCROLL_END"),100),[a,l]=GB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const v=c[d];u!==v&&(l("SCROLL"),i()),u=v};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(pn,{present:n||a!=="hidden",children:p.jsx(Ig,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:se(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Fk=f.forwardRef((e,t)=>{const n=jn(Sr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=nd(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return gi(n.viewport,l),gi(n.content,l),p.jsx(pn,{present:r||s,children:p.jsx(Ig,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Ig=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=jn(Sr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Vk(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,v){return nz(h,i.current,a,v)}return n==="horizontal"?p.jsx(XB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,v=R0(h,a,o.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(ZB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,v=R0(h,a);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),XB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=jn(Sr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=je(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(Ok,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":td(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),zk(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:su(i.paddingLeft),paddingEnd:su(i.paddingRight)}})}})}),ZB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=jn(Sr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=je(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(Ok,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":td(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),zk(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:su(i.paddingTop),paddingEnd:su(i.paddingBottom)}})}})}),[JB,jk]=Ik(Sr),Ok=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,v=jn(Sr,n),[y,x]=f.useState(null),b=je(t,A=>x(A)),m=f.useRef(null),w=f.useRef(""),S=v.viewport,C=r.content-r.viewport,E=ct(d),P=ct(l),T=nd(u,10);function D(A){if(m.current){const M=A.clientX-m.current.left,L=A.clientY-m.current.top;c({x:M,y:L})}}return f.useEffect(()=>{const A=M=>{const L=M.target;(y==null?void 0:y.contains(L))&&E(M,C)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,y,C,E]),f.useEffect(P,[r,P]),gi(y,T),gi(v.content,T),p.jsx(JB,{scope:n,scrollbar:y,hasThumb:o,onThumbChange:ct(s),onThumbPointerUp:ct(i),onThumbPositionChange:P,onThumbPointerDown:ct(a),children:p.jsx(Se.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:se(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),m.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),D(A))}),onPointerMove:se(e.onPointerMove,D),onPointerUp:se(e.onPointerUp,A=>{const M=A.target;M.hasPointerCapture(A.pointerId)&&M.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),m.current=null})})})}),ou="ScrollAreaThumb",$k=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jk(ou,e.__scopeScrollArea);return p.jsx(pn,{present:n||o.hasThumb,children:p.jsx(ez,{ref:t,...r})})}),ez=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=jn(ou,n),i=jk(ou,n),{onThumbPositionChange:a}=i,l=je(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=nd(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const v=rz(u,a);c.current=v,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(Se.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(e.onPointerDownCapture,u=>{const v=u.target.getBoundingClientRect(),y=u.clientX-v.left,x=u.clientY-v.top;i.onThumbPointerDown({x:y,y:x})}),onPointerUp:se(e.onPointerUp,i.onThumbPointerUp)})});$k.displayName=ou;var _g="ScrollAreaCorner",Uk=f.forwardRef((e,t)=>{const n=jn(_g,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(tz,{...e,ref:t}):null});Uk.displayName=_g;var tz=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=jn(_g,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return gi(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),gi(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(Se.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function su(e){return e?parseInt(e,10):0}function Vk(e,t){const n=e/t;return isNaN(n)?0:n}function td(e){const t=Vk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function nz(e,t,n,r="ltr"){const o=td(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return Bk([l,c],u)(e)}function R0(e,t,n="ltr"){const r=td(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Ag(e,l);return Bk([0,i],[0,a])(c)}function Bk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function zk(e,t){return e>0&&e<t}var rz=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function nd(e,t){const n=ct(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function gi(e,t){const n=ct(t);Fn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var qk=_k,oz=Lk,sz=Uk;const Wk=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(qk,{ref:r,className:re("relative overflow-hidden",e),...n,children:[p.jsx(oz,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(Hk,{}),p.jsx(sz,{})]}));Wk.displayName=qk.displayName;const Hk=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Mg,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx($k,{className:"relative flex-1 rounded-full bg-border"})}));Hk.displayName=Mg.displayName;const iz=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},Gk=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const v=c.current,y=d.current;if(y){const x=iz(y),b=x*t,w=y.scrollHeight>b+x*.5;l(w),i(v&&!r?v.scrollHeight>v.clientHeight+2||w:!1),v&&!r&&w?(v.style.maxHeight=`${b}px`,v.style.overflow="hidden"):v&&(v.style.maxHeight="",v.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const v=c.current;if(!v)return;const y=new ResizeObserver(()=>{u()});return y.observe(v),()=>y.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:re("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:re("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Ge,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function az(e){return Object.prototype.toString.call(e)==="[object Object]"}function M0(e){return az(e)||Array.isArray(e)}function lz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ng(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!M0(a)||!M0(l)?a===l:Ng(a,l)})}function I0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function cz(e,t){if(e.length!==t.length)return!1;const n=I0(e),r=I0(t);return n.every((o,s)=>{const i=r[s];return Ng(o,i)})}function Lg(e){return typeof e=="number"}function sp(e){return typeof e=="string"}function rd(e){return typeof e=="boolean"}function _0(e){return Object.prototype.toString.call(e)==="[object Object]"}function dt(e){return Math.abs(e)}function Fg(e){return Math.sign(e)}function ia(e,t){return dt(e-t)}function uz(e,t){if(e===0||t===0||dt(e)<=dt(t))return 0;const n=ia(dt(e),dt(t));return dt(n/e)}function dz(e){return Math.round(e*100)/100}function Oa(e){return $a(e).map(Number)}function Yn(e){return e[al(e)]}function al(e){return Math.max(0,e.length-1)}function jg(e,t){return t===al(e)}function N0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function $a(e){return Object.keys(e)}function Kk(e,t){return[e,t].reduce((n,r)=>($a(r).forEach(o=>{const s=n[o],i=r[o],a=_0(s)&&_0(i);n[o]=a?Kk(s,i):i}),n),{})}function ip(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function fz(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return sp(e)?n[e](l):e(t,l,c)}return{measure:i}}function Ua(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function hz(e,t,n,r){const o=Ua(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){v(),o.clear()}function u(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const w=a/s;r(w),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function v(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function y(){i=null,a=0}return{init:c,destroy:d,start:h,stop:v,update:n,render:r}}function pz(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(y){const{height:x,width:b}=y;return r?x:b}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(y){return y*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function ss(e=0,t=0){const n=dt(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function Yk(e,t,n){const{constrain:r}=ss(0,e),o=e+1;let s=i(t);function i(h){return n?dt((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return Yk(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function mz(e,t,n,r,o,s,i,a,l,c,d,u,h,v,y,x,b,m,w){const{cross:S,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},T=Ua(),D=Ua(),A=ss(50,225).constrain(v.measure(20)),M={mouse:300,touch:400},L={mouse:500,touch:600},_=y?43:25;let Y=!1,V=0,K=0,N=!1,O=!1,R=!1,I=!1;function j(oe){if(!w)return;function xe(Ve){(rd(w)||w(oe,Ve))&&te(Ve)}const ie=t;T.add(ie,"dragstart",Ve=>Ve.preventDefault(),P).add(ie,"touchmove",()=>{},P).add(ie,"touchend",()=>{}).add(ie,"touchstart",xe).add(ie,"mousedown",xe).add(ie,"touchcancel",ae).add(ie,"contextmenu",ae).add(ie,"click",Ee,!0)}function H(){T.clear(),D.clear()}function ee(){const oe=I?n:t;D.add(oe,"touchmove",ve,P).add(oe,"touchend",ae).add(oe,"mousemove",ve,P).add(oe,"mouseup",ae)}function Ae(oe){const xe=oe.nodeName||"";return E.includes(xe)}function ce(){return(y?L:M)[I?"mouse":"touch"]}function Je(oe,xe){const ie=u.add(Fg(oe)*-1),Ve=d.byDistance(oe,!y).distance;return y||dt(oe)<A?Ve:b&&xe?Ve*.5:d.byIndex(ie.get(),0).distance}function te(oe){const xe=ip(oe,r);I=xe,R=y&&xe&&!oe.buttons&&Y,Y=ia(o.get(),i.get())>=2,!(xe&&oe.button!==0)&&(Ae(oe.target)||(N=!0,s.pointerDown(oe),c.useFriction(0).useDuration(0),o.set(i),ee(),V=s.readPoint(oe),K=s.readPoint(oe,S),h.emit("pointerDown")))}function ve(oe){if(!ip(oe,r)&&oe.touches.length>=2)return ae(oe);const ie=s.readPoint(oe),Ve=s.readPoint(oe,S),St=ia(ie,V),pt=ia(Ve,K);if(!O&&!I&&(!oe.cancelable||(O=St>pt,!O)))return ae(oe);const _t=s.pointerMove(oe);St>x&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(_t)),oe.preventDefault()}function ae(oe){const ie=d.byDistance(0,!1).index!==u.get(),Ve=s.pointerUp(oe)*ce(),St=Je(C(Ve),ie),pt=uz(Ve,St),_t=_-10*pt,st=m+pt/50;O=!1,N=!1,D.clear(),c.useDuration(_t).useFriction(st),l.distance(St,!y),I=!1,h.emit("pointerUp")}function Ee(oe){R&&(oe.stopPropagation(),oe.preventDefault(),R=!1)}function Ye(){return N}return{init:j,destroy:H,pointerDown:Ye}}function gz(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(ip(u,t)?u:u.touches[0])[y]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),v=s(u)-s(r)>170;return o=u,v&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),v=s(u)-s(r),y=s(u)-s(o)>170,x=h/v;return v&&!y&&dt(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function yz(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function vz(e){function t(r){return e*(r/100)}return{measure:t}}function wz(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(b){return o.measureSize(i.measure(b))}function v(b){if(!s)return;c=h(e),d=r.map(h);function m(w){for(const S of w){if(u)return;const C=S.target===e,E=r.indexOf(S.target),P=C?c:d[E],T=h(C?e:r[E]);if(dt(T-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(w=>{(rd(s)||s(b,w))&&m(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function y(){u=!0,l&&l.disconnect()}return{init:v,destroy:y}}function xz(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),T=!l;let D=0;return T?(i=0,n.set(r),e.set(r),D=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),D=d-u),a=Fg(D),u=d,E}function v(){const P=r.get()-t.get();return dt(P)<.001}function y(){return l}function x(){return a}function b(){return i}function m(){return S(o)}function w(){return C(s)}function S(P){return l=P,E}function C(P){return c=P,E}const E={direction:x,duration:y,velocity:b,seek:h,settled:v,useBaseFriction:w,useBaseDuration:m,useFriction:C,useDuration:S};return E}function Sz(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=ss(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(v){if(!c())return;const y=e.reachedMin(t.get())?"min":"max",x=dt(e[y]-t.get()),b=n.get()-t.get(),m=a.constrain(x/i);n.subtract(b*m),!v&&dt(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(v){l=!v}return{shouldConstrain:c,constrain:d,toggleActive:u}}function bz(e,t,n,r,o){const s=ss(-t+e,0),i=u(),a=d(),l=h();function c(y,x){return ia(y,x)<=1}function d(){const y=i[0],x=Yn(i),b=i.lastIndexOf(y),m=i.indexOf(x)+1;return ss(b,m)}function u(){return n.map((y,x)=>{const{min:b,max:m}=s,w=s.constrain(y),S=!x,C=jg(n,x);return S?m:C||c(b,w)?b:c(m,w)?m:w}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:y,max:x}=a;return i.slice(y,x)}return{snapsContained:l,scrollContainLimit:a}}function Cz(e,t,n){const r=t[0],o=n?r-e:Yn(t);return{limit:ss(o,r)}}function Ez(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=ss(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const v=e*(h*-1);r.forEach(y=>y.add(v))}return{loop:d}}function Pz(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function kz(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=v();function u(){return a(r).map(x=>Yn(x)[i]-x[0][s]).map(dt)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-dt(x))}function v(){return a(c).map(x=>x[0]).map((x,b)=>x+l[b])}return{snaps:c,snapsAligned:d}}function Tz(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),v=!e||t==="keepSnaps";return n.length===1?[s]:v?h:h.slice(a,l).map((y,x,b)=>{const m=!x,w=jg(b,x);if(m){const S=Yn(b[0])+1;return N0(S)}if(w){const S=al(s)-Yn(b)[0]+1;return N0(S,Yn(b)[0])}return y})}return{slideRegistry:c}}function Dz(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(y){return y.concat().sort((x,b)=>dt(x)-dt(b))[0]}function c(y){const x=e?i(y):a(y),b=t.map((w,S)=>({diff:d(w-x,0),index:S})).sort((w,S)=>dt(w.diff)-dt(S.diff)),{index:m}=b[0];return{index:m,distance:x}}function d(y,x){const b=[y,y+n,y-n];if(!e)return y;if(!x)return l(b);const m=b.filter(w=>Fg(w)===x);return m.length?l(m):Yn(b)-n}function u(y,x){const b=t[y]-o.get(),m=d(b,x);return{index:y,distance:m}}function h(y,x){const b=o.get()+y,{index:m,distance:w}=c(b),S=!e&&s(b);if(!x||S)return{index:m,distance:y};const C=t[m]-w,E=y+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function Az(e,t,n,r,o,s,i){function a(u){const h=u.distance,v=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),v&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const v=o.byDistance(u,h);a(v)}function c(u,h){const v=t.clone().set(u),y=o.byIndex(v.get(),h);a(y)}return{distance:l,index:c}}function Rz(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(v){if(!a)return;function y(x){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const w=n.findIndex(S=>S.includes(x));Lg(w)&&(o.useDuration(0),r.index(w,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((x,b)=>{s.add(x,"focus",m=>{(rd(a)||a(v,m))&&y(b)},l)})}function u(v){v.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Hi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return Lg(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function Qk(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const v=dz(e.direction(h));v!==o&&(r.transform=n(v),o=v)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function Mz(e,t,n,r,o,s,i,a,l){const d=Oa(o),u=Oa(o).reverse(),h=m().concat(w());function v(T,D){return T.reduce((A,M)=>A-o[M],D)}function y(T,D){return T.reduce((A,M)=>v(A,D)>0?A.concat([M]):A,[])}function x(T){return s.map((D,A)=>({start:D-r[A]+.5+T,end:D+t-.5+T}))}function b(T,D,A){const M=x(D);return T.map(L=>{const _=A?0:-n,Y=A?n:0,V=A?"end":"start",K=M[L][V];return{index:L,loopPoint:K,slideLocation:Hi(-1),translate:Qk(e,l[L]),target:()=>a.get()>K?_:Y}})}function m(){const T=i[0],D=y(u,T);return b(D,n,!1)}function w(){const T=t-i[0]-1,D=y(d,T);return b(D,-n,!0)}function S(){return h.every(({index:T})=>{const D=d.filter(A=>A!==T);return v(D,t)<=.1})}function C(){h.forEach(T=>{const{target:D,translate:A,slideLocation:M}=T,L=D();L!==M.get()&&(A.to(L),M.set(L))})}function E(){h.forEach(T=>T.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function Iz(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(rd(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function _z(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(x=>{const b=t.indexOf(x.target);o[b]=x}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function u(y){return $a(o).reduce((x,b)=>{const m=parseInt(b),{isIntersecting:w}=o[m];return(y&&w||!y&&!w)&&x.push(m),x},[])}function h(y=!0){if(y&&s)return s;if(!y&&i)return i;const x=u(y);return y&&(s=x),y||(i=x),x}return{init:c,destroy:d,get:h}}function Nz(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=y(),u=x(),h=n.map(i),v=b();function y(){if(!c)return 0;const w=n[0];return dt(t[a]-w[a])}function x(){if(!c)return 0;const w=s.getComputedStyle(Yn(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function b(){return n.map((w,S,C)=>{const E=!S,P=jg(C,S);return E?h[S]+d:P?h[S]+u:C[S+1][a]-w[a]}).map(dt)}return{slideSizes:h,slideSizesWithGaps:v,startGap:d,endGap:u}}function Lz(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=Lg(n);function v(m,w){return Oa(m).filter(S=>S%w===0).map(S=>m.slice(S,S+w))}function y(m){return m.length?Oa(m).reduce((w,S,C)=>{const E=Yn(w)||0,P=E===0,T=S===al(m),D=o[c]-s[E][c],A=o[c]-s[S][d],M=!r&&P?u(i):0,L=!r&&T?u(a):0,_=dt(A-L-(D+M));return C&&_>t+l&&w.push(S),T&&w.push(m.length),w},[]).map((w,S,C)=>{const E=Math.max(C[S-1]||0);return m.slice(E,w)}):[]}function x(m){return h?v(m,n):y(m)}return{groupSlides:x}}function Fz(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:v,dragThreshold:y,inViewThreshold:x,slidesToScroll:b,skipSnaps:m,containScroll:w,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=s,T=2,D=yz(),A=D.measure(t),M=n.map(D.measure),L=pz(l,c),_=L.measureSize(A),Y=vz(_),V=fz(a,_),K=!u&&!!w,N=u||!!w,{slideSizes:O,slideSizesWithGaps:R,startGap:I,endGap:j}=Nz(L,A,M,n,N,o),H=Lz(L,_,b,u,A,M,I,j,T),{snaps:ee,snapsAligned:Ae}=kz(L,V,A,M,H),ce=-Yn(ee)+Yn(R),{snapsContained:Je,scrollContainLimit:te}=bz(_,ce,Ae,w,T),ve=K?Je:Ae,{limit:ae}=Cz(ce,ve,u),Ee=Yk(al(ve),d,u),Ye=Ee.clone(),ke=Oa(n),oe=({dragHandler:Ue,scrollBody:et,scrollBounds:$,options:{loop:F}})=>{F||$.constrain(Ue.pointerDown()),et.seek()},xe=({scrollBody:Ue,translate:et,location:$,offsetLocation:F,previousLocation:z,scrollLooper:X,slideLooper:he,dragHandler:me,animation:ye,eventHandler:Ie,scrollBounds:We,options:{loop:Be}},He)=>{const Pt=Ue.settled(),Ut=!We.shouldConstrain(),Xt=Be?Pt:Pt&&Ut,kt=Xt&&!me.pointerDown();kt&&ye.stop();const Nt=$.get()*He+z.get()*(1-He);F.set(Nt),Be&&(X.loop(Ue.direction()),he.loop()),et.to(F.get()),kt&&Ie.emit("settle"),Xt||Ie.emit("scroll")},ie=hz(r,o,()=>oe(ze),Ue=>xe(ze,Ue)),Ve=.68,St=ve[Ee.get()],pt=Hi(St),_t=Hi(St),st=Hi(St),mt=Hi(St),gt=xz(pt,st,_t,mt,h,Ve),$t=Dz(u,ve,ce,ae,mt),Te=Az(ie,Ee,Ye,gt,$t,mt,i),U=Pz(ae),q=Ua(),G=_z(t,n,i,x),{slideRegistry:fe}=Tz(K,w,ve,te,H,ke),pe=Rz(e,n,fe,Te,gt,q,i,P),ze={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:A,slideRects:M,animation:ie,axis:L,dragHandler:mz(L,e,r,o,mt,gz(L,o),pt,ie,Te,gt,$t,Ee,i,Y,v,y,m,Ve,E),eventStore:q,percentOfView:Y,index:Ee,indexPrevious:Ye,limit:ae,location:pt,offsetLocation:st,previousLocation:_t,options:s,resizeHandler:wz(t,i,o,n,L,S,D),scrollBody:gt,scrollBounds:Sz(ae,st,mt,gt,Y),scrollLooper:Ez(ce,ae,st,[pt,st,_t,mt]),scrollProgress:U,scrollSnapList:ve.map(U.get),scrollSnaps:ve,scrollTarget:$t,scrollTo:Te,slideLooper:Mz(L,_,ce,O,R,ee,ve,st,n),slideFocus:pe,slidesHandler:Iz(t,i,C),slidesInView:G,slideIndexes:ke,slideRegistry:fe,slidesToScroll:H,target:mt,translate:Qk(L,t)};return ze}function jz(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const Oz={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function $z(e){function t(s,i){return Kk(s,i||{})}function n(s){const i=s.breakpoints||{},a=$a(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>$a(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function Uz(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function iu(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=$z(o),i=Uz(s),a=Ua(),l=jz(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:v,emit:y}=l,x=L;let b=!1,m,w=c(Oz,iu.globalOptions),S=c(w),C=[],E,P,T;function D(){const{container:ke,slides:oe}=S;P=(sp(ke)?e.querySelector(ke):ke)||e.children[0];const ie=sp(oe)?P.querySelectorAll(oe):oe;T=[].slice.call(ie||P.children)}function A(ke){const oe=Fz(e,P,T,r,o,ke,l);if(ke.loop&&!oe.slideLooper.canLoop()){const xe=Object.assign({},ke,{loop:!1});return A(xe)}return oe}function M(ke,oe){b||(w=c(w,ke),S=d(w),C=oe||C,D(),m=A(S),u([w,...C.map(({options:xe})=>xe)]).forEach(xe=>a.add(xe,"change",L)),S.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ye),m.eventHandler.init(Ye),m.resizeHandler.init(Ye),m.slidesHandler.init(Ye),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&T.length&&m.dragHandler.init(Ye),E=i.init(Ye,C)))}function L(ke,oe){const xe=H();_(),M(c({startIndex:xe},ke),oe),l.emit("reInit")}function _(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function Y(){b||(b=!0,a.clear(),_(),l.emit("destroy"),l.clear())}function V(ke,oe,xe){!S.active||b||(m.scrollBody.useBaseFriction().useDuration(oe===!0?0:S.duration),m.scrollTo.index(ke,xe||0))}function K(ke){const oe=m.index.add(1).get();V(oe,ke,-1)}function N(ke){const oe=m.index.add(-1).get();V(oe,ke,1)}function O(){return m.index.add(1).get()!==H()}function R(){return m.index.add(-1).get()!==H()}function I(){return m.scrollSnapList}function j(){return m.scrollProgress.get(m.offsetLocation.get())}function H(){return m.index.get()}function ee(){return m.indexPrevious.get()}function Ae(){return m.slidesInView.get()}function ce(){return m.slidesInView.get(!1)}function Je(){return E}function te(){return m}function ve(){return e}function ae(){return P}function Ee(){return T}const Ye={canScrollNext:O,canScrollPrev:R,containerNode:ae,internalEngine:te,destroy:Y,off:v,on:h,emit:y,plugins:Je,previousScrollSnap:ee,reInit:x,rootNode:ve,scrollNext:K,scrollPrev:N,scrollProgress:j,scrollSnapList:I,scrollTo:V,selectedScrollSnap:H,slideNodes:Ee,slidesInView:Ae,slidesNotInView:ce};return M(t,n),setTimeout(()=>l.emit("init"),0),Ye}iu.globalOptions=void 0;function Og(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{Ng(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{cz(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(lz()&&i){iu.globalOptions=Og.globalOptions;const c=iu(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}Og.globalOptions=void 0;const Xk=f.createContext(null);function od(){const e=f.useContext(Xk);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Zk=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=Og({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,v]=f.useState(!1),y=f.useCallback(w=>{w&&(u(w.canScrollPrev()),v(w.canScrollNext()))},[]),x=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),x()):w.key==="ArrowRight"&&(w.preventDefault(),b())},[x,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return y(c),c.on("reInit",y),c.on("select",y),()=>{c==null||c.off("select",y)}},[c,y]),p.jsx(Xk.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:re("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});Zk.displayName="Carousel";const Jk=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=od();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:re("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Jk.displayName="CarouselContent";const eT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=od();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:re("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});eT.displayName="CarouselItem";const tT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=od();return p.jsxs(Ge,{ref:o,variant:t,size:n,className:re("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Jb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});tT.displayName="CarouselPrevious";const nT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=od();return p.jsxs(Ge,{ref:o,variant:t,size:n,className:re("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(BI,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});nT.displayName="CarouselNext";const rT=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[v,y]=f.useState({width:0,height:0}),[x,b]=f.useState(null),[m,w]=f.useState(!1),S=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(S.current){const A=S.current.offsetWidth,M=S.current.offsetHeight;A>0&&M>0?y({width:A,height:M}):A>0&&y({width:A,height:A})}},[]);f.useEffect(()=>{const A=S.current;if(!A)return;const M=new ResizeObserver(E);return M.observe(A),E(),()=>{M.unobserve(A)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(b(t),w(!0),u!=="loading"&&h("loading")):e?m||(b(e),u!=="loading"&&u!=="loaded"&&h("loading")):(b(null),w(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const A=new Image,M=()=>{b(e),w(!1),h("loaded"),l&&l()},L=()=>{g.error("Failed to load full image in background:",e)};return A.onload=M,A.onerror=L,A.src=e,()=>{A.onload=null,A.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const M=u==="loaded",L={position:"absolute",top:0,left:0,opacity:M?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:M?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||v.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return L;const{width:_,height:Y}=r,K=v.width/n.w,N=_*K,O=Y*K,R=-n.x*K,I=-n.y*K;return isNaN(N)||isNaN(O)||isNaN(R)||isNaN(I)?(g.warn("NaN detected during style calculation",{scale:K,naturalW:_,naturalH:Y,cropData:n}),L):{...L,width:`${N}px`,height:`${O}px`,transform:`translate(${R}px, ${I}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,u,v]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===x&&x&&(h("loaded"),!m&&l&&l())},[x,m,l]),T=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===x&&x){if(g.error("Failed to load image in CroppedImageViewer:",x),m&&e){b(e),w(!1);return}if(!m&&t){g.log("Full image failed to load. Falling back to thumbnail:",t),b(t),w(!0);return}h("error")}},[x,e,t,m]),D=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:S,"data-testid":"image-container",className:re("relative w-full h-full overflow-hidden bg-muted",s),children:[D&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(Gt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(oC,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:x??"",alt:o,style:c,className:re("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:T,loading:"lazy"})]})},Vz=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},v=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(g.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):g.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),y=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(g.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):g.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),x=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[x&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Gt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(oC,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:re("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(rT,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:re("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:v,onError:y,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(e_,{size:16}):p.jsx(JI,{size:16})})]})},oT=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:re("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(Zk,{setApi:n,className:"w-full h-full",children:[p.jsx(Jk,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(eT,{className:"h-full",children:p.jsx(Vz,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(tT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(nT,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},Bz=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function zz(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=er(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),v=f.useRef(null),y=50,x=.3,b={enter:S=>({x:S>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:S=>({x:S<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(S,C)=>{const{offset:E,velocity:P}=C;let T=S.target;for(;T&&T!==v.current;){if(T.classList.contains("ignore-list-swipe")){g.log("List swipe ignored, started on carousel.");return}T=T.parentElement}E.x>y||P.x>x&&E.x>10?l(-1):(E.x<-y||P.x<-x&&E.x<-10)&&l(1)},w=f.useMemo(()=>[...e].sort((S,C)=>{const E=new Date(S.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const T=S.createdAt instanceof Date?S.createdAt.getTime():Date.parse(S.createdAt),D=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return T-D}),[e]);return f.useEffect(()=>{let S=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{S&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{g.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{S&&h(E=>new Map(E).set(C.id,!1))})}),()=>{S=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})]}):w.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(Wk,{className:"h-full",children:[" ",p.jsxs("div",{ref:v,className:"relative overflow-hidden h-full",children:[" ",p.jsx(Dg,{initial:!1,custom:a,mode:"wait",children:p.jsx(ed.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:w.map(S=>{const E=c.get(S.id)||{...S,photos:(S.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Tm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(oT,{entry:E})}),p.jsxs(Dm,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:Bz(S.date)}),p.jsxs(Hm,{children:[p.jsx(Gm,{asChild:!0,children:p.jsx(Ge,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(rC,{className:"h-4 w-4"})})}),p.jsxs(Gu,{align:"end",children:[p.jsxs(os,{onClick:P=>{P.stopPropagation(),n(S.id)},children:[p.jsx(sC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(os,{onClick:P=>{P.stopPropagation(),r(S.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(pm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(Gk,{text:S.content,linesToShow:4})]})]},S.id)})},`${s}-${i}-list`)})]})]})}var $g="Dialog",[sT,iT]=hn($g),[qz,tr]=sT($g),aT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=wr({prop:r,defaultProp:o,onChange:s});return p.jsx(qz,{scope:t,triggerRef:a,contentRef:l,contentId:Yo(),titleId:Yo(),descriptionId:Yo(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};aT.displayName=$g;var lT="DialogTrigger",cT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(lT,n),s=je(t,o.triggerRef);return p.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Bg(o.open),...r,ref:s,onClick:se(e.onClick,o.onOpenToggle)})});cT.displayName=lT;var Ug="DialogPortal",[Wz,uT]=sT(Ug,{forceMount:void 0}),dT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=tr(Ug,t);return p.jsx(Wz,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(pn,{present:n||s.open,children:p.jsx(Au,{asChild:!0,container:o,children:i})}))})};dT.displayName=Ug;var au="DialogOverlay",fT=f.forwardRef((e,t)=>{const n=uT(au,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=tr(au,e.__scopeDialog);return s.modal?p.jsx(pn,{present:r||s.open,children:p.jsx(Gz,{...o,ref:t})}):null});fT.displayName=au;var Hz=ui("DialogOverlay.RemoveScroll"),Gz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(au,n);return p.jsx(jm,{as:Hz,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Se.div,{"data-state":Bg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),is="DialogContent",hT=f.forwardRef((e,t)=>{const n=uT(is,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=tr(is,e.__scopeDialog);return p.jsx(pn,{present:r||s.open,children:s.modal?p.jsx(Kz,{...o,ref:t}):p.jsx(Yz,{...o,ref:t})})});hT.displayName=is;var Kz=f.forwardRef((e,t)=>{const n=tr(is,e.__scopeDialog),r=f.useRef(null),o=je(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return XE(s)},[]),p.jsx(pT,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:se(e.onFocusOutside,s=>s.preventDefault())})}),Yz=f.forwardRef((e,t)=>{const n=tr(is,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(pT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),pT=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=tr(is,n),l=f.useRef(null),c=je(t,l);return KE(),p.jsxs(p.Fragment,{children:[p.jsx(Fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Xa,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Bg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Xz,{titleId:a.titleId}),p.jsx(Jz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Vg="DialogTitle",mT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(Vg,n);return p.jsx(Se.h2,{id:o.titleId,...r,ref:t})});mT.displayName=Vg;var gT="DialogDescription",yT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(gT,n);return p.jsx(Se.p,{id:o.descriptionId,...r,ref:t})});yT.displayName=gT;var vT="DialogClose",wT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=tr(vT,n);return p.jsx(Se.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>o.onOpenChange(!1))})});wT.displayName=vT;function Bg(e){return e?"open":"closed"}var xT="DialogTitleWarning",[Qz,ST]=XM(xT,{contentName:is,titleName:Vg,docsSlug:"dialog"}),Xz=({titleId:e})=>{const t=ST(xT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Zz="DialogDescriptionWarning",Jz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ST(Zz).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},bT=aT,e4=cT,CT=dT,zg=fT,qg=hT,Wg=mT,Hg=yT,Gg=wT;const ET=bT,t4=CT,PT=f.forwardRef(({className:e,...t},n)=>p.jsx(zg,{ref:n,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PT.displayName=zg.displayName;const Kg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(t4,{children:[p.jsx(PT,{}),p.jsxs(qg,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Gg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(_u,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kg.displayName=qg.displayName;const Yg=({className:e,...t})=>p.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Yg.displayName="DialogHeader";const Qg=f.forwardRef(({className:e,...t},n)=>p.jsx(Wg,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));Qg.displayName=Wg.displayName;const kT=f.forwardRef(({className:e,...t},n)=>p.jsx(Hg,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));kT.displayName=Hg.displayName;function TT({className:e,...t}){return p.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const L0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function n4(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=er(),[,a]=am(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,v]=f.useState(new Set),y=f.useRef(!0),x=f.useMemo(()=>[...n].sort((m,w)=>{const S=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=w.createdAt instanceof Date?w.createdAt.getTime():Date.parse(w.createdAt);return S-C}),[n]);f.useEffect(()=>{if(y.current=!0,e&&x.length>0){u(!0),c(new Map),v(new Set);const m=x.map(w=>i(w).then(S=>{y.current&&c(C=>new Map(C).set(w.id,S))}).catch(S=>{g.error(`Error fetching details for entry ${w.id} in modal:`,S),y.current&&(v(C=>new Set(C).add(w.id)),c(C=>new Map(C).set(w.id,L0(w))))}));Promise.allSettled(m).finally(()=>{y.current&&u(!1)})}else e||(c(new Map),u(!1),v(new Set));return()=>{y.current=!1}},[e,x,i]);const b=()=>{t(),a("/entry/new")};return p.jsx(ET,{open:e,onOpenChange:t,children:p.jsxs(Kg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Yg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(Qg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:x.length===0&&!d?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Ge,{onClick:b,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:x.map((m,w)=>{const S=l.get(m.id),C=d&&!S,E=h.has(m.id),P=S||L0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(TT,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(oT,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(Hm,{children:[p.jsx(Gm,{asChild:!0,children:p.jsx(Ge,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(rC,{className:"h-4 w-4"})})}),p.jsxs(Gu,{align:"end",children:[p.jsxs(os,{onClick:()=>o(m.id),children:[p.jsx(sC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(os,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(pm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(Gk,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+w)})})}),!d&&x.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Ge,{onClick:b,children:"Add Another Entry"})})]})})}var DT="AlertDialog",[r4,u3]=hn(DT,[iT]),Br=iT(),AT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Br(t);return p.jsx(bT,{...r,...n,modal:!0})};AT.displayName=DT;var o4="AlertDialogTrigger",s4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(e4,{...o,...r,ref:t})});s4.displayName=o4;var i4="AlertDialogPortal",RT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Br(t);return p.jsx(CT,{...r,...n})};RT.displayName=i4;var a4="AlertDialogOverlay",MT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(zg,{...o,...r,ref:t})});MT.displayName=a4;var Hs="AlertDialogContent",[l4,c4]=r4(Hs),u4=Tb("AlertDialogContent"),IT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=Br(n),i=f.useRef(null),a=je(t,i),l=f.useRef(null);return p.jsx(Qz,{contentName:Hs,titleName:_T,docsSlug:"alert-dialog",children:p.jsx(l4,{scope:n,cancelRef:l,children:p.jsxs(qg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:se(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(u4,{children:r}),p.jsx(f4,{contentRef:i})]})})})});IT.displayName=Hs;var _T="AlertDialogTitle",NT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Wg,{...o,...r,ref:t})});NT.displayName=_T;var LT="AlertDialogDescription",FT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Hg,{...o,...r,ref:t})});FT.displayName=LT;var d4="AlertDialogAction",jT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Br(n);return p.jsx(Gg,{...o,...r,ref:t})});jT.displayName=d4;var OT="AlertDialogCancel",$T=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=c4(OT,n),s=Br(n),i=je(t,o);return p.jsx(Gg,{...s,...r,ref:i})});$T.displayName=OT;var f4=({contentRef:e})=>{const t=`\`${Hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hs}\` by passing a \`${LT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},h4=AT,p4=RT,UT=MT,VT=IT,BT=jT,zT=$T,qT=NT,WT=FT;const HT=h4,m4=p4,GT=f.forwardRef(({className:e,...t},n)=>p.jsx(UT,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));GT.displayName=UT.displayName;const Xg=f.forwardRef(({className:e,...t},n)=>p.jsxs(m4,{children:[p.jsx(GT,{}),p.jsx(VT,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Xg.displayName=VT.displayName;const Zg=({className:e,...t})=>p.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Zg.displayName="AlertDialogHeader";const Jg=({className:e,...t})=>p.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jg.displayName="AlertDialogFooter";const ey=f.forwardRef(({className:e,...t},n)=>p.jsx(qT,{ref:n,className:re("text-lg font-semibold",e),...t}));ey.displayName=qT.displayName;const ty=f.forwardRef(({className:e,...t},n)=>p.jsx(WT,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));ty.displayName=WT.displayName;const ny=f.forwardRef(({className:e,...t},n)=>p.jsx(BT,{ref:n,className:re(Am(),e),...t}));ny.displayName=BT.displayName;const ry=f.forwardRef(({className:e,...t},n)=>p.jsx(zT,{ref:n,className:re(Am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ry.displayName=zT.displayName;function g4(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=er(),o=async()=>{await n()};return p.jsx(HT,{open:e,onOpenChange:t,children:p.jsxs(Xg,{children:[p.jsxs(Zg,{children:[p.jsx(ey,{children:"Delete Entry"}),p.jsx(ty,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Jg,{children:[p.jsx(ry,{disabled:r,children:"Cancel"}),p.jsx(ny,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var y4="Label",KT=f.forwardRef((e,t)=>p.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KT.displayName=y4;var YT=KT;const v4=Za("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),sd=f.forwardRef(({className:e,...t},n)=>p.jsx(YT,{ref:n,className:re(v4(),e),...t}));sd.displayName=YT.displayName;function w4({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Qa(),l=f.useCallback(async y=>{if(!y||y.length===0)return;const x=Array.from(y),b=[],m=[];let w=!0;if(s+x.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const S of x){if(!S.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${S.name}" is not a supported image file.`,variant:"destructive"}),w=!1;continue}try{const C=URL.createObjectURL(S);b.push(S),m.push(C)}catch(C){g.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${S.name}`,variant:"destructive"}),w=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!w&&m.length>0&&m.forEach(URL.revokeObjectURL),w&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(y=>{t||l(y.target.files)},[t,l]),d=f.useCallback(y=>{t||(y.preventDefault(),y.stopPropagation(),l(y.dataTransfer.files))},[t,l]),u=y=>{t||(y.preventDefault(),y.stopPropagation())},h=f.useCallback(()=>{var y;t||(y=i.current)==null||y.click()},[t]),v=r?Tt.isValidElement(r)?Tt.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:re("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:re(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),v]})}const aa=10,Vn=e=>e.isNew===!0,QT=e=>e.isNew===!1,x4=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function S4({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const v=f.useRef(null),y=f.useRef(null),[x,b]=f.useState(null),[m,w]=f.useState(null),S=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{S.current=S.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),w(null)},T=N=>{const O=E.current,R=C.current;if(!O||!R||N<0||N>e.length){P();return}if(N===m&&O.style.display!=="none")return;w(N);const I=x4(R);let j=null,H=!1;if(N===e.length?(j=S.current[e.length-1],H=!0):(j=S.current[N],H=!1),j){const ee=j.getBoundingClientRect(),Ae=j.offsetTop;let ce;H?ce=j.offsetLeft+ee.width+I/2:ce=j.offsetLeft-I/2,O.style.display="block",O.style.top=`${Ae}px`,O.style.left=`${ce}px`,O.style.height=`${ee.height}px`}else P()},D=(N,O)=>{if(v.current=O,b(O),P(),N.dataTransfer)try{N.dataTransfer.effectAllowed="move"}catch{}},A=(N,O)=>{if(N.preventDefault(),v.current===null||v.current===O){y.current=null,P();return}y.current=O;const R=S.current[O];if(R){const I=R.getBoundingClientRect(),j=I.left+I.width/2,ee=N.clientX<j?O:O+1;T(ee)}},M=N=>{C.current&&!C.current.contains(N.relatedTarget)&&(y.current=null,P())},L=()=>{let N=m;v.current!==null&&N!==null&&N>v.current&&N--,v.current!==null&&N!==null&&v.current!==N&&t(O=>{const R=[...O],I=R.splice(v.current,1)[0];return R.splice(N,0,I),R}),v.current=null,y.current=null,b(null),P()},_=(N,O)=>{v.current=O,b(O),P()},Y=N=>{if(v.current===null)return;N.cancelable&&N.preventDefault();const O=N.touches[0],R=document.elementFromPoint(O.clientX,O.clientY),I=R==null?void 0:R.closest('[draggable="true"]');if(I){const j=S.current.indexOf(I);if(j!==-1&&j!==v.current){y.current=j;const H=I.getBoundingClientRect(),ee=H.left+H.width/2,ce=O.clientX<ee?j:j+1;T(ce);return}}y.current=null,P()},V=()=>{let N=m;v.current!==null&&N!==null&&N>v.current&&N--,v.current!==null&&N!==null&&v.current!==N&&t(O=>{const R=[...O],I=R.splice(v.current,1)[0];return R.splice(N,0,I),R}),v.current=null,y.current=null,b(null),P()},K=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(sd,{children:["Photos (",e.length,"/",aa,")"," ",K&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((N,O)=>p.jsx(TT,{className:"h-16 w-16 rounded aspect-square"},O))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:M,onTouchStart:N=>{},onTouchMove:Y,onTouchEnd:V,onTouchCancel:V,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((N,O)=>{var Ae;const R=Vn(N)?N.localId:N.photoId,I=l.current.get(R),j=N.crop;let H=null;Vn(N)?N.originalDimensions&&(H={filename:N.file.name,mimeType:N.file.type,width:N.originalDimensions.width,height:N.originalDimensions.height,exifDate:(Ae=N.exifData)==null?void 0:Ae.exifDate}):QT(N)&&(H=c.current.get(N.photoId)??null);const ee=!!I;return p.jsxs("div",{ref:ce=>S.current[O]=ce,draggable:K,onDragStart:ce=>K&&D(ce,O),onDragOver:ce=>K&&A(ce,O),onDragEnd:K?L:void 0,onTouchStart:ce=>K&&_(ce,O),className:re("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",K?"cursor-grab active:cursor-grabbing":"cursor-default",x===O?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(rT,{imageUrl:I,thumbnailUrl:I,cropData:j,photoMetadata:H,altText:`Photo ${O+1} thumbnail`,className:"rounded",enableLoadingState:!!I&&I.startsWith("blob:")}),p.jsxs("div",{className:re("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Ge,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:ce=>{ce.stopPropagation(),!n&&ee?s(O):ee||g.warn(`Cannot open cropper: original URL missing for ${R}`)},disabled:n||!ee,children:p.jsx(HI,{className:"h-3 w-3"})}),p.jsx(Ge,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:ce=>{ce.stopPropagation(),n||i(O)},disabled:n,children:p.jsx(pm,{className:"h-3 w-3"})})]}),K&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(KI,{className:"h-3 w-3 text-white"})})]},R+"-"+O)}),e.length<aa&&p.jsx(w4,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:aa,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Gt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(YI,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function b4({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(sd,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(iC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const XT=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));XT.displayName="Textarea";function C4({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(sd,{htmlFor:"content",children:"Content"}),p.jsx(XT,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function E4({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Ge,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Ge,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Gt,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function P4(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function k4(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function T4(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=er(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=P4(),d=k4(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(ET,{open:e,onOpenChange:t,children:p.jsxs(Kg,{className:"sm:max-w-md",children:[p.jsxs(Yg,{children:[p.jsx(Qg,{children:"Select Month and Year"}),p.jsx(kT,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,v)=>p.jsx("option",{value:v+1,children:h},v))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Ge,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Ge,{onClick:u,children:"Apply"})]})]})})}function D4(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=er();Nm(),am();const h=l,v=l?"Saving...":"",y={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})});const x=u&&!e&&!t&&!n,b=x?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(bO,{}),h&&p.jsxs("div",{className:re("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",x?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(Gt,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:v})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(_u,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:re("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx(HB,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(Dg,{initial:!1,mode:"wait",children:p.jsx(ed.div,{variants:y,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(WB,{}):p.jsx(zz,{})})},s)})})})]}),p.jsx(T4,{}),p.jsx(n4,{}),p.jsx(g4,{})]})}var ZT=["PageUp","PageDown"],JT=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pi="Slider",[ap,A4,R4]=Du(Pi),[tD,d3]=hn(Pi,[R4]),[M4,id]=tD(Pi),nD=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:v=!1,form:y,...x}=e,b=f.useRef(new Set),m=f.useRef(0),S=i==="horizontal"?I4:_4,[C=[],E]=wr({prop:d,defaultProp:c,onChange:L=>{var Y;(Y=[...b.current][m.current])==null||Y.focus(),u(L)}}),P=f.useRef(C);function T(L){const _=O4(C,L);M(L,_)}function D(L){M(L,m.current)}function A(){const L=P.current[m.current];C[m.current]!==L&&h(C)}function M(L,_,{commit:Y}={commit:!1}){const V=B4(s),K=z4(Math.round((L-r)/s)*s+r,V),N=Ag(K,[r,o]);E((O=[])=>{const R=F4(O,N,_);if(V4(R,l*s)){m.current=R.indexOf(N);const I=String(R)!==String(O);return I&&Y&&h(R),I?R:O}else return O})}return p.jsx(M4,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:y,children:p.jsx(ap.Provider,{scope:e.__scopeSlider,children:p.jsx(ap.Slot,{scope:e.__scopeSlider,children:p.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:se(x.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:v,onSlideStart:a?void 0:T,onSlideMove:a?void 0:D,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(o,C.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:_})=>{if(!a){const K=ZT.includes(L.key)||L.shiftKey&&JT.includes(L.key)?10:1,N=m.current,O=C[N],R=s*K*_;M(O+R,N,{commit:!0})}}})})})})});nD.displayName=Pi;var[rD,oD]=tD(Pi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),I4=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),v=je(t,S=>h(S)),y=f.useRef(void 0),x=el(o),b=x==="ltr",m=b&&!s||!b&&s;function w(S){const C=y.current||u.getBoundingClientRect(),E=[0,C.width],T=oy(E,m?[n,r]:[r,n]);return y.current=C,T(S-C.left)}return p.jsx(rD,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(sD,{dir:x,"data-orientation":"horizontal",...d,ref:v,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=w(S.clientX);i==null||i(C)},onSlideMove:S=>{const C=w(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=eD[m?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:E?-1:1})}})})}),_4=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=je(t,d),h=f.useRef(void 0),v=!o;function y(x){const b=h.current||d.current.getBoundingClientRect(),m=[0,b.height],S=oy(m,v?[r,n]:[n,r]);return h.current=b,S(x-b.top)}return p.jsx(rD,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:p.jsx(sD,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=y(x.clientY);s==null||s(b)},onSlideMove:x=>{const b=y(x.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const m=eD[v?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:m?-1:1})}})})}),sD=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=id(Pi,n);return p.jsx(Se.span,{...c,ref:t,onKeyDown:se(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):ZT.concat(JT).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:se(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:se(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:se(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),iD="SliderTrack",aD=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=id(iD,n);return p.jsx(Se.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});aD.displayName=iD;var lp="SliderRange",lD=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=id(lp,n),s=oD(lp,n),i=f.useRef(null),a=je(t,i),l=o.values.length,c=o.values.map(h=>uD(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(Se.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});lD.displayName=lp;var cp="SliderThumb",cD=f.forwardRef((e,t)=>{const n=A4(e.__scopeSlider),[r,o]=f.useState(null),s=je(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(N4,{...e,ref:s,index:i})}),N4=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=id(cp,n),a=oD(cp,n),[l,c]=f.useState(null),d=je(t,w=>c(w)),u=l?i.form||!!l.closest("form"):!0,h=Cm(l),v=i.values[r],y=v===void 0?0:uD(v,i.min,i.max),x=j4(r,i.values.length),b=h==null?void 0:h[a.size],m=b?$4(b,y,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${m}px)`},children:[p.jsx(ap.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(Se.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":v,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:v===void 0?{display:"none"}:e.style,onFocus:se(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(L4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:v},r)]})});cD.displayName=cp;var L4=e=>{const{value:t,...n}=e,r=f.useRef(null),o=J1(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function F4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function uD(e,t,n){const s=100/(n-t)*(e-t);return Ag(s,[0,100])}function j4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function O4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function $4(e,t,n){const r=e/2,s=oy([0,50],[0,r]);return(r-s(t)*n)*n}function U4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function V4(e,t){if(t>0){const n=U4(e);return Math.min(...n)>=t}return!0}function oy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function B4(e){return(String(e).split(".")[1]||"").length}function z4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var dD=nD,q4=aD,W4=lD,H4=cD;const fD=f.forwardRef(({className:e,...t},n)=>p.jsxs(dD,{ref:n,className:re("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(q4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(W4,{className:"absolute h-full bg-primary"})}),p.jsx(H4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fD.displayName=dD.displayName;const Xe=250,F0=200;function G4({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,v]=f.useState({x:0,y:0,scale:1}),[y,x]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[w,S]=f.useState(!1),[C,E]=f.useState(!1),[P,T]=f.useState(.1),[D,A]=f.useState(5),[M,L]=f.useState(!1),[_,Y]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[V,K]=f.useState(null),[N,O]=f.useState(null),[R,I]=f.useState(null),[j,H]=f.useState(null),ee=b&&w,Ae=e!==u.current&&!ee,ce=$=>$&&typeof $=="object"&&"x"in $&&"y"in $&&"w"in $&&"h"in $&&typeof $.x=="number"&&typeof $.y=="number"&&typeof $.w=="number"&&typeof $.h=="number"&&$.w>0&&$.h>0&&$.w===$.h,Je=f.useCallback(($,F)=>$<=0||F<=0||Xe<=0?.1:Math.max(Xe/$,Xe/F),[]),te=f.useCallback(($,F)=>$<=0||F<=0||Xe<=0||F0<=0?5:Math.max(Math.max(Xe/$,Xe/F),Xe/F0),[]),ve=f.useCallback(($,F,z)=>{const X=s.current;if(!b||y.width<=0||y.height<=0)return{x:$,y:F};const he=(X==null?void 0:X.clientWidth)??0,me=(X==null?void 0:X.clientHeight)??0;if(he<=0||me<=0)return{x:$,y:F};const ye=y.width*z,Ie=y.height*z,We=(he-Xe)/2,Be=(me-Xe)/2,He=We,Pt=We+Xe-ye,Ut=Be,Xt=Be+Xe-Ie,kt=ye<Xe?We+(Xe-ye)/2:Math.min(He,Math.max(Pt,$)),Nt=Ie<Xe?Be+(Xe-Ie)/2:Math.min(Ut,Math.max(Xt,F));return{x:kt,y:Nt}},[b,y]),ae=f.useCallback(($,F)=>{if(!b||!l.current||w||y.width<=0||y.height<=0)return;const z=y.width,X=y.height,he=Je(z,X),me=te(z,X);T(he),A(me);let ye,Ie,We;if(ce(r)){ye=Xe/r.w,ye=Math.max(he,Math.min(me,ye));const Pt=($-Xe)/2,Ut=(F-Xe)/2;Ie=Pt-r.x*ye,We=Ut-r.y*ye}else ye=Math.max(Xe/z,Xe/X),ye=Math.max(he,ye),Ie=($-z*ye)/2,We=(F-X*ye)/2;const He={...ve(Ie,We,ye),scale:ye};v(He),S(!0),c.current=!0},[b,w,y,r,Je,te,ve]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{e!==u.current&&(g.log(`[ImprovedImageCropper] Image URL changed: ${u.current||"none"} → ${e}`),m(!1),S(!1),c.current=!1,O(u.current),I(h),H(y),u.current=e,g.log("[ImprovedImageCropper] Reset loader state and stored previous image state"))},[e,h,y]),f.useEffect(()=>{u.current!==e?(u.current&&w?(O(u.current),I(h),H(y)):(O(null),I(null),H(null)),m(!1),S(!1),x(o||{width:0,height:0}),v({x:0,y:0,scale:1}),T(.1),A(5),c.current=!1,E(!1),u.current=e):o&&!w&&(o.width!==y.width||o.height!==y.height)&&x(o)},[e,o]);const Ee=f.useCallback(()=>{const $=i.current;if(g.log(`[ImprovedImageCropper] handleImageLoad called for image: ${e}`),!$){g.warn("[ImprovedImageCropper] Image ref is null in handleImageLoad");return}if(!l.current){g.warn("[ImprovedImageCropper] Component unmounted during image load");return}if($.src!==e){g.warn(`[ImprovedImageCropper] Image src mismatch: ${$.src} vs ${e}`);return}const F=$.naturalWidth,z=$.naturalHeight;if(g.log(`[ImprovedImageCropper] Image loaded with dimensions: ${F}×${z}`),F<=0||z<=0){g.error(`[ImprovedImageCropper] Image has invalid dimensions on load: ${F}×${z}`),m(!1),S(!1);return}(y.width!==F||y.height!==z)&&(g.log(`[ImprovedImageCropper] Updating image dimensions: ${y.width}×${y.height} → ${F}×${z}`),x({width:F,height:z})),m(!0),g.log("[ImprovedImageCropper] Image successfully loaded and ready")},[e,y]),Ye=f.useCallback(()=>{const $=i.current;!$||!l.current||$.src!==e||(g.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),S(!1))},[e]);f.useEffect(()=>{const $=s.current;if($&&b&&!w){const F=he=>{if(!(!l.current||w))for(const me of he){const{width:ye,height:Ie}=me.contentRect||{width:me.target.clientWidth,height:me.target.clientHeight};ye>0&&Ie>0?ae(ye,Ie):g.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(F),d.current.observe($);const z=$.clientWidth,X=$.clientHeight;return z>0&&X>0&&ae(z,X),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[b,w,ae]),f.useEffect(()=>{if(b&&w){const{x:$,y:F,scale:z}=h,X=ve($,F,z);(X.x!==$||X.y!==F)&&v(he=>({...he,...X}))}},[h.scale,b,w,ve,h.x,h.y]);const ke=f.useCallback(($,F,z)=>{!ee||!s.current||v(X=>{let he=X.scale*$;if(he=Math.max(P,Math.min(D,he)),he===X.scale)return X;const me=(F-X.x)/X.scale,ye=(z-X.y)/X.scale,Ie=F-me*he,We=z-ye*he;return{scale:he,...ve(Ie,We,he)}})},[ee,P,D,ve]),oe=($,F,z)=>{!ee||C||(L(!0),Y({x:$,y:F,pinchDistance:z,imageX:h.x,imageY:h.y}),K(z??null))},xe=($,F,z)=>{if(!(!M||!ee||!s.current)){if(z!==void 0&&V!==null){const X=z/V,he=s.current.getBoundingClientRect(),me=_.x-he.left,ye=_.y-he.top;ke(X,me,ye),K(z)}else if(V===null){const X=$-_.x,he=F-_.y,me=_.imageX+X,ye=_.imageY+he;v(Ie=>({...Ie,...ve(me,ye,Ie.scale)}))}}},ie=()=>{M&&(L(!1),K(null))},Ve=$=>oe($.clientX,$.clientY),St=$=>xe($.clientX,$.clientY),pt=$=>{if($.touches.length===2){const F=$.touches[0],z=$.touches[1],X=Math.hypot(z.clientX-F.clientX,z.clientY-F.clientY),he=(F.clientX+z.clientX)/2,me=(F.clientY+z.clientY)/2;oe(he,me,X)}else $.touches.length===1&&oe($.touches[0].clientX,$.touches[0].clientY)},_t=$=>{if(M)if($.cancelable&&$.preventDefault(),$.touches.length===2){const F=$.touches[0],z=$.touches[1],X=Math.hypot(z.clientX-F.clientX,z.clientY-F.clientY),he=(F.clientX+z.clientX)/2,me=(F.clientY+z.clientY)/2;xe(he,me,X)}else $.touches.length===1&&xe($.touches[0].clientX,$.touches[0].clientY)},st=f.useCallback($=>{if(!ee||!s.current||C)return;$.preventDefault();const F=s.current.getBoundingClientRect(),z=$.clientX-F.left,X=$.clientY-F.top,me=1+$.deltaY*-.005;ke(me,z,X)},[ee,C,ke]);f.useEffect(()=>{if(M)return window.addEventListener("mousemove",St),window.addEventListener("touchmove",_t,{passive:!1}),window.addEventListener("mouseup",ie),window.addEventListener("touchend",ie),window.addEventListener("touchcancel",ie),()=>{window.removeEventListener("mousemove",St),window.removeEventListener("touchmove",_t),window.removeEventListener("mouseup",ie),window.removeEventListener("touchend",ie),window.removeEventListener("touchcancel",ie)}},[M,_t]),f.useEffect(()=>{const $=s.current;if($&&ee)return $.addEventListener("wheel",st,{passive:!1}),()=>$.removeEventListener("wheel",st)},[ee,st]);const mt=f.useCallback($=>{if(!s.current||!ee||($=Math.max(P,Math.min(D,$)),$===h.scale))return;const F=s.current,z=F.clientWidth/2,X=F.clientHeight/2;ke($/h.scale,z,X)},[ee,P,D,h.scale,ke]),gt=()=>mt(h.scale*1.15),$t=()=>mt(h.scale/1.15),Te=$=>mt($[0]),U=()=>{if(S(!1),c.current=!1,v({x:0,y:0,scale:1}),s.current&&b){const $=s.current.clientWidth,F=s.current.clientHeight;$>0&&F>0&&ae($,F)}},q=()=>{g.log("[ImprovedImageCropper] performCrop called");const $=s.current,F=i.current;if(g.log("[ImprovedImageCropper] Checking crop preconditions:",{hasContainer:!!$,isInitialized:w,hasCurrentImage:!!F,naturalWidth:F==null?void 0:F.naturalWidth,naturalHeight:F==null?void 0:F.naturalHeight,imageUrl:e}),!$||!w||!F||!F.naturalWidth||!F.naturalHeight||F.naturalWidth<=0||F.naturalHeight<=0){g.error("[ImprovedImageCropper] Cannot crop: Preconditions fail");return}g.log("[ImprovedImageCropper] Starting crop processing"),E(!0);try{const z=$.clientWidth,X=$.clientHeight;g.log(`[ImprovedImageCropper] Container dimensions: ${z}×${X}`);const he=(z-Xe)/2,me=(X-Xe)/2;g.log(`[ImprovedImageCropper] Frame position: (${he}, ${me})`);const ye=he-h.x,Ie=me-h.y,We=ye/h.scale,Be=Ie/h.scale;g.log(`[ImprovedImageCropper] Source position (original): (${We}, ${Be})`);const He=Xe/h.scale,Pt=Xe/h.scale;g.log(`[ImprovedImageCropper] Source dimensions (original): ${He}×${Pt}`);const Ut=Math.max(0,We),Xt=Math.max(0,Be),kt=Math.min(He,F.naturalWidth-Ut),Nt=Math.min(Pt,F.naturalHeight-Xt);if(g.log(`[ImprovedImageCropper] Clamped source: (${Ut}, ${Xt}, ${kt}, ${Nt})`),kt<=0||Nt<=0){const nr=`Crop area zero/negative: W=${kt}, H=${Nt}`;throw g.error(`[ImprovedImageCropper] ${nr}`),new Error(nr)}let yt={x:Math.round(Ut),y:Math.round(Xt),w:Math.round(kt),h:Math.round(Nt)};g.log(`[ImprovedImageCropper] Initial crop data: (${yt.x}, ${yt.y}, ${yt.w}, ${yt.h})`);const fs=Math.min(yt.w,yt.h);if(yt.w=fs,yt.h=fs,g.log(`[ImprovedImageCropper] Final square crop data: (${yt.x}, ${yt.y}, ${yt.w}, ${yt.h})`),yt.w<=0){const nr=`Final crop width <= 0: ${yt.w}`;throw g.error(`[ImprovedImageCropper] ${nr}`),new Error(nr)}l.current?(g.log("[ImprovedImageCropper] Component still mounted, calling onCropComplete with final crop data"),t(yt)):g.warn("[ImprovedImageCropper] Component unmounted, skipping onCropComplete call")}catch(z){g.error("[ImprovedImageCropper] Error during cropping:",z),z instanceof Error&&(g.error(`[ImprovedImageCropper] Error message: ${z.message}`),g.error(`[ImprovedImageCropper] Error stack: ${z.stack}`))}finally{l.current&&(g.log("[ImprovedImageCropper] Setting isProcessing to false"),E(!1))}},G=Ae||!w&&!C,fe=!w&&!C,pe=!w||C,ze={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Ue={...ze,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:w?1:0,transition:M?"none":"transform 0.1s linear",zIndex:2},et={...ze,transform:R?`translate(${R.x}px, ${R.y}px) scale(${R.scale})`:"translate(0px, 0px) scale(1)",opacity:w?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Gt,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:re("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",M?"cursor-grabbing":"cursor-grab"),onMouseDown:Ve,onTouchStart:pt,children:[N&&R&&j&&p.jsx("img",{ref:a,src:N,alt:"",className:"absolute transform-gpu origin-top-left block",style:et,draggable:!1,width:j.width,height:j.height},N+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Ue,onLoad:Ee,onError:Ye,draggable:!1,loading:"eager"},e),G&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Gt,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${Xe}px`,height:`${Xe}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ge,{type:"button",variant:"outline",size:"icon",onClick:$t,disabled:!ee||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(l_,{className:"h-4 w-4"})," "]}),p.jsx(fD,{value:[h.scale],min:P,max:D,step:(D-P)/100,onValueChange:Te,className:"flex-grow",disabled:!ee||C,"aria-label":"Zoom slider"}),p.jsxs(Ge,{type:"button",variant:"outline",size:"icon",onClick:gt,disabled:!ee||C||h.scale>=D,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(a_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Ge,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Ge,{type:"button",variant:"ghost",onClick:U,disabled:!ee||C,className:"px-3",children:[" ",p.jsx(o_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Ge,{type:"button",variant:"default",onClick:q,disabled:pe,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):fe?p.jsxs(p.Fragment,{children:[" ",p.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(eC,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function Pf(e){return new Promise((t,n)=>{g.log("[getImageDimensions] Starting dimension extraction",{type:typeof e,isFile:e instanceof File,fileDetails:e instanceof File?{name:e.name,size:e.size,type:e.type}:"Not a file"});const r=new Image;if(r.onload=()=>{g.log(`[getImageDimensions] Image loaded successfully with dimensions: ${r.naturalWidth}x${r.naturalHeight}`),r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):(g.error("[getImageDimensions] Image loaded with zero dimensions"),n(new Error("Image loaded with zero dimensions.")))},r.onerror=o=>{g.error("[getImageDimensions] Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")g.log(`[getImageDimensions] Processing string URL: ${e.substring(0,50)}...`),r.src=e;else if(e instanceof File){g.log(`[getImageDimensions] Processing File object: ${e.name}, size: ${e.size}, type: ${e.type}`);const o=new FileReader;o.onload=s=>{var i;if(g.log("[getImageDimensions] FileReader load successful"),(i=s.target)!=null&&i.result){const a=s.target.result;g.log(`[getImageDimensions] Data URL created, length: ${a.length}, setting as img.src`),r.src=a}else g.error("[getImageDimensions] FileReader result is empty"),n(new Error("FileReader result is empty."))},o.onerror=s=>{g.error("[getImageDimensions] FileReader error:",s),n(new Error("Failed to read file."))},g.log("[getImageDimensions] Calling reader.readAsDataURL on file"),o.readAsDataURL(e)}else g.error("[getImageDimensions] Invalid input type"),n(new Error("Invalid input for getImageDimensions"))})}const K4=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return g.error("Error parsing EXIF date string:",t),null}};function kf(e){return new Promise(t=>{if(!window.EXIF){g.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(g.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=K4(o);t({exifDate:s})}catch(o){g.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,g.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function j0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(HT,{open:e,onOpenChange:t,children:p.jsxs(Xg,{children:[p.jsxs(Zg,{children:[p.jsx(ey,{children:r}),p.jsx(ty,{children:o})]}),p.jsxs(Jg,{children:[p.jsx(ry,{disabled:a,children:i}),p.jsxs(ny,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Gt,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const Y4=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&g.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function O0({entryId:e}){const t=er(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,shareKeyForForm:l,clearShareKeyForForm:c,deleteSharedFilesFromStorage:d,isAuthenticated:u,isLoadingAuth:h,navigate:v,isLoadingImagesMeta:y,isClientReady:x,isOnline:b}=t,{toast:m}=Qa(),[w,S]=f.useState(!1),[C,E]=f.useState(null),[P,T]=f.useState(()=>{const Q=window.location.hash.split("?")[1];let J=null;if(Q)try{J=new URLSearchParams(Q).get("date")}catch{}if(J&&/^\d{4}-\d{2}-\d{2}$/.test(J))return g.log(`[EntryForm State Init] Initializing date from param: ${J}`),new Date(J+"T00:00:00Z");{g.log("[EntryForm State Init] Initializing date to today (UTC).");const Z=new Date;return new Date(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate()))}}),[D,A]=f.useState(!1),[M,L]=f.useState(""),[_,Y]=f.useState([]),[V,K]=f.useState(!1),[N,O]=f.useState(null),[R,I]=f.useState(!1),[j,H]=f.useState(null),[ee,Ae]=f.useState(null),[ce,Je]=f.useState(!0),[te,ve]=f.useState([]),[ae,Ee]=f.useState(null),[Ye,ke]=f.useState(!1),[oe,xe]=f.useState(null),[ie,Ve]=f.useState(null),[St,pt]=f.useState(!1),[_t,st]=f.useState(!1),[mt,gt]=f.useState(new Map),$t=f.useRef(null),Te=f.useRef(!0),U=f.useRef(new Map),q=f.useRef(new Map),G=f.useRef(null),fe=f.useRef(!1),pe=f.useRef(null),ze=f.useRef(!1),Ue=f.useRef(0),et=f.useRef({}),$=f.useRef(null);lo.getInstance();const F=!!e,z=ae!==null&&ae<te.length,X=a||z||Ye,he=!ce&&!X&&!a&&!h&&_.length>0&&!R&&te.length===0&&St,me=f.useMemo(()=>{const ne=C?C.date:P.toISOString().split("T")[0],Q=C?C.content:"",J=C?C.photos:[],Z=new Set(J.map(Ce=>Ce.photoId));return{date:ne,content:Q,photoIds:Z}},[C,P]);f.useEffect(()=>{if(ce||h||y){pt(!1);return}const ne=P.toISOString().split("T")[0]!==me.date,Q=M!==me.content,J=new Set(_.map(Me=>Vn(Me)?Me.localId:Me.photoId)),Z=me.photoIds;let Ce=J.size!==Z.size;if(!Ce){for(const Me of J)Z.has(Me)||(Ce=!0);if(!Ce)for(const Me of Z)J.has(Me)||(Ce=!0)}let de=!1;if(C&&!Ce){for(const Me of _)if(!Vn(Me)){const we=C.photos.find(ue=>ue.photoId===Me.photoId);if(we&&(Me.crop.x!==we.crop.x||Me.crop.y!==we.crop.y||Me.crop.w!==we.crop.w||Me.crop.h!==we.crop.h)){de=!0;break}}}if(F)pt(ne||Q||Ce||de);else{const Me=(()=>{const Ne=window.location.hash.split("?")[1];let be=null;if(Ne)try{be=new URLSearchParams(Ne).get("date")}catch{}if(be&&/^\d{4}-\d{2}-\d{2}$/.test(be))return be;{const Pe=new Date;return new Date(Date.UTC(Pe.getFullYear(),Pe.getMonth(),Pe.getDate())).toISOString().split("T")[0]}})(),we=P.toISOString().split("T")[0]!==Me;pt(M.trim()!==""||_.length>0||we)}},[P,M,_,me.date,me.content,me.photoIds,F,ce,h,y,C]);const ye=f.useCallback(async ne=>{if(!Te.current||ne>=te.length)return;const Q=te[ne];if(!Q||mt.has(Q.localId))return;G.current&&G.current.abort();const J=new AbortController;G.current=J;try{const[Z,Ce]=await Promise.all([Pf(Q.file),kf(Q.file)]);if(J.signal.aborted||!Te.current)return;gt(de=>new Map(de).set(Q.localId,{dims:Z,exif:Ce}))}catch(Z){Z.name==="AbortError"||Te.current&&g.error(`[Prefetch] Error pre-fetching data for index ${ne}, file: ${Q.file.name}`,Z)}finally{G.current===J&&(G.current=null)}},[te,mt]),Ie=f.useCallback((ne,Q=[],J=!1)=>{if(!ne||ne.length===0){g.warn("[EntryForm] No files selected");return}if(g.log("[EntryForm handleFilesSelect] Processing files",{fileCount:ne.length,previewUrlCount:Q.length,isFromSharedFiles:J,blobUrlsCount:U.current.size}),!Te.current){g.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&(g.log(`[EntryForm] Revoking ${Q.length} blob URLs due to unmount`),Q.forEach(de=>{g.log(`[EntryForm] Revoking blob URL: ${de}`),URL.revokeObjectURL(de)}));return}const Z=aa-_.length-te.length;if(g.log(`[EntryForm] Available slots: ${Z} (MAX_PHOTOS: ${aa}, current photos: ${_.length}, queue: ${te.length})`),ne.length>Z&&(g.warn(`[EntryForm] Too many files (${ne.length}), limiting to ${Z}`),m({title:"Too many files",description:`You can only add ${Z} more photo(s). Some files were ignored.`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"&&(g.log(`[EntryForm] Revoking excess blob URLs (${Q.length-Z})`),Q.slice(Z).forEach(de=>{g.log(`[EntryForm] Revoking excess blob URL: ${de}`),URL.revokeObjectURL(de)})),ne=ne.slice(0,Z),Q=Q.slice(0,Z),ne.length===0)){g.warn("[EntryForm] No files left after limiting");return}const Ce=ne.map((de,Me)=>{const we=crypto.randomUUID(),ue=Q[Me];return g.log(`[EntryForm] Processing file for queue: ${de.name}, type: ${de.type}, size: ${de.size}`),g.log(`[EntryForm] Generated localId: ${we} for blob URL: ${ue}`),(!ue||!ue.startsWith("blob:"))&&g.error(`[EntryForm] Invalid blob URL for file ${de.name}: ${ue}`),J&&g.log(`[EntryForm] Using existing blob URL for shared file: ${ue}`),U.current.set(we,ue),g.log(`[EntryForm] Stored in originalBlobUrlsRef. Current count: ${U.current.size}`),{file:de,previewUrl:ue,localId:we}});g.log(`[EntryForm] Created ${Ce.length} new queue items`),ve(de=>{const Me=[...de,...Ce];return g.log(`[EntryForm] ProcessingQueue updated: ${de.length} → ${Me.length} items`),ae===null&&Me.length>0?(g.log("[EntryForm] Starting queue processing - setting currentQueueIndex to 0"),Ee(0),Me.length>1&&(g.log("[EntryForm] Prefetching next item at index 1"),ye(1))):g.log(`[EntryForm] Queue processing already in progress, currentQueueIndex: ${ae}`),Me})},[_.length,te.length,m,ae,ye,U]);f.useEffect(()=>{const ne={entryId:e,isAuthenticated:u,isLoadingAuth:h,isClientReady:x,isLoadingImagesMeta:y,isOnline:b,navigate:v,toast:m,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:C==null?void 0:C.id};Ue.current++;const Q=Ue.current,J=`init-${Q}`;if(Y4(Q,et.current,ne),(Q===1||e!==et.current.entryId)&&(ze.current=!1),!(!h&&x&&!y)){Je(!0),et.current=ne;return}Te.current=!0,pt(!1);const Ce=()=>{const ue=Ue.current;if(g.log(`[EntryForm Init Effect ${ue}] Dependency check complete. Current state:`,{isEditMode:F,isAuthenticated:u,isLoadingAuth:h,isClientReady:x,isLoadingImagesMeta:y,isRequestingSharedFiles:w,isLoadingData:ce,photos:_.length}),l&&!fe.current){E(null),L(""),K(!1),O(null),ke(!1),xe(null),Ve(null);return}E(null),L(""),Y([]),K(!1),O(null),I(!1),H(null),ee&&g.log(`[EntryForm Init Effect ${ue}] Clearing cropperImageUrl: ${ee}`),Ae(null),ve([]),Ee(null),ke(!1),xe(null),Ve(null),gt(new Map);const Ne=te.length>0,be=l&&!fe.current;if(g.log(`[EntryForm Init Effect ${ue}] resetFormState checking if URLs should be revoked:`,{isMounted:Te.current,isProcessingFiles:Ne,hasPendingUnprocessedFiles:be,blobUrlCount:U.current.size}),Te.current&&(Ne||be)){g.log(`[EntryForm Init Effect ${ue}] SKIPPING URL revocation in resetFormState due to active processing`);return}g.log(`[EntryForm Init Effect ${ue}] About to revoke ${U.current.size} blob URLs:`,Array.from(U.current.entries()).map(([Pe,Le])=>({id:Pe,url:Le}))),U.current.forEach((Pe,Le)=>{try{Pe.startsWith("blob:")&&(g.log(`[EntryForm Init Effect ${ue}] Revoking URL for id ${Le}: ${Pe}`),URL.revokeObjectURL(Pe))}catch(Fe){g.error(`[EntryForm Init Effect ${ue}] Error revoking URL for id ${Le}: ${Fe}`)}}),U.current.clear(),q.current.clear(),g.log(`[EntryForm Init Effect ${ue}] resetFormState complete - all blob URLs revoked.`)},de=async ue=>{if(g.log(`[EntryForm Init Effect ${J}] Populate form for entry ID:`,ue.id),!Te.current)return;let Ne=new Date(ue.date+"T00:00:00Z");if(T(Ne),L(ue.content),E({...ue}),A(!0),g.log(`[EntryForm Init Effect ${J}] Basic form fields populated. isDateSetByUserIntent: true`),Y([]),q.current.clear(),U.current.forEach((be,Pe)=>{try{be.startsWith("blob:")&&URL.revokeObjectURL(be)}catch{}}),U.current.clear(),ue.photos&&ue.photos.length>0){g.log(`[EntryForm Init Effect ${J}] Loading ${ue.photos.length} photos.`),(!i||i.length===0)&&g.warn(`[EntryForm Init Effect ${J}] Missing imagesMetadata.`);const be=ue.photos.map(async Pe=>{const Le=(i||[]).find(Zt=>Zt.id===Pe.photoId),Fe=(Le==null?void 0:Le.photoMetadata)??null,it=Fe==null?void 0:Fe.contentHash;let at=null;try{if(at=await s(it,Pe.photoId),!Te.current)return null;at?(U.current.set(Pe.photoId,at),Fe&&q.current.set(Pe.photoId,Fe)):g.warn(`[EntryForm Init Effect ${J}] No preview URL for photo ${Pe.photoId}`)}catch(Zt){g.error(`[EntryForm Init Effect ${J}] Failed getting preview link for photo ${Pe.photoId}:`,Zt)}const bt=at===null?void 0:at;return bt?{...Pe,isNew:!1,localPreviewUrl:bt}:null});try{const Pe=await Promise.all(be);if(!Te.current)return;const Le=Pe.filter(Fe=>Fe!==null);if(g.log(`[EntryForm Init Effect ${J}] Setting ${Le.length} photos.`),Y(Le),Le.length>0){const Fe=q.current.get(Le[0].photoId),it=(Fe==null?void 0:Fe.exifDate)??null;g.log(`[EntryForm Init Edit] Storing initial EXIF date: ${it}`),O(it);const at=Ne.toISOString().split("T")[0];let bt=!1,Zt="";if(it){const[br,On,zr]=it.split("-").map(Number);!isNaN(br)&&!isNaN(On)&&!isNaN(zr)&&(Zt=new Date(Date.UTC(br,On-1,zr)).toISOString().split("T")[0],bt=at!==Zt)}g.log(`[EntryForm Init Edit] Comparing Form UTC: ${at} vs EXIF as UTC: ${Zt||"N/A"}. Show warning: ${bt}`),K(bt)}else g.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),O(null),K(!1)}catch(Pe){g.error(`[EntryForm Init Effect ${J}] Error loading initial photo details:`,Pe),Te.current&&Y([])}}else g.log(`[EntryForm Init Effect ${J}] Entry has no photos.`),Y([]),O(null),K(!1);g.log(`[EntryForm Init Effect ${J}] populateForm finished.`)},Me=async()=>{if(ze.current){Je(!1);return}Je(!0),Ce();try{if(F&&e){g.log(`[EntryForm Init Effect ${J}] EDIT MODE: Initializing for entry ID: ${e}`);let ue=null;if(ue=r(e)||null,ue||(g.log(`[EntryForm Init Effect ${J}] EDIT MODE: Not in context, loading...`),ue=await o(e)),ue&&Te.current)await de(ue),ze.current=!0;else if(Te.current){g.error(`[EntryForm Init Effect ${J}] EDIT MODE: Entry ${e} not found. Redirecting.`),m({title:"Error",description:"Entry not found.",variant:"destructive"}),v("/");return}}else{g.log(`[EntryForm Init Effect ${J}] NEW MODE: Initializing.`);const Ne=window.location.hash.split("?")[1];let be=null;if(Ne)try{be=new URLSearchParams(Ne).get("date")}catch{}let Pe=!1,Le;if(be&&/^\d{4}-\d{2}-\d{2}$/.test(be))Le=new Date(be+"T00:00:00Z"),Pe=!0,g.log(`[EntryForm Init Effect ${J}] NEW MODE: Date from param: ${be}. User intent: true.`);else{const Fe=new Date;Le=new Date(Date.UTC(Fe.getFullYear(),Fe.getMonth(),Fe.getDate())),Pe=!1,g.log(`[EntryForm Init Effect ${J}] NEW MODE: Date defaulted to today. User intent: false.`)}T(Le),A(Pe),E(null),ze.current=!0}}finally{Te.current&&Je(!1)}};return l&&!fe.current?(g.log(`[EntryForm Init Effect ${J}] Skipping initializeForm() due to pending shared files that need processing first`),g.log(`[EntryForm Init Effect ${J}] Setting isLoadingData to false to allow Shared Files Effect to run`),Je(!1)):Me(),et.current=ne,()=>{g.log(`[EntryForm Cleanup ${J}] Cleanup running. CurrentState:`,{isMounted:Te.current,queueItems:te.length,shareKey:l?"present":"none",hasProcessedSharedFiles:fe.current,blobUrlCount:U.current.size,currentQueueIndex:ae,cleanupTimeMs:Date.now()}),te.length>0&&g.log(`[EntryForm Cleanup ${J}] ⚠️ ATTENTION: Setting isMountedRef.current=false during active queue processing!`,{queueLength:te.length,currentQueueIndex:ae,shareKey:l?"present":"none"}),Te.current=!1,G.current&&(G.current.abort(),G.current=null);const ue=te.length>0,Ne=l&&!fe.current;if(ue||Ne){g.log(`[EntryForm Cleanup ${J}] Skipping URL revocation due to active processing (queue: ${te.length}, shareKey: ${l?"present":"none"})`);return}g.log(`[EntryForm Cleanup ${J}] Revoking ${U.current.size} URLs:`,Array.from(U.current.entries()).map(([be,Pe])=>({id:be,url:Pe}))),U.current.forEach((be,Pe)=>{try{be&&be.startsWith("blob:")&&(g.log(`[EntryForm Cleanup ${J}] Revoking URL for id ${Pe}: ${be}`),URL.revokeObjectURL(be))}catch(Le){g.error(`[EntryForm Cleanup ${J}] Error revoking URL: ${Le}`)}}),U.current.clear(),q.current.clear()}},[e,u,h,x,y,l]),f.useEffect(()=>{const ne=Date.now();if(g.log(`[ShareKey Effect ${ne}] Running check.`,{isEditMode:F,shareKeyForForm:l,isClientReady:x,isRequestingSharedFiles:w,isLoadingData:ce,photos:_.length,isMounted:Te.current}),F||!l||!x||w||ce){g.log(`[ShareKey Effect ${ne}] Skipping due to conditions not met`,{isEditMode:F,hasShareKey:!!l,isClientReady:x,isRequestingSharedFiles:w,isLoadingData:ce,blockingCondition:F?"isEditMode":l?x?w?"alreadyRequesting":ce?"isLoadingData":"unknown":"clientNotReady":"noShareKey"});return}const Q=J=>{const Z=J.data;if(!Z){g.warn("[ShareKey Effect] Received empty SW message");return}if(g.log(`[ShareKey Effect] Received SW message type: ${Z.type}`,{key:Z.key,filesCount:Z.files?Z.files.length:"none",error:Z.error||"none"}),Z.key!==l){g.log(`[ShareKey Effect] Ignoring message for key ${Z.key}, waiting for ${l}`);return}if(Z.type==="STORED_FILES_DATA"&&Z.files)if(navigator.serviceWorker.removeEventListener("message",Q),S(!1),Z.files.length>0){g.log(`[ShareKey Effect] Received ${Z.files.length} shared files:`,{types:Z.files.map(de=>de.type),sizes:Z.files.map(de=>de.size),names:Z.files.map(de=>de.name)});const Ce=Z.files.map(de=>URL.createObjectURL(de));$.current=l,pe.current=Z.files,fe.current=!0,Ie(Z.files,Ce,!0),c(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"DELETE_STORED_FILES",key:l})}else g.warn("[ShareKey Effect] Received empty files array"),m({title:"Share Info",description:"No shared files found to process.",variant:"default"}),c();else Z.type==="STORED_FILES_ERROR"&&(navigator.serviceWorker.removeEventListener("message",Q),S(!1),g.error(`[ShareKey Effect] Error receiving files: ${Z.error}`),m({title:"Share Error",description:`Failed to load shared files: ${Z.error}`,variant:"destructive"}),c(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"DELETE_STORED_FILES",key:l}))};return g.log(`[ShareKey Effect] Detected shareKeyForForm: ${l}, requesting files`),S(!0),navigator.serviceWorker.controller?(navigator.serviceWorker.addEventListener("message",Q),navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:l})):(g.warn("[ShareKey Effect] Service worker controller not available"),S(!1),m({title:"Share Error",description:"Service worker not available to process shared files",variant:"destructive"}),c()),()=>{navigator.serviceWorker.removeEventListener("message",Q)}},[F,l,x,w,ce,c,m,Ie,_.length]),f.useEffect(()=>{const ne=Date.now(),Q=$.current!==null&&te.length>0;if(g.log(`[Queue Effect ${ne}] Checking processing conditions:`,{isProcessingQueue:z,isMounted:Te.current,isProcessingSharedFiles:Q,currentQueueIndex:ae,queueLength:te.length,pendingShareKey:$.current,originalBlobUrlsCount:U.current.size}),!z||!Te.current&&!Q){g.log(`[Queue Effect ${ne}] Queue processing skipped`,{skipReason:z?!Te.current&&!Q?"not mounted and not shared files":"unknown":"isProcessingQueue is false",isProcessingQueue:z,isMounted:Te.current,isProcessingSharedFiles:Q,currentQueueIndex:ae,queueLength:te.length,pendingShareKey:$.current});return}Q&&g.log("[Queue Effect] Processing shared file queue items",{pendingShareKey:$.current,queueLength:te.length}),g.log(`[Queue Effect] Processing queue item at index ${ae} of ${te.length}`);const J=te[ae];if(!J){g.error(`[Queue Effect] No item found at index ${ae} in queue of length ${te.length}`),te.length>0&&ae!==null&&(g.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Ee(null),ve([]),R&&I(!1));return}g.log(`[Queue Effect] Found item to process: file=${J.file.name}, localId=${J.localId}, blob=${J.previewUrl}`),(async()=>{if(!Te.current){g.warn("[Queue Effect] Component unmounted during processing");return}const Ce=J,{file:de,previewUrl:Me,localId:we}=Ce;g.log(`[Queue Effect] Processing file: ${de.name}, type: ${de.type}, size: ${de.size}`),g.log(`[Queue Effect] Using blob URL: ${Me}`);let ue=null;mt.has(we)?(g.log(`[Queue Effect] Using pre-fetched data for ${we}`),ue=mt.get(we),gt(Ne=>{const be=new Map(Ne);return be.delete(we),be})):g.log(`[Queue Effect] No pre-fetched data available for ${we}, will fetch now`);try{g.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${de.name}`);const{dims:Ne,exif:be}=ue??await(async()=>{g.log(`[Queue Effect] Fetching data now for ${de.name}`);const at=await Pf(de),bt=await kf(de);return g.log(`[Queue Effect] Got dimensions: ${at.width}×${at.height} and EXIF data:`,bt),{dims:at,exif:bt}})();if(!Te.current){g.warn("[Queue Effect] Component unmounted during data fetch");return}g.log(`[Queue Effect] Calculating initial crop for ${de.name}`);const Pe=Math.min(Ne.width,Ne.height),Le={x:Math.round((Ne.width-Pe)/2),y:Math.round((Ne.height-Pe)/2),w:Math.round(Pe),h:Math.round(Pe)};g.log(`[Queue Effect] Initial crop calculated: x=${Le.x}, y=${Le.y}, w=${Le.w}, h=${Le.h}`);const Fe={isNew:!0,file:de,originalDimensions:Ne,exifData:be,localPreviewUrl:Me,localId:we};if(g.log(`[Queue Effect] Created newPhotoBase object with localId: ${we}`),g.log(`[Queue Effect] Date Logic check - photos: ${_.length}, initialExifDate: ${N}, isEditMode: ${F}`),_.length===0&&!N&&!F){g.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const at=be.exifDate;let bt=!1;if(g.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${D}. Storing initial EXIF date string: ${at}`),O(at),at){g.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${at}, parsing components`);const[Zt,br,On]=at.split("-").map(Number);if(g.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${Zt}, month=${br}, day=${On}`),!isNaN(Zt)&&!isNaN(br)&&!isNaN(On)){const zr=new Date(Date.UTC(Zt,br-1,On)),ll=zr.toISOString().split("T")[0],iy=P.toISOString().split("T")[0];g.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${ll}`),D?(g.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${iy} vs EXIF as UTC: ${ll}`),bt=ll!==iy,g.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${bt}`)):(g.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${ll}`),T(zr),bt=!1,g.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else g.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${at}. Setting warning false.`),bt=!1}else g.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),bt=!1;g.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${bt}`),K(bt)}else g.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");Ve(Fe),H(null),Ae(Me),R||I(!0);const it=ae+1;it<te.length&&ye(it)}catch(Ne){if(g.error(`[Queue Effect] Error processing queue item ${ae}:`,Ne),m({title:"Error Processing Photo",description:`Could not process: ${de.name}. ${Ne instanceof Error?Ne.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(Me)}catch{}if(U.current.delete(we),Te.current){const be=ae!==null?ae+1:null;be!==null&&be<te.length?Ee(be):(g.log("[Queue Effect] Last item failed. Resetting queue."),Ee(null),ve([]),R&&I(!1))}}})()},[ae,te,mt,R,ye,_.length,N,F,P,m,D]),f.useEffect(()=>{if(!z||!Te.current){g.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:z,isMounted:Te.current,currentQueueIndex:ae,queueLength:te.length});return}g.log(`[Queue Effect] Processing queue item at index ${ae} of ${te.length}`);const ne=te[ae];if(!ne){g.error(`[Queue Effect] No item found at index ${ae} in queue of length ${te.length}`),te.length>0&&ae!==null&&(g.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Ee(null),ve([]),R&&I(!1));return}g.log(`[Queue Effect] Found item to process: file=${ne.file.name}, localId=${ne.localId}, blob=${ne.previewUrl}`),(async()=>{if(!Te.current){g.warn("[Queue Effect] Component unmounted during processing");return}const J=ne,{file:Z,previewUrl:Ce,localId:de}=J;g.log(`[Queue Effect] Processing file: ${Z.name}, type: ${Z.type}, size: ${Z.size}`),g.log(`[Queue Effect] Using blob URL: ${Ce}`);let Me=null;mt.has(de)?(g.log(`[Queue Effect] Using pre-fetched data for ${de}`),Me=mt.get(de),gt(we=>{const ue=new Map(we);return ue.delete(de),ue})):g.log(`[Queue Effect] No pre-fetched data available for ${de}, will fetch now`);try{g.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${Z.name}`);const{dims:we,exif:ue}=Me??await(async()=>{g.log(`[Queue Effect] Fetching data now for ${Z.name}`);const Fe=await Pf(Z),it=await kf(Z);return g.log(`[Queue Effect] Got dimensions: ${Fe.width}×${Fe.height} and EXIF data:`,it),{dims:Fe,exif:it}})();if(!Te.current){g.warn("[Queue Effect] Component unmounted during data fetch");return}g.log(`[Queue Effect] Calculating initial crop for ${Z.name}`);const Ne=Math.min(we.width,we.height),be={x:Math.round((we.width-Ne)/2),y:Math.round((we.height-Ne)/2),w:Math.round(Ne),h:Math.round(Ne)};g.log(`[Queue Effect] Initial crop calculated: x=${be.x}, y=${be.y}, w=${be.w}, h=${be.h}`);const Pe={isNew:!0,file:Z,originalDimensions:we,exifData:ue,localPreviewUrl:Ce,localId:de};if(g.log(`[Queue Effect] Created newPhotoBase object with localId: ${de}`),g.log(`[Queue Effect] Date Logic check - photos: ${_.length}, initialExifDate: ${N}, isEditMode: ${F}`),_.length===0&&!N&&!F){g.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const Fe=ue.exifDate;let it=!1;if(g.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${D}. Storing initial EXIF date string: ${Fe}`),O(Fe),Fe){g.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${Fe}, parsing components`);const[at,bt,Zt]=Fe.split("-").map(Number);if(g.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${at}, month=${bt}, day=${Zt}`),!isNaN(at)&&!isNaN(bt)&&!isNaN(Zt)){const br=new Date(Date.UTC(at,bt-1,Zt)),On=br.toISOString().split("T")[0],zr=P.toISOString().split("T")[0];g.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${On}`),D?(g.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${zr} vs EXIF as UTC: ${On}`),it=On!==zr,g.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${it}`)):(g.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${On}`),T(br),it=!1,g.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else g.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${Fe}. Setting warning false.`),it=!1}else g.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),it=!1;g.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${it}`),K(it)}else g.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");Ve(Pe),H(null),Ae(Ce),R||I(!0);const Le=ae+1;Le<te.length&&ye(Le)}catch(we){if(g.error(`[Queue Effect] Error processing queue item ${ae}:`,we),m({title:"Error Processing Photo",description:`Could not process: ${Z.name}. ${we instanceof Error?we.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(Ce)}catch{}if(U.current.delete(de),Te.current){const ue=ae!==null?ae+1:null;ue!==null&&ue<te.length?Ee(ue):(g.log("[Queue Effect] Last item failed. Resetting queue."),Ee(null),ve([]),R&&I(!1))}}})()},[ae,te,mt,R,ye,_.length,N,F,P,m,D]);const We=f.useCallback(ne=>{if(!Te.current){g.warn("[EntryForm] handleCropComplete called but component unmounted");return}if(g.log("[EntryForm] handleCropComplete called with crop data:",{newCropData:ne,hasPendingNewPhotoData:!!ie,photoIndexToCrop:j,pendingPhotoLocalId:ie==null?void 0:ie.localId,pendingPhotoInfo:ie?{fileName:ie.file.name,fileType:ie.file.type,fileSize:ie.file.size,dimensions:`${ie.originalDimensions.width}×${ie.originalDimensions.height}`,localPreviewUrl:ie.localPreviewUrl}:"none"}),ie){g.log(`[EntryForm] Processing pending new photo with localId: ${ie.localId}`);const J={...ie,crop:ne};g.log(`[EntryForm] Adding new photo to photos array, current count: ${_.length}`),Y(Z=>[...Z,J]),Ve(null),g.log("[EntryForm] Set pendingNewPhotoData to null")}else j!==null&&(g.log(`[EntryForm] Updating crop for existing photo at index: ${j}`),Y(J=>J.map((Z,Ce)=>Ce===j?{...Z,crop:ne}:Z)));H(null);const Q=ae!==null?ae+1:null;g.log(`[EntryForm] Crop complete. Next queue index: ${Q}. Queue length: ${te.length}`),Q!==null&&Q<te.length?(g.log(`[EntryForm] Moving to next item in queue (index ${Q}), cropper stays open`),Ee(Q)):(g.log("[EntryForm] Queue processing finished. Clearing queue and closing cropper"),Ee(null),ve([]),I(!1),l&&pe.current&&$.current&&(g.log("[EntryForm] Queue processing complete. Clearing shareKeyForForm"),c())),Q!==null&&Q<te.length||(g.log("[EntryForm] Scheduling focus on content textarea"),setTimeout(()=>{$t.current?($t.current.focus(),g.log("[EntryForm] Content textarea focused")):g.warn("[EntryForm] Content textarea ref not available")},50))},[ae,te.length,ie,j,_.length]),Be=f.useCallback(()=>{if(!Te.current){g.warn("[EntryForm] handleCropCancel called but component unmounted");return}if(g.log("[EntryForm] handleCropCancel called:",{hasPendingNewPhotoData:!!ie,photoIndexToCrop:j,currentQueueIndex:ae,processingQueueLength:te.length}),ie){if(g.log(`[EntryForm] Discarding pending new photo with localId: ${ie.localId}`,{fileName:ie.file.name,fileSize:ie.file.size,fileType:ie.file.type,localPreviewUrl:ie.localPreviewUrl}),typeof URL.revokeObjectURL=="function"){g.log(`[EntryForm] [BLOB URL REVOCATION] Revoking blob URL on CROP CANCEL for localId ${ie.localId}: ${ie.localPreviewUrl}`,{revocationReason:"cropCancel",blobUrlsBeforeCount:U.current.size});try{URL.revokeObjectURL(ie.localPreviewUrl),g.log(`[EntryForm] [BLOB URL REVOCATION] Successfully revoked URL for ${ie.localId}`)}catch(Q){g.error(`[EntryForm] [BLOB URL REVOCATION] Error revoking URL: ${Q}`)}}g.log(`[EntryForm] [BLOB URL LIFECYCLE] Removing URL from originalBlobUrlsRef for localId: ${ie.localId}`),U.current.delete(ie.localId),g.log(`[EntryForm] [BLOB URL LIFECYCLE] BlobUrls count after deletion: ${U.current.size}`),Ve(null)}H(null);const ne=ae!==null?ae+1:null;ne!==null&&ne<te.length?Ee(ne):(Ee(null),ve([]),I(!1)),ne!==null&&ne<te.length||setTimeout(()=>{var Q;return(Q=$t.current)==null?void 0:Q.focus()},50)},[ae,te.length,ie,j]),He=f.useCallback(ne=>{const Q=_[ne];if(!Q||z||X){g.warn(`[EntryForm] openCropperForPhoto prevented for index ${ne}.`,{isProcessingQueue:z,isBusy:X});return}const J=Vn(Q)?Q.localId:Q.photoId;g.log(`[EntryForm] [BLOB URL USAGE] openCropperForPhoto retrieving URL for index ${ne}`,{photoId:J,isNewPhoto:Vn(Q),photoType:Vn(Q)?"newPhoto":"existingPhoto",blobUrlsCount:U.current.size,photoCount:_.length});const Z=U.current.get(J);Z?(g.log(`[EntryForm] [BLOB URL USAGE] Found URL for photo ID ${J}: ${Z}`),H(ne),Ve(null),Ae(Z),I(!0)):(m({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),g.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${ne}, id ${J}`))},[_,z,X,m]),Pt=f.useCallback(ne=>{xe(ne),ke(!0)},[]),Ut=f.useCallback(()=>{var Me;if(oe===null)return;const ne=oe,Q=_[ne];if(!Q){g.warn(`[EntryForm] Photo to remove at index ${ne} not found.`),ke(!1),xe(null);return}const J=Vn(Q)?Q.localId:Q.photoId,Z=ne===0;let Ce=[];g.log(`[EntryForm] [BLOB URL LIFECYCLE] Removing photo id ${J}`,{wasFirstPhoto:Z,photoType:Vn(Q)?"newPhoto":"existingPhoto",currentPhotosCount:_.length,currentBlobUrlsCount:U.current.size});const de=U.current.get(J);if(typeof URL.revokeObjectURL=="function"&&de){g.log(`[EntryForm] [BLOB URL REVOCATION] Revoking original URL on REMOVE CONFIRM for ${J}: ${de}`,{revocationReason:"photoRemoval",blobUrlsBeforeCount:U.current.size});try{URL.revokeObjectURL(de),g.log(`[EntryForm] [BLOB URL REVOCATION] Successfully revoked original URL for ${J}`)}catch(we){g.error(`[EntryForm] [BLOB URL REVOCATION] Error revoking original URL on remove: ${we}`)}}if(typeof URL.revokeObjectURL=="function"&&Q.localPreviewUrl&&Q.localPreviewUrl.startsWith("blob:")&&Q.localPreviewUrl!==de){g.log(`[EntryForm] [BLOB URL REVOCATION] Revoking preview URL on REMOVE CONFIRM for ${J}: ${Q.localPreviewUrl}`,{revocationReason:"photoRemoval",isDifferentFromOriginal:!0});try{URL.revokeObjectURL(Q.localPreviewUrl),g.log(`[EntryForm] [BLOB URL REVOCATION] Successfully revoked preview URL for ${J}`)}catch(we){g.error(`[EntryForm] [BLOB URL REVOCATION] Error revoking preview URL on remove: ${we}`)}}if(g.log(`[EntryForm] [BLOB URL LIFECYCLE] Removing entries from refs for id: ${J}`),U.current.delete(J),q.current.delete(J),g.log(`[EntryForm] [BLOB URL LIFECYCLE] BlobUrls count after deletion: ${U.current.size}`),Y(we=>(Ce=we.filter((ue,Ne)=>Ne!==ne),Ce)),Z&&Te.current){const we=Ce.length>0?Ce[0]:null;let ue=null;if(we)if(Vn(we))ue=((Me=we.exifData)==null?void 0:Me.exifDate)??null;else{const Le=q.current.get(we.photoId);ue=(Le==null?void 0:Le.exifDate)??null}g.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${ue}`),O(ue);const Ne=P.toISOString().split("T")[0];let be=!1,Pe="";if(ue){const[Le,Fe,it]=ue.split("-").map(Number);!isNaN(Le)&&!isNaN(Fe)&&!isNaN(it)&&(Pe=new Date(Date.UTC(Le,Fe-1,it)).toISOString().split("T")[0],be=Ne!==Pe)}g.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${Ne} vs New EXIF as UTC: ${Pe||"N/A"}. Show warning: ${be}`),K(be)}ke(!1),xe(null)},[oe,_,P]),Xt=f.useCallback(()=>{if(N){g.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${N}.`);const[ne,Q,J]=N.split("-").map(Number);T(new Date(Date.UTC(ne,Q-1,J))),g.log("[EntryForm] handleUseExifDate setting warning to false."),K(!1)}},[N]),kt=f.useCallback(ne=>{try{const Q=new Date(ne.target.value+"T00:00:00Z");if(isNaN(Q.getTime()))g.warn("[EntryForm] Invalid date input received:",ne.target.value);else{T(Q);const J=Q.toISOString().split("T")[0];let Z=!1,Ce="";if(N){const[de,Me,we]=N.split("-").map(Number);!isNaN(de)&&!isNaN(Me)&&!isNaN(we)&&(Ce=new Date(Date.UTC(de,Me-1,we)).toISOString().split("T")[0],Z=J!==Ce)}g.log(`[handleDateChange - DATE CHECK 1] Date changed to ${ne.target.value}. Comparing New Form UTC: ${J} vs Initial EXIF as UTC: ${Ce||"N/A"}. Show warning: ${Z}`),K(Z)}}catch(Q){g.error("[EntryForm] Error processing date change:",Q)}},[N]),Nt=f.useCallback(async()=>{if(g.log("[EntryForm] handleSave called.",{isBusy:X,canSave:he}),X||!he){g.warn("[EntryForm] Save prevented:",{isBusy:X,canSave:he});return}const Q=await n({date:P,content:M,photos:_},C);Q&&Te.current?(pt(!1),$.current&&(g.log(`[EntryForm] Save successful, cleaning up shared files with key: ${$.current}`),d($.current),$.current=null)):Q||g.warn("[EntryForm] Save failed (returned false).")},[X,he,P,M,_,n,C]),yt=f.useCallback(()=>{R?Be():St?st(!0):v("/")},[R,St,v,Be]),fs=f.useCallback(()=>{st(!1),pt(!1),$.current&&(g.log(`[EntryForm] Canceling entry, cleaning up shared files with key: ${$.current}`),d($.current),$.current=null),v("/")},[v]),nr=f.useCallback(ne=>{ne.key==="Enter"&&(ne.metaKey||ne.ctrlKey)&&(ne.preventDefault(),he&&!X&&Nt())},[he,X,Nt]);if(h&&!u)return g.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(ce)return g.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})," "]});g.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:R,isEditMode:F,photoCount:_.length,queueLength:te.length,currentQueueIndex:ae,isLoadingData:ce,isBusy:X,formDateUTC:P.toISOString().split("T")[0],initialExifDate:N,showExifDateMismatchWarning:V,isDateSetByUserIntent:D});const sy=()=>{var ne;if(R&&ee){const Q=ie??(j!==null?_[j]:null),J=Q&&"crop"in Q?Q.crop:void 0;let Z;if(ie&&ie.originalDimensions)Z=ie.originalDimensions;else if(j!==null&&QT(_[j])){const Ce=q.current.get(_[j].photoId);Ce!=null&&Ce.width&&(Ce!=null&&Ce.height)&&(Z={width:Ce.width,height:Ce.height})}else j!==null&&Vn(_[j])&&(Z=_[j].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(G4,{imageUrl:ee,onCropComplete:We,onCancel:Be,initialCropData:J,initialImageDimensions:Z})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(S4,{photos:_,setPhotos:Y,isBusy:X,isLoadingInitial:!1,initialPhotoCount:((ne=C==null?void 0:C.photos)==null?void 0:ne.length)??0,onOpenCropper:He,onRemovePhoto:Pt,onFilesSelect:Ie,originalBlobUrlsRef:U,existingPhotoMetaRef:q,processingQueueLength:te.length,currentQueueIndex:ae,isProcessingQueueItem:z}),_.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(b4,{date:P,onDateChange:kt,showExifWarning:V,initialExifDate:N,onUseExifDate:Xt,isBusy:X}),p.jsx(C4,{content:M,setContent:L,isBusy:X,onKeyDown:nr,textAreaRef:$t})]})]})},pD=()=>R?`Adjust Photo${te.length>0&&ae!==null?` (${ae+1}/${te.length})`:""}`:F?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Ge,{variant:"ghost",size:"icon",onClick:yt,disabled:X&&!R,"aria-label":R?"Cancel Crop":"Go Back",children:[" ",p.jsx(Jb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:pD()}),p.jsxs(Ge,{variant:"ghost",size:"icon",onClick:yt,disabled:X&&!R,"aria-label":"Close",children:[" ",p.jsx(_u,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[sy(),!R&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(E4,{isBusy:X,isSaving:a,isEditMode:F,canSave:he,onCancel:yt,onSave:Nt})})]})]}),p.jsx(j0,{open:Ye,onOpenChange:ke,onConfirm:Ut,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(j0,{open:_t,onOpenChange:st,onConfirm:fs,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function Q4(){return g.log("[App] Using hook:",Fh),p.jsx(BM,{client:WM,children:p.jsx(AF,{children:p.jsxs(YC,{children:[p.jsx(yb,{hook:Fh,children:p.jsxs(vM,{children:[p.jsx(Tl,{path:"/",component:D4}),p.jsx(Tl,{path:"/entry/new",children:p.jsx(O0,{})}),p.jsx(Tl,{path:"/entry/edit/:id",children:e=>p.jsx(O0,{entryId:e.id})}),p.jsx(Tl,{children:()=>p.jsx(PL,{})})]})}),p.jsx(H_,{})]})})})}ib(document.getElementById("root")).render(p.jsx(JF,{attribute:"class",children:p.jsx(Q4,{})}))});export default X4();
