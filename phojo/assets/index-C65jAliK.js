var ty=e=>{throw TypeError(e)};var lA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var od=(e,t,n)=>t.has(e)||ty("Cannot "+n);var V=(e,t,n)=>(od(e,t,"read from private field"),n?n.call(e):t.get(e)),Ke=(e,t,n)=>t.has(e)?ty("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),De=(e,t,n,r)=>(od(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$t=(e,t,n)=>(od(e,t,"access private method"),n);var il=(e,t,n,r)=>({set _(o){De(e,t,o,n)},get _(){return V(e,t,r)}});var q4=lA((s3,aA)=>{function cA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V0={exports:{}},su={},B0={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),uA=Symbol.for("react.portal"),dA=Symbol.for("react.fragment"),fA=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),pA=Symbol.for("react.provider"),mA=Symbol.for("react.context"),gA=Symbol.for("react.forward_ref"),yA=Symbol.for("react.suspense"),vA=Symbol.for("react.memo"),wA=Symbol.for("react.lazy"),ny=Symbol.iterator;function xA(e){return e===null||typeof e!="object"?null:(e=ny&&e[ny]||e["@@iterator"],typeof e=="function"?e:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q0=Object.assign,W0={};function mi(e,t,n){this.props=e,this.context=t,this.refs=W0,this.updater=n||z0}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H0(){}H0.prototype=mi.prototype;function ap(e,t,n){this.props=e,this.context=t,this.refs=W0,this.updater=n||z0}var lp=ap.prototype=new H0;lp.constructor=ap;q0(lp,mi.prototype);lp.isPureReactComponent=!0;var ry=Array.isArray,G0=Object.prototype.hasOwnProperty,cp={current:null},K0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)G0.call(t,r)&&!K0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Va,type:e,key:s,ref:i,props:o,_owner:cp.current}}function SA(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function up(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function bA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oy=/\/+/g;function sd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bA(""+e.key):t.toString(36)}function zl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Va:case uA:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+sd(i,0):r,ry(o)?(n="",e!=null&&(n=e.replace(oy,"$&/")+"/"),zl(o,t,n,"",function(c){return c})):o!=null&&(up(o)&&(o=SA(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(oy,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",ry(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+sd(s,a);i+=zl(s,t,n,l,o)}else if(l=xA(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+sd(s,a++),i+=zl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function al(e,t,n){if(e==null)return e;var r=[],o=0;return zl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function CA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},ql={transition:null},EA={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:ql,ReactCurrentOwner:cp};function Q0(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:al,forEach:function(e,t,n){al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=mi;Me.Fragment=dA;Me.Profiler=hA;Me.PureComponent=ap;Me.StrictMode=fA;Me.Suspense=yA;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EA;Me.act=Q0;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=q0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=cp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)G0.call(t,l)&&!K0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Va,type:e.type,key:o,ref:s,props:r,_owner:i}};Me.createContext=function(e){return e={$$typeof:mA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pA,_context:e},e.Consumer=e};Me.createElement=Y0;Me.createFactory=function(e){var t=Y0.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:gA,render:e}};Me.isValidElement=up;Me.lazy=function(e){return{$$typeof:wA,_payload:{_status:-1,_result:e},_init:CA}};Me.memo=function(e,t){return{$$typeof:vA,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=ql.transition;ql.transition={};try{e()}finally{ql.transition=t}};Me.unstable_act=Q0;Me.useCallback=function(e,t){return en.current.useCallback(e,t)};Me.useContext=function(e){return en.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return en.current.useDeferredValue(e)};Me.useEffect=function(e,t){return en.current.useEffect(e,t)};Me.useId=function(){return en.current.useId()};Me.useImperativeHandle=function(e,t,n){return en.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return en.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return en.current.useReducer(e,t,n)};Me.useRef=function(e){return en.current.useRef(e)};Me.useState=function(e){return en.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return en.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return en.current.useTransition()};Me.version="18.3.1";B0.exports=Me;var f=B0.exports;const Ct=ip(f),X0=cA({__proto__:null,default:Ct},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=f,TA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),AA=Object.prototype.hasOwnProperty,DA=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RA={key:!0,ref:!0,__self:!0,__source:!0};function Z0(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)AA.call(t,r)&&!RA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:TA,type:e,key:s,ref:i,props:o,_owner:DA.current}}su.Fragment=kA;su.jsx=Z0;su.jsxs=Z0;V0.exports=su;var p=V0.exports,J0={exports:{}},bn={},ex={exports:{}},tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var $=R.length;R.push(I);e:for(;0<$;){var G=$-1>>>1,J=R[G];if(0<o(J,I))R[G]=I,R[$]=J,$=G;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],$=R.pop();if($!==I){R[0]=$;e:for(var G=0,J=R.length,ee=J>>>1;G<ee;){var de=2*(G+1)-1,fe=R[de],Pe=de+1,Te=R[Pe];if(0>o(fe,$))Pe<J&&0>o(Te,fe)?(R[G]=Te,R[Pe]=$,G=Pe):(R[G]=fe,R[de]=$,G=de);else if(Pe<J&&0>o(Te,$))R[G]=Te,R[Pe]=$,G=Pe;else break e}}return I}function o(R,I){var $=R.sortIndex-I.sortIndex;return $!==0?$:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,y=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=R)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function C(R){if(x=!1,S(R),!g)if(n(l)!==null)g=!0,N(E);else{var I=n(c);I!==null&&L(C,I.startTime-R)}}function E(R,I){g=!1,x&&(x=!1,m(A),A=-1),y=!0;var $=h;try{for(S(I),u=n(l);u!==null&&(!(u.expirationTime>I)||R&&!j());){var G=u.callback;if(typeof G=="function"){u.callback=null,h=u.priorityLevel;var J=G(u.expirationTime<=I);I=e.unstable_now(),typeof J=="function"?u.callback=J:u===n(l)&&r(l),S(I)}else r(l);u=n(l)}if(u!==null)var ee=!0;else{var de=n(c);de!==null&&L(C,de.startTime-I),ee=!1}return ee}finally{u=null,h=$,y=!1}}var P=!1,k=null,A=-1,D=5,M=-1;function j(){return!(e.unstable_now()-M<D)}function F(){if(k!==null){var R=e.unstable_now();M=R;var I=!0;try{I=k(!0,R)}finally{I?H():(P=!1,k=null)}}else P=!1}var H;if(typeof v=="function")H=function(){v(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,z=O.port2;O.port1.onmessage=F,H=function(){z.postMessage(null)}}else H=function(){b(F,0)};function N(R){k=R,P||(P=!0,H())}function L(R,I){A=b(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,N(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var $=h;h=I;try{return R()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=h;h=R;try{return I()}finally{h=$}},e.unstable_scheduleCallback=function(R,I,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=$+J,R={id:d++,callback:I,priorityLevel:R,startTime:$,expirationTime:J,sortIndex:-1},$>G?(R.sortIndex=$,t(c,R),n(l)===null&&R===n(c)&&(x?(m(A),A=-1):x=!0,L(C,$-G))):(R.sortIndex=J,t(l,R),g||y||(g=!0,N(E))),R},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(R){var I=h;return function(){var $=h;h=I;try{return R.apply(this,arguments)}finally{h=$}}}})(tx);ex.exports=tx;var MA=ex.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=f,xn=MA;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx=new Set,ia={};function is(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(ia[e]=t,e=0;e<t.length;e++)nx.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,_A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},iy={};function NA(e){return Cf.call(iy,e)?!0:Cf.call(sy,e)?!1:_A.test(e)?iy[e]=!0:(sy[e]=!0,!1)}function LA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jA(e,t,n,r){if(t===null||typeof t>"u"||LA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function fp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dp,fp);Ft[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dp,fp);Ft[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dp,fp);Ft[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function hp(e,t,n,r){var o=Ft.hasOwnProperty(t)?Ft[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jA(t,n,o,r)&&(n=null),r||o===null?NA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),ox=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),sx=Symbol.for("react.offscreen"),ay=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=ay&&e[ay]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,id;function Oi(e){if(id===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);id=t&&t[1]||""}return`
`+id+e}var ad=!1;function ld(e,t){if(!e||ad)return"";ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ad=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oi(e):""}function FA(e){switch(e.tag){case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return e=ld(e.type,!1),e;case 11:return e=ld(e.type.render,!1),e;case 1:return e=ld(e.type,!0),e;default:return""}}function kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ms:return"Portal";case Ef:return"Profiler";case pp:return"StrictMode";case Pf:return"Suspense";case Tf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ox:return(e.displayName||"Context")+".Consumer";case rx:return(e._context.displayName||"Context")+".Provider";case mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gp:return t=e.displayName||null,t!==null?t:kf(e.type)||"Memo";case Kr:t=e._payload,e=e._init;try{return kf(e(t))}catch{}}return null}function OA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kf(t);case 8:return t===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ix(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $A(e){var t=ix(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=$A(e))}function ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ix(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Af(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ly(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lx(e,t){t=t.checked,t!=null&&hp(e,"checked",t,!1)}function Df(e,t){lx(e,t);var n=wo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rf(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rf(e,t,n){(t!=="number"||dc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $i=Array.isArray;function _s(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Mf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if($i(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wo(n)}}function cx(e,t){var n=wo(t.value),r=wo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ux(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ux(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ul,dx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UA=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(e){UA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hi[t]=Hi[e]})});function fx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hi.hasOwnProperty(e)&&Hi[e]?(""+t).trim():t+"px"}function hx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=fx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var VA=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(e,t){if(t){if(VA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Nf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function yp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jf=null,Ns=null,Ls=null;function fy(e){if(e=qa(e)){if(typeof jf!="function")throw Error(W(280));var t=e.stateNode;t&&(t=uu(t),jf(e.stateNode,e.type,t))}}function px(e){Ns?Ls?Ls.push(e):Ls=[e]:Ns=e}function mx(){if(Ns){var e=Ns,t=Ls;if(Ls=Ns=null,fy(e),t)for(e=0;e<t.length;e++)fy(t[e])}}function gx(e,t){return e(t)}function yx(){}var cd=!1;function vx(e,t,n){if(cd)return e(t,n);cd=!0;try{return gx(e,t,n)}finally{cd=!1,(Ns!==null||Ls!==null)&&(yx(),mx())}}function la(e,t){var n=e.stateNode;if(n===null)return null;var r=uu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Ff=!1;if(Rr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Ff=!1}function BA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Gi=!1,fc=null,hc=!1,Of=null,zA={onError:function(e){Gi=!0,fc=e}};function qA(e,t,n,r,o,s,i,a,l){Gi=!1,fc=null,BA.apply(zA,arguments)}function WA(e,t,n,r,o,s,i,a,l){if(qA.apply(this,arguments),Gi){if(Gi){var c=fc;Gi=!1,fc=null}else throw Error(W(198));hc||(hc=!0,Of=c)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hy(e){if(as(e)!==e)throw Error(W(188))}function HA(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return hy(o),e;if(s===r)return hy(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function xx(e){return e=HA(e),e!==null?Sx(e):null}function Sx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sx(e);if(t!==null)return t;e=e.sibling}return null}var bx=xn.unstable_scheduleCallback,py=xn.unstable_cancelCallback,GA=xn.unstable_shouldYield,KA=xn.unstable_requestPaint,xt=xn.unstable_now,YA=xn.unstable_getCurrentPriorityLevel,vp=xn.unstable_ImmediatePriority,Cx=xn.unstable_UserBlockingPriority,pc=xn.unstable_NormalPriority,QA=xn.unstable_LowPriority,Ex=xn.unstable_IdlePriority,iu=null,ur=null;function XA(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(iu,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:eD,ZA=Math.log,JA=Math.LN2;function eD(e){return e>>>=0,e===0?32:31-(ZA(e)/JA|0)|0}var dl=64,fl=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Ui(a):(s&=i,s!==0&&(r=Ui(s)))}else i=n&~o,i!==0?r=Ui(i):s!==0&&(r=Ui(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),o=1<<n,r|=e[n],t&=~o;return r}function tD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Wn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=tD(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function $f(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Px(){var e=dl;return dl<<=1,!(dl&4194240)&&(dl=64),e}function ud(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ba(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function rD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Wn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function wp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Qe=0;function Tx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kx,xp,Ax,Dx,Rx,Uf=!1,hl=[],ao=null,lo=null,co=null,ca=new Map,ua=new Map,Xr=[],oD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function ki(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=qa(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sD(e,t,n,r,o){switch(t){case"focusin":return ao=ki(ao,e,t,n,r,o),!0;case"dragenter":return lo=ki(lo,e,t,n,r,o),!0;case"mouseover":return co=ki(co,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ca.set(s,ki(ca.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ua.set(s,ki(ua.get(s)||null,e,t,n,r,o)),!0}return!1}function Mx(e){var t=Fo(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=wx(n),t!==null){e.blockedOn=t,Rx(e.priority,function(){Ax(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lf=r,n.target.dispatchEvent(r),Lf=null}else return t=qa(n),t!==null&&xp(t),e.blockedOn=n,!1;t.shift()}return!0}function gy(e,t,n){Wl(e)&&n.delete(t)}function iD(){Uf=!1,ao!==null&&Wl(ao)&&(ao=null),lo!==null&&Wl(lo)&&(lo=null),co!==null&&Wl(co)&&(co=null),ca.forEach(gy),ua.forEach(gy)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Uf||(Uf=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,iD)))}function da(e){function t(o){return Ai(o,e)}if(0<hl.length){Ai(hl[0],e);for(var n=1;n<hl.length;n++){var r=hl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ao!==null&&Ai(ao,e),lo!==null&&Ai(lo,e),co!==null&&Ai(co,e),ca.forEach(t),ua.forEach(t),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&Xr.shift()}var js=Or.ReactCurrentBatchConfig,gc=!0;function aD(e,t,n,r){var o=Qe,s=js.transition;js.transition=null;try{Qe=1,Sp(e,t,n,r)}finally{Qe=o,js.transition=s}}function lD(e,t,n,r){var o=Qe,s=js.transition;js.transition=null;try{Qe=4,Sp(e,t,n,r)}finally{Qe=o,js.transition=s}}function Sp(e,t,n,r){if(gc){var o=Vf(e,t,n,r);if(o===null)xd(e,t,r,yc,n),my(e,r);else if(sD(o,e,t,n,r))r.stopPropagation();else if(my(e,r),t&4&&-1<oD.indexOf(e)){for(;o!==null;){var s=qa(o);if(s!==null&&kx(s),s=Vf(e,t,n,r),s===null&&xd(e,t,r,yc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else xd(e,t,r,null,n)}}var yc=null;function Vf(e,t,n,r){if(yc=null,e=yp(r),e=Fo(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function Ix(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YA()){case vp:return 1;case Cx:return 4;case pc:case QA:return 16;case Ex:return 536870912;default:return 16}default:return 16}}var oo=null,bp=null,Hl=null;function _x(){if(Hl)return Hl;var e,t=bp,n=t.length,r,o="value"in oo?oo.value:oo.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Hl=o.slice(e,1<r?1-r:void 0)}function Gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pl(){return!0}function yy(){return!1}function Cn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pl:yy,this.isPropagationStopped=yy,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),t}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=Cn(gi),za=pt({},gi,{view:0,detail:0}),cD=Cn(za),dd,fd,Di,au=pt({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(dd=e.screenX-Di.screenX,fd=e.screenY-Di.screenY):fd=dd=0,Di=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:fd}}),vy=Cn(au),uD=pt({},au,{dataTransfer:0}),dD=Cn(uD),fD=pt({},za,{relatedTarget:0}),hd=Cn(fD),hD=pt({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=Cn(hD),mD=pt({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gD=Cn(mD),yD=pt({},gi,{data:0}),wy=Cn(yD),vD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xD[e])?!!t[e]:!1}function Ep(){return SD}var bD=pt({},za,{key:function(e){if(e.key){var t=vD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CD=Cn(bD),ED=pt({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=Cn(ED),PD=pt({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),TD=Cn(PD),kD=pt({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),AD=Cn(kD),DD=pt({},au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RD=Cn(DD),MD=[9,13,27,32],Pp=Rr&&"CompositionEvent"in window,Ki=null;Rr&&"documentMode"in document&&(Ki=document.documentMode);var ID=Rr&&"TextEvent"in window&&!Ki,Nx=Rr&&(!Pp||Ki&&8<Ki&&11>=Ki),Sy=" ",by=!1;function Lx(e,t){switch(e){case"keyup":return MD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function _D(e,t){switch(e){case"compositionend":return jx(t);case"keypress":return t.which!==32?null:(by=!0,Sy);case"textInput":return e=t.data,e===Sy&&by?null:e;default:return null}}function ND(e,t){if(ys)return e==="compositionend"||!Pp&&Lx(e,t)?(e=_x(),Hl=bp=oo=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var LD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LD[e.type]:t==="textarea"}function Fx(e,t,n,r){px(r),t=vc(t,"onChange"),0<t.length&&(n=new Cp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yi=null,fa=null;function jD(e){Kx(e,0)}function lu(e){var t=xs(e);if(ax(t))return e}function FD(e,t){if(e==="change")return t}var Ox=!1;if(Rr){var pd;if(Rr){var md="oninput"in document;if(!md){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),md=typeof Ey.oninput=="function"}pd=md}else pd=!1;Ox=pd&&(!document.documentMode||9<document.documentMode)}function Py(){Yi&&(Yi.detachEvent("onpropertychange",$x),fa=Yi=null)}function $x(e){if(e.propertyName==="value"&&lu(fa)){var t=[];Fx(t,fa,e,yp(e)),vx(jD,t)}}function OD(e,t,n){e==="focusin"?(Py(),Yi=t,fa=n,Yi.attachEvent("onpropertychange",$x)):e==="focusout"&&Py()}function $D(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(fa)}function UD(e,t){if(e==="click")return lu(t)}function VD(e,t){if(e==="input"||e==="change")return lu(t)}function BD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:BD;function ha(e,t){if(Kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Cf.call(t,o)||!Kn(e[o],t[o]))return!1}return!0}function Ty(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ky(e,t){var n=Ty(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ty(n)}}function Ux(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ux(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vx(){for(var e=window,t=dc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dc(e.document)}return t}function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zD(e){var t=Vx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ux(n.ownerDocument.documentElement,n)){if(r!==null&&Tp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=ky(n,s);var i=ky(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qD=Rr&&"documentMode"in document&&11>=document.documentMode,vs=null,Bf=null,Qi=null,zf=!1;function Ay(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||vs==null||vs!==dc(r)||(r=vs,"selectionStart"in r&&Tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&ha(Qi,r)||(Qi=r,r=vc(Bf,"onSelect"),0<r.length&&(t=new Cp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vs)))}function ml(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ws={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},gd={},Bx={};Rr&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function cu(e){if(gd[e])return gd[e];if(!ws[e])return e;var t=ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bx)return gd[e]=t[n];return e}var zx=cu("animationend"),qx=cu("animationiteration"),Wx=cu("animationstart"),Hx=cu("transitionend"),Gx=new Map,Dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(e,t){Gx.set(e,t),is(t,[e])}for(var yd=0;yd<Dy.length;yd++){var vd=Dy[yd],WD=vd.toLowerCase(),HD=vd[0].toUpperCase()+vd.slice(1);To(WD,"on"+HD)}To(zx,"onAnimationEnd");To(qx,"onAnimationIteration");To(Wx,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(Hx,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Ry(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,WA(r,t,void 0,e),e.currentTarget=null}function Kx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Ry(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Ry(o,a,c),s=l}}}if(hc)throw e=Of,hc=!1,Of=null,e}function rt(e,t){var n=t[Kf];n===void 0&&(n=t[Kf]=new Set);var r=e+"__bubble";n.has(r)||(Yx(t,e,2,!1),n.add(r))}function wd(e,t,n){var r=0;t&&(r|=4),Yx(n,e,r,t)}var gl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[gl]){e[gl]=!0,nx.forEach(function(n){n!=="selectionchange"&&(GD.has(n)||wd(n,!1,e),wd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gl]||(t[gl]=!0,wd("selectionchange",!1,t))}}function Yx(e,t,n,r){switch(Ix(t)){case 1:var o=aD;break;case 4:o=lD;break;default:o=Sp}n=o.bind(null,t,n,e),o=void 0,!Ff||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function xd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Fo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}vx(function(){var c=s,d=yp(n),u=[];e:{var h=Gx.get(e);if(h!==void 0){var y=Cp,g=e;switch(e){case"keypress":if(Gl(n)===0)break e;case"keydown":case"keyup":y=CD;break;case"focusin":g="focus",y=hd;break;case"focusout":g="blur",y=hd;break;case"beforeblur":case"afterblur":y=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=TD;break;case zx:case qx:case Wx:y=pD;break;case Hx:y=AD;break;case"scroll":y=cD;break;case"wheel":y=RD;break;case"copy":case"cut":case"paste":y=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=xy}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var v=c,S;v!==null;){S=v;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,m!==null&&(C=la(v,m),C!=null&&x.push(ma(v,C,S)))),b)break;v=v.return}0<x.length&&(h=new y(h,g,null,n,d),u.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Lf&&(g=n.relatedTarget||n.fromElement)&&(Fo(g)||g[Mr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=c,g=g?Fo(g):null,g!==null&&(b=as(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(x=vy,C="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=xy,C="onPointerLeave",m="onPointerEnter",v="pointer"),b=y==null?h:xs(y),S=g==null?h:xs(g),h=new x(C,v+"leave",y,n,d),h.target=b,h.relatedTarget=S,C=null,Fo(d)===c&&(x=new x(m,v+"enter",g,n,d),x.target=S,x.relatedTarget=b,C=x),b=C,y&&g)t:{for(x=y,m=g,v=0,S=x;S;S=ds(S))v++;for(S=0,C=m;C;C=ds(C))S++;for(;0<v-S;)x=ds(x),v--;for(;0<S-v;)m=ds(m),S--;for(;v--;){if(x===m||m!==null&&x===m.alternate)break t;x=ds(x),m=ds(m)}x=null}else x=null;y!==null&&My(u,h,y,x,!1),g!==null&&b!==null&&My(u,b,g,x,!0)}}e:{if(h=c?xs(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var E=FD;else if(Cy(h))if(Ox)E=VD;else{E=$D;var P=OD}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=UD);if(E&&(E=E(e,c))){Fx(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Rf(h,"number",h.value)}switch(P=c?xs(c):window,e){case"focusin":(Cy(P)||P.contentEditable==="true")&&(vs=P,Bf=c,Qi=null);break;case"focusout":Qi=Bf=vs=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Ay(u,n,d);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":Ay(u,n,d)}var k;if(Pp)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ys?Lx(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Nx&&n.locale!=="ko"&&(ys||A!=="onCompositionStart"?A==="onCompositionEnd"&&ys&&(k=_x()):(oo=d,bp="value"in oo?oo.value:oo.textContent,ys=!0)),P=vc(c,A),0<P.length&&(A=new wy(A,e,null,n,d),u.push({event:A,listeners:P}),k?A.data=k:(k=jx(n),k!==null&&(A.data=k)))),(k=ID?_D(e,n):ND(e,n))&&(c=vc(c,"onBeforeInput"),0<c.length&&(d=new wy("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=k))}Kx(u,t)})}function ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=la(e,n),s!=null&&r.unshift(ma(e,s,o)),s=la(e,t),s!=null&&r.push(ma(e,s,o))),e=e.return}return r}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function My(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=la(n,s),l!=null&&i.unshift(ma(n,l,a))):o||(l=la(n,s),l!=null&&i.push(ma(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var KD=/\r\n?/g,YD=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(KD,`
`).replace(YD,"")}function yl(e,t,n){if(t=Iy(t),Iy(e)!==t&&n)throw Error(W(425))}function wc(){}var qf=null,Wf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(ZD)}:Gf;function ZD(e){setTimeout(function(){throw e})}function Sd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);da(t)}function uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yi=Math.random().toString(36).slice(2),ar="__reactFiber$"+yi,ga="__reactProps$"+yi,Mr="__reactContainer$"+yi,Kf="__reactEvents$"+yi,JD="__reactListeners$"+yi,eR="__reactHandles$"+yi;function Fo(e){var t=e[ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ny(e);e!==null;){if(n=e[ar])return n;e=Ny(e)}return t}e=n,n=e.parentNode}return null}function qa(e){return e=e[ar]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function uu(e){return e[ga]||null}var Yf=[],Ss=-1;function ko(e){return{current:e}}function ot(e){0>Ss||(e.current=Yf[Ss],Yf[Ss]=null,Ss--)}function tt(e,t){Ss++,Yf[Ss]=e.current,e.current=t}var xo={},Kt=ko(xo),ln=ko(!1),Xo=xo;function ti(e,t){var n=e.type.contextTypes;if(!n)return xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function cn(e){return e=e.childContextTypes,e!=null}function xc(){ot(ln),ot(Kt)}function Ly(e,t,n){if(Kt.current!==xo)throw Error(W(168));tt(Kt,t),tt(ln,n)}function Qx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,OA(e)||"Unknown",o));return pt({},n,r)}function Sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,Xo=Kt.current,tt(Kt,e),tt(ln,ln.current),!0}function jy(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Qx(e,t,Xo),r.__reactInternalMemoizedMergedChildContext=e,ot(ln),ot(Kt),tt(Kt,e)):ot(ln),tt(ln,n)}var Cr=null,du=!1,bd=!1;function Xx(e){Cr===null?Cr=[e]:Cr.push(e)}function tR(e){du=!0,Xx(e)}function Ao(){if(!bd&&Cr!==null){bd=!0;var e=0,t=Qe;try{var n=Cr;for(Qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cr=null,du=!1}catch(o){throw Cr!==null&&(Cr=Cr.slice(e+1)),bx(vp,Ao),o}finally{Qe=t,bd=!1}}return null}var bs=[],Cs=0,bc=null,Cc=0,Dn=[],Rn=0,Zo=null,Er=1,Pr="";function _o(e,t){bs[Cs++]=Cc,bs[Cs++]=bc,bc=e,Cc=t}function Zx(e,t,n){Dn[Rn++]=Er,Dn[Rn++]=Pr,Dn[Rn++]=Zo,Zo=e;var r=Er;e=Pr;var o=32-Wn(r)-1;r&=~(1<<o),n+=1;var s=32-Wn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Er=1<<32-Wn(t)+o|n<<o|r,Pr=s+e}else Er=1<<s|n<<o|r,Pr=e}function kp(e){e.return!==null&&(_o(e,1),Zx(e,1,0))}function Ap(e){for(;e===bc;)bc=bs[--Cs],bs[Cs]=null,Cc=bs[--Cs],bs[Cs]=null;for(;e===Zo;)Zo=Dn[--Rn],Dn[Rn]=null,Pr=Dn[--Rn],Dn[Rn]=null,Er=Dn[--Rn],Dn[Rn]=null}var vn=null,yn=null,at=!1,qn=null;function Jx(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,yn=uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zo!==null?{id:Er,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vn=e,yn=null,!0):!1;default:return!1}}function Qf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xf(e){if(at){var t=yn;if(t){var n=t;if(!Fy(e,t)){if(Qf(e))throw Error(W(418));t=uo(n.nextSibling);var r=vn;t&&Fy(e,t)?Jx(r,n):(e.flags=e.flags&-4097|2,at=!1,vn=e)}}else{if(Qf(e))throw Error(W(418));e.flags=e.flags&-4097|2,at=!1,vn=e}}}function Oy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function vl(e){if(e!==vn)return!1;if(!at)return Oy(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=yn)){if(Qf(e))throw eS(),Error(W(418));for(;t;)Jx(e,t),t=uo(t.nextSibling)}if(Oy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=uo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=vn?uo(e.stateNode.nextSibling):null;return!0}function eS(){for(var e=yn;e;)e=uo(e.nextSibling)}function ni(){yn=vn=null,at=!1}function Dp(e){qn===null?qn=[e]:qn.push(e)}var nR=Or.ReactCurrentBatchConfig;function Ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function wl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $y(e){var t=e._init;return t(e._payload)}function tS(e){function t(m,v){if(e){var S=m.deletions;S===null?(m.deletions=[v],m.flags|=16):S.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function o(m,v){return m=mo(m,v),m.index=0,m.sibling=null,m}function s(m,v,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<v?(m.flags|=2,v):S):(m.flags|=2,v)):(m.flags|=1048576,v)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,S,C){return v===null||v.tag!==6?(v=Dd(S,m.mode,C),v.return=m,v):(v=o(v,S),v.return=m,v)}function l(m,v,S,C){var E=S.type;return E===gs?d(m,v,S.props.children,C,S.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kr&&$y(E)===v.type)?(C=o(v,S.props),C.ref=Ri(m,v,S),C.return=m,C):(C=ec(S.type,S.key,S.props,null,m.mode,C),C.ref=Ri(m,v,S),C.return=m,C)}function c(m,v,S,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Rd(S,m.mode,C),v.return=m,v):(v=o(v,S.children||[]),v.return=m,v)}function d(m,v,S,C,E){return v===null||v.tag!==7?(v=Go(S,m.mode,C,E),v.return=m,v):(v=o(v,S),v.return=m,v)}function u(m,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dd(""+v,m.mode,S),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:return S=ec(v.type,v.key,v.props,null,m.mode,S),S.ref=Ri(m,null,v),S.return=m,S;case ms:return v=Rd(v,m.mode,S),v.return=m,v;case Kr:var C=v._init;return u(m,C(v._payload),S)}if($i(v)||Pi(v))return v=Go(v,m.mode,S,null),v.return=m,v;wl(m,v)}return null}function h(m,v,S,C){var E=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(m,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ll:return S.key===E?l(m,v,S,C):null;case ms:return S.key===E?c(m,v,S,C):null;case Kr:return E=S._init,h(m,v,E(S._payload),C)}if($i(S)||Pi(S))return E!==null?null:d(m,v,S,C,null);wl(m,S)}return null}function y(m,v,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(S)||null,a(v,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ll:return m=m.get(C.key===null?S:C.key)||null,l(v,m,C,E);case ms:return m=m.get(C.key===null?S:C.key)||null,c(v,m,C,E);case Kr:var P=C._init;return y(m,v,S,P(C._payload),E)}if($i(C)||Pi(C))return m=m.get(S)||null,d(v,m,C,E,null);wl(v,C)}return null}function g(m,v,S,C){for(var E=null,P=null,k=v,A=v=0,D=null;k!==null&&A<S.length;A++){k.index>A?(D=k,k=null):D=k.sibling;var M=h(m,k,S[A],C);if(M===null){k===null&&(k=D);break}e&&k&&M.alternate===null&&t(m,k),v=s(M,v,A),P===null?E=M:P.sibling=M,P=M,k=D}if(A===S.length)return n(m,k),at&&_o(m,A),E;if(k===null){for(;A<S.length;A++)k=u(m,S[A],C),k!==null&&(v=s(k,v,A),P===null?E=k:P.sibling=k,P=k);return at&&_o(m,A),E}for(k=r(m,k);A<S.length;A++)D=y(k,m,A,S[A],C),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?A:D.key),v=s(D,v,A),P===null?E=D:P.sibling=D,P=D);return e&&k.forEach(function(j){return t(m,j)}),at&&_o(m,A),E}function x(m,v,S,C){var E=Pi(S);if(typeof E!="function")throw Error(W(150));if(S=E.call(S),S==null)throw Error(W(151));for(var P=E=null,k=v,A=v=0,D=null,M=S.next();k!==null&&!M.done;A++,M=S.next()){k.index>A?(D=k,k=null):D=k.sibling;var j=h(m,k,M.value,C);if(j===null){k===null&&(k=D);break}e&&k&&j.alternate===null&&t(m,k),v=s(j,v,A),P===null?E=j:P.sibling=j,P=j,k=D}if(M.done)return n(m,k),at&&_o(m,A),E;if(k===null){for(;!M.done;A++,M=S.next())M=u(m,M.value,C),M!==null&&(v=s(M,v,A),P===null?E=M:P.sibling=M,P=M);return at&&_o(m,A),E}for(k=r(m,k);!M.done;A++,M=S.next())M=y(k,m,A,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?A:M.key),v=s(M,v,A),P===null?E=M:P.sibling=M,P=M);return e&&k.forEach(function(F){return t(m,F)}),at&&_o(m,A),E}function b(m,v,S,C){if(typeof S=="object"&&S!==null&&S.type===gs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ll:e:{for(var E=S.key,P=v;P!==null;){if(P.key===E){if(E=S.type,E===gs){if(P.tag===7){n(m,P.sibling),v=o(P,S.props.children),v.return=m,m=v;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kr&&$y(E)===P.type){n(m,P.sibling),v=o(P,S.props),v.ref=Ri(m,P,S),v.return=m,m=v;break e}n(m,P);break}else t(m,P);P=P.sibling}S.type===gs?(v=Go(S.props.children,m.mode,C,S.key),v.return=m,m=v):(C=ec(S.type,S.key,S.props,null,m.mode,C),C.ref=Ri(m,v,S),C.return=m,m=C)}return i(m);case ms:e:{for(P=S.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(m,v.sibling),v=o(v,S.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Rd(S,m.mode,C),v.return=m,m=v}return i(m);case Kr:return P=S._init,b(m,v,P(S._payload),C)}if($i(S))return g(m,v,S,C);if(Pi(S))return x(m,v,S,C);wl(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(m,v.sibling),v=o(v,S),v.return=m,m=v):(n(m,v),v=Dd(S,m.mode,C),v.return=m,m=v),i(m)):n(m,v)}return b}var ri=tS(!0),nS=tS(!1),Ec=ko(null),Pc=null,Es=null,Rp=null;function Mp(){Rp=Es=Pc=null}function Ip(e){var t=Ec.current;ot(Ec),e._currentValue=t}function Zf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Pc=e,Rp=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(Rp!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(Pc===null)throw Error(W(308));Es=e,Pc.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Oo=null;function _p(e){Oo===null?Oo=[e]:Oo.push(e)}function rS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,_p(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ir(e,r)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ir(e,n)}return o=r.interleaved,o===null?(t.next=t,_p(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ir(e,n)}function Kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wp(e,n)}}function Uy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tc(e,t,n,r){var o=e.updateQueue;Yr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,x=a;switch(h=t,y=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){u=g.call(y,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(y,u,h):g,h==null)break e;u=pt({},u,h);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=u):d=d.next=y,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);es|=i,e.lanes=i,e.memoizedState=u}}function Vy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Wa={},dr=ko(Wa),ya=ko(Wa),va=ko(Wa);function $o(e){if(e===Wa)throw Error(W(174));return e}function Lp(e,t){switch(tt(va,t),tt(ya,e),tt(dr,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:If(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=If(t,e)}ot(dr),tt(dr,t)}function oi(){ot(dr),ot(ya),ot(va)}function sS(e){$o(va.current);var t=$o(dr.current),n=If(t,e.type);t!==n&&(tt(ya,e),tt(dr,n))}function jp(e){ya.current===e&&(ot(dr),ot(ya))}var ct=ko(0);function kc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cd=[];function Fp(){for(var e=0;e<Cd.length;e++)Cd[e]._workInProgressVersionPrimary=null;Cd.length=0}var Yl=Or.ReactCurrentDispatcher,Ed=Or.ReactCurrentBatchConfig,Jo=0,ht=null,kt=null,Mt=null,Ac=!1,Xi=!1,wa=0,rR=0;function Ut(){throw Error(W(321))}function Op(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function $p(e,t,n,r,o,s){if(Jo=s,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yl.current=e===null||e.memoizedState===null?aR:lR,e=n(r,o),Xi){s=0;do{if(Xi=!1,wa=0,25<=s)throw Error(W(301));s+=1,Mt=kt=null,t.updateQueue=null,Yl.current=cR,e=n(r,o)}while(Xi)}if(Yl.current=Dc,t=kt!==null&&kt.next!==null,Jo=0,Mt=kt=ht=null,Ac=!1,t)throw Error(W(300));return e}function Up(){var e=wa!==0;return wa=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Ln(){if(kt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Mt===null?ht.memoizedState:Mt.next;if(t!==null)Mt=t,kt=e;else{if(e===null)throw Error(W(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?ht.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function xa(e,t){return typeof t=="function"?t(e):t}function Pd(e){var t=Ln(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=kt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((Jo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,ht.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Kn(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ht.lanes|=s,es|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Td(e){var t=Ln(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Kn(s,t.memoizedState)||(an=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function iS(){}function aS(e,t){var n=ht,r=Ln(),o=t(),s=!Kn(r.memoizedState,o);if(s&&(r.memoizedState=o,an=!0),r=r.queue,Vp(uS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Sa(9,cS.bind(null,n,r,o,t),void 0,null),It===null)throw Error(W(349));Jo&30||lS(n,t,o)}return o}function lS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cS(e,t,n,r){t.value=n,t.getSnapshot=r,dS(t)&&fS(e)}function uS(e,t,n){return n(function(){dS(t)&&fS(e)})}function dS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch{return!0}}function fS(e){var t=Ir(e,1);t!==null&&Hn(t,e,1,-1)}function By(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=iR.bind(null,ht,e),[t.memoizedState,e]}function Sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hS(){return Ln().memoizedState}function Ql(e,t,n,r){var o=nr();ht.flags|=e,o.memoizedState=Sa(1|t,n,void 0,r===void 0?null:r)}function fu(e,t,n,r){var o=Ln();r=r===void 0?null:r;var s=void 0;if(kt!==null){var i=kt.memoizedState;if(s=i.destroy,r!==null&&Op(r,i.deps)){o.memoizedState=Sa(t,n,s,r);return}}ht.flags|=e,o.memoizedState=Sa(1|t,n,s,r)}function zy(e,t){return Ql(8390656,8,e,t)}function Vp(e,t){return fu(2048,8,e,t)}function pS(e,t){return fu(4,2,e,t)}function mS(e,t){return fu(4,4,e,t)}function gS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yS(e,t,n){return n=n!=null?n.concat([e]):null,fu(4,4,gS.bind(null,t,e),n)}function Bp(){}function vS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Op(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Op(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xS(e,t,n){return Jo&21?(Kn(n,t)||(n=Px(),ht.lanes|=n,es|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function oR(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var r=Ed.transition;Ed.transition={};try{e(!1),t()}finally{Qe=n,Ed.transition=r}}function SS(){return Ln().memoizedState}function sR(e,t,n){var r=po(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(e))CS(t,n);else if(n=rS(e,t,n,r),n!==null){var o=Jt();Hn(n,e,r,o),ES(n,t,r)}}function iR(e,t,n){var r=po(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(e))CS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Kn(a,i)){var l=t.interleaved;l===null?(o.next=o,_p(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=rS(e,t,o,r),n!==null&&(o=Jt(),Hn(n,e,r,o),ES(n,t,r))}}function bS(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function CS(e,t){Xi=Ac=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ES(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wp(e,n)}}var Dc={readContext:Nn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},aR={readContext:Nn,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:zy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ql(4194308,4,gS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ql(4,2,e,t)},useMemo:function(e,t){var n=nr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sR.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:By,useDebugValue:Bp,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=By(!1),t=e[0];return e=oR.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,o=nr();if(at){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),It===null)throw Error(W(349));Jo&30||lS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,zy(uS.bind(null,r,s,e),[e]),r.flags|=2048,Sa(9,cS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=nr(),t=It.identifierPrefix;if(at){var n=Pr,r=Er;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lR={readContext:Nn,useCallback:vS,useContext:Nn,useEffect:Vp,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:mS,useMemo:wS,useReducer:Pd,useRef:hS,useState:function(){return Pd(xa)},useDebugValue:Bp,useDeferredValue:function(e){var t=Ln();return xS(t,kt.memoizedState,e)},useTransition:function(){var e=Pd(xa)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:aS,useId:SS,unstable_isNewReconciler:!1},cR={readContext:Nn,useCallback:vS,useContext:Nn,useEffect:Vp,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:mS,useMemo:wS,useReducer:Td,useRef:hS,useState:function(){return Td(xa)},useDebugValue:Bp,useDeferredValue:function(e){var t=Ln();return kt===null?t.memoizedState=e:xS(t,kt.memoizedState,e)},useTransition:function(){var e=Td(xa)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:aS,useId:SS,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hu={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jt(),o=po(e),s=kr(r,o);s.payload=t,n!=null&&(s.callback=n),t=fo(e,s,o),t!==null&&(Hn(t,e,o,r),Kl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jt(),o=po(e),s=kr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fo(e,s,o),t!==null&&(Hn(t,e,o,r),Kl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jt(),r=po(e),o=kr(n,r);o.tag=2,t!=null&&(o.callback=t),t=fo(e,o,r),t!==null&&(Hn(t,e,r,n),Kl(t,e,r))}};function qy(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ha(n,r)||!ha(o,s):!0}function PS(e,t,n){var r=!1,o=xo,s=t.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(o=cn(t)?Xo:Kt.current,r=t.contextTypes,s=(r=r!=null)?ti(e,o):xo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function eh(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Np(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Nn(s):(s=cn(t)?Xo:Kt.current,o.context=ti(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Jf(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&hu.enqueueReplaceState(o,o.state,null),Tc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var n="",r=t;do n+=FA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function kd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function th(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uR=typeof WeakMap=="function"?WeakMap:Map;function TS(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mc||(Mc=!0,dh=r),th(e,t)},n}function kS(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){th(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){th(e,t),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ER.bind(null,e,t,n),t.then(e,e))}function Gy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ky(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,fo(n,t,1))),n.lanes|=1),e)}var dR=Or.ReactCurrentOwner,an=!1;function Xt(e,t,n,r){t.child=e===null?nS(t,null,n,r):ri(t,e.child,n,r)}function Yy(e,t,n,r,o){n=n.render;var s=t.ref;return Fs(t,o),r=$p(e,t,n,r,s,o),n=Up(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_r(e,t,o)):(at&&n&&kp(t),t.flags|=1,Xt(e,t,r,o),t.child)}function Qy(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Qp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,AS(e,t,s,r,o)):(e=ec(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(i,r)&&e.ref===t.ref)return _r(e,t,o)}return t.flags|=1,e=mo(s,r),e.ref=t.ref,e.return=t,t.child=e}function AS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ha(s,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,_r(e,t,o)}return nh(e,t,n,r,o)}function DS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ts,mn),mn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Ts,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Ts,mn),mn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(Ts,mn),mn|=r;return Xt(e,t,o,n),t.child}function RS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nh(e,t,n,r,o){var s=cn(n)?Xo:Kt.current;return s=ti(t,s),Fs(t,o),n=$p(e,t,n,r,s,o),r=Up(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_r(e,t,o)):(at&&r&&kp(t),t.flags|=1,Xt(e,t,n,o),t.child)}function Xy(e,t,n,r,o){if(cn(n)){var s=!0;Sc(t)}else s=!1;if(Fs(t,o),t.stateNode===null)Xl(e,t),PS(t,n,r),eh(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=cn(n)?Xo:Kt.current,c=ti(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wy(t,i,r,c),Yr=!1;var h=t.memoizedState;i.state=h,Tc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||ln.current||Yr?(typeof d=="function"&&(Jf(t,n,d,r),l=t.memoizedState),(a=Yr||qy(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Un(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=cn(n)?Xo:Kt.current,l=ti(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Wy(t,i,r,l),Yr=!1,h=t.memoizedState,i.state=h,Tc(t,r,i,o);var g=t.memoizedState;a!==u||h!==g||ln.current||Yr?(typeof y=="function"&&(Jf(t,n,y,r),g=t.memoizedState),(c=Yr||qy(t,n,c,r,h,g,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return rh(e,t,n,r,s,o)}function rh(e,t,n,r,o,s){RS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&jy(t,n,!1),_r(e,t,s);r=t.stateNode,dR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ri(t,e.child,null,s),t.child=ri(t,null,a,s)):Xt(e,t,a,s),t.memoizedState=r.state,o&&jy(t,n,!0),t.child}function MS(e){var t=e.stateNode;t.pendingContext?Ly(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ly(e,t.context,!1),Lp(e,t.containerInfo)}function Zy(e,t,n,r,o){return ni(),Dp(o),t.flags|=256,Xt(e,t,n,r),t.child}var oh={dehydrated:null,treeContext:null,retryLane:0};function sh(e){return{baseLanes:e,cachePool:null,transitions:null}}function IS(e,t,n){var r=t.pendingProps,o=ct.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),tt(ct,o&1),e===null)return Xf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=gu(i,r,0,null),e=Go(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sh(n),t.memoizedState=oh,e):zp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return fR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=mo(a,s):(s=Go(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?sh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=oh,r}return s=e.child,e=s.sibling,r=mo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zp(e,t){return t=gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xl(e,t,n,r){return r!==null&&Dp(r),ri(t,e.child,null,n),e=zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=kd(Error(W(422))),xl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=gu({mode:"visible",children:r.children},o,0,null),s=Go(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ri(t,e.child,null,i),t.child.memoizedState=sh(i),t.memoizedState=oh,s);if(!(t.mode&1))return xl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=kd(s,r,void 0),xl(e,t,i,r)}if(a=(i&e.childLanes)!==0,an||a){if(r=It,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Ir(e,o),Hn(r,e,o,-1))}return Yp(),r=kd(Error(W(421))),xl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=PR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,yn=uo(o.nextSibling),vn=t,at=!0,qn=null,e!==null&&(Dn[Rn++]=Er,Dn[Rn++]=Pr,Dn[Rn++]=Zo,Er=e.id,Pr=e.overflow,Zo=t),t=zp(t,r.children),t.flags|=4096,t)}function Jy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zf(e.return,t,n)}function Ad(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function _S(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Xt(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,n,t);else if(e.tag===19)Jy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ct,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&kc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ad(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&kc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ad(t,!0,n,null,s);break;case"together":Ad(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=mo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hR(e,t,n){switch(t.tag){case 3:MS(t),ni();break;case 5:sS(t);break;case 1:cn(t.type)&&Sc(t);break;case 4:Lp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;tt(Ec,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?IS(e,t,n):(tt(ct,ct.current&1),e=_r(e,t,n),e!==null?e.sibling:null);tt(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _S(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),tt(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,DS(e,t,n)}return _r(e,t,n)}var NS,ih,LS,jS;NS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ih=function(){};LS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,$o(dr.current);var s=null;switch(n){case"input":o=Af(e,o),r=Af(e,r),s=[];break;case"select":o=pt({},o,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":o=Mf(e,o),r=Mf(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wc)}_f(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ia.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ia.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};jS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mi(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pR(e,t,n){var r=t.pendingProps;switch(Ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return cn(t.type)&&xc(),Vt(t),null;case 3:return r=t.stateNode,oi(),ot(ln),ot(Kt),Fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qn!==null&&(ph(qn),qn=null))),ih(e,t),Vt(t),null;case 5:jp(t);var o=$o(va.current);if(n=t.type,e!==null&&t.stateNode!=null)LS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Vt(t),null}if(e=$o(dr.current),vl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ar]=t,r[ga]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(o=0;o<Vi.length;o++)rt(Vi[o],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":ly(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":uy(r,s),rt("invalid",r)}_f(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,e),o=["children",""+a]):ia.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&rt("scroll",r)}switch(n){case"input":cl(r),cy(r,s,!0);break;case"textarea":cl(r),dy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ux(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ar]=t,e[ga]=r,NS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Nf(n,r),n){case"dialog":rt("cancel",e),rt("close",e),o=r;break;case"iframe":case"object":case"embed":rt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Vi.length;o++)rt(Vi[o],e);o=r;break;case"source":rt("error",e),o=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),o=r;break;case"details":rt("toggle",e),o=r;break;case"input":ly(e,r),o=Af(e,r),rt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pt({},r,{value:void 0}),rt("invalid",e);break;case"textarea":uy(e,r),o=Mf(e,r),rt("invalid",e);break;default:o=r}_f(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&aa(e,l):typeof l=="number"&&aa(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",e):l!=null&&hp(e,s,l,i))}switch(n){case"input":cl(e),cy(e,r,!1);break;case"textarea":cl(e),dy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?_s(e,!!r.multiple,s,!1):r.defaultValue!=null&&_s(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)jS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=$o(va.current),$o(dr.current),vl(t)){if(r=t.stateNode,n=t.memoizedProps,r[ar]=t,(s=r.nodeValue!==n)&&(e=vn,e!==null))switch(e.tag){case 3:yl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=t,t.stateNode=r}return Vt(t),null;case 13:if(ot(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&yn!==null&&t.mode&1&&!(t.flags&128))eS(),ni(),t.flags|=98560,s=!1;else if(s=vl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[ar]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),s=!1}else qn!==null&&(ph(qn),qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?At===0&&(At=3):Yp())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return oi(),ih(e,t),e===null&&pa(t.stateNode.containerInfo),Vt(t),null;case 10:return Ip(t.type._context),Vt(t),null;case 17:return cn(t.type)&&xc(),Vt(t),null;case 19:if(ot(ct),s=t.memoizedState,s===null)return Vt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Mi(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=kc(e),i!==null){for(t.flags|=128,Mi(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&xt()>ii&&(t.flags|=128,r=!0,Mi(s,!1),t.lanes=4194304)}else{if(!r)if(e=kc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!at)return Vt(t),null}else 2*xt()-s.renderingStartTime>ii&&n!==1073741824&&(t.flags|=128,r=!0,Mi(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xt(),t.sibling=null,n=ct.current,tt(ct,r?n&1|2:n&1),t):(Vt(t),null);case 22:case 23:return Kp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function mR(e,t){switch(Ap(t),t.tag){case 1:return cn(t.type)&&xc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(),ot(ln),ot(Kt),Fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jp(t),null;case 13:if(ot(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ct),null;case 4:return oi(),null;case 10:return Ip(t.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var Sl=!1,qt=!1,gR=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function ah(e,t,n){try{n()}catch(r){yt(e,t,r)}}var ev=!1;function yR(e,t){if(qf=gc,e=Vx(),Tp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var y;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(y=u.firstChild)!==null;)h=u,u=y;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(y=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:e,selectionRange:n},gc=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Un(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){yt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return g=ev,ev=!1,g}function Zi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&ah(t,n,s)}o=o.next}while(o!==r)}}function pu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FS(e){var t=e.alternate;t!==null&&(e.alternate=null,FS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[ga],delete t[Kf],delete t[JD],delete t[eR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function OS(e){return e.tag===5||e.tag===3||e.tag===4}function tv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||OS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wc));else if(r!==4&&(e=e.child,e!==null))for(ch(e,t,n),e=e.sibling;e!==null;)ch(e,t,n),e=e.sibling}function uh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uh(e,t,n),e=e.sibling;e!==null;)uh(e,t,n),e=e.sibling}var Nt=null,zn=!1;function Vr(e,t,n){for(n=n.child;n!==null;)$S(e,t,n),n=n.sibling}function $S(e,t,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:qt||Ps(n,t);case 6:var r=Nt,o=zn;Nt=null,Vr(e,t,n),Nt=r,zn=o,Nt!==null&&(zn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(zn?(e=Nt,n=n.stateNode,e.nodeType===8?Sd(e.parentNode,n):e.nodeType===1&&Sd(e,n),da(e)):Sd(Nt,n.stateNode));break;case 4:r=Nt,o=zn,Nt=n.stateNode.containerInfo,zn=!0,Vr(e,t,n),Nt=r,zn=o;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ah(n,t,i),o=o.next}while(o!==r)}Vr(e,t,n);break;case 1:if(!qt&&(Ps(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,t,a)}Vr(e,t,n);break;case 21:Vr(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Vr(e,t,n),qt=r):Vr(e,t,n);break;default:Vr(e,t,n)}}function nv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gR),t.forEach(function(r){var o=TR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,zn=!1;break e;case 3:Nt=a.stateNode.containerInfo,zn=!0;break e;case 4:Nt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(Nt===null)throw Error(W(160));$S(s,i,o),Nt=null,zn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){yt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)US(t,e),t=t.sibling}function US(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),tr(e),r&4){try{Zi(3,e,e.return),pu(3,e)}catch(x){yt(e,e.return,x)}try{Zi(5,e,e.return)}catch(x){yt(e,e.return,x)}}break;case 1:On(t,e),tr(e),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(On(t,e),tr(e),r&512&&n!==null&&Ps(n,n.return),e.flags&32){var o=e.stateNode;try{aa(o,"")}catch(x){yt(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lx(o,s),Nf(a,i);var c=Nf(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?hx(o,u):d==="dangerouslySetInnerHTML"?dx(o,u):d==="children"?aa(o,u):hp(o,d,u,c)}switch(a){case"input":Df(o,s);break;case"textarea":cx(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?_s(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?_s(o,!!s.multiple,s.defaultValue,!0):_s(o,!!s.multiple,s.multiple?[]:"",!1))}o[ga]=s}catch(x){yt(e,e.return,x)}}break;case 6:if(On(t,e),tr(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){yt(e,e.return,x)}}break;case 3:if(On(t,e),tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(x){yt(e,e.return,x)}break;case 4:On(t,e),tr(e);break;case 13:On(t,e),tr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Hp=xt())),r&4&&nv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(c=qt)||d,On(t,e),qt=c):On(t,e),tr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(le=e,d=e.child;d!==null;){for(u=le=d;le!==null;){switch(h=le,y=h.child,h.tag){case 0:case 11:case 14:case 15:Zi(4,h,h.return);break;case 1:Ps(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){yt(r,n,x)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){ov(u);continue}}y!==null?(y.return=h,le=y):ov(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fx("display",i))}catch(x){yt(e,e.return,x)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(x){yt(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:On(t,e),tr(e),r&4&&nv(e);break;case 21:break;default:On(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(OS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(aa(o,""),r.flags&=-33);var s=tv(e);uh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=tv(e);ch(e,a,i);break;default:throw Error(W(161))}}catch(l){yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vR(e,t,n){le=e,VS(e)}function VS(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var o=le,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Sl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Sl;var c=qt;if(Sl=i,(qt=l)&&!c)for(le=o;le!==null;)i=le,l=i.child,i.tag===22&&i.memoizedState!==null?sv(o):l!==null?(l.return=i,le=l):sv(o);for(;s!==null;)le=s,VS(s),s=s.sibling;le=o,Sl=a,qt=c}rv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,le=s):rv(e)}}function rv(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||pu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Vy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&da(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}qt||t.flags&512&&lh(t)}catch(h){yt(t,t.return,h)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function ov(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function sv(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pu(4,t)}catch(l){yt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){yt(t,o,l)}}var s=t.return;try{lh(t)}catch(l){yt(t,s,l)}break;case 5:var i=t.return;try{lh(t)}catch(l){yt(t,i,l)}}}catch(l){yt(t,t.return,l)}if(t===e){le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,le=a;break}le=t.return}}var wR=Math.ceil,Rc=Or.ReactCurrentDispatcher,qp=Or.ReactCurrentOwner,In=Or.ReactCurrentBatchConfig,Ue=0,It=null,Et=null,jt=0,mn=0,Ts=ko(0),At=0,ba=null,es=0,mu=0,Wp=0,Ji=null,on=null,Hp=0,ii=1/0,br=null,Mc=!1,dh=null,ho=null,bl=!1,so=null,Ic=0,ea=0,fh=null,Zl=-1,Jl=0;function Jt(){return Ue&6?xt():Zl!==-1?Zl:Zl=xt()}function po(e){return e.mode&1?Ue&2&&jt!==0?jt&-jt:nR.transition!==null?(Jl===0&&(Jl=Px()),Jl):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:Ix(e.type)),e):1}function Hn(e,t,n,r){if(50<ea)throw ea=0,fh=null,Error(W(185));Ba(e,n,r),(!(Ue&2)||e!==It)&&(e===It&&(!(Ue&2)&&(mu|=n),At===4&&Zr(e,jt)),un(e,r),n===1&&Ue===0&&!(t.mode&1)&&(ii=xt()+500,du&&Ao()))}function un(e,t){var n=e.callbackNode;nD(e,t);var r=mc(e,e===It?jt:0);if(r===0)n!==null&&py(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&py(n),t===1)e.tag===0?tR(iv.bind(null,e)):Xx(iv.bind(null,e)),XD(function(){!(Ue&6)&&Ao()}),n=null;else{switch(Tx(r)){case 1:n=vp;break;case 4:n=Cx;break;case 16:n=pc;break;case 536870912:n=Ex;break;default:n=pc}n=YS(n,BS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function BS(e,t){if(Zl=-1,Jl=0,Ue&6)throw Error(W(327));var n=e.callbackNode;if(Os()&&e.callbackNode!==n)return null;var r=mc(e,e===It?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_c(e,r);else{t=r;var o=Ue;Ue|=2;var s=qS();(It!==e||jt!==t)&&(br=null,ii=xt()+500,Ho(e,t));do try{bR();break}catch(a){zS(e,a)}while(!0);Mp(),Rc.current=s,Ue=o,Et!==null?t=0:(It=null,jt=0,t=At)}if(t!==0){if(t===2&&(o=$f(e),o!==0&&(r=o,t=hh(e,o))),t===1)throw n=ba,Ho(e,0),Zr(e,r),un(e,xt()),n;if(t===6)Zr(e,r);else{if(o=e.current.alternate,!(r&30)&&!xR(o)&&(t=_c(e,r),t===2&&(s=$f(e),s!==0&&(r=s,t=hh(e,s))),t===1))throw n=ba,Ho(e,0),Zr(e,r),un(e,xt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:No(e,on,br);break;case 3:if(Zr(e,r),(r&130023424)===r&&(t=Hp+500-xt(),10<t)){if(mc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Jt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Gf(No.bind(null,e,on,br),t);break}No(e,on,br);break;case 4:if(Zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Wn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wR(r/1960))-r,10<r){e.timeoutHandle=Gf(No.bind(null,e,on,br),r);break}No(e,on,br);break;case 5:No(e,on,br);break;default:throw Error(W(329))}}}return un(e,xt()),e.callbackNode===n?BS.bind(null,e):null}function hh(e,t){var n=Ji;return e.current.memoizedState.isDehydrated&&(Ho(e,t).flags|=256),e=_c(e,t),e!==2&&(t=on,on=n,t!==null&&ph(t)),e}function ph(e){on===null?on=e:on.push.apply(on,e)}function xR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Kn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~Wp,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function iv(e){if(Ue&6)throw Error(W(327));Os();var t=mc(e,0);if(!(t&1))return un(e,xt()),null;var n=_c(e,t);if(e.tag!==0&&n===2){var r=$f(e);r!==0&&(t=r,n=hh(e,r))}if(n===1)throw n=ba,Ho(e,0),Zr(e,t),un(e,xt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e,on,br),un(e,xt()),null}function Gp(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(ii=xt()+500,du&&Ao())}}function ts(e){so!==null&&so.tag===0&&!(Ue&6)&&Os();var t=Ue;Ue|=1;var n=In.transition,r=Qe;try{if(In.transition=null,Qe=1,e)return e()}finally{Qe=r,In.transition=n,Ue=t,!(Ue&6)&&Ao()}}function Kp(){mn=Ts.current,ot(Ts)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QD(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Ap(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xc();break;case 3:oi(),ot(ln),ot(Kt),Fp();break;case 5:jp(r);break;case 4:oi();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:Ip(r.type._context);break;case 22:case 23:Kp()}n=n.return}if(It=e,Et=e=mo(e.current,null),jt=mn=t,At=0,ba=null,Wp=mu=es=0,on=Ji=null,Oo!==null){for(t=0;t<Oo.length;t++)if(n=Oo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Oo=null}return e}function zS(e,t){do{var n=Et;try{if(Mp(),Yl.current=Dc,Ac){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ac=!1}if(Jo=0,Mt=kt=ht=null,Xi=!1,wa=0,qp.current=null,n===null||n.return===null){At=1,ba=t,Et=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Gy(i);if(y!==null){y.flags&=-257,Ky(y,i,a,s,t),y.mode&1&&Hy(s,c,t),t=y,l=c;var g=t.updateQueue;if(g===null){var x=new Set;x.add(l),t.updateQueue=x}else g.add(l);break e}else{if(!(t&1)){Hy(s,c,t),Yp();break e}l=Error(W(426))}}else if(at&&a.mode&1){var b=Gy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ky(b,i,a,s,t),Dp(si(l,a));break e}}s=l=si(l,a),At!==4&&(At=2),Ji===null?Ji=[s]:Ji.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=TS(s,l,t);Uy(s,m);break e;case 1:a=l;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ho===null||!ho.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=kS(s,a,t);Uy(s,C);break e}}s=s.return}while(s!==null)}HS(n)}catch(E){t=E,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function qS(){var e=Rc.current;return Rc.current=Dc,e===null?Dc:e}function Yp(){(At===0||At===3||At===2)&&(At=4),It===null||!(es&268435455)&&!(mu&268435455)||Zr(It,jt)}function _c(e,t){var n=Ue;Ue|=2;var r=qS();(It!==e||jt!==t)&&(br=null,Ho(e,t));do try{SR();break}catch(o){zS(e,o)}while(!0);if(Mp(),Ue=n,Rc.current=r,Et!==null)throw Error(W(261));return It=null,jt=0,At}function SR(){for(;Et!==null;)WS(Et)}function bR(){for(;Et!==null&&!GA();)WS(Et)}function WS(e){var t=KS(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?HS(e):Et=t,qp.current=null}function HS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mR(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,Et=null;return}}else if(n=pR(n,t,mn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);At===0&&(At=5)}function No(e,t,n){var r=Qe,o=In.transition;try{In.transition=null,Qe=1,CR(e,t,n,r)}finally{In.transition=o,Qe=r}return null}function CR(e,t,n,r){do Os();while(so!==null);if(Ue&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(rD(e,s),e===It&&(Et=It=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,YS(pc,function(){return Os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var i=Qe;Qe=1;var a=Ue;Ue|=4,qp.current=null,yR(e,n),US(n,e),zD(Wf),gc=!!qf,Wf=qf=null,e.current=n,vR(n),KA(),Ue=a,Qe=i,In.transition=s}else e.current=n;if(bl&&(bl=!1,so=e,Ic=o),s=e.pendingLanes,s===0&&(ho=null),XA(n.stateNode),un(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Mc)throw Mc=!1,e=dh,dh=null,e;return Ic&1&&e.tag!==0&&Os(),s=e.pendingLanes,s&1?e===fh?ea++:(ea=0,fh=e):ea=0,Ao(),null}function Os(){if(so!==null){var e=Tx(Ic),t=In.transition,n=Qe;try{if(In.transition=null,Qe=16>e?16:e,so===null)var r=!1;else{if(e=so,so=null,Ic=0,Ue&6)throw Error(W(331));var o=Ue;for(Ue|=4,le=e.current;le!==null;){var s=le,i=s.child;if(le.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Zi(8,d,s)}var u=d.child;if(u!==null)u.return=d,le=u;else for(;le!==null;){d=le;var h=d.sibling,y=d.return;if(FS(d),d===c){le=null;break}if(h!==null){h.return=y,le=h;break}le=y}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}le=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,le=i;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,le=m;break e}le=s.return}}var v=e.current;for(le=v;le!==null;){i=le;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,le=S;else e:for(i=v;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pu(9,a)}}catch(E){yt(a,a.return,E)}if(a===i){le=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,le=C;break e}le=a.return}}if(Ue=o,Ao(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(iu,e)}catch{}r=!0}return r}finally{Qe=n,In.transition=t}}return!1}function av(e,t,n){t=si(n,t),t=TS(e,t,1),e=fo(e,t,1),t=Jt(),e!==null&&(Ba(e,1,t),un(e,t))}function yt(e,t,n){if(e.tag===3)av(e,e,n);else for(;t!==null;){if(t.tag===3){av(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){e=si(n,e),e=kS(t,e,1),t=fo(t,e,1),e=Jt(),t!==null&&(Ba(t,1,e),un(t,e));break}}t=t.return}}function ER(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&n,It===e&&(jt&n)===n&&(At===4||At===3&&(jt&130023424)===jt&&500>xt()-Hp?Ho(e,0):Wp|=n),un(e,t)}function GS(e,t){t===0&&(e.mode&1?(t=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):t=1);var n=Jt();e=Ir(e,t),e!==null&&(Ba(e,t,n),un(e,n))}function PR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GS(e,n)}function TR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),GS(e,n)}var KS;KS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,hR(e,t,n);an=!!(e.flags&131072)}else an=!1,at&&t.flags&1048576&&Zx(t,Cc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xl(e,t),e=t.pendingProps;var o=ti(t,Kt.current);Fs(t,n),o=$p(null,t,r,e,o,n);var s=Up();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(s=!0,Sc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Np(t),o.updater=hu,t.stateNode=o,o._reactInternals=t,eh(t,r,e,n),t=rh(null,t,r,!0,s,n)):(t.tag=0,at&&s&&kp(t),Xt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=AR(r),e=Un(r,e),o){case 0:t=nh(null,t,r,e,n);break e;case 1:t=Xy(null,t,r,e,n);break e;case 11:t=Yy(null,t,r,e,n);break e;case 14:t=Qy(null,t,r,Un(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),nh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),Xy(e,t,r,o,n);case 3:e:{if(MS(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,oS(e,t),Tc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=si(Error(W(423)),t),t=Zy(e,t,r,n,o);break e}else if(r!==o){o=si(Error(W(424)),t),t=Zy(e,t,r,n,o);break e}else for(yn=uo(t.stateNode.containerInfo.firstChild),vn=t,at=!0,qn=null,n=nS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===o){t=_r(e,t,n);break e}Xt(e,t,r,n)}t=t.child}return t;case 5:return sS(t),e===null&&Xf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Hf(r,o)?i=null:s!==null&&Hf(r,s)&&(t.flags|=32),RS(e,t),Xt(e,t,i,n),t.child;case 6:return e===null&&Xf(t),null;case 13:return IS(e,t,n);case 4:return Lp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):Xt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),Yy(e,t,r,o,n);case 7:return Xt(e,t,t.pendingProps,n),t.child;case 8:return Xt(e,t,t.pendingProps.children,n),t.child;case 12:return Xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,tt(Ec,r._currentValue),r._currentValue=i,s!==null)if(Kn(s.value,i)){if(s.children===o.children&&!ln.current){t=_r(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Zf(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Xt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Fs(t,n),o=Nn(o),r=r(o),t.flags|=1,Xt(e,t,r,n),t.child;case 14:return r=t.type,o=Un(r,t.pendingProps),o=Un(r.type,o),Qy(e,t,r,o,n);case 15:return AS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Un(r,o),Xl(e,t),t.tag=1,cn(r)?(e=!0,Sc(t)):e=!1,Fs(t,n),PS(t,r,o),eh(t,r,o,n),rh(null,t,r,!0,e,n);case 19:return _S(e,t,n);case 22:return DS(e,t,n)}throw Error(W(156,t.tag))};function YS(e,t){return bx(e,t)}function kR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new kR(e,t,n,r)}function Qp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AR(e){if(typeof e=="function")return Qp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mp)return 11;if(e===gp)return 14}return 2}function mo(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ec(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Qp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case gs:return Go(n.children,o,s,t);case pp:i=8,o|=8;break;case Ef:return e=Mn(12,n,t,o|2),e.elementType=Ef,e.lanes=s,e;case Pf:return e=Mn(13,n,t,o),e.elementType=Pf,e.lanes=s,e;case Tf:return e=Mn(19,n,t,o),e.elementType=Tf,e.lanes=s,e;case sx:return gu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rx:i=10;break e;case ox:i=9;break e;case mp:i=11;break e;case gp:i=14;break e;case Kr:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Mn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Go(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function gu(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=sx,e.lanes=n,e.stateNode={isHidden:!1},e}function Dd(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Rd(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xp(e,t,n,r,o,s,i,a,l){return e=new DR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(s),e}function RR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QS(e){if(!e)return xo;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(cn(n))return Qx(e,n,t)}return t}function XS(e,t,n,r,o,s,i,a,l){return e=Xp(n,r,!0,e,o,s,i,a,l),e.context=QS(null),n=e.current,r=Jt(),o=po(n),s=kr(r,o),s.callback=t??null,fo(n,s,o),e.current.lanes=o,Ba(e,o,r),un(e,r),e}function yu(e,t,n,r){var o=t.current,s=Jt(),i=po(o);return n=QS(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fo(o,t,i),e!==null&&(Hn(e,o,i,s),Kl(e,o,i)),i}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zp(e,t){lv(e,t),(e=e.alternate)&&lv(e,t)}function MR(){return null}var ZS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}vu.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));yu(e,t,null,null)};vu.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){yu(null,e,null,null)}),t[Mr]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xr.length&&t!==0&&t<Xr[n].priority;n++);Xr.splice(n,0,e),n===0&&Mx(e)}};function em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cv(){}function IR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Nc(i);s.call(c)}}var i=XS(t,r,e,0,null,!1,!1,"",cv);return e._reactRootContainer=i,e[Mr]=i.current,pa(e.nodeType===8?e.parentNode:e),ts(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Nc(l);a.call(c)}}var l=Xp(e,0,!1,null,null,!1,!1,"",cv);return e._reactRootContainer=l,e[Mr]=l.current,pa(e.nodeType===8?e.parentNode:e),ts(function(){yu(t,l,n,r)}),l}function xu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Nc(i);a.call(l)}}yu(t,i,e,o)}else i=IR(n,t,e,o,r);return Nc(i)}kx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ui(t.pendingLanes);n!==0&&(wp(t,n|1),un(t,xt()),!(Ue&6)&&(ii=xt()+500,Ao()))}break;case 13:ts(function(){var r=Ir(e,1);if(r!==null){var o=Jt();Hn(r,e,1,o)}}),Zp(e,1)}};xp=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var n=Jt();Hn(t,e,134217728,n)}Zp(e,134217728)}};Ax=function(e){if(e.tag===13){var t=po(e),n=Ir(e,t);if(n!==null){var r=Jt();Hn(n,e,t,r)}Zp(e,t)}};Dx=function(){return Qe};Rx=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};jf=function(e,t,n){switch(t){case"input":if(Df(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=uu(r);if(!o)throw Error(W(90));ax(r),Df(r,o)}}}break;case"textarea":cx(e,n);break;case"select":t=n.value,t!=null&&_s(e,!!n.multiple,t,!1)}};gx=Gp;yx=ts;var _R={usingClientEntryPoint:!1,Events:[qa,xs,uu,px,mx,Gp]},Ii={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{iu=Cl.inject(NR),ur=Cl}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_R;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(t))throw Error(W(200));return RR(e,t,null,n)};bn.createRoot=function(e,t){if(!em(e))throw Error(W(299));var n=!1,r="",o=ZS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xp(e,1,!1,null,null,n,!1,r,o),e[Mr]=t.current,pa(e.nodeType===8?e.parentNode:e),new Jp(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=xx(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return ts(e)};bn.hydrate=function(e,t,n){if(!wu(t))throw Error(W(200));return xu(null,e,t,!0,n)};bn.hydrateRoot=function(e,t,n){if(!em(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=ZS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=XS(t,null,e,1,n??null,o,!1,s,i),e[Mr]=t.current,pa(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new vu(t)};bn.render=function(e,t,n){if(!wu(t))throw Error(W(200));return xu(null,e,t,!1,n)};bn.unmountComponentAtNode=function(e){if(!wu(e))throw Error(W(40));return e._reactRootContainer?(ts(function(){xu(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};bn.unstable_batchedUpdates=Gp;bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wu(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return xu(e,t,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(e){console.error(e)}}JS(),J0.exports=bn;var Ha=J0.exports;const LR=ip(Ha);var eb,uv=Ha;eb=uv.createRoot,uv.hydrateRoot;function jR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var tb={exports:{}},nb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=f;function FR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OR=typeof Object.is=="function"?Object.is:FR,$R=ai.useState,UR=ai.useEffect,VR=ai.useLayoutEffect,BR=ai.useDebugValue;function zR(e,t){var n=t(),r=$R({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return VR(function(){o.value=n,o.getSnapshot=t,Md(o)&&s({inst:o})},[e,n,t]),UR(function(){return Md(o)&&s({inst:o}),e(function(){Md(o)&&s({inst:o})})},[e]),BR(n),n}function Md(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!OR(e,n)}catch{return!0}}function qR(e,t){return t()}var WR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qR:zR;nb.useSyncExternalStore=ai.useSyncExternalStore!==void 0?ai.useSyncExternalStore:WR;tb.exports=nb;var HR=tb.exports;const GR=X0.useInsertionEffect,KR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YR=KR?f.useLayoutEffect:f.useEffect,QR=GR||YR,rb=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return QR(()=>{t[0]=e}),t[1]},XR="popstate",tm="pushState",nm="replaceState",ZR="hashchange",dv=[XR,tm,nm,ZR],JR=e=>{for(const t of dv)addEventListener(t,e);return()=>{for(const t of dv)removeEventListener(t,e)}},ob=(e,t)=>HR.useSyncExternalStore(JR,e,t),eM=()=>location.search,tM=({ssrSearch:e=""}={})=>ob(eM,()=>e),fv=()=>location.pathname,nM=({ssrPath:e}={})=>ob(fv,e?()=>e:fv),rM=(e,{replace:t=!1,state:n=null}={})=>history[t?nm:tm](n,"",e),oM=(e={})=>[nM(e),rM],hv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hv]>"u"){for(const e of[tm,nm]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,hv,{value:!0})}const sM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",sb=(e="")=>e==="/"?"":e,iM=(e,t)=>e[0]==="~"?e.slice(1):sb(t)+e,aM=(e="",t)=>sM(pv(sb(e)),pv(t)),pv=e=>{try{return decodeURI(e)}catch{return e}},ib={hook:oM,searchHook:tM,parser:jR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},ab=f.createContext(ib),Ga=()=>f.useContext(ab),lb={},cb=f.createContext(lb),lM=()=>f.useContext(cb),Su=e=>{const[t,n]=e.hook(e);return[aM(e.base,t),rb((r,o)=>n(iM(r,e.base),o))]},rm=()=>Su(Ga()),ub=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},db=({children:e,...t})=>{var d,u;const n=Ga(),r=t.hook?ib:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const y=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&y!==c[h]&&(a.current=c={...c}),c[h]=y,y!==r[h]&&(o=c)}return f.createElement(ab.Provider,{value:o,children:e})},mv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,cM=e=>{let t=f.useRef(lb),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},El=({path:e,nest:t,match:n,...r})=>{const o=Ga(),[s]=Su(o),[i,a,l]=n??ub(o.parser,e,s,t),c=cM({...lM(),...a});if(!i)return null;const d=l?f.createElement(db,{base:l},mv(r,c)):mv(r,c);return f.createElement(cb.Provider,{value:c,children:d})},uM=f.forwardRef((e,t)=>{const n=Ga(),[r,o]=Su(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...y}=e,g=rb(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),x=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:g,href:x}):f.createElement("a",{...y,onClick:g,href:x,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),fb=e=>Array.isArray(e)?e.flatMap(t=>fb(t&&t.type===f.Fragment?t.props.children:t)):[e],dM=({children:e,location:t})=>{const n=Ga(),[r]=Su(n);for(const o of fb(e)){let s=0;if(f.isValidElement(o)&&(s=ub(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null};var bu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cu=typeof window>"u"||"Deno"in globalThis;function Vn(){}function fM(e,t){return typeof e=="function"?e(t):e}function hM(e){return typeof e=="number"&&e>=0&&e!==1/0}function pM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gv(e,t){return typeof e=="function"?e(t):e}function mM(e,t){return typeof e=="function"?e(t):e}function yv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==om(i,t.options))return!1}else if(!Ea(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function vv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Ca(t.options.mutationKey)!==Ca(s))return!1}else if(!Ea(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function om(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ca)(e)}function Ca(e){return JSON.stringify(e,(t,n)=>mh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ea(e[n],t[n])):!1}function hb(e,t){if(e===t)return e;const n=wv(e)&&wv(t);if(n||mh(e)&&mh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=hb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function wv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mh(e){if(!xv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!xv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xv(e){return Object.prototype.toString.call(e)==="[object Object]"}function gM(e){return new Promise(t=>{setTimeout(t,e)})}function yM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?hb(e,t):t}function vM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var sm=Symbol();function pb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bo,Jr,Ws,_0,xM=(_0=class extends bu{constructor(){super();Ke(this,Bo);Ke(this,Jr);Ke(this,Ws);De(this,Ws,t=>{if(!Cu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Jr)||this.setEventListener(V(this,Ws))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Jr))==null||t.call(this),De(this,Jr,void 0))}setEventListener(t){var n;De(this,Ws,t),(n=V(this,Jr))==null||n.call(this),De(this,Jr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,Bo)!==t&&(De(this,Bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,Bo)=="boolean"?V(this,Bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bo=new WeakMap,Jr=new WeakMap,Ws=new WeakMap,_0),mb=new xM,Hs,eo,Gs,N0,SM=(N0=class extends bu{constructor(){super();Ke(this,Hs,!0);Ke(this,eo);Ke(this,Gs);De(this,Gs,t=>{if(!Cu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,eo)||this.setEventListener(V(this,Gs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,eo))==null||t.call(this),De(this,eo,void 0))}setEventListener(t){var n;De(this,Gs,t),(n=V(this,eo))==null||n.call(this),De(this,eo,t(this.setOnline.bind(this)))}setOnline(t){V(this,Hs)!==t&&(De(this,Hs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Hs)}},Hs=new WeakMap,eo=new WeakMap,Gs=new WeakMap,N0),Lc=new SM;function bM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function CM(e){return Math.min(1e3*2**e,3e4)}function gb(e){return(e??"online")==="online"?Lc.isOnline():!0}var yb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Id(e){return e instanceof yb}function vb(e){let t=!1,n=0,r=!1,o;const s=bM(),i=x=>{var b;r||(h(new yb(x)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>mb.isFocused()&&(e.networkMode==="always"||Lc.isOnline())&&e.canRun(),d=()=>gb(e.networkMode)&&e.canRun(),u=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),o==null||o(),s.resolve(x))},h=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),o==null||o(),s.reject(x))},y=()=>new Promise(x=>{var b;o=m=>{(r||c())&&x(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(u).catch(m=>{var P;if(r)return;const v=e.retry??(Cu?0:3),S=e.retryDelay??CM,C=typeof S=="function"?S(n,m):S,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),gM(C).then(()=>c()?void 0:y()).then(()=>{t?h(m):g()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?g():y().then(g),s)}}function EM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Zt=EM(),zo,L0,wb=(L0=class{constructor(){Ke(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hM(this.gcTime)&&De(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cu?1/0:5*60*1e3))}clearGcTimeout(){V(this,zo)&&(clearTimeout(V(this,zo)),De(this,zo,void 0))}},zo=new WeakMap,L0),Ks,Ys,An,Bt,$a,qo,Bn,Sr,j0,PM=(j0=class extends wb{constructor(t){super();Ke(this,Bn);Ke(this,Ks);Ke(this,Ys);Ke(this,An);Ke(this,Bt);Ke(this,$a);Ke(this,qo);De(this,qo,!1),De(this,$a,t.defaultOptions),this.setOptions(t.options),this.observers=[],De(this,An,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,De(this,Ks,kM(this.options)),this.state=t.state??V(this,Ks),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,Bt))==null?void 0:t.promise}setOptions(t){this.options={...V(this,$a),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,An).remove(this)}setData(t,n){const r=yM(this.state.data,t,this.options);return $t(this,Bn,Sr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,Bn,Sr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=V(this,Bt))==null?void 0:r.promise;return(o=V(this,Bt))==null||o.cancel(t),n?n.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ks))}isActive(){return this.observers.some(t=>mM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!pM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Bt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Bt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,An).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,Bt)&&(V(this,qo)?V(this,Bt).cancel({revert:!0}):V(this,Bt).cancelRetry()),this.scheduleGc()),V(this,An).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Bn,Sr).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Bt))return V(this,Bt).continueRetry(),V(this,Bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(De(this,qo,!0),r.signal)})},s=()=>{const u=pb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),De(this,qo,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),De(this,Ys,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&$t(this,Bn,Sr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,y,g,x;Id(u)&&u.silent||$t(this,Bn,Sr).call(this,{type:"error",error:u}),Id(u)||((y=(h=V(this,An).config).onError)==null||y.call(h,u,this),(x=(g=V(this,An).config).onSettled)==null||x.call(g,this.state.data,u,this)),this.scheduleGc()};return De(this,Bt,vb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,y,g,x;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){a(b);return}(y=(h=V(this,An).config).onSuccess)==null||y.call(h,u,this),(x=(g=V(this,An).config).onSettled)==null||x.call(g,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{$t(this,Bn,Sr).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{$t(this,Bn,Sr).call(this,{type:"pause"})},onContinue:()=>{$t(this,Bn,Sr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),V(this,Bt).start()}},Ks=new WeakMap,Ys=new WeakMap,An=new WeakMap,Bt=new WeakMap,$a=new WeakMap,qo=new WeakMap,Bn=new WeakSet,Sr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Id(o)&&o.revert&&V(this,Ys)?{...V(this,Ys),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,An).notify({query:this,type:"updated",action:t})})},j0);function TM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,F0,AM=(F0=class extends bu{constructor(t={}){super();Ke(this,rr);this.config=t,De(this,rr,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??om(o,n);let i=this.get(s);return i||(i=new PM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){V(this,rr).has(t.queryHash)||(V(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,rr).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,rr).get(t)}getAll(){return[...V(this,rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>yv(t,r)):n}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,F0),or,Qt,Wo,sr,qr,O0,DM=(O0=class extends wb{constructor(t){super();Ke(this,sr);Ke(this,or);Ke(this,Qt);Ke(this,Wo);this.mutationId=t.mutationId,De(this,Qt,t.mutationCache),De(this,or,[]),this.state=t.state||RM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,or).includes(t)||(V(this,or).push(t),this.clearGcTimeout(),V(this,Qt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){De(this,or,V(this,or).filter(n=>n!==t)),this.scheduleGc(),V(this,Qt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,or).length||(this.state.status==="pending"?this.scheduleGc():V(this,Qt).remove(this))}continue(){var t;return((t=V(this,Wo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,y,g,x,b,m,v,S,C,E,P,k;De(this,Wo,vb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{$t(this,sr,qr).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{$t(this,sr,qr).call(this,{type:"pause"})},onContinue:()=>{$t(this,sr,qr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Qt).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Wo).canStart();try{if(!n){$t(this,sr,qr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=V(this,Qt).config).onMutate)==null?void 0:s.call(o,t,this));const D=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));D!==this.state.context&&$t(this,sr,qr).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const A=await V(this,Wo).start();return await((c=(l=V(this,Qt).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,A,t,this.state.context)),await((y=(h=V(this,Qt).config).onSettled)==null?void 0:y.call(h,A,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,A,null,t,this.state.context)),$t(this,sr,qr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(b=V(this,Qt).config).onError)==null?void 0:m.call(b,A,t,this.state.context,this)),await((S=(v=this.options).onError)==null?void 0:S.call(v,A,t,this.state.context)),await((E=(C=V(this,Qt).config).onSettled)==null?void 0:E.call(C,void 0,A,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context)),A}finally{$t(this,sr,qr).call(this,{type:"error",error:A})}}finally{V(this,Qt).runNext(this)}}},or=new WeakMap,Qt=new WeakMap,Wo=new WeakMap,sr=new WeakSet,qr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Zt.batch(()=>{V(this,or).forEach(r=>{r.onMutationUpdate(t)}),V(this,Qt).notify({mutation:this,type:"updated",action:t})})},O0);function RM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,Ua,$0,MM=($0=class extends bu{constructor(t={}){super();Ke(this,pn);Ke(this,Ua);this.config=t,De(this,pn,new Map),De(this,Ua,Date.now())}build(t,n,r){const o=new DM({mutationCache:this,mutationId:++il(this,Ua)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=Pl(t),r=V(this,pn).get(n)??[];r.push(t),V(this,pn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Pl(t);if(V(this,pn).has(n)){const o=(r=V(this,pn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?V(this,pn).delete(n):V(this,pn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=V(this,pn).get(Pl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=V(this,pn).get(Pl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,pn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>vv(n,r))}findAll(t={}){return this.getAll().filter(n=>vv(t,n))}notify(t){Zt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vn))))}},pn=new WeakMap,Ua=new WeakMap,$0);function Pl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Sv(e){return{onFetch:(t,n)=>{var d,u,h,y,g;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},m=pb(t.options,t.fetchOptions),v=async(S,C,E)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const k=await m(P),{maxPages:A}=t.options,D=E?wM:vM;return{pages:D(S.pages,k,A),pageParams:D(S.pageParams,C,A)}};if(o&&s.length){const S=o==="backward",C=S?IM:bv,E={pages:s,pageParams:i},P=C(r,E);a=await v(E,P,S)}else{const S=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:bv(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function bv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var mt,to,no,Qs,Xs,ro,Zs,Js,U0,_M=(U0=class{constructor(e={}){Ke(this,mt);Ke(this,to);Ke(this,no);Ke(this,Qs);Ke(this,Xs);Ke(this,ro);Ke(this,Zs);Ke(this,Js);De(this,mt,e.queryCache||new AM),De(this,to,e.mutationCache||new MM),De(this,no,e.defaultOptions||{}),De(this,Qs,new Map),De(this,Xs,new Map),De(this,ro,0)}mount(){il(this,ro)._++,V(this,ro)===1&&(De(this,Zs,mb.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,mt).onFocus())})),De(this,Js,Lc.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,mt).onOnline())})))}unmount(){var e,t;il(this,ro)._--,V(this,ro)===0&&((e=V(this,Zs))==null||e.call(this),De(this,Zs,void 0),(t=V(this,Js))==null||t.call(this),De(this,Js,void 0))}isFetching(e){return V(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,to).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,mt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(gv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=V(this,mt).get(r.queryHash),s=o==null?void 0:o.state.data,i=fM(t,s);if(i!==void 0)return V(this,mt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Zt.batch(()=>V(this,mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,mt);Zt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,mt),r={type:"active",...e};return Zt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Zt.batch(()=>V(this,mt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(e={},t={}){return Zt.batch(()=>{if(V(this,mt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Zt.batch(()=>V(this,mt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,mt).build(this,t);return n.isStaleByTime(gv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=Sv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=Sv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lc.isOnline()?V(this,to).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,mt)}getMutationCache(){return V(this,to)}getDefaultOptions(){return V(this,no)}setDefaultOptions(e){De(this,no,e)}setQueryDefaults(e,t){V(this,Qs).set(Ca(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Qs).values()];let n={};return t.forEach(r=>{Ea(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){V(this,Xs).set(Ca(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Xs).values()];let n={};return t.forEach(r=>{Ea(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,no).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=om(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===sm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,no).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,mt).clear(),V(this,to).clear()}},mt=new WeakMap,to=new WeakMap,no=new WeakMap,Qs=new WeakMap,Xs=new WeakMap,ro=new WeakMap,Zs=new WeakMap,Js=new WeakMap,U0),NM=f.createContext(void 0),LM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(NM.Provider,{value:e,children:t}));async function jM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const FM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await jM(n),await n.json())},OM=new _M({defaultOptions:{queries:{queryFn:FM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),$M=1,UM=1e6;let _d=0;function VM(){return _d=(_d+1)%Number.MAX_SAFE_INTEGER,_d.toString()}const Nd=new Map,Cv=e=>{if(Nd.has(e))return;const t=setTimeout(()=>{Nd.delete(e),ta({type:"REMOVE_TOAST",toastId:e})},UM);Nd.set(e,t)},BM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$M)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Cv(n):e.toasts.forEach(r=>{Cv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},tc=[];let nc={toasts:[]};function ta(e){nc=BM(nc,e),tc.forEach(t=>{t(nc)})}function zM({...e}){const t=VM(),n=o=>ta({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ta({type:"DISMISS_TOAST",toastId:t});return ta({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Ka(){const[e,t]=f.useState(nc);return f.useEffect(()=>(tc.push(t),()=>{const n=tc.indexOf(t);n>-1&&tc.splice(n,1)}),[e]),{...e,toast:zM,dismiss:n=>ta({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ev(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Eu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Ev(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Ev(e[o],null)}}}}function Le(...e){return f.useCallback(Eu(...e),e)}function qM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function dn(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:y,...g}=u,x=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>g,Object.values(g));return p.jsx(x.Provider,{value:b,children:y})};c.displayName=s+"Provider";function d(u,h){var x;const y=((x=h==null?void 0:h[e])==null?void 0:x[l])||a,g=f.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,WM(o,...t)]}function WM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function li(e){const t=GM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(KM);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var HM=li("Slot");function GM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=QM(o),a=YM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Eu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xb=Symbol("radix.slottable");function Sb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=xb,t}function KM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xb}function YM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function QM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Pu(e){const t=e+"CollectionProvider",[n,r]=dn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:m}=x,v=Ct.useRef(null),S=Ct.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:S,collectionRef:v,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=li(a),c=Ct.forwardRef((x,b)=>{const{scope:m,children:v}=x,S=s(a,m),C=Le(b,S.collectionRef);return p.jsx(l,{ref:C,children:v})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=li(d),y=Ct.forwardRef((x,b)=>{const{scope:m,children:v,...S}=x,C=Ct.useRef(null),E=Le(b,C),P=s(d,m);return Ct.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:v})});y.displayName=d;function g(x){const b=s(e+"CollectionConsumer",x);return Ct.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,k)=>S.indexOf(P.ref.current)-S.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:y},g,r]}var XM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=XM.reduce((e,t)=>{const n=li(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function im(e,t){e&&Ha.flushSync(()=>e.dispatchEvent(t))}function ut(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ZM(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var JM="DismissableLayer",gh="dismissableLayer.update",eI="dismissableLayer.pointerDownOutside",tI="dismissableLayer.focusOutside",Pv,bb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ya=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(bb),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),g=Le(t,k=>u(k)),x=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(b),v=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=m,E=rI(k=>{const A=k.target,D=[...c.branches].some(M=>M.contains(A));!C||D||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=oI(k=>{const A=k.target;[...c.branches].some(M=>M.contains(A))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return ZM(k=>{v===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Pv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Tv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Pv)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Tv())},[d,c]),f.useEffect(()=>{const k=()=>y({});return document.addEventListener(gh,k),()=>document.removeEventListener(gh,k)},[]),p.jsx(we.div,{...l,ref:g,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,P.onFocusCapture),onBlurCapture:re(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,E.onPointerDownCapture)})});Ya.displayName=JM;var nI="DismissableLayerBranch",Cb=f.forwardRef((e,t)=>{const n=f.useContext(bb),r=f.useRef(null),o=Le(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(we.div,{...e,ref:o})});Cb.displayName=nI;function rI(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Eb(eI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oI(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Eb(tI,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tv(){const e=new CustomEvent(gh);document.dispatchEvent(e)}function Eb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?im(o,s):o.dispatchEvent(s)}var sI=Ya,iI=Cb,jn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},aI="Portal",Tu=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);jn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?LR.createPortal(p.jsx(we.div,{...r,ref:t}),i):null});Tu.displayName=aI;function lI(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var fn=e=>{const{present:t,children:n}=e,r=cI(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Le(r.ref,uI(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};fn.displayName="Presence";function cI(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=lI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Tl(r.current);s.current=a==="mounted"?c:"none"},[a]),jn(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,y=Tl(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),jn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=y=>{const x=Tl(r.current).includes(y.animationName);if(y.target===t&&x&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=y=>{y.target===t&&(s.current=Tl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Tl(e){return(e==null?void 0:e.animationName)||"none"}function uI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=dI({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=ut(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function dI({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=ut(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var fI="VisuallyHidden",ku=f.forwardRef((e,t)=>p.jsx(we.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ku.displayName=fI;var hI=ku,am="ToastProvider",[lm,pI,mI]=Pu("Toast"),[Pb,H4]=dn("Toast",[mI]),[gI,Au]=Pb(am),Tb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${am}\`. Expected non-empty \`string\`.`),p.jsx(lm.Provider,{scope:t,children:p.jsx(gI,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(y=>y+1),[]),onToastRemove:f.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};Tb.displayName=am;var kb="ToastViewport",yI=["F8"],yh="toast.viewportPause",vh="toast.viewportResume",Ab=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=yI,label:o="Notifications ({hotkey})",...s}=e,i=Au(kb,n),a=pI(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=Le(t,u,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;f.useEffect(()=>{const b=m=>{var S;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((S=u.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=u.current;if(g&&b&&m){const v=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(yh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(vh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&S()},E=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",v),b.addEventListener("focusout",C),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[g,i.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:b})=>{const v=a().map(S=>{const C=S.ref.current,E=[C,...RI(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return f.useEffect(()=>{const b=u.current;if(b){const m=v=>{var E,P,k;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const A=document.activeElement,D=v.shiftKey;if(v.target===b&&D){(E=c.current)==null||E.focus();return}const F=x({tabbingDirection:D?"backwards":"forwards"}),H=F.findIndex(O=>O===A);Ld(F.slice(H+1))?v.preventDefault():D?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,x]),p.jsxs(iI,{ref:l,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(wh,{ref:c,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Ld(b)}}),p.jsx(lm.Slot,{scope:n,children:p.jsx(we.ol,{tabIndex:-1,...s,ref:h})}),g&&p.jsx(wh,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Ld(b)}})]})});Ab.displayName=kb;var Db="ToastFocusProxy",wh=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Au(Db,n);return p.jsx(ku,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});wh.displayName=Db;var Du="Toast",vI="toast.swipeStart",wI="toast.swipeMove",xI="toast.swipeCancel",SI="toast.swipeEnd",Rb=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=yr({prop:r,defaultProp:o,onChange:s});return p.jsx(fn,{present:n||a,children:p.jsx(EI,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:ut(e.onPause),onResume:ut(e.onResume),onSwipeStart:re(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:re(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Rb.displayName=Du;var[bI,CI]=Pb(Du,{onClose(){}}),EI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:y,...g}=e,x=Au(Du,n),[b,m]=f.useState(null),v=Le(t,O=>m(O)),S=f.useRef(null),C=f.useRef(null),E=o||x.duration,P=f.useRef(0),k=f.useRef(E),A=f.useRef(0),{onToastAdd:D,onToastRemove:M}=x,j=ut(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=x.viewport)==null||z.focus()),i()}),F=f.useCallback(O=>{!O||O===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(j,O))},[j]);f.useEffect(()=>{const O=x.viewport;if(O){const z=()=>{F(k.current),c==null||c()},N=()=>{const L=new Date().getTime()-P.current;k.current=k.current-L,window.clearTimeout(A.current),l==null||l()};return O.addEventListener(yh,N),O.addEventListener(vh,z),()=>{O.removeEventListener(yh,N),O.removeEventListener(vh,z)}}},[x.viewport,E,l,c,F]),f.useEffect(()=>{s&&!x.isClosePausedRef.current&&F(E)},[s,E,x.isClosePausedRef,F]),f.useEffect(()=>(D(),()=>M()),[D,M]);const H=f.useMemo(()=>b?Fb(b):null,[b]);return x.viewport?p.jsxs(p.Fragment,{children:[H&&p.jsx(PI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),p.jsx(bI,{scope:n,onClose:j,children:Ha.createPortal(p.jsx(lm.ItemSlot,{scope:n,children:p.jsx(sI,{asChild:!0,onEscapeKeyDown:re(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||j(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:re(e.onPointerDown,O=>{O.button===0&&(S.current={x:O.clientX,y:O.clientY})}),onPointerMove:re(e.onPointerMove,O=>{if(!S.current)return;const z=O.clientX-S.current.x,N=O.clientY-S.current.y,L=!!C.current,R=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,$=R?I(0,z):0,G=R?0:I(0,N),J=O.pointerType==="touch"?10:2,ee={x:$,y:G},de={originalEvent:O,delta:ee};L?(C.current=ee,kl(wI,u,de,{discrete:!1})):kv(ee,x.swipeDirection,J)?(C.current=ee,kl(vI,d,de,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(z)>J||Math.abs(N)>J)&&(S.current=null)}),onPointerUp:re(e.onPointerUp,O=>{const z=C.current,N=O.target;if(N.hasPointerCapture(O.pointerId)&&N.releasePointerCapture(O.pointerId),C.current=null,S.current=null,z){const L=O.currentTarget,R={originalEvent:O,delta:z};kv(z,x.swipeDirection,x.swipeThreshold)?kl(SI,y,R,{discrete:!0}):kl(xI,h,R,{discrete:!0}),L.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),PI=e=>{const{__scopeToast:t,children:n,...r}=e,o=Au(Du,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return AI(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Tu,{asChild:!0,children:p.jsx(ku,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},TI="ToastTitle",Mb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(we.div,{...r,ref:t})});Mb.displayName=TI;var kI="ToastDescription",Ib=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(we.div,{...r,ref:t})});Ib.displayName=kI;var _b="ToastAction",Nb=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(jb,{altText:n,asChild:!0,children:p.jsx(cm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_b}\`. Expected non-empty \`string\`.`),null)});Nb.displayName=_b;var Lb="ToastClose",cm=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=CI(Lb,n);return p.jsx(jb,{asChild:!0,children:p.jsx(we.button,{type:"button",...r,ref:t,onClick:re(e.onClick,o.onClose)})})});cm.displayName=Lb;var jb=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Fb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),DI(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Fb(r))}}),t}function kl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?im(o,s):o.dispatchEvent(s)}var kv=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function AI(e=()=>{}){const t=ut(e);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function DI(e){return e.nodeType===e.ELEMENT_NODE}function RI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ld(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var MI=Tb,Ob=Ab,$b=Rb,Ub=Mb,Vb=Ib,Bb=Nb,zb=cm;function qb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=qb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=qb(e))&&(r&&(r+=" "),r+=t);return r}const Av=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dv=Wb,Qa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Dv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=Av(d)||Av(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...y}=d;return Object.entries(y).every(g=>{let[x,b]=g;return Array.isArray(b)?b.includes({...s,...a}[x]):{...s,...a}[x]===b})?[...c,u,h]:c},[]);return Dv(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _I={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,..._I,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Hb("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(NI,{ref:s,iconNode:t,className:Hb(`lucide-${II(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ve("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ve("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ve("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ve("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Ve("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ve("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),dm="-",n_=e=>{const t=o_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(dm);return a[0]===""&&a.length!==1&&a.shift(),tC(a,t)||r_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},tC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?tC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(dm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Mv=/^\[(.+)\]$/,r_=e=>{if(Mv.test(e)){const t=Mv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},o_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return i_(Object.entries(e.classGroups),n).forEach(([s,i])=>{xh(i,r,s,t)}),r},xh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Iv(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(s_(o)){xh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{xh(i,Iv(t,s),n,r)})})},Iv=(e,t)=>{let n=e;return t.split(dm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},s_=e=>e.isThemeGetter,i_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,a_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},nC="!",l_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(m==="/"){u=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),y=h.startsWith(nC),g=y?h.substring(1):h,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:i}):i},c_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},u_=e=>({cache:a_(e.cacheSize),parseClassName:l_(e),...n_(e)}),d_=/\s+/,f_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(d_);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let g=!!y,x=r(g?h.substring(0,y):h);if(!x){if(!g){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}g=!1}const b=c_(d).join(":"),m=u?b+nC:b,v=m+x;if(s.includes(v))continue;s.push(v);const S=o(x,g);for(let C=0;C<S.length;++C){const E=S[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function h_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=rC(t))&&(r&&(r+=" "),r+=n);return r}const rC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=rC(e[r]))&&(n&&(n+=" "),n+=t);return n};function p_(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=u_(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=f_(l,n);return o(l,d),d}return function(){return s(h_.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},oC=/^\[(?:([a-z-]+):)?(.+)\]$/i,m_=/^\d+\/\d+$/,g_=new Set(["px","full","screen"]),y_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xr=e=>$s(e)||g_.has(e)||m_.test(e),Br=e=>vi(e,"length",D_),$s=e=>!!e&&!Number.isNaN(Number(e)),jd=e=>vi(e,"number",$s),_i=e=>!!e&&Number.isInteger(Number(e)),b_=e=>e.endsWith("%")&&$s(e.slice(0,-1)),Ae=e=>oC.test(e),zr=e=>y_.test(e),C_=new Set(["length","size","percentage"]),E_=e=>vi(e,C_,sC),P_=e=>vi(e,"position",sC),T_=new Set(["image","url"]),k_=e=>vi(e,T_,M_),A_=e=>vi(e,"",R_),Ni=()=>!0,vi=(e,t,n)=>{const r=oC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},D_=e=>v_.test(e)&&!w_.test(e),sC=()=>!1,R_=e=>x_.test(e),M_=e=>S_.test(e),I_=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),o=nt("borderColor"),s=nt("borderRadius"),i=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),d=nt("hueRotate"),u=nt("invert"),h=nt("gap"),y=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),x=nt("inset"),b=nt("margin"),m=nt("opacity"),v=nt("padding"),S=nt("saturate"),C=nt("scale"),E=nt("sepia"),P=nt("skew"),k=nt("space"),A=nt("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ae,t],F=()=>[Ae,t],H=()=>["",xr,Br],O=()=>["auto",$s,Ae],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Ae],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[$s,Ae];return{cacheSize:500,separator:":",theme:{colors:[Ni],spacing:[xr,Br],blur:["none","",zr,Ae],brightness:G(),borderColor:[e],borderRadius:["none","","full",zr,Ae],borderSpacing:F(),borderWidth:H(),contrast:G(),grayscale:I(),hueRotate:G(),invert:I(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[b_,Br],inset:j(),margin:j(),opacity:G(),padding:F(),saturate:G(),scale:G(),sepia:I(),skew:G(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[zr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ae]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_i,Ae]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",_i,Ae]}],"grid-cols":[{"grid-cols":[Ni]}],"col-start-end":[{col:["auto",{span:["full",_i,Ae]},Ae]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Ni]}],"row-start-end":[{row:["auto",{span:[_i,Ae]},Ae]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[zr]},zr]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zr,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jd]}],"font-family":[{font:[Ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",$s,jd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xr,Br]}],"underline-offset":[{"underline-offset":["auto",xr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),P_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},k_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[xr,Ae]}],"outline-w":[{outline:[xr,Br]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[xr,Br]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zr,A_]}],"shadow-color":[{shadow:[Ni]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zr,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[_i,Ae]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xr,Br,jd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},__=p_(I_);function N_(e){throw new Error("Unexpected object: "+e)}function ne(...e){return __(Wb(e))}function L_(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const j_=MI,iC=f.forwardRef(({className:e,...t},n)=>p.jsx(Ob,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));iC.displayName=Ob.displayName;const F_=Qa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx($b,{ref:r,className:ne(F_({variant:t}),e),...n}));aC.displayName=$b.displayName;const O_=f.forwardRef(({className:e,...t},n)=>p.jsx(Bb,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));O_.displayName=Bb.displayName;const lC=f.forwardRef(({className:e,...t},n)=>p.jsx(zb,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Ru,{className:"h-4 w-4"})}));lC.displayName=zb.displayName;const cC=f.forwardRef(({className:e,...t},n)=>p.jsx(Ub,{ref:n,className:ne("text-sm font-semibold",e),...t}));cC.displayName=Ub.displayName;const uC=f.forwardRef(({className:e,...t},n)=>p.jsx(Vb,{ref:n,className:ne("text-sm opacity-90",e),...t}));uC.displayName=Vb.displayName;function $_(){const{toasts:e}=Ka();return p.jsxs(j_,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(aC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(cC,{children:n}),r&&p.jsx(uC,{children:r})]}),o,p.jsx(lC,{})]},t)}),p.jsx(iC,{})]})}var U_=X0[" useId ".trim().toString()]||(()=>{}),V_=0;function Ko(e){const[t,n]=f.useState(U_());return jn(()=>{n(r=>r??String(V_++))},[e]),t?`radix-${t}`:""}const B_=["top","right","bottom","left"],So=Math.min,gn=Math.max,jc=Math.round,Al=Math.floor,fr=e=>({x:e,y:e}),z_={left:"right",right:"left",bottom:"top",top:"bottom"},q_={start:"end",end:"start"};function Sh(e,t,n){return gn(e,So(t,n))}function Nr(e,t){return typeof e=="function"?e(t):e}function Lr(e){return e.split("-")[0]}function wi(e){return e.split("-")[1]}function fm(e){return e==="x"?"y":"x"}function hm(e){return e==="y"?"height":"width"}function bo(e){return["top","bottom"].includes(Lr(e))?"y":"x"}function pm(e){return fm(bo(e))}function W_(e,t,n){n===void 0&&(n=!1);const r=wi(e),o=pm(e),s=hm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Fc(i)),[i,Fc(i)]}function H_(e){const t=Fc(e);return[bh(e),t,bh(t)]}function bh(e){return e.replace(/start|end/g,t=>q_[t])}function G_(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function K_(e,t,n,r){const o=wi(e);let s=G_(Lr(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(bh)))),s}function Fc(e){return e.replace(/left|right|bottom|top/g,t=>z_[t])}function Y_(e){return{top:0,right:0,bottom:0,left:0,...e}}function dC(e){return typeof e!="number"?Y_(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function _v(e,t,n){let{reference:r,floating:o}=e;const s=bo(t),i=pm(t),a=hm(i),l=Lr(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-o.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:u};break;case"left":y={x:r.x-o.width,y:u};break;default:y={x:r.x,y:r.y}}switch(wi(t)){case"start":y[i]-=h*(n&&c?-1:1);break;case"end":y[i]+=h*(n&&c?-1:1);break}return y}const Q_=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=_v(c,r,l),h=r,y={},g=0;for(let x=0;x<a.length;x++){const{name:b,fn:m}=a[x],{x:v,y:S,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:y,rects:c,platform:i,elements:{reference:e,floating:t}});d=v??d,u=S??u,y={...y,[b]:{...y[b],...C}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=_v(c,h,l)),x=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:y}};async function Pa(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:y=0}=Nr(t,e),g=dC(y),b=a[h?u==="floating"?"reference":"floating":u],m=Oc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Oc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:l}):v);return{top:(m.top-E.top+g.top)/C.y,bottom:(E.bottom-m.bottom+g.bottom)/C.y,left:(m.left-E.left+g.left)/C.x,right:(E.right-m.right+g.right)/C.x}}const X_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Nr(e,t)||{};if(c==null)return{};const u=dC(d),h={x:n,y:r},y=pm(o),g=hm(y),x=await i.getDimensions(c),b=y==="y",m=b?"top":"left",v=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=s.reference[g]+s.reference[y]-h[y]-s.floating[g],E=h[y]-s.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[S]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[S]||s.floating[g]);const A=C/2-E/2,D=k/2-x[g]/2-1,M=So(u[m],D),j=So(u[v],D),F=M,H=k-x[g]-j,O=k/2-x[g]/2+A,z=Sh(F,O,H),N=!l.arrow&&wi(o)!=null&&O!==z&&s.reference[g]/2-(O<F?M:j)-x[g]/2<0,L=N?O<F?O-F:O-H:0;return{[y]:h[y]+L,data:{[y]:z,centerOffset:O-z-L,...N&&{alignmentOffset:L}},reset:N}}}),Z_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...b}=Nr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Lr(o),v=bo(a),S=Lr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(S||!x?[Fc(a)]:H_(a)),P=g!=="none";!h&&P&&E.push(...K_(a,x,g,C));const k=[a,...E],A=await Pa(t,b),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&D.push(A[m]),u){const O=W_(o,i,C);D.push(A[O[0]],A[O[1]])}if(M=[...M,{placement:o,overflows:D}],!D.every(O=>O<=0)){var j,F;const O=(((j=s.flip)==null?void 0:j.index)||0)+1,z=k[O];if(z)return{data:{index:O,overflows:M},reset:{placement:z}};let N=(F=M.filter(L=>L.overflows[0]<=0).sort((L,R)=>L.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!N)switch(y){case"bestFit":{var H;const L=(H=M.filter(R=>{if(P){const I=bo(R.placement);return I===v||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,$)=>I+$,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:H[0];L&&(N=L);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Nv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lv(e){return B_.some(t=>e[t]>=0)}const J_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Nr(e,t);switch(r){case"referenceHidden":{const s=await Pa(t,{...o,elementContext:"reference"}),i=Nv(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Lv(i)}}}case"escaped":{const s=await Pa(t,{...o,altBoundary:!0}),i=Nv(s,n.floating);return{data:{escapedOffsets:i,escaped:Lv(i)}}}default:return{}}}}};async function eN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Lr(n),a=wi(n),l=bo(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=Nr(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof g=="number"&&(y=a==="end"?g*-1:g),l?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const tN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await eN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},nN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:v}=b;return{x:m,y:v}}},...l}=Nr(e,t),c={x:n,y:r},d=await Pa(t,l),u=bo(Lr(o)),h=fm(u);let y=c[h],g=c[u];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",v=y+d[b],S=y-d[m];y=Sh(v,y,S)}if(i){const b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",v=g+d[b],S=g-d[m];g=Sh(v,g,S)}const x=a.fn({...t,[h]:y,[u]:g});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[u]:i}}}}}},rN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Nr(e,t),d={x:n,y:r},u=bo(o),h=fm(u);let y=d[h],g=d[u];const x=Nr(a,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=h==="y"?"height":"width",C=s.reference[h]-s.floating[S]+b.mainAxis,E=s.reference[h]+s.reference[S]-b.mainAxis;y<C?y=C:y>E&&(y=E)}if(c){var m,v;const S=h==="y"?"width":"height",C=["top","left"].includes(Lr(o)),E=s.reference[u]-s.floating[S]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:b.crossAxis),P=s.reference[u]+s.reference[S]+(C?0:((v=i.offset)==null?void 0:v[u])||0)-(C?b.crossAxis:0);g<E?g=E:g>P&&(g=P)}return{[h]:y,[u]:g}}}},oN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Nr(e,t),d=await Pa(t,c),u=Lr(o),h=wi(o),y=bo(o)==="y",{width:g,height:x}=s.floating;let b,m;u==="top"||u==="bottom"?(b=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,b=h==="end"?"top":"bottom");const v=x-d.top-d.bottom,S=g-d.left-d.right,C=So(x-d[b],v),E=So(g-d[m],S),P=!t.middlewareData.shift;let k=C,A=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=v),P&&!h){const M=gn(d.left,0),j=gn(d.right,0),F=gn(d.top,0),H=gn(d.bottom,0);y?A=g-2*(M!==0||j!==0?M+j:gn(d.left,d.right)):k=x-2*(F!==0||H!==0?F+H:gn(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const D=await i.getDimensions(a.floating);return g!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function Mu(){return typeof window<"u"}function xi(e){return fC(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(fC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fC(e){return Mu()?e instanceof Node||e instanceof wn(e).Node:!1}function Yn(e){return Mu()?e instanceof Element||e instanceof wn(e).Element:!1}function gr(e){return Mu()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function jv(e){return!Mu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function sN(e){return["table","td","th"].includes(xi(e))}function Iu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function mm(e){const t=gm(),n=Yn(e)?Qn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iN(e){let t=Co(e);for(;gr(t)&&!ci(t);){if(mm(t))return t;if(Iu(t))return null;t=Co(t)}return null}function gm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ci(e){return["html","body","#document"].includes(xi(e))}function Qn(e){return wn(e).getComputedStyle(e)}function _u(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Co(e){if(xi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jv(e)&&e.host||vr(e);return jv(t)?t.host:t}function hC(e){const t=Co(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:gr(t)&&Xa(t)?t:hC(t)}function Ta(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=hC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=wn(o);if(s){const a=Ch(i);return t.concat(i,i.visualViewport||[],Xa(o)?o:[],a&&n?Ta(a):[])}return t.concat(o,Ta(o,[],n))}function Ch(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pC(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=jc(n)!==s||jc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function ym(e){return Yn(e)?e:e.contextElement}function Us(e){const t=ym(e);if(!gr(t))return fr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=pC(t);let i=(s?jc(n.width):n.width)/r,a=(s?jc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const aN=fr(0);function mC(e){const t=wn(e);return!gm()||!t.visualViewport?aN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wn(e)?!1:t}function ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=ym(e);let i=fr(1);t&&(r?Yn(r)&&(i=Us(r)):i=Us(e));const a=lN(s,n,r)?mC(s):fr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=wn(s),y=r&&Yn(r)?wn(r):r;let g=h,x=Ch(g);for(;x&&r&&y!==g;){const b=Us(x),m=x.getBoundingClientRect(),v=Qn(x),S=m.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,C=m.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,u*=b.y,l+=S,c+=C,g=wn(x),x=Ch(g)}}return Oc({width:d,height:u,x:l,y:c})}function vm(e,t){const n=_u(e).scrollLeft;return t?t.left+n:ns(vr(e)).left+n}function gC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:vm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function cN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=vr(r),a=t?Iu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=fr(1);const d=fr(0),u=gr(r);if((u||!u&&!s)&&((xi(r)!=="body"||Xa(i))&&(l=_u(r)),gr(r))){const y=ns(r);c=Us(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const h=i&&!u&&!s?gC(i,l,!0):fr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function uN(e){return Array.from(e.getClientRects())}function dN(e){const t=vr(e),n=_u(e),r=e.ownerDocument.body,o=gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+vm(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(i+=gn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function fN(e,t){const n=wn(e),r=vr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=gm();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function hN(e,t){const n=ns(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=gr(e)?Us(e):fr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Fv(e,t,n){let r;if(t==="viewport")r=fN(e,n);else if(t==="document")r=dN(vr(e));else if(Yn(t))r=hN(t,n);else{const o=mC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oc(r)}function yC(e,t){const n=Co(e);return n===t||!Yn(n)||ci(n)?!1:Qn(n).position==="fixed"||yC(n,t)}function pN(e,t){const n=t.get(e);if(n)return n;let r=Ta(e,[],!1).filter(a=>Yn(a)&&xi(a)!=="body"),o=null;const s=Qn(e).position==="fixed";let i=s?Co(e):e;for(;Yn(i)&&!ci(i);){const a=Qn(i),l=mm(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Xa(i)&&!l&&yC(e,i))?r=r.filter(d=>d!==i):o=a,i=Co(i)}return t.set(e,r),r}function mN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Iu(t)?[]:pN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=Fv(t,d,o);return c.top=gn(u.top,c.top),c.right=So(u.right,c.right),c.bottom=So(u.bottom,c.bottom),c.left=gn(u.left,c.left),c},Fv(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gN(e){const{width:t,height:n}=pC(e);return{width:t,height:n}}function yN(e,t,n){const r=gr(t),o=vr(t),s=n==="fixed",i=ns(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=fr(0);if(r||!r&&!s)if((xi(t)!=="body"||Xa(o))&&(a=_u(t)),r){const h=ns(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=vm(o));const c=o&&!r&&!s?gC(o,a):fr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function Fd(e){return Qn(e).position==="static"}function Ov(e,t){if(!gr(e)||Qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vr(e)===n&&(n=n.ownerDocument.body),n}function vC(e,t){const n=wn(e);if(Iu(e))return n;if(!gr(e)){let o=Co(e);for(;o&&!ci(o);){if(Yn(o)&&!Fd(o))return o;o=Co(o)}return n}let r=Ov(e,t);for(;r&&sN(r)&&Fd(r);)r=Ov(r,t);return r&&ci(r)&&Fd(r)&&!mm(r)?n:r||iN(e)||n}const vN=async function(e){const t=this.getOffsetParent||vC,n=this.getDimensions,r=await n(e.floating);return{reference:yN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wN(e){return Qn(e).direction==="rtl"}const xN={convertOffsetParentRelativeRectToViewportRelativeRect:cN,getDocumentElement:vr,getClippingRect:mN,getOffsetParent:vC,getElementRects:vN,getClientRects:uN,getDimensions:gN,getScale:Us,isElement:Yn,isRTL:wN};function wC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function SN(e,t){let n=null,r;const o=vr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:y}=c;if(a||t(),!h||!y)return;const g=Al(u),x=Al(o.clientWidth-(d+h)),b=Al(o.clientHeight-(u+y)),m=Al(d),S={rootMargin:-g+"px "+-x+"px "+-b+"px "+-m+"px",threshold:gn(0,So(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!wC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return i(!0),s}function bN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ym(e),d=o||s?[...c?Ta(c):[],...Ta(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?SN(c,n):null;let h=-1,y=null;i&&(y=new ResizeObserver(m=>{let[v]=m;v&&v.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let g,x=l?ns(e):null;l&&b();function b(){const m=ns(e);x&&!wC(x,m)&&n(),x=m,g=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),u==null||u(),(m=y)==null||m.disconnect(),y=null,l&&cancelAnimationFrame(g)}}const CN=tN,EN=nN,PN=Z_,TN=oN,kN=J_,$v=X_,AN=rN,DN=(e,t,n)=>{const r=new Map,o={platform:xN,...n},s={...o.platform,_c:r};return Q_(e,t,{...o,platform:s})};var rc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function $c(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$c(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!$c(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function xC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uv(e,t){const n=xC(e);return Math.round(t*n)/n}function Od(e){const t=f.useRef(e);return rc(()=>{t.current=e}),t}function RN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=f.useState(r);$c(h,r)||y(r);const[g,x]=f.useState(null),[b,m]=f.useState(null),v=f.useCallback(R=>{R!==P.current&&(P.current=R,x(R))},[]),S=f.useCallback(R=>{R!==k.current&&(k.current=R,m(R))},[]),C=s||g,E=i||b,P=f.useRef(null),k=f.useRef(null),A=f.useRef(d),D=l!=null,M=Od(l),j=Od(o),F=Od(c),H=f.useCallback(()=>{if(!P.current||!k.current)return;const R={placement:t,strategy:n,middleware:h};j.current&&(R.platform=j.current),DN(P.current,k.current,R).then(I=>{const $={...I,isPositioned:F.current!==!1};O.current&&!$c(A.current,$)&&(A.current=$,Ha.flushSync(()=>{u($)}))})},[h,t,n,j,F]);rc(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const O=f.useRef(!1);rc(()=>(O.current=!0,()=>{O.current=!1}),[]),rc(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(M.current)return M.current(C,E,H);H()}},[C,E,H,M,D]);const z=f.useMemo(()=>({reference:P,floating:k,setReference:v,setFloating:S}),[v,S]),N=f.useMemo(()=>({reference:C,floating:E}),[C,E]),L=f.useMemo(()=>{const R={position:n,left:0,top:0};if(!N.floating)return R;const I=Uv(N.floating,d.x),$=Uv(N.floating,d.y);return a?{...R,transform:"translate("+I+"px, "+$+"px)",...xC(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:$}},[n,a,N.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:H,refs:z,elements:N,floatingStyles:L}),[d,H,z,N,L])}const MN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$v({element:r.current,padding:o}).fn(n):{}:r?$v({element:r,padding:o}).fn(n):{}}}},IN=(e,t)=>({...CN(e),options:[e,t]}),_N=(e,t)=>({...EN(e),options:[e,t]}),NN=(e,t)=>({...AN(e),options:[e,t]}),LN=(e,t)=>({...PN(e),options:[e,t]}),jN=(e,t)=>({...TN(e),options:[e,t]}),FN=(e,t)=>({...kN(e),options:[e,t]}),ON=(e,t)=>({...MN(e),options:[e,t]});var $N="Arrow",SC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(we.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});SC.displayName=$N;var UN=SC;function wm(e){const[t,n]=f.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var xm="Popper",[bC,Nu]=dn(xm),[VN,CC]=bC(xm),EC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(VN,{scope:t,anchor:r,onAnchorChange:o,children:n})};EC.displayName=xm;var PC="PopperAnchor",TC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=CC(PC,n),i=f.useRef(null),a=Le(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(we.div,{...o,ref:a})});TC.displayName=PC;var Sm="PopperContent",[BN,zN]=bC(Sm),kC=f.forwardRef((e,t)=>{var Te,Re,je,Ze,oe,te;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:g,...x}=e,b=CC(Sm,n),[m,v]=f.useState(null),S=Le(t,ve=>v(ve)),[C,E]=f.useState(null),P=wm(C),k=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(c)?c:[c],F=j.length>0,H={padding:M,boundary:j.filter(WN),altBoundary:F},{refs:O,floatingStyles:z,placement:N,isPositioned:L,middlewareData:R}=RN({strategy:"fixed",placement:D,whileElementsMounted:(...ve)=>bN(...ve,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[IN({mainAxis:o+A,alignmentAxis:i}),l&&_N({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?NN():void 0,...H}),l&&LN({...H}),jN({...H,apply:({elements:ve,rects:ke,availableWidth:lt,availableHeight:vt})=>{const{width:st,height:St}=ke.reference,it=ve.floating.style;it.setProperty("--radix-popper-available-width",`${lt}px`),it.setProperty("--radix-popper-available-height",`${vt}px`),it.setProperty("--radix-popper-anchor-width",`${st}px`),it.setProperty("--radix-popper-anchor-height",`${St}px`)}}),C&&ON({element:C,padding:a}),HN({arrowWidth:k,arrowHeight:A}),h&&FN({strategy:"referenceHidden",...H})]}),[I,$]=RC(N),G=ut(g);jn(()=>{L&&(G==null||G())},[L,G]);const J=(Te=R.arrow)==null?void 0:Te.x,ee=(Re=R.arrow)==null?void 0:Re.y,de=((je=R.arrow)==null?void 0:je.centerOffset)!==0,[fe,Pe]=f.useState();return jn(()=>{m&&Pe(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:L?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Ze=R.transformOrigin)==null?void 0:Ze.x,(oe=R.transformOrigin)==null?void 0:oe.y].join(" "),...((te=R.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(BN,{scope:n,placedSide:I,onArrowChange:E,arrowX:J,arrowY:ee,shouldHideArrow:de,children:p.jsx(we.div,{"data-side":I,"data-align":$,...x,ref:S,style:{...x.style,animation:L?void 0:"none"}})})})});kC.displayName=Sm;var AC="PopperArrow",qN={top:"bottom",right:"left",bottom:"top",left:"right"},DC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=zN(AC,r),i=qN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(UN,{...o,ref:n,style:{...o.style,display:"block"}})})});DC.displayName=AC;function WN(e){return e!==null}var HN=e=>({name:"transformOrigin",options:e,fn(t){var b,m,v;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=RC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,y=(((v=o.arrow)==null?void 0:v.y)??0)+l/2;let g="",x="";return c==="bottom"?(g=i?u:`${h}px`,x=`${-l}px`):c==="top"?(g=i?u:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,x=i?u:`${y}px`):c==="left"&&(g=`${r.floating.width+l}px`,x=i?u:`${y}px`),{data:{x:g,y:x}}}});function RC(e){const[t,n="center"]=e.split("-");return[t,n]}var MC=EC,IC=TC,_C=kC,NC=DC,[Lu,G4]=dn("Tooltip",[Nu]),ju=Nu(),LC="TooltipProvider",GN=700,Eh="tooltip.open",[KN,bm]=Lu(LC),jC=e=>{const{__scopeTooltip:t,delayDuration:n=GN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(KN,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};jC.displayName=LC;var Fu="Tooltip",[YN,Ou]=Lu(Fu),FC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=bm(Fu,e.__scopeTooltip),c=ju(t),[d,u]=f.useState(null),h=Ko(),y=f.useRef(0),g=i??l.disableHoverableContent,x=a??l.delayDuration,b=f.useRef(!1),[m=!1,v]=yr({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(Eh))):l.onClose(),s==null||s(k)}}),S=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b.current=!1,v(!0)},[v]),E=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v(!1)},[v]),P=f.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=!0,v(!0),y.current=0},x)},[x,v]);return f.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),p.jsx(MC,{...c,children:p.jsx(YN,{scope:t,contentId:h,open:m,stateAttribute:S,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{g?E():(window.clearTimeout(y.current),y.current=0)},[E,g]),onOpen:C,onClose:E,disableHoverableContent:g,children:n})})};FC.displayName=Fu;var Ph="TooltipTrigger",OC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ou(Ph,n),s=bm(Ph,n),i=ju(n),a=f.useRef(null),l=Le(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(IC,{asChild:!0,...i,children:p.jsx(we.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:re(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:re(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:re(e.onBlur,o.onClose),onClick:re(e.onClick,o.onClose)})})});OC.displayName=Ph;var QN="TooltipPortal",[K4,XN]=Lu(QN,{forceMount:void 0}),ui="TooltipContent",$C=f.forwardRef((e,t)=>{const n=XN(ui,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Ou(ui,e.__scopeTooltip);return p.jsx(fn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(UC,{side:o,...s,ref:t}):p.jsx(ZN,{side:o,...s,ref:t})})}),ZN=f.forwardRef((e,t)=>{const n=Ou(ui,e.__scopeTooltip),r=bm(ui,e.__scopeTooltip),o=f.useRef(null),s=Le(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),y=f.useCallback((g,x)=>{const b=g.currentTarget,m={x:g.clientX,y:g.clientY},v=rL(m,b.getBoundingClientRect()),S=oL(m,v),C=sL(x.getBoundingClientRect()),E=aL([...S,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const g=b=>y(b,d),x=b=>y(b,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",x)}}},[l,d,y,h]),f.useEffect(()=>{if(i){const g=x=>{const b=x.target,m={x:x.clientX,y:x.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),S=!iL(m,i);v?h():S&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,i,c,h]),p.jsx(UC,{...e,ref:s})}),[JN,eL]=Lu(Fu,{isInside:!1}),tL=Sb("TooltipContent"),UC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Ou(ui,n),c=ju(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Eh,d),()=>document.removeEventListener(Eh,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Ya,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(_C,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(tL,{children:r}),p.jsx(JN,{scope:n,isInside:!0,children:p.jsx(hI,{id:l.contentId,role:"tooltip",children:o||r})})]})})});$C.displayName=ui;var VC="TooltipArrow",nL=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=ju(n);return eL(VC,n).isInside?null:p.jsx(NC,{...o,...r,ref:t})});nL.displayName=VC;function rL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function sL(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function iL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function aL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lL(t)}function lL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cL=jC,uL=FC,dL=OC,BC=$C;const zC=cL,fL=uL,hL=dL,qC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(BC,{ref:r,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));qC.displayName=BC.displayName;const Cm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Cm.displayName="Card";const pL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));pL.displayName="CardHeader";const mL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));mL.displayName="CardTitle";const gL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));gL.displayName="CardDescription";const Em=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("p-6 pt-0",e),...t}));Em.displayName="CardContent";const yL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",e),...t}));yL.displayName="CardFooter";function vL(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Cm,{className:"w-full max-w-md mx-4",children:p.jsxs(Em,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(Qb,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Pm=Qa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ye=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?HM:"button";return p.jsx(i,{className:ne(Pm({variant:t,size:n,className:e})),ref:s,...o})});Ye.displayName="Button";const w={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...e)},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...e)},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...e)}};var WC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new o(d,u||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],y]:l._events[g].push(y):(l._events[g]=y,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,y=u.length,g=new Array(y);h<y;h++)g[h]=u[h].fn;return g},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,y,g){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],m=arguments.length,v,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,h),!0;case 5:return b.fn.call(b.context,d,u,h,y),!0;case 6:return b.fn.call(b.context,d,u,h,y,g),!0}for(S=1,v=new Array(m-1);S<m;S++)v[S-1]=arguments[S];b.fn.apply(b.context,v)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),m){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,u);break;case 4:b[S].fn.call(b[S].context,d,u,h);break;default:if(!v)for(E=1,v=new Array(m-1);E<m;E++)v[E-1]=arguments[E];b[S].fn.apply(b[S].context,v)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return i(this,y),this;var g=this._events[y];if(g.fn)g.fn===d&&(!h||g.once)&&(!u||g.context===u)&&i(this,y);else{for(var x=0,b=[],m=g.length;x<m;x++)(g[x].fn!==d||h&&!g[x].once||u&&g[x].context!==u)&&b.push(g[x]);b.length?this._events[y]=b.length===1?b[0]:b:i(this,y)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(WC);var wL=WC.exports;const xL=ip(wL),SL="401z949o3txi3r0",Dl="/Photos",Vs="/Metadata",bL="images.json";function HC(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const GC=Vs.startsWith("/")?Vs.replace("//","/"):`/${Vs}`.replace("//","/"),KC=`${GC}/${bL}`.replace("//","/");function YC(e,t){const n=HC(e,t);return`${GC}/${n}`.replace("//","/")}function jr(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function QC(e){var t;if(jr(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function XC(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function CL(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function ZC(e,t,n){let r=null;try{w.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return w.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return w.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return w.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(w.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){w.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return w.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(QC(o))return w.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw jr(o)?w.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):w.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function JC(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(w.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});w.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),w.log(`${t} saved successfully.`)}catch(o){throw jr(o)?w.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):w.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function Uc(e,t,n){const r=YC(t,n);return w.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),ZC(e,r,["createdAt","updatedAt"])}async function EL(e){return ZC(e,KC,["createdAt"])}async function Rl(e,t,n,r){const o=YC(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){w.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),w.log(`Deleted empty entries file: ${o}`)}catch(i){jr(i)&&XC(i.error,"not_found")?w.log(`Empty entries file ${o} does not exist. No deletion needed.`):jr(i)?w.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):w.error(`Non-API Error deleting ${o}:`,i)}return}await JC(e,o,s,["createdAt","updatedAt"])}async function Th(e,t){await JC(e,KC,t,["createdAt"])}async function PL(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");w.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return w.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw w.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw jr(i)?w.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):w.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function TL(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return w.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),w.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return jr(l)&&(XC(l.error,"not_found")||CL(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(w.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):(jr(l)?w.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):w.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function kL(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function AL(e){try{const t=await crypto.subtle.digest("SHA-256",e);return kL(t)}catch(t){throw w.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function DL(e){try{const t=await e.arrayBuffer();return AL(t)}catch(t){throw w.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const Ml="PhojoCacheDB",Vv=3,sn="entries",hr="imageMetadata",Bs="photoBlobs",lr="cacheStatus",Yo="saveQueue";let Pn=null;function eE(){return new Promise((e,t)=>{if(Pn&&Pn.objectStoreNames.length>0){e(Pn);return}w.log(`[IDB] Opening database ${Ml} version ${Vv}...`);const n=indexedDB.open(Ml,Vv);n.onerror=r=>{var o;w.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{w.log(`[IDB] Database ${Ml} opened successfully.`),Pn=n.result,Pn.onclose=()=>{w.warn("[IDB] Database connection closed unexpectedly."),Pn=null},Pn.onversionchange=()=>{w.warn("[IDB] Database version change detected. Closing connection."),Pn==null||Pn.close(),Pn=null},e(Pn)},n.onupgradeneeded=r=>{w.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){w.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(Ml);a.onsuccess=()=>{w.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{w.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{w.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(sn))o.createObjectStore(sn).createIndex("byDate","date",{unique:!1}),w.log(`[IDB] Object store created: ${sn} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(sn);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),w.log(`[IDB] Added 'byDate' index to ${sn} store`))}if(o.objectStoreNames.contains(hr)||(o.createObjectStore(hr),w.log(`[IDB] Object store created: ${hr}`)),o.objectStoreNames.contains(Bs)||(o.createObjectStore(Bs),w.log(`[IDB] Object store created: ${Bs}`)),!o.objectStoreNames.contains(lr))o.createObjectStore(lr).createIndex("lastAccessed","lastAccessed",{unique:!1}),w.log(`[IDB] Object store created: ${lr} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(lr);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),w.log(`[IDB] Re-created 'lastAccessed' index on ${lr}`))}o.objectStoreNames.contains(Yo)||(o.createObjectStore(Yo),w.log(`[IDB] Object store created: ${Yo}`)),w.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{w.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Xn(e,t,n){const r=await eE();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{w.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{w.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{w.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){w.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function go(e,t,n){await Xn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),w.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function tE(e,t){return Xn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function ir(e,t){await Xn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),w.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function RL(e){await Xn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),w.log(`[IDB] Store '${e}' cleared successfully.`)}async function ML(e){return Xn(lr,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{w.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){w.error("[IDB] Error setting up index query:",o),r(o)}}))}async function Vc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Xn(sn,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const y=h.map(g=>({...g,createdAt:g.createdAt instanceof Date?g.createdAt:new Date(g.createdAt||0),updatedAt:g.updatedAt instanceof Date?g.updatedAt:new Date(g.updatedAt||0)}));a(y)}else a(void 0)},u.onerror=()=>{w.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){w.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function IL(e){return Xn(sn,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{w.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(w.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){w.error("[IDB] Error caching entries:",o),r(o)}}))}async function $d(){return Xn(hr,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{w.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function _L(){return Xn(sn,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{w.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function NL(e){return Xn(hr,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{w.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(w.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){w.error("[IDB] Error caching metadata:",o),r(o)}}))}async function LL(e){return e?ir(hr,e):RL(hr)}async function Wr(e){return tE(Bs,e)}async function Ro(e,t,n){const r=Date.now();await go(Bs,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await go(lr,e,{lastAccessed:r,size:t.size,type:n})}async function ks(e){await Promise.all([ir(Bs,e),ir(lr,e)])}async function Il(e){const t=await tE(lr,e);if(!t){w.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await go(lr,e,t)}async function Li(e){w.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await go(Yo,e.actionId,e)}async function nE(){return w.log("[IDB] Getting all items from save queue"),Xn(Yo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter(OL))??[];w.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{w.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function kh(e){w.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await go(Yo,e.actionId,e)}async function jL(e){w.log(`[IDB] Removing action from save queue. ID: ${e}`),await ir(Yo,e)}async function FL(){const e=await nE();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await kh(r),t++}t>0&&w.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function ka(){return(await nE()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function OL(e){var r;if(typeof e!="object"||e===null)return w.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return w.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return w.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return w.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return w.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return w.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return w.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return w.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return w.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return w.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return w.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}eE().catch(e=>w.error("[IDB] Initial DB open failed:",e));let Ud=!1;const Bv=5e4;async function rE(e,t,n,r){if(!t||!e){w.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await oE(e,t,n,r);const o=await ka();o.length>0&&(w.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await rE(e,t,n,r))}function zv(e,t){if(!t||!e){w.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}rE(e,t).catch(n=>{w.error("[SyncService] Background sync process error:",n)}),w.log("[SyncService] Background sync process started")}async function oE(e,t,n,r){if(Ud){w.log("[SyncService] processSaveQueue already in progress, skipping");return}Ud=!0;try{if(!t||!e){w.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await ka();if(o.length===0){w.log("[SyncService] No pending actions in queue");return}w.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await kh(i),s.entity==="entry"?await $L(e,s):s.entity==="photoMetadata"?await UL(e,s):s.entity==="photoUpload"?await VL(e,s):N_(s),await jL(s.actionId),w.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=Bv?"failed":"pending",c={...s,retryCount:a,status:l};await kh(c),w.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(w.error(`[SyncService] Action ${s.actionId} failed after ${Bv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{Ud=!1}}async function $L(e,t){const{type:n,payload:r}=t,o=new Tm(e),{year:s,month:i}=r,a=await Uc(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(y=>!d.photos.some(g=>g.id===y.id))){const y=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(y)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(y=>y.id!==d);await Rl(e,s,i,u);const h=l.find(y=>y.id===d);if(h&&h.photos&&h.photos.length>0){w.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const y=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(y)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,y=await Uc(e,d,u),g=o.parseEntryDates(y),x=g.filter(S=>S.id!==S.id),m=[...l.filter(S=>S.id!==S.id),h];await Rl(e,d,u,x),await Rl(e,s,i,m);const v=g.find(S=>S.id===h.id);await c(h,v)}else{const{entry:d}=r,u=l.find(g=>g.id===d.id),y=[...l.filter(g=>g.id!==d.id),d];y.sort((g,x)=>{const b=new Date(g.date).getTime(),m=new Date(x.date).getTime();return b!==m?b-m:g.createdAt.getTime()-x.createdAt.getTime()}),await Rl(e,s,i,y),await c(d,u)}}async function UL(e,t){const{type:n,payload:r}=t,s=await new Tm(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await Th(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await Th(e,c)}}async function VL(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Wr(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await PL(e,s,a,o)}const sE=.8,BL=.7,zL=10;async function Ah(){try{if(!navigator.storage||!navigator.storage.estimate)return w.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return w.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return w.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return w.error("[StorageMgr] Error getting storage estimate:",e),null}}async function qv(e,t=!0){try{const n=await ML(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return w.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function Bc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await qv(e);return o.length>0?(w.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>ks(s))),o.length):0}const r=await Ah();if(!r||r.usagePercentage<sE)return w.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await qv(zL);if(o.length===0){w.log("[StorageMgr] No more blobs to prune");break}w.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>ks(i))),t+=o.length;const s=await Ah();!s||s.usagePercentage<=BL?(w.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(w.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return w.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return w.error("[StorageMgr] Error during pruning:",t),0}}async function Vd(){try{const e=await Ah();if(!e)return;if(e.usagePercentage>=sE){w.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await Bc();w.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){w.error("[StorageMgr] Error in automatic pruning check:",e)}}async function Bd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(w.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){w.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class io{constructor(){this.urlMap=new Map}static getInstance(){return io.instance||(io.instance=new io),io.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),w.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){w.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){w.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){w.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){w.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}var Dh=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(Dh||{});const zd=30*60*1e3,ji=Vs.startsWith("/")?Vs.replace("//","/"):`/${Vs}`.replace("//","/"),Wv=e=>e.isNew===!0;class Tm{constructor(t){this.blobUrlManager=io.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new xL,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache(ji)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache(ji),w.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),w.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<zd?(w.log(`[MemCache] Hit folder list for ${t}`),n.data):(w.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),w.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){w.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(w.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(w.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;w.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),w.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(QC(r))return w.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw jr(r)?w.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):w.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){w.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(ji)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return w.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return w.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);w.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await Vc(t,n),i=s&&s.length>0;i?w.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):w.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<zd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{w.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){w.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await Vc(t,n);if(i&&i.length>0)return w.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){w.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);w.log(`[Background Sync] Starting background sync for ${o}`);try{const s=HC(t,n),a=(await this.listFolder(ji)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)w.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await Uc(this.dbx,t,n);l=this.parseEntryDates(c),w.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(y=>y.id)),u=r.filter(y=>!d.has(y.id));if(u.length>0){w.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const y=await ka();for(const g of u)y.some(b=>b.entity==="entry"&&b.type!=="delete"&&b.payload.entry.id===g.id)?w.log(`[Background Sync] Not deleting entry ${g.id} - has pending changes`):(w.log(`[Background Sync] Deleting orphaned entry ${g.id} from local cache`),await ir(sn,g.id))}const h=[...l].sort((y,g)=>new Date(y.date).getTime()-new Date(g.date).getTime()||y.createdAt.getTime()-g.createdAt.getTime());w.log(`[Background Sync] Storing ${h.length} entries in local cache`),await IL(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(w.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),w.log(`[Background Sync] Completed for ${o}`)}catch(s){throw w.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");w.log("[Background Sync] Starting metadata background sync");try{w.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await EL(this.dbx),r=this.parseMetadataDates(n);w.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){w.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await ka();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?w.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(w.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await ir(hr,a.id))}w.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await NL(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(w.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),w.log("[Background Sync] Metadata sync completed")}catch(n){throw w.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){w.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await $d(),r=n&&n.length>0;r?w.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):w.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<zd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{w.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){w.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await $d();if(r&&r.length>0)return w.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){w.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return w.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return Il(o).catch(a=>w.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Wr(o);if(a)return w.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await Il(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Wr(t);if(l){w.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await Bd(l.blob);return w.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await Ro(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return w.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){w.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return w.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Wr(t);if(a){w.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await Bd(a.blob);return w.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await Ro(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return w.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return w.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return w.log(`[Memory] Found cached URL for hash ${t}`),Il(t).catch(s=>w.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Wr(t);if(s)return w.log(`[Cache] Found blob in IDB for hash ${t}.`),await Il(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){w.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return w.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return w.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;w.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var y;return((y=h.photoMetadata)==null?void 0:y.contentHash)===t});if(!(i!=null&&i.photoFilename))return w.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Dl}/${a}`.replace("//","/");w.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return w.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;w.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await Ro(t,d,"full"),this.generateThumbnailInBackground(t,d),w.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){w.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await Bc(10),await Ro(t,d,"full"),this.generateThumbnailInBackground(t,d),w.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(y){w.error(`[Cache] Failed to prune and retry caching for ${t}:`,y)}}else w.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return w.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,k,A;if(w.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(D=>D.photoId))??[]),c=[];i&&l.forEach(D=>{t.photos.some(j=>!Wv(j)&&j.photoId===D)||w.log(`[Save] Photo ${D} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let y=null,g=null;if(n){const D=new Date(n.date+"T00:00:00Z");y=D.getUTCFullYear(),g=D.getUTCMonth()+1}const x=i&&(u!==y||h!==g);for(const D of t.photos){let M=null,j,F=null,H=!1;if(Wv(D)){const O=D.file;j=D.crop,F=await DL(O);const z=o.find(N=>{var L;return((L=N.photoMetadata)==null?void 0:L.contentHash)===F});if(z)M=z.id,w.log(`[Save] Hash collision for ${O.name}. Using existing ID: ${M}`),l.has(M)||(H=!0),await Wr(F)||c.push({hash:F,blob:O});else{w.log(`[Save] Uploading new photo: ${O.name}`);const N=Date.now(),L=crypto.randomUUID().substring(0,8),R=O.name.replace(/[^a-zA-Z0-9.]/g,"_"),I=`${N}_${L}_${R}`,$={id:crypto.randomUUID(),photoFilename:I,photoMetadata:{filename:O.name,mimeType:O.type,width:(E=D.originalDimensions)==null?void 0:E.width,height:(P=D.originalDimensions)==null?void 0:P.height,exifDate:((k=D.exifData)==null?void 0:k.exifDate)??null,contentHash:F},createdAt:new Date},G=crypto.randomUUID(),J={actionId:G,type:"create",entity:"photoUpload",payload:{contentHash:F,photoFilename:I,folder:Dl},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(J),w.log(`[Save] Photo upload added to sync queue. ActionId: ${G}, Hash: ${F}`),M=$.id,o.push($),a.push($),await go(hr,$.id,$),H=!0,c.push({hash:F,blob:O}),w.log(`[Save] New photo uploaded. ID: ${M}, Hash: ${F}`)}}else{M=D.photoId,j=D.crop;const O=o.find(z=>z.id===M);F=((A=O==null?void 0:O.photoMetadata)==null?void 0:A.contentHash)??null,(!i||!l.has(M))&&(H=!0),F&&(await Wr(F)||w.warn(`[Save] Existing photo blob missing from cache for hash: ${F} (ID: ${M})`)),w.log(`[Save] Keeping existing photo ID: ${M}. Is addition? ${H}. Hash: ${F}`)}M&&s.push({photoId:M,crop:j})}for(const{hash:D,blob:M}of c)await Ro(D,M,"full");const b=t.date.toISOString().split("T")[0],m=new Date;let v;if(n?v={...n,date:b,content:t.content,photos:s,updatedAt:m}:v={id:crypto.randomUUID(),date:b,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),x&&y!==null&&g!==null){w.log(`[Save] Deleting entry ${v.id} from local database due to date change`),await ir(sn,v.id),w.log(`[Save] Adding entry ${v.id} to local database due to date change`),await go(sn,v.id,v);const D=crypto.randomUUID(),M={actionId:D,type:"update",entity:"entry",payload:{entry:v,year:y,month:g,isDateChange:!0,oldYear:y,oldMonth:g},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(M),w.log(`[Save] Date change original month update added to sync queue. ActionId: ${D}`)}else{w.log(`[Save] Saving entry ${v.id} to local database`),await go(sn,v.id,v);const D=crypto.randomUUID(),M={actionId:D,type:n?"update":"create",entity:"entry",payload:{entry:v,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(M),w.log(`[Save] Entry save added to sync queue. ActionId: ${D}, ID: ${v.id}`)}w.log(`[Save] Queueing metadata update with ${a.length} entries`);const S=crypto.randomUUID(),C={actionId:S,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(C),w.log(`[Save] Metadata update added to sync queue. ActionId: ${S}`),r&&this.dbx&&(w.log("[Save] Online mode - triggering immediate processing of save queue in background"),zv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Wr(r)){w.log(`[Background] Thumbnail already exists for hash ${t}.`);return}w.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await Bd(n);w.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await Ro(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){w.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await Bc(10),await Ro(r,s,"thumb"),w.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){w.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else w.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){w.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){w.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}w.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){w.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await Uc(this.dbx,a,l);w.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){w.error(`[Cleanup] Error processing entries file ${s}:`,i)}w.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){w.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(w.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var y;if(h.photoFilename)try{if(w.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await TL(this.dbx,h.photoFilename,Dl)){w.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const x=(y=h.photoMetadata)==null?void 0:y.contentHash;x&&(await ks(x),await ks(`${x}-thumb`),this.blobUrlManager.revokeUrl(x),this.blobUrlManager.revokeUrl(`${x}-thumb`))}}catch(g){w.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,g)}else w.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),w.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}w.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await Th(this.dbx,l);for(const c of o)LL(c.id)}else w.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(w.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){w.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?w.log("[Deletion Sync] Photo deletions sync completed successfully"):w.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?w.log("[Deletion Sync] Entry deletions sync completed successfully"):w.error("[Deletion Sync] Entry deletions sync failed:",n.reason),w.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){w.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(w.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Dl)).filter(i=>i[".tag"]==="file").map(i=>i.name);w.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await $d();if(!r||r.length===0){w.log("[Deletion Sync] No local metadata to check");return}w.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){w.log("[Deletion Sync] No orphaned photo metadata found");return}w.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)w.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await ir(hr,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await ks(i.photoMetadata.contentHash),await ks(`${i.photoMetadata.contentHash}-thumb`));w.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(w.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(ji)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);w.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await _L();if(!r||r.length===0){w.log("[Deletion Sync] No local entries to check");return}w.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(w.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>ir(sn,l.id))))}w.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){w.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){w.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}w.log(`[Delete] Deleting entry ${t} from local database`),await ir(sn,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Li(l),w.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(w.log("[Delete] Online mode - triggering immediate processing of save queue in background"),zv(this.dbx,o)),w.log("[Delete] deleteEntry operation completed.")}catch(s){throw w.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){w.log("[Prefetch] Skipping prefetch while offline.");return}w.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){w.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>w.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){w.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>w.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var qL="rpc",WL="upload",HL="download",qd="app",Wd="user",Hd="team",GL="noauth",KL="cookie",zc="dropboxapi.com",Hv="dropbox.com",Rh={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function YL(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Gd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==zc&&Rh[t]!==void 0&&(t=Rh[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},QL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hv;return t!==Hv&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Gv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==zc&&(r=Rh[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function Kv(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,YL)}function XL(e){return new Date(Date.now()+e*1e3)}function Yv(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof aA>"u"||typeof window<"u"}function Kd(){return typeof window<"u"}function Yd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function _l(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function oc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oc=function(n){return typeof n}:oc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oc(e)}function ZL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}function ej(e){var t=iE();return function(){var r=Da(e),o;if(t){var s=Da(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return tj(this,o)}}function tj(e,t){return t&&(oc(t)==="object"||typeof t=="function")?t:nj(e)}function nj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mh(e){var t=typeof Map=="function"?new Map:void 0;return Mh=function(r){if(r===null||!rj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return sc(r,arguments,Da(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Aa(o,r)},Mh(e)}function sc(e,t,n){return iE()?sc=Reflect.construct:sc=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Aa(c,i.prototype),c},sc.apply(null,arguments)}function iE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function rj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Aa(e,t){return Aa=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Aa(e,t)}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Da(e)}var oj=function(e){JL(n,e);var t=ej(n);function n(r,o,s){var i;return ZL(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(Mh(Error));function sj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var aE=function e(t,n,r){sj(this,e),this.status=t,this.headers=n,this.result=r};function lE(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new oj(e.status,e.headers,n)})}function qc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new aE(e.status,e.headers,n)}):lE(e)}function ij(e){return e.ok?new Promise(function(t){Yv()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Yv()?n.fileBlob=t:n.fileBinary=t,new aE(e.status,e.headers,n)}):lE(e)}function aj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cj(e,t,n){return t&&lj(e.prototype,t),e}var Nl,Mo,Qd,uj=300*1e3,Qv=128,dj=["legacy","offline","online"],fj=["code","token"],hj=["none","user","team"],cE=function(){function e(t){aj(this,e),t=t||{},Kd()?(Nl=window.fetch.bind(window),Mo=window.crypto||window.msCrypto):Yd()?(Nl=self.fetch.bind(self),Mo=self.crypto):(Nl=require("node-fetch"),Mo=require("crypto")),typeof TextEncoder>"u"?Qd=require("util").TextEncoder:Qd=TextEncoder,this.fetch=t.fetch||Nl,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return cj(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new Qd,o=r.encode(this.codeVerifier),s;if(Kd()||Yd())return Mo.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=_l(l).substr(0,128),n.codeChallenge=s});var i=Mo.createHash("sha256").update(o).digest();return s=_l(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Kd()||Yd()){var r=new Uint8Array(Qv),o=Mo.getRandomValues(r),s=btoa(o);n=_l(s).substr(0,128)}else{var i=Mo.randomBytes(Qv);n=_l(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=QL(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!fj.includes(s))throw new Error("Authorization type must be code or token");if(i&&!dj.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!hj.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Gv(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return qc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+uj)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Gv(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return qc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(XL(c.result.expires_in))})}}]),e}();function pj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gj(e,t,n){return t&&mj(e.prototype,t),e}var yj=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,Xv=function(){function e(t){pj(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new cE(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return gj(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case qL:return this.rpcRequest(n,r,o,s);case HL:return this.downloadRequest(n,r,o,s);case WL:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Gd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return qc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":Kv(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Gd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return ij(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Kv(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Gd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return qc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Wd)&&this.auth.getAccessToken()?n=Wd:o.includes(Hd)&&this.auth.getAccessToken()?n=Hd:o.includes(qd)&&(n=qd)}switch(n){case qd:if(this.auth.clientId&&this.auth.clientSecret){var s=yj("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Hd:case Wd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case GL:case KL:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function vj(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function wj(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{w.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new cE({clientId:SL}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(v=>{w.log("Generated auth URL, redirecting..."),window.location.href=String(v)}).catch(v=>{w.error("Dropbox auth URL generation failed:",v),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){w.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{w.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const y=f.useCallback((b,m=!1)=>{w.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(w.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(w.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const v=new Xv({accessToken:b});let S=!0;return v.usersGetCurrentAccount().then(C=>{if(!S)return;const E=C.result;t(v),r(!0),u(E),c(null),w.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(S)if(w.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),vj(C))w.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{w.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{S&&(w.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{S=!1}},[n]);f.useEffect(()=>{w.log("[useDropboxAuth useEffect] Running effect.");let b,v=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const S=localStorage.getItem("dropboxToken");let C=null;return v?(w.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",v),C=v,w.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):S&&(w.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=S),C?b=y(C,!1):(w.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{b==null||b(),w.log("[useDropboxAuth useEffect] Cleanup.")}},[y]);const g=f.useCallback(()=>{w.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?y(b,!0):w.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,y]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{w.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),b&&new Xv({accessToken:b}).authTokenRevoke().then(()=>w.log("Dropbox token revoked successfully.")).catch(v=>w.error("Failed to revoke Dropbox token:",v))},tryVerifyStoredToken:g}}function xj(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,v)=>{const S=new Date(v,m-1),C=new Date(o,n-1);S>C?a(1):S<C?a(-1):a(0),r(m),s(v)},[n,o]),u=f.useCallback(()=>{let m=n,v=o;m===1?(v--,m=12):m--,d(m,v)},[n,o,d]),h=f.useCallback(()=>{let m=n,v=o;m===12?(v++,m=1):m++,d(m,v)},[n,o,d]),y=f.useCallback((m,v)=>{d(m,v),c(!1)},[d]),g=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),x=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:y,handleCalendarSwipe:g,openMonthYearPicker:x,closeMonthYearPicker:b,setSwipeDirection:a}}function Sj(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((g,x)=>{s(g),r(x),a(!1),t(!0)},[]),u=f.useCallback(g=>{c(g),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),y=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:y}}const Xd=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Ih=()=>{const[e,t]=f.useState(Xd());f.useEffect(()=>{const r=()=>{const o=Xd();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=Xd();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},uE=f.createContext(void 0),bj=({children:e})=>{const{toast:t}=Ka(),[,n]=Ih(),r=f.useRef(!0),o=wj(),s=xj(new Date().getMonth()+1,new Date().getFullYear()),i=Sj(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),y=f.useRef(u),[g,x]=f.useState([]),[b,m]=f.useState(!1),[v,S]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[A,D]=f.useState(null),[M,j]=f.useState(null),[F,H]=f.useState(!1),[O,z]=f.useState("calendar"),[N,L]=f.useState(null),[R,I]=f.useState(null),$=io.getInstance(),[G,J]=f.useState(!1),[ee,de]=f.useState(0),[fe,Pe]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;w.log("[AppContext] Setting up periodic storage check and pruning"),Vd().catch(q=>{w.error("[AppContext] Periodic storage check/prune error:",q)});const B=setInterval(()=>{r.current&&(w.log("[AppContext] Running periodic storage check and pruning"),Vd().catch(q=>{w.error("[AppContext] Periodic storage check/prune error:",q)}))},5*60*1e3);return()=>{clearInterval(B)}},[c,a]),f.useEffect(()=>{const B=()=>r.current&&h(!0),q=()=>r.current&&h(!1);return window.addEventListener("online",B),window.addEventListener("offline",q),w.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),y.current=navigator.onLine,()=>{window.removeEventListener("online",B),window.removeEventListener("offline",q),$.revokeAllUrls()}},[$]),f.useEffect(()=>{!y.current&&u&&(w.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(w.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):w.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),y.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const B=q=>{const K=q;K.message&&K.message.includes("QuotaExceededError")&&(w.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),Bc(20).catch(me=>{w.error("[AppContext] Failed to prune cache:",me)})),K.message&&K.message.includes("IndexedDB")&&(w.error("[AppContext] IndexedDB error detected:",K.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",B),()=>{window.removeEventListener("error",B)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(w.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(w.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const q=new Tm(o.dbx);q.on(Dh.ENTRIES_UPDATED,K=>{w.log(`[AppContext] Entries updated event received for ${K.year}-${K.month}`),K.year===s.currentYear&&K.month===s.currentMonth&&(w.log("[AppContext] Updated entries are for current month, refreshing UI"),x(K.entries))}),q.on(Dh.METADATA_UPDATED,K=>{w.log("[AppContext] Metadata updated event received"),S(K.metadata)}),l(q),d(!0),w.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(w.log("[AppContext] Triggering background deletion sync with Dropbox..."),q.syncDeletionsFromDropbox().catch(K=>{w.error("[AppContext] Background deletion sync failed:",K)})),await FL(),E(!0),j(null);try{const K=await q.fetchImagesMetadata(u);r.current&&S(K),w.log(`[AppContext] Initial metadata fetch/load success. Count: ${K.length}`)}catch(K){w.error("[AppContext] Err fetch/load initial metadata:",K),r.current&&j(K instanceof Error?K:new Error("Failed metadata load"))}finally{r.current&&E(!1)}Vd().catch(K=>{w.error("[AppContext] Initial storage check/prune error:",K)})}catch(q){w.error("[AppContext] Failed to initialize PhotoJournalClient:",q),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),k(null);const B=s.currentYear,q=s.currentMonth;w.log(`[AppContext] Fetching entries effect triggered for ${B}-${q+1}. Online: ${u}`),a.fetchEntriesForMonth(B,q,u).then(K=>{w.log(`[AppContext] Fetched/Loaded ${K.length} entries for ${B}-${q+1}`),r.current&&(x(K),u&&o.isAuthenticated&&a.triggerPrefetch(B,q,u))}).catch(K=>{w.error(`[AppContext] Err fetch/load entries for ${B}-${q+1}:`,K),r.current&&k(K instanceof Error?K:new Error("Failed entries load"))}).finally(()=>{w.log(`[AppContext] Finished fetching/loading entries for ${B}-${q+1}. isLoadingEntries: false`),r.current&&m(!1)})}else x([]),m(!1),k(null),w.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{$.revokeAllUrls(),o.logout(),L(null),I(null),x([]),S([]),l(null),d(!1)},[o,$]),f.useEffect(()=>{D(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{M&&t({title:"Metadata Error",description:M.message,variant:"destructive"})},[M,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{A&&t({title:"Operation Error",description:A.message,variant:"destructive"})},[A,t]),f.useEffect(()=>{const B=window.location.hash;if(B.startsWith("#shareKey=")){const q=B.substring(10);q&&(w.log(`[App Context] Share detected via hash, setting shareKeyToProcess: ${q}`),I(q),n(window.location.pathname+window.location.search,{replace:!0}))}},[n]),f.useEffect(()=>{const B=q=>{if(navigator.serviceWorker.controller){const K={type:"GET_STORED_FILES",key:q};w.log(`[App Context] Sending GET_STORED_FILES message to service worker with key: ${q}`),navigator.serviceWorker.controller.postMessage(K),I(null),w.log("[App Context] Set shareKeyToProcess to null after message sent")}else w.warn(`[App Context] SW controller not ready for key: ${q}`)};R&&(w.log(`[App Context] Processing shareKeyToProcess: ${R}`),navigator.serviceWorker.controller?(w.log("[App Context] Service worker controller available, requesting files immediately"),B(R)):(w.log("[App Context] Service worker controller not available, waiting for ready event"),navigator.serviceWorker.ready.then(q=>{q.active&&R?(w.log("[App Context] Service worker now active, requesting files"),B(R)):q.active?w.warn("[App Context] shareKeyToProcess no longer available after SW ready"):w.error("[App Context] Service worker not active after ready.")})))},[R]),f.useEffect(()=>{const B=me=>{const ce=me.data;if(!ce){w.warn("[App Context] Received SW message with no data");return}w.log(`[App Context] Received SW message of type: ${ce.type}`,{key:ce.key,filesCount:ce.files?ce.files.length:"none",error:ce.error||"none"}),ce.type==="SHARED_FILES_READY"&&ce.key?(w.log(`[App Context] Processing SHARED_FILES_READY with key: ${ce.key}`),navigator.serviceWorker.controller?(w.log("[App Context] Sending GET_STORED_FILES message to service worker"),navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:ce.key})):(w.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"}))):ce.type==="STORED_FILES_DATA"&&ce.files?ce.files.length>0?(w.log(`[App Context] Received ${ce.files.length} shared files:`,{types:ce.files.map(qe=>qe.type),sizes:ce.files.map(qe=>qe.size),names:ce.files.map(qe=>qe.name)}),w.log("[App Context] Setting pendingSharedFiles with received files"),L(ce.files)):(w.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):ce.type==="STORED_FILES_ERROR"&&(w.error("[App Context] Received STORED_FILES_ERROR:",ce.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${ce.error||"Unknown error"}`,variant:"destructive"}))},q=me=>{r.current&&B(me)};let K=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(me=>{me.active&&r.current?(navigator.serviceWorker.addEventListener("message",q),K=!0,w.log("[App Context] Service worker message listener attached.")):w.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(K&&"serviceWorker"in navigator){w.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",q)}catch(me){w.warn("[App Context] Error removing SW message listener:",me)}}}},[t]),f.useEffect(()=>{N&&w.log(`[AppContext] pendingSharedFiles state changed: ${N?N.length:"null"} files`,{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth}),w.log(`[AppContext] processing shared files, current url is ${window.location.href}`),!o.isLoadingAuth&&N&&N.length>0&&(w.log(`[AppContext] Pending shared files ready for processing: ${N.length} files, navigating to /entry/new`),n("/entry/new"))},[o.isLoadingAuth,N,n]);const Te=f.useCallback(()=>{w.log("[AppContext] Clearing pendingSharedFiles"),L(null)},[]),Re=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoBlobUrl(B,q,u)}catch(K){return w.error(`getPhotoBlobUrl Error for hash ${B} (ID ${q}):`,K),null}},[a,c,u]),je=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoThumbnailUrl(B,q,u)}catch(K){return w.error(`getPhotoThumbnailUrl Error for hash ${B} (ID ${q}):`,K),null}},[a,c,u]),Ze=f.useCallback(async B=>{if(!c||!a)throw new Error("Client not ready");let q=[];try{q=await a.fetchImagesMetadata(u),r.current&&v.length===0&&q.length>0&&S(q)}catch(ce){w.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",ce),q=v}const K=(B.photos||[]).map(async ce=>{let qe=null,Ee=null;const Fe=q.find(Q=>Q.id===ce.photoId),Ie=(Fe==null?void 0:Fe.photoMetadata)??null,_=(Fe==null?void 0:Fe.photoFilename)??null,U=Ie==null?void 0:Ie.contentHash;if(!U)w.warn(`Metadata or contentHash missing for photoId: ${ce.photoId}`);else{const[Q,ue]=await Promise.all([Re(U,ce.photoId),je(U,ce.photoId)]);qe=Q,Ee=ue}return{...ce,photoUrl:qe,thumbnailUrl:Ee,photoMetadata:Ie,photoFilename:_}}),me=await Promise.all(K);return{...B,photos:me}},[a,c,v,u,Re]),oe=f.useCallback(async()=>{if(O!=="calendar"||!r.current||!c||!a)return;let B=0;const q=3;let K=document.querySelectorAll(".day-with-image");for(;K.length===0&&B<q;){w.log(`[loadDayBackgrounds] No day elements found, retrying (${B+1}/${q})...`);const _=200*Math.pow(2,B);await new Promise(U=>setTimeout(U,_)),K=document.querySelectorAll(".day-with-image"),B++}if(g.length===0||K.length===0){w.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const me=new Map;g.forEach(_=>{if(_.photos&&_.photos.length>0){const U=me.get(_.date),Q=_.createdAt instanceof Date?_.createdAt:new Date(_.createdAt),ue=(U==null?void 0:U.createdAt)instanceof Date?U.createdAt:new Date(0);(!U||Q.getTime()>ue.getTime())&&me.set(_.date,_)}});let ce=[];try{ce=await a.fetchImagesMetadata(u),r.current&&v.length===0&&ce.length>0&&S(ce)}catch(_){w.error("[loadDayBackgrounds] Failed fetch/load metadata:",_),ce=v}const qe=(_,U,Q)=>{var Oe;if(!r.current)return;const ue=U.crop,pe=Q==null?void 0:Q.width,be=Q==null?void 0:Q.height,xe=(Oe=_.parentElement)==null?void 0:Oe.getBoundingClientRect(),_e=(xe==null?void 0:xe.width)??0;if(ue&&pe&&be&&pe>0&&be>0&&ue.w>0&&_e>0){const We=_e/ue.w,bt=pe*We,Dt=be*We,Rt=-ue.x*We,Pt=-ue.y*We;Object.assign(_.style,{width:`${bt}px`,height:`${Dt}px`,transform:`translate(${Rt}px, ${Pt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(_.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&_.classList.add("img-loaded")})},Ee=_=>{_.src&&_.src.startsWith("blob:")&&$.revokeUrl(_.getAttribute("data-content-hash")??""),_.removeAttribute("src"),Object.assign(_.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),_.classList.remove("img-loaded"),_.removeAttribute("data-photo-id"),_.removeAttribute("data-content-hash")},Fe=new Set;K.forEach(_=>{var xe,_e;const U=_.getAttribute("data-day");if(!U)return;const ue=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(U))).toISOString().split("T")[0],pe=me.get(ue),be=(xe=pe==null?void 0:pe.photos)==null?void 0:xe[0];if(be!=null&&be.photoId){const Oe=ce.find(bt=>bt.id===be.photoId),We=(_e=Oe==null?void 0:Oe.photoMetadata)==null?void 0:_e.contentHash;We&&Fe.add(We)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(_=>{const U=_,Q=U.getAttribute("data-content-hash");Q&&!Fe.has(Q)&&Ee(U)});const Ie=Array.from(K).map(async _=>{var Dt,Rt;const U=_.getAttribute("data-day");if(!U)return;const ue=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(U))).toISOString().split("T")[0],pe=_.querySelector(".calendar-day-img");if(!pe)return;const be=me.get(ue),xe=(Dt=be==null?void 0:be.photos)==null?void 0:Dt[0],_e=(xe==null?void 0:xe.photoId)??null,Oe=_e?ce.find(Pt=>Pt.id===_e):null,We=((Rt=Oe==null?void 0:Oe.photoMetadata)==null?void 0:Rt.contentHash)??null,bt=pe.getAttribute("data-content-hash");if(bt&&bt!==We&&Ee(pe),We&&a&&bt!==We&&_e&&xe&&(Oe!=null&&Oe.photoMetadata)){pe.setAttribute("data-photo-id",_e),pe.setAttribute("data-content-hash",We);let Pt=null;const Ot=xe.crop,hn=Oe.photoMetadata.width||0,Tt=Oe.photoMetadata.height||0,Y=Ot.w*Ot.h/(hn*Tt);(Y<.3||Ot.w<300||Ot.h<300)&&hn>0?(w.log(`[loadDayBackgrounds] Using full image for day ${U} (crop ratio: ${Y.toFixed(2)})`),Pt=await Re(We,_e)):Pt=await je(We,_e),Pt&&r.current&&pe.getAttribute("data-content-hash")===We?(pe.src=Pt,qe(pe,xe,Oe.photoMetadata)):r.current&&pe.getAttribute("data-content-hash")===We&&Ee(pe)}else!We&&bt&&Ee(pe)});await Promise.all(Ie)},[a,c,g,s,v,O,u,Re,je,$]);f.useEffect(()=>{let B=null;return O==="calendar"&&c&&a?B=setTimeout(()=>{r.current&&(w.log("[AppContext] Triggering loadDayBackgrounds from effect."),oe())},500):document.querySelectorAll(".calendar-day-img").forEach(q=>{const K=q;K.src&&K.src.startsWith("blob:")&&$.revokeUrl(K.getAttribute("data-content-hash")??""),K.removeAttribute("src"),Object.assign(K.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),K.classList.remove("img-loaded"),K.removeAttribute("data-photo-id"),K.removeAttribute("data-content-hash")}),()=>{B&&clearTimeout(B)}},[oe,O,$,g,v,c,a]);const te=f.useCallback(B=>{const K=new Date(Date.UTC(s.currentYear,s.currentMonth-1,B)).toISOString().split("T")[0];return g.filter(me=>me.date===K)},[g,s.currentMonth,s.currentYear]),ve=f.useCallback(B=>g.find(q=>q.id===B),[g]),ke=f.useCallback(async B=>{if(w.log(`[AppContext] loadSpecificEntry called for ID: ${B}`),!c||!a)return w.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const q=ve(B);if(q)return q;w.log(`[AppContext] loadSpecificEntry: Entry ${B} not in current month. Searching...`);try{const K=await a.listEntryFiles();if(!K)return w.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const me of K){const ce=me.match(/^(\d{4})-(\d{2})-entries\.json$/);if(ce){const qe=parseInt(ce[1],10),Ee=parseInt(ce[2],10)-1;if(qe===s.currentYear&&Ee===s.currentMonth)continue;const Ie=(await a.fetchEntriesForMonth(qe,Ee,u)).find(_=>_.id===B);if(Ie)return w.log(`[AppContext] loadSpecificEntry: Entry ${B} found in ${qe}-${Ee+1}`),Ie}}}catch(K){w.error("[AppContext] loadSpecificEntry: Error searching other months:",K)}return w.warn(`[AppContext] loadSpecificEntry: Entry ${B} not found in any month.`),null},[a,c,ve,s.currentYear,s.currentMonth,u]),lt=f.useCallback(async B=>{if(w.log(`[AppContext handleDayClick] START - Day: ${B}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){w.log("[AppContext handleDayClick] EXIT - Client not ready");return}const q=te(B),K=new Date(Date.UTC(s.currentYear,s.currentMonth-1,B));if(w.log(`[AppContext handleDayClick] Day: ${B}, Entries found: ${q.length}`),q.length>0)w.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(K,q);else{const me=K.toISOString().split("T")[0];w.log("[AppContext handleDayClick] Navigating to /entry/new for date:",me),n(`/entry/new?date=${me}`)}},[a,c,s.currentMonth,s.currentYear,te,i.openViewEntriesModal,n,u,t]),vt=f.useCallback(B=>{n(`/entry/edit/${B}`)},[n]),st=f.useCallback(B=>{i.openDeleteConfirmation(B)},[i.openDeleteConfirmation]),St=f.useCallback(async(B,q)=>{if(B.content=B.content.trim(),!c||!a)return D(new Error("Client not ready.")),!1;const K=!o.isAuthenticated||!u;K&&u&&w.log("[AppContext] User is online but not authenticated. Treating as offline mode."),H(!0),D(null),k(null);try{const me=B.date.getUTCFullYear(),ce=B.date.getUTCMonth()+1;let qe=null,Ee=null;if(q){const U=new Date(q.date+"T00:00:00Z");qe=U.getUTCFullYear(),Ee=U.getUTCMonth()+1}w.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}, Effectively Offline: ${K}`),await a.saveEntry(B,q,!K),K&&t({title:u?"Saved Locally":"Saved Offline",description:u?"Entry saved locally and will sync when you log in.":"Entry saved locally and will sync when online.",variant:"default"});let Fe=v,Ie=g,_=null;try{const U=await Vc(me,ce);if(U&&U.length>0&&(Ie=U),q&&(qe!==me||Ee!==ce)&&qe===s.currentYear&&Ee===s.currentMonth){const Q=await Vc(qe,Ee);Q&&Q.length>0&&(_=Q)}}catch(U){w.error("[AppContext] Error fetching cached entries after offline save:",U)}return r.current&&(S(Fe),me===s.currentYear&&ce===s.currentMonth?x(Ie):_!==null&&x(_),(me!==s.currentYear||ce!==s.currentMonth)&&s.handleMonthYearSelect(ce,me),n("/")),!0}catch(me){return w.error("[AppContext] Save Err: Failed save entry:",me),r.current&&D(me instanceof Error?me:new Error("Failed to save entry")),!1}finally{r.current&&H(!1)}},[a,c,v,s,n,o.isAuthenticated,i,u,t,g]),it=f.useCallback(async()=>{if(!c||!i.entryToDeleteId||!a)return;(!o.isAuthenticated||!u)&&u&&w.log("[AppContext] User is online but not authenticated. Treating as offline mode for deletion."),H(!0),D(null),k(null);try{const q=i.entryToDeleteId,K=ve(q);if(K){const me=new Date(K.date+"T00:00:00Z"),ce=me.getUTCFullYear(),qe=me.getUTCMonth()+1;w.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,ce,qe,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{w.error(`Delete Error: Could not find entry source for ID ${q}`);const me=await ke(q);if(!me){D(new Error("Could not find entry to delete")),H(!1),i.closeDeleteDialog();return}const ce=new Date(me.date+"T00:00:00Z"),qe=ce.getUTCFullYear(),Ee=ce.getUTCMonth()+1;if(w.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,qe,Ee,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),qe===s.currentYear&&Ee===s.currentMonth){const Fe=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&x(Fe)}}if(i.closeDeleteDialog(),i.closeViewModal(),x(me=>me.filter(ce=>ce.id!==q)),u){const me=await a.fetchImagesMetadata(u).catch(ce=>(w.error("Delete Success: Failed post-delete metadata refresh:",ce),v));r.current&&S(me)}}catch(q){w.error("[AppContext] Delete Error:",q),r.current&&D(q instanceof Error?q:new Error("Failed to delete entry"))}finally{r.current&&H(!1)}},[a,c,i,g,s,ve,ke,o.isAuthenticated,u,t,v]),ye=f.useCallback(async()=>{try{if(r.current){const B=await ka();de(B.length)}}catch(B){w.error("[AppContext] Error getting pending sync count:",B)}},[]),Be=f.useCallback(async()=>{if(G){w.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await ye(),ee!=0&&(r.current&&(J(!0),Pe(null)),oE(o.dbx,u,B=>{ye(),ee<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(B,q)=>{r.current&&Pe(q),t({title:"Sync Error",description:`Failed to sync some changes: ${q.message}`,variant:"destructive"})}).catch(B=>{w.error("[AppContext] Error processing save queue:",B),r.current&&Pe(B instanceof Error?B:new Error("Failed to sync changes"))}).finally(()=>{ye(),r.current&&J(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,ye,ee,G]);f.useEffect(()=>{ye();const B=setInterval(()=>{ye()},3e4);return()=>clearInterval(B)},[ye]),f.useEffect(()=>{u&&!y.current&&o.isAuthenticated?(w.log("[AppContext] Coming back online, triggering background sync"),Be()):ye(),y.current=u},[u,o.isAuthenticated,Be,ye]),f.useEffect(()=>{u&&c&&a&&(w.log("[AppContext] Checking for items in save queue due to client ready"),Be())},[c,a,u,Be]);const _t={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:G,pendingSyncCount:ee,syncError:fe,triggerBackgroundSync:Be,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:O,setMonthViewType:z,currentMonthEntries:g,isLoadingEntries:b,imagesMetadata:v,isLoadingImagesMeta:C,entriesError:P,operationError:A,imagesMetaError:M,setEntriesError:k,setImagesMetaError:j,clearOperationError:()=>D(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:F,handleSaveEntry:St,handleDeleteEntry:it,loadDayBackgrounds:oe,getPhotoBlobUrl:Re,getPhotoThumbnailUrl:je,getCombinedEntryDetails:Ze,getEntriesForDay:te,getEntryById:ve,loadSpecificEntry:ke,handleDayClick:lt,handleEditRequest:vt,handleDeleteRequest:st,pendingSharedFiles:N,clearPendingSharedFiles:Te,setPendingSharedFiles:L,navigate:n};return p.jsx(uE.Provider,{value:_t,children:e})};function Zn(){const e=f.useContext(uE);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const Cj=Qa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ej({className:e,variant:t,...n}){return p.jsx("div",{className:ne(Cj({variant:t}),e),...n})}function Pj(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=Zn();if(!e||!t&&n===0&&!r)return null;let s=Rv,i="",a="",l="outline";return r?(s=eC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=QI,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Rv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(zC,{children:p.jsxs(fL,{children:[p.jsx(hL,{asChild:!0,children:p.jsxs(Ye,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:ne("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(Ej,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(qC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var Tj=f.createContext(void 0);function Za(e){const t=f.useContext(Tj);return e||t||"ltr"}var Zd="rovingFocusGroup.onEntryFocus",kj={bubbles:!1,cancelable:!0},$u="RovingFocusGroup",[_h,dE,Aj]=Pu($u),[Dj,Uu]=dn($u,[Aj]),[Rj,Mj]=Dj($u),fE=f.forwardRef((e,t)=>p.jsx(_h.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(_h.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Ij,{...e,ref:t})})}));fE.displayName=$u;var Ij=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),y=Le(t,h),g=Za(s),[x=null,b]=yr({prop:i,defaultProp:a,onChange:l}),[m,v]=f.useState(!1),S=ut(c),C=dE(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Zd,S),()=>A.removeEventListener(Zd,S)},[S]),p.jsx(Rj,{scope:n,orientation:r,dir:g,loop:o,currentTabStopId:x,onItemFocus:f.useCallback(A=>b(A),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:f.useCallback(()=>k(A=>A-1),[]),children:p.jsx(we.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:y,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{E.current=!0}),onFocus:re(e.onFocus,A=>{const D=!E.current;if(A.target===A.currentTarget&&D&&!m){const M=new CustomEvent(Zd,kj);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const j=C().filter(N=>N.focusable),F=j.find(N=>N.active),H=j.find(N=>N.id===x),z=[F,H,...j].filter(Boolean).map(N=>N.ref.current);mE(z,d)}}E.current=!1}),onBlur:re(e.onBlur,()=>v(!1))})})}),hE="RovingFocusGroupItem",pE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Ko(),l=s||a,c=Mj(hE,n),d=c.currentTabStopId===l,u=dE(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=c;return f.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),p.jsx(_h.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(we.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:re(e.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:re(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:re(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=Lj(g,c.orientation,c.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let m=u().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")m.reverse();else if(x==="prev"||x==="next"){x==="prev"&&m.reverse();const v=m.indexOf(g.currentTarget);m=c.loop?jj(m,v+1):m.slice(v+1)}setTimeout(()=>mE(m))}})})})});pE.displayName=hE;var _j={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nj(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Lj(e,t,n){const r=Nj(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _j[r]}function mE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function jj(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gE=fE,yE=pE,Fj="Toggle",km=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=yr({prop:n,onChange:o,defaultProp:r});return p.jsx(we.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:re(e.onClick,()=>{e.disabled||a(!i)})})});km.displayName=Fj;var vE=km,Si="ToggleGroup",[wE,Y4]=dn(Si,[Uu]),xE=Uu(),Am=Ct.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(Oj,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx($j,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Si}\``)});Am.displayName=Si;var[SE,bE]=wE(Si),Oj=Ct.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=yr({prop:n,defaultProp:r,onChange:o});return p.jsx(SE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:Ct.useCallback(()=>a(""),[a]),children:p.jsx(CE,{...s,ref:t})})}),$j=Ct.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=yr({prop:n,defaultProp:r,onChange:o}),l=Ct.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=Ct.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(SE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(CE,{...s,ref:t})})});Am.displayName=Si;var[Uj,Vj]=wE(Si),CE=Ct.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=xE(n),d=Za(i),u={role:"group",dir:d,...l};return p.jsx(Uj,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(gE,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(we.div,{...u,ref:t})}):p.jsx(we.div,{...u,ref:t})})}),Wc="ToggleGroupItem",EE=Ct.forwardRef((e,t)=>{const n=bE(Wc,e.__scopeToggleGroup),r=Vj(Wc,e.__scopeToggleGroup),o=xE(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=Ct.useRef(null);return r.rovingFocus?p.jsx(yE,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(Zv,{...a,ref:t})}):p.jsx(Zv,{...a,ref:t})});EE.displayName=Wc;var Zv=Ct.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=bE(Wc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(km,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),PE=Am,TE=EE;const kE=Qa("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),Bj=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(vE,{ref:o,className:ne(kE({variant:t,size:n,className:e})),...r}));Bj.displayName=vE.displayName;const AE=f.createContext({size:"default",variant:"default"}),DE=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(PE,{ref:s,className:ne("flex items-center justify-center gap-1",e),...o,children:p.jsx(AE.Provider,{value:{variant:t,size:n},children:r})}));DE.displayName=PE.displayName;const Nh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(AE);return p.jsx(TE,{ref:s,className:ne(kE({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});Nh.displayName=TE.displayName;var zj=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(y){(Array.isArray(e)?e:[e]).forEach(g=>{let x=g==="class",b=x&&s?o.map(m=>s[m]||m):o;x?(l.classList.remove(...b),l.classList.add(s&&s[y]?s[y]:y)):l.setAttribute(g,y)}),u(y)}function u(y){a&&c.includes(y)&&(l.style.colorScheme=y)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let y=localStorage.getItem(t)||n,g=i&&y==="system"?h():y;d(g)}catch{}},Jv=["light","dark"],RE="(prefers-color-scheme: dark)",qj=typeof window>"u",Dm=f.createContext(void 0),Wj={setTheme:e=>{},themes:[]},Rm=()=>{var e;return(e=f.useContext(Dm))!=null?e:Wj},Hj=e=>f.useContext(Dm)?f.createElement(f.Fragment,null,e.children):f.createElement(Kj,{...e}),Gj=["light","dark"],Kj=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=Gj,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,y]=f.useState(()=>Qj(o,i)),[g,x]=f.useState(()=>h==="system"?Jd():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=Jd());let k=l?l[P]:P,A=t?Xj(d):null,D=document.documentElement,M=j=>{j==="class"?(D.classList.remove(...b),k&&D.classList.add(k)):j.startsWith("data-")&&(k?D.setAttribute(j,k):D.removeAttribute(j))};if(Array.isArray(a)?a.forEach(M):M(a),r){let j=Jv.includes(i)?i:null,F=Jv.includes(P)?P:j;D.style.colorScheme=F}A==null||A()},[d]),v=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;y(P);try{localStorage.setItem(o,P)}catch{}},[h]),S=f.useCallback(E=>{let P=Jd(E);x(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(RE);return E.addListener(S),S(E),()=>E.removeListener(S)},[S]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?y(P.newValue):v(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[v]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:v,forcedTheme:e,resolvedTheme:h==="system"?g:h,themes:n?[...s,"system"]:s,systemTheme:n?g:void 0}),[h,v,e,g,n,s]);return f.createElement(Dm.Provider,{value:C},f.createElement(Yj,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},Yj=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${zj.toString()})(${d})`}})}),Qj=(e,t)=>{if(qj)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Xj=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Jd=e=>(e||(e=window.matchMedia(RE)),e.matches?"dark":"light"),Mm="Avatar",[Zj,Q4]=dn(Mm),[Jj,ME]=Zj(Mm),IE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(Jj,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(we.span,{...r,ref:t})})});IE.displayName=Mm;var _E="AvatarImage",NE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=ME(_E,n),a=e2(r,s),l=ut(c=>{o(c),i.onImageLoadingStatusChange(c)});return jn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(we.img,{...s,ref:t,src:r}):null});NE.displayName=_E;var LE="AvatarFallback",jE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=ME(LE,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(we.span,{...o,ref:t}):null});jE.displayName=LE;function ew(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function e2(e,{referrerPolicy:t,crossOrigin:n}){const r=n2(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>ew(s,e));return jn(()=>{a(ew(s,e))},[s,e]),jn(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function t2(){return()=>{}}function n2(){return f.useSyncExternalStore(t2,()=>!0,()=>!1)}var FE=IE,OE=NE,$E=jE;const UE=f.forwardRef(({className:e,...t},n)=>p.jsx(FE,{ref:n,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));UE.displayName=FE.displayName;const r2=f.forwardRef(({className:e,...t},n)=>p.jsx(OE,{ref:n,className:ne("aspect-square h-full w-full",e),...t}));r2.displayName=OE.displayName;const VE=f.forwardRef(({className:e,...t},n)=>p.jsx($E,{ref:n,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));VE.displayName=$E.displayName;var ef=0;function BE(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tw()),document.body.insertAdjacentElement("beforeend",e[1]??tw()),ef++,()=>{ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ef--}},[])}function tw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tf="focusScope.autoFocusOnMount",nf="focusScope.autoFocusOnUnmount",nw={bubbles:!1,cancelable:!0},o2="FocusScope",Im=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=ut(o),d=ut(s),u=f.useRef(null),h=Le(t,x=>l(x)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(S){if(y.paused||!a)return;const C=S.target;a.contains(C)?u.current=C:Hr(u.current,{select:!0})},b=function(S){if(y.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Hr(u.current,{select:!0}))},m=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Hr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(m);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,y.paused]),f.useEffect(()=>{if(a){ow.add(y);const x=document.activeElement;if(!a.contains(x)){const m=new CustomEvent(tf,nw);a.addEventListener(tf,c),a.dispatchEvent(m),m.defaultPrevented||(s2(u2(zE(a)),{select:!0}),document.activeElement===x&&Hr(a))}return()=>{a.removeEventListener(tf,c),setTimeout(()=>{const m=new CustomEvent(nf,nw);a.addEventListener(nf,d),a.dispatchEvent(m),m.defaultPrevented||Hr(x??document.body,{select:!0}),a.removeEventListener(nf,d),ow.remove(y)},0)}}},[a,c,d,y]);const g=f.useCallback(x=>{if(!n&&!r||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(b&&m){const v=x.currentTarget,[S,C]=i2(v);S&&C?!x.shiftKey&&m===C?(x.preventDefault(),n&&Hr(S,{select:!0})):x.shiftKey&&m===S&&(x.preventDefault(),n&&Hr(C,{select:!0})):m===v&&x.preventDefault()}},[n,r,y.paused]);return p.jsx(we.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Im.displayName=o2;function s2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Hr(r,{select:t}),document.activeElement!==n)return}function i2(e){const t=zE(e),n=rw(t,e),r=rw(t.reverse(),e);return[n,r]}function zE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rw(e,t){for(const n of e)if(!a2(n,{upTo:t}))return n}function a2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l2(e){return e instanceof HTMLInputElement&&"select"in e}function Hr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&l2(e)&&t&&e.select()}}var ow=c2();function c2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sw(e,t),e.unshift(t)},remove(t){var n;e=sw(e,t),(n=e[0])==null||n.resume()}}}function sw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function u2(e){return e.filter(t=>t.tagName!=="A")}var d2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fs=new WeakMap,Ll=new WeakMap,jl={},rf=0,qE=function(e){return e&&(e.host||qE(e.parentNode))},f2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=qE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},h2=function(e,t,n,r){var o=f2(t,Array.isArray(e)?e:[e]);jl[n]||(jl[n]=new WeakMap);var s=jl[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),g=y!==null&&y!=="false",x=(fs.get(h)||0)+1,b=(s.get(h)||0)+1;fs.set(h,x),s.set(h,b),i.push(h),x===1&&g&&Ll.set(h,!0),b===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),rf++,function(){i.forEach(function(u){var h=fs.get(u)-1,y=s.get(u)-1;fs.set(u,h),s.set(u,y),h||(Ll.has(u)||u.removeAttribute(r),Ll.delete(u)),y||u.removeAttribute(n)}),rf--,rf||(fs=new WeakMap,fs=new WeakMap,Ll=new WeakMap,jl={})}},WE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=d2(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),h2(r,o,n,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cr.apply(this,arguments)};function HE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function p2(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var ic="right-scroll-bar-position",ac="width-before-scroll-bar",m2="with-scroll-bars-hidden",g2="--removed-body-scroll-bar-size";function of(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function y2(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var v2=typeof window<"u"?f.useLayoutEffect:f.useEffect,iw=new WeakMap;function w2(e,t){var n=y2(null,function(r){return e.forEach(function(o){return of(o,r)})});return v2(function(){var r=iw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||of(a,null)}),s.forEach(function(a){o.has(a)||of(a,i)})}iw.set(n,e)},[e]),n}function x2(e){return e}function S2(e,t){t===void 0&&(t=x2);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function b2(e){e===void 0&&(e={});var t=S2(null);return t.options=cr({async:!0,ssr:!1},e),t}var GE=function(e){var t=e.sideCar,n=HE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,cr({},n))};GE.isSideCarExport=!0;function C2(e,t){return e.useMedium(t),GE}var KE=b2(),sf=function(){},Vu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:sf,onWheelCapture:sf,onTouchMoveCapture:sf}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,y=e.noIsolation,g=e.inert,x=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,v=e.gapMode,S=HE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=w2([n,t]),P=cr(cr({},S),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:KE,removeScrollBar:c,shards:u,noIsolation:y,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:v}),i?f.cloneElement(f.Children.only(a),cr(cr({},P),{ref:E})):f.createElement(m,cr({},P,{className:l,ref:E}),a))});Vu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vu.classNames={fullWidth:ac,zeroRight:ic};var E2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=E2();return t&&e.setAttribute("nonce",t),e}function T2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function k2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var A2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=P2())&&(T2(t,n),k2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},D2=function(){var e=A2();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},YE=function(){var e=D2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},R2={left:0,top:0,right:0,gap:0},af=function(e){return parseInt(e||"",10)||0},M2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[af(n),af(r),af(o)]},I2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return R2;var t=M2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_2=YE(),zs="data-scroll-locked",N2=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(m2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ic,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ac,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ac," .").concat(ac,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zs,`] {
    `).concat(g2,": ").concat(a,`px;
  }
`)},aw=function(){var e=parseInt(document.body.getAttribute(zs)||"0",10);return isFinite(e)?e:0},L2=function(){f.useEffect(function(){return document.body.setAttribute(zs,(aw()+1).toString()),function(){var e=aw()-1;e<=0?document.body.removeAttribute(zs):document.body.setAttribute(zs,e.toString())}},[])},j2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;L2();var s=f.useMemo(function(){return I2(o)},[o]);return f.createElement(_2,{styles:N2(s,!t,o,n?"":"!important")})},Lh=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return Lh=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Lh=!1}var hs=Lh?{passive:!1}:!1,F2=function(e){return e.tagName==="TEXTAREA"},QE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!F2(e)&&n[t]==="visible")},O2=function(e){return QE(e,"overflowY")},$2=function(e){return QE(e,"overflowX")},lw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=XE(e,r);if(o){var s=ZE(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},U2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},V2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},XE=function(e,t){return e==="v"?O2(t):$2(t)},ZE=function(e,t){return e==="v"?U2(t):V2(t)},B2=function(e,t){return e==="h"&&t==="rtl"?-1:1},z2=function(e,t,n,r,o){var s=B2(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var y=ZE(e,a),g=y[0],x=y[1],b=y[2],m=x-b-s*g;(g||m)&&XE(e,a)&&(u+=m,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Ol=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cw=function(e){return[e.deltaX,e.deltaY]},uw=function(e){return e&&"current"in e?e.current:e},q2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},W2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},H2=0,ps=[];function G2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(H2++)[0],s=f.useState(YE)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=p2([e.lockRef.current],(e.shards||[]).map(uw),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var m=Ol(x),v=n.current,S="deltaX"in x?x.deltaX:v[0]-m[0],C="deltaY"in x?x.deltaY:v[1]-m[1],E,P=x.target,k=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&k==="h"&&P.type==="range")return!1;var A=lw(k,P);if(!A)return!0;if(A?E=k:(E=k==="v"?"h":"v",A=lw(k,P)),!A)return!1;if(!r.current&&"changedTouches"in x&&(S||C)&&(r.current=E),!E)return!0;var D=r.current||E;return z2(D,b,x,D==="h"?S:C,!0)},[]),l=f.useCallback(function(x){var b=x;if(!(!ps.length||ps[ps.length-1]!==s)){var m="deltaY"in b?cw(b):Ol(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&q2(E.delta,m)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var S=(i.current.shards||[]).map(uw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=S.length>0?a(b,S[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(x,b,m,v){var S={name:x,delta:b,target:m,should:v,shadowParent:K2(m)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=f.useCallback(function(x){n.current=Ol(x),r.current=void 0},[]),u=f.useCallback(function(x){c(x.type,cw(x),x.target,a(x,e.lockRef.current))},[]),h=f.useCallback(function(x){c(x.type,Ol(x),x.target,a(x,e.lockRef.current))},[]);f.useEffect(function(){return ps.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,hs),document.addEventListener("touchmove",l,hs),document.addEventListener("touchstart",d,hs),function(){ps=ps.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,hs),document.removeEventListener("touchmove",l,hs),document.removeEventListener("touchstart",d,hs)}},[]);var y=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(s,{styles:W2(o)}):null,y?f.createElement(j2,{gapMode:e.gapMode}):null)}function K2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Y2=C2(KE,G2);var _m=f.forwardRef(function(e,t){return f.createElement(Vu,cr({},e,{ref:t,sideCar:Y2}))});_m.classNames=Vu.classNames;var jh=["Enter"," "],Q2=["ArrowDown","PageUp","Home"],JE=["ArrowUp","PageDown","End"],X2=[...Q2,...JE],Z2={ltr:[...jh,"ArrowRight"],rtl:[...jh,"ArrowLeft"]},J2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ja="Menu",[Ra,eF,tF]=Pu(Ja),[ls,e1]=dn(Ja,[tF,Nu,Uu]),Bu=Nu(),t1=Uu(),[nF,cs]=ls(Ja),[rF,el]=ls(Ja),n1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Bu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=ut(s),h=Za(o);return f.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.jsx(MC,{...a,children:p.jsx(nF,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(rF,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};n1.displayName=Ja;var oF="MenuAnchor",Nm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bu(n);return p.jsx(IC,{...o,...r,ref:t})});Nm.displayName=oF;var Lm="MenuPortal",[sF,r1]=ls(Lm,{forceMount:void 0}),o1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=cs(Lm,t);return p.jsx(sF,{scope:t,forceMount:n,children:p.jsx(fn,{present:n||s.open,children:p.jsx(Tu,{asChild:!0,container:o,children:r})})})};o1.displayName=Lm;var _n="MenuContent",[iF,jm]=ls(_n),s1=f.forwardRef((e,t)=>{const n=r1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=cs(_n,e.__scopeMenu),i=el(_n,e.__scopeMenu);return p.jsx(Ra.Provider,{scope:e.__scopeMenu,children:p.jsx(fn,{present:r||s.open,children:p.jsx(Ra.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(aF,{...o,ref:t}):p.jsx(lF,{...o,ref:t})})})})}),aF=f.forwardRef((e,t)=>{const n=cs(_n,e.__scopeMenu),r=f.useRef(null),o=Le(t,r);return f.useEffect(()=>{const s=r.current;if(s)return WE(s)},[]),p.jsx(Fm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),lF=f.forwardRef((e,t)=>{const n=cs(_n,e.__scopeMenu);return p.jsx(Fm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),cF=li("MenuContent.ScrollLock"),Fm=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:y,disableOutsideScroll:g,...x}=e,b=cs(_n,n),m=el(_n,n),v=Bu(n),S=t1(n),C=eF(n),[E,P]=f.useState(null),k=f.useRef(null),A=Le(t,k,b.onContentChange),D=f.useRef(0),M=f.useRef(""),j=f.useRef(0),F=f.useRef(null),H=f.useRef("right"),O=f.useRef(0),z=g?_m:f.Fragment,N=g?{as:cF,allowPinchZoom:!0}:void 0,L=I=>{var Te,Re;const $=M.current+I,G=C().filter(je=>!je.disabled),J=document.activeElement,ee=(Te=G.find(je=>je.ref.current===J))==null?void 0:Te.textValue,de=G.map(je=>je.textValue),fe=SF(de,$,ee),Pe=(Re=G.find(je=>je.textValue===fe))==null?void 0:Re.ref.current;(function je(Ze){M.current=Ze,window.clearTimeout(D.current),Ze!==""&&(D.current=window.setTimeout(()=>je(""),1e3))})($),Pe&&setTimeout(()=>Pe.focus())};f.useEffect(()=>()=>window.clearTimeout(D.current),[]),BE();const R=f.useCallback(I=>{var G,J;return H.current===((G=F.current)==null?void 0:G.side)&&CF(I,(J=F.current)==null?void 0:J.area)},[]);return p.jsx(iF,{scope:n,searchRef:M,onItemEnter:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:f.useCallback(I=>{var $;R(I)||(($=k.current)==null||$.focus(),P(null))},[R]),onTriggerLeave:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:j,onPointerGraceIntentChange:f.useCallback(I=>{F.current=I},[]),children:p.jsx(z,{...N,children:p.jsx(Im,{asChild:!0,trapped:o,onMountAutoFocus:re(s,I=>{var $;I.preventDefault(),($=k.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Ya,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:y,children:p.jsx(gE,{asChild:!0,...S,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:re(l,I=>{m.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(_C,{role:"menu","aria-orientation":"vertical","data-state":S1(b.open),"data-radix-menu-content":"",dir:m.dir,...v,...x,ref:A,style:{outline:"none",...x.style},onKeyDown:re(x.onKeyDown,I=>{const G=I.target.closest("[data-radix-menu-content]")===I.currentTarget,J=I.ctrlKey||I.altKey||I.metaKey,ee=I.key.length===1;G&&(I.key==="Tab"&&I.preventDefault(),!J&&ee&&L(I.key));const de=k.current;if(I.target!==de||!X2.includes(I.key))return;I.preventDefault();const Pe=C().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);JE.includes(I.key)&&Pe.reverse(),wF(Pe)}),onBlur:re(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(D.current),M.current="")}),onPointerMove:re(e.onPointerMove,Ma(I=>{const $=I.target,G=O.current!==I.clientX;if(I.currentTarget.contains($)&&G){const J=I.clientX>O.current?"right":"left";H.current=J,O.current=I.clientX}}))})})})})})})});s1.displayName=_n;var uF="MenuGroup",Om=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(we.div,{role:"group",...r,ref:t})});Om.displayName=uF;var dF="MenuLabel",i1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(we.div,{...r,ref:t})});i1.displayName=dF;var Hc="MenuItem",dw="menu.itemSelect",zu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=el(Hc,e.__scopeMenu),a=jm(Hc,e.__scopeMenu),l=Le(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(dw,{bubbles:!0,cancelable:!0});u.addEventListener(dw,y=>r==null?void 0:r(y),{once:!0}),im(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(a1,{...o,ref:l,disabled:n,onClick:re(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:re(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:re(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||jh.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});zu.displayName=Hc;var a1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=jm(Hc,n),a=t1(n),l=f.useRef(null),c=Le(t,l),[d,u]=f.useState(!1),[h,y]=f.useState("");return f.useEffect(()=>{const g=l.current;g&&y((g.textContent??"").trim())},[s.children]),p.jsx(Ra.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(yE,{asChild:!0,...a,focusable:!r,children:p.jsx(we.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:re(e.onPointerMove,Ma(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,Ma(g=>i.onItemLeave(g))),onFocus:re(e.onFocus,()=>u(!0)),onBlur:re(e.onBlur,()=>u(!1))})})})}),fF="MenuCheckboxItem",l1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(h1,{scope:e.__scopeMenu,checked:n,children:p.jsx(zu,{role:"menuitemcheckbox","aria-checked":Gc(n)?"mixed":n,...o,ref:t,"data-state":Um(n),onSelect:re(o.onSelect,()=>r==null?void 0:r(Gc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});l1.displayName=fF;var c1="MenuRadioGroup",[hF,pF]=ls(c1,{value:void 0,onValueChange:()=>{}}),u1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=ut(r);return p.jsx(hF,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Om,{...o,ref:t})})});u1.displayName=c1;var d1="MenuRadioItem",f1=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=pF(d1,e.__scopeMenu),s=n===o.value;return p.jsx(h1,{scope:e.__scopeMenu,checked:s,children:p.jsx(zu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Um(s),onSelect:re(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});f1.displayName=d1;var $m="MenuItemIndicator",[h1,mF]=ls($m,{checked:!1}),p1=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=mF($m,n);return p.jsx(fn,{present:r||Gc(s.checked)||s.checked===!0,children:p.jsx(we.span,{...o,ref:t,"data-state":Um(s.checked)})})});p1.displayName=$m;var gF="MenuSeparator",m1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});m1.displayName=gF;var yF="MenuArrow",g1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bu(n);return p.jsx(NC,{...o,...r,ref:t})});g1.displayName=yF;var vF="MenuSub",[X4,y1]=ls(vF),Bi="MenuSubTrigger",v1=f.forwardRef((e,t)=>{const n=cs(Bi,e.__scopeMenu),r=el(Bi,e.__scopeMenu),o=y1(Bi,e.__scopeMenu),s=jm(Bi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(Nm,{asChild:!0,...c,children:p.jsx(a1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":S1(n.open),...e,ref:Eu(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,Ma(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:re(e.onPointerLeave,Ma(u=>{var y,g;d();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const x=(g=n.content)==null?void 0:g.dataset.side,b=x==="right",m=b?-5:5,v=h[b?"left":"right"],S=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:v,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:v,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,u=>{var y;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||Z2[r.dir].includes(u.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),u.preventDefault())})})})});v1.displayName=Bi;var w1="MenuSubContent",x1=f.forwardRef((e,t)=>{const n=r1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=cs(_n,e.__scopeMenu),i=el(_n,e.__scopeMenu),a=y1(w1,e.__scopeMenu),l=f.useRef(null),c=Le(t,l);return p.jsx(Ra.Provider,{scope:e.__scopeMenu,children:p.jsx(fn,{present:r||s.open,children:p.jsx(Ra.Slot,{scope:e.__scopeMenu,children:p.jsx(Fm,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:re(e.onKeyDown,d=>{var y;const u=d.currentTarget.contains(d.target),h=J2[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),d.preventDefault())})})})})})});x1.displayName=w1;function S1(e){return e?"open":"closed"}function Gc(e){return e==="indeterminate"}function Um(e){return Gc(e)?"indeterminate":e?"checked":"unchecked"}function wF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function SF(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=xF(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function bF(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function CF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return bF(n,t)}function Ma(e){return t=>t.pointerType==="mouse"?e(t):void 0}var EF=n1,PF=Nm,TF=o1,kF=s1,AF=Om,DF=i1,RF=zu,MF=l1,IF=u1,_F=f1,NF=p1,LF=m1,jF=g1,FF=v1,OF=x1,Vm="DropdownMenu",[$F,Z4]=dn(Vm,[e1]),nn=e1(),[UF,b1]=$F(Vm),C1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=nn(t),c=f.useRef(null),[d=!1,u]=yr({prop:o,defaultProp:s,onChange:i});return p.jsx(UF,{scope:t,triggerId:Ko(),triggerRef:c,contentId:Ko(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(EF,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};C1.displayName=Vm;var E1="DropdownMenuTrigger",P1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=b1(E1,n),i=nn(n);return p.jsx(PF,{asChild:!0,...i,children:p.jsx(we.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Eu(t,s.triggerRef),onPointerDown:re(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:re(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});P1.displayName=E1;var VF="DropdownMenuPortal",T1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=nn(t);return p.jsx(TF,{...r,...n})};T1.displayName=VF;var k1="DropdownMenuContent",A1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=b1(k1,n),s=nn(n),i=f.useRef(!1);return p.jsx(kF,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:re(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A1.displayName=k1;var BF="DropdownMenuGroup",zF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(AF,{...o,...r,ref:t})});zF.displayName=BF;var qF="DropdownMenuLabel",D1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(DF,{...o,...r,ref:t})});D1.displayName=qF;var WF="DropdownMenuItem",R1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(RF,{...o,...r,ref:t})});R1.displayName=WF;var HF="DropdownMenuCheckboxItem",M1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(MF,{...o,...r,ref:t})});M1.displayName=HF;var GF="DropdownMenuRadioGroup",KF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(IF,{...o,...r,ref:t})});KF.displayName=GF;var YF="DropdownMenuRadioItem",I1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(_F,{...o,...r,ref:t})});I1.displayName=YF;var QF="DropdownMenuItemIndicator",_1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(NF,{...o,...r,ref:t})});_1.displayName=QF;var XF="DropdownMenuSeparator",N1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(LF,{...o,...r,ref:t})});N1.displayName=XF;var ZF="DropdownMenuArrow",JF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(jF,{...o,...r,ref:t})});JF.displayName=ZF;var eO="DropdownMenuSubTrigger",L1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(FF,{...o,...r,ref:t})});L1.displayName=eO;var tO="DropdownMenuSubContent",j1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=nn(n);return p.jsx(OF,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j1.displayName=tO;var nO=C1,rO=P1,oO=T1,F1=A1,O1=D1,$1=R1,U1=M1,V1=I1,B1=_1,z1=N1,q1=L1,W1=j1;const Bm=nO,zm=rO,sO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(q1,{ref:o,className:ne("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(Yb,{className:"ml-auto"})]}));sO.displayName=q1.displayName;const iO=f.forwardRef(({className:e,...t},n)=>p.jsx(W1,{ref:n,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));iO.displayName=W1.displayName;const qu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(oO,{children:p.jsx(F1,{ref:r,sideOffset:t,className:ne("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));qu.displayName=F1.displayName;const rs=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx($1,{ref:r,className:ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));rs.displayName=$1.displayName;const aO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(U1,{ref:o,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(B1,{children:p.jsx(Kb,{className:"h-4 w-4"})})}),t]}));aO.displayName=U1.displayName;const lO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(V1,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(B1,{children:p.jsx(OI,{className:"h-2 w-2 fill-current"})})}),t]}));lO.displayName=V1.displayName;const H1=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(O1,{ref:r,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));H1.displayName=O1.displayName;const Fh=f.forwardRef(({className:e,...t},n)=>p.jsx(z1,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Fh.displayName=z1.displayName;function G1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qm="Switch",[cO,J4]=dn(qm),[uO,dO]=cO(qm),K1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,y]=f.useState(null),g=Le(t,S=>y(S)),x=f.useRef(!1),b=h?d||!!h.closest("form"):!0,[m=!1,v]=yr({prop:o,defaultProp:s,onChange:c});return p.jsxs(uO,{scope:n,checked:m,disabled:a,children:[p.jsx(we.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":X1(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:g,onClick:re(e.onClick,S=>{v(C=>!C),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&p.jsx(fO,{control:h,bubbles:!x.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});K1.displayName=qm;var Y1="SwitchThumb",Q1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=dO(Y1,n);return p.jsx(we.span,{"data-state":X1(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Q1.displayName=Y1;var fO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=G1(n),a=wm(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function X1(e){return e?"checked":"unchecked"}var Z1=K1,hO=Q1;const J1=f.forwardRef(({className:e,...t},n)=>p.jsx(Z1,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(hO,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));J1.displayName=Z1.displayName;function pO(){const{userInfo:e,isLoadingAuth:t,logout:n}=Zn(),{theme:r,setTheme:o,resolvedTheme:s}=Rm(),i=s==="dark";if(t||!e)return p.jsx(Ye,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Wt,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(Bm,{children:[p.jsx(zm,{asChild:!0,children:p.jsx(Ye,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(UE,{className:"h-8 w-8",children:p.jsx(VE,{children:L_(e.name.display_name)})})})}),p.jsxs(qu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(H1,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(Fh,{}),p.jsx(rs,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(KI,{className:"mr-2 h-4 w-4"}):p.jsx(ZI,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(J1,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(Fh,{}),p.jsxs(rs,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(WI,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function mO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=Zn();Rm();const[,c]=rm(),{toast:d}=Ka(),u=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{w.log("[Header] setLocation instance type:",typeof c)},[c]);const y=x=>{w.log("[Header] New Entry Link clicked. Href:",x.currentTarget.href)},g=x=>{const b=x.target.files;if(b&&b.length>0){const m=Array.from(b),v=m.filter(C=>!C.type.startsWith("image/"));v.length>0&&d({title:"Invalid File Type",description:`Only image files are allowed. ${v.map(C=>C.name).join(", ")} ${v.length===1?"was":"were"} ignored.`,variant:"destructive"});const S=m.filter(C=>C.type.startsWith("image/"));S.length>0?(i(S),w.log(`[Header] Set ${S.length} selected files as pending.`)):w.log("[Header] No valid image files selected.")}else w.log("[Header] No files selected.");x.target&&(x.target.value="")};return p.jsxs("header",{className:ne("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(JI,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),h&&p.jsxs("div",{className:ne("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(Qb,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Ye,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(qI,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:u,onChange:g,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:ne("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(DE,{type:"single",size:"sm",value:o,onValueChange:x=>{x&&s(x)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(Nh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(UI,{className:"h-4 w-4"})}),p.jsx(Nh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(zI,{className:"h-4 w-4"})})]}),p.jsx(Pj,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(uM,{href:"/entry/new",onClick:y,children:p.jsx(Ye,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!a,title:a?"New Entry":"New entry disabled while offline",children:p.jsx(YI,{className:"h-4 w-4"})})}),p.jsx(pO,{})]})]})]})]})}function gO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Wu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Oh=e=>Array.isArray(e);function eP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ia(e){return typeof e=="string"||Array.isArray(e)}function fw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Wm(e,t,n,r){if(typeof t=="function"){const[o,s]=fw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=fw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Hu(e,t,n){const r=e.getProps();return Wm(r,t,n!==void 0?n:r.custom,e)}const Hm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gm=["initial",...Hm],tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],us=new Set(tl),Ar=e=>e*1e3,Dr=e=>e/1e3,yO={type:"spring",stiffness:500,damping:25,restSpeed:10},vO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wO={type:"keyframes",duration:.8},xO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SO=(e,{keyframes:t})=>t.length>2?wO:us.has(e)?e.startsWith("scale")?vO(t[1]):yO:xO;function Km(e,t){return e?e[t]||e.default||e:void 0}const bO={skipAnimations:!1,useManualTiming:!1},CO=e=>e!==null;function Gu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(CO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Gt=e=>e;let $h=Gt;function EO(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const y=u&&r?t:n;return d&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const $l=["read","resolveKeyframes","update","preRender","render","postRender"],PO=40;function tP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=$l.reduce((m,v)=>(m[v]=EO(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,y=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,PO),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(y))},g=()=>{n=!0,r=!0,o.isProcessing||e(y)};return{schedule:$l.reduce((m,v)=>{const S=i[v];return m[v]=(C,E=!1,P=!1)=>(n||g(),S.schedule(C,E,P)),m},{}),cancel:m=>{for(let v=0;v<$l.length;v++)i[$l[v]].cancel(m)},state:o,steps:i}}const{schedule:Xe,cancel:Eo,state:Lt,steps:lf}=tP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),nP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TO=1e-7,kO=12;function AO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=nP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>TO&&++a<kO);return i}function nl(e,t,n,r){if(e===t&&n===r)return Gt;const o=s=>AO(s,0,1,e,n);return s=>s===0||s===1?s:nP(o(s),t,r)}const rP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oP=e=>t=>1-e(1-t),sP=nl(.33,1.53,.69,.99),Ym=oP(sP),iP=rP(Ym),aP=e=>(e*=2)<1?.5*Ym(e):.5*(2-Math.pow(2,-10*(e-1))),Qm=e=>1-Math.sin(Math.acos(e)),lP=oP(Qm),cP=rP(Qm),uP=e=>/^0[^.\s]+$/u.test(e);function DO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uP(e):!0}const dP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),fP=e=>t=>typeof t=="string"&&t.startsWith(e),hP=fP("--"),RO=fP("var(--"),Xm=e=>RO(e)?MO.test(e.split("/*")[0].trim()):!1,MO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,IO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _O(e){const t=IO.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function pP(e,t,n=1){const[r,o]=_O(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return dP(i)?parseFloat(i):i}return Xm(o)?pP(o,t,n+1):o}const Fr=(e,t,n)=>n>t?t:n<e?e:n,bi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_a={...bi,transform:e=>Fr(0,1,e)},Ul={...bi,default:1},rl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gr=rl("deg"),pr=rl("%"),ge=rl("px"),NO=rl("vh"),LO=rl("vw"),hw={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},jO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pw=e=>e===bi||e===ge,mw=(e,t)=>parseFloat(e.split(", ")[t]),gw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return mw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?mw(s[1],e):0}},FO=new Set(["x","y","z"]),OO=tl.filter(e=>!FO.has(e));function $O(e){const t=[];return OO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const di={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gw(4,13),y:gw(5,14)};di.translateX=di.x;di.translateY=di.y;const mP=e=>t=>t.test(e),UO={test:e=>e==="auto",parse:e=>e},gP=[bi,ge,pr,Gr,LO,NO,UO],yw=e=>gP.find(mP(e)),Qo=new Set;let Uh=!1,Vh=!1;function yP(){if(Vh){const e=Array.from(Qo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=$O(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vh=!1,Uh=!1,Qo.forEach(e=>e.complete()),Qo.clear()}function vP(){Qo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vh=!0)})}function VO(){vP(),yP()}class Zm{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qo.add(this),Uh||(Uh=!0,Xe.read(vP),Xe.resolveKeyframes(yP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const na=e=>Math.round(e*1e5)/1e5,Jm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BO(e){return e==null}const zO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eg=(e,t)=>n=>!!(typeof n=="string"&&zO.test(n)&&n.startsWith(e)||t&&!BO(n)&&Object.prototype.hasOwnProperty.call(n,t)),wP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(Jm);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},qO=e=>Fr(0,255,e),cf={...bi,transform:e=>Math.round(qO(e))},Uo={test:eg("rgb","red"),parse:wP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+cf.transform(e)+", "+cf.transform(t)+", "+cf.transform(n)+", "+na(_a.transform(r))+")"};function WO(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Bh={test:eg("#"),parse:WO,transform:Uo.transform},As={test:eg("hsl","hue"),parse:wP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pr.transform(na(t))+", "+pr.transform(na(n))+", "+na(_a.transform(r))+")"},zt={test:e=>Uo.test(e)||Bh.test(e)||As.test(e),parse:e=>Uo.test(e)?Uo.parse(e):As.test(e)?As.parse(e):Bh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Uo.transform(e):As.transform(e)},HO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Jm))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(HO))===null||n===void 0?void 0:n.length)||0)>0}const xP="number",SP="color",KO="var",YO="var(",vw="${}",QO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Na(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(QO,l=>(zt.test(l)?(r.color.push(s),o.push(SP),n.push(zt.parse(l))):l.startsWith(YO)?(r.var.push(s),o.push(KO),n.push(l)):(r.number.push(s),o.push(xP),n.push(parseFloat(l))),++s,vw)).split(vw);return{values:n,split:a,indexes:r,types:o}}function bP(e){return Na(e).values}function CP(e){const{split:t,types:n}=Na(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===xP?s+=na(o[i]):a===SP?s+=zt.transform(o[i]):s+=o[i]}return s}}const XO=e=>typeof e=="number"?0:e;function ZO(e){const t=bP(e);return CP(e)(t.map(XO))}const Po={test:GO,parse:bP,createTransformer:CP,getAnimatableNone:ZO},JO=new Set(["brightness","contrast","saturate","opacity"]);function e$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Jm)||[];if(!r)return e;const o=n.replace(r,"");let s=JO.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const t$=/\b([a-z-]*)\(.*?\)/gu,zh={...Po,getAnimatableNone:e=>{const t=e.match(t$);return t?t.map(e$).join(" "):e}},n$={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},r$={rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:Ul,scaleX:Ul,scaleY:Ul,scaleZ:Ul,skew:Gr,skewX:Gr,skewY:Gr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:_a,originX:hw,originY:hw,originZ:ge},ww={...bi,transform:Math.round},tg={...n$,...r$,zIndex:ww,size:ge,fillOpacity:_a,strokeOpacity:_a,numOctaves:ww},o$={...tg,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:zh,WebkitFilter:zh},ng=e=>o$[e];function EP(e,t){let n=ng(e);return n!==zh&&(n=Po),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const s$=new Set(["auto","none","0"]);function i$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!s$.has(s)&&Na(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=EP(n,o)}class PP extends Zm{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Xm(c))){const d=pP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!jO.has(r)||t.length!==2)return;const[o,s]=t,i=yw(o),a=yw(s);if(i!==a)if(pw(i)&&pw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)DO(t[o])&&r.push(o);r.length&&i$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=di[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function rg(e){return typeof e=="function"}let lc;function a$(){lc=void 0}const mr={now:()=>(lc===void 0&&mr.set(Lt.isProcessing||bO.useManualTiming?Lt.timestamp:performance.now()),lc),set:e=>{lc=e,queueMicrotask(a$)}},xw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Po.test(e)||e==="0")&&!e.startsWith("url("));function l$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function c$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=xw(o,t),a=xw(s,t);return!i||!a?!1:l$(e)||(n==="spring"||rg(n))&&r}const u$=40;class TP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>u$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!c$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Gu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const fi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},kP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(fi(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function AP(e,t){return t?e*(1e3/t):0}const d$=5;function DP(e,t,n){const r=Math.max(t-d$,0);return AP(n-e(r),t-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uf=.001;function f$({duration:e=gt.duration,bounce:t=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let o,s,i=1-t;i=Fr(gt.minDamping,gt.maxDamping,i),e=Fr(gt.minDuration,gt.maxDuration,Dr(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,y=qh(c,i),g=Math.exp(-u);return uf-h/y*g},s=c=>{const u=c*i*e,h=u*n+n,y=Math.pow(i,2)*Math.pow(c,2)*e,g=Math.exp(-u),x=qh(Math.pow(c,2),i);return(-o(c)+uf>0?-1:1)*((h-y)*g)/x}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-uf+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=p$(o,s,a);if(e=Ar(e),isNaN(l))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const h$=12;function p$(e,t,n){let r=n;for(let o=1;o<h$;o++)r=r-e(r)/t(r);return r}function qh(e,t){return e*Math.sqrt(1-t*t)}const Wh=2e4;function RP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wh;)t+=n,r=e.next(t);return t>=Wh?1/0:t}const m$=["duration","bounce"],g$=["stiffness","damping","mass"];function Sw(e,t){return t.some(n=>e[n]!==void 0)}function y$(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!Sw(e,g$)&&Sw(e,m$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Fr(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:gt.mass,stiffness:o,damping:s}}else{const n=f$(e);t={...t,...n,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function MP(e=gt.visualDuration,t=gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:y}=y$({...n,velocity:-Dr(n.velocity||0)}),g=h||0,x=c/(2*Math.sqrt(l*d)),b=i-s,m=Dr(Math.sqrt(l/d)),v=Math.abs(b)<5;r||(r=v?gt.restSpeed.granular:gt.restSpeed.default),o||(o=v?gt.restDelta.granular:gt.restDelta.default);let S;if(x<1){const E=qh(m,x);S=P=>{const k=Math.exp(-x*m*P);return i-k*((g+x*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(x===1)S=E=>i-Math.exp(-m*E)*(b+(g+m*b)*E);else{const E=m*Math.sqrt(x*x-1);S=P=>{const k=Math.exp(-x*m*P),A=Math.min(E*P,300);return i-k*((g+x*m*b)*Math.sinh(A)+E*b*Math.cosh(A))/E}}const C={calculatedDuration:y&&u||null,next:E=>{const P=S(E);if(y)a.done=E>=u;else{let k=0;x<1&&(k=E===0?Ar(g):DP(S,E,P));const A=Math.abs(k)<=r,D=Math.abs(i-P)<=o;a.done=A&&D}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(RP(C),Wh),P=kP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function bw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},y=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let x=n*t;const b=u+x,m=i===void 0?b:i(b);m!==b&&(x=m-u);const v=A=>-x*Math.exp(-A/r),S=A=>m+v(A),C=A=>{const D=v(A),M=S(A);h.done=Math.abs(D)<=c,h.value=h.done?m:M};let E,P;const k=A=>{y(h.value)&&(E=A,P=MP({keyframes:[h.value,g(h.value)],velocity:DP(S,A,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let D=!1;return!P&&E===void 0&&(D=!0,C(A),k(A)),E!==void 0&&A>=E?P.next(A-E):(!D&&C(A),h)}}}const v$=nl(.42,0,1,1),w$=nl(0,0,.58,1),IP=nl(.42,0,.58,1),x$=e=>Array.isArray(e)&&typeof e[0]!="number",og=e=>Array.isArray(e)&&typeof e[0]=="number",Cw={linear:Gt,easeIn:v$,easeInOut:IP,easeOut:w$,circIn:Qm,circInOut:cP,circOut:lP,backIn:Ym,backInOut:iP,backOut:sP,anticipate:aP},Ew=e=>{if(og(e)){$h(e.length===4);const[t,n,r,o]=e;return nl(t,n,r,o)}else if(typeof e=="string")return $h(Cw[e]!==void 0),Cw[e];return e},S$=(e,t)=>n=>t(e(n)),yo=(...e)=>e.reduce(S$),dt=(e,t,n)=>e+(t-e)*n;function df(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function b$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=df(l,a,e+1/3),s=df(l,a,e),i=df(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Kc(e,t){return n=>n>0?t:e}const ff=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},C$=[Bh,Uo,As],E$=e=>C$.find(t=>t.test(e));function Pw(e){const t=E$(e);if(!t)return!1;let n=t.parse(e);return t===As&&(n=b$(n)),n}const Tw=(e,t)=>{const n=Pw(e),r=Pw(t);if(!n||!r)return Kc(e,t);const o={...n};return s=>(o.red=ff(n.red,r.red,s),o.green=ff(n.green,r.green,s),o.blue=ff(n.blue,r.blue,s),o.alpha=dt(n.alpha,r.alpha,s),Uo.transform(o))},Hh=new Set(["none","hidden"]);function P$(e,t){return Hh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function T$(e,t){return n=>dt(e,t,n)}function sg(e){return typeof e=="number"?T$:typeof e=="string"?Xm(e)?Kc:zt.test(e)?Tw:D$:Array.isArray(e)?_P:typeof e=="object"?zt.test(e)?Tw:k$:Kc}function _P(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>sg(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function k$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=sg(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function A$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const D$=(e,t)=>{const n=Po.createTransformer(t),r=Na(e),o=Na(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Hh.has(e)&&!o.values.length||Hh.has(t)&&!r.values.length?P$(e,t):yo(_P(A$(r,o),o.values),n):Kc(e,t)};function NP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?dt(e,t,n):sg(e)(e,t)}function R$(e,t,n){const r=[],o=n||NP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Gt:t;a=yo(l,a)}r.push(a)}return r}function M$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if($h(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=R$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=fi(e[d],e[d+1],c);return i[d](u)};return n?c=>l(Fr(e[0],e[s-1],c)):l}function I$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=fi(0,t,r);e.push(dt(n,1,o))}}function _$(e){const t=[0];return I$(t,e.length-1),t}function N$(e,t){return e.map(n=>n*t)}function L$(e,t){return e.map(()=>t||IP).splice(0,e.length-1)}function Yc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=x$(r)?r.map(Ew):Ew(r),s={done:!1,value:t[0]},i=N$(n&&n.length===t.length?n:_$(t),e),a=M$(i,t,{ease:Array.isArray(o)?o:L$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const j$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Xe.update(t,!0),stop:()=>Eo(t),now:()=>Lt.isProcessing?Lt.timestamp:mr.now()}},F$={decay:bw,inertia:bw,tween:Yc,keyframes:Yc,spring:MP},O$=e=>e/100;class ig extends TP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||Zm,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=rg(n)?n:F$[n]||Yc;let l,c;a!==Yc&&typeof t[0]!="number"&&(l=yo(O$,NP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=RP(d));const{calculatedDuration:u}=d,h=u+o,y=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:y,repeatType:g,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=s;if(y){const A=Math.min(this.currentTime,d)/u;let D=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(g==="reverse"?(M=1-M,x&&(M-=x/u)):g==="mirror"&&(C=i)),S=Fr(0,1,M)*u}const E=v?{done:!1,value:l[0]}:C.next(S);a&&(E.value=a(E.value));let{done:P}=E;!v&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Gu(l,this.options,o)),b&&b(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Dr(t.calculatedDuration):0}get time(){return Dr(this.currentTime)}set time(t){t=Ar(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Dr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=j$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const $$=new Set(["opacity","clipPath","filter","transform"]);function ag(e){let t;return()=>(t===void 0&&(t=e()),t)}const U$={linearEasing:void 0};function V$(e,t){const n=ag(e);return()=>{var r;return(r=U$[t])!==null&&r!==void 0?r:n()}}const Qc=V$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function LP(e){return!!(typeof e=="function"&&Qc()||!e||typeof e=="string"&&(e in Gh||Qc())||og(e)||Array.isArray(e)&&e.every(LP))}const zi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Gh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zi([0,.65,.55,1]),circOut:zi([.55,0,1,.45]),backIn:zi([.31,.01,.66,-.59]),backOut:zi([.33,1.53,.69,.99])};function jP(e,t){if(e)return typeof e=="function"&&Qc()?kP(e,t):og(e)?zi(e):Array.isArray(e)?e.map(n=>jP(n,t)||Gh.easeOut):Gh[e]}function B$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=jP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function kw(e,t){e.timeline=t,e.onfinish=null}const z$=ag(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xc=10,q$=2e4;function W$(e){return rg(e.type)||e.type==="spring"||!LP(e.ease)}function H$(e,t){const n=new ig({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<q$;)r=n.sample(s),o.push(r.value),s+=Xc;return{times:void 0,keyframes:o,duration:s-Xc,ease:"linear"}}const FP={anticipate:aP,backInOut:iP,circInOut:cP};function G$(e){return e in FP}class Aw extends TP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new PP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Qc()&&G$(i)&&(i=FP[i]),W$(this.options)){const{onComplete:h,onUpdate:y,motionValue:g,element:x,...b}=this.options,m=H$(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=B$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(kw(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Gu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Dr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Dr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ar(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;kw(r,t)}return Gt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...y}=this.options,g=new ig({...y,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),x=Ar(this.time);c.setWithVelocity(g.sample(x-Xc).value,g.sample(x).value,Xc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return z$()&&r&&$$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const K$=ag(()=>window.ScrollTimeline!==void 0);class Y${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>K$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Q$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const lg=(e,t,n,r={},o,s)=>i=>{const a=Km(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ar(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};Q$(a)||(d={...d,...SO(e,d)}),d.duration&&(d.duration=Ar(d.duration)),d.repeatDelay&&(d.repeatDelay=Ar(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Gu(d.keyframes,a);if(h!==void 0)return Xe.update(()=>{d.onUpdate(h),d.onComplete()}),new Y$([])}return!s&&Aw.supports(d)?new Aw(d):new ig(d)},X$=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Z$=e=>Oh(e)?e[e.length-1]||0:e;function cg(e,t){e.indexOf(t)===-1&&e.push(t)}function ug(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class dg{constructor(){this.subscriptions=[]}add(t){return cg(this.subscriptions,t),()=>ug(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dw=30,J$=e=>!isNaN(parseFloat(e));class eU{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=mr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J$(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Dw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dw);return AP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(e,t){return new eU(e,t)}function tU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,La(n))}function nU(e,t){const n=Hu(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=Z$(s[i]);tU(e,i,a)}}const fg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rU="framerAppearId",OP="data-"+fg(rU);function $P(e){return e.props[OP]}const Ht=e=>!!(e&&e.getVelocity);function oU(e){return!!(Ht(e)&&e.add)}function Kh(e,t){const n=e.getValue("willChange");if(oU(n))return n.add(t)}function sU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),y=l[u];if(y===void 0||d&&sU(d,u))continue;const g={delay:n,...Km(i||{},u)};let x=!1;if(window.MotionHandoffAnimation){const m=$P(e);if(m){const v=window.MotionHandoffAnimation(m,u,Xe);v!==null&&(g.startTime=v,x=!0)}}Kh(e,u),h.start(lg(u,h,y,e.shouldReduceMotion&&us.has(u)?{type:!1}:g,e,x));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Xe.update(()=>{a&&nU(e,a)})}),c}function Yh(e,t,n={}){var r;const o=Hu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(UP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return iU(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function iU(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(aU).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Yh(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function aU(e,t){return e.sortNodePosition(t)}function lU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Yh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Yh(e,t,n);else{const o=typeof t=="function"?Hu(e,t,n.custom):t;r=Promise.all(UP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const cU=Gm.length;function VP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?VP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cU;n++){const r=Gm[n],o=e.props[r];(Ia(o)||o===!1)&&(t[r]=o)}return t}const uU=[...Hm].reverse(),dU=Hm.length;function fU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lU(e,n,r)))}function hU(e){let t=fU(e),n=Rw(),r=!0;const o=l=>(c,d)=>{var u;const h=Hu(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:y,transitionEnd:g,...x}=h;c={...c,...x,...g}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=VP(e.parent)||{},u=[],h=new Set;let y={},g=1/0;for(let b=0;b<dU;b++){const m=uU[b],v=n[m],S=c[m]!==void 0?c[m]:d[m],C=Ia(S),E=m===l?v.isActive:null;E===!1&&(g=b);let P=S===d[m]&&S!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...y},!v.isActive&&E===null||!S&&!v.prevProp||Wu(S)||typeof S=="boolean")continue;const k=pU(v.prevProp,S);let A=k||m===l&&v.isActive&&!P&&C||b>g&&C,D=!1;const M=Array.isArray(S)?S:[S];let j=M.reduce(o(m),{});E===!1&&(j={});const{prevResolvedValues:F={}}=v,H={...F,...j},O=L=>{A=!0,h.has(L)&&(D=!0,h.delete(L)),v.needsAnimating[L]=!0;const R=e.getValue(L);R&&(R.liveStyle=!1)};for(const L in H){const R=j[L],I=F[L];if(y.hasOwnProperty(L))continue;let $=!1;Oh(R)&&Oh(I)?$=!eP(R,I):$=R!==I,$?R!=null?O(L):h.add(L):R!==void 0&&h.has(L)?O(L):v.protectedKeys[L]=!0}v.prevProp=S,v.prevResolvedValues=j,v.isActive&&(y={...y,...j}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(P&&k)||D)&&u.push(...M.map(L=>({animation:L,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const v=e.getBaseTarget(m),S=e.getValue(m);S&&(S.liveStyle=!0),b[m]=v??null}),u.push({animation:b})}let x=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var y;return(y=h.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Rw(),r=!0}}}function pU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eP(t,e):!1}function Io(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rw(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class Do{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mU extends Do{constructor(t){super(t),t.animationState||(t.animationState=hU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let gU=0;class yU extends Do{constructor(){super(...arguments),this.id=gU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const vU={animation:{Feature:mU},exit:{Feature:yU}};function wU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const $n={x:!1,y:!1};function BP(){return $n.x||$n.y}function Mw(e){return t=>{t.pointerType==="touch"||BP()||e(t)}}function xU(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=Mw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=Mw(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return wU(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function SU(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const zP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ol(e){return{point:{x:e.pageX,y:e.pageY}}}const bU=e=>t=>zP(t)&&e(t,ol(t));function Tr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function vo(e,t,n,r){return Tr(e,t,bU(n),r)}const Iw=(e,t)=>Math.abs(e-t);function CU(e,t){const n=Iw(e.x,t.x),r=Iw(e.y,t.y);return Math.sqrt(n**2+r**2)}class qP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=pf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=CU(u.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:g}=u,{timestamp:x}=Lt;this.history.push({...g,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=hf(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=pf(u.type==="pointercancel"?this.lastMoveEventInfo:hf(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(u,b),g&&g(u,b)},!zP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=ol(t),a=hf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Lt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,pf(a,this.history)),this.removeListeners=yo(vo(this.contextWindow,"pointermove",this.handlePointerMove),vo(this.contextWindow,"pointerup",this.handlePointerUp),vo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}}function hf(e,t){return t?{point:t(e.point)}:e}function _w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pf({point:e},t){return{point:e,delta:_w(e,WP(t)),offset:_w(e,EU(t)),velocity:PU(t,.1)}}function EU(e){return e[0]}function WP(e){return e[e.length-1]}function PU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=WP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Ar(t)));)n--;if(!r)return{x:0,y:0};const s=Dr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ds(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const HP=1e-4,TU=1-HP,kU=1+HP,GP=.01,AU=0-GP,DU=0+GP;function Sn(e){return e.max-e.min}function RU(e,t,n){return Math.abs(e-t)<=n}function Nw(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Sn(n)/Sn(t),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=TU&&e.scale<=kU||isNaN(e.scale))&&(e.scale=1),(e.translate>=AU&&e.translate<=DU||isNaN(e.translate))&&(e.translate=0)}function ra(e,t,n,r){Nw(e.x,t.x,n.x,r?r.originX:void 0),Nw(e.y,t.y,n.y,r?r.originY:void 0)}function Lw(e,t,n){e.min=n.min+t.min,e.max=e.min+Sn(t)}function MU(e,t,n){Lw(e.x,t.x,n.x),Lw(e.y,t.y,n.y)}function jw(e,t,n){e.min=t.min-n.min,e.max=e.min+Sn(t)}function oa(e,t,n){jw(e.x,t.x,n.x),jw(e.y,t.y,n.y)}function IU(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function Fw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _U(e,{top:t,left:n,bottom:r,right:o}){return{x:Fw(e.x,n,o),y:Fw(e.y,t,r)}}function Ow(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function NU(e,t){return{x:Ow(e.x,t.x),y:Ow(e.y,t.y)}}function LU(e,t){let n=.5;const r=Sn(e),o=Sn(t);return o>r?n=fi(t.min,t.max-r,e.min):r>o&&(n=fi(e.min,e.max-o,t.min)),Fr(0,1,n)}function jU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qh=.35;function FU(e=Qh){return e===!1?e=0:e===!0&&(e=Qh),{x:$w(e,"left","right"),y:$w(e,"top","bottom")}}function $w(e,t,n){return{min:Uw(e,t),max:Uw(e,n)}}function Uw(e,t){return typeof e=="number"?e:e[t]||0}const Vw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rs=()=>({x:Vw(),y:Vw()}),Bw=()=>({min:0,max:0}),wt=()=>({x:Bw(),y:Bw()});function kn(e){return[e("x"),e("y")]}function KP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function OU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $U(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mf(e){return e===void 0||e===1}function Xh({scale:e,scaleX:t,scaleY:n}){return!mf(e)||!mf(t)||!mf(n)}function Lo(e){return Xh(e)||YP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function YP(e){return zw(e.x)||zw(e.y)}function zw(e){return e&&e!=="0%"}function Zc(e,t,n){const r=e-n,o=t*r;return n+o}function qw(e,t,n,r,o){return o!==void 0&&(e=Zc(e,o,r)),Zc(e,n,r)+t}function Zh(e,t=0,n=1,r,o){e.min=qw(e.min,t,n,r,o),e.max=qw(e.max,t,n,r,o)}function QP(e,{x:t,y:n}){Zh(e.x,t.translate,t.scale,t.originPoint),Zh(e.y,n.translate,n.scale,n.originPoint)}const Ww=.999999999999,Hw=1.0000000000001;function UU(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Is(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,QP(e,i)),r&&Lo(s.latestValues)&&Is(e,s.latestValues))}t.x<Hw&&t.x>Ww&&(t.x=1),t.y<Hw&&t.y>Ww&&(t.y=1)}function Ms(e,t){e.min=e.min+t,e.max=e.max+t}function Gw(e,t,n,r,o=.5){const s=dt(e.min,e.max,o);Zh(e,t,n,s,r)}function Is(e,t){Gw(e.x,t.x,t.scaleX,t.scale,t.originX),Gw(e.y,t.y,t.scaleY,t.scale,t.originY)}function XP(e,t){return KP($U(e.getBoundingClientRect(),t))}function VU(e,t,n){const r=XP(e,n),{scroll:o}=t;return o&&(Ms(r.x,o.offset.x),Ms(r.y,o.offset.y)),r}const ZP=({current:e})=>e?e.ownerDocument.defaultView:null,BU=new WeakMap;class zU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ol(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:y,onDragStart:g}=this.getProps();if(h&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SU(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(pr.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[b];S&&(m=Sn(S)*(parseFloat(m)/100))}}this.originPoint[b]=m}),g&&Xe.postRender(()=>g(d,u)),Kh(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:g,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=u;if(y&&this.currentDirection===null){this.currentDirection=qU(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),x&&x(d,u)},a=(d,u)=>this.stop(d,u),l=()=>kn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ZP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Xe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Vl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=IU(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ds(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=_U(o.layoutBox,n):this.constraints=!1,this.elastic=FU(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=jU(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ds(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=VU(r,o.root,this.visualElement.getTransformPagePoint());let i=NU(o.layout.layoutBox,s);if(n){const a=n(OU(i));this.hasMutatedConstraints=!!a,a&&(i=KP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kn(d=>{if(!Vl(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,y=o?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Kh(this.visualElement,t),r.start(lg(t,r,0,n,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kn(n=>{const{drag:r}=this.getProps();if(!Vl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-dt(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ds(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=LU({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(i=>{if(!Vl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(dt(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const t=this.visualElement.current,n=vo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ds(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(r);const i=Tr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Qh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Vl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WU extends Do{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new zU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kw=e=>(t,n)=>{e&&Xe.postRender(()=>e(t,n))};class HU extends Do{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new qP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Kw(t),onStart:Kw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Xe.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ku=f.createContext(null);function GU(){const e=f.useContext(Ku);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const hg=f.createContext({}),JP=f.createContext({}),cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=Yw(e,t.target.x),r=Yw(e,t.target.y);return`${n}% ${r}%`}},KU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Po.parse(e);if(o.length>5)return r;const s=Po.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=dt(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},Jc={};function YU(e){Object.assign(Jc,e)}const{schedule:pg,cancel:e3}=tP(queueMicrotask,!1);class QU extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;YU(XU),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Xe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eT(e){const[t,n]=GU(),r=f.useContext(hg);return p.jsx(QU,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(JP),isPresent:t,safeToRemove:n})}const XU={borderRadius:{...Fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fi,borderTopRightRadius:Fi,borderBottomLeftRadius:Fi,borderBottomRightRadius:Fi,boxShadow:KU},tT=["TopLeft","TopRight","BottomLeft","BottomRight"],ZU=tT.length,Qw=e=>typeof e=="string"?parseFloat(e):e,Xw=e=>typeof e=="number"||ge.test(e);function JU(e,t,n,r,o,s){o?(e.opacity=dt(0,n.opacity!==void 0?n.opacity:1,eV(r)),e.opacityExit=dt(t.opacity!==void 0?t.opacity:1,0,tV(r))):s&&(e.opacity=dt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<ZU;i++){const a=`border${tT[i]}Radius`;let l=Zw(t,a),c=Zw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Xw(l)===Xw(c)?(e[a]=Math.max(dt(Qw(l),Qw(c),r),0),(pr.test(c)||pr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function Zw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eV=nT(0,.5,lP),tV=nT(.5,.95,Gt);function nT(e,t,n){return r=>r<e?0:r>t?1:n(fi(e,t,r))}function Jw(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){Jw(e.x,t.x),Jw(e.y,t.y)}function e0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function t0(e,t,n,r,o){return e-=t,e=Zc(e,1/n,r),o!==void 0&&(e=Zc(e,1/o,r)),e}function nV(e,t=0,n=1,r=.5,o,s=e,i=e){if(pr.test(t)&&(t=parseFloat(t),t=dt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=dt(s.min,s.max,r);e===s&&(a-=t),e.min=t0(e.min,t,n,a,o),e.max=t0(e.max,t,n,a,o)}function n0(e,t,[n,r,o],s,i){nV(e,t[n],t[r],t[o],t.scale,s,i)}const rV=["x","scaleX","originX"],oV=["y","scaleY","originY"];function r0(e,t,n,r){n0(e.x,t,rV,n?n.x:void 0,r?r.x:void 0),n0(e.y,t,oV,n?n.y:void 0,r?r.y:void 0)}function o0(e){return e.translate===0&&e.scale===1}function rT(e){return o0(e.x)&&o0(e.y)}function s0(e,t){return e.min===t.min&&e.max===t.max}function sV(e,t){return s0(e.x,t.x)&&s0(e.y,t.y)}function i0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oT(e,t){return i0(e.x,t.x)&&i0(e.y,t.y)}function a0(e){return Sn(e.x)/Sn(e.y)}function l0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iV{constructor(){this.members=[]}add(t){cg(this.members,t),t.scheduleRender()}remove(t){if(ug(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aV(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:y,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const lV=(e,t)=>e.depth-t.depth;class cV{constructor(){this.children=[],this.isDirty=!1}add(t){cg(this.children,t),this.isDirty=!0}remove(t){ug(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lV),this.isDirty=!1,this.children.forEach(t)}}function uc(e){const t=Ht(e)?e.get():e;return X$(t)?t.toValue():t}function uV(e,t){const n=mr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(Eo(r),e(s-t))};return Xe.read(r,!0),()=>Eo(r)}function dV(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fV(e,t,n){const r=Ht(e)?e:La(e);return r.start(lg("",r,t,n)),r.animation}const jo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qi=typeof window<"u"&&window.MotionDebug!==void 0,gf=["","X","Y","Z"],hV={visibility:"hidden"},c0=1e3;let pV=0;function yf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$P(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&sT(r)}function iT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=pV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qi&&(jo.totalNodes=jo.resolvedTargetDeltas=jo.recalculatedProjection=0),this.nodes.forEach(yV),this.nodes.forEach(bV),this.nodes.forEach(CV),this.nodes.forEach(vV),qi&&window.MotionDebug.record(jo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new cV)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new dg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dV(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=uV(h,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(d0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||AV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),v=!this.targetLayout||!oT(this.targetLayout,g)||y,S=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const C={...Km(x,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||d0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EV),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u0);return}this.isUpdating||this.nodes.forEach(xV),this.isUpdating=!1,this.nodes.forEach(SV),this.nodes.forEach(mV),this.nodes.forEach(gV),this.clearAllSnapshots();const a=mr.now();Lt.delta=Fr(0,1e3/60,a-Lt.timestamp),Lt.timestamp=a,Lt.isProcessing=!0,lf.update.process(Lt),lf.preRender.process(Lt),lf.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wV),this.sharedNodes.forEach(PV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||Lo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),DV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return wt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(RV))){const{scroll:d}=this.root;d&&(Ms(l.x,d.offset.x),Ms(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=wt();if(Tn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Tn(l,i),Ms(l.x,u.offset.x),Ms(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=wt();Tn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Is(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Lo(d.latestValues)&&Is(l,d.latestValues)}return Lo(this.latestValues)&&Is(l,this.latestValues),l}removeTransform(i){const a=wt();Tn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Lo(c.latestValues))continue;Xh(c.latestValues)&&c.updateSnapshot();const d=wt(),u=c.measurePageBox();Tn(d,u),r0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Lo(this.latestValues)&&r0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),oa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),QP(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),oa(this.relativeTargetOrigin,this.target,y.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qi&&jo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xh(this.parent.latestValues)||YP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;UU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=wt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e0(this.prevProjectionDelta.x,this.projectionDelta.x),e0(this.prevProjectionDelta.y,this.projectionDelta.y)),ra(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!l0(this.projectionDelta.x,this.prevProjectionDelta.x)||!l0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),qi&&jo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rs(),this.projectionDelta=Rs(),this.projectionDeltaWithTransform=Rs()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=Rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=wt(),y=l?l.source:void 0,g=this.layout?this.layout.source:void 0,x=y!==g,b=this.getStack(),m=!b||b.members.length<=1,v=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(kV));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const E=C/1e3;f0(u.x,i.x,E),f0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oa(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TV(this.relativeTarget,this.relativeTargetOrigin,h,E),S&&sV(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=wt()),Tn(S,this.relativeTarget)),x&&(this.animationValues=d,JU(d,c,this.latestValues,E,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{cc.hasAnimatedSinceResize=!0,this.currentAnimation=fV(0,c0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&aT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||wt();const u=Sn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=Sn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Tn(a,l),Is(a,d),ra(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new iV),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&yf("z",i,c,this.animationValues);for(let d=0;d<gf.length;d++)yf(`rotate${gf[d]}`,i,c,this.animationValues),yf(`skew${gf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hV;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=uc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=uc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=aV(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:y,y:g}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${g.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Jc){if(h[x]===void 0)continue;const{correct:b,applyTo:m}=Jc[x],v=c.transform==="none"?h[x]:b(h[x],u);if(m){const S=m.length;for(let C=0;C<S;C++)c[m[C]]=v}else c[x]=v}return this.options.layoutId&&(c.pointerEvents=u===this?uc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(u0),this.root.sharedNodes.clear()}}}function mV(e){e.updateLayout()}function gV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],y=Sn(h);h.min=r[u].min,h.max=h.min+y}):aT(s,n.layoutBox,r)&&kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],y=Sn(r[u]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+y)});const a=Rs();ra(a,r,n.layoutBox);const l=Rs();i?ra(l,e.applyTransform(o,!0),n.measuredBox):ra(l,r,n.layoutBox);const c=!rT(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:y}=u;if(h&&y){const g=wt();oa(g,n.layoutBox,h.layoutBox);const x=wt();oa(x,r,y.layoutBox),oT(g,x)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function yV(e){qi&&jo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wV(e){e.clearSnapshot()}function u0(e){e.clearMeasurements()}function xV(e){e.isLayoutDirty=!1}function SV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bV(e){e.resolveTargetDelta()}function CV(e){e.calcProjection()}function EV(e){e.resetSkewAndRotation()}function PV(e){e.removeLeadSnapshot()}function f0(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function h0(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function TV(e,t,n,r){h0(e.x,t.x,n.x,r),h0(e.y,t.y,n.y,r)}function kV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const AV={duration:.45,ease:[.4,0,.1,1]},p0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),m0=p0("applewebkit/")&&!p0("chrome/")?Math.round:Gt;function g0(e){e.min=m0(e.min),e.max=m0(e.max)}function DV(e){g0(e.x),g0(e.y)}function aT(e,t,n){return e==="position"||e==="preserve-aspect"&&!RU(a0(t),a0(n),.2)}function RV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const MV=iT({attachResizeListener:(e,t)=>Tr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vf={current:void 0},lT=iT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vf.current){const e=new MV({});e.mount(window),e.setOptions({layoutScroll:!0}),vf.current=e}return vf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IV={pan:{Feature:HU},drag:{Feature:WU,ProjectionNode:lT,MeasureLayout:eT}};function y0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&Xe.postRender(()=>o(t,ol(t)))}class _V extends Do{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=xU(t,r=>(y0(this.node,r,!0),o=>y0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class NV extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yo(Tr(this.node.current,"focus",()=>this.onFocus()),Tr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const cT=(e,t)=>t?e===t?!0:cT(e,t.parentElement):!1;function wf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ol(n))}class LV extends Do{constructor(){super(...arguments),this.removeStartListeners=Gt,this.removeEndListeners=Gt,this.removeAccessibleListeners=Gt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=vo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!cT(this.node.current,a.target)?d:c;h&&Xe.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=vo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yo(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||wf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Xe.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Tr(this.node.current,"keyup",i),wf("down",(a,l)=>{this.startPress(a,l)})},n=Tr(this.node.current,"keydown",t),r=()=>{this.isPressing&&wf("cancel",(s,i)=>this.cancelPress(s,i))},o=Tr(this.node.current,"blur",r);this.removeAccessibleListeners=yo(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xe.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xe.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=vo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Tr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Jh=new WeakMap,xf=new WeakMap,jV=e=>{const t=Jh.get(e.target);t&&t(e)},FV=e=>{e.forEach(jV)};function OV({root:e,...t}){const n=e||document;xf.has(n)||xf.set(n,{});const r=xf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(FV,{root:e,...t})),r[o]}function $V(e,t,n){const r=OV(t);return Jh.set(e,n),r.observe(e),()=>{Jh.delete(e),r.unobserve(e)}}const UV={some:0,all:1};class VV extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UV[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return $V(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(BV(t,n))&&this.startObserver()}unmount(){}}function BV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zV={inView:{Feature:VV},tap:{Feature:LV},focus:{Feature:NV},hover:{Feature:_V}},qV={layout:{ProjectionNode:lT,MeasureLayout:eT}},mg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Yu=f.createContext({}),gg=typeof window<"u",uT=gg?f.useLayoutEffect:f.useEffect,dT=f.createContext({strict:!1});function WV(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Yu),l=f.useContext(dT),c=f.useContext(Ku),d=f.useContext(mg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,y=f.useContext(JP);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&HV(u.current,n,o,y);const g=f.useRef(!1);f.useInsertionEffect(()=>{h&&g.current&&h.update(n,c)});const x=n[OP],b=f.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return uT(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),pg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,x)}),b.current=!1))}),h}function HV(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Ds(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function fT(e){if(e)return e.options.allowProjection!==!1?e.projection:fT(e.parent)}function GV(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ds(n)&&(n.current=r))},[t])}function Qu(e){return Wu(e.animate)||Gm.some(t=>Ia(e[t]))}function hT(e){return!!(Qu(e)||e.variants)}function KV(e,t){if(Qu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ia(n)?n:void 0,animate:Ia(r)?r:void 0}}return e.inherit!==!1?t:{}}function YV(e){const{initial:t,animate:n}=KV(e,f.useContext(Yu));return f.useMemo(()=>({initial:t,animate:n}),[v0(t),v0(n)])}function v0(e){return Array.isArray(e)?e.join(" "):e}const w0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hi={};for(const e in w0)hi[e]={isEnabled:t=>w0[e].some(n=>!!t[n])};function QV(e){for(const t in e)hi[t]={...hi[t],...e[t]}}const XV=Symbol.for("motionComponentSymbol");function ZV({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&QV(e);function s(a,l){let c;const d={...f.useContext(mg),...a,layoutId:JV(a)},{isStatic:u}=d,h=YV(a),y=r(a,u);if(!u&&gg){eB();const g=tB(d);c=g.MeasureLayout,h.visualElement=WV(o,y,d,t,g.ProjectionNode)}return p.jsxs(Yu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,GV(y,h.visualElement,l),y,u,h.visualElement)]})}const i=f.forwardRef(s);return i[XV]=o,i}function JV({layoutId:e}){const t=f.useContext(hg).id;return t&&e!==void 0?t+"-"+e:e}function eB(e,t){f.useContext(dT).strict}function tB(e){const{drag:t,layout:n}=hi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yg(e){return typeof e!="string"||e.includes("-")?!1:!!(nB.indexOf(e)>-1||/[A-Z]/u.test(e))}function pT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const mT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gT(e,t,n,r){pT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(mT.has(o)?o:fg(o),t.attrs[o])}function yT(e,{layout:t,layoutId:n}){return us.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jc[e]||e==="opacity")}function vg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(Ht(o[i])||t.style&&Ht(t.style[i])||yT(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function vT(e,t,n){const r=vg(e,t,n);for(const o in e)if(Ht(e[o])||Ht(t[o])){const s=tl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function wg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function rB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:oB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const wT=e=>(t,n)=>{const r=f.useContext(Yu),o=f.useContext(Ku),s=()=>rB(e,t,r,o);return n?s():wg(s)};function oB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=uc(s[h]);let{initial:i,animate:a}=e;const l=Qu(e),c=hT(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Wu(u)){const h=Array.isArray(u)?u:[u];for(let y=0;y<h.length;y++){const g=Wm(e,h[y]);if(g){const{transitionEnd:x,transition:b,...m}=g;for(const v in m){let S=m[v];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(o[v]=S)}for(const v in x)o[v]=x[v]}}}return o}const xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xT=()=>({...xg(),attrs:{}}),ST=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iB=tl.length;function aB(e,t,n){let r="",o=!0;for(let s=0;s<iB;s++){const i=tl[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ST(a,tg[i]);if(!l){o=!1;const d=sB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Sg(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(us.has(l)){i=!0;continue}else if(hP(l)){o[l]=c;continue}else{const d=ST(c,tg[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=aB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function x0(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function lB(e,t,n){const r=x0(t,e.x,e.width),o=x0(n,e.y,e.height);return`${r} ${o}`}const cB={offset:"stroke-dashoffset",array:"stroke-dasharray"},uB={offset:"strokeDashoffset",array:"strokeDasharray"};function dB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?cB:uB;e[s.offset]=ge.transform(-r);const i=ge.transform(t),a=ge.transform(n);e[s.array]=`${i} ${a}`}function bg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(Sg(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:y,dimensions:g}=e;h.transform&&(g&&(y.transform=h.transform),delete h.transform),g&&(o!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=lB(g,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&dB(h,i,a,l,!1)}const Cg=e=>typeof e=="string"&&e.toLowerCase()==="svg",fB={useVisualState:wT({scrapeMotionValuesFromProps:vT,createRenderState:xT,onMount:(e,t,{renderState:n,latestValues:r})=>{Xe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{bg(n,r,Cg(t.tagName),e.transformTemplate),gT(t,n)})}})},hB={useVisualState:wT({scrapeMotionValuesFromProps:vg,createRenderState:xg})};function bT(e,t,n){for(const r in t)!Ht(t[r])&&!yT(r,n)&&(e[r]=t[r])}function pB({transformTemplate:e},t){return f.useMemo(()=>{const n=xg();return Sg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function mB(e,t){const n=e.style||{},r={};return bT(r,n,e),Object.assign(r,pB(e,t)),r}function gB(e,t){const n={},r=mB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const yB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yB.has(e)}let CT=e=>!eu(e);function vB(e){e&&(CT=t=>t.startsWith("on")?!eu(t):e(t))}try{vB(require("@emotion/is-prop-valid").default)}catch{}function wB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(CT(o)||n===!0&&eu(o)||!t&&!eu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function xB(e,t,n,r){const o=f.useMemo(()=>{const s=xT();return bg(s,t,Cg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};bT(s,e.style,e),o.style={...s,...o.style}}return o}function SB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(yg(n)?xB:gB)(r,s,i,n),c=wB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>Ht(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function bB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...yg(r)?fB:hB,preloadedFeatures:e,useRender:SB(o),createVisualElement:t,Component:r};return ZV(i)}}const ep={current:null},ET={current:!1};function CB(){if(ET.current=!0,!!gg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ep.current=e.matches;e.addListener(t),t()}else ep.current=!1}function EB(e,t,n){for(const r in t){const o=t[r],s=n[r];if(Ht(o))e.addValue(r,o);else if(Ht(s))e.addValue(r,La(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,La(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const S0=new WeakMap,PB=[...gP,zt,Po],TB=e=>PB.find(mP(e)),b0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=mr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Qu(n),this.isVariantNode=hT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const y=u[h];l[h]!==void 0&&Ht(y)&&y.set(l[h],!1)}}mount(t){this.current=t,S0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ET.current||CB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ep.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){S0.delete(this.current),this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=us.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hi){const n=hi[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<b0.length;r++){const o=b0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=EB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=La(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(dP(o)||uP(o))?o=parseFloat(o):!TB(o)&&Po.test(n)&&(o=EP(t,n)),this.setBaseTarget(t,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Wm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ht(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class PT extends kB{constructor(){super(...arguments),this.KeyframeResolver=PP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ht(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AB(e){return window.getComputedStyle(e)}class DB extends PT{constructor(){super(...arguments),this.type="html",this.renderInstance=pT}readValueFromInstance(t,n){if(us.has(n)){const r=ng(n);return r&&r.default||0}else{const r=AB(t),o=(hP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return XP(t,n)}build(t,n,r){Sg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return vg(t,n,r)}}class RB extends PT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(us.has(n)){const r=ng(n);return r&&r.default||0}return n=mT.has(n)?n:fg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return vT(t,n,r)}build(t,n,r){bg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){gT(t,n,r,o)}mount(t){this.isSVGTag=Cg(t.tagName),super.mount(t)}}const MB=(e,t)=>yg(e)?new RB(t):new DB(t,{allowProjection:e!==f.Fragment}),IB=bB({...vU,...zV,...IV,...qV},MB),Xu=gO(IB);class _B extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(mg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(_B,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const LB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=wg(jB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(NB,{isPresent:n,children:e})),p.jsx(Ku.Provider,{value:d,children:e})};function jB(){return new Map}const Bl=e=>e.key||"";function C0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Eg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>C0(e),[e]),l=a.map(Bl),c=f.useRef(!0),d=f.useRef(a),u=wg(()=>new Map),[h,y]=f.useState(a),[g,x]=f.useState(a);uT(()=>{c.current=!1,d.current=a;for(let v=0;v<g.length;v++){const S=Bl(g[v]);l.includes(S)?u.delete(S):u.get(S)!==!0&&u.set(S,!1)}},[g,l.length,l.join("-")]);const b=[];if(a!==h){let v=[...a];for(let S=0;S<g.length;S++){const C=g[S],E=Bl(C);l.includes(E)||(v.splice(S,0,C),b.push(C))}i==="wait"&&b.length&&(v=b),x(C0(v)),y(a);return}const{forceRender:m}=f.useContext(hg);return p.jsx(p.Fragment,{children:g.map(v=>{const S=Bl(v),C=a===g||l.includes(S),E=()=>{if(u.has(S))u.set(S,!0);else return;let P=!0;u.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),x(d.current),o&&o())};return p.jsx(LB,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:v},S)})})};function FB({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(Xu.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function OB(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=Zn(),a=50,l=.3,c={enter:g=>({x:g>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:g=>({x:g<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(g,x)=>{const{offset:b,velocity:m}=x;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},u=f.useCallback(g=>{const b=new Date(Date.UTC(t,e-1,g)).toISOString().split("T")[0],m=n.filter(S=>S.date===b);return{hasPhotoEntries:m.some(S=>S.photos&&S.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const g=new Date(t,e-1,0).getDate(),x=new Date(t,e-1,1).getDay(),b=Array(x).fill(null).map((v,S)=>({type:"empty",index:S})),m=Array.from({length:g},(v,S)=>({type:"day",day:S+1}));return[...b,...m]},[e,t]),y=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(g=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:g},g))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(Eg,{initial:!1,custom:r,mode:"wait",children:p.jsx(Xu.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:y,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(g=>{const x=m=>m.type==="day",b=x(g)?`day-${g.day}`:`empty-${g.index}`;if(x(g)){const{hasPhotoEntries:m,entryCount:v}=u(g.day);return p.jsx(FB,{day:g.day,hasPhotoEntries:m,entryCount:v,onClick:()=>o(g.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function $B(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=Zn(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Ye,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(FI,{className:"h-4 w-4"})}),p.jsxs(Ye,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(jI,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Ye,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(Yb,{className:"h-4 w-4"})})]})}function Pg(e,[t,n]){return Math.min(n,Math.max(t,e))}function UB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Tg="ScrollArea",[TT,n3]=dn(Tg),[VB,Fn]=TT(Tg),kT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[y,g]=f.useState(null),[x,b]=f.useState(null),[m,v]=f.useState(0),[S,C]=f.useState(0),[E,P]=f.useState(!1),[k,A]=f.useState(!1),D=Le(t,j=>l(j)),M=Za(o);return p.jsx(VB,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:y,onScrollbarXChange:g,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:C,children:p.jsx(we.div,{dir:M,...i,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});kT.displayName=Tg;var AT="ScrollAreaViewport",DT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Fn(AT,n),a=f.useRef(null),l=Le(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(we.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});DT.displayName=AT;var wr="ScrollAreaScrollbar",kg=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(wr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(BB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(zB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(RT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Ag,{...r,ref:t}):null});kg.displayName=wr;var BB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(wr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(fn,{present:n||s,children:p.jsx(RT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),zB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(wr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Ju(()=>l("SCROLL_END"),100),[a,l]=UB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const y=c[d];u!==y&&(l("SCROLL"),i()),u=y};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(fn,{present:n||a!=="hidden",children:p.jsx(Ag,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:re(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:re(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),RT=f.forwardRef((e,t)=>{const n=Fn(wr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=Ju(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return pi(n.viewport,l),pi(n.content,l),p.jsx(fn,{present:r||s,children:p.jsx(Ag,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Ag=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Fn(wr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=LT(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,y){return YB(h,i.current,a,y)}return n==="horizontal"?p.jsx(qB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,y=E0(h,a,o.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(WB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,y=E0(h,a);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),qB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Fn(wr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Le(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(IT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),FT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:nu(i.paddingLeft),paddingEnd:nu(i.paddingRight)}})}})}),WB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Fn(wr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Le(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(IT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),FT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:nu(i.paddingTop),paddingEnd:nu(i.paddingBottom)}})}})}),[HB,MT]=TT(wr),IT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,y=Fn(wr,n),[g,x]=f.useState(null),b=Le(t,D=>x(D)),m=f.useRef(null),v=f.useRef(""),S=y.viewport,C=r.content-r.viewport,E=ut(d),P=ut(l),k=Ju(u,10);function A(D){if(m.current){const M=D.clientX-m.current.left,j=D.clientY-m.current.top;c({x:M,y:j})}}return f.useEffect(()=>{const D=M=>{const j=M.target;(g==null?void 0:g.contains(j))&&E(M,C)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[S,g,C,E]),f.useEffect(P,[r,P]),pi(g,k),pi(y.content,k),p.jsx(HB,{scope:n,scrollbar:g,hasThumb:o,onThumbChange:ut(s),onThumbPointerUp:ut(i),onThumbPositionChange:P,onThumbPointerDown:ut(a),children:p.jsx(we.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:re(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),m.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:re(e.onPointerMove,A),onPointerUp:re(e.onPointerUp,D=>{const M=D.target;M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),m.current=null})})})}),tu="ScrollAreaThumb",_T=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=MT(tu,e.__scopeScrollArea);return p.jsx(fn,{present:n||o.hasThumb,children:p.jsx(GB,{ref:t,...r})})}),GB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Fn(tu,n),i=MT(tu,n),{onThumbPositionChange:a}=i,l=Le(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=Ju(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const y=QB(u,a);c.current=y,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(we.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(e.onPointerDownCapture,u=>{const y=u.target.getBoundingClientRect(),g=u.clientX-y.left,x=u.clientY-y.top;i.onThumbPointerDown({x:g,y:x})}),onPointerUp:re(e.onPointerUp,i.onThumbPointerUp)})});_T.displayName=tu;var Dg="ScrollAreaCorner",NT=f.forwardRef((e,t)=>{const n=Fn(Dg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(KB,{...e,ref:t}):null});NT.displayName=Dg;var KB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Fn(Dg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return pi(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),pi(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(we.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nu(e){return e?parseInt(e,10):0}function LT(e,t){const n=e/t;return isNaN(n)?0:n}function Zu(e){const t=LT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function YB(e,t,n,r="ltr"){const o=Zu(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return jT([l,c],u)(e)}function E0(e,t,n="ltr"){const r=Zu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Pg(e,l);return jT([0,i],[0,a])(c)}function jT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function FT(e,t){return e>0&&e<t}var QB=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Ju(e,t){const n=ut(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function pi(e,t){const n=ut(t);jn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var OT=kT,XB=DT,ZB=NT;const $T=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(OT,{ref:r,className:ne("relative overflow-hidden",e),...n,children:[p.jsx(XB,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(UT,{}),p.jsx(ZB,{})]}));$T.displayName=OT.displayName;const UT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(kg,{ref:r,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(_T,{className:"relative flex-1 rounded-full bg-border"})}));UT.displayName=kg.displayName;const JB=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},VT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const y=c.current,g=d.current;if(g){const x=JB(g),b=x*t,v=g.scrollHeight>b+x*.5;l(v),i(y&&!r?y.scrollHeight>y.clientHeight+2||v:!1),y&&!r&&v?(y.style.maxHeight=`${b}px`,y.style.overflow="hidden"):y&&(y.style.maxHeight="",y.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const y=c.current;if(!y)return;const g=new ResizeObserver(()=>{u()});return g.observe(y),()=>g.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:ne("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:ne("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Ye,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function ez(e){return Object.prototype.toString.call(e)==="[object Object]"}function P0(e){return ez(e)||Array.isArray(e)}function tz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Rg(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!P0(a)||!P0(l)?a===l:Rg(a,l)})}function T0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function nz(e,t){if(e.length!==t.length)return!1;const n=T0(e),r=T0(t);return n.every((o,s)=>{const i=r[s];return Rg(o,i)})}function Mg(e){return typeof e=="number"}function tp(e){return typeof e=="string"}function ed(e){return typeof e=="boolean"}function k0(e){return Object.prototype.toString.call(e)==="[object Object]"}function ft(e){return Math.abs(e)}function Ig(e){return Math.sign(e)}function sa(e,t){return ft(e-t)}function rz(e,t){if(e===0||t===0||ft(e)<=ft(t))return 0;const n=sa(ft(e),ft(t));return ft(n/e)}function oz(e){return Math.round(e*100)/100}function ja(e){return Fa(e).map(Number)}function Gn(e){return e[sl(e)]}function sl(e){return Math.max(0,e.length-1)}function _g(e,t){return t===sl(e)}function A0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function Fa(e){return Object.keys(e)}function BT(e,t){return[e,t].reduce((n,r)=>(Fa(r).forEach(o=>{const s=n[o],i=r[o],a=k0(s)&&k0(i);n[o]=a?BT(s,i):i}),n),{})}function np(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function sz(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return tp(e)?n[e](l):e(t,l,c)}return{measure:i}}function Oa(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function iz(e,t,n,r){const o=Oa(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&g()})}function d(){y(),o.clear()}function u(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const v=a/s;r(v),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function y(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function g(){i=null,a=0}return{init:c,destroy:d,start:h,stop:y,update:n,render:r}}function az(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(g){const{height:x,width:b}=g;return r?x:b}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(g){return g*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function os(e=0,t=0){const n=ft(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function zT(e,t,n){const{constrain:r}=os(0,e),o=e+1;let s=i(t);function i(h){return n?ft((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return zT(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function lz(e,t,n,r,o,s,i,a,l,c,d,u,h,y,g,x,b,m,v){const{cross:S,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Oa(),A=Oa(),D=os(50,225).constrain(y.measure(20)),M={mouse:300,touch:400},j={mouse:500,touch:600},F=g?43:25;let H=!1,O=0,z=0,N=!1,L=!1,R=!1,I=!1;function $(te){if(!v)return;function ve(lt){(ed(v)||v(te,lt))&&Pe(lt)}const ke=t;k.add(ke,"dragstart",lt=>lt.preventDefault(),P).add(ke,"touchmove",()=>{},P).add(ke,"touchend",()=>{}).add(ke,"touchstart",ve).add(ke,"mousedown",ve).add(ke,"touchcancel",Re).add(ke,"contextmenu",Re).add(ke,"click",je,!0)}function G(){k.clear(),A.clear()}function J(){const te=I?n:t;A.add(te,"touchmove",Te,P).add(te,"touchend",Re).add(te,"mousemove",Te,P).add(te,"mouseup",Re)}function ee(te){const ve=te.nodeName||"";return E.includes(ve)}function de(){return(g?j:M)[I?"mouse":"touch"]}function fe(te,ve){const ke=u.add(Ig(te)*-1),lt=d.byDistance(te,!g).distance;return g||ft(te)<D?lt:b&&ve?lt*.5:d.byIndex(ke.get(),0).distance}function Pe(te){const ve=np(te,r);I=ve,R=g&&ve&&!te.buttons&&H,H=sa(o.get(),i.get())>=2,!(ve&&te.button!==0)&&(ee(te.target)||(N=!0,s.pointerDown(te),c.useFriction(0).useDuration(0),o.set(i),J(),O=s.readPoint(te),z=s.readPoint(te,S),h.emit("pointerDown")))}function Te(te){if(!np(te,r)&&te.touches.length>=2)return Re(te);const ke=s.readPoint(te),lt=s.readPoint(te,S),vt=sa(ke,O),st=sa(lt,z);if(!L&&!I&&(!te.cancelable||(L=vt>st,!L)))return Re(te);const St=s.pointerMove(te);vt>x&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(St)),te.preventDefault()}function Re(te){const ke=d.byDistance(0,!1).index!==u.get(),lt=s.pointerUp(te)*de(),vt=fe(C(lt),ke),st=rz(lt,vt),St=F-10*st,it=m+st/50;L=!1,N=!1,A.clear(),c.useDuration(St).useFriction(it),l.distance(vt,!g),I=!1,h.emit("pointerUp")}function je(te){R&&(te.stopPropagation(),te.preventDefault(),R=!1)}function Ze(){return N}return{init:$,destroy:G,pointerDown:Ze}}function cz(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const g=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(np(u,t)?u:u.touches[0])[g]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),y=s(u)-s(r)>170;return o=u,y&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),y=s(u)-s(r),g=s(u)-s(o)>170,x=h/y;return y&&!g&&ft(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function uz(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function dz(e){function t(r){return e*(r/100)}return{measure:t}}function fz(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(b){return o.measureSize(i.measure(b))}function y(b){if(!s)return;c=h(e),d=r.map(h);function m(v){for(const S of v){if(u)return;const C=S.target===e,E=r.indexOf(S.target),P=C?c:d[E],k=h(C?e:r[E]);if(ft(k-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(v=>{(ed(s)||s(b,v))&&m(v)}),n.requestAnimationFrame(()=>{a.forEach(v=>l.observe(v))})}function g(){u=!0,l&&l.disconnect()}return{init:y,destroy:g}}function hz(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),k=!l;let A=0;return k?(i=0,n.set(r),e.set(r),A=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),A=d-u),a=Ig(A),u=d,E}function y(){const P=r.get()-t.get();return ft(P)<.001}function g(){return l}function x(){return a}function b(){return i}function m(){return S(o)}function v(){return C(s)}function S(P){return l=P,E}function C(P){return c=P,E}const E={direction:x,duration:g,velocity:b,seek:h,settled:y,useBaseFriction:v,useBaseDuration:m,useFriction:C,useDuration:S};return E}function pz(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=os(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(y){if(!c())return;const g=e.reachedMin(t.get())?"min":"max",x=ft(e[g]-t.get()),b=n.get()-t.get(),m=a.constrain(x/i);n.subtract(b*m),!y&&ft(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(y){l=!y}return{shouldConstrain:c,constrain:d,toggleActive:u}}function mz(e,t,n,r,o){const s=os(-t+e,0),i=u(),a=d(),l=h();function c(g,x){return sa(g,x)<=1}function d(){const g=i[0],x=Gn(i),b=i.lastIndexOf(g),m=i.indexOf(x)+1;return os(b,m)}function u(){return n.map((g,x)=>{const{min:b,max:m}=s,v=s.constrain(g),S=!x,C=_g(n,x);return S?m:C||c(b,v)?b:c(m,v)?m:v}).map(g=>parseFloat(g.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:g,max:x}=a;return i.slice(g,x)}return{snapsContained:l,scrollContainLimit:a}}function gz(e,t,n){const r=t[0],o=n?r-e:Gn(t);return{limit:os(o,r)}}function yz(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=os(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const y=e*(h*-1);r.forEach(g=>g.add(y))}return{loop:d}}function vz(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function wz(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=y();function u(){return a(r).map(x=>Gn(x)[i]-x[0][s]).map(ft)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-ft(x))}function y(){return a(c).map(x=>x[0]).map((x,b)=>x+l[b])}return{snaps:c,snapsAligned:d}}function xz(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),y=!e||t==="keepSnaps";return n.length===1?[s]:y?h:h.slice(a,l).map((g,x,b)=>{const m=!x,v=_g(b,x);if(m){const S=Gn(b[0])+1;return A0(S)}if(v){const S=sl(s)-Gn(b)[0]+1;return A0(S,Gn(b)[0])}return g})}return{slideRegistry:c}}function Sz(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(g){return g.concat().sort((x,b)=>ft(x)-ft(b))[0]}function c(g){const x=e?i(g):a(g),b=t.map((v,S)=>({diff:d(v-x,0),index:S})).sort((v,S)=>ft(v.diff)-ft(S.diff)),{index:m}=b[0];return{index:m,distance:x}}function d(g,x){const b=[g,g+n,g-n];if(!e)return g;if(!x)return l(b);const m=b.filter(v=>Ig(v)===x);return m.length?l(m):Gn(b)-n}function u(g,x){const b=t[g]-o.get(),m=d(b,x);return{index:g,distance:m}}function h(g,x){const b=o.get()+g,{index:m,distance:v}=c(b),S=!e&&s(b);if(!x||S)return{index:m,distance:g};const C=t[m]-v,E=g+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function bz(e,t,n,r,o,s,i){function a(u){const h=u.distance,y=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),y&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const y=o.byDistance(u,h);a(y)}function c(u,h){const y=t.clone().set(u),g=o.byIndex(y.get(),h);a(g)}return{distance:l,index:c}}function Cz(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(y){if(!a)return;function g(x){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const v=n.findIndex(S=>S.includes(x));Mg(v)&&(o.useDuration(0),r.index(v,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((x,b)=>{s.add(x,"focus",m=>{(ed(a)||a(y,m))&&g(b)},l)})}function u(y){y.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Wi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return Mg(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function qT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const y=oz(e.direction(h));y!==o&&(r.transform=n(y),o=y)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function Ez(e,t,n,r,o,s,i,a,l){const d=ja(o),u=ja(o).reverse(),h=m().concat(v());function y(k,A){return k.reduce((D,M)=>D-o[M],A)}function g(k,A){return k.reduce((D,M)=>y(D,A)>0?D.concat([M]):D,[])}function x(k){return s.map((A,D)=>({start:A-r[D]+.5+k,end:A+t-.5+k}))}function b(k,A,D){const M=x(A);return k.map(j=>{const F=D?0:-n,H=D?n:0,O=D?"end":"start",z=M[j][O];return{index:j,loopPoint:z,slideLocation:Wi(-1),translate:qT(e,l[j]),target:()=>a.get()>z?F:H}})}function m(){const k=i[0],A=g(u,k);return b(A,n,!1)}function v(){const k=t-i[0]-1,A=g(d,k);return b(A,-n,!0)}function S(){return h.every(({index:k})=>{const A=d.filter(D=>D!==k);return y(A,t)<=.1})}function C(){h.forEach(k=>{const{target:A,translate:D,slideLocation:M}=k,j=A();j!==M.get()&&(D.to(j),M.set(j))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function Pz(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(ed(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function Tz(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(g=>{l||(g.forEach(x=>{const b=t.indexOf(x.target);o[b]=x}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(g=>a.observe(g))}function d(){a&&a.disconnect(),l=!0}function u(g){return Fa(o).reduce((x,b)=>{const m=parseInt(b),{isIntersecting:v}=o[m];return(g&&v||!g&&!v)&&x.push(m),x},[])}function h(g=!0){if(g&&s)return s;if(!g&&i)return i;const x=u(g);return g&&(s=x),g||(i=x),x}return{init:c,destroy:d,get:h}}function kz(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=g(),u=x(),h=n.map(i),y=b();function g(){if(!c)return 0;const v=n[0];return ft(t[a]-v[a])}function x(){if(!c)return 0;const v=s.getComputedStyle(Gn(r));return parseFloat(v.getPropertyValue(`margin-${l}`))}function b(){return n.map((v,S,C)=>{const E=!S,P=_g(C,S);return E?h[S]+d:P?h[S]+u:C[S+1][a]-v[a]}).map(ft)}return{slideSizes:h,slideSizesWithGaps:y,startGap:d,endGap:u}}function Az(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=Mg(n);function y(m,v){return ja(m).filter(S=>S%v===0).map(S=>m.slice(S,S+v))}function g(m){return m.length?ja(m).reduce((v,S,C)=>{const E=Gn(v)||0,P=E===0,k=S===sl(m),A=o[c]-s[E][c],D=o[c]-s[S][d],M=!r&&P?u(i):0,j=!r&&k?u(a):0,F=ft(D-j-(A+M));return C&&F>t+l&&v.push(S),k&&v.push(m.length),v},[]).map((v,S,C)=>{const E=Math.max(C[S-1]||0);return m.slice(E,v)}):[]}function x(m){return h?y(m,n):g(m)}return{groupSlides:x}}function Dz(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:y,dragThreshold:g,inViewThreshold:x,slidesToScroll:b,skipSnaps:m,containScroll:v,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,A=uz(),D=A.measure(t),M=n.map(A.measure),j=az(l,c),F=j.measureSize(D),H=dz(F),O=sz(a,F),z=!u&&!!v,N=u||!!v,{slideSizes:L,slideSizesWithGaps:R,startGap:I,endGap:$}=kz(j,D,M,n,N,o),G=Az(j,F,b,u,D,M,I,$,k),{snaps:J,snapsAligned:ee}=wz(j,O,D,M,G),de=-Gn(J)+Gn(R),{snapsContained:fe,scrollContainLimit:Pe}=mz(F,de,ee,v,k),Te=z?fe:ee,{limit:Re}=gz(de,Te,u),je=zT(sl(Te),d,u),Ze=je.clone(),oe=ja(n),te=({dragHandler:Fe,scrollBody:Ie,scrollBounds:_,options:{loop:U}})=>{U||_.constrain(Fe.pointerDown()),Ie.seek()},ve=({scrollBody:Fe,translate:Ie,location:_,offsetLocation:U,previousLocation:Q,scrollLooper:ue,slideLooper:pe,dragHandler:be,animation:xe,eventHandler:_e,scrollBounds:Oe,options:{loop:We}},bt)=>{const Dt=Fe.settled(),Rt=!Oe.shouldConstrain(),Pt=We?Dt:Dt&&Rt,Ot=Pt&&!be.pointerDown();Ot&&xe.stop();const hn=_.get()*bt+Q.get()*(1-bt);U.set(hn),We&&(ue.loop(Fe.direction()),pe.loop()),Ie.to(U.get()),Ot&&_e.emit("settle"),Pt||_e.emit("scroll")},ke=iz(r,o,()=>te(Ee),Fe=>ve(Ee,Fe)),lt=.68,vt=Te[je.get()],st=Wi(vt),St=Wi(vt),it=Wi(vt),ye=Wi(vt),Be=hz(st,it,St,ye,h,lt),_t=Sz(u,Te,de,Re,ye),B=bz(ke,je,Ze,Be,_t,ye,i),q=vz(Re),K=Oa(),me=Tz(t,n,i,x),{slideRegistry:ce}=xz(z,v,Te,Pe,G,oe),qe=Cz(e,n,ce,B,Be,K,i,P),Ee={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:D,slideRects:M,animation:ke,axis:j,dragHandler:lz(j,e,r,o,ye,cz(j,o),st,ke,B,Be,_t,je,i,H,y,g,m,lt,E),eventStore:K,percentOfView:H,index:je,indexPrevious:Ze,limit:Re,location:st,offsetLocation:it,previousLocation:St,options:s,resizeHandler:fz(t,i,o,n,j,S,A),scrollBody:Be,scrollBounds:pz(Re,it,ye,Be,H),scrollLooper:yz(de,Re,it,[st,it,St,ye]),scrollProgress:q,scrollSnapList:Te.map(q.get),scrollSnaps:Te,scrollTarget:_t,scrollTo:B,slideLooper:Ez(j,F,de,L,R,J,Te,it,n),slideFocus:qe,slidesHandler:Pz(t,i,C),slidesInView:me,slideIndexes:oe,slideRegistry:ce,slidesToScroll:G,target:ye,translate:qT(j,t)};return Ee}function Rz(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const Mz={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Iz(e){function t(s,i){return BT(s,i||{})}function n(s){const i=s.breakpoints||{},a=Fa(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>Fa(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function _z(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function ru(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=Iz(o),i=_z(s),a=Oa(),l=Rz(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:y,emit:g}=l,x=j;let b=!1,m,v=c(Mz,ru.globalOptions),S=c(v),C=[],E,P,k;function A(){const{container:oe,slides:te}=S;P=(tp(oe)?e.querySelector(oe):oe)||e.children[0];const ke=tp(te)?P.querySelectorAll(te):te;k=[].slice.call(ke||P.children)}function D(oe){const te=Dz(e,P,k,r,o,oe,l);if(oe.loop&&!te.slideLooper.canLoop()){const ve=Object.assign({},oe,{loop:!1});return D(ve)}return te}function M(oe,te){b||(v=c(v,oe),S=d(v),C=te||C,A(),m=D(S),u([v,...C.map(({options:ve})=>ve)]).forEach(ve=>a.add(ve,"change",j)),S.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ze),m.eventHandler.init(Ze),m.resizeHandler.init(Ze),m.slidesHandler.init(Ze),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(Ze),E=i.init(Ze,C)))}function j(oe,te){const ve=G();F(),M(c({startIndex:ve},oe),te),l.emit("reInit")}function F(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function H(){b||(b=!0,a.clear(),F(),l.emit("destroy"),l.clear())}function O(oe,te,ve){!S.active||b||(m.scrollBody.useBaseFriction().useDuration(te===!0?0:S.duration),m.scrollTo.index(oe,ve||0))}function z(oe){const te=m.index.add(1).get();O(te,oe,-1)}function N(oe){const te=m.index.add(-1).get();O(te,oe,1)}function L(){return m.index.add(1).get()!==G()}function R(){return m.index.add(-1).get()!==G()}function I(){return m.scrollSnapList}function $(){return m.scrollProgress.get(m.offsetLocation.get())}function G(){return m.index.get()}function J(){return m.indexPrevious.get()}function ee(){return m.slidesInView.get()}function de(){return m.slidesInView.get(!1)}function fe(){return E}function Pe(){return m}function Te(){return e}function Re(){return P}function je(){return k}const Ze={canScrollNext:L,canScrollPrev:R,containerNode:Re,internalEngine:Pe,destroy:H,off:y,on:h,emit:g,plugins:fe,previousScrollSnap:J,reInit:x,rootNode:Te,scrollNext:z,scrollPrev:N,scrollProgress:$,scrollSnapList:I,scrollTo:O,selectedScrollSnap:G,slideNodes:je,slidesInView:ee,slidesNotInView:de};return M(t,n),setTimeout(()=>l.emit("init"),0),Ze}ru.globalOptions=void 0;function Ng(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{Rg(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{nz(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(tz()&&i){ru.globalOptions=Ng.globalOptions;const c=ru(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}Ng.globalOptions=void 0;const WT=f.createContext(null);function td(){const e=f.useContext(WT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const HT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=Ng({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,y]=f.useState(!1),g=f.useCallback(v=>{v&&(u(v.canScrollPrev()),y(v.canScrollNext()))},[]),x=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),x()):v.key==="ArrowRight"&&(v.preventDefault(),b())},[x,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return g(c),c.on("reInit",g),c.on("select",g),()=>{c==null||c.off("select",g)}},[c,g]),p.jsx(WT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:ne("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});HT.displayName="Carousel";const GT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=td();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:ne("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});GT.displayName="CarouselContent";const KT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=td();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ne("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});KT.displayName="CarouselItem";const YT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=td();return p.jsxs(Ye,{ref:o,variant:t,size:n,className:ne("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Gb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});YT.displayName="CarouselPrevious";const QT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=td();return p.jsxs(Ye,{ref:o,variant:t,size:n,className:ne("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(LI,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});QT.displayName="CarouselNext";const XT=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[y,g]=f.useState({width:0,height:0}),[x,b]=f.useState(null),[m,v]=f.useState(!1),S=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(S.current){const D=S.current.offsetWidth,M=S.current.offsetHeight;D>0&&M>0?g({width:D,height:M}):D>0&&g({width:D,height:D})}},[]);f.useEffect(()=>{const D=S.current;if(!D)return;const M=new ResizeObserver(E);return M.observe(D),E(),()=>{M.unobserve(D)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(b(t),v(!0),u!=="loading"&&h("loading")):e?m||(b(e),u!=="loading"&&u!=="loaded"&&h("loading")):(b(null),v(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const D=new Image,M=()=>{b(e),v(!1),h("loaded"),l&&l()},j=()=>{w.error("Failed to load full image in background:",e)};return D.onload=M,D.onerror=j,D.src=e,()=>{D.onload=null,D.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const M=u==="loaded",j={position:"absolute",top:0,left:0,opacity:M?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:M?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||y.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return j;const{width:F,height:H}=r,z=y.width/n.w,N=F*z,L=H*z,R=-n.x*z,I=-n.y*z;return isNaN(N)||isNaN(L)||isNaN(R)||isNaN(I)?(w.warn("NaN detected during style calculation",{scale:z,naturalW:F,naturalH:H,cropData:n}),j):{...j,width:`${N}px`,height:`${L}px`,transform:`translate(${R}px, ${I}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,u,y]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===x&&x&&(h("loaded"),!m&&l&&l())},[x,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===x&&x){if(w.error("Failed to load image in CroppedImageViewer:",x),m&&e){b(e),v(!1);return}if(!m&&t){w.log("Full image failed to load. Falling back to thumbnail:",t),b(t),v(!0);return}h("error")}},[x,e,t,m]),A=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:S,"data-testid":"image-container",className:ne("relative w-full h-full overflow-hidden bg-muted",s),children:[A&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(Wt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(Zb,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:x??"",alt:o,style:c,className:ne("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},Nz=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},y=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(w.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):w.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),g=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(w.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):w.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),x=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[x&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Wt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(Zb,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:ne("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(XT,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:ne("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:y,onError:g,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(GI,{size:16}):p.jsx(HI,{size:16})})]})},ZT=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:ne("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(HT,{setApi:n,className:"w-full h-full",children:[p.jsx(GT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(KT,{className:"h-full",children:p.jsx(Nz,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(YT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(QT,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},Lz=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function jz(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=Zn(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),y=f.useRef(null),g=50,x=.3,b={enter:S=>({x:S>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:S=>({x:S<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(S,C)=>{const{offset:E,velocity:P}=C;let k=S.target;for(;k&&k!==y.current;){if(k.classList.contains("ignore-list-swipe")){w.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>g||P.x>x&&E.x>10?l(-1):(E.x<-g||P.x<-x&&E.x<-10)&&l(1)},v=f.useMemo(()=>[...e].sort((S,C)=>{const E=new Date(S.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=S.createdAt instanceof Date?S.createdAt.getTime():Date.parse(S.createdAt),A=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-A}),[e]);return f.useEffect(()=>{let S=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{S&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{w.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{S&&h(E=>new Map(E).set(C.id,!1))})}),()=>{S=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})]}):v.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs($T,{className:"h-full",children:[" ",p.jsxs("div",{ref:y,className:"relative overflow-hidden h-full",children:[" ",p.jsx(Eg,{initial:!1,custom:a,mode:"wait",children:p.jsx(Xu.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:v.map(S=>{const E=c.get(S.id)||{...S,photos:(S.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Cm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(ZT,{entry:E})}),p.jsxs(Em,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:Lz(S.date)}),p.jsxs(Bm,{children:[p.jsx(zm,{asChild:!0,children:p.jsx(Ye,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(Xb,{className:"h-4 w-4"})})}),p.jsxs(qu,{align:"end",children:[p.jsxs(rs,{onClick:P=>{P.stopPropagation(),n(S.id)},children:[p.jsx(Jb,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(rs,{onClick:P=>{P.stopPropagation(),r(S.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(um,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(VT,{text:S.content,linesToShow:4})]})]},S.id)})},`${s}-${i}-list`)})]})]})}var Lg="Dialog",[JT,ek]=dn(Lg),[Fz,Jn]=JT(Lg),tk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=yr({prop:r,defaultProp:o,onChange:s});return p.jsx(Fz,{scope:t,triggerRef:a,contentRef:l,contentId:Ko(),titleId:Ko(),descriptionId:Ko(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};tk.displayName=Lg;var nk="DialogTrigger",rk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(nk,n),s=Le(t,o.triggerRef);return p.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Og(o.open),...r,ref:s,onClick:re(e.onClick,o.onOpenToggle)})});rk.displayName=nk;var jg="DialogPortal",[Oz,ok]=JT(jg,{forceMount:void 0}),sk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Jn(jg,t);return p.jsx(Oz,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(fn,{present:n||s.open,children:p.jsx(Tu,{asChild:!0,container:o,children:i})}))})};sk.displayName=jg;var ou="DialogOverlay",ik=f.forwardRef((e,t)=>{const n=ok(ou,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(ou,e.__scopeDialog);return s.modal?p.jsx(fn,{present:r||s.open,children:p.jsx(Uz,{...o,ref:t})}):null});ik.displayName=ou;var $z=li("DialogOverlay.RemoveScroll"),Uz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(ou,n);return p.jsx(_m,{as:$z,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(we.div,{"data-state":Og(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ss="DialogContent",ak=f.forwardRef((e,t)=>{const n=ok(ss,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(ss,e.__scopeDialog);return p.jsx(fn,{present:r||s.open,children:s.modal?p.jsx(Vz,{...o,ref:t}):p.jsx(Bz,{...o,ref:t})})});ak.displayName=ss;var Vz=f.forwardRef((e,t)=>{const n=Jn(ss,e.__scopeDialog),r=f.useRef(null),o=Le(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return WE(s)},[]),p.jsx(lk,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault())})}),Bz=f.forwardRef((e,t)=>{const n=Jn(ss,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(lk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),lk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Jn(ss,n),l=f.useRef(null),c=Le(t,l);return BE(),p.jsxs(p.Fragment,{children:[p.jsx(Im,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Ya,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Og(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(qz,{titleId:a.titleId}),p.jsx(Hz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Fg="DialogTitle",ck=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(Fg,n);return p.jsx(we.h2,{id:o.titleId,...r,ref:t})});ck.displayName=Fg;var uk="DialogDescription",dk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(uk,n);return p.jsx(we.p,{id:o.descriptionId,...r,ref:t})});dk.displayName=uk;var fk="DialogClose",hk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(fk,n);return p.jsx(we.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>o.onOpenChange(!1))})});hk.displayName=fk;function Og(e){return e?"open":"closed"}var pk="DialogTitleWarning",[zz,mk]=qM(pk,{contentName:ss,titleName:Fg,docsSlug:"dialog"}),qz=({titleId:e})=>{const t=mk(pk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Wz="DialogDescriptionWarning",Hz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mk(Wz).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},gk=tk,Gz=rk,yk=sk,$g=ik,Ug=ak,Vg=ck,Bg=dk,zg=hk;const vk=gk,Kz=yk,wk=f.forwardRef(({className:e,...t},n)=>p.jsx($g,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wk.displayName=$g.displayName;const qg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Kz,{children:[p.jsx(wk,{}),p.jsxs(Ug,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(zg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Ru,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qg.displayName=Ug.displayName;const Wg=({className:e,...t})=>p.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wg.displayName="DialogHeader";const Hg=f.forwardRef(({className:e,...t},n)=>p.jsx(Vg,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));Hg.displayName=Vg.displayName;const xk=f.forwardRef(({className:e,...t},n)=>p.jsx(Bg,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));xk.displayName=Bg.displayName;function Sk({className:e,...t}){return p.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}const D0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function Yz(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=Zn(),[,a]=rm(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,y]=f.useState(new Set),g=f.useRef(!0),x=f.useMemo(()=>[...n].sort((m,v)=>{const S=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=v.createdAt instanceof Date?v.createdAt.getTime():Date.parse(v.createdAt);return S-C}),[n]);f.useEffect(()=>{if(g.current=!0,e&&x.length>0){u(!0),c(new Map),y(new Set);const m=x.map(v=>i(v).then(S=>{g.current&&c(C=>new Map(C).set(v.id,S))}).catch(S=>{w.error(`Error fetching details for entry ${v.id} in modal:`,S),g.current&&(y(C=>new Set(C).add(v.id)),c(C=>new Map(C).set(v.id,D0(v))))}));Promise.allSettled(m).finally(()=>{g.current&&u(!1)})}else e||(c(new Map),u(!1),y(new Set));return()=>{g.current=!1}},[e,x,i]);const b=()=>{t(),a("/entry/new")};return p.jsx(vk,{open:e,onOpenChange:t,children:p.jsxs(qg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Wg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(Hg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:x.length===0&&!d?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Ye,{onClick:b,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:x.map((m,v)=>{const S=l.get(m.id),C=d&&!S,E=h.has(m.id),P=S||D0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(Sk,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(ZT,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(Bm,{children:[p.jsx(zm,{asChild:!0,children:p.jsx(Ye,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(Xb,{className:"h-4 w-4"})})}),p.jsxs(qu,{align:"end",children:[p.jsxs(rs,{onClick:()=>o(m.id),children:[p.jsx(Jb,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(rs,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(um,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(VT,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+v)})})}),!d&&x.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Ye,{onClick:b,children:"Add Another Entry"})})]})})}var bk="AlertDialog",[Qz,r3]=dn(bk,[ek]),$r=ek(),Ck=e=>{const{__scopeAlertDialog:t,...n}=e,r=$r(t);return p.jsx(gk,{...r,...n,modal:!0})};Ck.displayName=bk;var Xz="AlertDialogTrigger",Zz=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(Gz,{...o,...r,ref:t})});Zz.displayName=Xz;var Jz="AlertDialogPortal",Ek=e=>{const{__scopeAlertDialog:t,...n}=e,r=$r(t);return p.jsx(yk,{...r,...n})};Ek.displayName=Jz;var e4="AlertDialogOverlay",Pk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx($g,{...o,...r,ref:t})});Pk.displayName=e4;var qs="AlertDialogContent",[t4,n4]=Qz(qs),r4=Sb("AlertDialogContent"),Tk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=$r(n),i=f.useRef(null),a=Le(t,i),l=f.useRef(null);return p.jsx(zz,{contentName:qs,titleName:kk,docsSlug:"alert-dialog",children:p.jsx(t4,{scope:n,cancelRef:l,children:p.jsxs(Ug,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:re(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(r4,{children:r}),p.jsx(s4,{contentRef:i})]})})})});Tk.displayName=qs;var kk="AlertDialogTitle",Ak=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(Vg,{...o,...r,ref:t})});Ak.displayName=kk;var Dk="AlertDialogDescription",Rk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(Bg,{...o,...r,ref:t})});Rk.displayName=Dk;var o4="AlertDialogAction",Mk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=$r(n);return p.jsx(zg,{...o,...r,ref:t})});Mk.displayName=o4;var Ik="AlertDialogCancel",_k=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=n4(Ik,n),s=$r(n),i=Le(t,o);return p.jsx(zg,{...s,...r,ref:i})});_k.displayName=Ik;var s4=({contentRef:e})=>{const t=`\`${qs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qs}\` by passing a \`${Dk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},i4=Ck,a4=Ek,Nk=Pk,Lk=Tk,jk=Mk,Fk=_k,Ok=Ak,$k=Rk;const Uk=i4,l4=a4,Vk=f.forwardRef(({className:e,...t},n)=>p.jsx(Nk,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Vk.displayName=Nk.displayName;const Gg=f.forwardRef(({className:e,...t},n)=>p.jsxs(l4,{children:[p.jsx(Vk,{}),p.jsx(Lk,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Gg.displayName=Lk.displayName;const Kg=({className:e,...t})=>p.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});Kg.displayName="AlertDialogHeader";const Yg=({className:e,...t})=>p.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yg.displayName="AlertDialogFooter";const Qg=f.forwardRef(({className:e,...t},n)=>p.jsx(Ok,{ref:n,className:ne("text-lg font-semibold",e),...t}));Qg.displayName=Ok.displayName;const Xg=f.forwardRef(({className:e,...t},n)=>p.jsx($k,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));Xg.displayName=$k.displayName;const Zg=f.forwardRef(({className:e,...t},n)=>p.jsx(jk,{ref:n,className:ne(Pm(),e),...t}));Zg.displayName=jk.displayName;const Jg=f.forwardRef(({className:e,...t},n)=>p.jsx(Fk,{ref:n,className:ne(Pm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jg.displayName=Fk.displayName;function c4(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=Zn(),o=async()=>{await n()};return p.jsx(Uk,{open:e,onOpenChange:t,children:p.jsxs(Gg,{children:[p.jsxs(Kg,{children:[p.jsx(Qg,{children:"Delete Entry"}),p.jsx(Xg,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Yg,{children:[p.jsx(Jg,{disabled:r,children:"Cancel"}),p.jsx(Zg,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var u4="Label",Bk=f.forwardRef((e,t)=>p.jsx(we.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Bk.displayName=u4;var zk=Bk;const d4=Qa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nd=f.forwardRef(({className:e,...t},n)=>p.jsx(zk,{ref:n,className:ne(d4(),e),...t}));nd.displayName=zk.displayName;function f4({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Ka(),l=f.useCallback(async g=>{if(!g||g.length===0)return;const x=Array.from(g),b=[],m=[];let v=!0;if(s+x.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const S of x){if(!S.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${S.name}" is not a supported image file.`,variant:"destructive"}),v=!1;continue}try{const C=URL.createObjectURL(S);b.push(S),m.push(C)}catch(C){w.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${S.name}`,variant:"destructive"}),v=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!v&&m.length>0&&m.forEach(URL.revokeObjectURL),v&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(g=>{t||l(g.target.files)},[t,l]),d=f.useCallback(g=>{t||(g.preventDefault(),g.stopPropagation(),l(g.dataTransfer.files))},[t,l]),u=g=>{t||(g.preventDefault(),g.stopPropagation())},h=f.useCallback(()=>{var g;t||(g=i.current)==null||g.click()},[t]),y=r?Ct.isValidElement(r)?Ct.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:ne("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:ne(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),y]})}const Vo=10,Qr=e=>e.isNew===!0,qk=e=>e.isNew===!1,h4=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function p4({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const y=f.useRef(null),g=f.useRef(null),[x,b]=f.useState(null),[m,v]=f.useState(null),S=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{S.current=S.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),v(null)},k=N=>{const L=E.current,R=C.current;if(!L||!R||N<0||N>e.length){P();return}if(N===m&&L.style.display!=="none")return;v(N);const I=h4(R);let $=null,G=!1;if(N===e.length?($=S.current[e.length-1],G=!0):($=S.current[N],G=!1),$){const J=$.getBoundingClientRect(),ee=$.offsetTop;let de;G?de=$.offsetLeft+J.width+I/2:de=$.offsetLeft-I/2,L.style.display="block",L.style.top=`${ee}px`,L.style.left=`${de}px`,L.style.height=`${J.height}px`}else P()},A=(N,L)=>{if(y.current=L,b(L),P(),N.dataTransfer)try{N.dataTransfer.effectAllowed="move"}catch{}},D=(N,L)=>{if(N.preventDefault(),y.current===null||y.current===L){g.current=null,P();return}g.current=L;const R=S.current[L];if(R){const I=R.getBoundingClientRect(),$=I.left+I.width/2,J=N.clientX<$?L:L+1;k(J)}},M=N=>{C.current&&!C.current.contains(N.relatedTarget)&&(g.current=null,P())},j=()=>{let N=m;y.current!==null&&N!==null&&N>y.current&&N--,y.current!==null&&N!==null&&y.current!==N&&t(L=>{const R=[...L],I=R.splice(y.current,1)[0];return R.splice(N,0,I),R}),y.current=null,g.current=null,b(null),P()},F=(N,L)=>{y.current=L,b(L),P()},H=N=>{if(y.current===null)return;N.cancelable&&N.preventDefault();const L=N.touches[0],R=document.elementFromPoint(L.clientX,L.clientY),I=R==null?void 0:R.closest('[draggable="true"]');if(I){const $=S.current.indexOf(I);if($!==-1&&$!==y.current){g.current=$;const G=I.getBoundingClientRect(),J=G.left+G.width/2,de=L.clientX<J?$:$+1;k(de);return}}g.current=null,P()},O=()=>{let N=m;y.current!==null&&N!==null&&N>y.current&&N--,y.current!==null&&N!==null&&y.current!==N&&t(L=>{const R=[...L],I=R.splice(y.current,1)[0];return R.splice(N,0,I),R}),y.current=null,g.current=null,b(null),P()},z=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(nd,{children:["Photos (",e.length,"/",Vo,")"," ",z&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((N,L)=>p.jsx(Sk,{className:"h-16 w-16 rounded aspect-square"},L))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:M,onTouchStart:N=>{},onTouchMove:H,onTouchEnd:O,onTouchCancel:O,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((N,L)=>{var ee;const R=Qr(N)?N.localId:N.photoId,I=l.current.get(R),$=N.crop;let G=null;Qr(N)?N.originalDimensions&&(G={filename:N.file.name,mimeType:N.file.type,width:N.originalDimensions.width,height:N.originalDimensions.height,exifDate:(ee=N.exifData)==null?void 0:ee.exifDate}):qk(N)&&(G=c.current.get(N.photoId)??null);const J=!!I;return p.jsxs("div",{ref:de=>S.current[L]=de,draggable:z,onDragStart:de=>z&&A(de,L),onDragOver:de=>z&&D(de,L),onDragEnd:z?j:void 0,onTouchStart:de=>z&&F(de,L),className:ne("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",z?"cursor-grab active:cursor-grabbing":"cursor-default",x===L?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(XT,{imageUrl:I,thumbnailUrl:I,cropData:$,photoMetadata:G,altText:`Photo ${L+1} thumbnail`,className:"rounded",enableLoadingState:!!I&&I.startsWith("blob:")}),p.jsxs("div",{className:ne("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Ye,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:de=>{de.stopPropagation(),!n&&J?s(L):J||w.warn(`Cannot open cropper: original URL missing for ${R}`)},disabled:n||!J,children:p.jsx($I,{className:"h-3 w-3"})}),p.jsx(Ye,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:de=>{de.stopPropagation(),n||i(L)},disabled:n,children:p.jsx(um,{className:"h-3 w-3"})})]}),z&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(VI,{className:"h-3 w-3 text-white"})})]},R+"-"+L)}),e.length<Vo&&p.jsx(f4,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:Vo,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Wt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(BI,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function m4({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(nd,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(eC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Wk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Wk.displayName="Textarea";function g4({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(nd,{htmlFor:"content",children:"Content"}),p.jsx(Wk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function y4({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Ye,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Ye,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function v4(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function w4(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function x4(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=Zn(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=v4(),d=w4(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(vk,{open:e,onOpenChange:t,children:p.jsxs(qg,{className:"sm:max-w-md",children:[p.jsxs(Wg,{children:[p.jsx(Hg,{children:"Select Month and Year"}),p.jsx(xk,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,y)=>p.jsx("option",{value:y+1,children:h},y))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Ye,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Ye,{onClick:u,children:"Apply"})]})]})})}function S4(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=Zn();Rm(),rm();const h=l,y=l?"Saving...":"",g={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})});const x=u&&!e&&!t&&!n,b=x?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(mO,{}),h&&p.jsxs("div",{className:ne("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",x?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(Wt,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:y})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Ru,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:ne("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx($B,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(Eg,{initial:!1,mode:"wait",children:p.jsx(Xu.div,{variants:g,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(OB,{}):p.jsx(jz,{})})},s)})})})]}),p.jsx(x4,{}),p.jsx(Yz,{}),p.jsx(c4,{})]})}var Hk=["PageUp","PageDown"],Gk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ci="Slider",[rp,b4,C4]=Pu(Ci),[Yk,o3]=dn(Ci,[C4]),[E4,rd]=Yk(Ci),Qk=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:y=!1,form:g,...x}=e,b=f.useRef(new Set),m=f.useRef(0),S=i==="horizontal"?P4:T4,[C=[],E]=yr({prop:d,defaultProp:c,onChange:j=>{var H;(H=[...b.current][m.current])==null||H.focus(),u(j)}}),P=f.useRef(C);function k(j){const F=M4(C,j);M(j,F)}function A(j){M(j,m.current)}function D(){const j=P.current[m.current];C[m.current]!==j&&h(C)}function M(j,F,{commit:H}={commit:!1}){const O=L4(s),z=j4(Math.round((j-r)/s)*s+r,O),N=Pg(z,[r,o]);E((L=[])=>{const R=D4(L,N,F);if(N4(R,l*s)){m.current=R.indexOf(N);const I=String(R)!==String(L);return I&&H&&h(R),I?R:L}else return L})}return p.jsx(E4,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:g,children:p.jsx(rp.Provider,{scope:e.__scopeSlider,children:p.jsx(rp.Slot,{scope:e.__scopeSlider,children:p.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:re(x.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:y,onSlideStart:a?void 0:k,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:D,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(o,C.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:F})=>{if(!a){const z=Hk.includes(j.key)||j.shiftKey&&Gk.includes(j.key)?10:1,N=m.current,L=C[N],R=s*z*F;M(L+R,N,{commit:!0})}}})})})})});Qk.displayName=Ci;var[Xk,Zk]=Yk(Ci,{startEdge:"left",endEdge:"right",size:"width",direction:1}),P4=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),y=Le(t,S=>h(S)),g=f.useRef(void 0),x=Za(o),b=x==="ltr",m=b&&!s||!b&&s;function v(S){const C=g.current||u.getBoundingClientRect(),E=[0,C.width],k=ey(E,m?[n,r]:[r,n]);return g.current=C,k(S-C.left)}return p.jsx(Xk,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(Jk,{dir:x,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=v(S.clientX);i==null||i(C)},onSlideMove:S=>{const C=v(S.clientX);a==null||a(C)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=Kk[m?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:E?-1:1})}})})}),T4=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=Le(t,d),h=f.useRef(void 0),y=!o;function g(x){const b=h.current||d.current.getBoundingClientRect(),m=[0,b.height],S=ey(m,y?[r,n]:[n,r]);return h.current=b,S(x-b.top)}return p.jsx(Xk,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:p.jsx(Jk,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=g(x.clientY);s==null||s(b)},onSlideMove:x=>{const b=g(x.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const m=Kk[y?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:m?-1:1})}})})}),Jk=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=rd(Ci,n);return p.jsx(we.span,{...c,ref:t,onKeyDown:re(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):Hk.concat(Gk).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:re(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:re(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:re(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),eA="SliderTrack",tA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=rd(eA,n);return p.jsx(we.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});tA.displayName=eA;var op="SliderRange",nA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=rd(op,n),s=Zk(op,n),i=f.useRef(null),a=Le(t,i),l=o.values.length,c=o.values.map(h=>oA(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(we.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});nA.displayName=op;var sp="SliderThumb",rA=f.forwardRef((e,t)=>{const n=b4(e.__scopeSlider),[r,o]=f.useState(null),s=Le(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(k4,{...e,ref:s,index:i})}),k4=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=rd(sp,n),a=Zk(sp,n),[l,c]=f.useState(null),d=Le(t,v=>c(v)),u=l?i.form||!!l.closest("form"):!0,h=wm(l),y=i.values[r],g=y===void 0?0:oA(y,i.min,i.max),x=R4(r,i.values.length),b=h==null?void 0:h[a.size],m=b?I4(b,g,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${m}px)`},children:[p.jsx(rp.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(we.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:y===void 0?{display:"none"}:e.style,onFocus:re(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(A4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});rA.displayName=sp;var A4=e=>{const{value:t,...n}=e,r=f.useRef(null),o=G1(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function D4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function oA(e,t,n){const s=100/(n-t)*(e-t);return Pg(s,[0,100])}function R4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function M4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function I4(e,t,n){const r=e/2,s=ey([0,50],[0,r]);return(r-s(t)*n)*n}function _4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function N4(e,t){if(t>0){const n=_4(e);return Math.min(...n)>=t}return!0}function ey(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function L4(e){return(String(e).split(".")[1]||"").length}function j4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var sA=Qk,F4=tA,O4=nA,$4=rA;const iA=f.forwardRef(({className:e,...t},n)=>p.jsxs(sA,{ref:n,className:ne("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(F4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(O4,{className:"absolute h-full bg-primary"})}),p.jsx($4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));iA.displayName=sA.displayName;const et=250,R0=200;function U4({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,y]=f.useState({x:0,y:0,scale:1}),[g,x]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[v,S]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[A,D]=f.useState(5),[M,j]=f.useState(!1),[F,H]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[O,z]=f.useState(null),[N,L]=f.useState(null),[R,I]=f.useState(null),[$,G]=f.useState(null),J=b&&v,ee=e!==u.current&&!J,de=_=>_&&typeof _=="object"&&"x"in _&&"y"in _&&"w"in _&&"h"in _&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.w=="number"&&typeof _.h=="number"&&_.w>0&&_.h>0&&_.w===_.h,fe=f.useCallback((_,U)=>_<=0||U<=0||et<=0?.1:Math.max(et/_,et/U),[]),Pe=f.useCallback((_,U)=>_<=0||U<=0||et<=0||R0<=0?5:Math.max(Math.max(et/_,et/U),et/R0),[]),Te=f.useCallback((_,U,Q)=>{const ue=s.current;if(!b||g.width<=0||g.height<=0)return{x:_,y:U};const pe=(ue==null?void 0:ue.clientWidth)??0,be=(ue==null?void 0:ue.clientHeight)??0;if(pe<=0||be<=0)return{x:_,y:U};const xe=g.width*Q,_e=g.height*Q,Oe=(pe-et)/2,We=(be-et)/2,bt=Oe,Dt=Oe+et-xe,Rt=We,Pt=We+et-_e,Ot=xe<et?Oe+(et-xe)/2:Math.min(bt,Math.max(Dt,_)),hn=_e<et?We+(et-_e)/2:Math.min(Rt,Math.max(Pt,U));return{x:Ot,y:hn}},[b,g]),Re=f.useCallback((_,U)=>{if(!b||!l.current||v||g.width<=0||g.height<=0)return;const Q=g.width,ue=g.height,pe=fe(Q,ue),be=Pe(Q,ue);k(pe),D(be);let xe,_e,Oe;if(de(r)){xe=et/r.w,xe=Math.max(pe,Math.min(be,xe));const Dt=(_-et)/2,Rt=(U-et)/2;_e=Dt-r.x*xe,Oe=Rt-r.y*xe}else xe=Math.max(et/Q,et/ue),xe=Math.max(pe,xe),_e=(_-Q*xe)/2,Oe=(U-ue*xe)/2;const bt={...Te(_e,Oe,xe),scale:xe};y(bt),S(!0),c.current=!0},[b,v,g,r,fe,Pe,Te]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{e!==u.current&&(w.log(`[ImprovedImageCropper] Image URL changed: ${u.current||"none"} → ${e}`),m(!1),S(!1),c.current=!1,L(u.current),I(h),G(g),u.current=e,w.log("[ImprovedImageCropper] Reset loader state and stored previous image state"))},[e,h,g]),f.useEffect(()=>{u.current!==e?(u.current&&v?(L(u.current),I(h),G(g)):(L(null),I(null),G(null)),m(!1),S(!1),x(o||{width:0,height:0}),y({x:0,y:0,scale:1}),k(.1),D(5),c.current=!1,E(!1),u.current=e):o&&!v&&(o.width!==g.width||o.height!==g.height)&&x(o)},[e,o]);const je=f.useCallback(()=>{const _=i.current;if(w.log(`[ImprovedImageCropper] handleImageLoad called for image: ${e}`),!_){w.warn("[ImprovedImageCropper] Image ref is null in handleImageLoad");return}if(!l.current){w.warn("[ImprovedImageCropper] Component unmounted during image load");return}if(_.src!==e){w.warn(`[ImprovedImageCropper] Image src mismatch: ${_.src} vs ${e}`);return}const U=_.naturalWidth,Q=_.naturalHeight;if(w.log(`[ImprovedImageCropper] Image loaded with dimensions: ${U}×${Q}`),U<=0||Q<=0){w.error(`[ImprovedImageCropper] Image has invalid dimensions on load: ${U}×${Q}`),m(!1),S(!1);return}(g.width!==U||g.height!==Q)&&(w.log(`[ImprovedImageCropper] Updating image dimensions: ${g.width}×${g.height} → ${U}×${Q}`),x({width:U,height:Q})),m(!0),w.log("[ImprovedImageCropper] Image successfully loaded and ready")},[e,g]),Ze=f.useCallback(()=>{const _=i.current;!_||!l.current||_.src!==e||(w.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),S(!1))},[e]);f.useEffect(()=>{const _=s.current;if(_&&b&&!v){const U=pe=>{if(!(!l.current||v))for(const be of pe){const{width:xe,height:_e}=be.contentRect||{width:be.target.clientWidth,height:be.target.clientHeight};xe>0&&_e>0?Re(xe,_e):w.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(U),d.current.observe(_);const Q=_.clientWidth,ue=_.clientHeight;return Q>0&&ue>0&&Re(Q,ue),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[b,v,Re]),f.useEffect(()=>{if(b&&v){const{x:_,y:U,scale:Q}=h,ue=Te(_,U,Q);(ue.x!==_||ue.y!==U)&&y(pe=>({...pe,...ue}))}},[h.scale,b,v,Te,h.x,h.y]);const oe=f.useCallback((_,U,Q)=>{!J||!s.current||y(ue=>{let pe=ue.scale*_;if(pe=Math.max(P,Math.min(A,pe)),pe===ue.scale)return ue;const be=(U-ue.x)/ue.scale,xe=(Q-ue.y)/ue.scale,_e=U-be*pe,Oe=Q-xe*pe;return{scale:pe,...Te(_e,Oe,pe)}})},[J,P,A,Te]),te=(_,U,Q)=>{!J||C||(j(!0),H({x:_,y:U,pinchDistance:Q,imageX:h.x,imageY:h.y}),z(Q??null))},ve=(_,U,Q)=>{if(!(!M||!J||!s.current)){if(Q!==void 0&&O!==null){const ue=Q/O,pe=s.current.getBoundingClientRect(),be=F.x-pe.left,xe=F.y-pe.top;oe(ue,be,xe),z(Q)}else if(O===null){const ue=_-F.x,pe=U-F.y,be=F.imageX+ue,xe=F.imageY+pe;y(_e=>({..._e,...Te(be,xe,_e.scale)}))}}},ke=()=>{M&&(j(!1),z(null))},lt=_=>te(_.clientX,_.clientY),vt=_=>ve(_.clientX,_.clientY),st=_=>{if(_.touches.length===2){const U=_.touches[0],Q=_.touches[1],ue=Math.hypot(Q.clientX-U.clientX,Q.clientY-U.clientY),pe=(U.clientX+Q.clientX)/2,be=(U.clientY+Q.clientY)/2;te(pe,be,ue)}else _.touches.length===1&&te(_.touches[0].clientX,_.touches[0].clientY)},St=_=>{if(M)if(_.cancelable&&_.preventDefault(),_.touches.length===2){const U=_.touches[0],Q=_.touches[1],ue=Math.hypot(Q.clientX-U.clientX,Q.clientY-U.clientY),pe=(U.clientX+Q.clientX)/2,be=(U.clientY+Q.clientY)/2;ve(pe,be,ue)}else _.touches.length===1&&ve(_.touches[0].clientX,_.touches[0].clientY)},it=f.useCallback(_=>{if(!J||!s.current||C)return;_.preventDefault();const U=s.current.getBoundingClientRect(),Q=_.clientX-U.left,ue=_.clientY-U.top,be=1+_.deltaY*-.005;oe(be,Q,ue)},[J,C,oe]);f.useEffect(()=>{if(M)return window.addEventListener("mousemove",vt),window.addEventListener("touchmove",St,{passive:!1}),window.addEventListener("mouseup",ke),window.addEventListener("touchend",ke),window.addEventListener("touchcancel",ke),()=>{window.removeEventListener("mousemove",vt),window.removeEventListener("touchmove",St),window.removeEventListener("mouseup",ke),window.removeEventListener("touchend",ke),window.removeEventListener("touchcancel",ke)}},[M,St]),f.useEffect(()=>{const _=s.current;if(_&&J)return _.addEventListener("wheel",it,{passive:!1}),()=>_.removeEventListener("wheel",it)},[J,it]);const ye=f.useCallback(_=>{if(!s.current||!J||(_=Math.max(P,Math.min(A,_)),_===h.scale))return;const U=s.current,Q=U.clientWidth/2,ue=U.clientHeight/2;oe(_/h.scale,Q,ue)},[J,P,A,h.scale,oe]),Be=()=>ye(h.scale*1.15),_t=()=>ye(h.scale/1.15),B=_=>ye(_[0]),q=()=>{if(S(!1),c.current=!1,y({x:0,y:0,scale:1}),s.current&&b){const _=s.current.clientWidth,U=s.current.clientHeight;_>0&&U>0&&Re(_,U)}},K=()=>{w.log("[ImprovedImageCropper] performCrop called");const _=s.current,U=i.current;if(w.log("[ImprovedImageCropper] Checking crop preconditions:",{hasContainer:!!_,isInitialized:v,hasCurrentImage:!!U,naturalWidth:U==null?void 0:U.naturalWidth,naturalHeight:U==null?void 0:U.naturalHeight,imageUrl:e}),!_||!v||!U||!U.naturalWidth||!U.naturalHeight||U.naturalWidth<=0||U.naturalHeight<=0){w.error("[ImprovedImageCropper] Cannot crop: Preconditions fail");return}w.log("[ImprovedImageCropper] Starting crop processing"),E(!0);try{const Q=_.clientWidth,ue=_.clientHeight;w.log(`[ImprovedImageCropper] Container dimensions: ${Q}×${ue}`);const pe=(Q-et)/2,be=(ue-et)/2;w.log(`[ImprovedImageCropper] Frame position: (${pe}, ${be})`);const xe=pe-h.x,_e=be-h.y,Oe=xe/h.scale,We=_e/h.scale;w.log(`[ImprovedImageCropper] Source position (original): (${Oe}, ${We})`);const bt=et/h.scale,Dt=et/h.scale;w.log(`[ImprovedImageCropper] Source dimensions (original): ${bt}×${Dt}`);const Rt=Math.max(0,Oe),Pt=Math.max(0,We),Ot=Math.min(bt,U.naturalWidth-Rt),hn=Math.min(Dt,U.naturalHeight-Pt);if(w.log(`[ImprovedImageCropper] Clamped source: (${Rt}, ${Pt}, ${Ot}, ${hn})`),Ot<=0||hn<=0){const Z=`Crop area zero/negative: W=${Ot}, H=${hn}`;throw w.error(`[ImprovedImageCropper] ${Z}`),new Error(Z)}let Tt={x:Math.round(Rt),y:Math.round(Pt),w:Math.round(Ot),h:Math.round(hn)};w.log(`[ImprovedImageCropper] Initial crop data: (${Tt.x}, ${Tt.y}, ${Tt.w}, ${Tt.h})`);const Y=Math.min(Tt.w,Tt.h);if(Tt.w=Y,Tt.h=Y,w.log(`[ImprovedImageCropper] Final square crop data: (${Tt.x}, ${Tt.y}, ${Tt.w}, ${Tt.h})`),Tt.w<=0){const Z=`Final crop width <= 0: ${Tt.w}`;throw w.error(`[ImprovedImageCropper] ${Z}`),new Error(Z)}l.current?(w.log("[ImprovedImageCropper] Component still mounted, calling onCropComplete with final crop data"),t(Tt)):w.warn("[ImprovedImageCropper] Component unmounted, skipping onCropComplete call")}catch(Q){w.error("[ImprovedImageCropper] Error during cropping:",Q),Q instanceof Error&&(w.error(`[ImprovedImageCropper] Error message: ${Q.message}`),w.error(`[ImprovedImageCropper] Error stack: ${Q.stack}`))}finally{l.current&&(w.log("[ImprovedImageCropper] Setting isProcessing to false"),E(!1))}},me=ee||!v&&!C,ce=!v&&!C,qe=!v||C,Ee={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Fe={...Ee,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:v?1:0,transition:M?"none":"transform 0.1s linear",zIndex:2},Ie={...Ee,transform:R?`translate(${R.x}px, ${R.y}px) scale(${R.scale})`:"translate(0px, 0px) scale(1)",opacity:v?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Wt,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:ne("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",M?"cursor-grabbing":"cursor-grab"),onMouseDown:lt,onTouchStart:st,children:[N&&R&&$&&p.jsx("img",{ref:a,src:N,alt:"",className:"absolute transform-gpu origin-top-left block",style:Ie,draggable:!1,width:$.width,height:$.height},N+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Fe,onLoad:je,onError:Ze,draggable:!1,loading:"eager"},e),me&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Wt,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${et}px`,height:`${et}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ye,{type:"button",variant:"outline",size:"icon",onClick:_t,disabled:!J||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(t_,{className:"h-4 w-4"})," "]}),p.jsx(iA,{value:[h.scale],min:P,max:A,step:(A-P)/100,onValueChange:B,className:"flex-grow",disabled:!J||C,"aria-label":"Zoom slider"}),p.jsxs(Ye,{type:"button",variant:"outline",size:"icon",onClick:Be,disabled:!J||C||h.scale>=A,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(e_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Ye,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Ye,{type:"button",variant:"ghost",onClick:q,disabled:!J||C,className:"px-3",children:[" ",p.jsx(XI,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Ye,{type:"button",variant:"default",onClick:K,disabled:qe,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):ce?p.jsxs(p.Fragment,{children:[" ",p.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(Kb,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function Sf(e){return new Promise((t,n)=>{const r=new Image;if(r.onload=()=>{r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):n(new Error("Image loaded with zero dimensions."))},r.onerror=o=>{w.error("Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")r.src=e;else if(e instanceof File){const o=new FileReader;o.onload=s=>{var i;(i=s.target)!=null&&i.result?r.src=s.target.result:n(new Error("FileReader result is empty."))},o.onerror=s=>{w.error("FileReader error:",s),n(new Error("Failed to read file."))},o.readAsDataURL(e)}else n(new Error("Invalid input for getImageDimensions"))})}const V4=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return w.error("Error parsing EXIF date string:",t),null}};function bf(e){return new Promise(t=>{if(!window.EXIF){w.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(w.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=V4(o);t({exifDate:s})}catch(o){w.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,w.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function M0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(Uk,{open:e,onOpenChange:t,children:p.jsxs(Gg,{children:[p.jsxs(Kg,{children:[p.jsx(Qg,{children:r}),p.jsx(Xg,{children:o})]}),p.jsxs(Yg,{children:[p.jsx(Jg,{disabled:a,children:i}),p.jsxs(Zg,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const B4=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&w.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function I0({entryId:e}){const t=Zn(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,isAuthenticated:d,isLoadingAuth:u,navigate:h,isLoadingImagesMeta:y,isClientReady:g,isOnline:x}=t,{toast:b}=Ka(),[m,v]=f.useState(null),[S,C]=f.useState(()=>{const Z=window.location.hash.split("?")[1];let se=null;if(Z)try{se=new URLSearchParams(Z).get("date")}catch{}if(se&&/^\d{4}-\d{2}-\d{2}$/.test(se))return w.log(`[EntryForm State Init] Initializing date from param: ${se}`),new Date(se+"T00:00:00Z");{w.log("[EntryForm State Init] Initializing date to today (UTC).");const ie=new Date;return new Date(Date.UTC(ie.getFullYear(),ie.getMonth(),ie.getDate()))}}),[E,P]=f.useState(!1),[k,A]=f.useState(""),[D,M]=f.useState([]),[j,F]=f.useState(!1),[H,O]=f.useState(null),[z,N]=f.useState(!1),[L,R]=f.useState(null),[I,$]=f.useState(null),[G,J]=f.useState(!0),[ee,de]=f.useState([]),[fe,Pe]=f.useState(null),[Te,Re]=f.useState(!1),[je,Ze]=f.useState(null),[oe,te]=f.useState(null),[ve,ke]=f.useState(!1),[lt,vt]=f.useState(!1),[st,St]=f.useState(new Map),it=f.useRef(null),ye=f.useRef(!1),Be=f.useRef(new Map),_t=f.useRef(new Map),B=f.useRef(null),q=f.useRef(!1),K=f.useRef(!1),me=f.useRef(0),ce=f.useRef({}),qe=io.getInstance(),Ee=!!e,Fe=fe!==null&&fe<ee.length,Ie=a||Fe||Te,_=!G&&!Ie&&!a&&!u&&D.length>0&&!z&&ee.length===0&&ve,U=f.useMemo(()=>{const Y=m?m.date:S.toISOString().split("T")[0],Z=m?m.content:"",se=m?m.photos:[],ie=new Set(se.map(ae=>ae.photoId));return{date:Y,content:Z,photoIds:ie}},[m,S]);f.useEffect(()=>{if(G||u||y){ke(!1);return}const Y=S.toISOString().split("T")[0]!==U.date,Z=k!==U.content,se=new Set(D.map(he=>Qr(he)?he.localId:he.photoId)),ie=U.photoIds;let ae=se.size!==ie.size;if(!ae){for(const he of se)ie.has(he)||(ae=!0);if(!ae)for(const he of ie)se.has(he)||(ae=!0)}let Ce=!1;if(m&&!ae){for(const he of D)if(!Qr(he)){const X=m.photos.find(Se=>Se.photoId===he.photoId);if(X&&(he.crop.x!==X.crop.x||he.crop.y!==X.crop.y||he.crop.w!==X.crop.w||he.crop.h!==X.crop.h)){Ce=!0;break}}}if(Ee)ke(Y||Z||ae||Ce);else{const he=(()=>{const He=window.location.hash.split("?")[1];let Ne=null;if(He)try{Ne=new URLSearchParams(He).get("date")}catch{}if(Ne&&/^\d{4}-\d{2}-\d{2}$/.test(Ne))return Ne;{const Je=new Date;return new Date(Date.UTC(Je.getFullYear(),Je.getMonth(),Je.getDate())).toISOString().split("T")[0]}})(),X=S.toISOString().split("T")[0]!==he;ke(k.trim()!==""||D.length>0||X)}},[S,k,D,U.date,U.content,U.photoIds,Ee,G,u,y,m]);const Q=f.useCallback(async Y=>{if(!ye.current||Y>=ee.length)return;const Z=ee[Y];if(!Z||st.has(Z.localId))return;B.current&&B.current.abort();const se=new AbortController;B.current=se;try{const[ie,ae]=await Promise.all([Sf(Z.file),bf(Z.file)]);if(se.signal.aborted||!ye.current)return;St(Ce=>new Map(Ce).set(Z.localId,{dims:ie,exif:ae}))}catch(ie){ie.name==="AbortError"||ye.current&&w.error(`[Prefetch] Error pre-fetching data for index ${Y}, file: ${Z.file.name}`,ie)}finally{B.current===se&&(B.current=null)}},[ee,st]),ue=f.useCallback((Y,Z)=>{if(w.log(`[EntryForm] handleFilesSelect called with ${Y.length} files:`,{fileTypes:Y.map(ae=>ae.type),fileSizes:Y.map(ae=>ae.size),fileNames:Y.map(ae=>ae.name),previewUrls:Z}),!ye.current){w.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&(w.log(`[EntryForm] Revoking ${Z.length} blob URLs due to unmount`),Z.forEach(ae=>{w.log(`[EntryForm] Revoking blob URL: ${ae}`),URL.revokeObjectURL(ae)}));return}const se=Vo-D.length-ee.length;if(w.log(`[EntryForm] Available slots: ${se} (MAX_PHOTOS: ${Vo}, current photos: ${D.length}, queue: ${ee.length})`),Y.length>se&&(w.warn(`[EntryForm] Too many files (${Y.length}), limiting to ${se}`),b({title:"Too many files",description:`You can only add ${se} more photo(s). Some files were ignored.`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"&&(w.log(`[EntryForm] Revoking excess blob URLs (${Z.length-se})`),Z.slice(se).forEach(ae=>{w.log(`[EntryForm] Revoking excess blob URL: ${ae}`),URL.revokeObjectURL(ae)})),Y=Y.slice(0,se),Z=Z.slice(0,se),Y.length===0)){w.warn("[EntryForm] No files left after limiting");return}const ie=Y.map((ae,Ce)=>{const he=crypto.randomUUID(),X=Z[Ce];return w.log(`[EntryForm] Processing file for queue: ${ae.name}, type: ${ae.type}, size: ${ae.size}`),w.log(`[EntryForm] Generated localId: ${he} for blob URL: ${X}`),(!X||!X.startsWith("blob:"))&&w.error(`[EntryForm] Invalid blob URL for file ${ae.name}: ${X}`),Be.current.set(he,X),w.log(`[EntryForm] Stored in originalBlobUrlsRef. Current count: ${Be.current.size}`),{file:ae,previewUrl:X,localId:he}});w.log(`[EntryForm] Created ${ie.length} new queue items`),de(ae=>{const Ce=[...ae,...ie];return w.log(`[EntryForm] ProcessingQueue updated: ${ae.length} → ${Ce.length} items`),fe===null&&Ce.length>0?(w.log("[EntryForm] Starting queue processing - setting currentQueueIndex to 0"),Pe(0),Ce.length>1&&(w.log("[EntryForm] Prefetching next item at index 1"),Q(1))):w.log(`[EntryForm] Queue processing already in progress, currentQueueIndex: ${fe}`),Ce})},[D.length,ee.length,b,fe,Q]);f.useEffect(()=>{const Y={entryId:e,isAuthenticated:d,isLoadingAuth:u,isClientReady:g,isLoadingImagesMeta:y,isOnline:x,navigate:h,toast:b,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:m==null?void 0:m.id};me.current++;const Z=me.current,se=`init-${Z}`;if(B4(Z,ce.current,Y),(Z===1||e!==ce.current.entryId)&&(K.current=!1),!(!u&&g&&!y)){J(!0),ce.current=Y;return}ye.current=!0,ke(!1);const ae=()=>{w.log(`[EntryForm Init Effect ${se}] resetFormState() called.`),v(null),A(""),M([]),F(!1),O(null),N(!1),R(null),$(null),de([]),Pe(null),Re(!1),Ze(null),te(null),St(new Map),Be.current.forEach((X,Se)=>{try{X.startsWith("blob:")&&URL.revokeObjectURL(X)}catch{}}),Be.current.clear(),_t.current.clear()},Ce=async X=>{if(w.log(`[EntryForm Init Effect ${se}] Populate form for entry ID:`,X.id),!ye.current)return;let Se=new Date(X.date+"T00:00:00Z");if(C(Se),A(X.content),v({...X}),P(!0),w.log(`[EntryForm Init Effect ${se}] Basic form fields populated. isDateSetByUserIntent: true`),M([]),_t.current.clear(),Be.current.forEach((He,Ne)=>{try{He.startsWith("blob:")&&URL.revokeObjectURL(He)}catch{}}),Be.current.clear(),X.photos&&X.photos.length>0){w.log(`[EntryForm Init Effect ${se}] Loading ${X.photos.length} photos.`),(!i||i.length===0)&&w.warn(`[EntryForm Init Effect ${se}] Missing imagesMetadata.`);const He=X.photos.map(async Ne=>{const Je=(i||[]).find(Yt=>Yt.id===Ne.photoId),Ge=(Je==null?void 0:Je.photoMetadata)??null,ze=Ge==null?void 0:Ge.contentHash;let $e=null;try{if($e=await s(ze,Ne.photoId),!ye.current)return null;$e?(Be.current.set(Ne.photoId,$e),Ge&&_t.current.set(Ne.photoId,Ge)):w.warn(`[EntryForm Init Effect ${se}] No preview URL for photo ${Ne.photoId}`)}catch(Yt){w.error(`[EntryForm Init Effect ${se}] Failed getting preview link for photo ${Ne.photoId}:`,Yt)}const rn=$e===null?void 0:$e;return rn?{...Ne,isNew:!1,localPreviewUrl:rn}:null});try{const Ne=await Promise.all(He);if(!ye.current)return;const Je=Ne.filter(Ge=>Ge!==null);if(w.log(`[EntryForm Init Effect ${se}] Setting ${Je.length} photos.`),M(Je),Je.length>0){const Ge=_t.current.get(Je[0].photoId),ze=(Ge==null?void 0:Ge.exifDate)??null;w.log(`[EntryForm Init Edit] Storing initial EXIF date: ${ze}`),O(ze);const $e=Se.toISOString().split("T")[0];let rn=!1,Yt="";if(ze){const[er,Ur,En]=ze.split("-").map(Number);!isNaN(er)&&!isNaN(Ur)&&!isNaN(En)&&(Yt=new Date(Date.UTC(er,Ur-1,En)).toISOString().split("T")[0],rn=$e!==Yt)}w.log(`[EntryForm Init Edit] Comparing Form UTC: ${$e} vs EXIF as UTC: ${Yt||"N/A"}. Show warning: ${rn}`),F(rn)}else w.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),O(null),F(!1)}catch(Ne){w.error(`[EntryForm Init Effect ${se}] Error loading initial photo details:`,Ne),ye.current&&M([])}}else w.log(`[EntryForm Init Effect ${se}] Entry has no photos.`),M([]),O(null),F(!1);w.log(`[EntryForm Init Effect ${se}] populateForm finished.`)};return(async()=>{if(K.current){J(!1);return}J(!0),ae();try{if(Ee&&e){w.log(`[EntryForm Init Effect ${se}] EDIT MODE: Initializing for entry ID: ${e}`);let X=null;if(X=r(e)||null,X||(w.log(`[EntryForm Init Effect ${se}] EDIT MODE: Not in context, loading...`),X=await o(e)),X&&ye.current)await Ce(X),K.current=!0;else if(ye.current){w.error(`[EntryForm Init Effect ${se}] EDIT MODE: Entry ${e} not found. Redirecting.`),b({title:"Error",description:"Entry not found.",variant:"destructive"}),h("/");return}}else{w.log(`[EntryForm Init Effect ${se}] NEW MODE: Initializing.`);const Se=window.location.hash.split("?")[1];let He=null;if(Se)try{He=new URLSearchParams(Se).get("date")}catch{}let Ne=!1,Je;if(He&&/^\d{4}-\d{2}-\d{2}$/.test(He))Je=new Date(He+"T00:00:00Z"),Ne=!0,w.log(`[EntryForm Init Effect ${se}] NEW MODE: Date from param: ${He}. User intent: true.`);else{const Ge=new Date;Je=new Date(Date.UTC(Ge.getFullYear(),Ge.getMonth(),Ge.getDate())),Ne=!1,w.log(`[EntryForm Init Effect ${se}] NEW MODE: Date defaulted to today. User intent: false.`)}C(Je),P(Ne),v(null),K.current=!0}}finally{ye.current&&J(!1)}})(),ce.current=Y,()=>{ye.current=!1,B.current&&(B.current.abort(),B.current=null),w.log(`[EntryForm Cleanup] Attempting to revoke ${Be.current.size} URLs.`),Be.current.forEach((X,Se)=>{try{X&&X.startsWith("blob:")&&URL.revokeObjectURL(X)}catch{}}),Be.current.clear(),_t.current.clear()}},[e,d,u,g,y,h,b,r,o,s,i,x,qe]),f.useEffect(()=>{if(w.log("[Shared Files Effect] Running check.",{isEditMode:Ee,isAuthenticated:d,isLoadingAuth:u,pendingSharedFiles:l?`${l.length} files`:"null",hasProcessedInitialSharedFiles:q.current,isLoadingData:G,photos:D.length,processingQueue:ee.length}),!Ee&&d&&!u&&l&&l.length>0&&!q.current&&!G){w.log(`[Shared Files Effect] Processing ${l.length} pending shared files:`,{fileTypes:l.map(he=>he.type),fileSizes:l.map(he=>he.size),fileNames:l.map(he=>he.name)}),P(!1);const Y=[...l];if(c(),q.current=!0,w.log("[Shared Files Effect] Set hasProcessedInitialSharedFiles to true"),typeof URL.createObjectURL!="function"){w.error("[Shared Files Effect] URL.createObjectURL not available, cannot process files"),b({title:"Error",description:"Cannot process shared files.",variant:"destructive"});return}const Z=D.length,se=ee.length,ie=Vo-Z-se;if(w.log(`[Shared Files Effect] Available slots: ${ie} (max: ${Vo}, current: ${Z}, queue: ${se})`),Y.length>ie&&(w.warn(`[Shared Files Effect] Too many files (${Y.length}), limiting to ${ie}`),b({title:"Too many files",description:`Limit reached. Added first ${ie}.`,variant:"destructive"}),Y.splice(ie)),Y.length===0){w.warn("[Shared Files Effect] No files to process after adjustments");return}const ae=[],Ce=[];try{Y.forEach(he=>{if(w.log(`[Shared Files Effect] Processing file: ${he.name}, type: ${he.type}, size: ${he.size}`),!he.type.startsWith("image/"))throw w.error(`[Shared Files Effect] Invalid file type: ${he.type} for file ${he.name}`),new Error(`Invalid file type: ${he.type}`);w.log(`[Shared Files Effect] Creating blob URL for ${he.name}`);const X=URL.createObjectURL(he);w.log(`[Shared Files Effect] Created blob URL: ${X}`),ae.push(X);const Se=crypto.randomUUID();w.log(`[Shared Files Effect] Generated localId: ${Se}`),Be.current.set(Se,X),w.log(`[Shared Files Effect] Stored blob URL in originalBlobUrlsRef for localId: ${Se}`),Ce.push({file:he,previewUrl:X,localId:Se})}),w.log(`[Shared Files Effect] Created ${Ce.length} queue items, calling handleFilesSelect`),ue(Ce.map(he=>he.file),Ce.map(he=>he.previewUrl))}catch(he){w.error("[Shared Files Effect] Error processing shared files:",he),ae.forEach(URL.revokeObjectURL)}}},[Ee,d,u,l,c,b,ue,G,D.length,ee.length]),f.useEffect(()=>{if(!Fe||!ye.current){w.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:Fe,isMounted:ye.current,currentQueueIndex:fe,queueLength:ee.length});return}w.log(`[Queue Effect] Processing queue item at index ${fe} of ${ee.length}`);const Y=ee[fe];if(!Y){w.error(`[Queue Effect] No item found at index ${fe} in queue of length ${ee.length}`),ee.length>0&&fe!==null&&(w.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Pe(null),de([]),z&&N(!1));return}w.log(`[Queue Effect] Found item to process: file=${Y.file.name}, localId=${Y.localId}, blob=${Y.previewUrl}`),(async()=>{if(!ye.current){w.warn("[Queue Effect] Component unmounted during processing");return}const se=Y,{file:ie,previewUrl:ae,localId:Ce}=se;w.log(`[Queue Effect] Processing file: ${ie.name}, type: ${ie.type}, size: ${ie.size}`),w.log(`[Queue Effect] Using blob URL: ${ae}`);let he=null;st.has(Ce)?(w.log(`[Queue Effect] Using pre-fetched data for ${Ce}`),he=st.get(Ce),St(X=>{const Se=new Map(X);return Se.delete(Ce),Se})):w.log(`[Queue Effect] No pre-fetched data available for ${Ce}, will fetch now`);try{w.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${ie.name}`);const{dims:X,exif:Se}=he??await(async()=>{w.log(`[Queue Effect] Fetching data now for ${ie.name}`);const ze=await Sf(ie),$e=await bf(ie);return w.log(`[Queue Effect] Got dimensions: ${ze.width}×${ze.height} and EXIF data:`,$e),{dims:ze,exif:$e}})();if(!ye.current){w.warn("[Queue Effect] Component unmounted during data fetch");return}w.log(`[Queue Effect] Calculating initial crop for ${ie.name}`);const He=Math.min(X.width,X.height),Ne={x:Math.round((X.width-He)/2),y:Math.round((X.height-He)/2),w:Math.round(He),h:Math.round(He)};w.log(`[Queue Effect] Initial crop calculated: x=${Ne.x}, y=${Ne.y}, w=${Ne.w}, h=${Ne.h}`);const Je={isNew:!0,file:ie,originalDimensions:X,exifData:Se,localPreviewUrl:ae,localId:Ce};if(w.log(`[Queue Effect] Created newPhotoBase object with localId: ${Ce}`),w.log(`[Queue Effect] Date Logic check - photos: ${D.length}, initialExifDate: ${H}, isEditMode: ${Ee}`),D.length===0&&!H&&!Ee){w.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const ze=Se.exifDate;let $e=!1;if(w.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${E}. Storing initial EXIF date string: ${ze}`),O(ze),ze){w.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${ze}, parsing components`);const[rn,Yt,er]=ze.split("-").map(Number);if(w.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${rn}, month=${Yt}, day=${er}`),!isNaN(rn)&&!isNaN(Yt)&&!isNaN(er)){const Ur=new Date(Date.UTC(rn,Yt-1,er)),En=Ur.toISOString().split("T")[0],Ei=S.toISOString().split("T")[0];w.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${En}`),E?(w.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Ei} vs EXIF as UTC: ${En}`),$e=En!==Ei,w.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${$e}`)):(w.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${En}`),C(Ur),$e=!1,w.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else w.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${ze}. Setting warning false.`),$e=!1}else w.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),$e=!1;w.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${$e}`),F($e)}else w.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");te(Je),R(null),$(ae),z||N(!0);const Ge=fe+1;Ge<ee.length&&Q(Ge)}catch(X){if(w.error(`[Queue Effect] Error processing queue item ${fe}:`,X),b({title:"Error Processing Photo",description:`Could not process: ${ie.name}. ${X instanceof Error?X.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ae)}catch{}if(Be.current.delete(Ce),ye.current){const Se=fe!==null?fe+1:null;Se!==null&&Se<ee.length?Pe(Se):(w.log("[Queue Effect] Last item failed. Resetting queue."),Pe(null),de([]),z&&N(!1))}}})()},[fe,ee,st,z,Q,D.length,H,Ee,S,b,E]),f.useEffect(()=>{if(!Fe||!ye.current){w.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:Fe,isMounted:ye.current,currentQueueIndex:fe,queueLength:ee.length});return}w.log(`[Queue Effect] Processing queue item at index ${fe} of ${ee.length}`);const Y=ee[fe];if(!Y){w.error(`[Queue Effect] No item found at index ${fe} in queue of length ${ee.length}`),ee.length>0&&fe!==null&&(w.warn("[Queue Effect] Invalid queue state detected, resetting queue"),Pe(null),de([]),z&&N(!1));return}w.log(`[Queue Effect] Found item to process: file=${Y.file.name}, localId=${Y.localId}, blob=${Y.previewUrl}`),(async()=>{if(!ye.current){w.warn("[Queue Effect] Component unmounted during processing");return}const se=Y,{file:ie,previewUrl:ae,localId:Ce}=se;w.log(`[Queue Effect] Processing file: ${ie.name}, type: ${ie.type}, size: ${ie.size}`),w.log(`[Queue Effect] Using blob URL: ${ae}`);let he=null;st.has(Ce)?(w.log(`[Queue Effect] Using pre-fetched data for ${Ce}`),he=st.get(Ce),St(X=>{const Se=new Map(X);return Se.delete(Ce),Se})):w.log(`[Queue Effect] No pre-fetched data available for ${Ce}, will fetch now`);try{w.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${ie.name}`);const{dims:X,exif:Se}=he??await(async()=>{w.log(`[Queue Effect] Fetching data now for ${ie.name}`);const ze=await Sf(ie),$e=await bf(ie);return w.log(`[Queue Effect] Got dimensions: ${ze.width}×${ze.height} and EXIF data:`,$e),{dims:ze,exif:$e}})();if(!ye.current){w.warn("[Queue Effect] Component unmounted during data fetch");return}w.log(`[Queue Effect] Calculating initial crop for ${ie.name}`);const He=Math.min(X.width,X.height),Ne={x:Math.round((X.width-He)/2),y:Math.round((X.height-He)/2),w:Math.round(He),h:Math.round(He)};w.log(`[Queue Effect] Initial crop calculated: x=${Ne.x}, y=${Ne.y}, w=${Ne.w}, h=${Ne.h}`);const Je={isNew:!0,file:ie,originalDimensions:X,exifData:Se,localPreviewUrl:ae,localId:Ce};if(w.log(`[Queue Effect] Created newPhotoBase object with localId: ${Ce}`),w.log(`[Queue Effect] Date Logic check - photos: ${D.length}, initialExifDate: ${H}, isEditMode: ${Ee}`),D.length===0&&!H&&!Ee){w.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const ze=Se.exifDate;let $e=!1;if(w.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${E}. Storing initial EXIF date string: ${ze}`),O(ze),ze){w.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${ze}, parsing components`);const[rn,Yt,er]=ze.split("-").map(Number);if(w.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${rn}, month=${Yt}, day=${er}`),!isNaN(rn)&&!isNaN(Yt)&&!isNaN(er)){const Ur=new Date(Date.UTC(rn,Yt-1,er)),En=Ur.toISOString().split("T")[0],Ei=S.toISOString().split("T")[0];w.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${En}`),E?(w.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Ei} vs EXIF as UTC: ${En}`),$e=En!==Ei,w.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${$e}`)):(w.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${En}`),C(Ur),$e=!1,w.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else w.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${ze}. Setting warning false.`),$e=!1}else w.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),$e=!1;w.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${$e}`),F($e)}else w.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");te(Je),R(null),$(ae),z||N(!0);const Ge=fe+1;Ge<ee.length&&Q(Ge)}catch(X){if(w.error(`[Queue Effect] Error processing queue item ${fe}:`,X),b({title:"Error Processing Photo",description:`Could not process: ${ie.name}. ${X instanceof Error?X.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ae)}catch{}if(Be.current.delete(Ce),ye.current){const Se=fe!==null?fe+1:null;Se!==null&&Se<ee.length?Pe(Se):(w.log("[Queue Effect] Last item failed. Resetting queue."),Pe(null),de([]),z&&N(!1))}}})()},[fe,ee,st,z,Q,D.length,H,Ee,S,b,E]);const pe=f.useCallback(Y=>{if(!ye.current){w.warn("[EntryForm] handleCropComplete called but component unmounted");return}if(w.log("[EntryForm] handleCropComplete called with crop data:",{newCropData:Y,hasPendingNewPhotoData:!!oe,photoIndexToCrop:L,pendingPhotoLocalId:oe==null?void 0:oe.localId,pendingPhotoInfo:oe?{fileName:oe.file.name,fileType:oe.file.type,fileSize:oe.file.size,dimensions:`${oe.originalDimensions.width}×${oe.originalDimensions.height}`,localPreviewUrl:oe.localPreviewUrl}:"none"}),oe){w.log(`[EntryForm] Processing pending new photo with localId: ${oe.localId}`);const se={...oe,crop:Y};w.log(`[EntryForm] Adding new photo to photos array, current count: ${D.length}`),M(ie=>[...ie,se]),te(null),w.log("[EntryForm] Set pendingNewPhotoData to null")}else L!==null&&(w.log(`[EntryForm] Updating crop for existing photo at index: ${L}`),M(se=>se.map((ie,ae)=>ae===L?{...ie,crop:Y}:ie)));R(null);const Z=fe!==null?fe+1:null;w.log(`[EntryForm] Crop complete. Next queue index: ${Z}. Queue length: ${ee.length}`),Z!==null&&Z<ee.length?(w.log(`[EntryForm] Moving to next item in queue (index ${Z}), cropper stays open`),Pe(Z)):(w.log("[EntryForm] Queue processing finished. Clearing queue and closing cropper"),Pe(null),de([]),N(!1)),Z!==null&&Z<ee.length||(w.log("[EntryForm] Scheduling focus on content textarea"),setTimeout(()=>{it.current?(it.current.focus(),w.log("[EntryForm] Content textarea focused")):w.warn("[EntryForm] Content textarea ref not available")},50))},[fe,ee.length,oe,L,D.length]),be=f.useCallback(()=>{if(!ye.current){w.warn("[EntryForm] handleCropCancel called but component unmounted");return}if(w.log("[EntryForm] handleCropCancel called:",{hasPendingNewPhotoData:!!oe,photoIndexToCrop:L,currentQueueIndex:fe,processingQueueLength:ee.length}),oe){if(w.log(`[EntryForm] Discarding pending new photo with localId: ${oe.localId}`,{fileName:oe.file.name,fileSize:oe.file.size,fileType:oe.file.type,localPreviewUrl:oe.localPreviewUrl}),typeof URL.revokeObjectURL=="function"){w.log(`[EntryForm] Revoking blob URL on CROP CANCEL for localId ${oe.localId}: ${oe.localPreviewUrl}`);try{URL.revokeObjectURL(oe.localPreviewUrl)}catch{}}Be.current.delete(oe.localId),te(null)}R(null);const Y=fe!==null?fe+1:null;Y!==null&&Y<ee.length?Pe(Y):(Pe(null),de([]),N(!1)),Y!==null&&Y<ee.length||setTimeout(()=>{var Z;return(Z=it.current)==null?void 0:Z.focus()},50)},[fe,ee.length,oe,L]),xe=f.useCallback(Y=>{const Z=D[Y];if(!Z||Fe||Ie){w.warn(`[EntryForm] openCropperForPhoto prevented for index ${Y}.`,{isProcessingQueue:Fe,isBusy:Ie});return}const se=Qr(Z)?Z.localId:Z.photoId,ie=Be.current.get(se);ie?(R(Y),te(null),$(ie),N(!0)):(b({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),w.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${Y}, id ${se}`))},[D,Fe,Ie,b]),_e=f.useCallback(Y=>{Ze(Y),Re(!0)},[]),Oe=f.useCallback(()=>{var he;if(je===null)return;const Y=je,Z=D[Y];if(!Z){w.warn(`[EntryForm] Photo to remove at index ${Y} not found.`),Re(!1),Ze(null);return}const se=Qr(Z)?Z.localId:Z.photoId,ie=Y===0;let ae=[];const Ce=Be.current.get(se);if(typeof URL.revokeObjectURL=="function"&&Ce)try{URL.revokeObjectURL(Ce)}catch(X){w.error("Error revoking original URL on remove:",X)}if(typeof URL.revokeObjectURL=="function"&&Z.localPreviewUrl&&Z.localPreviewUrl.startsWith("blob:")&&Z.localPreviewUrl!==Ce)try{URL.revokeObjectURL(Z.localPreviewUrl)}catch(X){w.error("Error revoking preview URL on remove:",X)}if(Be.current.delete(se),_t.current.delete(se),M(X=>(ae=X.filter((Se,He)=>He!==Y),ae)),ie&&ye.current){const X=ae.length>0?ae[0]:null;let Se=null;if(X)if(Qr(X))Se=((he=X.exifData)==null?void 0:he.exifDate)??null;else{const Ge=_t.current.get(X.photoId);Se=(Ge==null?void 0:Ge.exifDate)??null}w.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${Se}`),O(Se);const He=S.toISOString().split("T")[0];let Ne=!1,Je="";if(Se){const[Ge,ze,$e]=Se.split("-").map(Number);!isNaN(Ge)&&!isNaN(ze)&&!isNaN($e)&&(Je=new Date(Date.UTC(Ge,ze-1,$e)).toISOString().split("T")[0],Ne=He!==Je)}w.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${He} vs New EXIF as UTC: ${Je||"N/A"}. Show warning: ${Ne}`),F(Ne)}Re(!1),Ze(null)},[je,D,S]),We=f.useCallback(()=>{if(H){w.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${H}.`);const[Y,Z,se]=H.split("-").map(Number);C(new Date(Date.UTC(Y,Z-1,se))),w.log("[EntryForm] handleUseExifDate setting warning to false."),F(!1)}},[H]),bt=f.useCallback(Y=>{try{const Z=new Date(Y.target.value+"T00:00:00Z");if(isNaN(Z.getTime()))w.warn("[EntryForm] Invalid date input received:",Y.target.value);else{C(Z);const se=Z.toISOString().split("T")[0];let ie=!1,ae="";if(H){const[Ce,he,X]=H.split("-").map(Number);!isNaN(Ce)&&!isNaN(he)&&!isNaN(X)&&(ae=new Date(Date.UTC(Ce,he-1,X)).toISOString().split("T")[0],ie=se!==ae)}w.log(`[handleDateChange - DATE CHECK 1] Date changed to ${Y.target.value}. Comparing New Form UTC: ${se} vs Initial EXIF as UTC: ${ae||"N/A"}. Show warning: ${ie}`),F(ie)}}catch(Z){w.error("[EntryForm] Error processing date change:",Z)}},[H]),Dt=f.useCallback(async()=>{if(w.log("[EntryForm] handleSave called.",{isBusy:Ie,canSave:_}),Ie||!_){w.warn("[EntryForm] Save prevented:",{isBusy:Ie,canSave:_});return}const Z=await n({date:S,content:k,photos:D},m);Z&&ye.current?ke(!1):Z||w.warn("[EntryForm] Save failed (returned false).")},[Ie,_,S,k,D,n,m]),Rt=f.useCallback(()=>{z?be():ve?vt(!0):h("/")},[z,ve,h,be]),Pt=f.useCallback(()=>{vt(!1),ke(!1),h("/")},[h]),Ot=f.useCallback(Y=>{Y.key==="Enter"&&(Y.metaKey||Y.ctrlKey)&&(Y.preventDefault(),_&&!Ie&&Dt())},[_,Ie,Dt]);if(u&&!d)return w.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(G)return w.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})," "]});w.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:z,isEditMode:Ee,photoCount:D.length,queueLength:ee.length,currentQueueIndex:fe,isLoadingData:G,isBusy:Ie,formDateUTC:S.toISOString().split("T")[0],initialExifDate:H,showExifDateMismatchWarning:j,isDateSetByUserIntent:E});const hn=()=>{var Y;if(z&&I){const Z=oe??(L!==null?D[L]:null),se=Z&&"crop"in Z?Z.crop:void 0;let ie;if(oe&&oe.originalDimensions)ie=oe.originalDimensions;else if(L!==null&&qk(D[L])){const ae=_t.current.get(D[L].photoId);ae!=null&&ae.width&&(ae!=null&&ae.height)&&(ie={width:ae.width,height:ae.height})}else L!==null&&Qr(D[L])&&(ie=D[L].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(U4,{imageUrl:I,onCropComplete:pe,onCancel:be,initialCropData:se,initialImageDimensions:ie})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(p4,{photos:D,setPhotos:M,isBusy:Ie,isLoadingInitial:!1,initialPhotoCount:((Y=m==null?void 0:m.photos)==null?void 0:Y.length)??0,onOpenCropper:xe,onRemovePhoto:_e,onFilesSelect:ue,originalBlobUrlsRef:Be,existingPhotoMetaRef:_t,processingQueueLength:ee.length,currentQueueIndex:fe,isProcessingQueueItem:Fe}),D.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(m4,{date:S,onDateChange:bt,showExifWarning:j,initialExifDate:H,onUseExifDate:We,isBusy:Ie}),p.jsx(g4,{content:k,setContent:A,isBusy:Ie,onKeyDown:Ot,textAreaRef:it})]})]})},Tt=()=>z?`Adjust Photo${ee.length>0&&fe!==null?` (${fe+1}/${ee.length})`:""}`:Ee?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Ye,{variant:"ghost",size:"icon",onClick:Rt,disabled:Ie&&!z,"aria-label":z?"Cancel Crop":"Go Back",children:[" ",p.jsx(Gb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:Tt()}),p.jsxs(Ye,{variant:"ghost",size:"icon",onClick:Rt,disabled:Ie&&!z,"aria-label":"Close",children:[" ",p.jsx(Ru,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[hn(),!z&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(y4,{isBusy:Ie,isSaving:a,isEditMode:Ee,canSave:_,onCancel:Rt,onSave:Dt})})]})]}),p.jsx(M0,{open:Te,onOpenChange:Re,onConfirm:Oe,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(M0,{open:lt,onOpenChange:vt,onConfirm:Pt,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function z4(){return w.log("[App] Using hook:",Ih),p.jsx(LM,{client:OM,children:p.jsx(bj,{children:p.jsxs(zC,{children:[p.jsx(db,{hook:Ih,children:p.jsxs(dM,{children:[p.jsx(El,{path:"/",component:S4}),p.jsx(El,{path:"/entry/new",children:p.jsx(I0,{})}),p.jsx(El,{path:"/entry/edit/:id",children:e=>p.jsx(I0,{entryId:e.id})}),p.jsx(El,{children:()=>p.jsx(vL,{})})]})}),p.jsx($_,{})]})})})}eb(document.getElementById("root")).render(p.jsx(Hj,{attribute:"class",children:p.jsx(z4,{})}))});export default q4();
