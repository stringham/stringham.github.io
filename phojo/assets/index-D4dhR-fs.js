var ey=e=>{throw TypeError(e)};var cA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var od=(e,t,n)=>t.has(e)||ey("Cannot "+n);var V=(e,t,n)=>(od(e,t,"read from private field"),n?n.call(e):t.get(e)),Ve=(e,t,n)=>t.has(e)?ey("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Pe=(e,t,n,r)=>(od(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Lt=(e,t,n)=>(od(e,t,"access private method"),n);var sl=(e,t,n,r)=>({set _(o){Pe(e,t,o,n)},get _(){return V(e,t,r)}});var Wz=cA((i3,lA)=>{function uA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B0={exports:{}},ou={},z0={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),dA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),hA=Symbol.for("react.strict_mode"),pA=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),gA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),wA=Symbol.for("react.memo"),xA=Symbol.for("react.lazy"),ty=Symbol.iterator;function SA(e){return e===null||typeof e!="object"?null:(e=ty&&e[ty]||e["@@iterator"],typeof e=="function"?e:null)}var q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,H0={};function fi(e,t,n){this.props=e,this.context=t,this.refs=H0,this.updater=n||q0}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G0(){}G0.prototype=fi.prototype;function sp(e,t,n){this.props=e,this.context=t,this.refs=H0,this.updater=n||q0}var ip=sp.prototype=new G0;ip.constructor=sp;W0(ip,fi.prototype);ip.isPureReactComponent=!0;var ny=Array.isArray,K0=Object.prototype.hasOwnProperty,ap={current:null},Y0={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)K0.call(t,r)&&!Y0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Va,type:e,key:s,ref:i,props:o,_owner:ap.current}}function bA(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function CA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ry=/\/+/g;function sd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CA(""+e.key):t.toString(36)}function Bl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Va:case dA:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+sd(i,0):r,ny(o)?(n="",e!=null&&(n=e.replace(ry,"$&/")+"/"),Bl(o,t,n,"",function(c){return c})):o!=null&&(lp(o)&&(o=bA(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ry,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",ny(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+sd(s,a);i+=Bl(s,t,n,l,o)}else if(l=SA(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+sd(s,a++),i+=Bl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function il(e,t,n){if(e==null)return e;var r=[],o=0;return Bl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function EA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zt={current:null},zl={transition:null},PA={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:zl,ReactCurrentOwner:ap};function Q0(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:il,forEach:function(e,t,n){il(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return il(e,function(){t++}),t},toArray:function(e){return il(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=fi;De.Fragment=fA;De.Profiler=pA;De.PureComponent=sp;De.StrictMode=hA;De.Suspense=vA;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PA;De.act=Q0;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=W0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ap.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)K0.call(t,l)&&!Y0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Va,type:e.type,key:o,ref:s,props:r,_owner:i}};De.createContext=function(e){return e={$$typeof:gA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mA,_context:e},e.Consumer=e};De.createElement=X0;De.createFactory=function(e){var t=X0.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:yA,render:e}};De.isValidElement=lp;De.lazy=function(e){return{$$typeof:xA,_payload:{_status:-1,_result:e},_init:EA}};De.memo=function(e,t){return{$$typeof:wA,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=zl.transition;zl.transition={};try{e()}finally{zl.transition=t}};De.unstable_act=Q0;De.useCallback=function(e,t){return Zt.current.useCallback(e,t)};De.useContext=function(e){return Zt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Zt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Zt.current.useEffect(e,t)};De.useId=function(){return Zt.current.useId()};De.useImperativeHandle=function(e,t,n){return Zt.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return Zt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Zt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Zt.current.useMemo(e,t)};De.useReducer=function(e,t,n){return Zt.current.useReducer(e,t,n)};De.useRef=function(e){return Zt.current.useRef(e)};De.useState=function(e){return Zt.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return Zt.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return Zt.current.useTransition()};De.version="18.3.1";z0.exports=De;var f=z0.exports;const wt=op(f),Z0=uA({__proto__:null,default:wt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA=f,kA=Symbol.for("react.element"),AA=Symbol.for("react.fragment"),DA=Object.prototype.hasOwnProperty,RA=TA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MA={key:!0,ref:!0,__self:!0,__source:!0};function J0(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)DA.call(t,r)&&!MA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:kA,type:e,key:s,ref:i,props:o,_owner:RA.current}}ou.Fragment=AA;ou.jsx=J0;ou.jsxs=J0;B0.exports=ou;var p=B0.exports,ex={exports:{}},vn={},tx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,_){var $=R.length;R.push(_);e:for(;0<$;){var H=$-1>>>1,Y=R[H];if(0<o(Y,_))R[H]=_,R[$]=Y,$=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var _=R[0],$=R.pop();if($!==_){R[0]=$;e:for(var H=0,Y=R.length,se=Y>>>1;H<se;){var ae=2*(H+1)-1,we=R[ae],Te=ae+1,Se=R[Te];if(0>o(we,$))Te<Y&&0>o(Se,we)?(R[H]=Se,R[Te]=$,H=Te):(R[H]=we,R[ae]=$,H=ae);else if(Te<Y&&0>o(Se,$))R[H]=Se,R[Te]=$,H=Te;else break e}}return _}function o(R,_){var $=R.sortIndex-_.sortIndex;return $!==0?$:R.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,y=!1,g=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=R)r(c),_.sortIndex=_.expirationTime,t(l,_);else break;_=n(c)}}function C(R){if(w=!1,x(R),!g)if(n(l)!==null)g=!0,N(E);else{var _=n(c);_!==null&&j(C,_.startTime-R)}}function E(R,_){g=!1,w&&(w=!1,m(A),A=-1),y=!0;var $=h;try{for(x(_),u=n(l);u!==null&&(!(u.expirationTime>_)||R&&!L());){var H=u.callback;if(typeof H=="function"){u.callback=null,h=u.priorityLevel;var Y=H(u.expirationTime<=_);_=e.unstable_now(),typeof Y=="function"?u.callback=Y:u===n(l)&&r(l),x(_)}else r(l);u=n(l)}if(u!==null)var se=!0;else{var ae=n(c);ae!==null&&j(C,ae.startTime-_),se=!1}return se}finally{u=null,h=$,y=!1}}var P=!1,k=null,A=-1,D=5,M=-1;function L(){return!(e.unstable_now()-M<D)}function O(){if(k!==null){var R=e.unstable_now();M=R;var _=!0;try{_=k(!0,R)}finally{_?G():(P=!1,k=null)}}else P=!1}var G;if(typeof v=="function")G=function(){v(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=O,G=function(){W.postMessage(null)}}else G=function(){S(O,0)};function N(R){k=R,P||(P=!0,G())}function j(R,_){A=S(function(){R(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,N(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var $=h;h=_;try{return R()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,_){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=h;h=R;try{return _()}finally{h=$}},e.unstable_scheduleCallback=function(R,_,$){var H=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,R={id:d++,callback:_,priorityLevel:R,startTime:$,expirationTime:Y,sortIndex:-1},$>H?(R.sortIndex=$,t(c,R),n(l)===null&&R===n(c)&&(w?(m(A),A=-1):w=!0,j(C,$-H))):(R.sortIndex=Y,t(l,R),g||y||(g=!0,N(E))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var _=h;return function(){var $=h;h=_;try{return R.apply(this,arguments)}finally{h=$}}}})(nx);tx.exports=nx;var _A=tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=f,gn=_A;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,sa={};function ns(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for(sa[e]=t,e=0;e<t.length;e++)rx.add(t[e])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=Object.prototype.hasOwnProperty,NA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oy={},sy={};function jA(e){return Sf.call(sy,e)?!0:Sf.call(oy,e)?!1:NA.test(e)?sy[e]=!0:(oy[e]=!0,!1)}function LA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OA(e,t,n,r){if(t===null||typeof t>"u"||LA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function up(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cp,up);jt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cp,up);jt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cp,up);jt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});jt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dp(e,t,n,r){var o=jt.hasOwnProperty(t)?jt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OA(t,n,o,r)&&(n=null),r||o===null?jA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lr=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,al=Symbol.for("react.element"),fs=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),sx=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),iy=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,id;function Li(e){if(id===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);id=t&&t[1]||""}return`
`+id+e}var ad=!1;function ld(e,t){if(!e||ad)return"";ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ad=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Li(e):""}function FA(e){switch(e.tag){case 5:return Li(e.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return e=ld(e.type,!1),e;case 11:return e=ld(e.type.render,!1),e;case 1:return e=ld(e.type,!0),e;default:return""}}function Pf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hs:return"Fragment";case fs:return"Portal";case bf:return"Profiler";case fp:return"StrictMode";case Cf:return"Suspense";case Ef:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sx:return(e.displayName||"Context")+".Consumer";case ox:return(e._context.displayName||"Context")+".Provider";case hp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pp:return t=e.displayName||null,t!==null?t:Pf(e.type)||"Memo";case Wr:t=e._payload,e=e._init;try{return Pf(e(t))}catch{}}return null}function $A(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pf(t);case 8:return t===fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VA(e){var t=ax(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ll(e){e._valueTracker||(e._valueTracker=VA(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ax(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tf(e,t){var n=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ay(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=go(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cx(e,t){t=t.checked,t!=null&&dp(e,"checked",t,!1)}function kf(e,t){cx(e,t);var n=go(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,n):t.hasOwnProperty("defaultValue")&&Af(e,t.type,go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ly(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Af(e,t,n){(t!=="number"||uc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oi=Array.isArray;function Rs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+go(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Df(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Oi(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:go(n)}}function ux(e,t){var n=go(t.value),r=go(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cl,fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cl=cl||document.createElement("div"),cl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UA=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(e){UA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qi[t]=qi[e]})});function hx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qi.hasOwnProperty(e)&&qi[e]?(""+t).trim():t+"px"}function px(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=hx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var BA=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mf(e,t){if(t){if(BA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function _f(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nf=null,Ms=null,_s=null;function dy(e){if(e=za(e)){if(typeof Nf!="function")throw Error(q(280));var t=e.stateNode;t&&(t=cu(t),Nf(e.stateNode,e.type,t))}}function mx(e){Ms?_s?_s.push(e):_s=[e]:Ms=e}function gx(){if(Ms){var e=Ms,t=_s;if(_s=Ms=null,dy(e),t)for(e=0;e<t.length;e++)dy(t[e])}}function yx(e,t){return e(t)}function vx(){}var cd=!1;function wx(e,t,n){if(cd)return e(t,n);cd=!0;try{return yx(e,t,n)}finally{cd=!1,(Ms!==null||_s!==null)&&(vx(),gx())}}function aa(e,t){var n=e.stateNode;if(n===null)return null;var r=cu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var jf=!1;if(Ar)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){jf=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{jf=!1}function zA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Wi=!1,dc=null,fc=!1,Lf=null,qA={onError:function(e){Wi=!0,dc=e}};function WA(e,t,n,r,o,s,i,a,l){Wi=!1,dc=null,zA.apply(qA,arguments)}function HA(e,t,n,r,o,s,i,a,l){if(WA.apply(this,arguments),Wi){if(Wi){var c=dc;Wi=!1,dc=null}else throw Error(q(198));fc||(fc=!0,Lf=c)}}function rs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fy(e){if(rs(e)!==e)throw Error(q(188))}function GA(e){var t=e.alternate;if(!t){if(t=rs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return fy(o),e;if(s===r)return fy(o),t;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Sx(e){return e=GA(e),e!==null?bx(e):null}function bx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bx(e);if(t!==null)return t;e=e.sibling}return null}var Cx=gn.unstable_scheduleCallback,hy=gn.unstable_cancelCallback,KA=gn.unstable_shouldYield,YA=gn.unstable_requestPaint,vt=gn.unstable_now,XA=gn.unstable_getCurrentPriorityLevel,gp=gn.unstable_ImmediatePriority,Ex=gn.unstable_UserBlockingPriority,hc=gn.unstable_NormalPriority,QA=gn.unstable_LowPriority,Px=gn.unstable_IdlePriority,su=null,ar=null;function ZA(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(su,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:tD,JA=Math.log,eD=Math.LN2;function tD(e){return e>>>=0,e===0?32:31-(JA(e)/eD|0)|0}var ul=64,dl=4194304;function Fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Fi(a):(s&=i,s!==0&&(r=Fi(s)))}else i=n&~o,i!==0?r=Fi(i):s!==0&&(r=Fi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bn(t),o=1<<n,r|=e[n],t&=~o;return r}function nD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Bn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=nD(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Of(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tx(){var e=ul;return ul<<=1,!(ul&4194240)&&(ul=64),e}function ud(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ua(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bn(t),e[t]=n}function oD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Bn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function yp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var qe=0;function kx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ax,vp,Dx,Rx,Mx,Ff=!1,fl=[],oo=null,so=null,io=null,la=new Map,ca=new Map,Kr=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(e,t){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":la.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function Pi(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=za(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function iD(e,t,n,r,o){switch(t){case"focusin":return oo=Pi(oo,e,t,n,r,o),!0;case"dragenter":return so=Pi(so,e,t,n,r,o),!0;case"mouseover":return io=Pi(io,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return la.set(s,Pi(la.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ca.set(s,Pi(ca.get(s)||null,e,t,n,r,o)),!0}return!1}function _x(e){var t=No(e.target);if(t!==null){var n=rs(t);if(n!==null){if(t=n.tag,t===13){if(t=xx(n),t!==null){e.blockedOn=t,Mx(e.priority,function(){Dx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$f(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);If=r,n.target.dispatchEvent(r),If=null}else return t=za(n),t!==null&&vp(t),e.blockedOn=n,!1;t.shift()}return!0}function my(e,t,n){ql(e)&&n.delete(t)}function aD(){Ff=!1,oo!==null&&ql(oo)&&(oo=null),so!==null&&ql(so)&&(so=null),io!==null&&ql(io)&&(io=null),la.forEach(my),ca.forEach(my)}function Ti(e,t){e.blockedOn===t&&(e.blockedOn=null,Ff||(Ff=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,aD)))}function ua(e){function t(o){return Ti(o,e)}if(0<fl.length){Ti(fl[0],e);for(var n=1;n<fl.length;n++){var r=fl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oo!==null&&Ti(oo,e),so!==null&&Ti(so,e),io!==null&&Ti(io,e),la.forEach(t),ca.forEach(t),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&Kr.shift()}var Is=Lr.ReactCurrentBatchConfig,mc=!0;function lD(e,t,n,r){var o=qe,s=Is.transition;Is.transition=null;try{qe=1,wp(e,t,n,r)}finally{qe=o,Is.transition=s}}function cD(e,t,n,r){var o=qe,s=Is.transition;Is.transition=null;try{qe=4,wp(e,t,n,r)}finally{qe=o,Is.transition=s}}function wp(e,t,n,r){if(mc){var o=$f(e,t,n,r);if(o===null)xd(e,t,r,gc,n),py(e,r);else if(iD(o,e,t,n,r))r.stopPropagation();else if(py(e,r),t&4&&-1<sD.indexOf(e)){for(;o!==null;){var s=za(o);if(s!==null&&Ax(s),s=$f(e,t,n,r),s===null&&xd(e,t,r,gc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else xd(e,t,r,null,n)}}var gc=null;function $f(e,t,n,r){if(gc=null,e=mp(r),e=No(e),e!==null)if(t=rs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gc=e,null}function Ix(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XA()){case gp:return 1;case Ex:return 4;case hc:case QA:return 16;case Px:return 536870912;default:return 16}default:return 16}}var to=null,xp=null,Wl=null;function Nx(){if(Wl)return Wl;var e,t=xp,n=t.length,r,o="value"in to?to.value:to.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Wl=o.slice(e,1<r?1-r:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hl(){return!0}function gy(){return!1}function wn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hl:gy,this.isPropagationStopped=gy,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=wn(hi),Ba=ut({},hi,{view:0,detail:0}),uD=wn(Ba),dd,fd,ki,iu=ut({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(dd=e.screenX-ki.screenX,fd=e.screenY-ki.screenY):fd=dd=0,ki=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:fd}}),yy=wn(iu),dD=ut({},iu,{dataTransfer:0}),fD=wn(dD),hD=ut({},Ba,{relatedTarget:0}),hd=wn(hD),pD=ut({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),mD=wn(pD),gD=ut({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yD=wn(gD),vD=ut({},hi,{data:0}),vy=wn(vD),wD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SD[e])?!!t[e]:!1}function bp(){return bD}var CD=ut({},Ba,{key:function(e){if(e.key){var t=wD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ED=wn(CD),PD=ut({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=wn(PD),TD=ut({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),kD=wn(TD),AD=ut({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),DD=wn(AD),RD=ut({},iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MD=wn(RD),_D=[9,13,27,32],Cp=Ar&&"CompositionEvent"in window,Hi=null;Ar&&"documentMode"in document&&(Hi=document.documentMode);var ID=Ar&&"TextEvent"in window&&!Hi,jx=Ar&&(!Cp||Hi&&8<Hi&&11>=Hi),xy=" ",Sy=!1;function Lx(e,t){switch(e){case"keyup":return _D.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ps=!1;function ND(e,t){switch(e){case"compositionend":return Ox(t);case"keypress":return t.which!==32?null:(Sy=!0,xy);case"textInput":return e=t.data,e===xy&&Sy?null:e;default:return null}}function jD(e,t){if(ps)return e==="compositionend"||!Cp&&Lx(e,t)?(e=Nx(),Wl=xp=to=null,ps=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jx&&t.locale!=="ko"?null:t.data;default:return null}}var LD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LD[e.type]:t==="textarea"}function Fx(e,t,n,r){mx(r),t=yc(t,"onChange"),0<t.length&&(n=new Sp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gi=null,da=null;function OD(e){Yx(e,0)}function au(e){var t=ys(e);if(lx(t))return e}function FD(e,t){if(e==="change")return t}var $x=!1;if(Ar){var pd;if(Ar){var md="oninput"in document;if(!md){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),md=typeof Cy.oninput=="function"}pd=md}else pd=!1;$x=pd&&(!document.documentMode||9<document.documentMode)}function Ey(){Gi&&(Gi.detachEvent("onpropertychange",Vx),da=Gi=null)}function Vx(e){if(e.propertyName==="value"&&au(da)){var t=[];Fx(t,da,e,mp(e)),wx(OD,t)}}function $D(e,t,n){e==="focusin"?(Ey(),Gi=t,da=n,Gi.attachEvent("onpropertychange",Vx)):e==="focusout"&&Ey()}function VD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(da)}function UD(e,t){if(e==="click")return au(t)}function BD(e,t){if(e==="input"||e==="change")return au(t)}function zD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wn=typeof Object.is=="function"?Object.is:zD;function fa(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Sf.call(t,o)||!Wn(e[o],t[o]))return!1}return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ty(e,t){var n=Py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function Ux(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ux(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bx(){for(var e=window,t=uc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uc(e.document)}return t}function Ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qD(e){var t=Bx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ux(n.ownerDocument.documentElement,n)){if(r!==null&&Ep(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ty(n,s);var i=Ty(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WD=Ar&&"documentMode"in document&&11>=document.documentMode,ms=null,Vf=null,Ki=null,Uf=!1;function ky(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||ms==null||ms!==uc(r)||(r=ms,"selectionStart"in r&&Ep(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ki&&fa(Ki,r)||(Ki=r,r=yc(Vf,"onSelect"),0<r.length&&(t=new Sp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ms)))}function pl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gs={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},gd={},zx={};Ar&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function lu(e){if(gd[e])return gd[e];if(!gs[e])return e;var t=gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zx)return gd[e]=t[n];return e}var qx=lu("animationend"),Wx=lu("animationiteration"),Hx=lu("animationstart"),Gx=lu("transitionend"),Kx=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(e,t){Kx.set(e,t),ns(t,[e])}for(var yd=0;yd<Ay.length;yd++){var vd=Ay[yd],HD=vd.toLowerCase(),GD=vd[0].toUpperCase()+vd.slice(1);Co(HD,"on"+GD)}Co(qx,"onAnimationEnd");Co(Wx,"onAnimationIteration");Co(Hx,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(Gx,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Dy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HA(r,t,void 0,e),e.currentTarget=null}function Yx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Dy(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Dy(o,a,c),s=l}}}if(fc)throw e=Lf,fc=!1,Lf=null,e}function et(e,t){var n=t[Hf];n===void 0&&(n=t[Hf]=new Set);var r=e+"__bubble";n.has(r)||(Xx(t,e,2,!1),n.add(r))}function wd(e,t,n){var r=0;t&&(r|=4),Xx(n,e,r,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function ha(e){if(!e[ml]){e[ml]=!0,rx.forEach(function(n){n!=="selectionchange"&&(KD.has(n)||wd(n,!1,e),wd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,wd("selectionchange",!1,t))}}function Xx(e,t,n,r){switch(Ix(t)){case 1:var o=lD;break;case 4:o=cD;break;default:o=wp}n=o.bind(null,t,n,e),o=void 0,!jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function xd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=No(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}wx(function(){var c=s,d=mp(n),u=[];e:{var h=Kx.get(e);if(h!==void 0){var y=Sp,g=e;switch(e){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":y=ED;break;case"focusin":g="focus",y=hd;break;case"focusout":g="blur",y=hd;break;case"beforeblur":case"afterblur":y=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kD;break;case qx:case Wx:case Hx:y=mD;break;case Gx:y=DD;break;case"scroll":y=uD;break;case"wheel":y=MD;break;case"copy":case"cut":case"paste":y=yD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=wy}var w=(t&4)!==0,S=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var v=c,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,m!==null&&(C=aa(v,m),C!=null&&w.push(pa(v,C,x)))),S)break;v=v.return}0<w.length&&(h=new y(h,g,null,n,d),u.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==If&&(g=n.relatedTarget||n.fromElement)&&(No(g)||g[Dr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=c,g=g?No(g):null,g!==null&&(S=rs(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(w=yy,C="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=wy,C="onPointerLeave",m="onPointerEnter",v="pointer"),S=y==null?h:ys(y),x=g==null?h:ys(g),h=new w(C,v+"leave",y,n,d),h.target=S,h.relatedTarget=x,C=null,No(d)===c&&(w=new w(m,v+"enter",g,n,d),w.target=x,w.relatedTarget=S,C=w),S=C,y&&g)t:{for(w=y,m=g,v=0,x=w;x;x=ls(x))v++;for(x=0,C=m;C;C=ls(C))x++;for(;0<v-x;)w=ls(w),v--;for(;0<x-v;)m=ls(m),x--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=ls(w),m=ls(m)}w=null}else w=null;y!==null&&Ry(u,h,y,w,!1),g!==null&&S!==null&&Ry(u,S,g,w,!0)}}e:{if(h=c?ys(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var E=FD;else if(by(h))if($x)E=BD;else{E=VD;var P=$D}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=UD);if(E&&(E=E(e,c))){Fx(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Af(h,"number",h.value)}switch(P=c?ys(c):window,e){case"focusin":(by(P)||P.contentEditable==="true")&&(ms=P,Vf=c,Ki=null);break;case"focusout":Ki=Vf=ms=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,ky(u,n,d);break;case"selectionchange":if(WD)break;case"keydown":case"keyup":ky(u,n,d)}var k;if(Cp)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ps?Lx(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(jx&&n.locale!=="ko"&&(ps||A!=="onCompositionStart"?A==="onCompositionEnd"&&ps&&(k=Nx()):(to=d,xp="value"in to?to.value:to.textContent,ps=!0)),P=yc(c,A),0<P.length&&(A=new vy(A,e,null,n,d),u.push({event:A,listeners:P}),k?A.data=k:(k=Ox(n),k!==null&&(A.data=k)))),(k=ID?ND(e,n):jD(e,n))&&(c=yc(c,"onBeforeInput"),0<c.length&&(d=new vy("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=k))}Yx(u,t)})}function pa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=aa(e,n),s!=null&&r.unshift(pa(e,s,o)),s=aa(e,t),s!=null&&r.push(pa(e,s,o))),e=e.return}return r}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ry(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=aa(n,s),l!=null&&i.unshift(pa(n,l,a))):o||(l=aa(n,s),l!=null&&i.push(pa(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var YD=/\r\n?/g,XD=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(YD,`
`).replace(XD,"")}function gl(e,t,n){if(t=My(t),My(e)!==t&&n)throw Error(q(425))}function vc(){}var Bf=null,zf=null;function qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,ZD=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(JD)}:Wf;function JD(e){setTimeout(function(){throw e})}function Sd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ua(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ua(t)}function ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),or="__reactFiber$"+pi,ma="__reactProps$"+pi,Dr="__reactContainer$"+pi,Hf="__reactEvents$"+pi,eR="__reactListeners$"+pi,tR="__reactHandles$"+pi;function No(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dr]||n[or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iy(e);e!==null;){if(n=e[or])return n;e=Iy(e)}return t}e=n,n=e.parentNode}return null}function za(e){return e=e[or]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function cu(e){return e[ma]||null}var Gf=[],vs=-1;function Eo(e){return{current:e}}function tt(e){0>vs||(e.current=Gf[vs],Gf[vs]=null,vs--)}function Xe(e,t){vs++,Gf[vs]=e.current,e.current=t}var yo={},Wt=Eo(yo),on=Eo(!1),Go=yo;function Zs(e,t){var n=e.type.contextTypes;if(!n)return yo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function sn(e){return e=e.childContextTypes,e!=null}function wc(){tt(on),tt(Wt)}function Ny(e,t,n){if(Wt.current!==yo)throw Error(q(168));Xe(Wt,t),Xe(on,n)}function Qx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(q(108,$A(e)||"Unknown",o));return ut({},n,r)}function xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yo,Go=Wt.current,Xe(Wt,e),Xe(on,on.current),!0}function jy(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Qx(e,t,Go),r.__reactInternalMemoizedMergedChildContext=e,tt(on),tt(Wt),Xe(Wt,e)):tt(on),Xe(on,n)}var Sr=null,uu=!1,bd=!1;function Zx(e){Sr===null?Sr=[e]:Sr.push(e)}function nR(e){uu=!0,Zx(e)}function Po(){if(!bd&&Sr!==null){bd=!0;var e=0,t=qe;try{var n=Sr;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sr=null,uu=!1}catch(o){throw Sr!==null&&(Sr=Sr.slice(e+1)),Cx(gp,Po),o}finally{qe=t,bd=!1}}return null}var ws=[],xs=0,Sc=null,bc=0,Pn=[],Tn=0,Ko=null,br=1,Cr="";function Ro(e,t){ws[xs++]=bc,ws[xs++]=Sc,Sc=e,bc=t}function Jx(e,t,n){Pn[Tn++]=br,Pn[Tn++]=Cr,Pn[Tn++]=Ko,Ko=e;var r=br;e=Cr;var o=32-Bn(r)-1;r&=~(1<<o),n+=1;var s=32-Bn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,br=1<<32-Bn(t)+o|n<<o|r,Cr=s+e}else br=1<<s|n<<o|r,Cr=e}function Pp(e){e.return!==null&&(Ro(e,1),Jx(e,1,0))}function Tp(e){for(;e===Sc;)Sc=ws[--xs],ws[xs]=null,bc=ws[--xs],ws[xs]=null;for(;e===Ko;)Ko=Pn[--Tn],Pn[Tn]=null,Cr=Pn[--Tn],Pn[Tn]=null,br=Pn[--Tn],Pn[Tn]=null}var pn=null,hn=null,nt=!1,Un=null;function eS(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ly(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,hn=ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ko!==null?{id:br,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pn=e,hn=null,!0):!1;default:return!1}}function Kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yf(e){if(nt){var t=hn;if(t){var n=t;if(!Ly(e,t)){if(Kf(e))throw Error(q(418));t=ao(n.nextSibling);var r=pn;t&&Ly(e,t)?eS(r,n):(e.flags=e.flags&-4097|2,nt=!1,pn=e)}}else{if(Kf(e))throw Error(q(418));e.flags=e.flags&-4097|2,nt=!1,pn=e}}}function Oy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function yl(e){if(e!==pn)return!1;if(!nt)return Oy(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qf(e.type,e.memoizedProps)),t&&(t=hn)){if(Kf(e))throw tS(),Error(q(418));for(;t;)eS(e,t),t=ao(t.nextSibling)}if(Oy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hn=ao(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hn=null}}else hn=pn?ao(e.stateNode.nextSibling):null;return!0}function tS(){for(var e=hn;e;)e=ao(e.nextSibling)}function Js(){hn=pn=null,nt=!1}function kp(e){Un===null?Un=[e]:Un.push(e)}var rR=Lr.ReactCurrentBatchConfig;function Ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function vl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fy(e){var t=e._init;return t(e._payload)}function nS(e){function t(m,v){if(e){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function o(m,v){return m=fo(m,v),m.index=0,m.sibling=null,m}function s(m,v,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,x,C){return v===null||v.tag!==6?(v=Dd(x,m.mode,C),v.return=m,v):(v=o(v,x),v.return=m,v)}function l(m,v,x,C){var E=x.type;return E===hs?d(m,v,x.props.children,C,x.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wr&&Fy(E)===v.type)?(C=o(v,x.props),C.ref=Ai(m,v,x),C.return=m,C):(C=Jl(x.type,x.key,x.props,null,m.mode,C),C.ref=Ai(m,v,x),C.return=m,C)}function c(m,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Rd(x,m.mode,C),v.return=m,v):(v=o(v,x.children||[]),v.return=m,v)}function d(m,v,x,C,E){return v===null||v.tag!==7?(v=zo(x,m.mode,C,E),v.return=m,v):(v=o(v,x),v.return=m,v)}function u(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dd(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case al:return x=Jl(v.type,v.key,v.props,null,m.mode,x),x.ref=Ai(m,null,v),x.return=m,x;case fs:return v=Rd(v,m.mode,x),v.return=m,v;case Wr:var C=v._init;return u(m,C(v._payload),x)}if(Oi(v)||Ci(v))return v=zo(v,m.mode,x,null),v.return=m,v;vl(m,v)}return null}function h(m,v,x,C){var E=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case al:return x.key===E?l(m,v,x,C):null;case fs:return x.key===E?c(m,v,x,C):null;case Wr:return E=x._init,h(m,v,E(x._payload),C)}if(Oi(x)||Ci(x))return E!==null?null:d(m,v,x,C,null);vl(m,x)}return null}function y(m,v,x,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(x)||null,a(v,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case al:return m=m.get(C.key===null?x:C.key)||null,l(v,m,C,E);case fs:return m=m.get(C.key===null?x:C.key)||null,c(v,m,C,E);case Wr:var P=C._init;return y(m,v,x,P(C._payload),E)}if(Oi(C)||Ci(C))return m=m.get(x)||null,d(v,m,C,E,null);vl(v,C)}return null}function g(m,v,x,C){for(var E=null,P=null,k=v,A=v=0,D=null;k!==null&&A<x.length;A++){k.index>A?(D=k,k=null):D=k.sibling;var M=h(m,k,x[A],C);if(M===null){k===null&&(k=D);break}e&&k&&M.alternate===null&&t(m,k),v=s(M,v,A),P===null?E=M:P.sibling=M,P=M,k=D}if(A===x.length)return n(m,k),nt&&Ro(m,A),E;if(k===null){for(;A<x.length;A++)k=u(m,x[A],C),k!==null&&(v=s(k,v,A),P===null?E=k:P.sibling=k,P=k);return nt&&Ro(m,A),E}for(k=r(m,k);A<x.length;A++)D=y(k,m,A,x[A],C),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?A:D.key),v=s(D,v,A),P===null?E=D:P.sibling=D,P=D);return e&&k.forEach(function(L){return t(m,L)}),nt&&Ro(m,A),E}function w(m,v,x,C){var E=Ci(x);if(typeof E!="function")throw Error(q(150));if(x=E.call(x),x==null)throw Error(q(151));for(var P=E=null,k=v,A=v=0,D=null,M=x.next();k!==null&&!M.done;A++,M=x.next()){k.index>A?(D=k,k=null):D=k.sibling;var L=h(m,k,M.value,C);if(L===null){k===null&&(k=D);break}e&&k&&L.alternate===null&&t(m,k),v=s(L,v,A),P===null?E=L:P.sibling=L,P=L,k=D}if(M.done)return n(m,k),nt&&Ro(m,A),E;if(k===null){for(;!M.done;A++,M=x.next())M=u(m,M.value,C),M!==null&&(v=s(M,v,A),P===null?E=M:P.sibling=M,P=M);return nt&&Ro(m,A),E}for(k=r(m,k);!M.done;A++,M=x.next())M=y(k,m,A,M.value,C),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?A:M.key),v=s(M,v,A),P===null?E=M:P.sibling=M,P=M);return e&&k.forEach(function(O){return t(m,O)}),nt&&Ro(m,A),E}function S(m,v,x,C){if(typeof x=="object"&&x!==null&&x.type===hs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case al:e:{for(var E=x.key,P=v;P!==null;){if(P.key===E){if(E=x.type,E===hs){if(P.tag===7){n(m,P.sibling),v=o(P,x.props.children),v.return=m,m=v;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wr&&Fy(E)===P.type){n(m,P.sibling),v=o(P,x.props),v.ref=Ai(m,P,x),v.return=m,m=v;break e}n(m,P);break}else t(m,P);P=P.sibling}x.type===hs?(v=zo(x.props.children,m.mode,C,x.key),v.return=m,m=v):(C=Jl(x.type,x.key,x.props,null,m.mode,C),C.ref=Ai(m,v,x),C.return=m,m=C)}return i(m);case fs:e:{for(P=x.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(m,v.sibling),v=o(v,x.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Rd(x,m.mode,C),v.return=m,m=v}return i(m);case Wr:return P=x._init,S(m,v,P(x._payload),C)}if(Oi(x))return g(m,v,x,C);if(Ci(x))return w(m,v,x,C);vl(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(m,v.sibling),v=o(v,x),v.return=m,m=v):(n(m,v),v=Dd(x,m.mode,C),v.return=m,m=v),i(m)):n(m,v)}return S}var ei=nS(!0),rS=nS(!1),Cc=Eo(null),Ec=null,Ss=null,Ap=null;function Dp(){Ap=Ss=Ec=null}function Rp(e){var t=Cc.current;tt(Cc),e._currentValue=t}function Xf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ec=e,Ap=Ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rn=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(Ap!==e)if(e={context:e,memoizedValue:t,next:null},Ss===null){if(Ec===null)throw Error(q(308));Ss=e,Ec.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var jo=null;function Mp(e){jo===null?jo=[e]:jo.push(e)}function oS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Mp(t)):(n.next=o.next,o.next=n),t.interleaved=n,Rr(e,r)}function Rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hr=!1;function _p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Rr(e,n)}return o=r.interleaved,o===null?(t.next=t,Mp(r)):(t.next=o.next,o.next=t),r.interleaved=t,Rr(e,n)}function Gl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}function $y(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pc(e,t,n,r){var o=e.updateQueue;Hr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,w=a;switch(h=t,y=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){u=g.call(y,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(y,u,h):g,h==null)break e;u=ut({},u,h);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=u):d=d.next=y,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Xo|=i,e.lanes=i,e.memoizedState=u}}function Vy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(q(191,o));o.call(r)}}}var qa={},lr=Eo(qa),ga=Eo(qa),ya=Eo(qa);function Lo(e){if(e===qa)throw Error(q(174));return e}function Ip(e,t){switch(Xe(ya,t),Xe(ga,e),Xe(lr,qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rf(t,e)}tt(lr),Xe(lr,t)}function ti(){tt(lr),tt(ga),tt(ya)}function iS(e){Lo(ya.current);var t=Lo(lr.current),n=Rf(t,e.type);t!==n&&(Xe(ga,e),Xe(lr,n))}function Np(e){ga.current===e&&(tt(lr),tt(ga))}var st=Eo(0);function Tc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cd=[];function jp(){for(var e=0;e<Cd.length;e++)Cd[e]._workInProgressVersionPrimary=null;Cd.length=0}var Kl=Lr.ReactCurrentDispatcher,Ed=Lr.ReactCurrentBatchConfig,Yo=0,ct=null,Et=null,kt=null,kc=!1,Yi=!1,va=0,oR=0;function Ot(){throw Error(q(321))}function Lp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function Op(e,t,n,r,o,s){if(Yo=s,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kl.current=e===null||e.memoizedState===null?lR:cR,e=n(r,o),Yi){s=0;do{if(Yi=!1,va=0,25<=s)throw Error(q(301));s+=1,kt=Et=null,t.updateQueue=null,Kl.current=uR,e=n(r,o)}while(Yi)}if(Kl.current=Ac,t=Et!==null&&Et.next!==null,Yo=0,kt=Et=ct=null,kc=!1,t)throw Error(q(300));return e}function Fp(){var e=va!==0;return va=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ct.memoizedState=kt=e:kt=kt.next=e,kt}function Mn(){if(Et===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=kt===null?ct.memoizedState:kt.next;if(t!==null)kt=t,Et=e;else{if(e===null)throw Error(q(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},kt===null?ct.memoizedState=kt=e:kt=kt.next=e}return kt}function wa(e,t){return typeof t=="function"?t(e):t}function Pd(e){var t=Mn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Et,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((Yo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,ct.lanes|=d,Xo|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Wn(r,t.memoizedState)||(rn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ct.lanes|=s,Xo|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Td(e){var t=Mn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Wn(s,t.memoizedState)||(rn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function aS(){}function lS(e,t){var n=ct,r=Mn(),o=t(),s=!Wn(r.memoizedState,o);if(s&&(r.memoizedState=o,rn=!0),r=r.queue,$p(dS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,xa(9,uS.bind(null,n,r,o,t),void 0,null),At===null)throw Error(q(349));Yo&30||cS(n,t,o)}return o}function cS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uS(e,t,n,r){t.value=n,t.getSnapshot=r,fS(t)&&hS(e)}function dS(e,t,n){return n(function(){fS(t)&&hS(e)})}function fS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch{return!0}}function hS(e){var t=Rr(e,1);t!==null&&zn(t,e,1,-1)}function Uy(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=aR.bind(null,ct,e),[t.memoizedState,e]}function xa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pS(){return Mn().memoizedState}function Yl(e,t,n,r){var o=Jn();ct.flags|=e,o.memoizedState=xa(1|t,n,void 0,r===void 0?null:r)}function du(e,t,n,r){var o=Mn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var i=Et.memoizedState;if(s=i.destroy,r!==null&&Lp(r,i.deps)){o.memoizedState=xa(t,n,s,r);return}}ct.flags|=e,o.memoizedState=xa(1|t,n,s,r)}function By(e,t){return Yl(8390656,8,e,t)}function $p(e,t){return du(2048,8,e,t)}function mS(e,t){return du(4,2,e,t)}function gS(e,t){return du(4,4,e,t)}function yS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vS(e,t,n){return n=n!=null?n.concat([e]):null,du(4,4,yS.bind(null,t,e),n)}function Vp(){}function wS(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xS(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function SS(e,t,n){return Yo&21?(Wn(n,t)||(n=Tx(),ct.lanes|=n,Xo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=n)}function sR(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=Ed.transition;Ed.transition={};try{e(!1),t()}finally{qe=n,Ed.transition=r}}function bS(){return Mn().memoizedState}function iR(e,t,n){var r=uo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CS(e))ES(t,n);else if(n=oS(e,t,n,r),n!==null){var o=Qt();zn(n,e,r,o),PS(n,t,r)}}function aR(e,t,n){var r=uo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CS(e))ES(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Wn(a,i)){var l=t.interleaved;l===null?(o.next=o,Mp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=oS(e,t,o,r),n!==null&&(o=Qt(),zn(n,e,r,o),PS(n,t,r))}}function CS(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function ES(e,t){Yi=kc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yp(e,n)}}var Ac={readContext:Rn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},lR={readContext:Rn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:By,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yl(4194308,4,yS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yl(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=iR.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:Uy,useDebugValue:Vp,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=Uy(!1),t=e[0];return e=sR.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ct,o=Jn();if(nt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),At===null)throw Error(q(349));Yo&30||cS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,By(dS.bind(null,r,s,e),[e]),r.flags|=2048,xa(9,uS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Jn(),t=At.identifierPrefix;if(nt){var n=Cr,r=br;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=va++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cR={readContext:Rn,useCallback:wS,useContext:Rn,useEffect:$p,useImperativeHandle:vS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:xS,useReducer:Pd,useRef:pS,useState:function(){return Pd(wa)},useDebugValue:Vp,useDeferredValue:function(e){var t=Mn();return SS(t,Et.memoizedState,e)},useTransition:function(){var e=Pd(wa)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:aS,useSyncExternalStore:lS,useId:bS,unstable_isNewReconciler:!1},uR={readContext:Rn,useCallback:wS,useContext:Rn,useEffect:$p,useImperativeHandle:vS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:xS,useReducer:Td,useRef:pS,useState:function(){return Td(wa)},useDebugValue:Vp,useDeferredValue:function(e){var t=Mn();return Et===null?t.memoizedState=e:SS(t,Et.memoizedState,e)},useTransition:function(){var e=Td(wa)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:aS,useSyncExternalStore:lS,useId:bS,unstable_isNewReconciler:!1};function On(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fu={isMounted:function(e){return(e=e._reactInternals)?rs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qt(),o=uo(e),s=Pr(r,o);s.payload=t,n!=null&&(s.callback=n),t=lo(e,s,o),t!==null&&(zn(t,e,o,r),Gl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qt(),o=uo(e),s=Pr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=lo(e,s,o),t!==null&&(zn(t,e,o,r),Gl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),r=uo(e),o=Pr(n,r);o.tag=2,t!=null&&(o.callback=t),t=lo(e,o,r),t!==null&&(zn(t,e,r,n),Gl(t,e,r))}};function zy(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!fa(n,r)||!fa(o,s):!0}function TS(e,t,n){var r=!1,o=yo,s=t.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(o=sn(t)?Go:Wt.current,r=t.contextTypes,s=(r=r!=null)?Zs(e,o):yo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function qy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function Zf(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},_p(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Rn(s):(s=sn(t)?Go:Wt.current,o.context=Zs(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qf(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fu.enqueueReplaceState(o,o.state,null),Pc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var n="",r=t;do n+=FA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function kd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dR=typeof WeakMap=="function"?WeakMap:Map;function kS(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rc||(Rc=!0,ch=r),Jf(e,t)},n}function AS(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Jf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jf(e,t),typeof r!="function"&&(co===null?co=new Set([this]):co.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Wy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=PR.bind(null,e,t,n),t.then(e,e))}function Hy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gy(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,lo(n,t,1))),n.lanes|=1),e)}var fR=Lr.ReactCurrentOwner,rn=!1;function Yt(e,t,n,r){t.child=e===null?rS(t,null,n,r):ei(t,e.child,n,r)}function Ky(e,t,n,r,o){n=n.render;var s=t.ref;return Ns(t,o),r=Op(e,t,n,r,s,o),n=Fp(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mr(e,t,o)):(nt&&n&&Pp(t),t.flags|=1,Yt(e,t,r,o),t.child)}function Yy(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Kp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,DS(e,t,s,r,o)):(e=Jl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(i,r)&&e.ref===t.ref)return Mr(e,t,o)}return t.flags|=1,e=fo(s,r),e.ref=t.ref,e.return=t,t.child=e}function DS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(fa(s,r)&&e.ref===t.ref)if(rn=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(rn=!0);else return t.lanes=e.lanes,Mr(e,t,o)}return eh(e,t,n,r,o)}function RS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Cs,dn),dn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(Cs,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Xe(Cs,dn),dn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Xe(Cs,dn),dn|=r;return Yt(e,t,o,n),t.child}function MS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,n,r,o){var s=sn(n)?Go:Wt.current;return s=Zs(t,s),Ns(t,o),n=Op(e,t,n,r,s,o),r=Fp(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mr(e,t,o)):(nt&&r&&Pp(t),t.flags|=1,Yt(e,t,n,o),t.child)}function Xy(e,t,n,r,o){if(sn(n)){var s=!0;xc(t)}else s=!1;if(Ns(t,o),t.stateNode===null)Xl(e,t),TS(t,n,r),Zf(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rn(c):(c=sn(n)?Go:Wt.current,c=Zs(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qy(t,i,r,c),Hr=!1;var h=t.memoizedState;i.state=h,Pc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||on.current||Hr?(typeof d=="function"&&(Qf(t,n,d,r),l=t.memoizedState),(a=Hr||zy(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,sS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:On(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=sn(n)?Go:Wt.current,l=Zs(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&qy(t,i,r,l),Hr=!1,h=t.memoizedState,i.state=h,Pc(t,r,i,o);var g=t.memoizedState;a!==u||h!==g||on.current||Hr?(typeof y=="function"&&(Qf(t,n,y,r),g=t.memoizedState),(c=Hr||zy(t,n,c,r,h,g,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return th(e,t,n,r,s,o)}function th(e,t,n,r,o,s){MS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&jy(t,n,!1),Mr(e,t,s);r=t.stateNode,fR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ei(t,e.child,null,s),t.child=ei(t,null,a,s)):Yt(e,t,a,s),t.memoizedState=r.state,o&&jy(t,n,!0),t.child}function _S(e){var t=e.stateNode;t.pendingContext?Ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ny(e,t.context,!1),Ip(e,t.containerInfo)}function Qy(e,t,n,r,o){return Js(),kp(o),t.flags|=256,Yt(e,t,n,r),t.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function IS(e,t,n){var r=t.pendingProps,o=st.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Xe(st,o&1),e===null)return Yf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=mu(i,r,0,null),e=zo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=rh(n),t.memoizedState=nh,e):Up(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return hR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=fo(a,s):(s=zo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?rh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=nh,r}return s=e.child,e=s.sibling,r=fo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Up(e,t){return t=mu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wl(e,t,n,r){return r!==null&&kp(r),ei(t,e.child,null,n),e=Up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=kd(Error(q(422))),wl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=mu({mode:"visible",children:r.children},o,0,null),s=zo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ei(t,e.child,null,i),t.child.memoizedState=rh(i),t.memoizedState=nh,s);if(!(t.mode&1))return wl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=kd(s,r,void 0),wl(e,t,i,r)}if(a=(i&e.childLanes)!==0,rn||a){if(r=At,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Rr(e,o),zn(r,e,o,-1))}return Gp(),r=kd(Error(q(421))),wl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=TR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,hn=ao(o.nextSibling),pn=t,nt=!0,Un=null,e!==null&&(Pn[Tn++]=br,Pn[Tn++]=Cr,Pn[Tn++]=Ko,br=e.id,Cr=e.overflow,Ko=t),t=Up(t,r.children),t.flags|=4096,t)}function Zy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xf(e.return,t,n)}function Ad(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function NS(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Yt(e,t,r.children,n),r=st.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zy(e,n,t);else if(e.tag===19)Zy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xe(st,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Tc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ad(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Tc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ad(t,!0,n,null,s);break;case"together":Ad(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pR(e,t,n){switch(t.tag){case 3:_S(t),Js();break;case 5:iS(t);break;case 1:sn(t.type)&&xc(t);break;case 4:Ip(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Xe(Cc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xe(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?IS(e,t,n):(Xe(st,st.current&1),e=Mr(e,t,n),e!==null?e.sibling:null);Xe(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Xe(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,RS(e,t,n)}return Mr(e,t,n)}var jS,oh,LS,OS;jS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oh=function(){};LS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Lo(lr.current);var s=null;switch(n){case"input":o=Tf(e,o),r=Tf(e,r),s=[];break;case"select":o=ut({},o,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":o=Df(e,o),r=Df(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vc)}Mf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&et("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};OS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Di(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mR(e,t,n){var r=t.pendingProps;switch(Tp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return sn(t.type)&&wc(),Ft(t),null;case 3:return r=t.stateNode,ti(),tt(on),tt(Wt),jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(fh(Un),Un=null))),oh(e,t),Ft(t),null;case 5:Np(t);var o=Lo(ya.current);if(n=t.type,e!==null&&t.stateNode!=null)LS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Ft(t),null}if(e=Lo(lr.current),yl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[or]=t,r[ma]=s,e=(t.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(o=0;o<$i.length;o++)et($i[o],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":ay(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":cy(r,s),et("invalid",r)}Mf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gl(r.textContent,a,e),o=["children",""+a]):sa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&et("scroll",r)}switch(n){case"input":ll(r),ly(r,s,!0);break;case"textarea":ll(r),uy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[or]=t,e[ma]=r,jS(e,t,!1,!1),t.stateNode=e;e:{switch(i=_f(n,r),n){case"dialog":et("cancel",e),et("close",e),o=r;break;case"iframe":case"object":case"embed":et("load",e),o=r;break;case"video":case"audio":for(o=0;o<$i.length;o++)et($i[o],e);o=r;break;case"source":et("error",e),o=r;break;case"img":case"image":case"link":et("error",e),et("load",e),o=r;break;case"details":et("toggle",e),o=r;break;case"input":ay(e,r),o=Tf(e,r),et("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ut({},r,{value:void 0}),et("invalid",e);break;case"textarea":cy(e,r),o=Df(e,r),et("invalid",e);break;default:o=r}Mf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?px(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ia(e,l):typeof l=="number"&&ia(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",e):l!=null&&dp(e,s,l,i))}switch(n){case"input":ll(e),ly(e,r,!1);break;case"textarea":ll(e),uy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+go(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Rs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Rs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)OS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Lo(ya.current),Lo(lr.current),yl(t)){if(r=t.stateNode,n=t.memoizedProps,r[or]=t,(s=r.nodeValue!==n)&&(e=pn,e!==null))switch(e.tag){case 3:gl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=t,t.stateNode=r}return Ft(t),null;case 13:if(tt(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&hn!==null&&t.mode&1&&!(t.flags&128))tS(),Js(),t.flags|=98560,s=!1;else if(s=yl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[or]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),s=!1}else Un!==null&&(fh(Un),Un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?Pt===0&&(Pt=3):Gp())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return ti(),oh(e,t),e===null&&ha(t.stateNode.containerInfo),Ft(t),null;case 10:return Rp(t.type._context),Ft(t),null;case 17:return sn(t.type)&&wc(),Ft(t),null;case 19:if(tt(st),s=t.memoizedState,s===null)return Ft(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Di(s,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tc(e),i!==null){for(t.flags|=128,Di(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xe(st,st.current&1|2),t.child}e=e.sibling}s.tail!==null&&vt()>ri&&(t.flags|=128,r=!0,Di(s,!1),t.lanes=4194304)}else{if(!r)if(e=Tc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Di(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!nt)return Ft(t),null}else 2*vt()-s.renderingStartTime>ri&&n!==1073741824&&(t.flags|=128,r=!0,Di(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vt(),t.sibling=null,n=st.current,Xe(st,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return Hp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dn&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function gR(e,t){switch(Tp(t),t.tag){case 1:return sn(t.type)&&wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),tt(on),tt(Wt),jp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Np(t),null;case 13:if(tt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(st),null;case 4:return ti(),null;case 10:return Rp(t.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var xl=!1,Ut=!1,yR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function sh(e,t,n){try{n()}catch(r){pt(e,t,r)}}var Jy=!1;function vR(e,t){if(Bf=mc,e=Bx(),Ep(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var y;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(y=u.firstChild)!==null;)h=u,u=y;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(y=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:e,selectionRange:n},mc=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,S=g.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:On(t.type,w),S);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){pt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=Jy,Jy=!1,g}function Xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&sh(t,n,s)}o=o.next}while(o!==r)}}function hu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ih(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FS(e){var t=e.alternate;t!==null&&(e.alternate=null,FS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[ma],delete t[Hf],delete t[eR],delete t[tR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $S(e){return e.tag===5||e.tag===3||e.tag===4}function ev(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$S(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ah(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vc));else if(r!==4&&(e=e.child,e!==null))for(ah(e,t,n),e=e.sibling;e!==null;)ah(e,t,n),e=e.sibling}function lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lh(e,t,n),e=e.sibling;e!==null;)lh(e,t,n),e=e.sibling}var _t=null,Vn=!1;function Fr(e,t,n){for(n=n.child;n!==null;)VS(e,t,n),n=n.sibling}function VS(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(su,n)}catch{}switch(n.tag){case 5:Ut||bs(n,t);case 6:var r=_t,o=Vn;_t=null,Fr(e,t,n),_t=r,Vn=o,_t!==null&&(Vn?(e=_t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Vn?(e=_t,n=n.stateNode,e.nodeType===8?Sd(e.parentNode,n):e.nodeType===1&&Sd(e,n),ua(e)):Sd(_t,n.stateNode));break;case 4:r=_t,o=Vn,_t=n.stateNode.containerInfo,Vn=!0,Fr(e,t,n),_t=r,Vn=o;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&sh(n,t,i),o=o.next}while(o!==r)}Fr(e,t,n);break;case 1:if(!Ut&&(bs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,t,a)}Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Fr(e,t,n),Ut=r):Fr(e,t,n);break;default:Fr(e,t,n)}}function tv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yR),t.forEach(function(r){var o=kR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Vn=!1;break e;case 3:_t=a.stateNode.containerInfo,Vn=!0;break e;case 4:_t=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(_t===null)throw Error(q(160));VS(s,i,o),_t=null,Vn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){pt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)US(t,e),t=t.sibling}function US(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jn(t,e),Zn(e),r&4){try{Xi(3,e,e.return),hu(3,e)}catch(w){pt(e,e.return,w)}try{Xi(5,e,e.return)}catch(w){pt(e,e.return,w)}}break;case 1:jn(t,e),Zn(e),r&512&&n!==null&&bs(n,n.return);break;case 5:if(jn(t,e),Zn(e),r&512&&n!==null&&bs(n,n.return),e.flags&32){var o=e.stateNode;try{ia(o,"")}catch(w){pt(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cx(o,s),_f(a,i);var c=_f(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?px(o,u):d==="dangerouslySetInnerHTML"?fx(o,u):d==="children"?ia(o,u):dp(o,d,u,c)}switch(a){case"input":kf(o,s);break;case"textarea":ux(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Rs(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?Rs(o,!!s.multiple,s.defaultValue,!0):Rs(o,!!s.multiple,s.multiple?[]:"",!1))}o[ma]=s}catch(w){pt(e,e.return,w)}}break;case 6:if(jn(t,e),Zn(e),r&4){if(e.stateNode===null)throw Error(q(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(w){pt(e,e.return,w)}}break;case 3:if(jn(t,e),Zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(t.containerInfo)}catch(w){pt(e,e.return,w)}break;case 4:jn(t,e),Zn(e);break;case 13:jn(t,e),Zn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(qp=vt())),r&4&&tv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ut=(c=Ut)||d,jn(t,e),Ut=c):jn(t,e),Zn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(u=ne=d;ne!==null;){switch(h=ne,y=h.child,h.tag){case 0:case 11:case 14:case 15:Xi(4,h,h.return);break;case 1:bs(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){pt(r,n,w)}}break;case 5:bs(h,h.return);break;case 22:if(h.memoizedState!==null){rv(u);continue}}y!==null?(y.return=h,ne=y):rv(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hx("display",i))}catch(w){pt(e,e.return,w)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(w){pt(e,e.return,w)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:jn(t,e),Zn(e),r&4&&tv(e);break;case 21:break;default:jn(t,e),Zn(e)}}function Zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($S(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ia(o,""),r.flags&=-33);var s=ev(e);lh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ev(e);ah(e,a,i);break;default:throw Error(q(161))}}catch(l){pt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wR(e,t,n){ne=e,BS(e)}function BS(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var o=ne,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||xl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=xl;var c=Ut;if(xl=i,(Ut=l)&&!c)for(ne=o;ne!==null;)i=ne,l=i.child,i.tag===22&&i.memoizedState!==null?ov(o):l!==null?(l.return=i,ne=l):ov(o);for(;s!==null;)ne=s,BS(s),s=s.sibling;ne=o,xl=a,Ut=c}nv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ne=s):nv(e)}}function nv(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||hu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:On(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Vy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&ua(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ut||t.flags&512&&ih(t)}catch(h){pt(t,t.return,h)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function rv(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function ov(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hu(4,t)}catch(l){pt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){pt(t,o,l)}}var s=t.return;try{ih(t)}catch(l){pt(t,s,l)}break;case 5:var i=t.return;try{ih(t)}catch(l){pt(t,i,l)}}}catch(l){pt(t,t.return,l)}if(t===e){ne=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ne=a;break}ne=t.return}}var xR=Math.ceil,Dc=Lr.ReactCurrentDispatcher,Bp=Lr.ReactCurrentOwner,An=Lr.ReactCurrentBatchConfig,Ne=0,At=null,xt=null,Nt=0,dn=0,Cs=Eo(0),Pt=0,Sa=null,Xo=0,pu=0,zp=0,Qi=null,tn=null,qp=0,ri=1/0,xr=null,Rc=!1,ch=null,co=null,Sl=!1,no=null,Mc=0,Zi=0,uh=null,Ql=-1,Zl=0;function Qt(){return Ne&6?vt():Ql!==-1?Ql:Ql=vt()}function uo(e){return e.mode&1?Ne&2&&Nt!==0?Nt&-Nt:rR.transition!==null?(Zl===0&&(Zl=Tx()),Zl):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Ix(e.type)),e):1}function zn(e,t,n,r){if(50<Zi)throw Zi=0,uh=null,Error(q(185));Ua(e,n,r),(!(Ne&2)||e!==At)&&(e===At&&(!(Ne&2)&&(pu|=n),Pt===4&&Yr(e,Nt)),an(e,r),n===1&&Ne===0&&!(t.mode&1)&&(ri=vt()+500,uu&&Po()))}function an(e,t){var n=e.callbackNode;rD(e,t);var r=pc(e,e===At?Nt:0);if(r===0)n!==null&&hy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hy(n),t===1)e.tag===0?nR(sv.bind(null,e)):Zx(sv.bind(null,e)),ZD(function(){!(Ne&6)&&Po()}),n=null;else{switch(kx(r)){case 1:n=gp;break;case 4:n=Ex;break;case 16:n=hc;break;case 536870912:n=Px;break;default:n=hc}n=XS(n,zS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zS(e,t){if(Ql=-1,Zl=0,Ne&6)throw Error(q(327));var n=e.callbackNode;if(js()&&e.callbackNode!==n)return null;var r=pc(e,e===At?Nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_c(e,r);else{t=r;var o=Ne;Ne|=2;var s=WS();(At!==e||Nt!==t)&&(xr=null,ri=vt()+500,Bo(e,t));do try{CR();break}catch(a){qS(e,a)}while(!0);Dp(),Dc.current=s,Ne=o,xt!==null?t=0:(At=null,Nt=0,t=Pt)}if(t!==0){if(t===2&&(o=Of(e),o!==0&&(r=o,t=dh(e,o))),t===1)throw n=Sa,Bo(e,0),Yr(e,r),an(e,vt()),n;if(t===6)Yr(e,r);else{if(o=e.current.alternate,!(r&30)&&!SR(o)&&(t=_c(e,r),t===2&&(s=Of(e),s!==0&&(r=s,t=dh(e,s))),t===1))throw n=Sa,Bo(e,0),Yr(e,r),an(e,vt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:Mo(e,tn,xr);break;case 3:if(Yr(e,r),(r&130023424)===r&&(t=qp+500-vt(),10<t)){if(pc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Qt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Wf(Mo.bind(null,e,tn,xr),t);break}Mo(e,tn,xr);break;case 4:if(Yr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Bn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xR(r/1960))-r,10<r){e.timeoutHandle=Wf(Mo.bind(null,e,tn,xr),r);break}Mo(e,tn,xr);break;case 5:Mo(e,tn,xr);break;default:throw Error(q(329))}}}return an(e,vt()),e.callbackNode===n?zS.bind(null,e):null}function dh(e,t){var n=Qi;return e.current.memoizedState.isDehydrated&&(Bo(e,t).flags|=256),e=_c(e,t),e!==2&&(t=tn,tn=n,t!==null&&fh(t)),e}function fh(e){tn===null?tn=e:tn.push.apply(tn,e)}function SR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Wn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t){for(t&=~zp,t&=~pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bn(t),r=1<<n;e[n]=-1,t&=~r}}function sv(e){if(Ne&6)throw Error(q(327));js();var t=pc(e,0);if(!(t&1))return an(e,vt()),null;var n=_c(e,t);if(e.tag!==0&&n===2){var r=Of(e);r!==0&&(t=r,n=dh(e,r))}if(n===1)throw n=Sa,Bo(e,0),Yr(e,t),an(e,vt()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mo(e,tn,xr),an(e,vt()),null}function Wp(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(ri=vt()+500,uu&&Po())}}function Qo(e){no!==null&&no.tag===0&&!(Ne&6)&&js();var t=Ne;Ne|=1;var n=An.transition,r=qe;try{if(An.transition=null,qe=1,e)return e()}finally{qe=r,An.transition=n,Ne=t,!(Ne&6)&&Po()}}function Hp(){dn=Cs.current,tt(Cs)}function Bo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QD(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(Tp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:ti(),tt(on),tt(Wt),jp();break;case 5:Np(r);break;case 4:ti();break;case 13:tt(st);break;case 19:tt(st);break;case 10:Rp(r.type._context);break;case 22:case 23:Hp()}n=n.return}if(At=e,xt=e=fo(e.current,null),Nt=dn=t,Pt=0,Sa=null,zp=pu=Xo=0,tn=Qi=null,jo!==null){for(t=0;t<jo.length;t++)if(n=jo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}jo=null}return e}function qS(e,t){do{var n=xt;try{if(Dp(),Kl.current=Ac,kc){for(var r=ct.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}kc=!1}if(Yo=0,kt=Et=ct=null,Yi=!1,va=0,Bp.current=null,n===null||n.return===null){Pt=1,Sa=t,xt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Hy(i);if(y!==null){y.flags&=-257,Gy(y,i,a,s,t),y.mode&1&&Wy(s,c,t),t=y,l=c;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){Wy(s,c,t),Gp();break e}l=Error(q(426))}}else if(nt&&a.mode&1){var S=Hy(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Gy(S,i,a,s,t),kp(ni(l,a));break e}}s=l=ni(l,a),Pt!==4&&(Pt=2),Qi===null?Qi=[s]:Qi.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=kS(s,l,t);$y(s,m);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(co===null||!co.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=AS(s,a,t);$y(s,C);break e}}s=s.return}while(s!==null)}GS(n)}catch(E){t=E,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function WS(){var e=Dc.current;return Dc.current=Ac,e===null?Ac:e}function Gp(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),At===null||!(Xo&268435455)&&!(pu&268435455)||Yr(At,Nt)}function _c(e,t){var n=Ne;Ne|=2;var r=WS();(At!==e||Nt!==t)&&(xr=null,Bo(e,t));do try{bR();break}catch(o){qS(e,o)}while(!0);if(Dp(),Ne=n,Dc.current=r,xt!==null)throw Error(q(261));return At=null,Nt=0,Pt}function bR(){for(;xt!==null;)HS(xt)}function CR(){for(;xt!==null&&!KA();)HS(xt)}function HS(e){var t=YS(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?GS(e):xt=t,Bp.current=null}function GS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gR(n,t),n!==null){n.flags&=32767,xt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,xt=null;return}}else if(n=mR(n,t,dn),n!==null){xt=n;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);Pt===0&&(Pt=5)}function Mo(e,t,n){var r=qe,o=An.transition;try{An.transition=null,qe=1,ER(e,t,n,r)}finally{An.transition=o,qe=r}return null}function ER(e,t,n,r){do js();while(no!==null);if(Ne&6)throw Error(q(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(oD(e,s),e===At&&(xt=At=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sl||(Sl=!0,XS(hc,function(){return js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var i=qe;qe=1;var a=Ne;Ne|=4,Bp.current=null,vR(e,n),US(n,e),qD(zf),mc=!!Bf,zf=Bf=null,e.current=n,wR(n),YA(),Ne=a,qe=i,An.transition=s}else e.current=n;if(Sl&&(Sl=!1,no=e,Mc=o),s=e.pendingLanes,s===0&&(co=null),ZA(n.stateNode),an(e,vt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Rc)throw Rc=!1,e=ch,ch=null,e;return Mc&1&&e.tag!==0&&js(),s=e.pendingLanes,s&1?e===uh?Zi++:(Zi=0,uh=e):Zi=0,Po(),null}function js(){if(no!==null){var e=kx(Mc),t=An.transition,n=qe;try{if(An.transition=null,qe=16>e?16:e,no===null)var r=!1;else{if(e=no,no=null,Mc=0,Ne&6)throw Error(q(331));var o=Ne;for(Ne|=4,ne=e.current;ne!==null;){var s=ne,i=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Xi(8,d,s)}var u=d.child;if(u!==null)u.return=d,ne=u;else for(;ne!==null;){d=ne;var h=d.sibling,y=d.return;if(FS(d),d===c){ne=null;break}if(h!==null){h.return=y,ne=h;break}ne=y}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}ne=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ne=i;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ne=m;break e}ne=s.return}}var v=e.current;for(ne=v;ne!==null;){i=ne;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ne=x;else e:for(i=v;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hu(9,a)}}catch(E){pt(a,a.return,E)}if(a===i){ne=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ne=C;break e}ne=a.return}}if(Ne=o,Po(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(su,e)}catch{}r=!0}return r}finally{qe=n,An.transition=t}}return!1}function iv(e,t,n){t=ni(n,t),t=kS(e,t,1),e=lo(e,t,1),t=Qt(),e!==null&&(Ua(e,1,t),an(e,t))}function pt(e,t,n){if(e.tag===3)iv(e,e,n);else for(;t!==null;){if(t.tag===3){iv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){e=ni(n,e),e=AS(t,e,1),t=lo(t,e,1),e=Qt(),t!==null&&(Ua(t,1,e),an(t,e));break}}t=t.return}}function PR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&n,At===e&&(Nt&n)===n&&(Pt===4||Pt===3&&(Nt&130023424)===Nt&&500>vt()-qp?Bo(e,0):zp|=n),an(e,t)}function KS(e,t){t===0&&(e.mode&1?(t=dl,dl<<=1,!(dl&130023424)&&(dl=4194304)):t=1);var n=Qt();e=Rr(e,t),e!==null&&(Ua(e,t,n),an(e,n))}function TR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KS(e,n)}function kR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),KS(e,n)}var YS;YS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)rn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rn=!1,pR(e,t,n);rn=!!(e.flags&131072)}else rn=!1,nt&&t.flags&1048576&&Jx(t,bc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xl(e,t),e=t.pendingProps;var o=Zs(t,Wt.current);Ns(t,n),o=Op(null,t,r,e,o,n);var s=Fp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sn(r)?(s=!0,xc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_p(t),o.updater=fu,t.stateNode=o,o._reactInternals=t,Zf(t,r,e,n),t=th(null,t,r,!0,s,n)):(t.tag=0,nt&&s&&Pp(t),Yt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=DR(r),e=On(r,e),o){case 0:t=eh(null,t,r,e,n);break e;case 1:t=Xy(null,t,r,e,n);break e;case 11:t=Ky(null,t,r,e,n);break e;case 14:t=Yy(null,t,r,On(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),eh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),Xy(e,t,r,o,n);case 3:e:{if(_S(t),e===null)throw Error(q(387));r=t.pendingProps,s=t.memoizedState,o=s.element,sS(e,t),Pc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ni(Error(q(423)),t),t=Qy(e,t,r,n,o);break e}else if(r!==o){o=ni(Error(q(424)),t),t=Qy(e,t,r,n,o);break e}else for(hn=ao(t.stateNode.containerInfo.firstChild),pn=t,nt=!0,Un=null,n=rS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===o){t=Mr(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return iS(t),e===null&&Yf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,qf(r,o)?i=null:s!==null&&qf(r,s)&&(t.flags|=32),MS(e,t),Yt(e,t,i,n),t.child;case 6:return e===null&&Yf(t),null;case 13:return IS(e,t,n);case 4:return Ip(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ei(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),Ky(e,t,r,o,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Xe(Cc,r._currentValue),r._currentValue=i,s!==null)if(Wn(s.value,i)){if(s.children===o.children&&!on.current){t=Mr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Xf(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Yt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ns(t,n),o=Rn(o),r=r(o),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,o=On(r,t.pendingProps),o=On(r.type,o),Yy(e,t,r,o,n);case 15:return DS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:On(r,o),Xl(e,t),t.tag=1,sn(r)?(e=!0,xc(t)):e=!1,Ns(t,n),TS(t,r,o),Zf(t,r,o,n),th(null,t,r,!0,e,n);case 19:return NS(e,t,n);case 22:return RS(e,t,n)}throw Error(q(156,t.tag))};function XS(e,t){return Cx(e,t)}function AR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new AR(e,t,n,r)}function Kp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DR(e){if(typeof e=="function")return Kp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hp)return 11;if(e===pp)return 14}return 2}function fo(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jl(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Kp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case hs:return zo(n.children,o,s,t);case fp:i=8,o|=8;break;case bf:return e=kn(12,n,t,o|2),e.elementType=bf,e.lanes=s,e;case Cf:return e=kn(13,n,t,o),e.elementType=Cf,e.lanes=s,e;case Ef:return e=kn(19,n,t,o),e.elementType=Ef,e.lanes=s,e;case ix:return mu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ox:i=10;break e;case sx:i=9;break e;case hp:i=11;break e;case pp:i=14;break e;case Wr:i=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=kn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function zo(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function mu(e,t,n,r){return e=kn(22,e,r,t),e.elementType=ix,e.lanes=n,e.stateNode={isHidden:!1},e}function Dd(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function Rd(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yp(e,t,n,r,o,s,i,a,l){return e=new RR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=kn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(s),e}function MR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QS(e){if(!e)return yo;e=e._reactInternals;e:{if(rs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(sn(n))return Qx(e,n,t)}return t}function ZS(e,t,n,r,o,s,i,a,l){return e=Yp(n,r,!0,e,o,s,i,a,l),e.context=QS(null),n=e.current,r=Qt(),o=uo(n),s=Pr(r,o),s.callback=t??null,lo(n,s,o),e.current.lanes=o,Ua(e,o,r),an(e,r),e}function gu(e,t,n,r){var o=t.current,s=Qt(),i=uo(o);return n=QS(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lo(o,t,i),e!==null&&(zn(e,o,i,s),Gl(e,o,i)),i}function Ic(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function av(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xp(e,t){av(e,t),(e=e.alternate)&&av(e,t)}function _R(){return null}var JS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qp(e){this._internalRoot=e}yu.prototype.render=Qp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));gu(e,t,null,null)};yu.prototype.unmount=Qp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qo(function(){gu(null,e,null,null)}),t[Dr]=null}};function yu(e){this._internalRoot=e}yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kr.length&&t!==0&&t<Kr[n].priority;n++);Kr.splice(n,0,e),n===0&&_x(e)}};function Zp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lv(){}function IR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Ic(i);s.call(c)}}var i=ZS(t,r,e,0,null,!1,!1,"",lv);return e._reactRootContainer=i,e[Dr]=i.current,ha(e.nodeType===8?e.parentNode:e),Qo(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ic(l);a.call(c)}}var l=Yp(e,0,!1,null,null,!1,!1,"",lv);return e._reactRootContainer=l,e[Dr]=l.current,ha(e.nodeType===8?e.parentNode:e),Qo(function(){gu(t,l,n,r)}),l}function wu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Ic(i);a.call(l)}}gu(t,i,e,o)}else i=IR(n,t,e,o,r);return Ic(i)}Ax=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fi(t.pendingLanes);n!==0&&(yp(t,n|1),an(t,vt()),!(Ne&6)&&(ri=vt()+500,Po()))}break;case 13:Qo(function(){var r=Rr(e,1);if(r!==null){var o=Qt();zn(r,e,1,o)}}),Xp(e,1)}};vp=function(e){if(e.tag===13){var t=Rr(e,134217728);if(t!==null){var n=Qt();zn(t,e,134217728,n)}Xp(e,134217728)}};Dx=function(e){if(e.tag===13){var t=uo(e),n=Rr(e,t);if(n!==null){var r=Qt();zn(n,e,t,r)}Xp(e,t)}};Rx=function(){return qe};Mx=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};Nf=function(e,t,n){switch(t){case"input":if(kf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cu(r);if(!o)throw Error(q(90));lx(r),kf(r,o)}}}break;case"textarea":ux(e,n);break;case"select":t=n.value,t!=null&&Rs(e,!!n.multiple,t,!1)}};yx=Wp;vx=Qo;var NR={usingClientEntryPoint:!1,Events:[za,ys,cu,mx,gx,Wp]},Ri={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||_R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{su=bl.inject(jR),ar=bl}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(t))throw Error(q(200));return MR(e,t,null,n)};vn.createRoot=function(e,t){if(!Zp(e))throw Error(q(299));var n=!1,r="",o=JS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Yp(e,1,!1,null,null,n,!1,r,o),e[Dr]=t.current,ha(e.nodeType===8?e.parentNode:e),new Qp(t)};vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Sx(t),e=e===null?null:e.stateNode,e};vn.flushSync=function(e){return Qo(e)};vn.hydrate=function(e,t,n){if(!vu(t))throw Error(q(200));return wu(null,e,t,!0,n)};vn.hydrateRoot=function(e,t,n){if(!Zp(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=JS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ZS(t,null,e,1,n??null,o,!1,s,i),e[Dr]=t.current,ha(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new yu(t)};vn.render=function(e,t,n){if(!vu(t))throw Error(q(200));return wu(null,e,t,!1,n)};vn.unmountComponentAtNode=function(e){if(!vu(e))throw Error(q(40));return e._reactRootContainer?(Qo(function(){wu(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};vn.unstable_batchedUpdates=Wp;vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vu(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return wu(e,t,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eb)}catch(e){console.error(e)}}eb(),ex.exports=vn;var Wa=ex.exports;const LR=op(Wa);var tb,cv=Wa;tb=cv.createRoot,cv.hydrateRoot;function OR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=f;function FR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $R=typeof Object.is=="function"?Object.is:FR,VR=oi.useState,UR=oi.useEffect,BR=oi.useLayoutEffect,zR=oi.useDebugValue;function qR(e,t){var n=t(),r=VR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return BR(function(){o.value=n,o.getSnapshot=t,Md(o)&&s({inst:o})},[e,n,t]),UR(function(){return Md(o)&&s({inst:o}),e(function(){Md(o)&&s({inst:o})})},[e]),zR(n),n}function Md(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$R(e,n)}catch{return!0}}function WR(e,t){return t()}var HR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WR:qR;rb.useSyncExternalStore=oi.useSyncExternalStore!==void 0?oi.useSyncExternalStore:HR;nb.exports=rb;var GR=nb.exports;const KR=Z0.useInsertionEffect,YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ob=YR?f.useLayoutEffect:f.useEffect,XR=KR||ob,Jp=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return XR(()=>{t[0]=e}),t[1]},QR="popstate",em="pushState",tm="replaceState",ZR="hashchange",uv=[QR,em,tm,ZR],JR=e=>{for(const t of uv)addEventListener(t,e);return()=>{for(const t of uv)removeEventListener(t,e)}},sb=(e,t)=>GR.useSyncExternalStore(JR,e,t),eM=()=>location.search,tM=({ssrSearch:e=""}={})=>sb(eM,()=>e),dv=()=>location.pathname,nM=({ssrPath:e}={})=>sb(dv,e?()=>e:dv),rM=(e,{replace:t=!1,state:n=null}={})=>history[t?tm:em](n,"",e),oM=(e={})=>[nM(e),rM],fv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[fv]>"u"){for(const e of[em,tm]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,fv,{value:!0})}const sM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ib=(e="")=>e==="/"?"":e,iM=(e,t)=>e[0]==="~"?e.slice(1):ib(t)+e,aM=(e="",t)=>sM(hv(ib(e)),hv(t)),hv=e=>{try{return decodeURI(e)}catch{return e}},ab={hook:oM,searchHook:tM,parser:OR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},lb=f.createContext(ab),Ha=()=>f.useContext(lb),cb={},ub=f.createContext(cb),lM=()=>f.useContext(ub),xu=e=>{const[t,n]=e.hook(e);return[aM(e.base,t),Jp((r,o)=>n(iM(r,e.base),o))]},Su=()=>xu(Ha()),db=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},fb=({children:e,...t})=>{var d,u;const n=Ha(),r=t.hook?ab:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const y=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&y!==c[h]&&(a.current=c={...c}),c[h]=y,y!==r[h]&&(o=c)}return f.createElement(lb.Provider,{value:o,children:e})},pv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,cM=e=>{let t=f.useRef(cb),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Cl=({path:e,nest:t,match:n,...r})=>{const o=Ha(),[s]=xu(o),[i,a,l]=n??db(o.parser,e,s,t),c=cM({...lM(),...a});if(!i)return null;const d=l?f.createElement(fb,{base:l},pv(r,c)):pv(r,c);return f.createElement(ub.Provider,{value:c,children:d})},uM=f.forwardRef((e,t)=>{const n=Ha(),[r,o]=xu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...y}=e,g=Jp(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),o(i,e)))}),w=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:g,href:w}):f.createElement("a",{...y,onClick:g,href:w,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),hb=e=>Array.isArray(e)?e.flatMap(t=>hb(t&&t.type===f.Fragment?t.props.children:t)):[e],dM=({children:e,location:t})=>{const n=Ha(),[r]=xu(n);for(const o of hb(e)){let s=0;if(f.isValidElement(o)&&(s=db(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null},fM=e=>{const{to:t,href:n=t}=e,[,r]=Su(),o=Jp(()=>r(t||n,e));return ob(()=>{o()},[]),null};var bu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cu=typeof window>"u"||"Deno"in globalThis;function Fn(){}function hM(e,t){return typeof e=="function"?e(t):e}function pM(e){return typeof e=="number"&&e>=0&&e!==1/0}function mM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mv(e,t){return typeof e=="function"?e(t):e}function gM(e,t){return typeof e=="function"?e(t):e}function gv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==nm(i,t.options))return!1}else if(!Ca(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function yv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ba(t.options.mutationKey)!==ba(s))return!1}else if(!Ca(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function nm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ba)(e)}function ba(e){return JSON.stringify(e,(t,n)=>hh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ca(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ca(e[n],t[n])):!1}function pb(e,t){if(e===t)return e;const n=vv(e)&&vv(t);if(n||hh(e)&&hh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=pb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function vv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hh(e){if(!wv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!wv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wv(e){return Object.prototype.toString.call(e)==="[object Object]"}function yM(e){return new Promise(t=>{setTimeout(t,e)})}function vM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?pb(e,t):t}function wM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function xM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rm=Symbol();function mb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Fo,Xr,Bs,N0,SM=(N0=class extends bu{constructor(){super();Ve(this,Fo);Ve(this,Xr);Ve(this,Bs);Pe(this,Bs,t=>{if(!Cu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Xr)||this.setEventListener(V(this,Bs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Xr))==null||t.call(this),Pe(this,Xr,void 0))}setEventListener(t){var n;Pe(this,Bs,t),(n=V(this,Xr))==null||n.call(this),Pe(this,Xr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,Fo)!==t&&(Pe(this,Fo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,Fo)=="boolean"?V(this,Fo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fo=new WeakMap,Xr=new WeakMap,Bs=new WeakMap,N0),gb=new SM,zs,Qr,qs,j0,bM=(j0=class extends bu{constructor(){super();Ve(this,zs,!0);Ve(this,Qr);Ve(this,qs);Pe(this,qs,t=>{if(!Cu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,Qr)||this.setEventListener(V(this,qs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Qr))==null||t.call(this),Pe(this,Qr,void 0))}setEventListener(t){var n;Pe(this,qs,t),(n=V(this,Qr))==null||n.call(this),Pe(this,Qr,t(this.setOnline.bind(this)))}setOnline(t){V(this,zs)!==t&&(Pe(this,zs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,zs)}},zs=new WeakMap,Qr=new WeakMap,qs=new WeakMap,j0),Nc=new bM;function CM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function EM(e){return Math.min(1e3*2**e,3e4)}function yb(e){return(e??"online")==="online"?Nc.isOnline():!0}var vb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _d(e){return e instanceof vb}function wb(e){let t=!1,n=0,r=!1,o;const s=CM(),i=w=>{var S;r||(h(new vb(w)),(S=e.abort)==null||S.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>gb.isFocused()&&(e.networkMode==="always"||Nc.isOnline())&&e.canRun(),d=()=>yb(e.networkMode)&&e.canRun(),u=w=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,w),o==null||o(),s.resolve(w))},h=w=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,w),o==null||o(),s.reject(w))},y=()=>new Promise(w=>{var S;o=m=>{(r||c())&&w(m)},(S=e.onPause)==null||S.call(e)}).then(()=>{var w;o=void 0,r||(w=e.onContinue)==null||w.call(e)}),g=()=>{if(r)return;let w;const S=n===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(u).catch(m=>{var P;if(r)return;const v=e.retry??(Cu?0:3),x=e.retryDelay??EM,C=typeof x=="function"?x(n,m):x,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),yM(C).then(()=>c()?void 0:y()).then(()=>{t?h(m):g()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?g():y().then(g),s)}}function PM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Xt=PM(),$o,L0,xb=(L0=class{constructor(){Ve(this,$o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pM(this.gcTime)&&Pe(this,$o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cu?1/0:5*60*1e3))}clearGcTimeout(){V(this,$o)&&(clearTimeout(V(this,$o)),Pe(this,$o,void 0))}},$o=new WeakMap,L0),Ws,Hs,En,$t,Fa,Vo,$n,wr,O0,TM=(O0=class extends xb{constructor(t){super();Ve(this,$n);Ve(this,Ws);Ve(this,Hs);Ve(this,En);Ve(this,$t);Ve(this,Fa);Ve(this,Vo);Pe(this,Vo,!1),Pe(this,Fa,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,En,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,Ws,AM(this.options)),this.state=t.state??V(this,Ws),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,$t))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Fa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,En).remove(this)}setData(t,n){const r=vM(this.state.data,t,this.options);return Lt(this,$n,wr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Lt(this,$n,wr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=V(this,$t))==null?void 0:r.promise;return(o=V(this,$t))==null||o.cancel(t),n?n.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ws))}isActive(){return this.observers.some(t=>gM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,$t))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,$t))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,En).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,$t)&&(V(this,Vo)?V(this,$t).cancel({revert:!0}):V(this,$t).cancelRetry()),this.scheduleGc()),V(this,En).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,$n,wr).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,$t))return V(this,$t).continueRetry(),V(this,$t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Pe(this,Vo,!0),r.signal)})},s=()=>{const u=mb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),Pe(this,Vo,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),Pe(this,Hs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Lt(this,$n,wr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,y,g,w;_d(u)&&u.silent||Lt(this,$n,wr).call(this,{type:"error",error:u}),_d(u)||((y=(h=V(this,En).config).onError)==null||y.call(h,u,this),(w=(g=V(this,En).config).onSettled)==null||w.call(g,this.state.data,u,this)),this.scheduleGc()};return Pe(this,$t,wb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,y,g,w;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(S){a(S);return}(y=(h=V(this,En).config).onSuccess)==null||y.call(h,u,this),(w=(g=V(this,En).config).onSettled)==null||w.call(g,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{Lt(this,$n,wr).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Lt(this,$n,wr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,$n,wr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),V(this,$t).start()}},Ws=new WeakMap,Hs=new WeakMap,En=new WeakMap,$t=new WeakMap,Fa=new WeakMap,Vo=new WeakMap,$n=new WeakSet,wr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return _d(o)&&o.revert&&V(this,Hs)?{...V(this,Hs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,En).notify({query:this,type:"updated",action:t})})},O0);function kM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var er,F0,DM=(F0=class extends bu{constructor(t={}){super();Ve(this,er);this.config=t,Pe(this,er,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??nm(o,n);let i=this.get(s);return i||(i=new TM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){V(this,er).has(t.queryHash)||(V(this,er).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,er).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,er).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,er).get(t)}getAll(){return[...V(this,er).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>gv(t,r)):n}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},er=new WeakMap,F0),tr,Kt,Uo,nr,Ur,$0,RM=($0=class extends xb{constructor(t){super();Ve(this,nr);Ve(this,tr);Ve(this,Kt);Ve(this,Uo);this.mutationId=t.mutationId,Pe(this,Kt,t.mutationCache),Pe(this,tr,[]),this.state=t.state||MM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,tr).includes(t)||(V(this,tr).push(t),this.clearGcTimeout(),V(this,Kt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,tr,V(this,tr).filter(n=>n!==t)),this.scheduleGc(),V(this,Kt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,tr).length||(this.state.status==="pending"?this.scheduleGc():V(this,Kt).remove(this))}continue(){var t;return((t=V(this,Uo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,y,g,w,S,m,v,x,C,E,P,k;Pe(this,Uo,wb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{Lt(this,nr,Ur).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Lt(this,nr,Ur).call(this,{type:"pause"})},onContinue:()=>{Lt(this,nr,Ur).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Kt).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Uo).canStart();try{if(!n){Lt(this,nr,Ur).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=V(this,Kt).config).onMutate)==null?void 0:s.call(o,t,this));const D=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));D!==this.state.context&&Lt(this,nr,Ur).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const A=await V(this,Uo).start();return await((c=(l=V(this,Kt).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,A,t,this.state.context)),await((y=(h=V(this,Kt).config).onSettled)==null?void 0:y.call(h,A,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,A,null,t,this.state.context)),Lt(this,nr,Ur).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(S=V(this,Kt).config).onError)==null?void 0:m.call(S,A,t,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,A,t,this.state.context)),await((E=(C=V(this,Kt).config).onSettled)==null?void 0:E.call(C,void 0,A,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context)),A}finally{Lt(this,nr,Ur).call(this,{type:"error",error:A})}}finally{V(this,Kt).runNext(this)}}},tr=new WeakMap,Kt=new WeakMap,Uo=new WeakMap,nr=new WeakSet,Ur=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xt.batch(()=>{V(this,tr).forEach(r=>{r.onMutationUpdate(t)}),V(this,Kt).notify({mutation:this,type:"updated",action:t})})},$0);function MM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,$a,V0,_M=(V0=class extends bu{constructor(t={}){super();Ve(this,un);Ve(this,$a);this.config=t,Pe(this,un,new Map),Pe(this,$a,Date.now())}build(t,n,r){const o=new RM({mutationCache:this,mutationId:++sl(this,$a)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=El(t),r=V(this,un).get(n)??[];r.push(t),V(this,un).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=El(t);if(V(this,un).has(n)){const o=(r=V(this,un).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?V(this,un).delete(n):V(this,un).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=V(this,un).get(El(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=V(this,un).get(El(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,un).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yv(n,r))}findAll(t={}){return this.getAll().filter(n=>yv(t,n))}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Fn))))}},un=new WeakMap,$a=new WeakMap,V0);function El(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function xv(e){return{onFetch:(t,n)=>{var d,u,h,y,g;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const S=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},m=mb(t.options,t.fetchOptions),v=async(x,C,E)=>{if(w)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};S(P);const k=await m(P),{maxPages:A}=t.options,D=E?xM:wM;return{pages:D(x.pages,k,A),pageParams:D(x.pageParams,C,A)}};if(o&&s.length){const x=o==="backward",C=x?IM:Sv,E={pages:s,pageParams:i},P=C(r,E);a=await v(E,P,x)}else{const x=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:Sv(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var w,S;return(S=(w=t.options).persister)==null?void 0:S.call(w,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Sv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ft,Zr,Jr,Gs,Ks,eo,Ys,Xs,U0,NM=(U0=class{constructor(e={}){Ve(this,ft);Ve(this,Zr);Ve(this,Jr);Ve(this,Gs);Ve(this,Ks);Ve(this,eo);Ve(this,Ys);Ve(this,Xs);Pe(this,ft,e.queryCache||new DM),Pe(this,Zr,e.mutationCache||new _M),Pe(this,Jr,e.defaultOptions||{}),Pe(this,Gs,new Map),Pe(this,Ks,new Map),Pe(this,eo,0)}mount(){sl(this,eo)._++,V(this,eo)===1&&(Pe(this,Ys,gb.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,ft).onFocus())})),Pe(this,Xs,Nc.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,ft).onOnline())})))}unmount(){var e,t;sl(this,eo)._--,V(this,eo)===0&&((e=V(this,Ys))==null||e.call(this),Pe(this,Ys,void 0),(t=V(this,Xs))==null||t.call(this),Pe(this,Xs,void 0))}isFetching(e){return V(this,ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Zr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,ft).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,ft).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(mv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,ft).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=V(this,ft).get(r.queryHash),s=o==null?void 0:o.state.data,i=hM(t,s);if(i!==void 0)return V(this,ft).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Xt.batch(()=>V(this,ft).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,ft).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,ft);Xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,ft),r={type:"active",...e};return Xt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Xt.batch(()=>V(this,ft).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Fn).catch(Fn)}invalidateQueries(e={},t={}){return Xt.batch(()=>{if(V(this,ft).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Xt.batch(()=>V(this,ft).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Fn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Fn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,ft).build(this,t);return n.isStaleByTime(mv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fn).catch(Fn)}fetchInfiniteQuery(e){return e.behavior=xv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fn).catch(Fn)}ensureInfiniteQueryData(e){return e.behavior=xv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nc.isOnline()?V(this,Zr).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,ft)}getMutationCache(){return V(this,Zr)}getDefaultOptions(){return V(this,Jr)}setDefaultOptions(e){Pe(this,Jr,e)}setQueryDefaults(e,t){V(this,Gs).set(ba(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Gs).values()];let n={};return t.forEach(r=>{Ca(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){V(this,Ks).set(ba(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Ks).values()];let n={};return t.forEach(r=>{Ca(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Jr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===rm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Jr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,ft).clear(),V(this,Zr).clear()}},ft=new WeakMap,Zr=new WeakMap,Jr=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,eo=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,U0),jM=f.createContext(void 0),LM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(jM.Provider,{value:e,children:t}));async function OM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const FM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await OM(n),await n.json())},$M=new NM({defaultOptions:{queries:{queryFn:FM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),VM=1,UM=1e6;let Id=0;function BM(){return Id=(Id+1)%Number.MAX_SAFE_INTEGER,Id.toString()}const Nd=new Map,bv=e=>{if(Nd.has(e))return;const t=setTimeout(()=>{Nd.delete(e),Ji({type:"REMOVE_TOAST",toastId:e})},UM);Nd.set(e,t)},zM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?bv(n):e.toasts.forEach(r=>{bv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ec=[];let tc={toasts:[]};function Ji(e){tc=zM(tc,e),ec.forEach(t=>{t(tc)})}function qM({...e}){const t=BM(),n=o=>Ji({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Ji({type:"DISMISS_TOAST",toastId:t});return Ji({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Ga(){const[e,t]=f.useState(tc);return f.useEffect(()=>(ec.push(t),()=>{const n=ec.indexOf(t);n>-1&&ec.splice(n,1)}),[e]),{...e,toast:qM,dismiss:n=>Ji({type:"DISMISS_TOAST",toastId:n})}}function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Cv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Eu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Cv(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Cv(e[o],null)}}}}function Me(...e){return f.useCallback(Eu(...e),e)}function WM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function ln(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:y,...g}=u,w=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,S=f.useMemo(()=>g,Object.values(g));return p.jsx(w.Provider,{value:S,children:y})};c.displayName=s+"Provider";function d(u,h){var w;const y=((w=h==null?void 0:h[e])==null?void 0:w[l])||a,g=f.useContext(y);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,HM(o,...t)]}function HM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function si(e){const t=KM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(YM);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var GM=si("Slot");function KM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=QM(o),a=XM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Eu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sb=Symbol("radix.slottable");function bb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Sb,t}function YM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sb}function XM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function QM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Pu(e){const t=e+"CollectionProvider",[n,r]=ln(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:S,children:m}=w,v=wt.useRef(null),x=wt.useRef(new Map).current;return p.jsx(o,{scope:S,itemMap:x,collectionRef:v,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=si(a),c=wt.forwardRef((w,S)=>{const{scope:m,children:v}=w,x=s(a,m),C=Me(S,x.collectionRef);return p.jsx(l,{ref:C,children:v})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=si(d),y=wt.forwardRef((w,S)=>{const{scope:m,children:v,...x}=w,C=wt.useRef(null),E=Me(S,C),P=s(d,m);return wt.useEffect(()=>(P.itemMap.set(C,{ref:C,...x}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:v})});y.displayName=d;function g(w){const S=s(e+"CollectionConsumer",w);return wt.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(S.itemMap.values()).sort((P,k)=>x.indexOf(P.ref.current)-x.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:c,ItemSlot:y},g,r]}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=ZM.reduce((e,t)=>{const n=si(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function om(e,t){e&&Wa.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function JM(e,t=globalThis==null?void 0:globalThis.document){const n=it(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var e_="DismissableLayer",ph="dismissableLayer.update",t_="dismissableLayer.pointerDownOutside",n_="dismissableLayer.focusOutside",Ev,Cb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ka=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(Cb),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),g=Me(t,k=>u(k)),w=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=w.indexOf(S),v=d?w.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=m,E=o_(k=>{const A=k.target,D=[...c.branches].some(M=>M.contains(A));!C||D||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=s_(k=>{const A=k.target;[...c.branches].some(M=>M.contains(A))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return JM(k=>{v===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ev=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Pv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ev)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Pv())},[d,c]),f.useEffect(()=>{const k=()=>y({});return document.addEventListener(ph,k),()=>document.removeEventListener(ph,k)},[]),p.jsx(pe.div,{...l,ref:g,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,E.onPointerDownCapture)})});Ka.displayName=e_;var r_="DismissableLayerBranch",Eb=f.forwardRef((e,t)=>{const n=f.useContext(Cb),r=f.useRef(null),o=Me(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(pe.div,{...e,ref:o})});Eb.displayName=r_;function o_(e,t=globalThis==null?void 0:globalThis.document){const n=it(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Pb(t_,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s_(e,t=globalThis==null?void 0:globalThis.document){const n=it(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Pb(n_,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pv(){const e=new CustomEvent(ph);document.dispatchEvent(e)}function Pb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?om(o,s):o.dispatchEvent(s)}var i_=Ka,a_=Eb,_n=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},l_="Portal",Tu=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);_n(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?LR.createPortal(p.jsx(pe.div,{...r,ref:t}),i):null});Tu.displayName=l_;function c_(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var cn=e=>{const{present:t,children:n}=e,r=u_(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Me(r.ref,d_(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};cn.displayName="Presence";function u_(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=c_(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Pl(r.current);s.current=a==="mounted"?c:"none"},[a]),_n(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,y=Pl(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),_n(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=y=>{const w=Pl(r.current).includes(y.animationName);if(y.target===t&&w&&(l("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=y=>{y.target===t&&(s.current=Pl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Pl(e){return(e==null?void 0:e.animationName)||"none"}function d_(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=f_({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=it(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function f_({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=it(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var h_="VisuallyHidden",ku=f.forwardRef((e,t)=>p.jsx(pe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ku.displayName=h_;var p_=ku,sm="ToastProvider",[im,m_,g_]=Pu("Toast"),[Tb,Gz]=ln("Toast",[g_]),[y_,Au]=Tb(sm),kb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sm}\`. Expected non-empty \`string\`.`),p.jsx(im.Provider,{scope:t,children:p.jsx(y_,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(y=>y+1),[]),onToastRemove:f.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};kb.displayName=sm;var Ab="ToastViewport",v_=["F8"],mh="toast.viewportPause",gh="toast.viewportResume",Db=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=v_,label:o="Notifications ({hotkey})",...s}=e,i=Au(Ab,n),a=m_(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=Me(t,u,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;f.useEffect(()=>{const S=m=>{var x;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((x=u.current)==null||x.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),f.useEffect(()=>{const S=l.current,m=u.current;if(g&&S&&m){const v=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(mh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(gh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!S.contains(P.relatedTarget)&&x()},E=()=>{S.contains(document.activeElement)||x()};return S.addEventListener("focusin",v),S.addEventListener("focusout",C),S.addEventListener("pointermove",v),S.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{S.removeEventListener("focusin",v),S.removeEventListener("focusout",C),S.removeEventListener("pointermove",v),S.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[g,i.isClosePausedRef]);const w=f.useCallback(({tabbingDirection:S})=>{const v=a().map(x=>{const C=x.ref.current,E=[C,...M_(C)];return S==="forwards"?E:E.reverse()});return(S==="forwards"?v.reverse():v).flat()},[a]);return f.useEffect(()=>{const S=u.current;if(S){const m=v=>{var E,P,k;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const A=document.activeElement,D=v.shiftKey;if(v.target===S&&D){(E=c.current)==null||E.focus();return}const O=w({tabbingDirection:D?"backwards":"forwards"}),G=O.findIndex(F=>F===A);jd(O.slice(G+1))?v.preventDefault():D?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return S.addEventListener("keydown",m),()=>S.removeEventListener("keydown",m)}},[a,w]),p.jsxs(a_,{ref:l,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(yh,{ref:c,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"forwards"});jd(S)}}),p.jsx(im.Slot,{scope:n,children:p.jsx(pe.ol,{tabIndex:-1,...s,ref:h})}),g&&p.jsx(yh,{ref:d,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"backwards"});jd(S)}})]})});Db.displayName=Ab;var Rb="ToastFocusProxy",yh=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Au(Rb,n);return p.jsx(ku,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});yh.displayName=Rb;var Du="Toast",w_="toast.swipeStart",x_="toast.swipeMove",S_="toast.swipeCancel",b_="toast.swipeEnd",Mb=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=pr({prop:r,defaultProp:o,onChange:s});return p.jsx(cn,{present:n||a,children:p.jsx(P_,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:it(e.onPause),onResume:it(e.onResume),onSwipeStart:Z(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Z(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Mb.displayName=Du;var[C_,E_]=Tb(Du,{onClose(){}}),P_=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:y,...g}=e,w=Au(Du,n),[S,m]=f.useState(null),v=Me(t,F=>m(F)),x=f.useRef(null),C=f.useRef(null),E=o||w.duration,P=f.useRef(0),k=f.useRef(E),A=f.useRef(0),{onToastAdd:D,onToastRemove:M}=w,L=it(()=>{var W;(S==null?void 0:S.contains(document.activeElement))&&((W=w.viewport)==null||W.focus()),i()}),O=f.useCallback(F=>{!F||F===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(L,F))},[L]);f.useEffect(()=>{const F=w.viewport;if(F){const W=()=>{O(k.current),c==null||c()},N=()=>{const j=new Date().getTime()-P.current;k.current=k.current-j,window.clearTimeout(A.current),l==null||l()};return F.addEventListener(mh,N),F.addEventListener(gh,W),()=>{F.removeEventListener(mh,N),F.removeEventListener(gh,W)}}},[w.viewport,E,l,c,O]),f.useEffect(()=>{s&&!w.isClosePausedRef.current&&O(E)},[s,E,w.isClosePausedRef,O]),f.useEffect(()=>(D(),()=>M()),[D,M]);const G=f.useMemo(()=>S?Fb(S):null,[S]);return w.viewport?p.jsxs(p.Fragment,{children:[G&&p.jsx(T_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),p.jsx(C_,{scope:n,onClose:L,children:Wa.createPortal(p.jsx(im.ItemSlot,{scope:n,children:p.jsx(i_,{asChild:!0,onEscapeKeyDown:Z(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||L(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Z(e.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:Z(e.onPointerMove,F=>{if(!x.current)return;const W=F.clientX-x.current.x,N=F.clientY-x.current.y,j=!!C.current,R=["left","right"].includes(w.swipeDirection),_=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,$=R?_(0,W):0,H=R?0:_(0,N),Y=F.pointerType==="touch"?10:2,se={x:$,y:H},ae={originalEvent:F,delta:se};j?(C.current=se,Tl(x_,u,ae,{discrete:!1})):Tv(se,w.swipeDirection,Y)?(C.current=se,Tl(w_,d,ae,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(W)>Y||Math.abs(N)>Y)&&(x.current=null)}),onPointerUp:Z(e.onPointerUp,F=>{const W=C.current,N=F.target;if(N.hasPointerCapture(F.pointerId)&&N.releasePointerCapture(F.pointerId),C.current=null,x.current=null,W){const j=F.currentTarget,R={originalEvent:F,delta:W};Tv(W,w.swipeDirection,w.swipeThreshold)?Tl(b_,y,R,{discrete:!0}):Tl(S_,h,R,{discrete:!0}),j.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),T_=e=>{const{__scopeToast:t,children:n,...r}=e,o=Au(Du,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return D_(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Tu,{asChild:!0,children:p.jsx(ku,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},k_="ToastTitle",_b=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(pe.div,{...r,ref:t})});_b.displayName=k_;var A_="ToastDescription",Ib=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(pe.div,{...r,ref:t})});Ib.displayName=A_;var Nb="ToastAction",jb=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Ob,{altText:n,asChild:!0,children:p.jsx(am,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nb}\`. Expected non-empty \`string\`.`),null)});jb.displayName=Nb;var Lb="ToastClose",am=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=E_(Lb,n);return p.jsx(Ob,{asChild:!0,children:p.jsx(pe.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,o.onClose)})})});am.displayName=Lb;var Ob=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Fb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),R_(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Fb(r))}}),t}function Tl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?om(o,s):o.dispatchEvent(s)}var Tv=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function D_(e=()=>{}){const t=it(e);_n(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function R_(e){return e.nodeType===e.ELEMENT_NODE}function M_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var __=kb,$b=Db,Vb=Mb,Ub=_b,Bb=Ib,zb=jb,qb=am;function Wb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Wb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Wb(e))&&(r&&(r+=" "),r+=t);return r}const kv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Av=Hb,Ya=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Av(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=kv(d)||kv(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...y}=d;return Object.entries(y).every(g=>{let[w,S]=g;return Array.isArray(S)?S.includes({...s,...a}[w]):{...s,...a}[w]===S})?[...c,u,h]:c},[]);return Av(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...N_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Gb("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(j_,{ref:s,iconNode:t,className:Gb(`lucide-${I_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=je("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=je("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=je("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=je("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=je("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=je("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=je("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=je("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=je("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=je("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=je("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=je("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=je("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),cm="-",rI=e=>{const t=sI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(cm);return a[0]===""&&a.length!==1&&a.shift(),nC(a,t)||oI(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},nC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?nC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(cm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Rv=/^\[(.+)\]$/,oI=e=>{if(Rv.test(e)){const t=Rv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return aI(Object.entries(e.classGroups),n).forEach(([s,i])=>{vh(i,r,s,t)}),r},vh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Mv(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(iI(o)){vh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{vh(i,Mv(t,s),n,r)})})},Mv=(e,t)=>{let n=e;return t.split(cm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iI=e=>e.isThemeGetter,aI=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,lI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},rC="!",cI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let S=0;S<a.length;S++){let m=a[S];if(c===0){if(m===o&&(r||a.slice(S,S+s)===t)){l.push(a.slice(d,S)),d=S+s;continue}if(m==="/"){u=S;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),y=h.startsWith(rC),g=y?h.substring(1):h,w=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:i}):i},uI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dI=e=>({cache:lI(e.cacheSize),parseClassName:cI(e),...rI(e)}),fI=/\s+/,hI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(fI);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let g=!!y,w=r(g?h.substring(0,y):h);if(!w){if(!g){a=c+(a.length>0?" "+a:a);continue}if(w=r(h),!w){a=c+(a.length>0?" "+a:a);continue}g=!1}const S=uI(d).join(":"),m=u?S+rC:S,v=m+w;if(s.includes(v))continue;s.push(v);const x=o(w,g);for(let C=0;C<x.length;++C){const E=x[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function pI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oC(t))&&(r&&(r+=" "),r+=n);return r}const oC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oC(e[r]))&&(n&&(n+=" "),n+=t);return n};function mI(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=dI(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=hI(l,n);return o(l,d),d}return function(){return s(pI.apply(null,arguments))}}const Je=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},sC=/^\[(?:([a-z-]+):)?(.+)\]$/i,gI=/^\d+\/\d+$/,yI=new Set(["px","full","screen"]),vI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=e=>Ls(e)||yI.has(e)||gI.test(e),$r=e=>mi(e,"length",RI),Ls=e=>!!e&&!Number.isNaN(Number(e)),Ld=e=>mi(e,"number",Ls),Mi=e=>!!e&&Number.isInteger(Number(e)),CI=e=>e.endsWith("%")&&Ls(e.slice(0,-1)),Ce=e=>sC.test(e),Vr=e=>vI.test(e),EI=new Set(["length","size","percentage"]),PI=e=>mi(e,EI,iC),TI=e=>mi(e,"position",iC),kI=new Set(["image","url"]),AI=e=>mi(e,kI,_I),DI=e=>mi(e,"",MI),_i=()=>!0,mi=(e,t,n)=>{const r=sC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},RI=e=>wI.test(e)&&!xI.test(e),iC=()=>!1,MI=e=>SI.test(e),_I=e=>bI.test(e),II=()=>{const e=Je("colors"),t=Je("spacing"),n=Je("blur"),r=Je("brightness"),o=Je("borderColor"),s=Je("borderRadius"),i=Je("borderSpacing"),a=Je("borderWidth"),l=Je("contrast"),c=Je("grayscale"),d=Je("hueRotate"),u=Je("invert"),h=Je("gap"),y=Je("gradientColorStops"),g=Je("gradientColorStopPositions"),w=Je("inset"),S=Je("margin"),m=Je("opacity"),v=Je("padding"),x=Je("saturate"),C=Je("scale"),E=Je("sepia"),P=Je("skew"),k=Je("space"),A=Je("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Ce,t],O=()=>[Ce,t],G=()=>["",vr,$r],F=()=>["auto",Ls,Ce],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",Ce],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ls,Ce];return{cacheSize:500,separator:":",theme:{colors:[_i],spacing:[vr,$r],blur:["none","",Vr,Ce],brightness:H(),borderColor:[e],borderRadius:["none","","full",Vr,Ce],borderSpacing:O(),borderWidth:G(),contrast:H(),grayscale:_(),hueRotate:H(),invert:_(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[CI,$r],inset:L(),margin:L(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:_(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Vr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mi,Ce]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Mi,Ce]}],"grid-cols":[{"grid-cols":[_i]}],"col-start-end":[{col:["auto",{span:["full",Mi,Ce]},Ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[_i]}],"row-start-end":[{row:["auto",{span:[Mi,Ce]},Ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[Vr]},Vr]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vr,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ld]}],"font-family":[{font:[_i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Ls,Ld]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,$r]}],"underline-offset":[{"underline-offset":["auto",vr,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),TI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[vr,Ce]}],"outline-w":[{outline:[vr,$r]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[vr,$r]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vr,DI]}],"shadow-color":[{shadow:[_i]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Vr,Ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Mi,Ce]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vr,$r,Ld]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NI=mI(II);function jI(e){throw new Error("Unexpected object: "+e)}function Q(...e){return NI(Hb(e))}function LI(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const OI=__,aC=f.forwardRef(({className:e,...t},n)=>p.jsx($b,{ref:n,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aC.displayName=$b.displayName;const FI=Ya("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Vb,{ref:r,className:Q(FI({variant:t}),e),...n}));lC.displayName=Vb.displayName;const $I=f.forwardRef(({className:e,...t},n)=>p.jsx(zb,{ref:n,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$I.displayName=zb.displayName;const cC=f.forwardRef(({className:e,...t},n)=>p.jsx(qb,{ref:n,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Ru,{className:"h-4 w-4"})}));cC.displayName=qb.displayName;const uC=f.forwardRef(({className:e,...t},n)=>p.jsx(Ub,{ref:n,className:Q("text-sm font-semibold",e),...t}));uC.displayName=Ub.displayName;const dC=f.forwardRef(({className:e,...t},n)=>p.jsx(Bb,{ref:n,className:Q("text-sm opacity-90",e),...t}));dC.displayName=Bb.displayName;function VI(){const{toasts:e}=Ga();return p.jsxs(OI,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(lC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(uC,{children:n}),r&&p.jsx(dC,{children:r})]}),o,p.jsx(cC,{})]},t)}),p.jsx(aC,{})]})}var UI=Z0[" useId ".trim().toString()]||(()=>{}),BI=0;function qo(e){const[t,n]=f.useState(UI());return _n(()=>{n(r=>r??String(BI++))},[e]),t?`radix-${t}`:""}const zI=["top","right","bottom","left"],vo=Math.min,fn=Math.max,jc=Math.round,kl=Math.floor,cr=e=>({x:e,y:e}),qI={left:"right",right:"left",bottom:"top",top:"bottom"},WI={start:"end",end:"start"};function wh(e,t,n){return fn(e,vo(t,n))}function _r(e,t){return typeof e=="function"?e(t):e}function Ir(e){return e.split("-")[0]}function gi(e){return e.split("-")[1]}function um(e){return e==="x"?"y":"x"}function dm(e){return e==="y"?"height":"width"}function wo(e){return["top","bottom"].includes(Ir(e))?"y":"x"}function fm(e){return um(wo(e))}function HI(e,t,n){n===void 0&&(n=!1);const r=gi(e),o=fm(e),s=dm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Lc(i)),[i,Lc(i)]}function GI(e){const t=Lc(e);return[xh(e),t,xh(t)]}function xh(e){return e.replace(/start|end/g,t=>WI[t])}function KI(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function YI(e,t,n,r){const o=gi(e);let s=KI(Ir(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(xh)))),s}function Lc(e){return e.replace(/left|right|bottom|top/g,t=>qI[t])}function XI(e){return{top:0,right:0,bottom:0,left:0,...e}}function fC(e){return typeof e!="number"?XI(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function _v(e,t,n){let{reference:r,floating:o}=e;const s=wo(t),i=fm(t),a=dm(i),l=Ir(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-o.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:u};break;case"left":y={x:r.x-o.width,y:u};break;default:y={x:r.x,y:r.y}}switch(gi(t)){case"start":y[i]-=h*(n&&c?-1:1);break;case"end":y[i]+=h*(n&&c?-1:1);break}return y}const QI=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=_v(c,r,l),h=r,y={},g=0;for(let w=0;w<a.length;w++){const{name:S,fn:m}=a[w],{x:v,y:x,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:y,rects:c,platform:i,elements:{reference:e,floating:t}});d=v??d,u=x??u,y={...y,[S]:{...y[S],...C}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=_v(c,h,l)),w=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:y}};async function Ea(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:y=0}=_r(t,e),g=fC(y),S=a[h?u==="floating"?"reference":"floating":u],m=Oc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Oc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(m.top-E.top+g.top)/C.y,bottom:(E.bottom-m.bottom+g.bottom)/C.y,left:(m.left-E.left+g.left)/C.x,right:(E.right-m.right+g.right)/C.x}}const ZI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=_r(e,t)||{};if(c==null)return{};const u=fC(d),h={x:n,y:r},y=fm(o),g=dm(y),w=await i.getDimensions(c),S=y==="y",m=S?"top":"left",v=S?"bottom":"right",x=S?"clientHeight":"clientWidth",C=s.reference[g]+s.reference[y]-h[y]-s.floating[g],E=h[y]-s.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[x]||s.floating[g]);const A=C/2-E/2,D=k/2-w[g]/2-1,M=vo(u[m],D),L=vo(u[v],D),O=M,G=k-w[g]-L,F=k/2-w[g]/2+A,W=wh(O,F,G),N=!l.arrow&&gi(o)!=null&&F!==W&&s.reference[g]/2-(F<O?M:L)-w[g]/2<0,j=N?F<O?F-O:F-G:0;return{[y]:h[y]+j,data:{[y]:W,centerOffset:F-W-j,...N&&{alignmentOffset:j}},reset:N}}}),JI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...S}=_r(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Ir(o),v=wo(a),x=Ir(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(x||!w?[Lc(a)]:GI(a)),P=g!=="none";!h&&P&&E.push(...YI(a,w,g,C));const k=[a,...E],A=await Ea(t,S),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&D.push(A[m]),u){const F=HI(o,i,C);D.push(A[F[0]],A[F[1]])}if(M=[...M,{placement:o,overflows:D}],!D.every(F=>F<=0)){var L,O;const F=(((L=s.flip)==null?void 0:L.index)||0)+1,W=k[F];if(W)return{data:{index:F,overflows:M},reset:{placement:W}};let N=(O=M.filter(j=>j.overflows[0]<=0).sort((j,R)=>j.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!N)switch(y){case"bestFit":{var G;const j=(G=M.filter(R=>{if(P){const _=wo(R.placement);return _===v||_==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(_=>_>0).reduce((_,$)=>_+$,0)]).sort((R,_)=>R[1]-_[1])[0])==null?void 0:G[0];j&&(N=j);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Iv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nv(e){return zI.some(t=>e[t]>=0)}const eN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=_r(e,t);switch(r){case"referenceHidden":{const s=await Ea(t,{...o,elementContext:"reference"}),i=Iv(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Nv(i)}}}case"escaped":{const s=await Ea(t,{...o,altBoundary:!0}),i=Iv(s,n.floating);return{data:{escapedOffsets:i,escaped:Nv(i)}}}default:return{}}}}};async function tN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ir(n),a=gi(n),l=wo(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=_r(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof g=="number"&&(y=a==="end"?g*-1:g),l?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const nN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await tN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},rN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:S=>{let{x:m,y:v}=S;return{x:m,y:v}}},...l}=_r(e,t),c={x:n,y:r},d=await Ea(t,l),u=wo(Ir(o)),h=um(u);let y=c[h],g=c[u];if(s){const S=h==="y"?"top":"left",m=h==="y"?"bottom":"right",v=y+d[S],x=y-d[m];y=wh(v,y,x)}if(i){const S=u==="y"?"top":"left",m=u==="y"?"bottom":"right",v=g+d[S],x=g-d[m];g=wh(v,g,x)}const w=a.fn({...t,[h]:y,[u]:g});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:s,[u]:i}}}}}},oN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_r(e,t),d={x:n,y:r},u=wo(o),h=um(u);let y=d[h],g=d[u];const w=_r(a,t),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const x=h==="y"?"height":"width",C=s.reference[h]-s.floating[x]+S.mainAxis,E=s.reference[h]+s.reference[x]-S.mainAxis;y<C?y=C:y>E&&(y=E)}if(c){var m,v;const x=h==="y"?"width":"height",C=["top","left"].includes(Ir(o)),E=s.reference[u]-s.floating[x]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:S.crossAxis),P=s.reference[u]+s.reference[x]+(C?0:((v=i.offset)==null?void 0:v[u])||0)-(C?S.crossAxis:0);g<E?g=E:g>P&&(g=P)}return{[h]:y,[u]:g}}}},sN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=_r(e,t),d=await Ea(t,c),u=Ir(o),h=gi(o),y=wo(o)==="y",{width:g,height:w}=s.floating;let S,m;u==="top"||u==="bottom"?(S=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,S=h==="end"?"top":"bottom");const v=w-d.top-d.bottom,x=g-d.left-d.right,C=vo(w-d[S],v),E=vo(g-d[m],x),P=!t.middlewareData.shift;let k=C,A=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=v),P&&!h){const M=fn(d.left,0),L=fn(d.right,0),O=fn(d.top,0),G=fn(d.bottom,0);y?A=g-2*(M!==0||L!==0?M+L:fn(d.left,d.right)):k=w-2*(O!==0||G!==0?O+G:fn(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const D=await i.getDimensions(a.floating);return g!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function Mu(){return typeof window<"u"}function yi(e){return hC(e)?(e.nodeName||"").toLowerCase():"#document"}function mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mr(e){var t;return(t=(hC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hC(e){return Mu()?e instanceof Node||e instanceof mn(e).Node:!1}function Hn(e){return Mu()?e instanceof Element||e instanceof mn(e).Element:!1}function hr(e){return Mu()?e instanceof HTMLElement||e instanceof mn(e).HTMLElement:!1}function jv(e){return!Mu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mn(e).ShadowRoot}function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function iN(e){return["table","td","th"].includes(yi(e))}function _u(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function hm(e){const t=pm(),n=Hn(e)?Gn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aN(e){let t=xo(e);for(;hr(t)&&!ii(t);){if(hm(t))return t;if(_u(t))return null;t=xo(t)}return null}function pm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ii(e){return["html","body","#document"].includes(yi(e))}function Gn(e){return mn(e).getComputedStyle(e)}function Iu(e){return Hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xo(e){if(yi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jv(e)&&e.host||mr(e);return jv(t)?t.host:t}function pC(e){const t=xo(e);return ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:hr(t)&&Xa(t)?t:pC(t)}function Pa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=pC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=mn(o);if(s){const a=Sh(i);return t.concat(i,i.visualViewport||[],Xa(o)?o:[],a&&n?Pa(a):[])}return t.concat(o,Pa(o,[],n))}function Sh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mC(e){const t=Gn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=hr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=jc(n)!==s||jc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function mm(e){return Hn(e)?e:e.contextElement}function Os(e){const t=mm(e);if(!hr(t))return cr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=mC(t);let i=(s?jc(n.width):n.width)/r,a=(s?jc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const lN=cr(0);function gC(e){const t=mn(e);return!pm()||!t.visualViewport?lN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mn(e)?!1:t}function Zo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=mm(e);let i=cr(1);t&&(r?Hn(r)&&(i=Os(r)):i=Os(e));const a=cN(s,n,r)?gC(s):cr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=mn(s),y=r&&Hn(r)?mn(r):r;let g=h,w=Sh(g);for(;w&&r&&y!==g;){const S=Os(w),m=w.getBoundingClientRect(),v=Gn(w),x=m.left+(w.clientLeft+parseFloat(v.paddingLeft))*S.x,C=m.top+(w.clientTop+parseFloat(v.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,u*=S.y,l+=x,c+=C,g=mn(w),w=Sh(g)}}return Oc({width:d,height:u,x:l,y:c})}function gm(e,t){const n=Iu(e).scrollLeft;return t?t.left+n:Zo(mr(e)).left+n}function yC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:gm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function uN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=mr(r),a=t?_u(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=cr(1);const d=cr(0),u=hr(r);if((u||!u&&!s)&&((yi(r)!=="body"||Xa(i))&&(l=Iu(r)),hr(r))){const y=Zo(r);c=Os(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const h=i&&!u&&!s?yC(i,l,!0):cr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function dN(e){return Array.from(e.getClientRects())}function fN(e){const t=mr(e),n=Iu(e),r=e.ownerDocument.body,o=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+gm(e);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(i+=fn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function hN(e,t){const n=mn(e),r=mr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=pm();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function pN(e,t){const n=Zo(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=hr(e)?Os(e):cr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function Lv(e,t,n){let r;if(t==="viewport")r=hN(e,n);else if(t==="document")r=fN(mr(e));else if(Hn(t))r=pN(t,n);else{const o=gC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oc(r)}function vC(e,t){const n=xo(e);return n===t||!Hn(n)||ii(n)?!1:Gn(n).position==="fixed"||vC(n,t)}function mN(e,t){const n=t.get(e);if(n)return n;let r=Pa(e,[],!1).filter(a=>Hn(a)&&yi(a)!=="body"),o=null;const s=Gn(e).position==="fixed";let i=s?xo(e):e;for(;Hn(i)&&!ii(i);){const a=Gn(i),l=hm(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Xa(i)&&!l&&vC(e,i))?r=r.filter(d=>d!==i):o=a,i=xo(i)}return t.set(e,r),r}function gN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?_u(t)?[]:mN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=Lv(t,d,o);return c.top=fn(u.top,c.top),c.right=vo(u.right,c.right),c.bottom=vo(u.bottom,c.bottom),c.left=fn(u.left,c.left),c},Lv(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yN(e){const{width:t,height:n}=mC(e);return{width:t,height:n}}function vN(e,t,n){const r=hr(t),o=mr(t),s=n==="fixed",i=Zo(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=cr(0);if(r||!r&&!s)if((yi(t)!=="body"||Xa(o))&&(a=Iu(t)),r){const h=Zo(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=gm(o));const c=o&&!r&&!s?yC(o,a):cr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function Od(e){return Gn(e).position==="static"}function Ov(e,t){if(!hr(e)||Gn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mr(e)===n&&(n=n.ownerDocument.body),n}function wC(e,t){const n=mn(e);if(_u(e))return n;if(!hr(e)){let o=xo(e);for(;o&&!ii(o);){if(Hn(o)&&!Od(o))return o;o=xo(o)}return n}let r=Ov(e,t);for(;r&&iN(r)&&Od(r);)r=Ov(r,t);return r&&ii(r)&&Od(r)&&!hm(r)?n:r||aN(e)||n}const wN=async function(e){const t=this.getOffsetParent||wC,n=this.getDimensions,r=await n(e.floating);return{reference:vN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xN(e){return Gn(e).direction==="rtl"}const SN={convertOffsetParentRelativeRectToViewportRelativeRect:uN,getDocumentElement:mr,getClippingRect:gN,getOffsetParent:wC,getElementRects:wN,getClientRects:dN,getDimensions:yN,getScale:Os,isElement:Hn,isRTL:xN};function xC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bN(e,t){let n=null,r;const o=mr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:y}=c;if(a||t(),!h||!y)return;const g=kl(u),w=kl(o.clientWidth-(d+h)),S=kl(o.clientHeight-(u+y)),m=kl(d),x={rootMargin:-g+"px "+-w+"px "+-S+"px "+-m+"px",threshold:fn(0,vo(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!xC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return i(!0),s}function CN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=mm(e),d=o||s?[...c?Pa(c):[],...Pa(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?bN(c,n):null;let h=-1,y=null;i&&(y=new ResizeObserver(m=>{let[v]=m;v&&v.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let g,w=l?Zo(e):null;l&&S();function S(){const m=Zo(e);w&&!xC(w,m)&&n(),w=m,g=requestAnimationFrame(S)}return n(),()=>{var m;d.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),u==null||u(),(m=y)==null||m.disconnect(),y=null,l&&cancelAnimationFrame(g)}}const EN=nN,PN=rN,TN=JI,kN=sN,AN=eN,Fv=ZI,DN=oN,RN=(e,t,n)=>{const r=new Map,o={platform:SN,...n},s={...o.platform,_c:r};return QI(e,t,{...o,platform:s})};var nc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Fc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Fc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Fc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function SC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $v(e,t){const n=SC(e);return Math.round(t*n)/n}function Fd(e){const t=f.useRef(e);return nc(()=>{t.current=e}),t}function MN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=f.useState(r);Fc(h,r)||y(r);const[g,w]=f.useState(null),[S,m]=f.useState(null),v=f.useCallback(R=>{R!==P.current&&(P.current=R,w(R))},[]),x=f.useCallback(R=>{R!==k.current&&(k.current=R,m(R))},[]),C=s||g,E=i||S,P=f.useRef(null),k=f.useRef(null),A=f.useRef(d),D=l!=null,M=Fd(l),L=Fd(o),O=Fd(c),G=f.useCallback(()=>{if(!P.current||!k.current)return;const R={placement:t,strategy:n,middleware:h};L.current&&(R.platform=L.current),RN(P.current,k.current,R).then(_=>{const $={..._,isPositioned:O.current!==!1};F.current&&!Fc(A.current,$)&&(A.current=$,Wa.flushSync(()=>{u($)}))})},[h,t,n,L,O]);nc(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const F=f.useRef(!1);nc(()=>(F.current=!0,()=>{F.current=!1}),[]),nc(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(M.current)return M.current(C,E,G);G()}},[C,E,G,M,D]);const W=f.useMemo(()=>({reference:P,floating:k,setReference:v,setFloating:x}),[v,x]),N=f.useMemo(()=>({reference:C,floating:E}),[C,E]),j=f.useMemo(()=>{const R={position:n,left:0,top:0};if(!N.floating)return R;const _=$v(N.floating,d.x),$=$v(N.floating,d.y);return a?{...R,transform:"translate("+_+"px, "+$+"px)",...SC(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:$}},[n,a,N.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:G,refs:W,elements:N,floatingStyles:j}),[d,G,W,N,j])}const _N=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Fv({element:r.current,padding:o}).fn(n):{}:r?Fv({element:r,padding:o}).fn(n):{}}}},IN=(e,t)=>({...EN(e),options:[e,t]}),NN=(e,t)=>({...PN(e),options:[e,t]}),jN=(e,t)=>({...DN(e),options:[e,t]}),LN=(e,t)=>({...TN(e),options:[e,t]}),ON=(e,t)=>({...kN(e),options:[e,t]}),FN=(e,t)=>({...AN(e),options:[e,t]}),$N=(e,t)=>({..._N(e),options:[e,t]});var VN="Arrow",bC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(pe.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});bC.displayName=VN;var UN=bC;function ym(e){const[t,n]=f.useState(void 0);return _n(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vm="Popper",[CC,Nu]=ln(vm),[BN,EC]=CC(vm),PC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(BN,{scope:t,anchor:r,onAnchorChange:o,children:n})};PC.displayName=vm;var TC="PopperAnchor",kC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=EC(TC,n),i=f.useRef(null),a=Me(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(pe.div,{...o,ref:a})});kC.displayName=TC;var wm="PopperContent",[zN,qN]=CC(wm),AC=f.forwardRef((e,t)=>{var Se,ke,_e,He,de,X;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:g,...w}=e,S=EC(wm,n),[m,v]=f.useState(null),x=Me(t,he=>v(he)),[C,E]=f.useState(null),P=ym(C),k=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],O=L.length>0,G={padding:M,boundary:L.filter(HN),altBoundary:O},{refs:F,floatingStyles:W,placement:N,isPositioned:j,middlewareData:R}=MN({strategy:"fixed",placement:D,whileElementsMounted:(...he)=>CN(...he,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[IN({mainAxis:o+A,alignmentAxis:i}),l&&NN({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?jN():void 0,...G}),l&&LN({...G}),ON({...G,apply:({elements:he,rects:be,availableWidth:rt,availableHeight:mt})=>{const{width:gt,height:St}=be.reference,ot=he.floating.style;ot.setProperty("--radix-popper-available-width",`${rt}px`),ot.setProperty("--radix-popper-available-height",`${mt}px`),ot.setProperty("--radix-popper-anchor-width",`${gt}px`),ot.setProperty("--radix-popper-anchor-height",`${St}px`)}}),C&&$N({element:C,padding:a}),GN({arrowWidth:k,arrowHeight:A}),h&&FN({strategy:"referenceHidden",...G})]}),[_,$]=MC(N),H=it(g);_n(()=>{j&&(H==null||H())},[j,H]);const Y=(Se=R.arrow)==null?void 0:Se.x,se=(ke=R.arrow)==null?void 0:ke.y,ae=((_e=R.arrow)==null?void 0:_e.centerOffset)!==0,[we,Te]=f.useState();return _n(()=>{m&&Te(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:j?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(He=R.transformOrigin)==null?void 0:He.x,(de=R.transformOrigin)==null?void 0:de.y].join(" "),...((X=R.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(zN,{scope:n,placedSide:_,onArrowChange:E,arrowX:Y,arrowY:se,shouldHideArrow:ae,children:p.jsx(pe.div,{"data-side":_,"data-align":$,...w,ref:x,style:{...w.style,animation:j?void 0:"none"}})})})});AC.displayName=wm;var DC="PopperArrow",WN={top:"bottom",right:"left",bottom:"top",left:"right"},RC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=qN(DC,r),i=WN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(UN,{...o,ref:n,style:{...o.style,display:"block"}})})});RC.displayName=DC;function HN(e){return e!==null}var GN=e=>({name:"transformOrigin",options:e,fn(t){var S,m,v;const{placement:n,rects:r,middlewareData:o}=t,i=((S=o.arrow)==null?void 0:S.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=MC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,y=(((v=o.arrow)==null?void 0:v.y)??0)+l/2;let g="",w="";return c==="bottom"?(g=i?u:`${h}px`,w=`${-l}px`):c==="top"?(g=i?u:`${h}px`,w=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,w=i?u:`${y}px`):c==="left"&&(g=`${r.floating.width+l}px`,w=i?u:`${y}px`),{data:{x:g,y:w}}}});function MC(e){const[t,n="center"]=e.split("-");return[t,n]}var _C=PC,IC=kC,NC=AC,jC=RC,[ju,Kz]=ln("Tooltip",[Nu]),Lu=Nu(),LC="TooltipProvider",KN=700,bh="tooltip.open",[YN,xm]=ju(LC),OC=e=>{const{__scopeTooltip:t,delayDuration:n=KN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(YN,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};OC.displayName=LC;var Ou="Tooltip",[XN,Fu]=ju(Ou),FC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=xm(Ou,e.__scopeTooltip),c=Lu(t),[d,u]=f.useState(null),h=qo(),y=f.useRef(0),g=i??l.disableHoverableContent,w=a??l.delayDuration,S=f.useRef(!1),[m=!1,v]=pr({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(bh))):l.onClose(),s==null||s(k)}}),x=f.useMemo(()=>m?S.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,v(!0)},[v]),E=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v(!1)},[v]),P=f.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,v(!0),y.current=0},w)},[w,v]);return f.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),p.jsx(_C,{...c,children:p.jsx(XN,{scope:t,contentId:h,open:m,stateAttribute:x,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{g?E():(window.clearTimeout(y.current),y.current=0)},[E,g]),onOpen:C,onClose:E,disableHoverableContent:g,children:n})})};FC.displayName=Ou;var Ch="TooltipTrigger",$C=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Fu(Ch,n),s=xm(Ch,n),i=Lu(n),a=f.useRef(null),l=Me(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(IC,{asChild:!0,...i,children:p.jsx(pe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Z(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:Z(e.onBlur,o.onClose),onClick:Z(e.onClick,o.onClose)})})});$C.displayName=Ch;var QN="TooltipPortal",[Yz,ZN]=ju(QN,{forceMount:void 0}),ai="TooltipContent",VC=f.forwardRef((e,t)=>{const n=ZN(ai,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Fu(ai,e.__scopeTooltip);return p.jsx(cn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(UC,{side:o,...s,ref:t}):p.jsx(JN,{side:o,...s,ref:t})})}),JN=f.forwardRef((e,t)=>{const n=Fu(ai,e.__scopeTooltip),r=xm(ai,e.__scopeTooltip),o=f.useRef(null),s=Me(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),y=f.useCallback((g,w)=>{const S=g.currentTarget,m={x:g.clientX,y:g.clientY},v=oj(m,S.getBoundingClientRect()),x=sj(m,v),C=ij(w.getBoundingClientRect()),E=lj([...x,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const g=S=>y(S,d),w=S=>y(S,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",w)}}},[l,d,y,h]),f.useEffect(()=>{if(i){const g=w=>{const S=w.target,m={x:w.clientX,y:w.clientY},v=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),x=!aj(m,i);v?h():x&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,i,c,h]),p.jsx(UC,{...e,ref:s})}),[ej,tj]=ju(Ou,{isInside:!1}),nj=bb("TooltipContent"),UC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Fu(ai,n),c=Lu(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(bh,d),()=>document.removeEventListener(bh,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Ka,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(NC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(nj,{children:r}),p.jsx(ej,{scope:n,isInside:!0,children:p.jsx(p_,{id:l.contentId,role:"tooltip",children:o||r})})]})})});VC.displayName=ai;var BC="TooltipArrow",rj=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Lu(n);return tj(BC,n).isInside?null:p.jsx(jC,{...o,...r,ref:t})});rj.displayName=BC;function oj(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sj(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ij(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function aj(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function lj(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cj(t)}function cj(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var uj=OC,dj=FC,fj=$C,zC=VC;const qC=uj,hj=dj,pj=fj,WC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(zC,{ref:r,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));WC.displayName=zC.displayName;const Sm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Sm.displayName="Card";const mj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));mj.displayName="CardHeader";const gj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Q("text-2xl font-semibold leading-none tracking-tight",e),...t}));gj.displayName="CardTitle";const yj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));yj.displayName="CardDescription";const bm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Q("p-6 pt-0",e),...t}));bm.displayName="CardContent";const vj=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Q("flex items-center p-6 pt-0",e),...t}));vj.displayName="CardFooter";function wj(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Sm,{className:"w-full max-w-md mx-4",children:p.jsxs(bm,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(Qb,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Cm=Ya("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ze=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?GM:"button";return p.jsx(i,{className:Q(Cm({variant:t,size:n,className:e})),ref:s,...o})});ze.displayName="Button";const b={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...e)},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...e)},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...e)}};var HC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new o(d,u||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],y]:l._events[g].push(y):(l._events[g]=y,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,y=u.length,g=new Array(y);h<y;h++)g[h]=u[h].fn;return g},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,y,g){var w=n?n+c:c;if(!this._events[w])return!1;var S=this._events[w],m=arguments.length,v,x;if(S.fn){switch(S.once&&this.removeListener(c,S.fn,void 0,!0),m){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,u),!0;case 4:return S.fn.call(S.context,d,u,h),!0;case 5:return S.fn.call(S.context,d,u,h,y),!0;case 6:return S.fn.call(S.context,d,u,h,y,g),!0}for(x=1,v=new Array(m-1);x<m;x++)v[x-1]=arguments[x];S.fn.apply(S.context,v)}else{var C=S.length,E;for(x=0;x<C;x++)switch(S[x].once&&this.removeListener(c,S[x].fn,void 0,!0),m){case 1:S[x].fn.call(S[x].context);break;case 2:S[x].fn.call(S[x].context,d);break;case 3:S[x].fn.call(S[x].context,d,u);break;case 4:S[x].fn.call(S[x].context,d,u,h);break;default:if(!v)for(E=1,v=new Array(m-1);E<m;E++)v[E-1]=arguments[E];S[x].fn.apply(S[x].context,v)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return i(this,y),this;var g=this._events[y];if(g.fn)g.fn===d&&(!h||g.once)&&(!u||g.context===u)&&i(this,y);else{for(var w=0,S=[],m=g.length;w<m;w++)(g[w].fn!==d||h&&!g[w].once||u&&g[w].context!==u)&&S.push(g[w]);S.length?this._events[y]=S.length===1?S[0]:S:i(this,y)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(HC);var xj=HC.exports;const Sj=op(xj),bj="401z949o3txi3r0",Al="/Photos",Fs="/Metadata",Cj="images.json";function GC(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const KC=Fs.startsWith("/")?Fs.replace("//","/"):`/${Fs}`.replace("//","/"),YC=`${KC}/${Cj}`.replace("//","/");function XC(e,t){const n=GC(e,t);return`${KC}/${n}`.replace("//","/")}function Nr(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function QC(e){var t;if(Nr(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function ZC(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function Ej(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function JC(e,t,n){let r=null;try{b.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return b.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return b.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return b.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(b.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){b.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return b.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(QC(o))return b.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw Nr(o)?b.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):b.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function e1(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(b.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});b.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),b.log(`${t} saved successfully.`)}catch(o){throw Nr(o)?b.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):b.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function $c(e,t,n){const r=XC(t,n);return b.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),JC(e,r,["createdAt","updatedAt"])}async function Pj(e){return JC(e,YC,["createdAt"])}async function Dl(e,t,n,r){const o=XC(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){b.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),b.log(`Deleted empty entries file: ${o}`)}catch(i){Nr(i)&&ZC(i.error,"not_found")?b.log(`Empty entries file ${o} does not exist. No deletion needed.`):Nr(i)?b.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):b.error(`Non-API Error deleting ${o}:`,i)}return}await e1(e,o,s,["createdAt","updatedAt"])}async function Eh(e,t){await e1(e,YC,t,["createdAt"])}async function Tj(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");b.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return b.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw b.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw Nr(i)?b.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):b.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function kj(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return b.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),b.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return Nr(l)&&(ZC(l.error,"not_found")||Ej(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(b.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):(Nr(l)?b.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):b.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function Aj(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function Dj(e){try{const t=await crypto.subtle.digest("SHA-256",e);return Aj(t)}catch(t){throw b.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function Rj(e){try{const t=await e.arrayBuffer();return Dj(t)}catch(t){throw b.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const Rl="PhojoCacheDB",Vv=3,nn="entries",ur="imageMetadata",$s="photoBlobs",sr="cacheStatus",Wo="saveQueue";let Sn=null;function t1(){return new Promise((e,t)=>{if(Sn&&Sn.objectStoreNames.length>0){e(Sn);return}b.log(`[IDB] Opening database ${Rl} version ${Vv}...`);const n=indexedDB.open(Rl,Vv);n.onerror=r=>{var o;b.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{b.log(`[IDB] Database ${Rl} opened successfully.`),Sn=n.result,Sn.onclose=()=>{b.warn("[IDB] Database connection closed unexpectedly."),Sn=null},Sn.onversionchange=()=>{b.warn("[IDB] Database version change detected. Closing connection."),Sn==null||Sn.close(),Sn=null},e(Sn)},n.onupgradeneeded=r=>{b.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){b.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(Rl);a.onsuccess=()=>{b.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{b.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{b.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(nn))o.createObjectStore(nn).createIndex("byDate","date",{unique:!1}),b.log(`[IDB] Object store created: ${nn} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(nn);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),b.log(`[IDB] Added 'byDate' index to ${nn} store`))}if(o.objectStoreNames.contains(ur)||(o.createObjectStore(ur),b.log(`[IDB] Object store created: ${ur}`)),o.objectStoreNames.contains($s)||(o.createObjectStore($s),b.log(`[IDB] Object store created: ${$s}`)),!o.objectStoreNames.contains(sr))o.createObjectStore(sr).createIndex("lastAccessed","lastAccessed",{unique:!1}),b.log(`[IDB] Object store created: ${sr} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(sr);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),b.log(`[IDB] Re-created 'lastAccessed' index on ${sr}`))}o.objectStoreNames.contains(Wo)||(o.createObjectStore(Wo),b.log(`[IDB] Object store created: ${Wo}`)),b.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{b.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Kn(e,t,n){const r=await t1();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{b.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{b.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{b.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){b.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function ho(e,t,n){await Kn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),b.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function n1(e,t){return Kn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function rr(e,t){await Kn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),b.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function Mj(e){await Kn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),b.log(`[IDB] Store '${e}' cleared successfully.`)}async function _j(e){return Kn(sr,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{b.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){b.error("[IDB] Error setting up index query:",o),r(o)}}))}async function Vc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Kn(nn,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const y=h.map(g=>({...g,createdAt:g.createdAt instanceof Date?g.createdAt:new Date(g.createdAt||0),updatedAt:g.updatedAt instanceof Date?g.updatedAt:new Date(g.updatedAt||0)}));a(y)}else a(void 0)},u.onerror=()=>{b.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){b.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function Ij(e){return Kn(nn,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{b.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(b.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){b.error("[IDB] Error caching entries:",o),r(o)}}))}async function $d(){return Kn(ur,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{b.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function Nj(){return Kn(nn,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{b.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function jj(e){return Kn(ur,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{b.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(b.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){b.error("[IDB] Error caching metadata:",o),r(o)}}))}async function Lj(e){return e?rr(ur,e):Mj(ur)}async function Br(e){return n1($s,e)}async function ko(e,t,n){const r=Date.now();await ho($s,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await ho(sr,e,{lastAccessed:r,size:t.size,type:n})}async function Es(e){await Promise.all([rr($s,e),rr(sr,e)])}async function Ml(e){const t=await n1(sr,e);if(!t){b.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await ho(sr,e,t)}async function Ii(e){b.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await ho(Wo,e.actionId,e)}async function r1(){return b.log("[IDB] Getting all items from save queue"),Kn(Wo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter($j))??[];b.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{b.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function Ph(e){b.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await ho(Wo,e.actionId,e)}async function Oj(e){b.log(`[IDB] Removing action from save queue. ID: ${e}`),await rr(Wo,e)}async function Fj(){const e=await r1();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await Ph(r),t++}t>0&&b.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function Ta(){return(await r1()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function $j(e){var r;if(typeof e!="object"||e===null)return b.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return b.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return b.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return b.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return b.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return b.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return b.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return b.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return b.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return b.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return b.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}t1().catch(e=>b.error("[IDB] Initial DB open failed:",e));let Vd=!1;const Uv=5e4;async function o1(e,t,n,r){if(!t||!e){b.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await s1(e,t,n,r);const o=await Ta();o.length>0&&(b.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await o1(e,t,n,r))}function Bv(e,t){if(!t||!e){b.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}o1(e,t).catch(n=>{b.error("[SyncService] Background sync process error:",n)}),b.log("[SyncService] Background sync process started")}async function s1(e,t,n,r){if(Vd){b.log("[SyncService] processSaveQueue already in progress, skipping");return}Vd=!0;try{if(!t||!e){b.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await Ta();if(o.length===0){b.log("[SyncService] No pending actions in queue");return}b.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await Ph(i),s.entity==="entry"?await Vj(e,s):s.entity==="photoMetadata"?await Uj(e,s):s.entity==="photoUpload"?await Bj(e,s):jI(s),await Oj(s.actionId),b.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=Uv?"failed":"pending",c={...s,retryCount:a,status:l};await Ph(c),b.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(b.error(`[SyncService] Action ${s.actionId} failed after ${Uv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{Vd=!1}}async function Vj(e,t){const{type:n,payload:r}=t,o=new Em(e),{year:s,month:i}=r,a=await $c(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(y=>!d.photos.some(g=>g.id===y.id))){const y=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(y)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(y=>y.id!==d);await Dl(e,s,i,u);const h=l.find(y=>y.id===d);if(h&&h.photos&&h.photos.length>0){b.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const y=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(y)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,y=await $c(e,d,u),g=o.parseEntryDates(y),w=g.filter(x=>x.id!==x.id),m=[...l.filter(x=>x.id!==x.id),h];await Dl(e,d,u,w),await Dl(e,s,i,m);const v=g.find(x=>x.id===h.id);await c(h,v)}else{const{entry:d}=r,u=l.find(g=>g.id===d.id),y=[...l.filter(g=>g.id!==d.id),d];y.sort((g,w)=>{const S=new Date(g.date).getTime(),m=new Date(w.date).getTime();return S!==m?S-m:g.createdAt.getTime()-w.createdAt.getTime()}),await Dl(e,s,i,y),await c(d,u)}}async function Uj(e,t){const{type:n,payload:r}=t,s=await new Em(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await Eh(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await Eh(e,c)}}async function Bj(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Br(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await Tj(e,s,a,o)}const i1=.8,zj=.7,qj=10;async function Th(){try{if(!navigator.storage||!navigator.storage.estimate)return b.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return b.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return b.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return b.error("[StorageMgr] Error getting storage estimate:",e),null}}async function zv(e,t=!0){try{const n=await _j(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return b.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function Uc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await zv(e);return o.length>0?(b.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>Es(s))),o.length):0}const r=await Th();if(!r||r.usagePercentage<i1)return b.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await zv(qj);if(o.length===0){b.log("[StorageMgr] No more blobs to prune");break}b.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>Es(i))),t+=o.length;const s=await Th();!s||s.usagePercentage<=zj?(b.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(b.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return b.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return b.error("[StorageMgr] Error during pruning:",t),0}}async function Ud(){try{const e=await Th();if(!e)return;if(e.usagePercentage>=i1){b.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await Uc();b.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){b.error("[StorageMgr] Error in automatic pruning check:",e)}}async function Bd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(b.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){b.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class ro{constructor(){this.urlMap=new Map}static getInstance(){return ro.instance||(ro.instance=new ro),ro.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),b.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){b.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){b.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){b.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){b.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}var kh=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(kh||{});const zd=30*60*1e3,Ni=Fs.startsWith("/")?Fs.replace("//","/"):`/${Fs}`.replace("//","/"),qv=e=>e.isNew===!0;class Em{constructor(t){this.blobUrlManager=ro.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new Sj,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache(Ni)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache(Ni),b.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),b.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<zd?(b.log(`[MemCache] Hit folder list for ${t}`),n.data):(b.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),b.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){b.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(b.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(b.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;b.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),b.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(QC(r))return b.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw Nr(r)?b.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):b.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){b.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(Ni)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return b.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return b.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);b.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await Vc(t,n),i=s&&s.length>0;i?b.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):b.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<zd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{b.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){b.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await Vc(t,n);if(i&&i.length>0)return b.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){b.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);b.log(`[Background Sync] Starting background sync for ${o}`);try{const s=GC(t,n),a=(await this.listFolder(Ni)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)b.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await $c(this.dbx,t,n);l=this.parseEntryDates(c),b.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(y=>y.id)),u=r.filter(y=>!d.has(y.id));if(u.length>0){b.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const y=await Ta();for(const g of u)y.some(S=>S.entity==="entry"&&S.type!=="delete"&&S.payload.entry.id===g.id)?b.log(`[Background Sync] Not deleting entry ${g.id} - has pending changes`):(b.log(`[Background Sync] Deleting orphaned entry ${g.id} from local cache`),await rr(nn,g.id))}const h=[...l].sort((y,g)=>new Date(y.date).getTime()-new Date(g.date).getTime()||y.createdAt.getTime()-g.createdAt.getTime());b.log(`[Background Sync] Storing ${h.length} entries in local cache`),await Ij(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(b.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),b.log(`[Background Sync] Completed for ${o}`)}catch(s){throw b.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");b.log("[Background Sync] Starting metadata background sync");try{b.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await Pj(this.dbx),r=this.parseMetadataDates(n);b.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){b.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await Ta();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?b.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(b.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await rr(ur,a.id))}b.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await jj(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(b.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),b.log("[Background Sync] Metadata sync completed")}catch(n){throw b.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){b.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await $d(),r=n&&n.length>0;r?b.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):b.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<zd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{b.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){b.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await $d();if(r&&r.length>0)return b.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){b.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return b.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return Ml(o).catch(a=>b.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Br(o);if(a)return b.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await Ml(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Br(t);if(l){b.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await Bd(l.blob);return b.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await ko(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return b.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){b.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return b.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Br(t);if(a){b.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await Bd(a.blob);return b.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await ko(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return b.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return b.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return b.log(`[Memory] Found cached URL for hash ${t}`),Ml(t).catch(s=>b.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Br(t);if(s)return b.log(`[Cache] Found blob in IDB for hash ${t}.`),await Ml(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){b.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return b.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return b.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;b.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var y;return((y=h.photoMetadata)==null?void 0:y.contentHash)===t});if(!(i!=null&&i.photoFilename))return b.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Al}/${a}`.replace("//","/");b.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return b.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;b.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await ko(t,d,"full"),this.generateThumbnailInBackground(t,d),b.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){b.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await Uc(10),await ko(t,d,"full"),this.generateThumbnailInBackground(t,d),b.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(y){b.error(`[Cache] Failed to prune and retry caching for ${t}:`,y)}}else b.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return b.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,k,A;if(b.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(D=>D.photoId))??[]),c=[];i&&l.forEach(D=>{t.photos.some(L=>!qv(L)&&L.photoId===D)||b.log(`[Save] Photo ${D} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let y=null,g=null;if(n){const D=new Date(n.date+"T00:00:00Z");y=D.getUTCFullYear(),g=D.getUTCMonth()+1}const w=i&&(u!==y||h!==g);for(const D of t.photos){let M=null,L,O=null,G=!1;if(qv(D)){const F=D.file;L=D.crop,O=await Rj(F);const W=o.find(N=>{var j;return((j=N.photoMetadata)==null?void 0:j.contentHash)===O});if(W)M=W.id,b.log(`[Save] Hash collision for ${F.name}. Using existing ID: ${M}`),l.has(M)||(G=!0),await Br(O)||c.push({hash:O,blob:F});else{b.log(`[Save] Uploading new photo: ${F.name}`);const N=Date.now(),j=crypto.randomUUID().substring(0,8),R=F.name.replace(/[^a-zA-Z0-9.]/g,"_"),_=`${N}_${j}_${R}`,$={id:crypto.randomUUID(),photoFilename:_,photoMetadata:{filename:F.name,mimeType:F.type,width:(E=D.originalDimensions)==null?void 0:E.width,height:(P=D.originalDimensions)==null?void 0:P.height,exifDate:((k=D.exifData)==null?void 0:k.exifDate)??null,contentHash:O},createdAt:new Date},H=crypto.randomUUID(),Y={actionId:H,type:"create",entity:"photoUpload",payload:{contentHash:O,photoFilename:_,folder:Al},timestamp:Date.now(),retryCount:0,status:"pending"};await Ii(Y),b.log(`[Save] Photo upload added to sync queue. ActionId: ${H}, Hash: ${O}`),M=$.id,o.push($),a.push($),await ho(ur,$.id,$),G=!0,c.push({hash:O,blob:F}),b.log(`[Save] New photo uploaded. ID: ${M}, Hash: ${O}`)}}else{M=D.photoId,L=D.crop;const F=o.find(W=>W.id===M);O=((A=F==null?void 0:F.photoMetadata)==null?void 0:A.contentHash)??null,(!i||!l.has(M))&&(G=!0),O&&(await Br(O)||b.warn(`[Save] Existing photo blob missing from cache for hash: ${O} (ID: ${M})`)),b.log(`[Save] Keeping existing photo ID: ${M}. Is addition? ${G}. Hash: ${O}`)}M&&s.push({photoId:M,crop:L})}for(const{hash:D,blob:M}of c)await ko(D,M,"full");const S=t.date.toISOString().split("T")[0],m=new Date;let v;if(n?v={...n,date:S,content:t.content,photos:s,updatedAt:m}:v={id:crypto.randomUUID(),date:S,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),w&&y!==null&&g!==null){b.log(`[Save] Deleting entry ${v.id} from local database due to date change`),await rr(nn,v.id),b.log(`[Save] Adding entry ${v.id} to local database due to date change`),await ho(nn,v.id,v);const D=crypto.randomUUID(),M={actionId:D,type:"update",entity:"entry",payload:{entry:v,year:y,month:g,isDateChange:!0,oldYear:y,oldMonth:g},timestamp:Date.now(),retryCount:0,status:"pending"};await Ii(M),b.log(`[Save] Date change original month update added to sync queue. ActionId: ${D}`)}else{b.log(`[Save] Saving entry ${v.id} to local database`),await ho(nn,v.id,v);const D=crypto.randomUUID(),M={actionId:D,type:n?"update":"create",entity:"entry",payload:{entry:v,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Ii(M),b.log(`[Save] Entry save added to sync queue. ActionId: ${D}, ID: ${v.id}`)}b.log(`[Save] Queueing metadata update with ${a.length} entries`);const x=crypto.randomUUID(),C={actionId:x,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Ii(C),b.log(`[Save] Metadata update added to sync queue. ActionId: ${x}`),r&&this.dbx&&(b.log("[Save] Online mode - triggering immediate processing of save queue in background"),Bv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Br(r)){b.log(`[Background] Thumbnail already exists for hash ${t}.`);return}b.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await Bd(n);b.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await ko(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){b.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await Uc(10),await ko(r,s,"thumb"),b.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){b.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else b.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){b.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){b.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}b.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){b.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await $c(this.dbx,a,l);b.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){b.error(`[Cleanup] Error processing entries file ${s}:`,i)}b.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){b.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(b.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var y;if(h.photoFilename)try{if(b.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await kj(this.dbx,h.photoFilename,Al)){b.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const w=(y=h.photoMetadata)==null?void 0:y.contentHash;w&&(await Es(w),await Es(`${w}-thumb`),this.blobUrlManager.revokeUrl(w),this.blobUrlManager.revokeUrl(`${w}-thumb`))}}catch(g){b.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,g)}else b.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),b.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}b.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await Eh(this.dbx,l);for(const c of o)Lj(c.id)}else b.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(b.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){b.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?b.log("[Deletion Sync] Photo deletions sync completed successfully"):b.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?b.log("[Deletion Sync] Entry deletions sync completed successfully"):b.error("[Deletion Sync] Entry deletions sync failed:",n.reason),b.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){b.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(b.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Al)).filter(i=>i[".tag"]==="file").map(i=>i.name);b.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await $d();if(!r||r.length===0){b.log("[Deletion Sync] No local metadata to check");return}b.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){b.log("[Deletion Sync] No orphaned photo metadata found");return}b.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)b.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await rr(ur,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await Es(i.photoMetadata.contentHash),await Es(`${i.photoMetadata.contentHash}-thumb`));b.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(b.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Ni)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);b.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await Nj();if(!r||r.length===0){b.log("[Deletion Sync] No local entries to check");return}b.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(b.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>rr(nn,l.id))))}b.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){b.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){b.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}b.log(`[Delete] Deleting entry ${t} from local database`),await rr(nn,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Ii(l),b.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(b.log("[Delete] Online mode - triggering immediate processing of save queue in background"),Bv(this.dbx,o)),b.log("[Delete] deleteEntry operation completed.")}catch(s){throw b.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){b.log("[Prefetch] Skipping prefetch while offline.");return}b.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){b.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>b.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){b.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>b.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var Wj="rpc",Hj="upload",Gj="download",qd="app",Wd="user",Hd="team",Kj="noauth",Yj="cookie",Bc="dropboxapi.com",Wv="dropbox.com",Ah={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function Xj(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Gd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Bc&&Ah[t]!==void 0&&(t=Ah[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},Qj=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wv;return t!==Wv&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Hv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Bc&&(r=Ah[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function Gv(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,Xj)}function Zj(e){return new Date(Date.now()+e*1e3)}function Kv(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof lA>"u"||typeof window<"u"}function Kd(){return typeof window<"u"}function Yd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function _l(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function rc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rc=function(n){return typeof n}:rc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rc(e)}function Jj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}function t2(e){var t=a1();return function(){var r=Aa(e),o;if(t){var s=Aa(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return n2(this,o)}}function n2(e,t){return t&&(rc(t)==="object"||typeof t=="function")?t:r2(e)}function r2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dh(e){var t=typeof Map=="function"?new Map:void 0;return Dh=function(r){if(r===null||!o2(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return oc(r,arguments,Aa(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ka(o,r)},Dh(e)}function oc(e,t,n){return a1()?oc=Reflect.construct:oc=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&ka(c,i.prototype),c},oc.apply(null,arguments)}function a1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function o2(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ka(e,t){return ka=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},ka(e,t)}function Aa(e){return Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Aa(e)}var s2=function(e){e2(n,e);var t=t2(n);function n(r,o,s){var i;return Jj(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(Dh(Error));function i2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l1=function e(t,n,r){i2(this,e),this.status=t,this.headers=n,this.result=r};function c1(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new s2(e.status,e.headers,n)})}function zc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new l1(e.status,e.headers,n)}):c1(e)}function a2(e){return e.ok?new Promise(function(t){Kv()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Kv()?n.fileBlob=t:n.fileBinary=t,new l1(e.status,e.headers,n)}):c1(e)}function l2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u2(e,t,n){return t&&c2(e.prototype,t),e}var Il,Ao,Xd,d2=300*1e3,Yv=128,f2=["legacy","offline","online"],h2=["code","token"],p2=["none","user","team"],u1=function(){function e(t){l2(this,e),t=t||{},Kd()?(Il=window.fetch.bind(window),Ao=window.crypto||window.msCrypto):Yd()?(Il=self.fetch.bind(self),Ao=self.crypto):(Il=require("node-fetch"),Ao=require("crypto")),typeof TextEncoder>"u"?Xd=require("util").TextEncoder:Xd=TextEncoder,this.fetch=t.fetch||Il,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return u2(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new Xd,o=r.encode(this.codeVerifier),s;if(Kd()||Yd())return Ao.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=_l(l).substr(0,128),n.codeChallenge=s});var i=Ao.createHash("sha256").update(o).digest();return s=_l(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Kd()||Yd()){var r=new Uint8Array(Yv),o=Ao.getRandomValues(r),s=btoa(o);n=_l(s).substr(0,128)}else{var i=Ao.randomBytes(Yv);n=_l(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=Qj(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!h2.includes(s))throw new Error("Authorization type must be code or token");if(i&&!f2.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!p2.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Hv(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return zc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+d2)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Hv(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return zc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(Zj(c.result.expires_in))})}}]),e}();function m2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y2(e,t,n){return t&&g2(e.prototype,t),e}var v2=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,Xv=function(){function e(t){m2(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new u1(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return y2(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case Wj:return this.rpcRequest(n,r,o,s);case Gj:return this.downloadRequest(n,r,o,s);case Hj:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Gd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return zc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":Gv(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Gd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return a2(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Gv(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Gd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return zc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Wd)&&this.auth.getAccessToken()?n=Wd:o.includes(Hd)&&this.auth.getAccessToken()?n=Hd:o.includes(qd)&&(n=qd)}switch(n){case qd:if(this.auth.clientId&&this.auth.clientSecret){var s=v2("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Hd:case Wd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case Kj:case Yj:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function w2(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function x2(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{b.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const S=new u1({clientId:bj}),m=window.location.origin+window.location.pathname;S.getAuthenticationUrl(m,void 0,"token").then(v=>{b.log("Generated auth URL, redirecting..."),window.location.href=String(v)}).catch(v=>{b.error("Dropbox auth URL generation failed:",v),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(S){b.error("Dropbox auth initialization failed:",S),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{b.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const y=f.useCallback((S,m=!1)=>{b.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(b.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(b.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const v=new Xv({accessToken:S});let x=!0;return v.usersGetCurrentAccount().then(C=>{if(!x)return;const E=C.result;t(v),r(!0),u(E),c(null),b.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(x)if(b.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),w2(C))b.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{b.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{x&&(b.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{x=!1}},[n]);f.useEffect(()=>{b.log("[useDropboxAuth useEffect] Running effect.");let S,v=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const x=localStorage.getItem("dropboxToken");let C=null;return v?(b.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",v),C=v,b.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):x&&(b.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=x),C?S=y(C,!1):(b.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{S==null||S(),b.log("[useDropboxAuth useEffect] Cleanup.")}},[y]);const g=f.useCallback(()=>{b.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const S=localStorage.getItem("dropboxToken");S&&!n&&!o&&!i?y(S,!0):b.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!S,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,y]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{b.log("Logging out.");const S=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),S&&new Xv({accessToken:S}).authTokenRevoke().then(()=>b.log("Dropbox token revoked successfully.")).catch(v=>b.error("Failed to revoke Dropbox token:",v))},tryVerifyStoredToken:g}}function S2(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,v)=>{const x=new Date(v,m-1),C=new Date(o,n-1);x>C?a(1):x<C?a(-1):a(0),r(m),s(v)},[n,o]),u=f.useCallback(()=>{let m=n,v=o;m===1?(v--,m=12):m--,d(m,v)},[n,o,d]),h=f.useCallback(()=>{let m=n,v=o;m===12?(v++,m=1):m++,d(m,v)},[n,o,d]),y=f.useCallback((m,v)=>{d(m,v),c(!1)},[d]),g=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),w=f.useCallback(()=>c(!0),[]),S=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:y,handleCalendarSwipe:g,openMonthYearPicker:w,closeMonthYearPicker:S,setSwipeDirection:a}}function b2(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((g,w)=>{s(g),r(w),a(!1),t(!0)},[]),u=f.useCallback(g=>{c(g),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),y=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:y}}const Qd=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Rh=()=>{const[e,t]=f.useState(Qd());f.useEffect(()=>{const r=()=>{const o=Qd();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=Qd();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},d1=f.createContext(void 0),C2=({children:e})=>{const{toast:t}=Ga(),[,n]=Rh(),r=f.useRef(!0),o=x2(),s=S2(new Date().getMonth()+1,new Date().getFullYear()),i=b2(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),y=f.useRef(u),[g,w]=f.useState([]),[S,m]=f.useState(!1),[v,x]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[A,D]=f.useState(null),[M,L]=f.useState(null),[O,G]=f.useState(!1),[F,W]=f.useState("calendar"),[N,j]=f.useState(null),[R,_]=f.useState(null),$=ro.getInstance(),[H,Y]=f.useState(!1),[se,ae]=f.useState(0),[we,Te]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;b.log("[AppContext] Setting up periodic storage check and pruning"),Ud().catch(K=>{b.error("[AppContext] Periodic storage check/prune error:",K)});const U=setInterval(()=>{r.current&&(b.log("[AppContext] Running periodic storage check and pruning"),Ud().catch(K=>{b.error("[AppContext] Periodic storage check/prune error:",K)}))},5*60*1e3);return()=>{clearInterval(U)}},[c,a]),f.useEffect(()=>{const U=()=>r.current&&h(!0),K=()=>r.current&&h(!1);return window.addEventListener("online",U),window.addEventListener("offline",K),b.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),y.current=navigator.onLine,()=>{window.removeEventListener("online",U),window.removeEventListener("offline",K),$.revokeAllUrls()}},[$]),f.useEffect(()=>{!y.current&&u&&(b.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(b.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):b.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),y.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const U=K=>{const B=K;B.message&&B.message.includes("QuotaExceededError")&&(b.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),Uc(20).catch(me=>{b.error("[AppContext] Failed to prune cache:",me)})),B.message&&B.message.includes("IndexedDB")&&(b.error("[AppContext] IndexedDB error detected:",B.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",U),()=>{window.removeEventListener("error",U)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(b.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(b.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const K=new Em(o.dbx);K.on(kh.ENTRIES_UPDATED,B=>{b.log(`[AppContext] Entries updated event received for ${B.year}-${B.month}`),B.year===s.currentYear&&B.month===s.currentMonth&&(b.log("[AppContext] Updated entries are for current month, refreshing UI"),w(B.entries))}),K.on(kh.METADATA_UPDATED,B=>{b.log("[AppContext] Metadata updated event received"),x(B.metadata)}),l(K),d(!0),b.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(b.log("[AppContext] Triggering background deletion sync with Dropbox..."),K.syncDeletionsFromDropbox().catch(B=>{b.error("[AppContext] Background deletion sync failed:",B)})),await Fj(),E(!0),L(null);try{const B=await K.fetchImagesMetadata(u);r.current&&x(B),b.log(`[AppContext] Initial metadata fetch/load success. Count: ${B.length}`)}catch(B){b.error("[AppContext] Err fetch/load initial metadata:",B),r.current&&L(B instanceof Error?B:new Error("Failed metadata load"))}finally{r.current&&E(!1)}Ud().catch(B=>{b.error("[AppContext] Initial storage check/prune error:",B)})}catch(K){b.error("[AppContext] Failed to initialize PhotoJournalClient:",K),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),k(null);const U=s.currentYear,K=s.currentMonth;b.log(`[AppContext] Fetching entries effect triggered for ${U}-${K+1}. Online: ${u}`),a.fetchEntriesForMonth(U,K,u).then(B=>{b.log(`[AppContext] Fetched/Loaded ${B.length} entries for ${U}-${K+1}`),r.current&&(w(B),u&&o.isAuthenticated&&a.triggerPrefetch(U,K,u))}).catch(B=>{b.error(`[AppContext] Err fetch/load entries for ${U}-${K+1}:`,B),r.current&&k(B instanceof Error?B:new Error("Failed entries load"))}).finally(()=>{b.log(`[AppContext] Finished fetching/loading entries for ${U}-${K+1}. isLoadingEntries: false`),r.current&&m(!1)})}else w([]),m(!1),k(null),b.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{$.revokeAllUrls(),o.logout(),j(null),_(null),w([]),x([]),l(null),d(!1)},[o,$]),f.useEffect(()=>{D(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{M&&t({title:"Metadata Error",description:M.message,variant:"destructive"})},[M,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{A&&t({title:"Operation Error",description:A.message,variant:"destructive"})},[A,t]),f.useEffect(()=>{const U=window.location.hash;if(U.startsWith("#shareKey=")){const K=U.substring(10);K&&(_(K),n(window.location.pathname+window.location.search,{replace:!0}))}},[n]),f.useEffect(()=>{const U=K=>{if(navigator.serviceWorker.controller){const B={type:"GET_STORED_FILES",key:K};navigator.serviceWorker.controller.postMessage(B),_(null)}else b.warn(`[App Context] SW controller not ready for key: ${K}`)};R&&(navigator.serviceWorker.controller?U(R):navigator.serviceWorker.ready.then(K=>{K.active&&R?U(R):K.active||b.error("[App Context] Service worker not active after ready.")}))},[R]),f.useEffect(()=>{const U=me=>{const ce=me.data;ce&&(ce.type==="SHARED_FILES_READY"&&ce.key?navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:ce.key}):(b.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"})):ce.type==="STORED_FILES_DATA"&&ce.files?ce.files.length>0?j(ce.files):(b.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):ce.type==="STORED_FILES_ERROR"&&(b.error("[App Context] Received STORED_FILES_ERROR:",ce.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${ce.error||"Unknown error"}`,variant:"destructive"})))},K=me=>{r.current&&U(me)};let B=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(me=>{me.active&&r.current?(navigator.serviceWorker.addEventListener("message",K),B=!0,b.log("[App Context] Service worker message listener attached.")):b.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(B&&"serviceWorker"in navigator){b.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",K)}catch(me){b.warn("[App Context] Error removing SW message listener:",me)}}}},[t]),f.useEffect(()=>{o.isAuthenticated&&!o.isLoadingAuth&&N&&N.length>0&&(b.log("[AppContext] Pending shared files detected, navigating to /entry/new"),n("/entry/new"))},[o.isAuthenticated,o.isLoadingAuth,N,n]);const Se=f.useCallback(()=>{j(null)},[]),ke=f.useCallback(async(U,K)=>{if(!c||!a||!U)return null;try{return await a.getPhotoBlobUrl(U,K,u)}catch(B){return b.error(`getPhotoBlobUrl Error for hash ${U} (ID ${K}):`,B),null}},[a,c,u]),_e=f.useCallback(async(U,K)=>{if(!c||!a||!U)return null;try{return await a.getPhotoThumbnailUrl(U,K,u)}catch(B){return b.error(`getPhotoThumbnailUrl Error for hash ${U} (ID ${K}):`,B),null}},[a,c,u]),He=f.useCallback(async U=>{if(!c||!a)throw new Error("Client not ready");let K=[];try{K=await a.fetchImagesMetadata(u),r.current&&v.length===0&&K.length>0&&x(K)}catch(ce){b.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",ce),K=v}const B=(U.photos||[]).map(async ce=>{let dt=null,Ie=null;const Ue=K.find(ee=>ee.id===ce.photoId),Ae=(Ue==null?void 0:Ue.photoMetadata)??null,I=(Ue==null?void 0:Ue.photoFilename)??null,z=Ae==null?void 0:Ae.contentHash;if(!z)b.warn(`Metadata or contentHash missing for photoId: ${ce.photoId}`);else{const[ee,ie]=await Promise.all([ke(z,ce.photoId),_e(z,ce.photoId)]);dt=ee,Ie=ie}return{...ce,photoUrl:dt,thumbnailUrl:Ie,photoMetadata:Ae,photoFilename:I}}),me=await Promise.all(B);return{...U,photos:me}},[a,c,v,u,ke]),de=f.useCallback(async()=>{if(F!=="calendar"||!r.current||!c||!a)return;let U=0;const K=3;let B=document.querySelectorAll(".day-with-image");for(;B.length===0&&U<K;){b.log(`[loadDayBackgrounds] No day elements found, retrying (${U+1}/${K})...`);const I=200*Math.pow(2,U);await new Promise(z=>setTimeout(z,I)),B=document.querySelectorAll(".day-with-image"),U++}if(g.length===0||B.length===0){b.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const me=new Map;g.forEach(I=>{if(I.photos&&I.photos.length>0){const z=me.get(I.date),ee=I.createdAt instanceof Date?I.createdAt:new Date(I.createdAt),ie=(z==null?void 0:z.createdAt)instanceof Date?z.createdAt:new Date(0);(!z||ee.getTime()>ie.getTime())&&me.set(I.date,I)}});let ce=[];try{ce=await a.fetchImagesMetadata(u),r.current&&v.length===0&&ce.length>0&&x(ce)}catch(I){b.error("[loadDayBackgrounds] Failed fetch/load metadata:",I),ce=v}const dt=(I,z,ee)=>{var Le;if(!r.current)return;const ie=z.crop,le=ee==null?void 0:ee.width,xe=ee==null?void 0:ee.height,ge=(Le=I.parentElement)==null?void 0:Le.getBoundingClientRect(),Re=(ge==null?void 0:ge.width)??0;if(ie&&le&&xe&&le>0&&xe>0&&ie.w>0&&Re>0){const Be=Re/ie.w,bt=le*Be,Rt=xe*Be,Mt=-ie.x*Be,Tt=-ie.y*Be;Object.assign(I.style,{width:`${bt}px`,height:`${Rt}px`,transform:`translate(${Mt}px, ${Tt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(I.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&I.classList.add("img-loaded")})},Ie=I=>{I.src&&I.src.startsWith("blob:")&&$.revokeUrl(I.getAttribute("data-content-hash")??""),I.removeAttribute("src"),Object.assign(I.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),I.classList.remove("img-loaded"),I.removeAttribute("data-photo-id"),I.removeAttribute("data-content-hash")},Ue=new Set;B.forEach(I=>{var ge,Re;const z=I.getAttribute("data-day");if(!z)return;const ie=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(z))).toISOString().split("T")[0],le=me.get(ie),xe=(ge=le==null?void 0:le.photos)==null?void 0:ge[0];if(xe!=null&&xe.photoId){const Le=ce.find(bt=>bt.id===xe.photoId),Be=(Re=Le==null?void 0:Le.photoMetadata)==null?void 0:Re.contentHash;Be&&Ue.add(Be)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(I=>{const z=I,ee=z.getAttribute("data-content-hash");ee&&!Ue.has(ee)&&Ie(z)});const Ae=Array.from(B).map(async I=>{var Rt,Mt;const z=I.getAttribute("data-day");if(!z)return;const ie=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(z))).toISOString().split("T")[0],le=I.querySelector(".calendar-day-img");if(!le)return;const xe=me.get(ie),ge=(Rt=xe==null?void 0:xe.photos)==null?void 0:Rt[0],Re=(ge==null?void 0:ge.photoId)??null,Le=Re?ce.find(Tt=>Tt.id===Re):null,Be=((Mt=Le==null?void 0:Le.photoMetadata)==null?void 0:Mt.contentHash)??null,bt=le.getAttribute("data-content-hash");if(bt&&bt!==Be&&Ie(le),Be&&a&&bt!==Be&&Re&&ge&&(Le!=null&&Le.photoMetadata)){le.setAttribute("data-photo-id",Re),le.setAttribute("data-content-hash",Be);let Tt=null;const Ht=ge.crop,xn=Le.photoMetadata.width||0,Nn=Le.photoMetadata.height||0,J=Ht.w*Ht.h/(xn*Nn);(J<.3||Ht.w<300||Ht.h<300)&&xn>0?(b.log(`[loadDayBackgrounds] Using full image for day ${z} (crop ratio: ${J.toFixed(2)})`),Tt=await ke(Be,Re)):Tt=await _e(Be,Re),Tt&&r.current&&le.getAttribute("data-content-hash")===Be?(le.src=Tt,dt(le,ge,Le.photoMetadata)):r.current&&le.getAttribute("data-content-hash")===Be&&Ie(le)}else!Be&&bt&&Ie(le)});await Promise.all(Ae)},[a,c,g,s,v,F,u,ke,_e,$]);f.useEffect(()=>{let U=null;return F==="calendar"&&c&&a?U=setTimeout(()=>{r.current&&(b.log("[AppContext] Triggering loadDayBackgrounds from effect."),de())},500):document.querySelectorAll(".calendar-day-img").forEach(K=>{const B=K;B.src&&B.src.startsWith("blob:")&&$.revokeUrl(B.getAttribute("data-content-hash")??""),B.removeAttribute("src"),Object.assign(B.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),B.classList.remove("img-loaded"),B.removeAttribute("data-photo-id"),B.removeAttribute("data-content-hash")}),()=>{U&&clearTimeout(U)}},[de,F,$,g,v,c,a]);const X=f.useCallback(U=>{const B=new Date(Date.UTC(s.currentYear,s.currentMonth-1,U)).toISOString().split("T")[0];return g.filter(me=>me.date===B)},[g,s.currentMonth,s.currentYear]),he=f.useCallback(U=>g.find(K=>K.id===U),[g]),be=f.useCallback(async U=>{if(b.log(`[AppContext] loadSpecificEntry called for ID: ${U}`),!c||!a)return b.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const K=he(U);if(K)return K;b.log(`[AppContext] loadSpecificEntry: Entry ${U} not in current month. Searching...`);try{const B=await a.listEntryFiles();if(!B)return b.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const me of B){const ce=me.match(/^(\d{4})-(\d{2})-entries\.json$/);if(ce){const dt=parseInt(ce[1],10),Ie=parseInt(ce[2],10)-1;if(dt===s.currentYear&&Ie===s.currentMonth)continue;const Ae=(await a.fetchEntriesForMonth(dt,Ie,u)).find(I=>I.id===U);if(Ae)return b.log(`[AppContext] loadSpecificEntry: Entry ${U} found in ${dt}-${Ie+1}`),Ae}}}catch(B){b.error("[AppContext] loadSpecificEntry: Error searching other months:",B)}return b.warn(`[AppContext] loadSpecificEntry: Entry ${U} not found in any month.`),null},[a,c,he,s.currentYear,s.currentMonth,u]),rt=f.useCallback(async U=>{if(b.log(`[AppContext handleDayClick] START - Day: ${U}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){b.log("[AppContext handleDayClick] EXIT - Client not ready");return}const K=X(U),B=new Date(Date.UTC(s.currentYear,s.currentMonth-1,U));if(b.log(`[AppContext handleDayClick] Day: ${U}, Entries found: ${K.length}`),K.length>0)b.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(B,K);else{const me=B.toISOString().split("T")[0];b.log("[AppContext handleDayClick] Navigating to /entry/new for date:",me),n(`/entry/new?date=${me}`)}},[a,c,s.currentMonth,s.currentYear,X,i.openViewEntriesModal,n,u,t]),mt=f.useCallback(U=>{n(`/entry/edit/${U}`)},[n]),gt=f.useCallback(U=>{i.openDeleteConfirmation(U)},[i.openDeleteConfirmation]),St=f.useCallback(async(U,K)=>{if(U.content=U.content.trim(),!c||!a)return D(new Error("Client not ready.")),!1;if(!o.isAuthenticated)return t({title:"Authentication Required",description:"Please log in to save entries.",variant:"destructive"}),D(new Error("Authentication Required")),!1;G(!0),D(null),k(null);try{const B=U.date.getUTCFullYear(),me=U.date.getUTCMonth()+1;let ce=null,dt=null;if(K){const I=new Date(K.date+"T00:00:00Z");ce=I.getUTCFullYear(),dt=I.getUTCMonth()+1}b.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}`),await a.saveEntry(U,K,u),u||t({title:"Saved Offline",description:"Entry saved locally and will sync when online.",variant:"default"});let Ie=v,Ue=g,Ae=null;try{const I=await Vc(B,me);if(I&&I.length>0&&(Ue=I),K&&(ce!==B||dt!==me)&&ce===s.currentYear&&dt===s.currentMonth){const z=await Vc(ce,dt);z&&z.length>0&&(Ae=z)}}catch(I){b.error("[AppContext] Error fetching cached entries after offline save:",I)}return r.current&&(x(Ie),B===s.currentYear&&me===s.currentMonth?w(Ue):Ae!==null&&w(Ae),(B!==s.currentYear||me!==s.currentMonth)&&s.handleMonthYearSelect(me,B),n("/")),!0}catch(B){return b.error("[AppContext] Save Err: Failed save entry:",B),r.current&&D(B instanceof Error?B:new Error("Failed to save entry")),!1}finally{r.current&&G(!1)}},[a,c,v,s,n,o.isAuthenticated,i,u,t,g]),ot=f.useCallback(async()=>{if(!(!c||!i.entryToDeleteId||!a)){if(!o.isAuthenticated){t({title:"Authentication Required",description:"Please log in to delete entries.",variant:"destructive"}),D(new Error("Authentication Required")),i.closeDeleteDialog();return}G(!0),D(null),k(null);try{const U=i.entryToDeleteId,K=he(U);if(K){const B=new Date(K.date+"T00:00:00Z"),me=B.getUTCFullYear(),ce=B.getUTCMonth()+1;b.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(U,me,ce,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{b.error(`Delete Error: Could not find entry source for ID ${U}`);const B=await be(U);if(!B){D(new Error("Could not find entry to delete")),G(!1),i.closeDeleteDialog();return}const me=new Date(B.date+"T00:00:00Z"),ce=me.getUTCFullYear(),dt=me.getUTCMonth()+1;if(b.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(U,ce,dt,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),ce===s.currentYear&&dt===s.currentMonth){const Ie=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&w(Ie)}}if(i.closeDeleteDialog(),i.closeViewModal(),w(B=>B.filter(me=>me.id!==U)),u){const B=await a.fetchImagesMetadata(u).catch(me=>(b.error("Delete Success: Failed post-delete metadata refresh:",me),v));r.current&&x(B)}}catch(U){b.error("[AppContext] Delete Error:",U),r.current&&D(U instanceof Error?U:new Error("Failed to delete entry"))}finally{r.current&&G(!1)}}},[a,c,i,g,s,he,be,o.isAuthenticated,u,t,v]),ve=f.useCallback(async()=>{try{if(r.current){const U=await Ta();ae(U.length)}}catch(U){b.error("[AppContext] Error getting pending sync count:",U)}},[]),Fe=f.useCallback(async()=>{if(H){b.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await ve(),se!=0&&(r.current&&(Y(!0),Te(null)),s1(o.dbx,u,U=>{ve(),se<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(U,K)=>{r.current&&Te(K),t({title:"Sync Error",description:`Failed to sync some changes: ${K.message}`,variant:"destructive"})}).catch(U=>{b.error("[AppContext] Error processing save queue:",U),r.current&&Te(U instanceof Error?U:new Error("Failed to sync changes"))}).finally(()=>{ve(),r.current&&Y(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,ve,se,H]);f.useEffect(()=>{ve();const U=setInterval(()=>{ve()},3e4);return()=>clearInterval(U)},[ve]),f.useEffect(()=>{u&&!y.current&&o.isAuthenticated?(b.log("[AppContext] Coming back online, triggering background sync"),Fe()):ve(),y.current=u},[u,o.isAuthenticated,Fe,ve]),f.useEffect(()=>{u&&c&&a&&(b.log("[AppContext] Checking for items in save queue due to client ready"),Fe())},[c,a,u,Fe]);const Dt={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:H,pendingSyncCount:se,syncError:we,triggerBackgroundSync:Fe,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:F,setMonthViewType:W,currentMonthEntries:g,isLoadingEntries:S,imagesMetadata:v,isLoadingImagesMeta:C,entriesError:P,operationError:A,imagesMetaError:M,setEntriesError:k,setImagesMetaError:L,clearOperationError:()=>D(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:O,handleSaveEntry:St,handleDeleteEntry:ot,loadDayBackgrounds:de,getPhotoBlobUrl:ke,getPhotoThumbnailUrl:_e,getCombinedEntryDetails:He,getEntriesForDay:X,getEntryById:he,loadSpecificEntry:be,handleDayClick:rt,handleEditRequest:mt,handleDeleteRequest:gt,pendingSharedFiles:N,clearPendingSharedFiles:Se,setPendingSharedFiles:j,navigate:n};return p.jsx(d1.Provider,{value:Dt,children:e})};function Yn(){const e=f.useContext(d1);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const E2=Ya("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function P2({className:e,variant:t,...n}){return p.jsx("div",{className:Q(E2({variant:t}),e),...n})}function T2(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=Yn();if(!e||!t&&n===0&&!r)return null;let s=Dv,i="",a="",l="outline";return r?(s=tC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=Q_,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Dv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(qC,{children:p.jsxs(hj,{children:[p.jsx(pj,{asChild:!0,children:p.jsxs(ze,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:Q("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(P2,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(WC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var k2=f.createContext(void 0);function Qa(e){const t=f.useContext(k2);return e||t||"ltr"}var Zd="rovingFocusGroup.onEntryFocus",A2={bubbles:!1,cancelable:!0},$u="RovingFocusGroup",[Mh,f1,D2]=Pu($u),[R2,Vu]=ln($u,[D2]),[M2,_2]=R2($u),h1=f.forwardRef((e,t)=>p.jsx(Mh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Mh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(I2,{...e,ref:t})})}));h1.displayName=$u;var I2=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),y=Me(t,h),g=Qa(s),[w=null,S]=pr({prop:i,defaultProp:a,onChange:l}),[m,v]=f.useState(!1),x=it(c),C=f1(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Zd,x),()=>A.removeEventListener(Zd,x)},[x]),p.jsx(M2,{scope:n,orientation:r,dir:g,loop:o,currentTabStopId:w,onItemFocus:f.useCallback(A=>S(A),[S]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:f.useCallback(()=>k(A=>A-1),[]),children:p.jsx(pe.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:y,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{E.current=!0}),onFocus:Z(e.onFocus,A=>{const D=!E.current;if(A.target===A.currentTarget&&D&&!m){const M=new CustomEvent(Zd,A2);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=C().filter(N=>N.focusable),O=L.find(N=>N.active),G=L.find(N=>N.id===w),W=[O,G,...L].filter(Boolean).map(N=>N.ref.current);g1(W,d)}}E.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),p1="RovingFocusGroupItem",m1=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=qo(),l=s||a,c=_2(p1,n),d=c.currentTabStopId===l,u=f1(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=c;return f.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),p.jsx(Mh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(pe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:Z(e.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:Z(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const w=L2(g,c.orientation,c.dir);if(w!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let m=u().filter(v=>v.focusable).map(v=>v.ref.current);if(w==="last")m.reverse();else if(w==="prev"||w==="next"){w==="prev"&&m.reverse();const v=m.indexOf(g.currentTarget);m=c.loop?O2(m,v+1):m.slice(v+1)}setTimeout(()=>g1(m))}})})})});m1.displayName=p1;var N2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function L2(e,t,n){const r=j2(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N2[r]}function g1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function O2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var y1=h1,v1=m1,F2="Toggle",Pm=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=pr({prop:n,onChange:o,defaultProp:r});return p.jsx(pe.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:Z(e.onClick,()=>{e.disabled||a(!i)})})});Pm.displayName=F2;var w1=Pm,vi="ToggleGroup",[x1,Xz]=ln(vi,[Vu]),S1=Vu(),Tm=wt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx($2,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(V2,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${vi}\``)});Tm.displayName=vi;var[b1,C1]=x1(vi),$2=wt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=pr({prop:n,defaultProp:r,onChange:o});return p.jsx(b1,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:wt.useCallback(()=>a(""),[a]),children:p.jsx(E1,{...s,ref:t})})}),V2=wt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=pr({prop:n,defaultProp:r,onChange:o}),l=wt.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=wt.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(b1,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(E1,{...s,ref:t})})});Tm.displayName=vi;var[U2,B2]=x1(vi),E1=wt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=S1(n),d=Qa(i),u={role:"group",dir:d,...l};return p.jsx(U2,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(y1,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(pe.div,{...u,ref:t})}):p.jsx(pe.div,{...u,ref:t})})}),qc="ToggleGroupItem",P1=wt.forwardRef((e,t)=>{const n=C1(qc,e.__scopeToggleGroup),r=B2(qc,e.__scopeToggleGroup),o=S1(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=wt.useRef(null);return r.rovingFocus?p.jsx(v1,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(Qv,{...a,ref:t})}):p.jsx(Qv,{...a,ref:t})});P1.displayName=qc;var Qv=wt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=C1(qc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Pm,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),T1=Tm,k1=P1;const A1=Ya("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),z2=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(w1,{ref:o,className:Q(A1({variant:t,size:n,className:e})),...r}));z2.displayName=w1.displayName;const D1=f.createContext({size:"default",variant:"default"}),R1=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(T1,{ref:s,className:Q("flex items-center justify-center gap-1",e),...o,children:p.jsx(D1.Provider,{value:{variant:t,size:n},children:r})}));R1.displayName=T1.displayName;const _h=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(D1);return p.jsx(k1,{ref:s,className:Q(A1({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});_h.displayName=k1.displayName;var q2=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(y){(Array.isArray(e)?e:[e]).forEach(g=>{let w=g==="class",S=w&&s?o.map(m=>s[m]||m):o;w?(l.classList.remove(...S),l.classList.add(s&&s[y]?s[y]:y)):l.setAttribute(g,y)}),u(y)}function u(y){a&&c.includes(y)&&(l.style.colorScheme=y)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let y=localStorage.getItem(t)||n,g=i&&y==="system"?h():y;d(g)}catch{}},Zv=["light","dark"],M1="(prefers-color-scheme: dark)",W2=typeof window>"u",km=f.createContext(void 0),H2={setTheme:e=>{},themes:[]},Am=()=>{var e;return(e=f.useContext(km))!=null?e:H2},G2=e=>f.useContext(km)?f.createElement(f.Fragment,null,e.children):f.createElement(Y2,{...e}),K2=["light","dark"],Y2=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=K2,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,y]=f.useState(()=>Q2(o,i)),[g,w]=f.useState(()=>h==="system"?Jd():h),S=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=Jd());let k=l?l[P]:P,A=t?Z2(d):null,D=document.documentElement,M=L=>{L==="class"?(D.classList.remove(...S),k&&D.classList.add(k)):L.startsWith("data-")&&(k?D.setAttribute(L,k):D.removeAttribute(L))};if(Array.isArray(a)?a.forEach(M):M(a),r){let L=Zv.includes(i)?i:null,O=Zv.includes(P)?P:L;D.style.colorScheme=O}A==null||A()},[d]),v=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;y(P);try{localStorage.setItem(o,P)}catch{}},[h]),x=f.useCallback(E=>{let P=Jd(E);w(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(M1);return E.addListener(x),x(E),()=>E.removeListener(x)},[x]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?y(P.newValue):v(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[v]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:v,forcedTheme:e,resolvedTheme:h==="system"?g:h,themes:n?[...s,"system"]:s,systemTheme:n?g:void 0}),[h,v,e,g,n,s]);return f.createElement(km.Provider,{value:C},f.createElement(X2,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},X2=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${q2.toString()})(${d})`}})}),Q2=(e,t)=>{if(W2)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Z2=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Jd=e=>(e||(e=window.matchMedia(M1)),e.matches?"dark":"light"),Dm="Avatar",[J2,Qz]=ln(Dm),[eL,_1]=J2(Dm),I1=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(eL,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(pe.span,{...r,ref:t})})});I1.displayName=Dm;var N1="AvatarImage",j1=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=_1(N1,n),a=tL(r,s),l=it(c=>{o(c),i.onImageLoadingStatusChange(c)});return _n(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(pe.img,{...s,ref:t,src:r}):null});j1.displayName=N1;var L1="AvatarFallback",O1=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=_1(L1,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(pe.span,{...o,ref:t}):null});O1.displayName=L1;function Jv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tL(e,{referrerPolicy:t,crossOrigin:n}){const r=rL(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>Jv(s,e));return _n(()=>{a(Jv(s,e))},[s,e]),_n(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function nL(){return()=>{}}function rL(){return f.useSyncExternalStore(nL,()=>!0,()=>!1)}var F1=I1,$1=j1,V1=O1;const U1=f.forwardRef(({className:e,...t},n)=>p.jsx(F1,{ref:n,className:Q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));U1.displayName=F1.displayName;const oL=f.forwardRef(({className:e,...t},n)=>p.jsx($1,{ref:n,className:Q("aspect-square h-full w-full",e),...t}));oL.displayName=$1.displayName;const B1=f.forwardRef(({className:e,...t},n)=>p.jsx(V1,{ref:n,className:Q("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));B1.displayName=V1.displayName;var ef=0;function z1(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ew()),document.body.insertAdjacentElement("beforeend",e[1]??ew()),ef++,()=>{ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ef--}},[])}function ew(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tf="focusScope.autoFocusOnMount",nf="focusScope.autoFocusOnUnmount",tw={bubbles:!1,cancelable:!0},sL="FocusScope",Rm=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=it(o),d=it(s),u=f.useRef(null),h=Me(t,w=>l(w)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let w=function(x){if(y.paused||!a)return;const C=x.target;a.contains(C)?u.current=C:zr(u.current,{select:!0})},S=function(x){if(y.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||zr(u.current,{select:!0}))},m=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&zr(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const v=new MutationObserver(m);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),v.disconnect()}}},[r,a,y.paused]),f.useEffect(()=>{if(a){rw.add(y);const w=document.activeElement;if(!a.contains(w)){const m=new CustomEvent(tf,tw);a.addEventListener(tf,c),a.dispatchEvent(m),m.defaultPrevented||(iL(dL(q1(a)),{select:!0}),document.activeElement===w&&zr(a))}return()=>{a.removeEventListener(tf,c),setTimeout(()=>{const m=new CustomEvent(nf,tw);a.addEventListener(nf,d),a.dispatchEvent(m),m.defaultPrevented||zr(w??document.body,{select:!0}),a.removeEventListener(nf,d),rw.remove(y)},0)}}},[a,c,d,y]);const g=f.useCallback(w=>{if(!n&&!r||y.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,m=document.activeElement;if(S&&m){const v=w.currentTarget,[x,C]=aL(v);x&&C?!w.shiftKey&&m===C?(w.preventDefault(),n&&zr(x,{select:!0})):w.shiftKey&&m===x&&(w.preventDefault(),n&&zr(C,{select:!0})):m===v&&w.preventDefault()}},[n,r,y.paused]);return p.jsx(pe.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Rm.displayName=sL;function iL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(zr(r,{select:t}),document.activeElement!==n)return}function aL(e){const t=q1(e),n=nw(t,e),r=nw(t.reverse(),e);return[n,r]}function q1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nw(e,t){for(const n of e)if(!lL(n,{upTo:t}))return n}function lL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cL(e){return e instanceof HTMLInputElement&&"select"in e}function zr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cL(e)&&t&&e.select()}}var rw=uL();function uL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ow(e,t),e.unshift(t)},remove(t){var n;e=ow(e,t),(n=e[0])==null||n.resume()}}}function ow(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dL(e){return e.filter(t=>t.tagName!=="A")}var fL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cs=new WeakMap,Nl=new WeakMap,jl={},rf=0,W1=function(e){return e&&(e.host||W1(e.parentNode))},hL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=W1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},pL=function(e,t,n,r){var o=hL(t,Array.isArray(e)?e:[e]);jl[n]||(jl[n]=new WeakMap);var s=jl[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),g=y!==null&&y!=="false",w=(cs.get(h)||0)+1,S=(s.get(h)||0)+1;cs.set(h,w),s.set(h,S),i.push(h),w===1&&g&&Nl.set(h,!0),S===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),rf++,function(){i.forEach(function(u){var h=cs.get(u)-1,y=s.get(u)-1;cs.set(u,h),s.set(u,y),h||(Nl.has(u)||u.removeAttribute(r),Nl.delete(u)),y||u.removeAttribute(n)}),rf--,rf||(cs=new WeakMap,cs=new WeakMap,Nl=new WeakMap,jl={})}},H1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=fL(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),pL(r,o,n,"aria-hidden")):function(){return null}},ir=function(){return ir=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ir.apply(this,arguments)};function G1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function mL(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var sc="right-scroll-bar-position",ic="width-before-scroll-bar",gL="with-scroll-bars-hidden",yL="--removed-body-scroll-bar-size";function of(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vL(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var wL=typeof window<"u"?f.useLayoutEffect:f.useEffect,sw=new WeakMap;function xL(e,t){var n=vL(null,function(r){return e.forEach(function(o){return of(o,r)})});return wL(function(){var r=sw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||of(a,null)}),s.forEach(function(a){o.has(a)||of(a,i)})}sw.set(n,e)},[e]),n}function SL(e){return e}function bL(e,t){t===void 0&&(t=SL);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function CL(e){e===void 0&&(e={});var t=bL(null);return t.options=ir({async:!0,ssr:!1},e),t}var K1=function(e){var t=e.sideCar,n=G1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,ir({},n))};K1.isSideCarExport=!0;function EL(e,t){return e.useMedium(t),K1}var Y1=CL(),sf=function(){},Uu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:sf,onWheelCapture:sf,onTouchMoveCapture:sf}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,y=e.noIsolation,g=e.inert,w=e.allowPinchZoom,S=e.as,m=S===void 0?"div":S,v=e.gapMode,x=G1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=xL([n,t]),P=ir(ir({},x),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:Y1,removeScrollBar:c,shards:u,noIsolation:y,inert:g,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:v}),i?f.cloneElement(f.Children.only(a),ir(ir({},P),{ref:E})):f.createElement(m,ir({},P,{className:l,ref:E}),a))});Uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uu.classNames={fullWidth:ic,zeroRight:sc};var PL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PL();return t&&e.setAttribute("nonce",t),e}function kL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function AL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=TL())&&(kL(t,n),AL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RL=function(){var e=DL();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},X1=function(){var e=RL(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},ML={left:0,top:0,right:0,gap:0},af=function(e){return parseInt(e||"",10)||0},_L=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[af(n),af(r),af(o)]},IL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ML;var t=_L(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},NL=X1(),Vs="data-scroll-locked",jL=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(gL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ic,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sc," .").concat(sc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vs,`] {
    `).concat(yL,": ").concat(a,`px;
  }
`)},iw=function(){var e=parseInt(document.body.getAttribute(Vs)||"0",10);return isFinite(e)?e:0},LL=function(){f.useEffect(function(){return document.body.setAttribute(Vs,(iw()+1).toString()),function(){var e=iw()-1;e<=0?document.body.removeAttribute(Vs):document.body.setAttribute(Vs,e.toString())}},[])},OL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;LL();var s=f.useMemo(function(){return IL(o)},[o]);return f.createElement(NL,{styles:jL(s,!t,o,n?"":"!important")})},Ih=!1;if(typeof window<"u")try{var Ll=Object.defineProperty({},"passive",{get:function(){return Ih=!0,!0}});window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{Ih=!1}var us=Ih?{passive:!1}:!1,FL=function(e){return e.tagName==="TEXTAREA"},Q1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FL(e)&&n[t]==="visible")},$L=function(e){return Q1(e,"overflowY")},VL=function(e){return Q1(e,"overflowX")},aw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Z1(e,r);if(o){var s=J1(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Z1=function(e,t){return e==="v"?$L(t):VL(t)},J1=function(e,t){return e==="v"?UL(t):BL(t)},zL=function(e,t){return e==="h"&&t==="rtl"?-1:1},qL=function(e,t,n,r,o){var s=zL(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var y=J1(e,a),g=y[0],w=y[1],S=y[2],m=w-S-s*g;(g||m)&&Z1(e,a)&&(u+=m,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Ol=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lw=function(e){return[e.deltaX,e.deltaY]},cw=function(e){return e&&"current"in e?e.current:e},WL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GL=0,ds=[];function KL(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(GL++)[0],s=f.useState(X1)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=mL([e.lockRef.current],(e.shards||[]).map(cw),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!i.current.allowPinchZoom;var m=Ol(w),v=n.current,x="deltaX"in w?w.deltaX:v[0]-m[0],C="deltaY"in w?w.deltaY:v[1]-m[1],E,P=w.target,k=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in w&&k==="h"&&P.type==="range")return!1;var A=aw(k,P);if(!A)return!0;if(A?E=k:(E=k==="v"?"h":"v",A=aw(k,P)),!A)return!1;if(!r.current&&"changedTouches"in w&&(x||C)&&(r.current=E),!E)return!0;var D=r.current||E;return qL(D,S,w,D==="h"?x:C,!0)},[]),l=f.useCallback(function(w){var S=w;if(!(!ds.length||ds[ds.length-1]!==s)){var m="deltaY"in S?lw(S):Ol(S),v=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&WL(E.delta,m)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(cw).filter(Boolean).filter(function(E){return E.contains(S.target)}),C=x.length>0?a(S,x[0]):!i.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),c=f.useCallback(function(w,S,m,v){var x={name:w,delta:S,target:m,should:v,shadowParent:YL(m)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(w){n.current=Ol(w),r.current=void 0},[]),u=f.useCallback(function(w){c(w.type,lw(w),w.target,a(w,e.lockRef.current))},[]),h=f.useCallback(function(w){c(w.type,Ol(w),w.target,a(w,e.lockRef.current))},[]);f.useEffect(function(){return ds.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,us),document.addEventListener("touchmove",l,us),document.addEventListener("touchstart",d,us),function(){ds=ds.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,us),document.removeEventListener("touchmove",l,us),document.removeEventListener("touchstart",d,us)}},[]);var y=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(s,{styles:HL(o)}):null,y?f.createElement(OL,{gapMode:e.gapMode}):null)}function YL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XL=EL(Y1,KL);var Mm=f.forwardRef(function(e,t){return f.createElement(Uu,ir({},e,{ref:t,sideCar:XL}))});Mm.classNames=Uu.classNames;var Nh=["Enter"," "],QL=["ArrowDown","PageUp","Home"],eE=["ArrowUp","PageDown","End"],ZL=[...QL,...eE],JL={ltr:[...Nh,"ArrowRight"],rtl:[...Nh,"ArrowLeft"]},eO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Za="Menu",[Da,tO,nO]=Pu(Za),[os,tE]=ln(Za,[nO,Nu,Vu]),Bu=Nu(),nE=Vu(),[rO,ss]=os(Za),[oO,Ja]=os(Za),rE=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Bu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=it(s),h=Qa(o);return f.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.jsx(_C,{...a,children:p.jsx(rO,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(oO,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};rE.displayName=Za;var sO="MenuAnchor",_m=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bu(n);return p.jsx(IC,{...o,...r,ref:t})});_m.displayName=sO;var Im="MenuPortal",[iO,oE]=os(Im,{forceMount:void 0}),sE=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=ss(Im,t);return p.jsx(iO,{scope:t,forceMount:n,children:p.jsx(cn,{present:n||s.open,children:p.jsx(Tu,{asChild:!0,container:o,children:r})})})};sE.displayName=Im;var Dn="MenuContent",[aO,Nm]=os(Dn),iE=f.forwardRef((e,t)=>{const n=oE(Dn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ss(Dn,e.__scopeMenu),i=Ja(Dn,e.__scopeMenu);return p.jsx(Da.Provider,{scope:e.__scopeMenu,children:p.jsx(cn,{present:r||s.open,children:p.jsx(Da.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(lO,{...o,ref:t}):p.jsx(cO,{...o,ref:t})})})})}),lO=f.forwardRef((e,t)=>{const n=ss(Dn,e.__scopeMenu),r=f.useRef(null),o=Me(t,r);return f.useEffect(()=>{const s=r.current;if(s)return H1(s)},[]),p.jsx(jm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cO=f.forwardRef((e,t)=>{const n=ss(Dn,e.__scopeMenu);return p.jsx(jm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),uO=si("MenuContent.ScrollLock"),jm=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:y,disableOutsideScroll:g,...w}=e,S=ss(Dn,n),m=Ja(Dn,n),v=Bu(n),x=nE(n),C=tO(n),[E,P]=f.useState(null),k=f.useRef(null),A=Me(t,k,S.onContentChange),D=f.useRef(0),M=f.useRef(""),L=f.useRef(0),O=f.useRef(null),G=f.useRef("right"),F=f.useRef(0),W=g?Mm:f.Fragment,N=g?{as:uO,allowPinchZoom:!0}:void 0,j=_=>{var Se,ke;const $=M.current+_,H=C().filter(_e=>!_e.disabled),Y=document.activeElement,se=(Se=H.find(_e=>_e.ref.current===Y))==null?void 0:Se.textValue,ae=H.map(_e=>_e.textValue),we=bO(ae,$,se),Te=(ke=H.find(_e=>_e.textValue===we))==null?void 0:ke.ref.current;(function _e(He){M.current=He,window.clearTimeout(D.current),He!==""&&(D.current=window.setTimeout(()=>_e(""),1e3))})($),Te&&setTimeout(()=>Te.focus())};f.useEffect(()=>()=>window.clearTimeout(D.current),[]),z1();const R=f.useCallback(_=>{var H,Y;return G.current===((H=O.current)==null?void 0:H.side)&&EO(_,(Y=O.current)==null?void 0:Y.area)},[]);return p.jsx(aO,{scope:n,searchRef:M,onItemEnter:f.useCallback(_=>{R(_)&&_.preventDefault()},[R]),onItemLeave:f.useCallback(_=>{var $;R(_)||(($=k.current)==null||$.focus(),P(null))},[R]),onTriggerLeave:f.useCallback(_=>{R(_)&&_.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(_=>{O.current=_},[]),children:p.jsx(W,{...N,children:p.jsx(Rm,{asChild:!0,trapped:o,onMountAutoFocus:Z(s,_=>{var $;_.preventDefault(),($=k.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Ka,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:y,children:p.jsx(y1,{asChild:!0,...x,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:Z(l,_=>{m.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(NC,{role:"menu","aria-orientation":"vertical","data-state":bE(S.open),"data-radix-menu-content":"",dir:m.dir,...v,...w,ref:A,style:{outline:"none",...w.style},onKeyDown:Z(w.onKeyDown,_=>{const H=_.target.closest("[data-radix-menu-content]")===_.currentTarget,Y=_.ctrlKey||_.altKey||_.metaKey,se=_.key.length===1;H&&(_.key==="Tab"&&_.preventDefault(),!Y&&se&&j(_.key));const ae=k.current;if(_.target!==ae||!ZL.includes(_.key))return;_.preventDefault();const Te=C().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);eE.includes(_.key)&&Te.reverse(),xO(Te)}),onBlur:Z(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(D.current),M.current="")}),onPointerMove:Z(e.onPointerMove,Ra(_=>{const $=_.target,H=F.current!==_.clientX;if(_.currentTarget.contains($)&&H){const Y=_.clientX>F.current?"right":"left";G.current=Y,F.current=_.clientX}}))})})})})})})});iE.displayName=Dn;var dO="MenuGroup",Lm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(pe.div,{role:"group",...r,ref:t})});Lm.displayName=dO;var fO="MenuLabel",aE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(pe.div,{...r,ref:t})});aE.displayName=fO;var Wc="MenuItem",uw="menu.itemSelect",zu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=Ja(Wc,e.__scopeMenu),a=Nm(Wc,e.__scopeMenu),l=Me(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(uw,{bubbles:!0,cancelable:!0});u.addEventListener(uw,y=>r==null?void 0:r(y),{once:!0}),om(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(lE,{...o,ref:l,disabled:n,onClick:Z(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:Z(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:Z(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||Nh.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});zu.displayName=Wc;var lE=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Nm(Wc,n),a=nE(n),l=f.useRef(null),c=Me(t,l),[d,u]=f.useState(!1),[h,y]=f.useState("");return f.useEffect(()=>{const g=l.current;g&&y((g.textContent??"").trim())},[s.children]),p.jsx(Da.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(v1,{asChild:!0,...a,focusable:!r,children:p.jsx(pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Z(e.onPointerMove,Ra(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Ra(g=>i.onItemLeave(g))),onFocus:Z(e.onFocus,()=>u(!0)),onBlur:Z(e.onBlur,()=>u(!1))})})})}),hO="MenuCheckboxItem",cE=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(pE,{scope:e.__scopeMenu,checked:n,children:p.jsx(zu,{role:"menuitemcheckbox","aria-checked":Hc(n)?"mixed":n,...o,ref:t,"data-state":Fm(n),onSelect:Z(o.onSelect,()=>r==null?void 0:r(Hc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cE.displayName=hO;var uE="MenuRadioGroup",[pO,mO]=os(uE,{value:void 0,onValueChange:()=>{}}),dE=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=it(r);return p.jsx(pO,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Lm,{...o,ref:t})})});dE.displayName=uE;var fE="MenuRadioItem",hE=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=mO(fE,e.__scopeMenu),s=n===o.value;return p.jsx(pE,{scope:e.__scopeMenu,checked:s,children:p.jsx(zu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Fm(s),onSelect:Z(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});hE.displayName=fE;var Om="MenuItemIndicator",[pE,gO]=os(Om,{checked:!1}),mE=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=gO(Om,n);return p.jsx(cn,{present:r||Hc(s.checked)||s.checked===!0,children:p.jsx(pe.span,{...o,ref:t,"data-state":Fm(s.checked)})})});mE.displayName=Om;var yO="MenuSeparator",gE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});gE.displayName=yO;var vO="MenuArrow",yE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bu(n);return p.jsx(jC,{...o,...r,ref:t})});yE.displayName=vO;var wO="MenuSub",[Zz,vE]=os(wO),Vi="MenuSubTrigger",wE=f.forwardRef((e,t)=>{const n=ss(Vi,e.__scopeMenu),r=Ja(Vi,e.__scopeMenu),o=vE(Vi,e.__scopeMenu),s=Nm(Vi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(_m,{asChild:!0,...c,children:p.jsx(lE,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":bE(n.open),...e,ref:Eu(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Ra(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,Ra(u=>{var y,g;d();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const w=(g=n.content)==null?void 0:g.dataset.side,S=w==="right",m=S?-5:5,v=h[S?"left":"right"],x=h[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:v,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:v,y:h.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,u=>{var y;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||JL[r.dir].includes(u.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),u.preventDefault())})})})});wE.displayName=Vi;var xE="MenuSubContent",SE=f.forwardRef((e,t)=>{const n=oE(Dn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=ss(Dn,e.__scopeMenu),i=Ja(Dn,e.__scopeMenu),a=vE(xE,e.__scopeMenu),l=f.useRef(null),c=Me(t,l);return p.jsx(Da.Provider,{scope:e.__scopeMenu,children:p.jsx(cn,{present:r||s.open,children:p.jsx(Da.Slot,{scope:e.__scopeMenu,children:p.jsx(jm,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var y;const u=d.currentTarget.contains(d.target),h=eO[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),d.preventDefault())})})})})})});SE.displayName=xE;function bE(e){return e?"open":"closed"}function Hc(e){return e==="indeterminate"}function Fm(e){return Hc(e)?"indeterminate":e?"checked":"unchecked"}function xO(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function SO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function bO(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=SO(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function CO(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function EO(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return CO(n,t)}function Ra(e){return t=>t.pointerType==="mouse"?e(t):void 0}var PO=rE,TO=_m,kO=sE,AO=iE,DO=Lm,RO=aE,MO=zu,_O=cE,IO=dE,NO=hE,jO=mE,LO=gE,OO=yE,FO=wE,$O=SE,$m="DropdownMenu",[VO,Jz]=ln($m,[tE]),en=tE(),[UO,CE]=VO($m),EE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=en(t),c=f.useRef(null),[d=!1,u]=pr({prop:o,defaultProp:s,onChange:i});return p.jsx(UO,{scope:t,triggerId:qo(),triggerRef:c,contentId:qo(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(PO,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};EE.displayName=$m;var PE="DropdownMenuTrigger",TE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=CE(PE,n),i=en(n);return p.jsx(TO,{asChild:!0,...i,children:p.jsx(pe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Eu(t,s.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});TE.displayName=PE;var BO="DropdownMenuPortal",kE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=en(t);return p.jsx(kO,{...r,...n})};kE.displayName=BO;var AE="DropdownMenuContent",DE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=CE(AE,n),s=en(n),i=f.useRef(!1);return p.jsx(AO,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DE.displayName=AE;var zO="DropdownMenuGroup",qO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(DO,{...o,...r,ref:t})});qO.displayName=zO;var WO="DropdownMenuLabel",RE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(RO,{...o,...r,ref:t})});RE.displayName=WO;var HO="DropdownMenuItem",ME=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(MO,{...o,...r,ref:t})});ME.displayName=HO;var GO="DropdownMenuCheckboxItem",_E=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(_O,{...o,...r,ref:t})});_E.displayName=GO;var KO="DropdownMenuRadioGroup",YO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(IO,{...o,...r,ref:t})});YO.displayName=KO;var XO="DropdownMenuRadioItem",IE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(NO,{...o,...r,ref:t})});IE.displayName=XO;var QO="DropdownMenuItemIndicator",NE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(jO,{...o,...r,ref:t})});NE.displayName=QO;var ZO="DropdownMenuSeparator",jE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(LO,{...o,...r,ref:t})});jE.displayName=ZO;var JO="DropdownMenuArrow",eF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(OO,{...o,...r,ref:t})});eF.displayName=JO;var tF="DropdownMenuSubTrigger",LE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx(FO,{...o,...r,ref:t})});LE.displayName=tF;var nF="DropdownMenuSubContent",OE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=en(n);return p.jsx($O,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OE.displayName=nF;var rF=EE,oF=TE,sF=kE,FE=DE,$E=RE,VE=ME,UE=_E,BE=IE,zE=NE,qE=jE,WE=LE,HE=OE;const Vm=rF,Um=oF,iF=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(WE,{ref:o,className:Q("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(Xb,{className:"ml-auto"})]}));iF.displayName=WE.displayName;const aF=f.forwardRef(({className:e,...t},n)=>p.jsx(HE,{ref:n,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));aF.displayName=HE.displayName;const qu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(sF,{children:p.jsx(FE,{ref:r,sideOffset:t,className:Q("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));qu.displayName=FE.displayName;const Jo=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(VE,{ref:r,className:Q("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Jo.displayName=VE.displayName;const lF=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(UE,{ref:o,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(zE,{children:p.jsx(Yb,{className:"h-4 w-4"})})}),t]}));lF.displayName=UE.displayName;const cF=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(BE,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(zE,{children:p.jsx($_,{className:"h-2 w-2 fill-current"})})}),t]}));cF.displayName=BE.displayName;const GE=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx($E,{ref:r,className:Q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));GE.displayName=$E.displayName;const jh=f.forwardRef(({className:e,...t},n)=>p.jsx(qE,{ref:n,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));jh.displayName=qE.displayName;function KE(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Bm="Switch",[uF,e3]=ln(Bm),[dF,fF]=uF(Bm),YE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,y]=f.useState(null),g=Me(t,x=>y(x)),w=f.useRef(!1),S=h?d||!!h.closest("form"):!0,[m=!1,v]=pr({prop:o,defaultProp:s,onChange:c});return p.jsxs(dF,{scope:n,checked:m,disabled:a,children:[p.jsx(pe.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":ZE(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:g,onClick:Z(e.onClick,x=>{v(C=>!C),S&&(w.current=x.isPropagationStopped(),w.current||x.stopPropagation())})}),S&&p.jsx(hF,{control:h,bubbles:!w.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});YE.displayName=Bm;var XE="SwitchThumb",QE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=fF(XE,n);return p.jsx(pe.span,{"data-state":ZE(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});QE.displayName=XE;var hF=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=KE(n),a=ym(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ZE(e){return e?"checked":"unchecked"}var JE=YE,pF=QE;const eP=f.forwardRef(({className:e,...t},n)=>p.jsx(JE,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(pF,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));eP.displayName=JE.displayName;function mF(){const{userInfo:e,isLoadingAuth:t,logout:n}=Yn(),{theme:r,setTheme:o,resolvedTheme:s}=Am(),i=s==="dark";if(t||!e)return p.jsx(ze,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Bt,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(Vm,{children:[p.jsx(Um,{asChild:!0,children:p.jsx(ze,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(U1,{className:"h-8 w-8",children:p.jsx(B1,{children:LI(e.name.display_name)})})})}),p.jsxs(qu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(GE,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(jh,{}),p.jsx(Jo,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(Y_,{className:"mr-2 h-4 w-4"}):p.jsx(J_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(eP,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(jh,{}),p.jsxs(Jo,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(H_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function gF(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=Yn();Am();const[,c]=Su(),{toast:d}=Ga(),u=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{b.log("[Header] setLocation instance type:",typeof c)},[c]);const y=w=>{b.log("[Header] New Entry Link clicked. Href:",w.currentTarget.href)},g=w=>{const S=w.target.files;if(S&&S.length>0){const m=Array.from(S),v=m.filter(C=>!C.type.startsWith("image/"));v.length>0&&d({title:"Invalid File Type",description:`Only image files are allowed. ${v.map(C=>C.name).join(", ")} ${v.length===1?"was":"were"} ignored.`,variant:"destructive"});const x=m.filter(C=>C.type.startsWith("image/"));x.length>0?(i(x),b.log(`[Header] Set ${x.length} selected files as pending.`)):b.log("[Header] No valid image files selected.")}else b.log("[Header] No files selected.");w.target&&(w.target.value="")};return p.jsxs("header",{className:Q("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(eI,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),h&&p.jsxs("div",{className:Q("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(Qb,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(ze,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(W_,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:u,onChange:g,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:Q("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(R1,{type:"single",size:"sm",value:o,onValueChange:w=>{w&&s(w)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(_h,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(U_,{className:"h-4 w-4"})}),p.jsx(_h,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(q_,{className:"h-4 w-4"})})]}),p.jsx(T2,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(uM,{href:"/entry/new",onClick:y,children:p.jsx(ze,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!a,title:a?"New Entry":"New entry disabled while offline",children:p.jsx(X_,{className:"h-4 w-4"})})}),p.jsx(mF,{})]})]})]})]})}function yF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Wu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Lh=e=>Array.isArray(e);function tP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ma(e){return typeof e=="string"||Array.isArray(e)}function dw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zm(e,t,n,r){if(typeof t=="function"){const[o,s]=dw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=dw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Hu(e,t,n){const r=e.getProps();return zm(r,t,n!==void 0?n:r.custom,e)}const qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wm=["initial",...qm],el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],is=new Set(el),Tr=e=>e*1e3,kr=e=>e/1e3,vF={type:"spring",stiffness:500,damping:25,restSpeed:10},wF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xF={type:"keyframes",duration:.8},SF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bF=(e,{keyframes:t})=>t.length>2?xF:is.has(e)?e.startsWith("scale")?wF(t[1]):vF:SF;function Hm(e,t){return e?e[t]||e.default||e:void 0}const CF={skipAnimations:!1,useManualTiming:!1},EF=e=>e!==null;function Gu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(EF),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const qt=e=>e;let Oh=qt;function PF(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const y=u&&r?t:n;return d&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const Fl=["read","resolveKeyframes","update","preRender","render","postRender"],TF=40;function nP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=Fl.reduce((m,v)=>(m[v]=PF(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,y=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,TF),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(y))},g=()=>{n=!0,r=!0,o.isProcessing||e(y)};return{schedule:Fl.reduce((m,v)=>{const x=i[v];return m[v]=(C,E=!1,P=!1)=>(n||g(),x.schedule(C,E,P)),m},{}),cancel:m=>{for(let v=0;v<Fl.length;v++)i[Fl[v]].cancel(m)},state:o,steps:i}}const{schedule:We,cancel:So,state:It,steps:lf}=nP(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),rP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kF=1e-7,AF=12;function DF(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=rP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>kF&&++a<AF);return i}function tl(e,t,n,r){if(e===t&&n===r)return qt;const o=s=>DF(s,0,1,e,n);return s=>s===0||s===1?s:rP(o(s),t,r)}const oP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sP=e=>t=>1-e(1-t),iP=tl(.33,1.53,.69,.99),Gm=sP(iP),aP=oP(Gm),lP=e=>(e*=2)<1?.5*Gm(e):.5*(2-Math.pow(2,-10*(e-1))),Km=e=>1-Math.sin(Math.acos(e)),cP=sP(Km),uP=oP(Km),dP=e=>/^0[^.\s]+$/u.test(e);function RF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dP(e):!0}const fP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),hP=e=>t=>typeof t=="string"&&t.startsWith(e),pP=hP("--"),MF=hP("var(--"),Ym=e=>MF(e)?_F.test(e.split("/*")[0].trim()):!1,_F=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,IF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NF(e){const t=IF.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function mP(e,t,n=1){const[r,o]=NF(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return fP(i)?parseFloat(i):i}return Ym(o)?mP(o,t,n+1):o}const jr=(e,t,n)=>n>t?t:n<e?e:n,wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_a={...wi,transform:e=>jr(0,1,e)},$l={...wi,default:1},nl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qr=nl("deg"),dr=nl("%"),ue=nl("px"),jF=nl("vh"),LF=nl("vw"),fw={...dr,parse:e=>dr.parse(e)/100,transform:e=>dr.transform(e*100)},OF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hw=e=>e===wi||e===ue,pw=(e,t)=>parseFloat(e.split(", ")[t]),mw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return pw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?pw(s[1],e):0}},FF=new Set(["x","y","z"]),$F=el.filter(e=>!FF.has(e));function VF(e){const t=[];return $F.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const li={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mw(4,13),y:mw(5,14)};li.translateX=li.x;li.translateY=li.y;const gP=e=>t=>t.test(e),UF={test:e=>e==="auto",parse:e=>e},yP=[wi,ue,dr,qr,LF,jF,UF],gw=e=>yP.find(gP(e)),Ho=new Set;let Fh=!1,$h=!1;function vP(){if($h){const e=Array.from(Ho).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=VF(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$h=!1,Fh=!1,Ho.forEach(e=>e.complete()),Ho.clear()}function wP(){Ho.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($h=!0)})}function BF(){wP(),vP()}class Xm{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ho.add(this),Fh||(Fh=!0,We.read(wP),We.resolveKeyframes(vP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ea=e=>Math.round(e*1e5)/1e5,Qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zF(e){return e==null}const qF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zm=(e,t)=>n=>!!(typeof n=="string"&&qF.test(n)&&n.startsWith(e)||t&&!zF(n)&&Object.prototype.hasOwnProperty.call(n,t)),xP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(Qm);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},WF=e=>jr(0,255,e),cf={...wi,transform:e=>Math.round(WF(e))},Oo={test:Zm("rgb","red"),parse:xP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+cf.transform(e)+", "+cf.transform(t)+", "+cf.transform(n)+", "+ea(_a.transform(r))+")"};function HF(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Vh={test:Zm("#"),parse:HF,transform:Oo.transform},Ps={test:Zm("hsl","hue"),parse:xP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+dr.transform(ea(t))+", "+dr.transform(ea(n))+", "+ea(_a.transform(r))+")"},Vt={test:e=>Oo.test(e)||Vh.test(e)||Ps.test(e),parse:e=>Oo.test(e)?Oo.parse(e):Ps.test(e)?Ps.parse(e):Vh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Oo.transform(e):Ps.transform(e)},GF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Qm))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(GF))===null||n===void 0?void 0:n.length)||0)>0}const SP="number",bP="color",YF="var",XF="var(",yw="${}",QF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ia(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(QF,l=>(Vt.test(l)?(r.color.push(s),o.push(bP),n.push(Vt.parse(l))):l.startsWith(XF)?(r.var.push(s),o.push(YF),n.push(l)):(r.number.push(s),o.push(SP),n.push(parseFloat(l))),++s,yw)).split(yw);return{values:n,split:a,indexes:r,types:o}}function CP(e){return Ia(e).values}function EP(e){const{split:t,types:n}=Ia(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===SP?s+=ea(o[i]):a===bP?s+=Vt.transform(o[i]):s+=o[i]}return s}}const ZF=e=>typeof e=="number"?0:e;function JF(e){const t=CP(e);return EP(e)(t.map(ZF))}const bo={test:KF,parse:CP,createTransformer:EP,getAnimatableNone:JF},e$=new Set(["brightness","contrast","saturate","opacity"]);function t$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Qm)||[];if(!r)return e;const o=n.replace(r,"");let s=e$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const n$=/\b([a-z-]*)\(.*?\)/gu,Uh={...bo,getAnimatableNone:e=>{const t=e.match(n$);return t?t.map(t$).join(" "):e}},r$={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},o$={rotate:qr,rotateX:qr,rotateY:qr,rotateZ:qr,scale:$l,scaleX:$l,scaleY:$l,scaleZ:$l,skew:qr,skewX:qr,skewY:qr,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:_a,originX:fw,originY:fw,originZ:ue},vw={...wi,transform:Math.round},Jm={...r$,...o$,zIndex:vw,size:ue,fillOpacity:_a,strokeOpacity:_a,numOctaves:vw},s$={...Jm,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:Uh,WebkitFilter:Uh},eg=e=>s$[e];function PP(e,t){let n=eg(e);return n!==Uh&&(n=bo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const i$=new Set(["auto","none","0"]);function a$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!i$.has(s)&&Ia(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=PP(n,o)}class TP extends Xm{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Ym(c))){const d=mP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!OF.has(r)||t.length!==2)return;const[o,s]=t,i=gw(o),a=gw(s);if(i!==a)if(hw(i)&&hw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)RF(t[o])&&r.push(o);r.length&&a$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=li[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=li[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function tg(e){return typeof e=="function"}let ac;function l$(){ac=void 0}const fr={now:()=>(ac===void 0&&fr.set(It.isProcessing||CF.useManualTiming?It.timestamp:performance.now()),ac),set:e=>{ac=e,queueMicrotask(l$)}},ww=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bo.test(e)||e==="0")&&!e.startsWith("url("));function c$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function u$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=ww(o,t),a=ww(s,t);return!i||!a?!1:c$(e)||(n==="spring"||tg(n))&&r}const d$=40;class kP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>d$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=fr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!u$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Gu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ci=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},AP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(ci(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function DP(e,t){return t?e*(1e3/t):0}const f$=5;function RP(e,t,n){const r=Math.max(t-f$,0);return DP(n-e(r),t-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uf=.001;function h$({duration:e=ht.duration,bounce:t=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let o,s,i=1-t;i=jr(ht.minDamping,ht.maxDamping,i),e=jr(ht.minDuration,ht.maxDuration,kr(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,y=Bh(c,i),g=Math.exp(-u);return uf-h/y*g},s=c=>{const u=c*i*e,h=u*n+n,y=Math.pow(i,2)*Math.pow(c,2)*e,g=Math.exp(-u),w=Bh(Math.pow(c,2),i);return(-o(c)+uf>0?-1:1)*((h-y)*g)/w}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-uf+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=m$(o,s,a);if(e=Tr(e),isNaN(l))return{stiffness:ht.stiffness,damping:ht.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const p$=12;function m$(e,t,n){let r=n;for(let o=1;o<p$;o++)r=r-e(r)/t(r);return r}function Bh(e,t){return e*Math.sqrt(1-t*t)}const zh=2e4;function MP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<zh;)t+=n,r=e.next(t);return t>=zh?1/0:t}const g$=["duration","bounce"],y$=["stiffness","damping","mass"];function xw(e,t){return t.some(n=>e[n]!==void 0)}function v$(e){let t={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...e};if(!xw(e,y$)&&xw(e,g$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*jr(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:ht.mass,stiffness:o,damping:s}}else{const n=h$(e);t={...t,...n,mass:ht.mass},t.isResolvedFromDuration=!0}return t}function _P(e=ht.visualDuration,t=ht.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:y}=v$({...n,velocity:-kr(n.velocity||0)}),g=h||0,w=c/(2*Math.sqrt(l*d)),S=i-s,m=kr(Math.sqrt(l/d)),v=Math.abs(S)<5;r||(r=v?ht.restSpeed.granular:ht.restSpeed.default),o||(o=v?ht.restDelta.granular:ht.restDelta.default);let x;if(w<1){const E=Bh(m,w);x=P=>{const k=Math.exp(-w*m*P);return i-k*((g+w*m*S)/E*Math.sin(E*P)+S*Math.cos(E*P))}}else if(w===1)x=E=>i-Math.exp(-m*E)*(S+(g+m*S)*E);else{const E=m*Math.sqrt(w*w-1);x=P=>{const k=Math.exp(-w*m*P),A=Math.min(E*P,300);return i-k*((g+w*m*S)*Math.sinh(A)+E*S*Math.cosh(A))/E}}const C={calculatedDuration:y&&u||null,next:E=>{const P=x(E);if(y)a.done=E>=u;else{let k=0;w<1&&(k=E===0?Tr(g):RP(x,E,P));const A=Math.abs(k)<=r,D=Math.abs(i-P)<=o;a.done=A&&D}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(MP(C),zh),P=AP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function Sw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},y=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let w=n*t;const S=u+w,m=i===void 0?S:i(S);m!==S&&(w=m-u);const v=A=>-w*Math.exp(-A/r),x=A=>m+v(A),C=A=>{const D=v(A),M=x(A);h.done=Math.abs(D)<=c,h.value=h.done?m:M};let E,P;const k=A=>{y(h.value)&&(E=A,P=_P({keyframes:[h.value,g(h.value)],velocity:RP(x,A,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let D=!1;return!P&&E===void 0&&(D=!0,C(A),k(A)),E!==void 0&&A>=E?P.next(A-E):(!D&&C(A),h)}}}const w$=tl(.42,0,1,1),x$=tl(0,0,.58,1),IP=tl(.42,0,.58,1),S$=e=>Array.isArray(e)&&typeof e[0]!="number",ng=e=>Array.isArray(e)&&typeof e[0]=="number",bw={linear:qt,easeIn:w$,easeInOut:IP,easeOut:x$,circIn:Km,circInOut:uP,circOut:cP,backIn:Gm,backInOut:aP,backOut:iP,anticipate:lP},Cw=e=>{if(ng(e)){Oh(e.length===4);const[t,n,r,o]=e;return tl(t,n,r,o)}else if(typeof e=="string")return Oh(bw[e]!==void 0),bw[e];return e},b$=(e,t)=>n=>t(e(n)),po=(...e)=>e.reduce(b$),at=(e,t,n)=>e+(t-e)*n;function df(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function C$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=df(l,a,e+1/3),s=df(l,a,e),i=df(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Gc(e,t){return n=>n>0?t:e}const ff=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},E$=[Vh,Oo,Ps],P$=e=>E$.find(t=>t.test(e));function Ew(e){const t=P$(e);if(!t)return!1;let n=t.parse(e);return t===Ps&&(n=C$(n)),n}const Pw=(e,t)=>{const n=Ew(e),r=Ew(t);if(!n||!r)return Gc(e,t);const o={...n};return s=>(o.red=ff(n.red,r.red,s),o.green=ff(n.green,r.green,s),o.blue=ff(n.blue,r.blue,s),o.alpha=at(n.alpha,r.alpha,s),Oo.transform(o))},qh=new Set(["none","hidden"]);function T$(e,t){return qh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function k$(e,t){return n=>at(e,t,n)}function rg(e){return typeof e=="number"?k$:typeof e=="string"?Ym(e)?Gc:Vt.test(e)?Pw:R$:Array.isArray(e)?NP:typeof e=="object"?Vt.test(e)?Pw:A$:Gc}function NP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>rg(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function A$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=rg(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function D$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const R$=(e,t)=>{const n=bo.createTransformer(t),r=Ia(e),o=Ia(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?qh.has(e)&&!o.values.length||qh.has(t)&&!r.values.length?T$(e,t):po(NP(D$(r,o),o.values),n):Gc(e,t)};function jP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?at(e,t,n):rg(e)(e,t)}function M$(e,t,n){const r=[],o=n||jP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||qt:t;a=po(l,a)}r.push(a)}return r}function _$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Oh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=M$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=ci(e[d],e[d+1],c);return i[d](u)};return n?c=>l(jr(e[0],e[s-1],c)):l}function I$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=ci(0,t,r);e.push(at(n,1,o))}}function N$(e){const t=[0];return I$(t,e.length-1),t}function j$(e,t){return e.map(n=>n*t)}function L$(e,t){return e.map(()=>t||IP).splice(0,e.length-1)}function Kc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=S$(r)?r.map(Cw):Cw(r),s={done:!1,value:t[0]},i=j$(n&&n.length===t.length?n:N$(t),e),a=_$(i,t,{ease:Array.isArray(o)?o:L$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const O$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>We.update(t,!0),stop:()=>So(t),now:()=>It.isProcessing?It.timestamp:fr.now()}},F$={decay:Sw,inertia:Sw,tween:Kc,keyframes:Kc,spring:_P},$$=e=>e/100;class og extends kP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||Xm,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=tg(n)?n:F$[n]||Kc;let l,c;a!==Kc&&typeof t[0]!="number"&&(l=po($$,jP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=MP(d));const{calculatedDuration:u}=d,h=u+o,y=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:y,repeatType:g,repeatDelay:w,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,C=s;if(y){const A=Math.min(this.currentTime,d)/u;let D=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(g==="reverse"?(M=1-M,w&&(M-=w/u)):g==="mirror"&&(C=i)),x=jr(0,1,M)*u}const E=v?{done:!1,value:l[0]}:C.next(x);a&&(E.value=a(E.value));let{done:P}=E;!v&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Gu(l,this.options,o)),S&&S(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?kr(t.calculatedDuration):0}get time(){return kr(this.currentTime)}set time(t){t=Tr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=kr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=O$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const V$=new Set(["opacity","clipPath","filter","transform"]);function sg(e){let t;return()=>(t===void 0&&(t=e()),t)}const U$={linearEasing:void 0};function B$(e,t){const n=sg(e);return()=>{var r;return(r=U$[t])!==null&&r!==void 0?r:n()}}const Yc=B$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function LP(e){return!!(typeof e=="function"&&Yc()||!e||typeof e=="string"&&(e in Wh||Yc())||ng(e)||Array.isArray(e)&&e.every(LP))}const Ui=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Wh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ui([0,.65,.55,1]),circOut:Ui([.55,0,1,.45]),backIn:Ui([.31,.01,.66,-.59]),backOut:Ui([.33,1.53,.69,.99])};function OP(e,t){if(e)return typeof e=="function"&&Yc()?AP(e,t):ng(e)?Ui(e):Array.isArray(e)?e.map(n=>OP(n,t)||Wh.easeOut):Wh[e]}function z$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=OP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function Tw(e,t){e.timeline=t,e.onfinish=null}const q$=sg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xc=10,W$=2e4;function H$(e){return tg(e.type)||e.type==="spring"||!LP(e.ease)}function G$(e,t){const n=new og({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<W$;)r=n.sample(s),o.push(r.value),s+=Xc;return{times:void 0,keyframes:o,duration:s-Xc,ease:"linear"}}const FP={anticipate:lP,backInOut:aP,circInOut:uP};function K$(e){return e in FP}class kw extends kP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new TP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Yc()&&K$(i)&&(i=FP[i]),H$(this.options)){const{onComplete:h,onUpdate:y,motionValue:g,element:w,...S}=this.options,m=G$(t,S);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=z$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Tw(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Gu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return kr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return kr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Tr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return qt;const{animation:r}=n;Tw(r,t)}return qt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...y}=this.options,g=new og({...y,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),w=Tr(this.time);c.setWithVelocity(g.sample(w-Xc).value,g.sample(w).value,Xc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return q$()&&r&&V$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const Y$=sg(()=>window.ScrollTimeline!==void 0);class X${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>Y$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Q$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const ig=(e,t,n,r={},o,s)=>i=>{const a=Hm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Tr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};Q$(a)||(d={...d,...bF(e,d)}),d.duration&&(d.duration=Tr(d.duration)),d.repeatDelay&&(d.repeatDelay=Tr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Gu(d.keyframes,a);if(h!==void 0)return We.update(()=>{d.onUpdate(h),d.onComplete()}),new X$([])}return!s&&kw.supports(d)?new kw(d):new og(d)},Z$=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),J$=e=>Lh(e)?e[e.length-1]||0:e;function ag(e,t){e.indexOf(t)===-1&&e.push(t)}function lg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cg{constructor(){this.subscriptions=[]}add(t){return ag(this.subscriptions,t),()=>lg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Aw=30,eV=e=>!isNaN(parseFloat(e));class tV{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=fr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=fr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new cg);const r=this.events[t].add(n);return t==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Aw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Aw);return DP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Na(e,t){return new tV(e,t)}function nV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Na(n))}function rV(e,t){const n=Hu(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=J$(s[i]);nV(e,i,a)}}const ug=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oV="framerAppearId",$P="data-"+ug(oV);function VP(e){return e.props[$P]}const zt=e=>!!(e&&e.getVelocity);function sV(e){return!!(zt(e)&&e.add)}function Hh(e,t){const n=e.getValue("willChange");if(sV(n))return n.add(t)}function iV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),y=l[u];if(y===void 0||d&&iV(d,u))continue;const g={delay:n,...Hm(i||{},u)};let w=!1;if(window.MotionHandoffAnimation){const m=VP(e);if(m){const v=window.MotionHandoffAnimation(m,u,We);v!==null&&(g.startTime=v,w=!0)}}Hh(e,u),h.start(ig(u,h,y,e.shouldReduceMotion&&is.has(u)?{type:!1}:g,e,w));const S=h.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{We.update(()=>{a&&rV(e,a)})}),c}function Gh(e,t,n={}){var r;const o=Hu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(UP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return aV(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function aV(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(lV).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Gh(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function lV(e,t){return e.sortNodePosition(t)}function cV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Gh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Gh(e,t,n);else{const o=typeof t=="function"?Hu(e,t,n.custom):t;r=Promise.all(UP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const uV=Wm.length;function BP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?BP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uV;n++){const r=Wm[n],o=e.props[r];(Ma(o)||o===!1)&&(t[r]=o)}return t}const dV=[...qm].reverse(),fV=qm.length;function hV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>cV(e,n,r)))}function pV(e){let t=hV(e),n=Dw(),r=!0;const o=l=>(c,d)=>{var u;const h=Hu(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:y,transitionEnd:g,...w}=h;c={...c,...w,...g}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=BP(e.parent)||{},u=[],h=new Set;let y={},g=1/0;for(let S=0;S<fV;S++){const m=dV[S],v=n[m],x=c[m]!==void 0?c[m]:d[m],C=Ma(x),E=m===l?v.isActive:null;E===!1&&(g=S);let P=x===d[m]&&x!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...y},!v.isActive&&E===null||!x&&!v.prevProp||Wu(x)||typeof x=="boolean")continue;const k=mV(v.prevProp,x);let A=k||m===l&&v.isActive&&!P&&C||S>g&&C,D=!1;const M=Array.isArray(x)?x:[x];let L=M.reduce(o(m),{});E===!1&&(L={});const{prevResolvedValues:O={}}=v,G={...O,...L},F=j=>{A=!0,h.has(j)&&(D=!0,h.delete(j)),v.needsAnimating[j]=!0;const R=e.getValue(j);R&&(R.liveStyle=!1)};for(const j in G){const R=L[j],_=O[j];if(y.hasOwnProperty(j))continue;let $=!1;Lh(R)&&Lh(_)?$=!tP(R,_):$=R!==_,$?R!=null?F(j):h.add(j):R!==void 0&&h.has(j)?F(j):v.protectedKeys[j]=!0}v.prevProp=x,v.prevResolvedValues=L,v.isActive&&(y={...y,...L}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(P&&k)||D)&&u.push(...M.map(j=>({animation:j,options:{type:m}})))}if(h.size){const S={};h.forEach(m=>{const v=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),S[m]=v??null}),u.push({animation:S})}let w=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var y;return(y=h.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Dw(),r=!0}}}function mV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tP(t,e):!1}function Do(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dw(){return{animate:Do(!0),whileInView:Do(),whileHover:Do(),whileTap:Do(),whileDrag:Do(),whileFocus:Do(),exit:Do()}}class To{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gV extends To{constructor(t){super(t),t.animationState||(t.animationState=pV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let yV=0;class vV extends To{constructor(){super(...arguments),this.id=yV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wV={animation:{Feature:gV},exit:{Feature:vV}};function xV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Ln={x:!1,y:!1};function zP(){return Ln.x||Ln.y}function Rw(e){return t=>{t.pointerType==="touch"||zP()||e(t)}}function SV(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=Rw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=Rw(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return xV(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function bV(e){return e==="x"||e==="y"?Ln[e]?null:(Ln[e]=!0,()=>{Ln[e]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1})}const qP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function rl(e){return{point:{x:e.pageX,y:e.pageY}}}const CV=e=>t=>qP(t)&&e(t,rl(t));function Er(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function mo(e,t,n,r){return Er(e,t,CV(n),r)}const Mw=(e,t)=>Math.abs(e-t);function EV(e,t){const n=Mw(e.x,t.x),r=Mw(e.y,t.y);return Math.sqrt(n**2+r**2)}class WP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=pf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=EV(u.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:g}=u,{timestamp:w}=It;this.history.push({...g,timestamp:w});const{onStart:S,onMove:m}=this.handlers;h||(S&&S(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=hf(h,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=pf(u.type==="pointercancel"?this.lastMoveEventInfo:hf(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(u,S),g&&g(u,S)},!qP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=rl(t),a=hf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=It;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,pf(a,this.history)),this.removeListeners=po(mo(this.contextWindow,"pointermove",this.handlePointerMove),mo(this.contextWindow,"pointerup",this.handlePointerUp),mo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),So(this.updatePoint)}}function hf(e,t){return t?{point:t(e.point)}:e}function _w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pf({point:e},t){return{point:e,delta:_w(e,HP(t)),offset:_w(e,PV(t)),velocity:TV(t,.1)}}function PV(e){return e[0]}function HP(e){return e[e.length-1]}function TV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=HP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Tr(t)));)n--;if(!r)return{x:0,y:0};const s=kr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ts(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const GP=1e-4,kV=1-GP,AV=1+GP,KP=.01,DV=0-KP,RV=0+KP;function yn(e){return e.max-e.min}function MV(e,t,n){return Math.abs(e-t)<=n}function Iw(e,t,n,r=.5){e.origin=r,e.originPoint=at(t.min,t.max,e.origin),e.scale=yn(n)/yn(t),e.translate=at(n.min,n.max,e.origin)-e.originPoint,(e.scale>=kV&&e.scale<=AV||isNaN(e.scale))&&(e.scale=1),(e.translate>=DV&&e.translate<=RV||isNaN(e.translate))&&(e.translate=0)}function ta(e,t,n,r){Iw(e.x,t.x,n.x,r?r.originX:void 0),Iw(e.y,t.y,n.y,r?r.originY:void 0)}function Nw(e,t,n){e.min=n.min+t.min,e.max=e.min+yn(t)}function _V(e,t,n){Nw(e.x,t.x,n.x),Nw(e.y,t.y,n.y)}function jw(e,t,n){e.min=t.min-n.min,e.max=e.min+yn(t)}function na(e,t,n){jw(e.x,t.x,n.x),jw(e.y,t.y,n.y)}function IV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?at(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?at(n,e,r.max):Math.min(e,n)),e}function Lw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function NV(e,{top:t,left:n,bottom:r,right:o}){return{x:Lw(e.x,n,o),y:Lw(e.y,t,r)}}function Ow(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jV(e,t){return{x:Ow(e.x,t.x),y:Ow(e.y,t.y)}}function LV(e,t){let n=.5;const r=yn(e),o=yn(t);return o>r?n=ci(t.min,t.max-r,e.min):r>o&&(n=ci(e.min,e.max-o,t.min)),jr(0,1,n)}function OV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Kh=.35;function FV(e=Kh){return e===!1?e=0:e===!0&&(e=Kh),{x:Fw(e,"left","right"),y:Fw(e,"top","bottom")}}function Fw(e,t,n){return{min:$w(e,t),max:$w(e,n)}}function $w(e,t){return typeof e=="number"?e:e[t]||0}const Vw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ks=()=>({x:Vw(),y:Vw()}),Uw=()=>({min:0,max:0}),yt=()=>({x:Uw(),y:Uw()});function Cn(e){return[e("x"),e("y")]}function YP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function $V({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mf(e){return e===void 0||e===1}function Yh({scale:e,scaleX:t,scaleY:n}){return!mf(e)||!mf(t)||!mf(n)}function _o(e){return Yh(e)||XP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function XP(e){return Bw(e.x)||Bw(e.y)}function Bw(e){return e&&e!=="0%"}function Qc(e,t,n){const r=e-n,o=t*r;return n+o}function zw(e,t,n,r,o){return o!==void 0&&(e=Qc(e,o,r)),Qc(e,n,r)+t}function Xh(e,t=0,n=1,r,o){e.min=zw(e.min,t,n,r,o),e.max=zw(e.max,t,n,r,o)}function QP(e,{x:t,y:n}){Xh(e.x,t.translate,t.scale,t.originPoint),Xh(e.y,n.translate,n.scale,n.originPoint)}const qw=.999999999999,Ww=1.0000000000001;function UV(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ds(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,QP(e,i)),r&&_o(s.latestValues)&&Ds(e,s.latestValues))}t.x<Ww&&t.x>qw&&(t.x=1),t.y<Ww&&t.y>qw&&(t.y=1)}function As(e,t){e.min=e.min+t,e.max=e.max+t}function Hw(e,t,n,r,o=.5){const s=at(e.min,e.max,o);Xh(e,t,n,s,r)}function Ds(e,t){Hw(e.x,t.x,t.scaleX,t.scale,t.originX),Hw(e.y,t.y,t.scaleY,t.scale,t.originY)}function ZP(e,t){return YP(VV(e.getBoundingClientRect(),t))}function BV(e,t,n){const r=ZP(e,n),{scroll:o}=t;return o&&(As(r.x,o.offset.x),As(r.y,o.offset.y)),r}const JP=({current:e})=>e?e.ownerDocument.defaultView:null,zV=new WeakMap;class qV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rl(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:y,onDragStart:g}=this.getProps();if(h&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bV(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(S=>{let m=this.getAxisMotionValue(S).get()||0;if(dr.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[S];x&&(m=yn(x)*(parseFloat(m)/100))}}this.originPoint[S]=m}),g&&We.postRender(()=>g(d,u)),Hh(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:g,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:S}=u;if(y&&this.currentDirection===null){this.currentDirection=WV(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",u.point,S),this.updateAxis("y",u.point,S),this.visualElement.render(),w&&w(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Cn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new WP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:JP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&We.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Vl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=IV(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ts(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=NV(o.layoutBox,n):this.constraints=!1,this.elastic=FV(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Cn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=OV(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ts(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=BV(r,o.root,this.visualElement.getTransformPagePoint());let i=jV(o.layout.layoutBox,s);if(n){const a=n($V(i));this.hasMutatedConstraints=!!a,a&&(i=YP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cn(d=>{if(!Vl(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,y=o?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hh(this.visualElement,t),r.start(ig(t,r,0,n,this.visualElement,!1))}stopAnimation(){Cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Cn(n=>{const{drag:r}=this.getProps();if(!Vl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-at(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ts(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Cn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=LV({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cn(i=>{if(!Vl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(at(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;zV.set(this.visualElement,this);const t=this.visualElement.current,n=mo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ts(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),We.read(r);const i=Er(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Kh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Vl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class HV extends To{constructor(t){super(t),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new qV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gw=e=>(t,n)=>{e&&We.postRender(()=>e(t,n))};class GV extends To{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(t){this.session=new WP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Gw(t),onStart:Gw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&We.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=mo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ku=f.createContext(null);function KV(){const e=f.useContext(Ku);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const dg=f.createContext({}),eT=f.createContext({}),lc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ji={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const n=Kw(e,t.target.x),r=Kw(e,t.target.y);return`${n}% ${r}%`}},YV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=bo.parse(e);if(o.length>5)return r;const s=bo.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=at(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},Zc={};function XV(e){Object.assign(Zc,e)}const{schedule:fg,cancel:t3}=nP(queueMicrotask,!1);class QV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;XV(ZV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),lc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||We.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tT(e){const[t,n]=KV(),r=f.useContext(dg);return p.jsx(QV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(eT),isPresent:t,safeToRemove:n})}const ZV={borderRadius:{...ji,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ji,borderTopRightRadius:ji,borderBottomLeftRadius:ji,borderBottomRightRadius:ji,boxShadow:YV},nT=["TopLeft","TopRight","BottomLeft","BottomRight"],JV=nT.length,Yw=e=>typeof e=="string"?parseFloat(e):e,Xw=e=>typeof e=="number"||ue.test(e);function eU(e,t,n,r,o,s){o?(e.opacity=at(0,n.opacity!==void 0?n.opacity:1,tU(r)),e.opacityExit=at(t.opacity!==void 0?t.opacity:1,0,nU(r))):s&&(e.opacity=at(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<JV;i++){const a=`border${nT[i]}Radius`;let l=Qw(t,a),c=Qw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Xw(l)===Xw(c)?(e[a]=Math.max(at(Yw(l),Yw(c),r),0),(dr.test(c)||dr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=at(t.rotate||0,n.rotate||0,r))}function Qw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tU=rT(0,.5,cP),nU=rT(.5,.95,qt);function rT(e,t,n){return r=>r<e?0:r>t?1:n(ci(e,t,r))}function Zw(e,t){e.min=t.min,e.max=t.max}function bn(e,t){Zw(e.x,t.x),Zw(e.y,t.y)}function Jw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function e0(e,t,n,r,o){return e-=t,e=Qc(e,1/n,r),o!==void 0&&(e=Qc(e,1/o,r)),e}function rU(e,t=0,n=1,r=.5,o,s=e,i=e){if(dr.test(t)&&(t=parseFloat(t),t=at(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=at(s.min,s.max,r);e===s&&(a-=t),e.min=e0(e.min,t,n,a,o),e.max=e0(e.max,t,n,a,o)}function t0(e,t,[n,r,o],s,i){rU(e,t[n],t[r],t[o],t.scale,s,i)}const oU=["x","scaleX","originX"],sU=["y","scaleY","originY"];function n0(e,t,n,r){t0(e.x,t,oU,n?n.x:void 0,r?r.x:void 0),t0(e.y,t,sU,n?n.y:void 0,r?r.y:void 0)}function r0(e){return e.translate===0&&e.scale===1}function oT(e){return r0(e.x)&&r0(e.y)}function o0(e,t){return e.min===t.min&&e.max===t.max}function iU(e,t){return o0(e.x,t.x)&&o0(e.y,t.y)}function s0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sT(e,t){return s0(e.x,t.x)&&s0(e.y,t.y)}function i0(e){return yn(e.x)/yn(e.y)}function a0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aU{constructor(){this.members=[]}add(t){ag(this.members,t),t.scheduleRender()}remove(t){if(lg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lU(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:y,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const cU=(e,t)=>e.depth-t.depth;class uU{constructor(){this.children=[],this.isDirty=!1}add(t){ag(this.children,t),this.isDirty=!0}remove(t){lg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cU),this.isDirty=!1,this.children.forEach(t)}}function cc(e){const t=zt(e)?e.get():e;return Z$(t)?t.toValue():t}function dU(e,t){const n=fr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(So(r),e(s-t))};return We.read(r,!0),()=>So(r)}function fU(e){return e instanceof SVGElement&&e.tagName!=="svg"}function hU(e,t,n){const r=zt(e)?e:Na(e);return r.start(ig("",r,t,n)),r.animation}const Io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bi=typeof window<"u"&&window.MotionDebug!==void 0,gf=["","X","Y","Z"],pU={visibility:"hidden"},l0=1e3;let mU=0;function yf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function iT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&iT(r)}function aT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=mU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bi&&(Io.totalNodes=Io.resolvedTargetDeltas=Io.recalculatedProjection=0),this.nodes.forEach(vU),this.nodes.forEach(CU),this.nodes.forEach(EU),this.nodes.forEach(wU),Bi&&window.MotionDebug.record(Io)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uU)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new cg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fU(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=dU(h,250),lc.hasAnimatedSinceResize&&(lc.hasAnimatedSinceResize=!1,this.nodes.forEach(u0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||DU,{onLayoutAnimationStart:S,onLayoutAnimationComplete:m}=d.getProps(),v=!this.targetLayout||!sT(this.targetLayout,g)||y,x=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,x);const C={...Hm(w,"layout"),onPlay:S,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||u0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,So(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PU),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c0);return}this.isUpdating||this.nodes.forEach(SU),this.isUpdating=!1,this.nodes.forEach(bU),this.nodes.forEach(gU),this.nodes.forEach(yU),this.clearAllSnapshots();const a=fr.now();It.delta=jr(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,lf.update.process(It),lf.preRender.process(It),lf.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xU),this.sharedNodes.forEach(TU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!oT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||_o(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),RU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return yt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(MU))){const{scroll:d}=this.root;d&&(As(l.x,d.offset.x),As(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=yt();if(bn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&bn(l,i),As(l.x,u.offset.x),As(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=yt();bn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ds(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_o(d.latestValues)&&Ds(l,d.latestValues)}return _o(this.latestValues)&&Ds(l,this.latestValues),l}removeTransform(i){const a=yt();bn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!_o(c.latestValues))continue;Yh(c.latestValues)&&c.updateSnapshot();const d=yt(),u=c.measurePageBox();bn(d,u),n0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return _o(this.latestValues)&&n0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),na(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),QP(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),na(this.relativeTargetOrigin,this.target,y.target),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bi&&Io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yh(this.parent.latestValues)||XP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===It.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;bn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;UV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=yt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jw(this.prevProjectionDelta.x,this.projectionDelta.x),Jw(this.prevProjectionDelta.y,this.projectionDelta.y)),ta(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!a0(this.projectionDelta.x,this.prevProjectionDelta.x)||!a0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Bi&&Io.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ks(),this.projectionDelta=ks(),this.projectionDeltaWithTransform=ks()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=ks();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=yt(),y=l?l.source:void 0,g=this.layout?this.layout.source:void 0,w=y!==g,S=this.getStack(),m=!S||S.members.length<=1,v=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(AU));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const E=C/1e3;d0(u.x,i.x,E),d0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(na(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kU(this.relativeTarget,this.relativeTargetOrigin,h,E),x&&iU(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=yt()),bn(x,this.relativeTarget)),w&&(this.animationValues=d,eU(d,c,this.latestValues,E,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(So(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{lc.hasAnimatedSinceResize=!0,this.currentAnimation=hU(0,l0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&lT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||yt();const u=yn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=yn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}bn(a,l),Ds(a,d),ta(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new aU),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&yf("z",i,c,this.animationValues);for(let d=0;d<gf.length;d++)yf(`rotate${gf[d]}`,i,c,this.animationValues),yf(`skew${gf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pU;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=cc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=cc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!_o(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=lU(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:y,y:g}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${g.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Zc){if(h[w]===void 0)continue;const{correct:S,applyTo:m}=Zc[w],v=c.transform==="none"?h[w]:S(h[w],u);if(m){const x=m.length;for(let C=0;C<x;C++)c[m[C]]=v}else c[w]=v}return this.options.layoutId&&(c.pointerEvents=u===this?cc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(c0),this.root.sharedNodes.clear()}}}function gU(e){e.updateLayout()}function yU(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?Cn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],y=yn(h);h.min=r[u].min,h.max=h.min+y}):lT(s,n.layoutBox,r)&&Cn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],y=yn(r[u]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+y)});const a=ks();ta(a,r,n.layoutBox);const l=ks();i?ta(l,e.applyTransform(o,!0),n.measuredBox):ta(l,r,n.layoutBox);const c=!oT(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:y}=u;if(h&&y){const g=yt();na(g,n.layoutBox,h.layoutBox);const w=yt();na(w,r,y.layoutBox),sT(g,w)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=g,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function vU(e){Bi&&Io.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xU(e){e.clearSnapshot()}function c0(e){e.clearMeasurements()}function SU(e){e.isLayoutDirty=!1}function bU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function u0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CU(e){e.resolveTargetDelta()}function EU(e){e.calcProjection()}function PU(e){e.resetSkewAndRotation()}function TU(e){e.removeLeadSnapshot()}function d0(e,t,n){e.translate=at(t.translate,0,n),e.scale=at(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function f0(e,t,n,r){e.min=at(t.min,n.min,r),e.max=at(t.max,n.max,r)}function kU(e,t,n,r){f0(e.x,t.x,n.x,r),f0(e.y,t.y,n.y,r)}function AU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DU={duration:.45,ease:[.4,0,.1,1]},h0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),p0=h0("applewebkit/")&&!h0("chrome/")?Math.round:qt;function m0(e){e.min=p0(e.min),e.max=p0(e.max)}function RU(e){m0(e.x),m0(e.y)}function lT(e,t,n){return e==="position"||e==="preserve-aspect"&&!MV(i0(t),i0(n),.2)}function MU(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const _U=aT({attachResizeListener:(e,t)=>Er(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vf={current:void 0},cT=aT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vf.current){const e=new _U({});e.mount(window),e.setOptions({layoutScroll:!0}),vf.current=e}return vf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IU={pan:{Feature:GV},drag:{Feature:HV,ProjectionNode:cT,MeasureLayout:tT}};function g0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&We.postRender(()=>o(t,rl(t)))}class NU extends To{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=SV(t,r=>(g0(this.node,r,!0),o=>g0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class jU extends To{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=po(Er(this.node.current,"focus",()=>this.onFocus()),Er(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uT=(e,t)=>t?e===t?!0:uT(e,t.parentElement):!1;function wf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,rl(n))}class LU extends To{constructor(){super(...arguments),this.removeStartListeners=qt,this.removeEndListeners=qt,this.removeAccessibleListeners=qt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=mo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!uT(this.node.current,a.target)?d:c;h&&We.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=mo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=po(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||wf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&We.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Er(this.node.current,"keyup",i),wf("down",(a,l)=>{this.startPress(a,l)})},n=Er(this.node.current,"keydown",t),r=()=>{this.isPressing&&wf("cancel",(s,i)=>this.cancelPress(s,i))},o=Er(this.node.current,"blur",r);this.removeAccessibleListeners=po(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&We.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&We.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=mo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Er(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=po(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qh=new WeakMap,xf=new WeakMap,OU=e=>{const t=Qh.get(e.target);t&&t(e)},FU=e=>{e.forEach(OU)};function $U({root:e,...t}){const n=e||document;xf.has(n)||xf.set(n,{});const r=xf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(FU,{root:e,...t})),r[o]}function VU(e,t,n){const r=$U(t);return Qh.set(e,n),r.observe(e),()=>{Qh.delete(e),r.unobserve(e)}}const UU={some:0,all:1};class BU extends To{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UU[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return VU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zU(t,n))&&this.startObserver()}unmount(){}}function zU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qU={inView:{Feature:BU},tap:{Feature:LU},focus:{Feature:jU},hover:{Feature:NU}},WU={layout:{ProjectionNode:cT,MeasureLayout:tT}},hg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Yu=f.createContext({}),pg=typeof window<"u",dT=pg?f.useLayoutEffect:f.useEffect,fT=f.createContext({strict:!1});function HU(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Yu),l=f.useContext(fT),c=f.useContext(Ku),d=f.useContext(hg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,y=f.useContext(eT);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&GU(u.current,n,o,y);const g=f.useRef(!1);f.useInsertionEffect(()=>{h&&g.current&&h.update(n,c)});const w=n[$P],S=f.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,w)));return dT(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),fg.render(h.render),S.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!S.current&&h.animationState&&h.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,w)}),S.current=!1))}),h}function GU(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:hT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Ts(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function hT(e){if(e)return e.options.allowProjection!==!1?e.projection:hT(e.parent)}function KU(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ts(n)&&(n.current=r))},[t])}function Xu(e){return Wu(e.animate)||Wm.some(t=>Ma(e[t]))}function pT(e){return!!(Xu(e)||e.variants)}function YU(e,t){if(Xu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ma(n)?n:void 0,animate:Ma(r)?r:void 0}}return e.inherit!==!1?t:{}}function XU(e){const{initial:t,animate:n}=YU(e,f.useContext(Yu));return f.useMemo(()=>({initial:t,animate:n}),[y0(t),y0(n)])}function y0(e){return Array.isArray(e)?e.join(" "):e}const v0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ui={};for(const e in v0)ui[e]={isEnabled:t=>v0[e].some(n=>!!t[n])};function QU(e){for(const t in e)ui[t]={...ui[t],...e[t]}}const ZU=Symbol.for("motionComponentSymbol");function JU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&QU(e);function s(a,l){let c;const d={...f.useContext(hg),...a,layoutId:eB(a)},{isStatic:u}=d,h=XU(a),y=r(a,u);if(!u&&pg){tB();const g=nB(d);c=g.MeasureLayout,h.visualElement=HU(o,y,d,t,g.ProjectionNode)}return p.jsxs(Yu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,KU(y,h.visualElement,l),y,u,h.visualElement)]})}const i=f.forwardRef(s);return i[ZU]=o,i}function eB({layoutId:e}){const t=f.useContext(dg).id;return t&&e!==void 0?t+"-"+e:e}function tB(e,t){f.useContext(fT).strict}function nB(e){const{drag:t,layout:n}=ui;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mg(e){return typeof e!="string"||e.includes("-")?!1:!!(rB.indexOf(e)>-1||/[A-Z]/u.test(e))}function mT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const gT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yT(e,t,n,r){mT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(gT.has(o)?o:ug(o),t.attrs[o])}function vT(e,{layout:t,layoutId:n}){return is.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Zc[e]||e==="opacity")}function gg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(zt(o[i])||t.style&&zt(t.style[i])||vT(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function wT(e,t,n){const r=gg(e,t,n);for(const o in e)if(zt(e[o])||zt(t[o])){const s=el.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function yg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function oB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:sB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const xT=e=>(t,n)=>{const r=f.useContext(Yu),o=f.useContext(Ku),s=()=>oB(e,t,r,o);return n?s():yg(s)};function sB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=cc(s[h]);let{initial:i,animate:a}=e;const l=Xu(e),c=pT(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Wu(u)){const h=Array.isArray(u)?u:[u];for(let y=0;y<h.length;y++){const g=zm(e,h[y]);if(g){const{transitionEnd:w,transition:S,...m}=g;for(const v in m){let x=m[v];if(Array.isArray(x)){const C=d?x.length-1:0;x=x[C]}x!==null&&(o[v]=x)}for(const v in w)o[v]=w[v]}}}return o}const vg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ST=()=>({...vg(),attrs:{}}),bT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,iB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aB=el.length;function lB(e,t,n){let r="",o=!0;for(let s=0;s<aB;s++){const i=el[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=bT(a,Jm[i]);if(!l){o=!1;const d=iB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function wg(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(is.has(l)){i=!0;continue}else if(pP(l)){o[l]=c;continue}else{const d=bT(c,Jm[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=lB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function w0(e,t,n){return typeof e=="string"?e:ue.transform(t+n*e)}function cB(e,t,n){const r=w0(t,e.x,e.width),o=w0(n,e.y,e.height);return`${r} ${o}`}const uB={offset:"stroke-dashoffset",array:"stroke-dasharray"},dB={offset:"strokeDashoffset",array:"strokeDasharray"};function fB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?uB:dB;e[s.offset]=ue.transform(-r);const i=ue.transform(t),a=ue.transform(n);e[s.array]=`${i} ${a}`}function xg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(wg(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:y,dimensions:g}=e;h.transform&&(g&&(y.transform=h.transform),delete h.transform),g&&(o!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=cB(g,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&fB(h,i,a,l,!1)}const Sg=e=>typeof e=="string"&&e.toLowerCase()==="svg",hB={useVisualState:xT({scrapeMotionValuesFromProps:wT,createRenderState:ST,onMount:(e,t,{renderState:n,latestValues:r})=>{We.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),We.render(()=>{xg(n,r,Sg(t.tagName),e.transformTemplate),yT(t,n)})}})},pB={useVisualState:xT({scrapeMotionValuesFromProps:gg,createRenderState:vg})};function CT(e,t,n){for(const r in t)!zt(t[r])&&!vT(r,n)&&(e[r]=t[r])}function mB({transformTemplate:e},t){return f.useMemo(()=>{const n=vg();return wg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function gB(e,t){const n=e.style||{},r={};return CT(r,n,e),Object.assign(r,mB(e,t)),r}function yB(e,t){const n={},r=gB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const vB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vB.has(e)}let ET=e=>!Jc(e);function wB(e){e&&(ET=t=>t.startsWith("on")?!Jc(t):e(t))}try{wB(require("@emotion/is-prop-valid").default)}catch{}function xB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(ET(o)||n===!0&&Jc(o)||!t&&!Jc(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function SB(e,t,n,r){const o=f.useMemo(()=>{const s=ST();return xg(s,t,Sg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};CT(s,e.style,e),o.style={...s,...o.style}}return o}function bB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(mg(n)?SB:yB)(r,s,i,n),c=xB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>zt(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function CB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...mg(r)?hB:pB,preloadedFeatures:e,useRender:bB(o),createVisualElement:t,Component:r};return JU(i)}}const Zh={current:null},PT={current:!1};function EB(){if(PT.current=!0,!!pg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zh.current=e.matches;e.addListener(t),t()}else Zh.current=!1}function PB(e,t,n){for(const r in t){const o=t[r],s=n[r];if(zt(o))e.addValue(r,o);else if(zt(s))e.addValue(r,Na(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,Na(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const x0=new WeakMap,TB=[...yP,Vt,bo],kB=e=>TB.find(gP(e)),S0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=fr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Xu(n),this.isVariantNode=pT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const y=u[h];l[h]!==void 0&&zt(y)&&y.set(l[h],!1)}}mount(t){this.current=t,x0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PT.current||EB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){x0.delete(this.current),this.projection&&this.projection.unmount(),So(this.notifyUpdate),So(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=is.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ui){const n=ui[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S0.length;r++){const o=S0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=PB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Na(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(fP(o)||dP(o))?o=parseFloat(o):!kB(o)&&bo.test(n)&&(o=PP(t,n)),this.setBaseTarget(t,zt(o)?o.get():o)),zt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=zm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!zt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new cg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class TT extends AB{constructor(){super(...arguments),this.KeyframeResolver=TP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DB(e){return window.getComputedStyle(e)}class RB extends TT{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(t,n){if(is.has(n)){const r=eg(n);return r&&r.default||0}else{const r=DB(t),o=(pP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ZP(t,n)}build(t,n,r){wg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return gg(t,n,r)}}class MB extends TT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(is.has(n)){const r=eg(n);return r&&r.default||0}return n=gT.has(n)?n:ug(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return wT(t,n,r)}build(t,n,r){xg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){yT(t,n,r,o)}mount(t){this.isSVGTag=Sg(t.tagName),super.mount(t)}}const _B=(e,t)=>mg(e)?new MB(t):new RB(t,{allowProjection:e!==f.Fragment}),IB=CB({...wV,...qU,...IU,...WU},_B),Qu=yF(IB);class NB extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(hg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(NB,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const LB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=yg(OB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(jB,{isPresent:n,children:e})),p.jsx(Ku.Provider,{value:d,children:e})};function OB(){return new Map}const Ul=e=>e.key||"";function b0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const bg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>b0(e),[e]),l=a.map(Ul),c=f.useRef(!0),d=f.useRef(a),u=yg(()=>new Map),[h,y]=f.useState(a),[g,w]=f.useState(a);dT(()=>{c.current=!1,d.current=a;for(let v=0;v<g.length;v++){const x=Ul(g[v]);l.includes(x)?u.delete(x):u.get(x)!==!0&&u.set(x,!1)}},[g,l.length,l.join("-")]);const S=[];if(a!==h){let v=[...a];for(let x=0;x<g.length;x++){const C=g[x],E=Ul(C);l.includes(E)||(v.splice(x,0,C),S.push(C))}i==="wait"&&S.length&&(v=S),w(b0(v)),y(a);return}const{forceRender:m}=f.useContext(dg);return p.jsx(p.Fragment,{children:g.map(v=>{const x=Ul(v),C=a===g||l.includes(x),E=()=>{if(u.has(x))u.set(x,!0);else return;let P=!0;u.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),w(d.current),o&&o())};return p.jsx(LB,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:v},x)})})};function FB({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(Qu.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function $B(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=Yn(),a=50,l=.3,c={enter:g=>({x:g>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:g=>({x:g<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(g,w)=>{const{offset:S,velocity:m}=w;S.x>a||m.x>l&&S.x>10?s(-1):(S.x<-a||m.x<-l&&S.x<-10)&&s(1)},u=f.useCallback(g=>{const S=new Date(Date.UTC(t,e-1,g)).toISOString().split("T")[0],m=n.filter(x=>x.date===S);return{hasPhotoEntries:m.some(x=>x.photos&&x.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const g=new Date(t,e-1,0).getDate(),w=new Date(t,e-1,1).getDay(),S=Array(w).fill(null).map((v,x)=>({type:"empty",index:x})),m=Array.from({length:g},(v,x)=>({type:"day",day:x+1}));return[...S,...m]},[e,t]),y=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(g=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:g},g))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(bg,{initial:!1,custom:r,mode:"wait",children:p.jsx(Qu.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:y,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(g=>{const w=m=>m.type==="day",S=w(g)?`day-${g.day}`:`empty-${g.index}`;if(w(g)){const{hasPhotoEntries:m,entryCount:v}=u(g.day);return p.jsx(FB,{day:g.day,hasPhotoEntries:m,entryCount:v,onClick:()=>o(g.day)},S)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},S)})},`${t}-${e}`)})]})]})}function VB(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=Yn(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(ze,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(F_,{className:"h-4 w-4"})}),p.jsxs(ze,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(O_,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(ze,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(Xb,{className:"h-4 w-4"})})]})}function Cg(e,[t,n]){return Math.min(n,Math.max(t,e))}function UB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Eg="ScrollArea",[kT,r3]=ln(Eg),[BB,In]=kT(Eg),AT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[y,g]=f.useState(null),[w,S]=f.useState(null),[m,v]=f.useState(0),[x,C]=f.useState(0),[E,P]=f.useState(!1),[k,A]=f.useState(!1),D=Me(t,L=>l(L)),M=Qa(o);return p.jsx(BB,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:y,onScrollbarXChange:g,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:C,children:p.jsx(pe.div,{dir:M,...i,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});AT.displayName=Eg;var DT="ScrollAreaViewport",RT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=In(DT,n),a=f.useRef(null),l=Me(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RT.displayName=DT;var gr="ScrollAreaScrollbar",Pg=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=In(gr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(zB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(qB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(MT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Tg,{...r,ref:t}):null});Pg.displayName=gr;var zB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=In(gr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(cn,{present:n||s,children:p.jsx(MT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),qB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=In(gr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Ju(()=>l("SCROLL_END"),100),[a,l]=UB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const y=c[d];u!==y&&(l("SCROLL"),i()),u=y};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(cn,{present:n||a!=="hidden",children:p.jsx(Tg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),MT=f.forwardRef((e,t)=>{const n=In(gr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=Ju(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return di(n.viewport,l),di(n.content,l),p.jsx(cn,{present:r||s,children:p.jsx(Tg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Tg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=In(gr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=LT(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,y){return XB(h,i.current,a,y)}return n==="horizontal"?p.jsx(WB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,y=C0(h,a,o.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(HB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,y=C0(h,a);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),WB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=In(gr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Me(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(IT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),FT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:tu(i.paddingLeft),paddingEnd:tu(i.paddingRight)}})}})}),HB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=In(gr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Me(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(IT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),FT(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:tu(i.paddingTop),paddingEnd:tu(i.paddingBottom)}})}})}),[GB,_T]=kT(gr),IT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,y=In(gr,n),[g,w]=f.useState(null),S=Me(t,D=>w(D)),m=f.useRef(null),v=f.useRef(""),x=y.viewport,C=r.content-r.viewport,E=it(d),P=it(l),k=Ju(u,10);function A(D){if(m.current){const M=D.clientX-m.current.left,L=D.clientY-m.current.top;c({x:M,y:L})}}return f.useEffect(()=>{const D=M=>{const L=M.target;(g==null?void 0:g.contains(L))&&E(M,C)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[x,g,C,E]),f.useEffect(P,[r,P]),di(g,k),di(y.content,k),p.jsx(GB,{scope:n,scrollbar:g,hasThumb:o,onThumbChange:it(s),onThumbPointerUp:it(i),onThumbPositionChange:P,onThumbPointerDown:it(a),children:p.jsx(pe.div,{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:Z(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),m.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:Z(e.onPointerMove,A),onPointerUp:Z(e.onPointerUp,D=>{const M=D.target;M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),m.current=null})})})}),eu="ScrollAreaThumb",NT=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=_T(eu,e.__scopeScrollArea);return p.jsx(cn,{present:n||o.hasThumb,children:p.jsx(KB,{ref:t,...r})})}),KB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=In(eu,n),i=_T(eu,n),{onThumbPositionChange:a}=i,l=Me(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=Ju(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const y=QB(u,a);c.current=y,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(pe.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(e.onPointerDownCapture,u=>{const y=u.target.getBoundingClientRect(),g=u.clientX-y.left,w=u.clientY-y.top;i.onThumbPointerDown({x:g,y:w})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});NT.displayName=eu;var kg="ScrollAreaCorner",jT=f.forwardRef((e,t)=>{const n=In(kg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(YB,{...e,ref:t}):null});jT.displayName=kg;var YB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=In(kg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return di(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),di(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(pe.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function tu(e){return e?parseInt(e,10):0}function LT(e,t){const n=e/t;return isNaN(n)?0:n}function Zu(e){const t=LT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function XB(e,t,n,r="ltr"){const o=Zu(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return OT([l,c],u)(e)}function C0(e,t,n="ltr"){const r=Zu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Cg(e,l);return OT([0,i],[0,a])(c)}function OT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function FT(e,t){return e>0&&e<t}var QB=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Ju(e,t){const n=it(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function di(e,t){const n=it(t);_n(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var $T=AT,ZB=RT,JB=jT;const VT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs($T,{ref:r,className:Q("relative overflow-hidden",e),...n,children:[p.jsx(ZB,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(UT,{}),p.jsx(JB,{})]}));VT.displayName=$T.displayName;const UT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Pg,{ref:r,orientation:t,className:Q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(NT,{className:"relative flex-1 rounded-full bg-border"})}));UT.displayName=Pg.displayName;const e4=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},BT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const y=c.current,g=d.current;if(g){const w=e4(g),S=w*t,v=g.scrollHeight>S+w*.5;l(v),i(y&&!r?y.scrollHeight>y.clientHeight+2||v:!1),y&&!r&&v?(y.style.maxHeight=`${S}px`,y.style.overflow="hidden"):y&&(y.style.maxHeight="",y.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const y=c.current;if(!y)return;const g=new ResizeObserver(()=>{u()});return g.observe(y),()=>g.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:Q("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:Q("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(ze,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function t4(e){return Object.prototype.toString.call(e)==="[object Object]"}function E0(e){return t4(e)||Array.isArray(e)}function n4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ag(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!E0(a)||!E0(l)?a===l:Ag(a,l)})}function P0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function r4(e,t){if(e.length!==t.length)return!1;const n=P0(e),r=P0(t);return n.every((o,s)=>{const i=r[s];return Ag(o,i)})}function Dg(e){return typeof e=="number"}function Jh(e){return typeof e=="string"}function ed(e){return typeof e=="boolean"}function T0(e){return Object.prototype.toString.call(e)==="[object Object]"}function lt(e){return Math.abs(e)}function Rg(e){return Math.sign(e)}function ra(e,t){return lt(e-t)}function o4(e,t){if(e===0||t===0||lt(e)<=lt(t))return 0;const n=ra(lt(e),lt(t));return lt(n/e)}function s4(e){return Math.round(e*100)/100}function ja(e){return La(e).map(Number)}function qn(e){return e[ol(e)]}function ol(e){return Math.max(0,e.length-1)}function Mg(e,t){return t===ol(e)}function k0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function La(e){return Object.keys(e)}function zT(e,t){return[e,t].reduce((n,r)=>(La(r).forEach(o=>{const s=n[o],i=r[o],a=T0(s)&&T0(i);n[o]=a?zT(s,i):i}),n),{})}function ep(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function i4(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return Jh(e)?n[e](l):e(t,l,c)}return{measure:i}}function Oa(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function a4(e,t,n,r){const o=Oa(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&g()})}function d(){y(),o.clear()}function u(S){if(!l)return;i||(i=S,n(),n());const m=S-i;for(i=S,a+=m;a>=s;)n(),a-=s;const v=a/s;r(v),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function y(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function g(){i=null,a=0}return{init:c,destroy:d,start:h,stop:y,update:n,render:r}}function l4(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(g){const{height:w,width:S}=g;return r?w:S}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(g){return g*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function es(e=0,t=0){const n=lt(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function qT(e,t,n){const{constrain:r}=es(0,e),o=e+1;let s=i(t);function i(h){return n?lt((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return qT(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function c4(e,t,n,r,o,s,i,a,l,c,d,u,h,y,g,w,S,m,v){const{cross:x,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Oa(),A=Oa(),D=es(50,225).constrain(y.measure(20)),M={mouse:300,touch:400},L={mouse:500,touch:600},O=g?43:25;let G=!1,F=0,W=0,N=!1,j=!1,R=!1,_=!1;function $(X){if(!v)return;function he(rt){(ed(v)||v(X,rt))&&Te(rt)}const be=t;k.add(be,"dragstart",rt=>rt.preventDefault(),P).add(be,"touchmove",()=>{},P).add(be,"touchend",()=>{}).add(be,"touchstart",he).add(be,"mousedown",he).add(be,"touchcancel",ke).add(be,"contextmenu",ke).add(be,"click",_e,!0)}function H(){k.clear(),A.clear()}function Y(){const X=_?n:t;A.add(X,"touchmove",Se,P).add(X,"touchend",ke).add(X,"mousemove",Se,P).add(X,"mouseup",ke)}function se(X){const he=X.nodeName||"";return E.includes(he)}function ae(){return(g?L:M)[_?"mouse":"touch"]}function we(X,he){const be=u.add(Rg(X)*-1),rt=d.byDistance(X,!g).distance;return g||lt(X)<D?rt:S&&he?rt*.5:d.byIndex(be.get(),0).distance}function Te(X){const he=ep(X,r);_=he,R=g&&he&&!X.buttons&&G,G=ra(o.get(),i.get())>=2,!(he&&X.button!==0)&&(se(X.target)||(N=!0,s.pointerDown(X),c.useFriction(0).useDuration(0),o.set(i),Y(),F=s.readPoint(X),W=s.readPoint(X,x),h.emit("pointerDown")))}function Se(X){if(!ep(X,r)&&X.touches.length>=2)return ke(X);const be=s.readPoint(X),rt=s.readPoint(X,x),mt=ra(be,F),gt=ra(rt,W);if(!j&&!_&&(!X.cancelable||(j=mt>gt,!j)))return ke(X);const St=s.pointerMove(X);mt>w&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(St)),X.preventDefault()}function ke(X){const be=d.byDistance(0,!1).index!==u.get(),rt=s.pointerUp(X)*ae(),mt=we(C(rt),be),gt=o4(rt,mt),St=O-10*gt,ot=m+gt/50;j=!1,N=!1,A.clear(),c.useDuration(St).useFriction(ot),l.distance(mt,!g),_=!1,h.emit("pointerUp")}function _e(X){R&&(X.stopPropagation(),X.preventDefault(),R=!1)}function He(){return N}return{init:$,destroy:H,pointerDown:He}}function u4(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const g=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(ep(u,t)?u:u.touches[0])[g]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),y=s(u)-s(r)>170;return o=u,y&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),y=s(u)-s(r),g=s(u)-s(o)>170,w=h/y;return y&&!g&&lt(w)>.1?w:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function d4(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function f4(e){function t(r){return e*(r/100)}return{measure:t}}function h4(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(S){return o.measureSize(i.measure(S))}function y(S){if(!s)return;c=h(e),d=r.map(h);function m(v){for(const x of v){if(u)return;const C=x.target===e,E=r.indexOf(x.target),P=C?c:d[E],k=h(C?e:r[E]);if(lt(k-P)>=.5){S.reInit(),t.emit("resize");break}}}l=new ResizeObserver(v=>{(ed(s)||s(S,v))&&m(v)}),n.requestAnimationFrame(()=>{a.forEach(v=>l.observe(v))})}function g(){u=!0,l&&l.disconnect()}return{init:y,destroy:g}}function p4(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),k=!l;let A=0;return k?(i=0,n.set(r),e.set(r),A=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),A=d-u),a=Rg(A),u=d,E}function y(){const P=r.get()-t.get();return lt(P)<.001}function g(){return l}function w(){return a}function S(){return i}function m(){return x(o)}function v(){return C(s)}function x(P){return l=P,E}function C(P){return c=P,E}const E={direction:w,duration:g,velocity:S,seek:h,settled:y,useBaseFriction:v,useBaseDuration:m,useFriction:C,useDuration:x};return E}function m4(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=es(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(y){if(!c())return;const g=e.reachedMin(t.get())?"min":"max",w=lt(e[g]-t.get()),S=n.get()-t.get(),m=a.constrain(w/i);n.subtract(S*m),!y&&lt(S)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(y){l=!y}return{shouldConstrain:c,constrain:d,toggleActive:u}}function g4(e,t,n,r,o){const s=es(-t+e,0),i=u(),a=d(),l=h();function c(g,w){return ra(g,w)<=1}function d(){const g=i[0],w=qn(i),S=i.lastIndexOf(g),m=i.indexOf(w)+1;return es(S,m)}function u(){return n.map((g,w)=>{const{min:S,max:m}=s,v=s.constrain(g),x=!w,C=Mg(n,w);return x?m:C||c(S,v)?S:c(m,v)?m:v}).map(g=>parseFloat(g.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:g,max:w}=a;return i.slice(g,w)}return{snapsContained:l,scrollContainLimit:a}}function y4(e,t,n){const r=t[0],o=n?r-e:qn(t);return{limit:es(o,r)}}function v4(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=es(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const y=e*(h*-1);r.forEach(g=>g.add(y))}return{loop:d}}function w4(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function x4(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=y();function u(){return a(r).map(w=>qn(w)[i]-w[0][s]).map(lt)}function h(){return r.map(w=>n[s]-w[s]).map(w=>-lt(w))}function y(){return a(c).map(w=>w[0]).map((w,S)=>w+l[S])}return{snaps:c,snapsAligned:d}}function S4(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),y=!e||t==="keepSnaps";return n.length===1?[s]:y?h:h.slice(a,l).map((g,w,S)=>{const m=!w,v=Mg(S,w);if(m){const x=qn(S[0])+1;return k0(x)}if(v){const x=ol(s)-qn(S)[0]+1;return k0(x,qn(S)[0])}return g})}return{slideRegistry:c}}function b4(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(g){return g.concat().sort((w,S)=>lt(w)-lt(S))[0]}function c(g){const w=e?i(g):a(g),S=t.map((v,x)=>({diff:d(v-w,0),index:x})).sort((v,x)=>lt(v.diff)-lt(x.diff)),{index:m}=S[0];return{index:m,distance:w}}function d(g,w){const S=[g,g+n,g-n];if(!e)return g;if(!w)return l(S);const m=S.filter(v=>Rg(v)===w);return m.length?l(m):qn(S)-n}function u(g,w){const S=t[g]-o.get(),m=d(S,w);return{index:g,distance:m}}function h(g,w){const S=o.get()+g,{index:m,distance:v}=c(S),x=!e&&s(S);if(!w||x)return{index:m,distance:g};const C=t[m]-v,E=g+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function C4(e,t,n,r,o,s,i){function a(u){const h=u.distance,y=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),y&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const y=o.byDistance(u,h);a(y)}function c(u,h){const y=t.clone().set(u),g=o.byIndex(y.get(),h);a(g)}return{distance:l,index:c}}function E4(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(y){if(!a)return;function g(w){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const v=n.findIndex(x=>x.includes(w));Dg(v)&&(o.useDuration(0),r.index(v,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((w,S)=>{s.add(w,"focus",m=>{(ed(a)||a(y,m))&&g(S)},l)})}function u(y){y.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function zi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return Dg(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function WT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const y=s4(e.direction(h));y!==o&&(r.transform=n(y),o=y)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function P4(e,t,n,r,o,s,i,a,l){const d=ja(o),u=ja(o).reverse(),h=m().concat(v());function y(k,A){return k.reduce((D,M)=>D-o[M],A)}function g(k,A){return k.reduce((D,M)=>y(D,A)>0?D.concat([M]):D,[])}function w(k){return s.map((A,D)=>({start:A-r[D]+.5+k,end:A+t-.5+k}))}function S(k,A,D){const M=w(A);return k.map(L=>{const O=D?0:-n,G=D?n:0,F=D?"end":"start",W=M[L][F];return{index:L,loopPoint:W,slideLocation:zi(-1),translate:WT(e,l[L]),target:()=>a.get()>W?O:G}})}function m(){const k=i[0],A=g(u,k);return S(A,n,!1)}function v(){const k=t-i[0]-1,A=g(d,k);return S(A,-n,!0)}function x(){return h.every(({index:k})=>{const A=d.filter(D=>D!==k);return y(A,t)<=.1})}function C(){h.forEach(k=>{const{target:A,translate:D,slideLocation:M}=k,L=A();L!==M.get()&&(D.to(L),M.set(L))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:x,clear:E,loop:C,loopPoints:h}}function T4(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(ed(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function k4(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(g=>{l||(g.forEach(w=>{const S=t.indexOf(w.target);o[S]=w}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(g=>a.observe(g))}function d(){a&&a.disconnect(),l=!0}function u(g){return La(o).reduce((w,S)=>{const m=parseInt(S),{isIntersecting:v}=o[m];return(g&&v||!g&&!v)&&w.push(m),w},[])}function h(g=!0){if(g&&s)return s;if(!g&&i)return i;const w=u(g);return g&&(s=w),g||(i=w),w}return{init:c,destroy:d,get:h}}function A4(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=g(),u=w(),h=n.map(i),y=S();function g(){if(!c)return 0;const v=n[0];return lt(t[a]-v[a])}function w(){if(!c)return 0;const v=s.getComputedStyle(qn(r));return parseFloat(v.getPropertyValue(`margin-${l}`))}function S(){return n.map((v,x,C)=>{const E=!x,P=Mg(C,x);return E?h[x]+d:P?h[x]+u:C[x+1][a]-v[a]}).map(lt)}return{slideSizes:h,slideSizesWithGaps:y,startGap:d,endGap:u}}function D4(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=Dg(n);function y(m,v){return ja(m).filter(x=>x%v===0).map(x=>m.slice(x,x+v))}function g(m){return m.length?ja(m).reduce((v,x,C)=>{const E=qn(v)||0,P=E===0,k=x===ol(m),A=o[c]-s[E][c],D=o[c]-s[x][d],M=!r&&P?u(i):0,L=!r&&k?u(a):0,O=lt(D-L-(A+M));return C&&O>t+l&&v.push(x),k&&v.push(m.length),v},[]).map((v,x,C)=>{const E=Math.max(C[x-1]||0);return m.slice(E,v)}):[]}function w(m){return h?y(m,n):g(m)}return{groupSlides:w}}function R4(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:y,dragThreshold:g,inViewThreshold:w,slidesToScroll:S,skipSnaps:m,containScroll:v,watchResize:x,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,A=d4(),D=A.measure(t),M=n.map(A.measure),L=l4(l,c),O=L.measureSize(D),G=f4(O),F=i4(a,O),W=!u&&!!v,N=u||!!v,{slideSizes:j,slideSizesWithGaps:R,startGap:_,endGap:$}=A4(L,D,M,n,N,o),H=D4(L,O,S,u,D,M,_,$,k),{snaps:Y,snapsAligned:se}=x4(L,F,D,M,H),ae=-qn(Y)+qn(R),{snapsContained:we,scrollContainLimit:Te}=g4(O,ae,se,v,k),Se=W?we:se,{limit:ke}=y4(ae,Se,u),_e=qT(ol(Se),d,u),He=_e.clone(),de=ja(n),X=({dragHandler:Ue,scrollBody:Ae,scrollBounds:I,options:{loop:z}})=>{z||I.constrain(Ue.pointerDown()),Ae.seek()},he=({scrollBody:Ue,translate:Ae,location:I,offsetLocation:z,previousLocation:ee,scrollLooper:ie,slideLooper:le,dragHandler:xe,animation:ge,eventHandler:Re,scrollBounds:Le,options:{loop:Be}},bt)=>{const Rt=Ue.settled(),Mt=!Le.shouldConstrain(),Tt=Be?Rt:Rt&&Mt,Ht=Tt&&!xe.pointerDown();Ht&&ge.stop();const xn=I.get()*bt+ee.get()*(1-bt);z.set(xn),Be&&(ie.loop(Ue.direction()),le.loop()),Ae.to(z.get()),Ht&&Re.emit("settle"),Tt||Re.emit("scroll")},be=a4(r,o,()=>X(Ie),Ue=>he(Ie,Ue)),rt=.68,mt=Se[_e.get()],gt=zi(mt),St=zi(mt),ot=zi(mt),ve=zi(mt),Fe=p4(gt,ot,St,ve,h,rt),Dt=b4(u,Se,ae,ke,ve),U=C4(be,_e,He,Fe,Dt,ve,i),K=w4(ke),B=Oa(),me=k4(t,n,i,w),{slideRegistry:ce}=S4(W,v,Se,Te,H,de),dt=E4(e,n,ce,U,Fe,B,i,P),Ie={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:D,slideRects:M,animation:be,axis:L,dragHandler:c4(L,e,r,o,ve,u4(L,o),gt,be,U,Fe,Dt,_e,i,G,y,g,m,rt,E),eventStore:B,percentOfView:G,index:_e,indexPrevious:He,limit:ke,location:gt,offsetLocation:ot,previousLocation:St,options:s,resizeHandler:h4(t,i,o,n,L,x,A),scrollBody:Fe,scrollBounds:m4(ke,ot,ve,Fe,G),scrollLooper:v4(ae,ke,ot,[gt,ot,St,ve]),scrollProgress:K,scrollSnapList:Se.map(K.get),scrollSnaps:Se,scrollTarget:Dt,scrollTo:U,slideLooper:P4(L,O,ae,j,R,Y,Se,ot,n),slideFocus:dt,slidesHandler:T4(t,i,C),slidesInView:me,slideIndexes:de,slideRegistry:ce,slidesToScroll:H,target:ve,translate:WT(L,t)};return Ie}function M4(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const _4={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function I4(e){function t(s,i){return zT(s,i||{})}function n(s){const i=s.breakpoints||{},a=La(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>La(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function N4(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function nu(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=I4(o),i=N4(s),a=Oa(),l=M4(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:y,emit:g}=l,w=L;let S=!1,m,v=c(_4,nu.globalOptions),x=c(v),C=[],E,P,k;function A(){const{container:de,slides:X}=x;P=(Jh(de)?e.querySelector(de):de)||e.children[0];const be=Jh(X)?P.querySelectorAll(X):X;k=[].slice.call(be||P.children)}function D(de){const X=R4(e,P,k,r,o,de,l);if(de.loop&&!X.slideLooper.canLoop()){const he=Object.assign({},de,{loop:!1});return D(he)}return X}function M(de,X){S||(v=c(v,de),x=d(v),C=X||C,A(),m=D(x),u([v,...C.map(({options:he})=>he)]).forEach(he=>a.add(he,"change",L)),x.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(He),m.eventHandler.init(He),m.resizeHandler.init(He),m.slidesHandler.init(He),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(He),E=i.init(He,C)))}function L(de,X){const he=H();O(),M(c({startIndex:he},de),X),l.emit("reInit")}function O(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function G(){S||(S=!0,a.clear(),O(),l.emit("destroy"),l.clear())}function F(de,X,he){!x.active||S||(m.scrollBody.useBaseFriction().useDuration(X===!0?0:x.duration),m.scrollTo.index(de,he||0))}function W(de){const X=m.index.add(1).get();F(X,de,-1)}function N(de){const X=m.index.add(-1).get();F(X,de,1)}function j(){return m.index.add(1).get()!==H()}function R(){return m.index.add(-1).get()!==H()}function _(){return m.scrollSnapList}function $(){return m.scrollProgress.get(m.offsetLocation.get())}function H(){return m.index.get()}function Y(){return m.indexPrevious.get()}function se(){return m.slidesInView.get()}function ae(){return m.slidesInView.get(!1)}function we(){return E}function Te(){return m}function Se(){return e}function ke(){return P}function _e(){return k}const He={canScrollNext:j,canScrollPrev:R,containerNode:ke,internalEngine:Te,destroy:G,off:y,on:h,emit:g,plugins:we,previousScrollSnap:Y,reInit:w,rootNode:Se,scrollNext:W,scrollPrev:N,scrollProgress:$,scrollSnapList:_,scrollTo:F,selectedScrollSnap:H,slideNodes:_e,slidesInView:se,slidesNotInView:ae};return M(t,n),setTimeout(()=>l.emit("init"),0),He}nu.globalOptions=void 0;function _g(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{Ag(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{r4(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(n4()&&i){nu.globalOptions=_g.globalOptions;const c=nu(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}_g.globalOptions=void 0;const HT=f.createContext(null);function td(){const e=f.useContext(HT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const GT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=_g({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,y]=f.useState(!1),g=f.useCallback(v=>{v&&(u(v.canScrollPrev()),y(v.canScrollNext()))},[]),w=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),S=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),w()):v.key==="ArrowRight"&&(v.preventDefault(),S())},[w,S]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return g(c),c.on("reInit",g),c.on("select",g),()=>{c==null||c.off("select",g)}},[c,g]),p.jsx(HT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:S,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:Q("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});GT.displayName="Carousel";const KT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=td();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:Q("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});KT.displayName="CarouselContent";const YT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=td();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Q("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});YT.displayName="CarouselItem";const XT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=td();return p.jsxs(ze,{ref:o,variant:t,size:n,className:Q("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Kb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});XT.displayName="CarouselPrevious";const QT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=td();return p.jsxs(ze,{ref:o,variant:t,size:n,className:Q("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(L_,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});QT.displayName="CarouselNext";const ZT=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[y,g]=f.useState({width:0,height:0}),[w,S]=f.useState(null),[m,v]=f.useState(!1),x=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(x.current){const D=x.current.offsetWidth,M=x.current.offsetHeight;D>0&&M>0?g({width:D,height:M}):D>0&&g({width:D,height:D})}},[]);f.useEffect(()=>{const D=x.current;if(!D)return;const M=new ResizeObserver(E);return M.observe(D),E(),()=>{M.unobserve(D)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(S(t),v(!0),u!=="loading"&&h("loading")):e?m||(S(e),u!=="loading"&&u!=="loaded"&&h("loading")):(S(null),v(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const D=new Image,M=()=>{S(e),v(!1),h("loaded"),l&&l()},L=()=>{b.error("Failed to load full image in background:",e)};return D.onload=M,D.onerror=L,D.src=e,()=>{D.onload=null,D.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const M=u==="loaded",L={position:"absolute",top:0,left:0,opacity:M?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:M?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||y.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return L;const{width:O,height:G}=r,W=y.width/n.w,N=O*W,j=G*W,R=-n.x*W,_=-n.y*W;return isNaN(N)||isNaN(j)||isNaN(R)||isNaN(_)?(b.warn("NaN detected during style calculation",{scale:W,naturalW:O,naturalH:G,cropData:n}),L):{...L,width:`${N}px`,height:`${j}px`,transform:`translate(${R}px, ${_}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,u,y]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===w&&w&&(h("loaded"),!m&&l&&l())},[w,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===w&&w){if(b.error("Failed to load image in CroppedImageViewer:",w),m&&e){S(e),v(!1);return}if(!m&&t){b.log("Full image failed to load. Falling back to thumbnail:",t),S(t),v(!0);return}h("error")}},[w,e,t,m]),A=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:x,"data-testid":"image-container",className:Q("relative w-full h-full overflow-hidden bg-muted",s),children:[A&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(Bt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(Jb,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:w??"",alt:o,style:c,className:Q("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},j4=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(S=>!S)},y=f.useCallback(()=>{var S,m;((S=a.current)==null?void 0:S.src)===l&&l?(b.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):b.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),g=f.useCallback(()=>{var S,m;((S=a.current)==null?void 0:S.src)===l&&l?(b.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):b.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),w=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[w&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Bt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(Jb,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:Q("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(ZT,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:Q("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:y,onError:g,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(K_,{size:16}):p.jsx(G_,{size:16})})]})},JT=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:Q("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(GT,{setApi:n,className:"w-full h-full",children:[p.jsx(KT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(YT,{className:"h-full",children:p.jsx(j4,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(XT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(QT,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},L4=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function O4(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=Yn(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),y=f.useRef(null),g=50,w=.3,S={enter:x=>({x:x>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:x=>({x:x<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(x,C)=>{const{offset:E,velocity:P}=C;let k=x.target;for(;k&&k!==y.current;){if(k.classList.contains("ignore-list-swipe")){b.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>g||P.x>w&&E.x>10?l(-1):(E.x<-g||P.x<-w&&E.x<-10)&&l(1)},v=f.useMemo(()=>[...e].sort((x,C)=>{const E=new Date(x.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=x.createdAt instanceof Date?x.createdAt.getTime():Date.parse(x.createdAt),A=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-A}),[e]);return f.useEffect(()=>{let x=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{x&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{b.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{x&&h(E=>new Map(E).set(C.id,!1))})}),()=>{x=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Bt,{className:"h-8 w-8 animate-spin text-primary"})]}):v.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(VT,{className:"h-full",children:[" ",p.jsxs("div",{ref:y,className:"relative overflow-hidden h-full",children:[" ",p.jsx(bg,{initial:!1,custom:a,mode:"wait",children:p.jsx(Qu.div,{custom:a,variants:S,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:v.map(x=>{const E=c.get(x.id)||{...x,photos:(x.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Sm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(JT,{entry:E})}),p.jsxs(bm,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:L4(x.date)}),p.jsxs(Vm,{children:[p.jsx(Um,{asChild:!0,children:p.jsx(ze,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(Zb,{className:"h-4 w-4"})})}),p.jsxs(qu,{align:"end",children:[p.jsxs(Jo,{onClick:P=>{P.stopPropagation(),n(x.id)},children:[p.jsx(eC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(Jo,{onClick:P=>{P.stopPropagation(),r(x.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(lm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(BT,{text:x.content,linesToShow:4})]})]},x.id)})},`${s}-${i}-list`)})]})]})}var Ig="Dialog",[ek,tk]=ln(Ig),[F4,Xn]=ek(Ig),nk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=pr({prop:r,defaultProp:o,onChange:s});return p.jsx(F4,{scope:t,triggerRef:a,contentRef:l,contentId:qo(),titleId:qo(),descriptionId:qo(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};nk.displayName=Ig;var rk="DialogTrigger",ok=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xn(rk,n),s=Me(t,o.triggerRef);return p.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Lg(o.open),...r,ref:s,onClick:Z(e.onClick,o.onOpenToggle)})});ok.displayName=rk;var Ng="DialogPortal",[$4,sk]=ek(Ng,{forceMount:void 0}),ik=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Xn(Ng,t);return p.jsx($4,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(cn,{present:n||s.open,children:p.jsx(Tu,{asChild:!0,container:o,children:i})}))})};ik.displayName=Ng;var ru="DialogOverlay",ak=f.forwardRef((e,t)=>{const n=sk(ru,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Xn(ru,e.__scopeDialog);return s.modal?p.jsx(cn,{present:r||s.open,children:p.jsx(U4,{...o,ref:t})}):null});ak.displayName=ru;var V4=si("DialogOverlay.RemoveScroll"),U4=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xn(ru,n);return p.jsx(Mm,{as:V4,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(pe.div,{"data-state":Lg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ts="DialogContent",lk=f.forwardRef((e,t)=>{const n=sk(ts,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Xn(ts,e.__scopeDialog);return p.jsx(cn,{present:r||s.open,children:s.modal?p.jsx(B4,{...o,ref:t}):p.jsx(z4,{...o,ref:t})})});lk.displayName=ts;var B4=f.forwardRef((e,t)=>{const n=Xn(ts,e.__scopeDialog),r=f.useRef(null),o=Me(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return H1(s)},[]),p.jsx(ck,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,s=>s.preventDefault())})}),z4=f.forwardRef((e,t)=>{const n=Xn(ts,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(ck,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),ck=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Xn(ts,n),l=f.useRef(null),c=Me(t,l);return z1(),p.jsxs(p.Fragment,{children:[p.jsx(Rm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Ka,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(W4,{titleId:a.titleId}),p.jsx(G4,{contentRef:l,descriptionId:a.descriptionId})]})]})}),jg="DialogTitle",uk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xn(jg,n);return p.jsx(pe.h2,{id:o.titleId,...r,ref:t})});uk.displayName=jg;var dk="DialogDescription",fk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xn(dk,n);return p.jsx(pe.p,{id:o.descriptionId,...r,ref:t})});fk.displayName=dk;var hk="DialogClose",pk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xn(hk,n);return p.jsx(pe.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>o.onOpenChange(!1))})});pk.displayName=hk;function Lg(e){return e?"open":"closed"}var mk="DialogTitleWarning",[q4,gk]=WM(mk,{contentName:ts,titleName:jg,docsSlug:"dialog"}),W4=({titleId:e})=>{const t=gk(mk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},H4="DialogDescriptionWarning",G4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gk(H4).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},yk=nk,K4=ok,vk=ik,Og=ak,Fg=lk,$g=uk,Vg=fk,Ug=pk;const wk=yk,Y4=vk,xk=f.forwardRef(({className:e,...t},n)=>p.jsx(Og,{ref:n,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xk.displayName=Og.displayName;const Bg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Y4,{children:[p.jsx(xk,{}),p.jsxs(Fg,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Ug,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Ru,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bg.displayName=Fg.displayName;const zg=({className:e,...t})=>p.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zg.displayName="DialogHeader";const qg=f.forwardRef(({className:e,...t},n)=>p.jsx($g,{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));qg.displayName=$g.displayName;const Sk=f.forwardRef(({className:e,...t},n)=>p.jsx(Vg,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));Sk.displayName=Vg.displayName;function bk({className:e,...t}){return p.jsx("div",{className:Q("animate-pulse rounded-md bg-muted",e),...t})}const A0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function X4(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=Yn(),[,a]=Su(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,y]=f.useState(new Set),g=f.useRef(!0),w=f.useMemo(()=>[...n].sort((m,v)=>{const x=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=v.createdAt instanceof Date?v.createdAt.getTime():Date.parse(v.createdAt);return x-C}),[n]);f.useEffect(()=>{if(g.current=!0,e&&w.length>0){u(!0),c(new Map),y(new Set);const m=w.map(v=>i(v).then(x=>{g.current&&c(C=>new Map(C).set(v.id,x))}).catch(x=>{b.error(`Error fetching details for entry ${v.id} in modal:`,x),g.current&&(y(C=>new Set(C).add(v.id)),c(C=>new Map(C).set(v.id,A0(v))))}));Promise.allSettled(m).finally(()=>{g.current&&u(!1)})}else e||(c(new Map),u(!1),y(new Set));return()=>{g.current=!1}},[e,w,i]);const S=()=>{t(),a("/entry/new")};return p.jsx(wk,{open:e,onOpenChange:t,children:p.jsxs(Bg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(zg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(qg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:w.length===0&&!d?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(ze,{onClick:S,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:w.map((m,v)=>{const x=l.get(m.id),C=d&&!x,E=h.has(m.id),P=x||A0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(bk,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(JT,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(Vm,{children:[p.jsx(Um,{asChild:!0,children:p.jsx(ze,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(Zb,{className:"h-4 w-4"})})}),p.jsxs(qu,{align:"end",children:[p.jsxs(Jo,{onClick:()=>o(m.id),children:[p.jsx(eC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(Jo,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(lm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(BT,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+v)})})}),!d&&w.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(ze,{onClick:S,children:"Add Another Entry"})})]})})}var Ck="AlertDialog",[Q4,o3]=ln(Ck,[tk]),Or=tk(),Ek=e=>{const{__scopeAlertDialog:t,...n}=e,r=Or(t);return p.jsx(yk,{...r,...n,modal:!0})};Ek.displayName=Ck;var Z4="AlertDialogTrigger",J4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Or(n);return p.jsx(K4,{...o,...r,ref:t})});J4.displayName=Z4;var ez="AlertDialogPortal",Pk=e=>{const{__scopeAlertDialog:t,...n}=e,r=Or(t);return p.jsx(vk,{...r,...n})};Pk.displayName=ez;var tz="AlertDialogOverlay",Tk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Or(n);return p.jsx(Og,{...o,...r,ref:t})});Tk.displayName=tz;var Us="AlertDialogContent",[nz,rz]=Q4(Us),oz=bb("AlertDialogContent"),kk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=Or(n),i=f.useRef(null),a=Me(t,i),l=f.useRef(null);return p.jsx(q4,{contentName:Us,titleName:Ak,docsSlug:"alert-dialog",children:p.jsx(nz,{scope:n,cancelRef:l,children:p.jsxs(Fg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:Z(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(oz,{children:r}),p.jsx(iz,{contentRef:i})]})})})});kk.displayName=Us;var Ak="AlertDialogTitle",Dk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Or(n);return p.jsx($g,{...o,...r,ref:t})});Dk.displayName=Ak;var Rk="AlertDialogDescription",Mk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Or(n);return p.jsx(Vg,{...o,...r,ref:t})});Mk.displayName=Rk;var sz="AlertDialogAction",_k=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Or(n);return p.jsx(Ug,{...o,...r,ref:t})});_k.displayName=sz;var Ik="AlertDialogCancel",Nk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=rz(Ik,n),s=Or(n),i=Me(t,o);return p.jsx(Ug,{...s,...r,ref:i})});Nk.displayName=Ik;var iz=({contentRef:e})=>{const t=`\`${Us}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Us}\` by passing a \`${Rk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Us}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},az=Ek,lz=Pk,jk=Tk,Lk=kk,Ok=_k,Fk=Nk,$k=Dk,Vk=Mk;const Uk=az,cz=lz,Bk=f.forwardRef(({className:e,...t},n)=>p.jsx(jk,{className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Bk.displayName=jk.displayName;const Wg=f.forwardRef(({className:e,...t},n)=>p.jsxs(cz,{children:[p.jsx(Bk,{}),p.jsx(Lk,{ref:n,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Wg.displayName=Lk.displayName;const Hg=({className:e,...t})=>p.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hg.displayName="AlertDialogHeader";const Gg=({className:e,...t})=>p.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gg.displayName="AlertDialogFooter";const Kg=f.forwardRef(({className:e,...t},n)=>p.jsx($k,{ref:n,className:Q("text-lg font-semibold",e),...t}));Kg.displayName=$k.displayName;const Yg=f.forwardRef(({className:e,...t},n)=>p.jsx(Vk,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));Yg.displayName=Vk.displayName;const Xg=f.forwardRef(({className:e,...t},n)=>p.jsx(Ok,{ref:n,className:Q(Cm(),e),...t}));Xg.displayName=Ok.displayName;const Qg=f.forwardRef(({className:e,...t},n)=>p.jsx(Fk,{ref:n,className:Q(Cm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Qg.displayName=Fk.displayName;function uz(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=Yn(),o=async()=>{await n()};return p.jsx(Uk,{open:e,onOpenChange:t,children:p.jsxs(Wg,{children:[p.jsxs(Hg,{children:[p.jsx(Kg,{children:"Delete Entry"}),p.jsx(Yg,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Gg,{children:[p.jsx(Qg,{disabled:r,children:"Cancel"}),p.jsx(Xg,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var dz="Label",zk=f.forwardRef((e,t)=>p.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zk.displayName=dz;var qk=zk;const fz=Ya("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nd=f.forwardRef(({className:e,...t},n)=>p.jsx(qk,{ref:n,className:Q(fz(),e),...t}));nd.displayName=qk.displayName;function hz({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Ga(),l=f.useCallback(async g=>{if(!g||g.length===0)return;const w=Array.from(g),S=[],m=[];let v=!0;if(s+w.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const x of w){if(!x.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${x.name}" is not a supported image file.`,variant:"destructive"}),v=!1;continue}try{const C=URL.createObjectURL(x);S.push(x),m.push(C)}catch(C){b.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${x.name}`,variant:"destructive"}),v=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}S.length>0?e(S,m):!v&&m.length>0&&m.forEach(URL.revokeObjectURL),v&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(g=>{t||l(g.target.files)},[t,l]),d=f.useCallback(g=>{t||(g.preventDefault(),g.stopPropagation(),l(g.dataTransfer.files))},[t,l]),u=g=>{t||(g.preventDefault(),g.stopPropagation())},h=f.useCallback(()=>{var g;t||(g=i.current)==null||g.click()},[t]),y=r?wt.isValidElement(r)?wt.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:Q("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:Q(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),y]})}const oa=10,Gr=e=>e.isNew===!0,Wk=e=>e.isNew===!1,pz=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function mz({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const y=f.useRef(null),g=f.useRef(null),[w,S]=f.useState(null),[m,v]=f.useState(null),x=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{x.current=x.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),v(null)},k=N=>{const j=E.current,R=C.current;if(!j||!R||N<0||N>e.length){P();return}if(N===m&&j.style.display!=="none")return;v(N);const _=pz(R);let $=null,H=!1;if(N===e.length?($=x.current[e.length-1],H=!0):($=x.current[N],H=!1),$){const Y=$.getBoundingClientRect(),se=$.offsetTop;let ae;H?ae=$.offsetLeft+Y.width+_/2:ae=$.offsetLeft-_/2,j.style.display="block",j.style.top=`${se}px`,j.style.left=`${ae}px`,j.style.height=`${Y.height}px`}else P()},A=(N,j)=>{if(y.current=j,S(j),P(),N.dataTransfer)try{N.dataTransfer.effectAllowed="move"}catch{}},D=(N,j)=>{if(N.preventDefault(),y.current===null||y.current===j){g.current=null,P();return}g.current=j;const R=x.current[j];if(R){const _=R.getBoundingClientRect(),$=_.left+_.width/2,Y=N.clientX<$?j:j+1;k(Y)}},M=N=>{C.current&&!C.current.contains(N.relatedTarget)&&(g.current=null,P())},L=()=>{let N=m;y.current!==null&&N!==null&&N>y.current&&N--,y.current!==null&&N!==null&&y.current!==N&&t(j=>{const R=[...j],_=R.splice(y.current,1)[0];return R.splice(N,0,_),R}),y.current=null,g.current=null,S(null),P()},O=(N,j)=>{y.current=j,S(j),P()},G=N=>{if(y.current===null)return;N.cancelable&&N.preventDefault();const j=N.touches[0],R=document.elementFromPoint(j.clientX,j.clientY),_=R==null?void 0:R.closest('[draggable="true"]');if(_){const $=x.current.indexOf(_);if($!==-1&&$!==y.current){g.current=$;const H=_.getBoundingClientRect(),Y=H.left+H.width/2,ae=j.clientX<Y?$:$+1;k(ae);return}}g.current=null,P()},F=()=>{let N=m;y.current!==null&&N!==null&&N>y.current&&N--,y.current!==null&&N!==null&&y.current!==N&&t(j=>{const R=[...j],_=R.splice(y.current,1)[0];return R.splice(N,0,_),R}),y.current=null,g.current=null,S(null),P()},W=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(nd,{children:["Photos (",e.length,"/",oa,")"," ",W&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((N,j)=>p.jsx(bk,{className:"h-16 w-16 rounded aspect-square"},j))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:M,onTouchStart:N=>{},onTouchMove:G,onTouchEnd:F,onTouchCancel:F,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((N,j)=>{var se;const R=Gr(N)?N.localId:N.photoId,_=l.current.get(R),$=N.crop;let H=null;Gr(N)?N.originalDimensions&&(H={filename:N.file.name,mimeType:N.file.type,width:N.originalDimensions.width,height:N.originalDimensions.height,exifDate:(se=N.exifData)==null?void 0:se.exifDate}):Wk(N)&&(H=c.current.get(N.photoId)??null);const Y=!!_;return p.jsxs("div",{ref:ae=>x.current[j]=ae,draggable:W,onDragStart:ae=>W&&A(ae,j),onDragOver:ae=>W&&D(ae,j),onDragEnd:W?L:void 0,onTouchStart:ae=>W&&O(ae,j),className:Q("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",W?"cursor-grab active:cursor-grabbing":"cursor-default",w===j?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(ZT,{imageUrl:_,thumbnailUrl:_,cropData:$,photoMetadata:H,altText:`Photo ${j+1} thumbnail`,className:"rounded",enableLoadingState:!!_&&_.startsWith("blob:")}),p.jsxs("div",{className:Q("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(ze,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:ae=>{ae.stopPropagation(),!n&&Y?s(j):Y||b.warn(`Cannot open cropper: original URL missing for ${R}`)},disabled:n||!Y,children:p.jsx(V_,{className:"h-3 w-3"})}),p.jsx(ze,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:ae=>{ae.stopPropagation(),n||i(j)},disabled:n,children:p.jsx(lm,{className:"h-3 w-3"})})]}),W&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(B_,{className:"h-3 w-3 text-white"})})]},R+"-"+j)}),e.length<oa&&p.jsx(hz,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:oa,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Bt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(z_,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function gz({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(nd,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(tC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Hk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Hk.displayName="Textarea";function yz({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(nd,{htmlFor:"content",children:"Content"}),p.jsx(Hk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function vz({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(ze,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(ze,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function wz(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function xz(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function Sz(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=Yn(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=wz(),d=xz(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(wk,{open:e,onOpenChange:t,children:p.jsxs(Bg,{className:"sm:max-w-md",children:[p.jsxs(zg,{children:[p.jsx(qg,{children:"Select Month and Year"}),p.jsx(Sk,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,y)=>p.jsx("option",{value:y+1,children:h},y))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(ze,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(ze,{onClick:u,children:"Apply"})]})]})})}function bz(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=Yn();Am(),Su();const h=l,y=l?"Saving...":"",g={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Bt,{className:"h-8 w-8 animate-spin text-primary"})});const w=u&&!e&&!t&&!n,S=w?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(gF,{}),h&&p.jsxs("div",{className:Q("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",w?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(Bt,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:y})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Ru,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:Q("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",S),children:[p.jsx(VB,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(bg,{initial:!1,mode:"wait",children:p.jsx(Qu.div,{variants:g,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx($B,{}):p.jsx(O4,{})})},s)})})})]}),p.jsx(Sz,{}),p.jsx(X4,{}),p.jsx(uz,{})]})}var Gk=["PageUp","PageDown"],Kk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},xi="Slider",[tp,Cz,Ez]=Pu(xi),[Xk,s3]=ln(xi,[Ez]),[Pz,rd]=Xk(xi),Qk=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:y=!1,form:g,...w}=e,S=f.useRef(new Set),m=f.useRef(0),x=i==="horizontal"?Tz:kz,[C=[],E]=pr({prop:d,defaultProp:c,onChange:L=>{var G;(G=[...S.current][m.current])==null||G.focus(),u(L)}}),P=f.useRef(C);function k(L){const O=_z(C,L);M(L,O)}function A(L){M(L,m.current)}function D(){const L=P.current[m.current];C[m.current]!==L&&h(C)}function M(L,O,{commit:G}={commit:!1}){const F=Lz(s),W=Oz(Math.round((L-r)/s)*s+r,F),N=Cg(W,[r,o]);E((j=[])=>{const R=Rz(j,N,O);if(jz(R,l*s)){m.current=R.indexOf(N);const _=String(R)!==String(j);return _&&G&&h(R),_?R:j}else return j})}return p.jsx(Pz,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:S.current,values:C,orientation:i,form:g,children:p.jsx(tp.Provider,{scope:e.__scopeSlider,children:p.jsx(tp.Slot,{scope:e.__scopeSlider,children:p.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:t,onPointerDown:Z(w.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:y,onSlideStart:a?void 0:k,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:D,onHomeKeyDown:()=>!a&&M(r,0,{commit:!0}),onEndKeyDown:()=>!a&&M(o,C.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:O})=>{if(!a){const W=Gk.includes(L.key)||L.shiftKey&&Kk.includes(L.key)?10:1,N=m.current,j=C[N],R=s*W*O;M(j+R,N,{commit:!0})}}})})})})});Qk.displayName=xi;var[Zk,Jk]=Xk(xi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Tz=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),y=Me(t,x=>h(x)),g=f.useRef(void 0),w=Qa(o),S=w==="ltr",m=S&&!s||!S&&s;function v(x){const C=g.current||u.getBoundingClientRect(),E=[0,C.width],k=Zg(E,m?[n,r]:[r,n]);return g.current=C,k(x-C.left)}return p.jsx(Zk,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(eA,{dir:w,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const C=v(x.clientX);i==null||i(C)},onSlideMove:x=>{const C=v(x.clientX);a==null||a(C)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:x=>{const E=Yk[m?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:E?-1:1})}})})}),kz=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=Me(t,d),h=f.useRef(void 0),y=!o;function g(w){const S=h.current||d.current.getBoundingClientRect(),m=[0,S.height],x=Zg(m,y?[r,n]:[n,r]);return h.current=S,x(w-S.top)}return p.jsx(Zk,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:p.jsx(eA,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const S=g(w.clientY);s==null||s(S)},onSlideMove:w=>{const S=g(w.clientY);i==null||i(S)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:w=>{const m=Yk[y?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:m?-1:1})}})})}),eA=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=rd(xi,n);return p.jsx(pe.span,{...c,ref:t,onKeyDown:Z(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):Gk.concat(Kk).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:Z(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:Z(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:Z(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),tA="SliderTrack",nA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=rd(tA,n);return p.jsx(pe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});nA.displayName=tA;var np="SliderRange",rA=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=rd(np,n),s=Jk(np,n),i=f.useRef(null),a=Me(t,i),l=o.values.length,c=o.values.map(h=>sA(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(pe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});rA.displayName=np;var rp="SliderThumb",oA=f.forwardRef((e,t)=>{const n=Cz(e.__scopeSlider),[r,o]=f.useState(null),s=Me(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(Az,{...e,ref:s,index:i})}),Az=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=rd(rp,n),a=Jk(rp,n),[l,c]=f.useState(null),d=Me(t,v=>c(v)),u=l?i.form||!!l.closest("form"):!0,h=ym(l),y=i.values[r],g=y===void 0?0:sA(y,i.min,i.max),w=Mz(r,i.values.length),S=h==null?void 0:h[a.size],m=S?Iz(S,g,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${m}px)`},children:[p.jsx(tp.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(pe.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:y===void 0?{display:"none"}:e.style,onFocus:Z(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(Dz,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});oA.displayName=rp;var Dz=e=>{const{value:t,...n}=e,r=f.useRef(null),o=KE(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Rz(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function sA(e,t,n){const s=100/(n-t)*(e-t);return Cg(s,[0,100])}function Mz(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function _z(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function Iz(e,t,n){const r=e/2,s=Zg([0,50],[0,r]);return(r-s(t)*n)*n}function Nz(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function jz(e,t){if(t>0){const n=Nz(e);return Math.min(...n)>=t}return!0}function Zg(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Lz(e){return(String(e).split(".")[1]||"").length}function Oz(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var iA=Qk,Fz=nA,$z=rA,Vz=oA;const aA=f.forwardRef(({className:e,...t},n)=>p.jsxs(iA,{ref:n,className:Q("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(Fz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx($z,{className:"absolute h-full bg-primary"})}),p.jsx(Vz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));aA.displayName=iA.displayName;const Ye=250,D0=200;function Uz({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,y]=f.useState({x:0,y:0,scale:1}),[g,w]=f.useState(o||{width:0,height:0}),[S,m]=f.useState(!1),[v,x]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[A,D]=f.useState(5),[M,L]=f.useState(!1),[O,G]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[F,W]=f.useState(null),[N,j]=f.useState(null),[R,_]=f.useState(null),[$,H]=f.useState(null),Y=S&&v,se=e!==u.current&&!Y,ae=I=>I&&typeof I=="object"&&"x"in I&&"y"in I&&"w"in I&&"h"in I&&typeof I.x=="number"&&typeof I.y=="number"&&typeof I.w=="number"&&typeof I.h=="number"&&I.w>0&&I.h>0&&I.w===I.h,we=f.useCallback((I,z)=>I<=0||z<=0||Ye<=0?.1:Math.max(Ye/I,Ye/z),[]),Te=f.useCallback((I,z)=>I<=0||z<=0||Ye<=0||D0<=0?5:Math.max(Math.max(Ye/I,Ye/z),Ye/D0),[]),Se=f.useCallback((I,z,ee)=>{const ie=s.current;if(!S||g.width<=0||g.height<=0)return{x:I,y:z};const le=(ie==null?void 0:ie.clientWidth)??0,xe=(ie==null?void 0:ie.clientHeight)??0;if(le<=0||xe<=0)return{x:I,y:z};const ge=g.width*ee,Re=g.height*ee,Le=(le-Ye)/2,Be=(xe-Ye)/2,bt=Le,Rt=Le+Ye-ge,Mt=Be,Tt=Be+Ye-Re,Ht=ge<Ye?Le+(Ye-ge)/2:Math.min(bt,Math.max(Rt,I)),xn=Re<Ye?Be+(Ye-Re)/2:Math.min(Mt,Math.max(Tt,z));return{x:Ht,y:xn}},[S,g]),ke=f.useCallback((I,z)=>{if(!S||!l.current||v||g.width<=0||g.height<=0)return;const ee=g.width,ie=g.height,le=we(ee,ie),xe=Te(ee,ie);k(le),D(xe);let ge,Re,Le;if(ae(r)){ge=Ye/r.w,ge=Math.max(le,Math.min(xe,ge));const Rt=(I-Ye)/2,Mt=(z-Ye)/2;Re=Rt-r.x*ge,Le=Mt-r.y*ge}else ge=Math.max(Ye/ee,Ye/ie),ge=Math.max(le,ge),Re=(I-ee*ge)/2,Le=(z-ie*ge)/2;const bt={...Se(Re,Le,ge),scale:ge};y(bt),x(!0),c.current=!0},[S,v,g,r,we,Te,Se]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{u.current!==e?(u.current&&v?(j(u.current),_(h),H(g)):(j(null),_(null),H(null)),m(!1),x(!1),w(o||{width:0,height:0}),y({x:0,y:0,scale:1}),k(.1),D(5),c.current=!1,E(!1),u.current=e):o&&!v&&(o.width!==g.width||o.height!==g.height)&&w(o)},[e,o]);const _e=f.useCallback(()=>{const I=i.current;if(!I||!l.current||I.src!==e)return;const z=I.naturalWidth,ee=I.naturalHeight;if(z<=0||ee<=0){b.error("[Cropper] Image invalid dimensions on load"),m(!1),x(!1);return}(g.width!==z||g.height!==ee)&&w({width:z,height:ee}),m(!0)},[e,g]),He=f.useCallback(()=>{const I=i.current;!I||!l.current||I.src!==e||(b.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),x(!1))},[e]);f.useEffect(()=>{const I=s.current;if(I&&S&&!v){const z=le=>{if(!(!l.current||v))for(const xe of le){const{width:ge,height:Re}=xe.contentRect||{width:xe.target.clientWidth,height:xe.target.clientHeight};ge>0&&Re>0?ke(ge,Re):b.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(z),d.current.observe(I);const ee=I.clientWidth,ie=I.clientHeight;return ee>0&&ie>0&&ke(ee,ie),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[S,v,ke]),f.useEffect(()=>{if(S&&v){const{x:I,y:z,scale:ee}=h,ie=Se(I,z,ee);(ie.x!==I||ie.y!==z)&&y(le=>({...le,...ie}))}},[h.scale,S,v,Se,h.x,h.y]);const de=f.useCallback((I,z,ee)=>{!Y||!s.current||y(ie=>{let le=ie.scale*I;if(le=Math.max(P,Math.min(A,le)),le===ie.scale)return ie;const xe=(z-ie.x)/ie.scale,ge=(ee-ie.y)/ie.scale,Re=z-xe*le,Le=ee-ge*le;return{scale:le,...Se(Re,Le,le)}})},[Y,P,A,Se]),X=(I,z,ee)=>{!Y||C||(L(!0),G({x:I,y:z,pinchDistance:ee,imageX:h.x,imageY:h.y}),W(ee??null))},he=(I,z,ee)=>{if(!(!M||!Y||!s.current)){if(ee!==void 0&&F!==null){const ie=ee/F,le=s.current.getBoundingClientRect(),xe=O.x-le.left,ge=O.y-le.top;de(ie,xe,ge),W(ee)}else if(F===null){const ie=I-O.x,le=z-O.y,xe=O.imageX+ie,ge=O.imageY+le;y(Re=>({...Re,...Se(xe,ge,Re.scale)}))}}},be=()=>{M&&(L(!1),W(null))},rt=I=>X(I.clientX,I.clientY),mt=I=>he(I.clientX,I.clientY),gt=I=>{if(I.touches.length===2){const z=I.touches[0],ee=I.touches[1],ie=Math.hypot(ee.clientX-z.clientX,ee.clientY-z.clientY),le=(z.clientX+ee.clientX)/2,xe=(z.clientY+ee.clientY)/2;X(le,xe,ie)}else I.touches.length===1&&X(I.touches[0].clientX,I.touches[0].clientY)},St=I=>{if(M)if(I.cancelable&&I.preventDefault(),I.touches.length===2){const z=I.touches[0],ee=I.touches[1],ie=Math.hypot(ee.clientX-z.clientX,ee.clientY-z.clientY),le=(z.clientX+ee.clientX)/2,xe=(z.clientY+ee.clientY)/2;he(le,xe,ie)}else I.touches.length===1&&he(I.touches[0].clientX,I.touches[0].clientY)},ot=f.useCallback(I=>{if(!Y||!s.current||C)return;I.preventDefault();const z=s.current.getBoundingClientRect(),ee=I.clientX-z.left,ie=I.clientY-z.top,xe=1+I.deltaY*-.005;de(xe,ee,ie)},[Y,C,de]);f.useEffect(()=>{if(M)return window.addEventListener("mousemove",mt),window.addEventListener("touchmove",St,{passive:!1}),window.addEventListener("mouseup",be),window.addEventListener("touchend",be),window.addEventListener("touchcancel",be),()=>{window.removeEventListener("mousemove",mt),window.removeEventListener("touchmove",St),window.removeEventListener("mouseup",be),window.removeEventListener("touchend",be),window.removeEventListener("touchcancel",be)}},[M,St]),f.useEffect(()=>{const I=s.current;if(I&&Y)return I.addEventListener("wheel",ot,{passive:!1}),()=>I.removeEventListener("wheel",ot)},[Y,ot]);const ve=f.useCallback(I=>{if(!s.current||!Y||(I=Math.max(P,Math.min(A,I)),I===h.scale))return;const z=s.current,ee=z.clientWidth/2,ie=z.clientHeight/2;de(I/h.scale,ee,ie)},[Y,P,A,h.scale,de]),Fe=()=>ve(h.scale*1.15),Dt=()=>ve(h.scale/1.15),U=I=>ve(I[0]),K=()=>{if(x(!1),c.current=!1,y({x:0,y:0,scale:1}),s.current&&S){const I=s.current.clientWidth,z=s.current.clientHeight;I>0&&z>0&&ke(I,z)}},B=()=>{const I=s.current,z=i.current;if(!I||!v||!z||!z.naturalWidth||!z.naturalHeight||z.naturalWidth<=0||z.naturalHeight<=0){b.error("[Cropper] Cannot crop: Preconditions fail");return}E(!0);try{const ee=I.clientWidth,ie=I.clientHeight,le=(ee-Ye)/2,xe=(ie-Ye)/2,ge=le-h.x,Re=xe-h.y,Le=ge/h.scale,Be=Re/h.scale,bt=Ye/h.scale,Rt=Ye/h.scale,Mt=Math.max(0,Le),Tt=Math.max(0,Be),Ht=Math.min(bt,z.naturalWidth-Mt),xn=Math.min(Rt,z.naturalHeight-Tt);if(Ht<=0||xn<=0)throw new Error(`Crop area zero/negative: W=${Ht}, H=${xn}`);let Nn={x:Math.round(Mt),y:Math.round(Tt),w:Math.round(Ht),h:Math.round(xn)};const J=Math.min(Nn.w,Nn.h);if(Nn.w=J,Nn.h=J,Nn.w<=0)throw new Error(`Final crop width <= 0: ${Nn.w}`);l.current&&t(Nn)}catch(ee){b.error("[Cropper] Error during cropping:",ee)}finally{l.current&&E(!1)}},me=se||!v&&!C,ce=!v&&!C,dt=!v||C,Ie={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Ue={...Ie,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:v?1:0,transition:M?"none":"transform 0.1s linear",zIndex:2},Ae={...Ie,transform:R?`translate(${R.x}px, ${R.y}px) scale(${R.scale})`:"translate(0px, 0px) scale(1)",opacity:v?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Bt,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:Q("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",M?"cursor-grabbing":"cursor-grab"),onMouseDown:rt,onTouchStart:gt,children:[N&&R&&$&&p.jsx("img",{ref:a,src:N,alt:"",className:"absolute transform-gpu origin-top-left block",style:Ae,draggable:!1,width:$.width,height:$.height},N+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Ue,onLoad:_e,onError:He,draggable:!1,loading:"eager"},e),me&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Bt,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${Ye}px`,height:`${Ye}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(ze,{type:"button",variant:"outline",size:"icon",onClick:Dt,disabled:!Y||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(nI,{className:"h-4 w-4"})," "]}),p.jsx(aA,{value:[h.scale],min:P,max:A,step:(A-P)/100,onValueChange:U,className:"flex-grow",disabled:!Y||C,"aria-label":"Zoom slider"}),p.jsxs(ze,{type:"button",variant:"outline",size:"icon",onClick:Fe,disabled:!Y||C||h.scale>=A,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(tI,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(ze,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(ze,{type:"button",variant:"ghost",onClick:K,disabled:!Y||C,className:"px-3",children:[" ",p.jsx(Z_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(ze,{type:"button",variant:"default",onClick:B,disabled:dt,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):ce?p.jsxs(p.Fragment,{children:[" ",p.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(Yb,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function R0(e){return new Promise((t,n)=>{const r=new Image;if(r.onload=()=>{r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):n(new Error("Image loaded with zero dimensions."))},r.onerror=o=>{b.error("Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")r.src=e;else if(e instanceof File){const o=new FileReader;o.onload=s=>{var i;(i=s.target)!=null&&i.result?r.src=s.target.result:n(new Error("FileReader result is empty."))},o.onerror=s=>{b.error("FileReader error:",s),n(new Error("Failed to read file."))},o.readAsDataURL(e)}else n(new Error("Invalid input for getImageDimensions"))})}const Bz=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return b.error("Error parsing EXIF date string:",t),null}};function M0(e){return new Promise(t=>{if(!window.EXIF){b.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(b.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=Bz(o);t({exifDate:s})}catch(o){b.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,b.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function _0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(Uk,{open:e,onOpenChange:t,children:p.jsxs(Wg,{children:[p.jsxs(Hg,{children:[p.jsx(Kg,{children:r}),p.jsx(Yg,{children:o})]}),p.jsxs(Gg,{children:[p.jsx(Qg,{disabled:a,children:i}),p.jsxs(Xg,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Bt,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const zz=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&b.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function I0({entryId:e}){const t=Yn(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,isAuthenticated:d,isLoadingAuth:u,navigate:h,isLoadingImagesMeta:y,isClientReady:g,isOnline:w}=t,{toast:S}=Ga(),[m,v]=f.useState(null),[x,C]=f.useState(()=>{const te=window.location.hash.split("?")[1];let re=null;if(te)try{re=new URLSearchParams(te).get("date")}catch{}if(re&&/^\d{4}-\d{2}-\d{2}$/.test(re))return b.log(`[EntryForm State Init] Initializing date from param: ${re}`),new Date(re+"T00:00:00Z");{b.log("[EntryForm State Init] Initializing date to today (UTC).");const fe=new Date;return new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate()))}}),[E,P]=f.useState(!1),[k,A]=f.useState(""),[D,M]=f.useState([]),[L,O]=f.useState(!1),[G,F]=f.useState(null),[W,N]=f.useState(!1),[j,R]=f.useState(null),[_,$]=f.useState(null),[H,Y]=f.useState(!0),[se,ae]=f.useState([]),[we,Te]=f.useState(null),[Se,ke]=f.useState(!1),[_e,He]=f.useState(null),[de,X]=f.useState(null),[he,be]=f.useState(!1),[rt,mt]=f.useState(!1),[gt,St]=f.useState(new Map),ot=f.useRef(null),ve=f.useRef(!1),Fe=f.useRef(new Map),Dt=f.useRef(new Map),U=f.useRef(null),K=f.useRef(!1),B=f.useRef(!1),me=f.useRef(0),ce=f.useRef({}),dt=ro.getInstance(),Ie=!!e,Ue=we!==null&&we<se.length,Ae=a||Ue||Se,I=!H&&!Ae&&!a&&!u&&D.length>0&&!W&&se.length===0&&he,z=f.useMemo(()=>{const J=m?m.date:x.toISOString().split("T")[0],te=m?m.content:"",re=m?m.photos:[],fe=new Set(re.map(ye=>ye.photoId));return{date:J,content:te,photoIds:fe}},[m,x]);f.useEffect(()=>{if(H||u||y){be(!1);return}const J=x.toISOString().split("T")[0]!==z.date,te=k!==z.content,re=new Set(D.map(Ee=>Gr(Ee)?Ee.localId:Ee.photoId)),fe=z.photoIds;let ye=re.size!==fe.size;if(!ye){for(const Ee of re)fe.has(Ee)||(ye=!0);if(!ye)for(const Ee of fe)re.has(Ee)||(ye=!0)}let $e=!1;if(m&&!ye){for(const Ee of D)if(!Gr(Ee)){const oe=m.photos.find(Oe=>Oe.photoId===Ee.photoId);if(oe&&(Ee.crop.x!==oe.crop.x||Ee.crop.y!==oe.crop.y||Ee.crop.w!==oe.crop.w||Ee.crop.h!==oe.crop.h)){$e=!0;break}}}if(Ie)be(J||te||ye||$e);else{const Ee=(()=>{const Qe=window.location.hash.split("?")[1];let Ke=null;if(Qe)try{Ke=new URLSearchParams(Qe).get("date")}catch{}if(Ke&&/^\d{4}-\d{2}-\d{2}$/.test(Ke))return Ke;{const Ze=new Date;return new Date(Date.UTC(Ze.getFullYear(),Ze.getMonth(),Ze.getDate())).toISOString().split("T")[0]}})(),oe=x.toISOString().split("T")[0]!==Ee;be(k.trim()!==""||D.length>0||oe)}},[x,k,D,z.date,z.content,z.photoIds,Ie,H,u,y,m]);const ee=f.useCallback(async J=>{if(!ve.current||J>=se.length)return;const te=se[J];if(!te||gt.has(te.localId))return;U.current&&U.current.abort();const re=new AbortController;U.current=re;try{const[fe,ye]=await Promise.all([R0(te.file),M0(te.file)]);if(re.signal.aborted||!ve.current)return;St($e=>new Map($e).set(te.localId,{dims:fe,exif:ye}))}catch(fe){fe.name==="AbortError"||ve.current&&b.error(`[Prefetch] Error pre-fetching data for index ${J}, file: ${te.file.name}`,fe)}finally{U.current===re&&(U.current=null)}},[se,gt]),ie=f.useCallback((J,te)=>{if(b.log(`[EntryForm] handleFilesSelect called with ${J.length} files.`),!ve.current){b.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&te.forEach(URL.revokeObjectURL);return}const re=oa-D.length-se.length;if(J.length>re&&(S({title:"Too many files",description:`You can only add ${re} more photo(s). Some files were ignored.`,variant:"destructive"}),J=J.slice(0,re),typeof URL.revokeObjectURL=="function"&&te.slice(re).forEach(URL.revokeObjectURL),te=te.slice(0,re),J.length===0))return;const fe=J.map((ye,$e)=>{const Ee=crypto.randomUUID(),oe=te[$e];return b.log(`[EntryForm] Creating blob URL for ${ye.name} (localId: ${Ee}): ${oe}`),Fe.current.set(Ee,oe),{file:ye,previewUrl:oe,localId:Ee}});b.log(`[EntryForm] Adding ${fe.length} items to processingQueue.`),ae(ye=>{const $e=[...ye,...fe];return b.log(`[EntryForm] ProcessingQueue updated. Length: ${$e.length}. Current Index: ${we}`),we===null&&$e.length>0&&(b.log("[EntryForm] Setting currentQueueIndex to 0."),Te(0),$e.length>1&&ee(1)),$e})},[D.length,se.length,S,we,ee]);f.useEffect(()=>{const J={entryId:e,isAuthenticated:d,isLoadingAuth:u,isClientReady:g,isLoadingImagesMeta:y,isOnline:w,navigate:h,toast:S,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:m==null?void 0:m.id};me.current++;const te=me.current,re=`init-${te}`;if(zz(te,ce.current,J),(te===1||e!==ce.current.entryId)&&(B.current=!1),!(!u&&d&&g&&!y)){Y(!0),ce.current=J;return}ve.current=!0,be(!1);const ye=()=>{b.log(`[EntryForm Init Effect ${re}] resetFormState() called.`),v(null),A(""),M([]),O(!1),F(null),N(!1),R(null),$(null),ae([]),Te(null),ke(!1),He(null),X(null),St(new Map),Fe.current.forEach((oe,Oe)=>{try{oe.startsWith("blob:")&&URL.revokeObjectURL(oe)}catch{}}),Fe.current.clear(),Dt.current.clear()},$e=async oe=>{if(b.log(`[EntryForm Init Effect ${re}] Populate form for entry ID:`,oe.id),!ve.current)return;let Oe=new Date(oe.date+"T00:00:00Z");if(C(Oe),A(oe.content),v({...oe}),P(!0),b.log(`[EntryForm Init Effect ${re}] Basic form fields populated. isDateSetByUserIntent: true`),M([]),Dt.current.clear(),Fe.current.forEach((Qe,Ke)=>{try{Qe.startsWith("blob:")&&URL.revokeObjectURL(Qe)}catch{}}),Fe.current.clear(),oe.photos&&oe.photos.length>0){b.log(`[EntryForm Init Effect ${re}] Loading ${oe.photos.length} photos.`),(!i||i.length===0)&&b.warn(`[EntryForm Init Effect ${re}] Missing imagesMetadata.`);const Qe=oe.photos.map(async Ke=>{const Ze=(i||[]).find(Qn=>Qn.id===Ke.photoId),Ge=(Ze==null?void 0:Ze.photoMetadata)??null,Gt=Ge==null?void 0:Ge.contentHash;let Ct=null;try{if(Ct=await s(Gt,Ke.photoId),!ve.current)return null;Ct?(Fe.current.set(Ke.photoId,Ct),Ge&&Dt.current.set(Ke.photoId,Ge)):b.warn(`[EntryForm Init Effect ${re}] No preview URL for photo ${Ke.photoId}`)}catch(Qn){b.error(`[EntryForm Init Effect ${re}] Failed getting preview link for photo ${Ke.photoId}:`,Qn)}const yr=Ct===null?void 0:Ct;return yr?{...Ke,isNew:!1,localPreviewUrl:yr}:null});try{const Ke=await Promise.all(Qe);if(!ve.current)return;const Ze=Ke.filter(Ge=>Ge!==null);if(b.log(`[EntryForm Init Effect ${re}] Setting ${Ze.length} photos.`),M(Ze),Ze.length>0){const Ge=Dt.current.get(Ze[0].photoId),Gt=(Ge==null?void 0:Ge.exifDate)??null;b.log(`[EntryForm Init Edit] Storing initial EXIF date: ${Gt}`),F(Gt);const Ct=Oe.toISOString().split("T")[0];let yr=!1,Qn="";if(Gt){const[Si,bi,as]=Gt.split("-").map(Number);!isNaN(Si)&&!isNaN(bi)&&!isNaN(as)&&(Qn=new Date(Date.UTC(Si,bi-1,as)).toISOString().split("T")[0],yr=Ct!==Qn)}b.log(`[EntryForm Init Edit] Comparing Form UTC: ${Ct} vs EXIF as UTC: ${Qn||"N/A"}. Show warning: ${yr}`),O(yr)}else b.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),F(null),O(!1)}catch(Ke){b.error(`[EntryForm Init Effect ${re}] Error loading initial photo details:`,Ke),ve.current&&M([])}}else b.log(`[EntryForm Init Effect ${re}] Entry has no photos.`),M([]),F(null),O(!1);b.log(`[EntryForm Init Effect ${re}] populateForm finished.`)};return(async()=>{if(B.current){Y(!1);return}Y(!0),ye();try{if(Ie&&e){b.log(`[EntryForm Init Effect ${re}] EDIT MODE: Initializing for entry ID: ${e}`);let oe=null;if(oe=r(e)||null,oe||(b.log(`[EntryForm Init Effect ${re}] EDIT MODE: Not in context, loading...`),oe=await o(e)),oe&&ve.current)await $e(oe),B.current=!0;else if(ve.current){b.error(`[EntryForm Init Effect ${re}] EDIT MODE: Entry ${e} not found. Redirecting.`),S({title:"Error",description:"Entry not found.",variant:"destructive"}),h("/");return}}else{b.log(`[EntryForm Init Effect ${re}] NEW MODE: Initializing.`);const Oe=window.location.hash.split("?")[1];let Qe=null;if(Oe)try{Qe=new URLSearchParams(Oe).get("date")}catch{}let Ke=!1,Ze;if(Qe&&/^\d{4}-\d{2}-\d{2}$/.test(Qe))Ze=new Date(Qe+"T00:00:00Z"),Ke=!0,b.log(`[EntryForm Init Effect ${re}] NEW MODE: Date from param: ${Qe}. User intent: true.`);else{const Ge=new Date;Ze=new Date(Date.UTC(Ge.getFullYear(),Ge.getMonth(),Ge.getDate())),Ke=!1,b.log(`[EntryForm Init Effect ${re}] NEW MODE: Date defaulted to today. User intent: false.`)}C(Ze),P(Ke),v(null),B.current=!0}}finally{ve.current&&Y(!1)}})(),ce.current=J,()=>{ve.current=!1,U.current&&(U.current.abort(),U.current=null),b.log(`[EntryForm Cleanup] Attempting to revoke ${Fe.current.size} URLs.`),Fe.current.forEach((oe,Oe)=>{try{oe&&oe.startsWith("blob:")&&URL.revokeObjectURL(oe)}catch{}}),Fe.current.clear(),Dt.current.clear()}},[e,d,u,g,y,h,S,r,o,s,i,w,dt]),f.useEffect(()=>{if(!Ie&&d&&!u&&l&&l.length>0&&!K.current&&!H){b.log("[Shared Files Effect] Processing pending shared files."),P(!1);const J=[...l];if(c(),K.current=!0,typeof URL.createObjectURL!="function"){S({title:"Error",description:"Cannot process shared files.",variant:"destructive"});return}const te=D.length,re=se.length,fe=oa-te-re;if(J.length>fe&&(S({title:"Too many files",description:`Limit reached. Added first ${fe}.`,variant:"destructive"}),J.splice(fe)),J.length===0)return;const ye=[],$e=[];try{J.forEach(Ee=>{if(!Ee.type.startsWith("image/"))throw new Error("Invalid file type");const oe=URL.createObjectURL(Ee);ye.push(oe);const Oe=crypto.randomUUID();Fe.current.set(Oe,oe),$e.push({file:Ee,previewUrl:oe,localId:Oe})}),ie($e.map(Ee=>Ee.file),$e.map(Ee=>Ee.previewUrl))}catch(Ee){b.error("[Shared Files Effect] Error:",Ee),ye.forEach(URL.revokeObjectURL)}}},[Ie,d,u,l,c,S,ie,H,D.length,se.length]),f.useEffect(()=>{if(!Ue||!ve.current)return;const J=se[we];if(!J){se.length>0&&we!==null&&(b.warn("[Queue Effect] Resetting queue."),Te(null),ae([]),W&&N(!1));return}(async()=>{if(!ve.current)return;const re=J,{file:fe,previewUrl:ye,localId:$e}=re;let Ee=null;gt.has($e)&&(Ee=gt.get($e),St(oe=>{const Oe=new Map(oe);return Oe.delete($e),Oe}));try{const{dims:oe,exif:Oe}=Ee??await(async()=>({dims:await R0(fe),exif:await M0(fe)}))();if(!ve.current)return;const Qe=Math.min(oe.width,oe.height),Ke={x:Math.round((oe.width-Qe)/2),y:Math.round((oe.height-Qe)/2),w:Math.round(Qe),h:Math.round(Qe)},Ze={isNew:!0,file:fe,originalDimensions:oe,exifData:Oe,localPreviewUrl:ye,localId:$e};if(D.length===0&&!G&&!Ie){const Gt=Oe.exifDate;let Ct=!1;if(b.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${E}. Storing initial EXIF date string: ${Gt}`),F(Gt),Gt){const[yr,Qn,Si]=Gt.split("-").map(Number);if(!isNaN(yr)&&!isNaN(Qn)&&!isNaN(Si)){const bi=new Date(Date.UTC(yr,Qn-1,Si)),as=bi.toISOString().split("T")[0],Jg=x.toISOString().split("T")[0];E?(b.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Jg} vs EXIF as UTC: ${as}`),Ct=as!==Jg,b.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${Ct}`)):(b.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${as}`),C(bi),Ct=!1,b.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else b.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${Gt}. Setting warning false.`),Ct=!1}else b.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),Ct=!1;b.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${Ct}`),O(Ct)}X(Ze),R(null),$(ye),W||N(!0);const Ge=we+1;Ge<se.length&&ee(Ge)}catch(oe){if(b.error(`[Queue Effect] Error processing queue item ${we}:`,oe),S({title:"Error Processing Photo",description:`Could not process: ${fe.name}. ${oe instanceof Error?oe.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ye)}catch{}if(Fe.current.delete($e),ve.current){const Oe=we!==null?we+1:null;Oe!==null&&Oe<se.length?Te(Oe):(b.log("[Queue Effect] Last item failed. Resetting queue."),Te(null),ae([]),W&&N(!1))}}})()},[we,se,gt,W,ee,D.length,G,Ie,x,S,E]);const le=f.useCallback(J=>{if(!ve.current)return;if(de){const re={...de,crop:J};M(fe=>[...fe,re]),X(null)}else j!==null&&M(re=>re.map((fe,ye)=>ye===j?{...fe,crop:J}:fe));R(null);const te=we!==null?we+1:null;te!==null&&te<se.length?Te(te):(Te(null),ae([]),N(!1)),te!==null&&te<se.length||setTimeout(()=>{var re;return(re=ot.current)==null?void 0:re.focus()},50)},[we,se.length,de,j]),xe=f.useCallback(()=>{if(!ve.current)return;if(de){if(typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(de.localPreviewUrl)}catch{}Fe.current.delete(de.localId),X(null)}R(null);const J=we!==null?we+1:null;J!==null&&J<se.length?Te(J):(Te(null),ae([]),N(!1)),J!==null&&J<se.length||setTimeout(()=>{var te;return(te=ot.current)==null?void 0:te.focus()},50)},[we,se.length,de,j]),ge=f.useCallback(J=>{const te=D[J];if(!te||Ue||Ae){b.warn(`[EntryForm] openCropperForPhoto prevented for index ${J}.`,{isProcessingQueue:Ue,isBusy:Ae});return}const re=Gr(te)?te.localId:te.photoId,fe=Fe.current.get(re);fe?(R(J),X(null),$(fe),N(!0)):(S({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),b.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${J}, id ${re}`))},[D,Ue,Ae,S]),Re=f.useCallback(J=>{He(J),ke(!0)},[]),Le=f.useCallback(()=>{var Ee;if(_e===null)return;const J=_e,te=D[J];if(!te){b.warn(`[EntryForm] Photo to remove at index ${J} not found.`),ke(!1),He(null);return}const re=Gr(te)?te.localId:te.photoId,fe=J===0;let ye=[];const $e=Fe.current.get(re);if(typeof URL.revokeObjectURL=="function"&&$e)try{URL.revokeObjectURL($e)}catch(oe){b.error("Error revoking original URL on remove:",oe)}if(typeof URL.revokeObjectURL=="function"&&te.localPreviewUrl&&te.localPreviewUrl.startsWith("blob:")&&te.localPreviewUrl!==$e)try{URL.revokeObjectURL(te.localPreviewUrl)}catch(oe){b.error("Error revoking preview URL on remove:",oe)}if(Fe.current.delete(re),Dt.current.delete(re),M(oe=>(ye=oe.filter((Oe,Qe)=>Qe!==J),ye)),fe&&ve.current){const oe=ye.length>0?ye[0]:null;let Oe=null;if(oe)if(Gr(oe))Oe=((Ee=oe.exifData)==null?void 0:Ee.exifDate)??null;else{const Ge=Dt.current.get(oe.photoId);Oe=(Ge==null?void 0:Ge.exifDate)??null}b.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${Oe}`),F(Oe);const Qe=x.toISOString().split("T")[0];let Ke=!1,Ze="";if(Oe){const[Ge,Gt,Ct]=Oe.split("-").map(Number);!isNaN(Ge)&&!isNaN(Gt)&&!isNaN(Ct)&&(Ze=new Date(Date.UTC(Ge,Gt-1,Ct)).toISOString().split("T")[0],Ke=Qe!==Ze)}b.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${Qe} vs New EXIF as UTC: ${Ze||"N/A"}. Show warning: ${Ke}`),O(Ke)}ke(!1),He(null)},[_e,D,x]),Be=f.useCallback(()=>{if(G){b.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${G}.`);const[J,te,re]=G.split("-").map(Number);C(new Date(Date.UTC(J,te-1,re))),b.log("[EntryForm] handleUseExifDate setting warning to false."),O(!1)}},[G]),bt=f.useCallback(J=>{try{const te=new Date(J.target.value+"T00:00:00Z");if(isNaN(te.getTime()))b.warn("[EntryForm] Invalid date input received:",J.target.value);else{C(te);const re=te.toISOString().split("T")[0];let fe=!1,ye="";if(G){const[$e,Ee,oe]=G.split("-").map(Number);!isNaN($e)&&!isNaN(Ee)&&!isNaN(oe)&&(ye=new Date(Date.UTC($e,Ee-1,oe)).toISOString().split("T")[0],fe=re!==ye)}b.log(`[handleDateChange - DATE CHECK 1] Date changed to ${J.target.value}. Comparing New Form UTC: ${re} vs Initial EXIF as UTC: ${ye||"N/A"}. Show warning: ${fe}`),O(fe)}}catch(te){b.error("[EntryForm] Error processing date change:",te)}},[G]),Rt=f.useCallback(async()=>{if(b.log("[EntryForm] handleSave called.",{isBusy:Ae,canSave:I}),Ae||!I){b.warn("[EntryForm] Save prevented:",{isBusy:Ae,canSave:I});return}const te=await n({date:x,content:k,photos:D},m);te&&ve.current?be(!1):te||b.warn("[EntryForm] Save failed (returned false).")},[Ae,I,x,k,D,n,m]),Mt=f.useCallback(()=>{W?xe():he?mt(!0):h("/")},[W,he,h,xe]),Tt=f.useCallback(()=>{mt(!1),be(!1),h("/")},[h]),Ht=f.useCallback(J=>{J.key==="Enter"&&(J.metaKey||J.ctrlKey)&&(J.preventDefault(),I&&!Ae&&Rt())},[I,Ae,Rt]);if(u&&!d)return b.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Bt,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(!d)return b.log("[EntryForm Render] Redirecting (Not Authenticated)..."),p.jsx(fM,{to:"/"});if(H)return b.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Bt,{className:"h-8 w-8 animate-spin text-primary"})," "]});b.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:W,isEditMode:Ie,photoCount:D.length,queueLength:se.length,currentQueueIndex:we,isLoadingData:H,isBusy:Ae,formDateUTC:x.toISOString().split("T")[0],initialExifDate:G,showExifDateMismatchWarning:L,isDateSetByUserIntent:E});const xn=()=>{var J;if(W&&_){const te=de??(j!==null?D[j]:null),re=te&&"crop"in te?te.crop:void 0;let fe;if(de&&de.originalDimensions)fe=de.originalDimensions;else if(j!==null&&Wk(D[j])){const ye=Dt.current.get(D[j].photoId);ye!=null&&ye.width&&(ye!=null&&ye.height)&&(fe={width:ye.width,height:ye.height})}else j!==null&&Gr(D[j])&&(fe=D[j].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(Uz,{imageUrl:_,onCropComplete:le,onCancel:xe,initialCropData:re,initialImageDimensions:fe})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(mz,{photos:D,setPhotos:M,isBusy:Ae,isLoadingInitial:!1,initialPhotoCount:((J=m==null?void 0:m.photos)==null?void 0:J.length)??0,onOpenCropper:ge,onRemovePhoto:Re,onFilesSelect:ie,originalBlobUrlsRef:Fe,existingPhotoMetaRef:Dt,processingQueueLength:se.length,currentQueueIndex:we,isProcessingQueueItem:Ue}),D.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(gz,{date:x,onDateChange:bt,showExifWarning:L,initialExifDate:G,onUseExifDate:Be,isBusy:Ae}),p.jsx(yz,{content:k,setContent:A,isBusy:Ae,onKeyDown:Ht,textAreaRef:ot})]})]})},Nn=()=>W?`Adjust Photo${se.length>0&&we!==null?` (${we+1}/${se.length})`:""}`:Ie?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(ze,{variant:"ghost",size:"icon",onClick:Mt,disabled:Ae&&!W,"aria-label":W?"Cancel Crop":"Go Back",children:[" ",p.jsx(Kb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:Nn()}),p.jsxs(ze,{variant:"ghost",size:"icon",onClick:Mt,disabled:Ae&&!W,"aria-label":"Close",children:[" ",p.jsx(Ru,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[xn(),!W&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(vz,{isBusy:Ae,isSaving:a,isEditMode:Ie,canSave:I,onCancel:Mt,onSave:Rt})})]})]}),p.jsx(_0,{open:Se,onOpenChange:ke,onConfirm:Le,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(_0,{open:rt,onOpenChange:mt,onConfirm:Tt,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function qz(){return b.log("[App] Using hook:",Rh),p.jsx(LM,{client:$M,children:p.jsx(C2,{children:p.jsxs(qC,{children:[p.jsx(fb,{hook:Rh,children:p.jsxs(dM,{children:[p.jsx(Cl,{path:"/",component:bz}),p.jsx(Cl,{path:"/entry/new",children:p.jsx(I0,{})}),p.jsx(Cl,{path:"/entry/edit/:id",children:e=>p.jsx(I0,{entryId:e.id})}),p.jsx(Cl,{children:()=>p.jsx(wj,{})})]})}),p.jsx(VI,{})]})})})}tb(document.getElementById("root")).render(p.jsx(G2,{attribute:"class",children:p.jsx(qz,{})}))});export default Wz();
