var kg=e=>{throw TypeError(e)};var _k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Fu=(e,t,n)=>t.has(e)||kg("Cannot "+n);var V=(e,t,n)=>(Fu(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?kg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(Fu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),At=(e,t,n)=>(Fu(e,t,"access private method"),n);var qa=(e,t,n,r)=>({set _(o){we(e,t,o,n)},get _(){return V(e,t,r)}});var Qz=_k((h3,Dk)=>{function Nk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function y0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var w0={exports:{}},$c={},x0={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),Ik=Symbol.for("react.portal"),jk=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),Ok=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),Vk=Symbol.for("react.forward_ref"),Uk=Symbol.for("react.suspense"),zk=Symbol.for("react.memo"),Bk=Symbol.for("react.lazy"),Ag=Symbol.iterator;function qk(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var S0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b0=Object.assign,C0={};function ti(e,t,n){this.props=e,this.context=t,this.refs=C0,this.updater=n||S0}ti.prototype.isReactComponent={};ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function E0(){}E0.prototype=ti.prototype;function _h(e,t,n){this.props=e,this.context=t,this.refs=C0,this.updater=n||S0}var Nh=_h.prototype=new E0;Nh.constructor=_h;b0(Nh,ti.prototype);Nh.isPureReactComponent=!0;var Dg=Array.isArray,P0=Object.prototype.hasOwnProperty,Ih={current:null},T0={key:!0,ref:!0,__self:!0,__source:!0};function k0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)P0.call(t,r)&&!T0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ta,type:e,key:s,ref:i,props:o,_owner:Ih.current}}function Hk(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function Wk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rg=/\/+/g;function $u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wk(""+e.key):t.toString(36)}function El(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ta:case Ik:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+$u(i,0):r,Dg(o)?(n="",e!=null&&(n=e.replace(Rg,"$&/")+"/"),El(o,t,n,"",function(c){return c})):o!=null&&(jh(o)&&(o=Hk(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Rg,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Dg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+$u(s,a);i+=El(s,t,n,l,o)}else if(l=qk(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+$u(s,a++),i+=El(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ha(e,t,n){if(e==null)return e;var r=[],o=0;return El(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Gk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Pl={transition:null},Kk={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:Ih};function A0(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Ha,forEach:function(e,t,n){Ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ha(e,function(){t++}),t},toArray:function(e){return Ha(e,function(t){return t})||[]},only:function(e){if(!jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ti;Te.Fragment=jk;Te.Profiler=Ok;Te.PureComponent=_h;Te.StrictMode=Lk;Te.Suspense=Uk;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kk;Te.act=A0;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=b0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Ih.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)P0.call(t,l)&&!T0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ta,type:e.type,key:o,ref:s,props:r,_owner:i}};Te.createContext=function(e){return e={$$typeof:$k,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fk,_context:e},e.Consumer=e};Te.createElement=k0;Te.createFactory=function(e){var t=k0.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:Vk,render:e}};Te.isValidElement=jh;Te.lazy=function(e){return{$$typeof:Bk,_payload:{_status:-1,_result:e},_init:Gk}};Te.memo=function(e,t){return{$$typeof:zk,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Pl.transition;Pl.transition={};try{e()}finally{Pl.transition=t}};Te.unstable_act=A0;Te.useCallback=function(e,t){return Bt.current.useCallback(e,t)};Te.useContext=function(e){return Bt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Bt.current.useEffect(e,t)};Te.useId=function(){return Bt.current.useId()};Te.useImperativeHandle=function(e,t,n){return Bt.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Bt.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Bt.current.useReducer(e,t,n)};Te.useRef=function(e){return Bt.current.useRef(e)};Te.useState=function(e){return Bt.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Bt.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Bt.current.useTransition()};Te.version="18.3.1";x0.exports=Te;var f=x0.exports;const gt=y0(f),D0=Nk({__proto__:null,default:gt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=f,Xk=Symbol.for("react.element"),Qk=Symbol.for("react.fragment"),Zk=Object.prototype.hasOwnProperty,Jk=Yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eA={key:!0,ref:!0,__self:!0,__source:!0};function R0(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Zk.call(t,r)&&!eA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Xk,type:e,key:s,ref:i,props:o,_owner:Jk.current}}$c.Fragment=Qk;$c.jsx=R0;$c.jsxs=R0;w0.exports=$c;var p=w0.exports,M0={exports:{}},un={},_0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,R){var F=D.length;D.push(R);e:for(;0<F;){var z=F-1>>>1,G=D[z];if(0<o(G,R))D[z]=R,D[F]=G,F=z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var R=D[0],F=D.pop();if(F!==R){D[0]=F;e:for(var z=0,G=D.length,ae=G>>>1;z<ae;){var oe=2*(z+1)-1,Ze=D[oe],Re=oe+1,pe=D[Re];if(0>o(Ze,F))Re<G&&0>o(pe,Ze)?(D[z]=pe,D[Re]=F,z=Re):(D[z]=Ze,D[oe]=F,z=oe);else if(Re<G&&0>o(pe,F))D[z]=pe,D[Re]=F,z=Re;else break e}}return R}function o(D,R){var F=D.sortIndex-R.sortIndex;return F!==0?F:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,h=3,w=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=D)r(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(c)}}function b(D){if(y=!1,x(D),!v)if(n(l)!==null)v=!0,N(C);else{var R=n(c);R!==null&&O(b,R.startTime-D)}}function C(D,R){v=!1,y&&(y=!1,m(A),A=-1),w=!0;var F=h;try{for(x(R),d=n(l);d!==null&&(!(d.expirationTime>R)||D&&!I());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var G=z(d.expirationTime<=R);R=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),x(R)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var oe=n(c);oe!==null&&O(b,oe.startTime-R),ae=!1}return ae}finally{d=null,h=F,w=!1}}var P=!1,k=null,A=-1,M=5,_=-1;function I(){return!(e.unstable_now()-_<M)}function $(){if(k!==null){var D=e.unstable_now();_=D;var R=!0;try{R=k(!0,D)}finally{R?j():(P=!1,k=null)}}else P=!1}var j;if(typeof g=="function")j=function(){g($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=$,j=function(){W.postMessage(null)}}else j=function(){S($,0)};function N(D){k=D,P||(P=!0,j())}function O(D,R){A=S(function(){D(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,N(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var F=h;h=R;try{return D()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=h;h=D;try{return R()}finally{h=F}},e.unstable_scheduleCallback=function(D,R,F){var z=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,D={id:u++,callback:R,priorityLevel:D,startTime:F,expirationTime:G,sortIndex:-1},F>z?(D.sortIndex=F,t(c,D),n(l)===null&&D===n(c)&&(y?(m(A),A=-1):y=!0,O(b,F-z))):(D.sortIndex=G,t(l,D),v||w||(v=!0,N(C))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var R=h;return function(){var F=h;h=R;try{return D.apply(this,arguments)}finally{h=F}}}})(N0);_0.exports=N0;var tA=_0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA=f,ln=tA;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I0=new Set,Wi={};function Bo(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(Wi[e]=t,e=0;e<t.length;e++)I0.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jd=Object.prototype.hasOwnProperty,rA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mg={},_g={};function oA(e){return Jd.call(_g,e)?!0:Jd.call(Mg,e)?!1:rA.test(e)?_g[e]=!0:(Mg[e]=!0,!1)}function sA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iA(e,t,n,r){if(t===null||typeof t>"u"||sA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lh=/[\-:]([a-z])/g;function Oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lh,Oh);kt[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lh,Oh);kt[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lh,Oh);kt[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fh(e,t,n,r){var o=kt.hasOwnProperty(t)?kt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iA(t,n,o,r)&&(n=null),r||o===null?oA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pr=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wa=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),j0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),Uh=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),O0=Symbol.for("react.offscreen"),Ng=Symbol.iterator;function fi(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,Vu;function Ci(e){if(Vu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vu=t&&t[1]||""}return`
`+Vu+e}var Uu=!1;function zu(e,t){if(!e||Uu)return"";Uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Uu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ci(e):""}function aA(e){switch(e.tag){case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return e=zu(e.type,!1),e;case 11:return e=zu(e.type.render,!1),e;case 1:return e=zu(e.type,!0),e;default:return""}}function rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jo:return"Fragment";case Zo:return"Portal";case ef:return"Profiler";case $h:return"StrictMode";case tf:return"Suspense";case nf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L0:return(e.displayName||"Context")+".Consumer";case j0:return(e._context.displayName||"Context")+".Provider";case Vh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uh:return t=e.displayName||null,t!==null?t:rf(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return rf(e(t))}catch{}}return null}function lA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rf(t);case 8:return t===$h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cA(e){var t=F0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ga(e){e._valueTracker||(e._valueTracker=cA(e))}function $0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=F0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function of(e,t){var n=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ig(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=oo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V0(e,t){t=t.checked,t!=null&&Fh(e,"checked",t,!1)}function sf(e,t){V0(e,t);var n=oo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?af(e,t.type,n):t.hasOwnProperty("defaultValue")&&af(e,t.type,oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function af(e,t,n){(t!=="number"||Gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ei=Array.isArray;function ms(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function lf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Ei(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oo(n)}}function U0(e,t){var n=oo(t.value),r=oo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Og(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ka,B0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uA=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(e){uA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mi[t]=Mi[e]})});function q0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mi.hasOwnProperty(e)&&Mi[e]?(""+t).trim():t+"px"}function H0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=q0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var dA=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uf(e,t){if(t){if(dA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function df(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=null;function zh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hf=null,gs=null,vs=null;function Fg(e){if(e=Da(e)){if(typeof hf!="function")throw Error(H(280));var t=e.stateNode;t&&(t=qc(t),hf(e.stateNode,e.type,t))}}function W0(e){gs?vs?vs.push(e):vs=[e]:gs=e}function G0(){if(gs){var e=gs,t=vs;if(vs=gs=null,Fg(e),t)for(e=0;e<t.length;e++)Fg(t[e])}}function K0(e,t){return e(t)}function Y0(){}var Bu=!1;function X0(e,t,n){if(Bu)return e(t,n);Bu=!0;try{return K0(e,t,n)}finally{Bu=!1,(gs!==null||vs!==null)&&(Y0(),G0())}}function Ki(e,t){var n=e.stateNode;if(n===null)return null;var r=qc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var pf=!1;if(vr)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){pf=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{pf=!1}function fA(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var _i=!1,Kl=null,Yl=!1,mf=null,hA={onError:function(e){_i=!0,Kl=e}};function pA(e,t,n,r,o,s,i,a,l){_i=!1,Kl=null,fA.apply(hA,arguments)}function mA(e,t,n,r,o,s,i,a,l){if(pA.apply(this,arguments),_i){if(_i){var c=Kl;_i=!1,Kl=null}else throw Error(H(198));Yl||(Yl=!0,mf=c)}}function qo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Q0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $g(e){if(qo(e)!==e)throw Error(H(188))}function gA(e){var t=e.alternate;if(!t){if(t=qo(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return $g(o),e;if(s===r)return $g(o),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Z0(e){return e=gA(e),e!==null?J0(e):null}function J0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J0(e);if(t!==null)return t;e=e.sibling}return null}var ex=ln.unstable_scheduleCallback,Vg=ln.unstable_cancelCallback,vA=ln.unstable_shouldYield,yA=ln.unstable_requestPaint,mt=ln.unstable_now,wA=ln.unstable_getCurrentPriorityLevel,Bh=ln.unstable_ImmediatePriority,tx=ln.unstable_UserBlockingPriority,Xl=ln.unstable_NormalPriority,xA=ln.unstable_LowPriority,nx=ln.unstable_IdlePriority,Vc=null,Qn=null;function SA(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Vc,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:EA,bA=Math.log,CA=Math.LN2;function EA(e){return e>>>=0,e===0?32:31-(bA(e)/CA|0)|0}var Ya=64,Xa=4194304;function Pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ql(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Pi(a):(s&=i,s!==0&&(r=Pi(s)))}else i=n&~o,i!==0?r=Pi(i):s!==0&&(r=Pi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-In(t),o=1<<n,r|=e[n],t&=~o;return r}function PA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-In(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=PA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function gf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rx(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=n}function kA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-In(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function qh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-In(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ve=0;function ox(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sx,Hh,ix,ax,lx,vf=!1,Qa=[],Kr=null,Yr=null,Xr=null,Yi=new Map,Xi=new Map,Fr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ug(e,t){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(t.pointerId)}}function pi(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Da(t),t!==null&&Hh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function DA(e,t,n,r,o){switch(t){case"focusin":return Kr=pi(Kr,e,t,n,r,o),!0;case"dragenter":return Yr=pi(Yr,e,t,n,r,o),!0;case"mouseover":return Xr=pi(Xr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Yi.set(s,pi(Yi.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Xi.set(s,pi(Xi.get(s)||null,e,t,n,r,o)),!0}return!1}function cx(e){var t=bo(e.target);if(t!==null){var n=qo(t);if(n!==null){if(t=n.tag,t===13){if(t=Q0(n),t!==null){e.blockedOn=t,lx(e.priority,function(){ix(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ff=r,n.target.dispatchEvent(r),ff=null}else return t=Da(n),t!==null&&Hh(t),e.blockedOn=n,!1;t.shift()}return!0}function zg(e,t,n){Tl(e)&&n.delete(t)}function RA(){vf=!1,Kr!==null&&Tl(Kr)&&(Kr=null),Yr!==null&&Tl(Yr)&&(Yr=null),Xr!==null&&Tl(Xr)&&(Xr=null),Yi.forEach(zg),Xi.forEach(zg)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,vf||(vf=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,RA)))}function Qi(e){function t(o){return mi(o,e)}if(0<Qa.length){mi(Qa[0],e);for(var n=1;n<Qa.length;n++){var r=Qa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kr!==null&&mi(Kr,e),Yr!==null&&mi(Yr,e),Xr!==null&&mi(Xr,e),Yi.forEach(t),Xi.forEach(t),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)cx(n),n.blockedOn===null&&Fr.shift()}var ys=Pr.ReactCurrentBatchConfig,Zl=!0;function MA(e,t,n,r){var o=Ve,s=ys.transition;ys.transition=null;try{Ve=1,Wh(e,t,n,r)}finally{Ve=o,ys.transition=s}}function _A(e,t,n,r){var o=Ve,s=ys.transition;ys.transition=null;try{Ve=4,Wh(e,t,n,r)}finally{Ve=o,ys.transition=s}}function Wh(e,t,n,r){if(Zl){var o=yf(e,t,n,r);if(o===null)ed(e,t,r,Jl,n),Ug(e,r);else if(DA(o,e,t,n,r))r.stopPropagation();else if(Ug(e,r),t&4&&-1<AA.indexOf(e)){for(;o!==null;){var s=Da(o);if(s!==null&&sx(s),s=yf(e,t,n,r),s===null&&ed(e,t,r,Jl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ed(e,t,r,null,n)}}var Jl=null;function yf(e,t,n,r){if(Jl=null,e=zh(r),e=bo(e),e!==null)if(t=qo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Q0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jl=e,null}function ux(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wA()){case Bh:return 1;case tx:return 4;case Xl:case xA:return 16;case nx:return 536870912;default:return 16}default:return 16}}var Hr=null,Gh=null,kl=null;function dx(){if(kl)return kl;var e,t=Gh,n=t.length,r,o="value"in Hr?Hr.value:Hr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return kl=o.slice(e,1<r?1-r:void 0)}function Al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function Bg(){return!1}function dn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Za:Bg,this.isPropagationStopped=Bg,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),t}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kh=dn(ni),Aa=it({},ni,{view:0,detail:0}),NA=dn(Aa),Hu,Wu,gi,Uc=it({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(Hu=e.screenX-gi.screenX,Wu=e.screenY-gi.screenY):Wu=Hu=0,gi=e),Hu)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),qg=dn(Uc),IA=it({},Uc,{dataTransfer:0}),jA=dn(IA),LA=it({},Aa,{relatedTarget:0}),Gu=dn(LA),OA=it({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),FA=dn(OA),$A=it({},ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VA=dn($A),UA=it({},ni,{data:0}),Hg=dn(UA),zA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qA[e])?!!t[e]:!1}function Yh(){return HA}var WA=it({},Aa,{key:function(e){if(e.key){var t=zA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yh,charCode:function(e){return e.type==="keypress"?Al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GA=dn(WA),KA=it({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=dn(KA),YA=it({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yh}),XA=dn(YA),QA=it({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZA=dn(QA),JA=it({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eD=dn(JA),tD=[9,13,27,32],Xh=vr&&"CompositionEvent"in window,Ni=null;vr&&"documentMode"in document&&(Ni=document.documentMode);var nD=vr&&"TextEvent"in window&&!Ni,fx=vr&&(!Xh||Ni&&8<Ni&&11>=Ni),Gg=" ",Kg=!1;function hx(e,t){switch(e){case"keyup":return tD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function px(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function rD(e,t){switch(e){case"compositionend":return px(t);case"keypress":return t.which!==32?null:(Kg=!0,Gg);case"textInput":return e=t.data,e===Gg&&Kg?null:e;default:return null}}function oD(e,t){if(es)return e==="compositionend"||!Xh&&hx(e,t)?(e=dx(),kl=Gh=Hr=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fx&&t.locale!=="ko"?null:t.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sD[e.type]:t==="textarea"}function mx(e,t,n,r){W0(r),t=ec(t,"onChange"),0<t.length&&(n=new Kh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ii=null,Zi=null;function iD(e){Tx(e,0)}function zc(e){var t=rs(e);if($0(t))return e}function aD(e,t){if(e==="change")return t}var gx=!1;if(vr){var Ku;if(vr){var Yu="oninput"in document;if(!Yu){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Yu=typeof Xg.oninput=="function"}Ku=Yu}else Ku=!1;gx=Ku&&(!document.documentMode||9<document.documentMode)}function Qg(){Ii&&(Ii.detachEvent("onpropertychange",vx),Zi=Ii=null)}function vx(e){if(e.propertyName==="value"&&zc(Zi)){var t=[];mx(t,Zi,e,zh(e)),X0(iD,t)}}function lD(e,t,n){e==="focusin"?(Qg(),Ii=t,Zi=n,Ii.attachEvent("onpropertychange",vx)):e==="focusout"&&Qg()}function cD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zc(Zi)}function uD(e,t){if(e==="click")return zc(t)}function dD(e,t){if(e==="input"||e==="change")return zc(t)}function fD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:fD;function Ji(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Jd.call(t,o)||!On(e[o],t[o]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jg(e,t){var n=Zg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zg(n)}}function yx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wx(){for(var e=window,t=Gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gl(e.document)}return t}function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hD(e){var t=wx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yx(n.ownerDocument.documentElement,n)){if(r!==null&&Qh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Jg(n,s);var i=Jg(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pD=vr&&"documentMode"in document&&11>=document.documentMode,ts=null,wf=null,ji=null,xf=!1;function ev(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xf||ts==null||ts!==Gl(r)||(r=ts,"selectionStart"in r&&Qh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ji&&Ji(ji,r)||(ji=r,r=ec(wf,"onSelect"),0<r.length&&(t=new Kh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ts)))}function Ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ns={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionend:Ja("Transition","TransitionEnd")},Xu={},xx={};vr&&(xx=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Bc(e){if(Xu[e])return Xu[e];if(!ns[e])return e;var t=ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xx)return Xu[e]=t[n];return e}var Sx=Bc("animationend"),bx=Bc("animationiteration"),Cx=Bc("animationstart"),Ex=Bc("transitionend"),Px=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(e,t){Px.set(e,t),Bo(t,[e])}for(var Qu=0;Qu<tv.length;Qu++){var Zu=tv[Qu],mD=Zu.toLowerCase(),gD=Zu[0].toUpperCase()+Zu.slice(1);fo(mD,"on"+gD)}fo(Sx,"onAnimationEnd");fo(bx,"onAnimationIteration");fo(Cx,"onAnimationStart");fo("dblclick","onDoubleClick");fo("focusin","onFocus");fo("focusout","onBlur");fo(Ex,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function nv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mA(r,t,void 0,e),e.currentTarget=null}function Tx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;nv(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;nv(o,a,c),s=l}}}if(Yl)throw e=mf,Yl=!1,mf=null,e}function Xe(e,t){var n=t[Pf];n===void 0&&(n=t[Pf]=new Set);var r=e+"__bubble";n.has(r)||(kx(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),kx(n,e,r,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function ea(e){if(!e[el]){e[el]=!0,I0.forEach(function(n){n!=="selectionchange"&&(vD.has(n)||Ju(n,!1,e),Ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,Ju("selectionchange",!1,t))}}function kx(e,t,n,r){switch(ux(t)){case 1:var o=MA;break;case 4:o=_A;break;default:o=Wh}n=o.bind(null,t,n,e),o=void 0,!pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ed(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=bo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}X0(function(){var c=s,u=zh(n),d=[];e:{var h=Px.get(e);if(h!==void 0){var w=Kh,v=e;switch(e){case"keypress":if(Al(n)===0)break e;case"keydown":case"keyup":w=GA;break;case"focusin":v="focus",w=Gu;break;case"focusout":v="blur",w=Gu;break;case"beforeblur":case"afterblur":w=Gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=XA;break;case Sx:case bx:case Cx:w=FA;break;case Ex:w=ZA;break;case"scroll":w=NA;break;case"wheel":w=eD;break;case"copy":case"cut":case"paste":w=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Wg}var y=(t&4)!==0,S=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var g=c,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,m!==null&&(b=Ki(g,m),b!=null&&y.push(ta(g,b,x)))),S)break;g=g.return}0<y.length&&(h=new w(h,v,null,n,u),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==ff&&(v=n.relatedTarget||n.fromElement)&&(bo(v)||v[yr]))break e;if((w||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=c,v=v?bo(v):null,v!==null&&(S=qo(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=c),w!==v)){if(y=qg,b="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Wg,b="onPointerLeave",m="onPointerEnter",g="pointer"),S=w==null?h:rs(w),x=v==null?h:rs(v),h=new y(b,g+"leave",w,n,u),h.target=S,h.relatedTarget=x,b=null,bo(u)===c&&(y=new y(m,g+"enter",v,n,u),y.target=x,y.relatedTarget=S,b=y),S=b,w&&v)t:{for(y=w,m=v,g=0,x=y;x;x=Ko(x))g++;for(x=0,b=m;b;b=Ko(b))x++;for(;0<g-x;)y=Ko(y),g--;for(;0<x-g;)m=Ko(m),x--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Ko(y),m=Ko(m)}y=null}else y=null;w!==null&&rv(d,h,w,y,!1),v!==null&&S!==null&&rv(d,S,v,y,!0)}}e:{if(h=c?rs(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var C=aD;else if(Yg(h))if(gx)C=dD;else{C=cD;var P=lD}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=uD);if(C&&(C=C(e,c))){mx(d,C,n,u);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&af(h,"number",h.value)}switch(P=c?rs(c):window,e){case"focusin":(Yg(P)||P.contentEditable==="true")&&(ts=P,wf=c,ji=null);break;case"focusout":ji=wf=ts=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,ev(d,n,u);break;case"selectionchange":if(pD)break;case"keydown":case"keyup":ev(d,n,u)}var k;if(Xh)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else es?hx(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(fx&&n.locale!=="ko"&&(es||A!=="onCompositionStart"?A==="onCompositionEnd"&&es&&(k=dx()):(Hr=u,Gh="value"in Hr?Hr.value:Hr.textContent,es=!0)),P=ec(c,A),0<P.length&&(A=new Hg(A,e,null,n,u),d.push({event:A,listeners:P}),k?A.data=k:(k=px(n),k!==null&&(A.data=k)))),(k=nD?rD(e,n):oD(e,n))&&(c=ec(c,"onBeforeInput"),0<c.length&&(u=new Hg("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}Tx(d,t)})}function ta(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ec(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ki(e,n),s!=null&&r.unshift(ta(e,s,o)),s=Ki(e,t),s!=null&&r.push(ta(e,s,o))),e=e.return}return r}function Ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rv(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Ki(n,s),l!=null&&i.unshift(ta(n,l,a))):o||(l=Ki(n,s),l!=null&&i.push(ta(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var yD=/\r\n?/g,wD=/\u0000|\uFFFD/g;function ov(e){return(typeof e=="string"?e:""+e).replace(yD,`
`).replace(wD,"")}function tl(e,t,n){if(t=ov(t),ov(e)!==t&&n)throw Error(H(425))}function tc(){}var Sf=null,bf=null;function Cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,xD=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,SD=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(bD)}:Ef;function bD(e){setTimeout(function(){throw e})}function td(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Qi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Qi(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ri=Math.random().toString(36).slice(2),Yn="__reactFiber$"+ri,na="__reactProps$"+ri,yr="__reactContainer$"+ri,Pf="__reactEvents$"+ri,CD="__reactListeners$"+ri,ED="__reactHandles$"+ri;function bo(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iv(e);e!==null;){if(n=e[Yn])return n;e=iv(e)}return t}e=n,n=e.parentNode}return null}function Da(e){return e=e[Yn]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function qc(e){return e[na]||null}var Tf=[],os=-1;function ho(e){return{current:e}}function Qe(e){0>os||(e.current=Tf[os],Tf[os]=null,os--)}function Ke(e,t){os++,Tf[os]=e.current,e.current=t}var so={},Ot=ho(so),Yt=ho(!1),Io=so;function Vs(e,t){var n=e.type.contextTypes;if(!n)return so;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Xt(e){return e=e.childContextTypes,e!=null}function nc(){Qe(Yt),Qe(Ot)}function av(e,t,n){if(Ot.current!==so)throw Error(H(168));Ke(Ot,t),Ke(Yt,n)}function Ax(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,lA(e)||"Unknown",o));return it({},n,r)}function rc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||so,Io=Ot.current,Ke(Ot,e),Ke(Yt,Yt.current),!0}function lv(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Ax(e,t,Io),r.__reactInternalMemoizedMergedChildContext=e,Qe(Yt),Qe(Ot),Ke(Ot,e)):Qe(Yt),Ke(Yt,n)}var ur=null,Hc=!1,nd=!1;function Dx(e){ur===null?ur=[e]:ur.push(e)}function PD(e){Hc=!0,Dx(e)}function po(){if(!nd&&ur!==null){nd=!0;var e=0,t=Ve;try{var n=ur;for(Ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ur=null,Hc=!1}catch(o){throw ur!==null&&(ur=ur.slice(e+1)),ex(Bh,po),o}finally{Ve=t,nd=!1}}return null}var ss=[],is=0,oc=null,sc=0,vn=[],yn=0,jo=null,dr=1,fr="";function yo(e,t){ss[is++]=sc,ss[is++]=oc,oc=e,sc=t}function Rx(e,t,n){vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=jo,jo=e;var r=dr;e=fr;var o=32-In(r)-1;r&=~(1<<o),n+=1;var s=32-In(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,dr=1<<32-In(t)+o|n<<o|r,fr=s+e}else dr=1<<s|n<<o|r,fr=e}function Zh(e){e.return!==null&&(yo(e,1),Rx(e,1,0))}function Jh(e){for(;e===oc;)oc=ss[--is],ss[is]=null,sc=ss[--is],ss[is]=null;for(;e===jo;)jo=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null,dr=vn[--yn],vn[yn]=null}var sn=null,on=null,Je=!1,Nn=null;function Mx(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,on=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jo!==null?{id:dr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,on=null,!0):!1;default:return!1}}function kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Af(e){if(Je){var t=on;if(t){var n=t;if(!cv(e,t)){if(kf(e))throw Error(H(418));t=Qr(n.nextSibling);var r=sn;t&&cv(e,t)?Mx(r,n):(e.flags=e.flags&-4097|2,Je=!1,sn=e)}}else{if(kf(e))throw Error(H(418));e.flags=e.flags&-4097|2,Je=!1,sn=e}}}function uv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function nl(e){if(e!==sn)return!1;if(!Je)return uv(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cf(e.type,e.memoizedProps)),t&&(t=on)){if(kf(e))throw _x(),Error(H(418));for(;t;)Mx(e,t),t=Qr(t.nextSibling)}if(uv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){on=Qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}on=null}}else on=sn?Qr(e.stateNode.nextSibling):null;return!0}function _x(){for(var e=on;e;)e=Qr(e.nextSibling)}function Us(){on=sn=null,Je=!1}function ep(e){Nn===null?Nn=[e]:Nn.push(e)}var TD=Pr.ReactCurrentBatchConfig;function vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function rl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dv(e){var t=e._init;return t(e._payload)}function Nx(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=to(m,g),m.index=0,m.sibling=null,m}function s(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,b){return g===null||g.tag!==6?(g=cd(x,m.mode,b),g.return=m,g):(g=o(g,x),g.return=m,g)}function l(m,g,x,b){var C=x.type;return C===Jo?u(m,g,x.props.children,b,x.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jr&&dv(C)===g.type)?(b=o(g,x.props),b.ref=vi(m,g,x),b.return=m,b):(b=jl(x.type,x.key,x.props,null,m.mode,b),b.ref=vi(m,g,x),b.return=m,b)}function c(m,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=ud(x,m.mode,b),g.return=m,g):(g=o(g,x.children||[]),g.return=m,g)}function u(m,g,x,b,C){return g===null||g.tag!==7?(g=Mo(x,m.mode,b,C),g.return=m,g):(g=o(g,x),g.return=m,g)}function d(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cd(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wa:return x=jl(g.type,g.key,g.props,null,m.mode,x),x.ref=vi(m,null,g),x.return=m,x;case Zo:return g=ud(g,m.mode,x),g.return=m,g;case jr:var b=g._init;return d(m,b(g._payload),x)}if(Ei(g)||fi(g))return g=Mo(g,m.mode,x,null),g.return=m,g;rl(m,g)}return null}function h(m,g,x,b){var C=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(m,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wa:return x.key===C?l(m,g,x,b):null;case Zo:return x.key===C?c(m,g,x,b):null;case jr:return C=x._init,h(m,g,C(x._payload),b)}if(Ei(x)||fi(x))return C!==null?null:u(m,g,x,b,null);rl(m,x)}return null}function w(m,g,x,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(x)||null,a(g,m,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wa:return m=m.get(b.key===null?x:b.key)||null,l(g,m,b,C);case Zo:return m=m.get(b.key===null?x:b.key)||null,c(g,m,b,C);case jr:var P=b._init;return w(m,g,x,P(b._payload),C)}if(Ei(b)||fi(b))return m=m.get(x)||null,u(g,m,b,C,null);rl(g,b)}return null}function v(m,g,x,b){for(var C=null,P=null,k=g,A=g=0,M=null;k!==null&&A<x.length;A++){k.index>A?(M=k,k=null):M=k.sibling;var _=h(m,k,x[A],b);if(_===null){k===null&&(k=M);break}e&&k&&_.alternate===null&&t(m,k),g=s(_,g,A),P===null?C=_:P.sibling=_,P=_,k=M}if(A===x.length)return n(m,k),Je&&yo(m,A),C;if(k===null){for(;A<x.length;A++)k=d(m,x[A],b),k!==null&&(g=s(k,g,A),P===null?C=k:P.sibling=k,P=k);return Je&&yo(m,A),C}for(k=r(m,k);A<x.length;A++)M=w(k,m,A,x[A],b),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?A:M.key),g=s(M,g,A),P===null?C=M:P.sibling=M,P=M);return e&&k.forEach(function(I){return t(m,I)}),Je&&yo(m,A),C}function y(m,g,x,b){var C=fi(x);if(typeof C!="function")throw Error(H(150));if(x=C.call(x),x==null)throw Error(H(151));for(var P=C=null,k=g,A=g=0,M=null,_=x.next();k!==null&&!_.done;A++,_=x.next()){k.index>A?(M=k,k=null):M=k.sibling;var I=h(m,k,_.value,b);if(I===null){k===null&&(k=M);break}e&&k&&I.alternate===null&&t(m,k),g=s(I,g,A),P===null?C=I:P.sibling=I,P=I,k=M}if(_.done)return n(m,k),Je&&yo(m,A),C;if(k===null){for(;!_.done;A++,_=x.next())_=d(m,_.value,b),_!==null&&(g=s(_,g,A),P===null?C=_:P.sibling=_,P=_);return Je&&yo(m,A),C}for(k=r(m,k);!_.done;A++,_=x.next())_=w(k,m,A,_.value,b),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?A:_.key),g=s(_,g,A),P===null?C=_:P.sibling=_,P=_);return e&&k.forEach(function($){return t(m,$)}),Je&&yo(m,A),C}function S(m,g,x,b){if(typeof x=="object"&&x!==null&&x.type===Jo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wa:e:{for(var C=x.key,P=g;P!==null;){if(P.key===C){if(C=x.type,C===Jo){if(P.tag===7){n(m,P.sibling),g=o(P,x.props.children),g.return=m,m=g;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===jr&&dv(C)===P.type){n(m,P.sibling),g=o(P,x.props),g.ref=vi(m,P,x),g.return=m,m=g;break e}n(m,P);break}else t(m,P);P=P.sibling}x.type===Jo?(g=Mo(x.props.children,m.mode,b,x.key),g.return=m,m=g):(b=jl(x.type,x.key,x.props,null,m.mode,b),b.ref=vi(m,g,x),b.return=m,m=b)}return i(m);case Zo:e:{for(P=x.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=o(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=ud(x,m.mode,b),g.return=m,m=g}return i(m);case jr:return P=x._init,S(m,g,P(x._payload),b)}if(Ei(x))return v(m,g,x,b);if(fi(x))return y(m,g,x,b);rl(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,x),g.return=m,m=g):(n(m,g),g=cd(x,m.mode,b),g.return=m,m=g),i(m)):n(m,g)}return S}var zs=Nx(!0),Ix=Nx(!1),ic=ho(null),ac=null,as=null,tp=null;function np(){tp=as=ac=null}function rp(e){var t=ic.current;Qe(ic),e._currentValue=t}function Df(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){ac=e,tp=as=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if(tp!==e)if(e={context:e,memoizedValue:t,next:null},as===null){if(ac===null)throw Error(H(308));as=e,ac.dependencies={lanes:0,firstContext:e}}else as=as.next=e;return t}var Co=null;function op(e){Co===null?Co=[e]:Co.push(e)}function jx(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,op(t)):(n.next=o.next,o.next=n),t.interleaved=n,wr(e,r)}function wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lr=!1;function sp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,wr(e,n)}return o=r.interleaved,o===null?(t.next=t,op(r)):(t.next=o.next,o.next=t),r.interleaved=t,wr(e,n)}function Dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qh(e,n)}}function fv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lc(e,t,n,r){var o=e.updateQueue;Lr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var h=a.lane,w=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(h=t,w=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(w,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(w,d,h):v,h==null)break e;d=it({},d,h);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else w={eventTime:w,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=w,l=d):u=u.next=w,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Oo|=i,e.lanes=i,e.memoizedState=d}}function hv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var Ra={},Zn=ho(Ra),ra=ho(Ra),oa=ho(Ra);function Eo(e){if(e===Ra)throw Error(H(174));return e}function ip(e,t){switch(Ke(oa,t),Ke(ra,e),Ke(Zn,Ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cf(t,e)}Qe(Zn),Ke(Zn,t)}function Bs(){Qe(Zn),Qe(ra),Qe(oa)}function Ox(e){Eo(oa.current);var t=Eo(Zn.current),n=cf(t,e.type);t!==n&&(Ke(ra,e),Ke(Zn,n))}function ap(e){ra.current===e&&(Qe(Zn),Qe(ra))}var tt=ho(0);function cc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rd=[];function lp(){for(var e=0;e<rd.length;e++)rd[e]._workInProgressVersionPrimary=null;rd.length=0}var Rl=Pr.ReactCurrentDispatcher,od=Pr.ReactCurrentBatchConfig,Lo=0,st=null,wt=null,St=null,uc=!1,Li=!1,sa=0,kD=0;function Dt(){throw Error(H(321))}function cp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function up(e,t,n,r,o,s){if(Lo=s,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?MD:_D,e=n(r,o),Li){s=0;do{if(Li=!1,sa=0,25<=s)throw Error(H(301));s+=1,St=wt=null,t.updateQueue=null,Rl.current=ND,e=n(r,o)}while(Li)}if(Rl.current=dc,t=wt!==null&&wt.next!==null,Lo=0,St=wt=st=null,uc=!1,t)throw Error(H(300));return e}function dp(){var e=sa!==0;return sa=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=e:St=St.next=e,St}function Cn(){if(wt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=St===null?st.memoizedState:St.next;if(t!==null)St=t,wt=e;else{if(e===null)throw Error(H(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?st.memoizedState=St=e:St=St.next=e}return St}function ia(e,t){return typeof t=="function"?t(e):t}function sd(e){var t=Cn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=wt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((Lo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,st.lanes|=u,Oo|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,On(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,st.lanes|=s,Oo|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function id(e){var t=Cn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);On(s,t.memoizedState)||(Kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Fx(){}function $x(e,t){var n=st,r=Cn(),o=t(),s=!On(r.memoizedState,o);if(s&&(r.memoizedState=o,Kt=!0),r=r.queue,fp(zx.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,aa(9,Ux.bind(null,n,r,o,t),void 0,null),bt===null)throw Error(H(349));Lo&30||Vx(n,t,o)}return o}function Vx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ux(e,t,n,r){t.value=n,t.getSnapshot=r,Bx(t)&&qx(e)}function zx(e,t,n){return n(function(){Bx(t)&&qx(e)})}function Bx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function qx(e){var t=wr(e,1);t!==null&&jn(t,e,1,-1)}function pv(e){var t=Hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=RD.bind(null,st,e),[t.memoizedState,e]}function aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hx(){return Cn().memoizedState}function Ml(e,t,n,r){var o=Hn();st.flags|=e,o.memoizedState=aa(1|t,n,void 0,r===void 0?null:r)}function Wc(e,t,n,r){var o=Cn();r=r===void 0?null:r;var s=void 0;if(wt!==null){var i=wt.memoizedState;if(s=i.destroy,r!==null&&cp(r,i.deps)){o.memoizedState=aa(t,n,s,r);return}}st.flags|=e,o.memoizedState=aa(1|t,n,s,r)}function mv(e,t){return Ml(8390656,8,e,t)}function fp(e,t){return Wc(2048,8,e,t)}function Wx(e,t){return Wc(4,2,e,t)}function Gx(e,t){return Wc(4,4,e,t)}function Kx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yx(e,t,n){return n=n!=null?n.concat([e]):null,Wc(4,4,Kx.bind(null,t,e),n)}function hp(){}function Xx(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qx(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zx(e,t,n){return Lo&21?(On(n,t)||(n=rx(),st.lanes|=n,Oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function AD(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var r=od.transition;od.transition={};try{e(!1),t()}finally{Ve=n,od.transition=r}}function Jx(){return Cn().memoizedState}function DD(e,t,n){var r=eo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eS(e))tS(t,n);else if(n=jx(e,t,n,r),n!==null){var o=zt();jn(n,e,r,o),nS(n,t,r)}}function RD(e,t,n){var r=eo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(e))tS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,On(a,i)){var l=t.interleaved;l===null?(o.next=o,op(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=jx(e,t,o,r),n!==null&&(o=zt(),jn(n,e,r,o),nS(n,t,r))}}function eS(e){var t=e.alternate;return e===st||t!==null&&t===st}function tS(e,t){Li=uc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qh(e,n)}}var dc={readContext:bn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},MD={readContext:bn,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:mv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ml(4194308,4,Kx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var n=Hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=DD.bind(null,st,e),[r.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:pv,useDebugValue:hp,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=pv(!1),t=e[0];return e=AD.bind(null,e[1]),Hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=st,o=Hn();if(Je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),bt===null)throw Error(H(349));Lo&30||Vx(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,mv(zx.bind(null,r,s,e),[e]),r.flags|=2048,aa(9,Ux.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Hn(),t=bt.identifierPrefix;if(Je){var n=fr,r=dr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_D={readContext:bn,useCallback:Xx,useContext:bn,useEffect:fp,useImperativeHandle:Yx,useInsertionEffect:Wx,useLayoutEffect:Gx,useMemo:Qx,useReducer:sd,useRef:Hx,useState:function(){return sd(ia)},useDebugValue:hp,useDeferredValue:function(e){var t=Cn();return Zx(t,wt.memoizedState,e)},useTransition:function(){var e=sd(ia)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Fx,useSyncExternalStore:$x,useId:Jx,unstable_isNewReconciler:!1},ND={readContext:bn,useCallback:Xx,useContext:bn,useEffect:fp,useImperativeHandle:Yx,useInsertionEffect:Wx,useLayoutEffect:Gx,useMemo:Qx,useReducer:id,useRef:Hx,useState:function(){return id(ia)},useDebugValue:hp,useDeferredValue:function(e){var t=Cn();return wt===null?t.memoizedState=e:Zx(t,wt.memoizedState,e)},useTransition:function(){var e=id(ia)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Fx,useSyncExternalStore:$x,useId:Jx,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:it({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gc={isMounted:function(e){return(e=e._reactInternals)?qo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),o=eo(e),s=pr(r,o);s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,o),t!==null&&(jn(t,e,o,r),Dl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),o=eo(e),s=pr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,o),t!==null&&(jn(t,e,o,r),Dl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=eo(e),o=pr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Zr(e,o,r),t!==null&&(jn(t,e,r,n),Dl(t,e,r))}};function gv(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ji(n,r)||!Ji(o,s):!0}function rS(e,t,n){var r=!1,o=so,s=t.contextType;return typeof s=="object"&&s!==null?s=bn(s):(o=Xt(t)?Io:Ot.current,r=t.contextTypes,s=(r=r!=null)?Vs(e,o):so),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function vv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gc.enqueueReplaceState(t,t.state,null)}function Mf(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},sp(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=bn(s):(s=Xt(t)?Io:Ot.current,o.context=Vs(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rf(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Gc.enqueueReplaceState(o,o.state,null),lc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,t){try{var n="",r=t;do n+=aA(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function ad(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _f(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ID=typeof WeakMap=="function"?WeakMap:Map;function oS(e,t,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hc||(hc=!0,zf=r),_f(e,t)},n}function sS(e,t,n){n=pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){_f(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_f(e,t),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function yv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ID;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=KD.bind(null,e,t,n),t.then(e,e))}function wv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xv(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pr(-1,1),t.tag=2,Zr(n,t,1))),n.lanes|=1),e)}var jD=Pr.ReactCurrentOwner,Kt=!1;function Vt(e,t,n,r){t.child=e===null?Ix(t,null,n,r):zs(t,e.child,n,r)}function Sv(e,t,n,r,o){n=n.render;var s=t.ref;return ws(t,o),r=up(e,t,n,r,s,o),n=dp(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xr(e,t,o)):(Je&&n&&Zh(t),t.flags|=1,Vt(e,t,r,o),t.child)}function bv(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Sp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,iS(e,t,s,r,o)):(e=jl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(i,r)&&e.ref===t.ref)return xr(e,t,o)}return t.flags|=1,e=to(s,r),e.ref=t.ref,e.return=t,t.child=e}function iS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ji(s,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,xr(e,t,o)}return Nf(e,t,n,r,o)}function aS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(cs,nn),nn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(cs,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ke(cs,nn),nn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ke(cs,nn),nn|=r;return Vt(e,t,o,n),t.child}function lS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nf(e,t,n,r,o){var s=Xt(n)?Io:Ot.current;return s=Vs(t,s),ws(t,o),n=up(e,t,n,r,s,o),r=dp(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xr(e,t,o)):(Je&&r&&Zh(t),t.flags|=1,Vt(e,t,n,o),t.child)}function Cv(e,t,n,r,o){if(Xt(n)){var s=!0;rc(t)}else s=!1;if(ws(t,o),t.stateNode===null)_l(e,t),rS(t,n,r),Mf(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=bn(c):(c=Xt(n)?Io:Ot.current,c=Vs(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vv(t,i,r,c),Lr=!1;var h=t.memoizedState;i.state=h,lc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||Yt.current||Lr?(typeof u=="function"&&(Rf(t,n,u,r),l=t.memoizedState),(a=Lr||gv(t,n,a,r,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Lx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Dn(t.type,a),i.props=c,d=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Xt(n)?Io:Ot.current,l=Vs(t,l));var w=n.getDerivedStateFromProps;(u=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&vv(t,i,r,l),Lr=!1,h=t.memoizedState,i.state=h,lc(t,r,i,o);var v=t.memoizedState;a!==d||h!==v||Yt.current||Lr?(typeof w=="function"&&(Rf(t,n,w,r),v=t.memoizedState),(c=Lr||gv(t,n,c,r,h,v,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return If(e,t,n,r,s,o)}function If(e,t,n,r,o,s){lS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&lv(t,n,!1),xr(e,t,s);r=t.stateNode,jD.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=zs(t,e.child,null,s),t.child=zs(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,o&&lv(t,n,!0),t.child}function cS(e){var t=e.stateNode;t.pendingContext?av(e,t.pendingContext,t.pendingContext!==t.context):t.context&&av(e,t.context,!1),ip(e,t.containerInfo)}function Ev(e,t,n,r,o){return Us(),ep(o),t.flags|=256,Vt(e,t,n,r),t.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function uS(e,t,n){var r=t.pendingProps,o=tt.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ke(tt,o&1),e===null)return Af(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Xc(i,r,0,null),e=Mo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lf(n),t.memoizedState=jf,e):pp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return LD(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=to(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=to(a,s):(s=Mo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Lf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=jf,r}return s=e.child,e=s.sibling,r=to(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pp(e,t){return t=Xc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,r){return r!==null&&ep(r),zs(t,e.child,null,n),e=pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LD(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=ad(Error(H(422))),ol(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Xc({mode:"visible",children:r.children},o,0,null),s=Mo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zs(t,e.child,null,i),t.child.memoizedState=Lf(i),t.memoizedState=jf,s);if(!(t.mode&1))return ol(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=ad(s,r,void 0),ol(e,t,i,r)}if(a=(i&e.childLanes)!==0,Kt||a){if(r=bt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,wr(e,o),jn(r,e,o,-1))}return xp(),r=ad(Error(H(421))),ol(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=YD.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,on=Qr(o.nextSibling),sn=t,Je=!0,Nn=null,e!==null&&(vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=jo,dr=e.id,fr=e.overflow,jo=t),t=pp(t,r.children),t.flags|=4096,t)}function Pv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Df(e.return,t,n)}function ld(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function dS(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Vt(e,t,r.children,n),r=tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pv(e,n,t);else if(e.tag===19)Pv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(tt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&cc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ld(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&cc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ld(t,!0,n,null,s);break;case"together":ld(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _l(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=to(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=to(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OD(e,t,n){switch(t.tag){case 3:cS(t),Us();break;case 5:Ox(t);break;case 1:Xt(t.type)&&rc(t);break;case 4:ip(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ke(ic,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(tt,tt.current&1),t.flags|=128,null):n&t.child.childLanes?uS(e,t,n):(Ke(tt,tt.current&1),e=xr(e,t,n),e!==null?e.sibling:null);Ke(tt,tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ke(tt,tt.current),r)break;return null;case 22:case 23:return t.lanes=0,aS(e,t,n)}return xr(e,t,n)}var fS,Of,hS,pS;fS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};hS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Eo(Zn.current);var s=null;switch(n){case"input":o=of(e,o),r=of(e,r),s=[];break;case"select":o=it({},o,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":o=lf(e,o),r=lf(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tc)}uf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};pS=function(e,t,n,r){n!==r&&(t.flags|=4)};function yi(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FD(e,t,n){var r=t.pendingProps;switch(Jh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Xt(t.type)&&nc(),Rt(t),null;case 3:return r=t.stateNode,Bs(),Qe(Yt),Qe(Ot),lp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(Hf(Nn),Nn=null))),Of(e,t),Rt(t),null;case 5:ap(t);var o=Eo(oa.current);if(n=t.type,e!==null&&t.stateNode!=null)hS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Rt(t),null}if(e=Eo(Zn.current),nl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yn]=t,r[na]=s,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(o=0;o<Ti.length;o++)Xe(Ti[o],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Ig(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":Lg(r,s),Xe("invalid",r)}uf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,e),o=["children",""+a]):Wi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Ga(r),jg(r,s,!0);break;case"textarea":Ga(r),Og(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Yn]=t,e[na]=r,fS(e,t,!1,!1),t.stateNode=e;e:{switch(i=df(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),o=r;break;case"iframe":case"object":case"embed":Xe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ti.length;o++)Xe(Ti[o],e);o=r;break;case"source":Xe("error",e),o=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),o=r;break;case"details":Xe("toggle",e),o=r;break;case"input":Ig(e,r),o=of(e,r),Xe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=it({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":Lg(e,r),o=lf(e,r),Xe("invalid",e);break;default:o=r}uf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?H0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B0(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gi(e,l):typeof l=="number"&&Gi(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",e):l!=null&&Fh(e,s,l,i))}switch(n){case"input":Ga(e),jg(e,r,!1);break;case"textarea":Ga(e),Og(e);break;case"option":r.value!=null&&e.setAttribute("value",""+oo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ms(e,!!r.multiple,s,!1):r.defaultValue!=null&&ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)pS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Eo(oa.current),Eo(Zn.current),nl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(s=r.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:tl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return Rt(t),null;case 13:if(Qe(tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&on!==null&&t.mode&1&&!(t.flags&128))_x(),Us(),t.flags|=98560,s=!1;else if(s=nl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Yn]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else Nn!==null&&(Hf(Nn),Nn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?xt===0&&(xt=3):xp())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Bs(),Of(e,t),e===null&&ea(t.stateNode.containerInfo),Rt(t),null;case 10:return rp(t.type._context),Rt(t),null;case 17:return Xt(t.type)&&nc(),Rt(t),null;case 19:if(Qe(tt),s=t.memoizedState,s===null)return Rt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)yi(s,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=cc(e),i!==null){for(t.flags|=128,yi(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(tt,tt.current&1|2),t.child}e=e.sibling}s.tail!==null&&mt()>Hs&&(t.flags|=128,r=!0,yi(s,!1),t.lanes=4194304)}else{if(!r)if(e=cc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Je)return Rt(t),null}else 2*mt()-s.renderingStartTime>Hs&&n!==1073741824&&(t.flags|=128,r=!0,yi(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=mt(),t.sibling=null,n=tt.current,Ke(tt,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return wp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function $D(e,t){switch(Jh(t),t.tag){case 1:return Xt(t.type)&&nc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bs(),Qe(Yt),Qe(Ot),lp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ap(t),null;case 13:if(Qe(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(tt),null;case 4:return Bs(),null;case 10:return rp(t.type._context),null;case 22:case 23:return wp(),null;case 24:return null;default:return null}}var sl=!1,Nt=!1,VD=typeof WeakSet=="function"?WeakSet:Set,re=null;function ls(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(e,t,r)}else n.current=null}function Ff(e,t,n){try{n()}catch(r){dt(e,t,r)}}var Tv=!1;function UD(e,t){if(Sf=Zl,e=wx(),Qh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var w;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(w=d.firstChild)!==null;)h=d,d=w;for(;;){if(d===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++u===r&&(l=i),(w=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bf={focusedElem:e,selectionRange:n},Zl=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Dn(t.type,y),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(b){dt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return v=Tv,Tv=!1,v}function Oi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ff(t,n,s)}o=o.next}while(o!==r)}}function Kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $f(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mS(e){var t=e.alternate;t!==null&&(e.alternate=null,mS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[na],delete t[Pf],delete t[CD],delete t[ED])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gS(e){return e.tag===5||e.tag===3||e.tag===4}function kv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tc));else if(r!==4&&(e=e.child,e!==null))for(Vf(e,t,n),e=e.sibling;e!==null;)Vf(e,t,n),e=e.sibling}function Uf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uf(e,t,n),e=e.sibling;e!==null;)Uf(e,t,n),e=e.sibling}var Et=null,_n=!1;function Dr(e,t,n){for(n=n.child;n!==null;)vS(e,t,n),n=n.sibling}function vS(e,t,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:Nt||ls(n,t);case 6:var r=Et,o=_n;Et=null,Dr(e,t,n),Et=r,_n=o,Et!==null&&(_n?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(_n?(e=Et,n=n.stateNode,e.nodeType===8?td(e.parentNode,n):e.nodeType===1&&td(e,n),Qi(e)):td(Et,n.stateNode));break;case 4:r=Et,o=_n,Et=n.stateNode.containerInfo,_n=!0,Dr(e,t,n),Et=r,_n=o;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ff(n,t,i),o=o.next}while(o!==r)}Dr(e,t,n);break;case 1:if(!Nt&&(ls(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,t,a)}Dr(e,t,n);break;case 21:Dr(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Dr(e,t,n),Nt=r):Dr(e,t,n);break;default:Dr(e,t,n)}}function Av(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VD),t.forEach(function(r){var o=XD.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function kn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,_n=!1;break e;case 3:Et=a.stateNode.containerInfo,_n=!0;break e;case 4:Et=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(Et===null)throw Error(H(160));vS(s,i,o),Et=null,_n=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){dt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yS(t,e),t=t.sibling}function yS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kn(t,e),qn(e),r&4){try{Oi(3,e,e.return),Kc(3,e)}catch(y){dt(e,e.return,y)}try{Oi(5,e,e.return)}catch(y){dt(e,e.return,y)}}break;case 1:kn(t,e),qn(e),r&512&&n!==null&&ls(n,n.return);break;case 5:if(kn(t,e),qn(e),r&512&&n!==null&&ls(n,n.return),e.flags&32){var o=e.stateNode;try{Gi(o,"")}catch(y){dt(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&V0(o,s),df(a,i);var c=df(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?H0(o,d):u==="dangerouslySetInnerHTML"?B0(o,d):u==="children"?Gi(o,d):Fh(o,u,d,c)}switch(a){case"input":sf(o,s);break;case"textarea":U0(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?ms(o,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?ms(o,!!s.multiple,s.defaultValue,!0):ms(o,!!s.multiple,s.multiple?[]:"",!1))}o[na]=s}catch(y){dt(e,e.return,y)}}break;case 6:if(kn(t,e),qn(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){dt(e,e.return,y)}}break;case 3:if(kn(t,e),qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(y){dt(e,e.return,y)}break;case 4:kn(t,e),qn(e);break;case 13:kn(t,e),qn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(vp=mt())),r&4&&Av(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(c=Nt)||u,kn(t,e),Nt=c):kn(t,e),qn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(re=e,u=e.child;u!==null;){for(d=re=u;re!==null;){switch(h=re,w=h.child,h.tag){case 0:case 11:case 14:case 15:Oi(4,h,h.return);break;case 1:ls(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){dt(r,n,y)}}break;case 5:ls(h,h.return);break;case 22:if(h.memoizedState!==null){Rv(d);continue}}w!==null?(w.return=h,re=w):Rv(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=q0("display",i))}catch(y){dt(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){dt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kn(t,e),qn(e),r&4&&Av(e);break;case 21:break;default:kn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Gi(o,""),r.flags&=-33);var s=kv(e);Uf(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=kv(e);Vf(e,a,i);break;default:throw Error(H(161))}}catch(l){dt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zD(e,t,n){re=e,wS(e)}function wS(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var o=re,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||sl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=sl;var c=Nt;if(sl=i,(Nt=l)&&!c)for(re=o;re!==null;)i=re,l=i.child,i.tag===22&&i.memoizedState!==null?Mv(o):l!==null?(l.return=i,re=l):Mv(o);for(;s!==null;)re=s,wS(s),s=s.sibling;re=o,sl=a,Nt=c}Dv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,re=s):Dv(e)}}function Dv(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Kc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Dn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hv(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hv(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||t.flags&512&&$f(t)}catch(h){dt(t,t.return,h)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function Rv(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function Mv(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kc(4,t)}catch(l){dt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){dt(t,o,l)}}var s=t.return;try{$f(t)}catch(l){dt(t,s,l)}break;case 5:var i=t.return;try{$f(t)}catch(l){dt(t,i,l)}}}catch(l){dt(t,t.return,l)}if(t===e){re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,re=a;break}re=t.return}}var BD=Math.ceil,fc=Pr.ReactCurrentDispatcher,mp=Pr.ReactCurrentOwner,xn=Pr.ReactCurrentBatchConfig,Ie=0,bt=null,vt=null,Tt=0,nn=0,cs=ho(0),xt=0,la=null,Oo=0,Yc=0,gp=0,Fi=null,Gt=null,vp=0,Hs=1/0,cr=null,hc=!1,zf=null,Jr=null,il=!1,Wr=null,pc=0,$i=0,Bf=null,Nl=-1,Il=0;function zt(){return Ie&6?mt():Nl!==-1?Nl:Nl=mt()}function eo(e){return e.mode&1?Ie&2&&Tt!==0?Tt&-Tt:TD.transition!==null?(Il===0&&(Il=rx()),Il):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:ux(e.type)),e):1}function jn(e,t,n,r){if(50<$i)throw $i=0,Bf=null,Error(H(185));ka(e,n,r),(!(Ie&2)||e!==bt)&&(e===bt&&(!(Ie&2)&&(Yc|=n),xt===4&&$r(e,Tt)),Qt(e,r),n===1&&Ie===0&&!(t.mode&1)&&(Hs=mt()+500,Hc&&po()))}function Qt(e,t){var n=e.callbackNode;TA(e,t);var r=Ql(e,e===bt?Tt:0);if(r===0)n!==null&&Vg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vg(n),t===1)e.tag===0?PD(_v.bind(null,e)):Dx(_v.bind(null,e)),SD(function(){!(Ie&6)&&po()}),n=null;else{switch(ox(r)){case 1:n=Bh;break;case 4:n=tx;break;case 16:n=Xl;break;case 536870912:n=nx;break;default:n=Xl}n=kS(n,xS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xS(e,t){if(Nl=-1,Il=0,Ie&6)throw Error(H(327));var n=e.callbackNode;if(xs()&&e.callbackNode!==n)return null;var r=Ql(e,e===bt?Tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mc(e,r);else{t=r;var o=Ie;Ie|=2;var s=bS();(bt!==e||Tt!==t)&&(cr=null,Hs=mt()+500,Ro(e,t));do try{WD();break}catch(a){SS(e,a)}while(!0);np(),fc.current=s,Ie=o,vt!==null?t=0:(bt=null,Tt=0,t=xt)}if(t!==0){if(t===2&&(o=gf(e),o!==0&&(r=o,t=qf(e,o))),t===1)throw n=la,Ro(e,0),$r(e,r),Qt(e,mt()),n;if(t===6)$r(e,r);else{if(o=e.current.alternate,!(r&30)&&!qD(o)&&(t=mc(e,r),t===2&&(s=gf(e),s!==0&&(r=s,t=qf(e,s))),t===1))throw n=la,Ro(e,0),$r(e,r),Qt(e,mt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:wo(e,Gt,cr);break;case 3:if($r(e,r),(r&130023424)===r&&(t=vp+500-mt(),10<t)){if(Ql(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ef(wo.bind(null,e,Gt,cr),t);break}wo(e,Gt,cr);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-In(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BD(r/1960))-r,10<r){e.timeoutHandle=Ef(wo.bind(null,e,Gt,cr),r);break}wo(e,Gt,cr);break;case 5:wo(e,Gt,cr);break;default:throw Error(H(329))}}}return Qt(e,mt()),e.callbackNode===n?xS.bind(null,e):null}function qf(e,t){var n=Fi;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),e=mc(e,t),e!==2&&(t=Gt,Gt=n,t!==null&&Hf(t)),e}function Hf(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function qD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!On(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~gp,t&=~Yc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-In(t),r=1<<n;e[n]=-1,t&=~r}}function _v(e){if(Ie&6)throw Error(H(327));xs();var t=Ql(e,0);if(!(t&1))return Qt(e,mt()),null;var n=mc(e,t);if(e.tag!==0&&n===2){var r=gf(e);r!==0&&(t=r,n=qf(e,r))}if(n===1)throw n=la,Ro(e,0),$r(e,t),Qt(e,mt()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wo(e,Gt,cr),Qt(e,mt()),null}function yp(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(Hs=mt()+500,Hc&&po())}}function Fo(e){Wr!==null&&Wr.tag===0&&!(Ie&6)&&xs();var t=Ie;Ie|=1;var n=xn.transition,r=Ve;try{if(xn.transition=null,Ve=1,e)return e()}finally{Ve=r,xn.transition=n,Ie=t,!(Ie&6)&&po()}}function wp(){nn=cs.current,Qe(cs)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xD(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nc();break;case 3:Bs(),Qe(Yt),Qe(Ot),lp();break;case 5:ap(r);break;case 4:Bs();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:rp(r.type._context);break;case 22:case 23:wp()}n=n.return}if(bt=e,vt=e=to(e.current,null),Tt=nn=t,xt=0,la=null,gp=Yc=Oo=0,Gt=Fi=null,Co!==null){for(t=0;t<Co.length;t++)if(n=Co[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Co=null}return e}function SS(e,t){do{var n=vt;try{if(np(),Rl.current=dc,uc){for(var r=st.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}uc=!1}if(Lo=0,St=wt=st=null,Li=!1,sa=0,mp.current=null,n===null||n.return===null){xt=1,la=t,vt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var w=wv(i);if(w!==null){w.flags&=-257,xv(w,i,a,s,t),w.mode&1&&yv(s,c,t),t=w,l=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){yv(s,c,t),xp();break e}l=Error(H(426))}}else if(Je&&a.mode&1){var S=wv(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),xv(S,i,a,s,t),ep(qs(l,a));break e}}s=l=qs(l,a),xt!==4&&(xt=2),Fi===null?Fi=[s]:Fi.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=oS(s,l,t);fv(s,m);break e;case 1:a=l;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jr===null||!Jr.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=sS(s,a,t);fv(s,b);break e}}s=s.return}while(s!==null)}ES(n)}catch(C){t=C,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function bS(){var e=fc.current;return fc.current=dc,e===null?dc:e}function xp(){(xt===0||xt===3||xt===2)&&(xt=4),bt===null||!(Oo&268435455)&&!(Yc&268435455)||$r(bt,Tt)}function mc(e,t){var n=Ie;Ie|=2;var r=bS();(bt!==e||Tt!==t)&&(cr=null,Ro(e,t));do try{HD();break}catch(o){SS(e,o)}while(!0);if(np(),Ie=n,fc.current=r,vt!==null)throw Error(H(261));return bt=null,Tt=0,xt}function HD(){for(;vt!==null;)CS(vt)}function WD(){for(;vt!==null&&!vA();)CS(vt)}function CS(e){var t=TS(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?ES(e):vt=t,mp.current=null}function ES(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$D(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,vt=null;return}}else if(n=FD(n,t,nn),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);xt===0&&(xt=5)}function wo(e,t,n){var r=Ve,o=xn.transition;try{xn.transition=null,Ve=1,GD(e,t,n,r)}finally{xn.transition=o,Ve=r}return null}function GD(e,t,n,r){do xs();while(Wr!==null);if(Ie&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(kA(e,s),e===bt&&(vt=bt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||il||(il=!0,kS(Xl,function(){return xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var i=Ve;Ve=1;var a=Ie;Ie|=4,mp.current=null,UD(e,n),yS(n,e),hD(bf),Zl=!!Sf,bf=Sf=null,e.current=n,zD(n),yA(),Ie=a,Ve=i,xn.transition=s}else e.current=n;if(il&&(il=!1,Wr=e,pc=o),s=e.pendingLanes,s===0&&(Jr=null),SA(n.stateNode),Qt(e,mt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(hc)throw hc=!1,e=zf,zf=null,e;return pc&1&&e.tag!==0&&xs(),s=e.pendingLanes,s&1?e===Bf?$i++:($i=0,Bf=e):$i=0,po(),null}function xs(){if(Wr!==null){var e=ox(pc),t=xn.transition,n=Ve;try{if(xn.transition=null,Ve=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,pc=0,Ie&6)throw Error(H(331));var o=Ie;for(Ie|=4,re=e.current;re!==null;){var s=re,i=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Oi(8,u,s)}var d=u.child;if(d!==null)d.return=u,re=d;else for(;re!==null;){u=re;var h=u.sibling,w=u.return;if(mS(u),u===c){re=null;break}if(h!==null){h.return=w,re=h;break}re=w}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}re=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,re=i;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,re=m;break e}re=s.return}}var g=e.current;for(re=g;re!==null;){i=re;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,re=x;else e:for(i=g;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kc(9,a)}}catch(C){dt(a,a.return,C)}if(a===i){re=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,re=b;break e}re=a.return}}if(Ie=o,po(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Vc,e)}catch{}r=!0}return r}finally{Ve=n,xn.transition=t}}return!1}function Nv(e,t,n){t=qs(n,t),t=oS(e,t,1),e=Zr(e,t,1),t=zt(),e!==null&&(ka(e,1,t),Qt(e,t))}function dt(e,t,n){if(e.tag===3)Nv(e,e,n);else for(;t!==null;){if(t.tag===3){Nv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){e=qs(n,e),e=sS(t,e,1),t=Zr(t,e,1),e=zt(),t!==null&&(ka(t,1,e),Qt(t,e));break}}t=t.return}}function KD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(Tt&n)===n&&(xt===4||xt===3&&(Tt&130023424)===Tt&&500>mt()-vp?Ro(e,0):gp|=n),Qt(e,t)}function PS(e,t){t===0&&(e.mode&1?(t=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):t=1);var n=zt();e=wr(e,t),e!==null&&(ka(e,t,n),Qt(e,n))}function YD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PS(e,n)}function XD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),PS(e,n)}var TS;TS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,OD(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,Je&&t.flags&1048576&&Rx(t,sc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_l(e,t),e=t.pendingProps;var o=Vs(t,Ot.current);ws(t,n),o=up(null,t,r,e,o,n);var s=dp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(r)?(s=!0,rc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,sp(t),o.updater=Gc,t.stateNode=o,o._reactInternals=t,Mf(t,r,e,n),t=If(null,t,r,!0,s,n)):(t.tag=0,Je&&s&&Zh(t),Vt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_l(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ZD(r),e=Dn(r,e),o){case 0:t=Nf(null,t,r,e,n);break e;case 1:t=Cv(null,t,r,e,n);break e;case 11:t=Sv(null,t,r,e,n);break e;case 14:t=bv(null,t,r,Dn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dn(r,o),Nf(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dn(r,o),Cv(e,t,r,o,n);case 3:e:{if(cS(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Lx(e,t),lc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=qs(Error(H(423)),t),t=Ev(e,t,r,n,o);break e}else if(r!==o){o=qs(Error(H(424)),t),t=Ev(e,t,r,n,o);break e}else for(on=Qr(t.stateNode.containerInfo.firstChild),sn=t,Je=!0,Nn=null,n=Ix(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Us(),r===o){t=xr(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return Ox(t),e===null&&Af(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Cf(r,o)?i=null:s!==null&&Cf(r,s)&&(t.flags|=32),lS(e,t),Vt(e,t,i,n),t.child;case 6:return e===null&&Af(t),null;case 13:return uS(e,t,n);case 4:return ip(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zs(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dn(r,o),Sv(e,t,r,o,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Ke(ic,r._currentValue),r._currentValue=i,s!==null)if(On(s.value,i)){if(s.children===o.children&&!Yt.current){t=xr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Df(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(H(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Df(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Vt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ws(t,n),o=bn(o),r=r(o),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,o=Dn(r,t.pendingProps),o=Dn(r.type,o),bv(e,t,r,o,n);case 15:return iS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dn(r,o),_l(e,t),t.tag=1,Xt(r)?(e=!0,rc(t)):e=!1,ws(t,n),rS(t,r,o),Mf(t,r,o,n),If(null,t,r,!0,e,n);case 19:return dS(e,t,n);case 22:return aS(e,t,n)}throw Error(H(156,t.tag))};function kS(e,t){return ex(e,t)}function QD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new QD(e,t,n,r)}function Sp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZD(e){if(typeof e=="function")return Sp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vh)return 11;if(e===Uh)return 14}return 2}function to(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Sp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Jo:return Mo(n.children,o,s,t);case $h:i=8,o|=8;break;case ef:return e=wn(12,n,t,o|2),e.elementType=ef,e.lanes=s,e;case tf:return e=wn(13,n,t,o),e.elementType=tf,e.lanes=s,e;case nf:return e=wn(19,n,t,o),e.elementType=nf,e.lanes=s,e;case O0:return Xc(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j0:i=10;break e;case L0:i=9;break e;case Vh:i=11;break e;case Uh:i=14;break e;case jr:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=wn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Mo(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function Xc(e,t,n,r){return e=wn(22,e,r,t),e.elementType=O0,e.lanes=n,e.stateNode={isHidden:!1},e}function cd(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function ud(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JD(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qu(0),this.expirationTimes=qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bp(e,t,n,r,o,s,i,a,l){return e=new JD(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(s),e}function eR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function AS(e){if(!e)return so;e=e._reactInternals;e:{if(qo(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Xt(n))return Ax(e,n,t)}return t}function DS(e,t,n,r,o,s,i,a,l){return e=bp(n,r,!0,e,o,s,i,a,l),e.context=AS(null),n=e.current,r=zt(),o=eo(n),s=pr(r,o),s.callback=t??null,Zr(n,s,o),e.current.lanes=o,ka(e,o,r),Qt(e,r),e}function Qc(e,t,n,r){var o=t.current,s=zt(),i=eo(o);return n=AS(n),t.context===null?t.context=n:t.pendingContext=n,t=pr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zr(o,t,i),e!==null&&(jn(e,o,i,s),Dl(e,o,i)),i}function gc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cp(e,t){Iv(e,t),(e=e.alternate)&&Iv(e,t)}function tR(){return null}var RS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ep(e){this._internalRoot=e}Zc.prototype.render=Ep.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Qc(e,t,null,null)};Zc.prototype.unmount=Ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){Qc(null,e,null,null)}),t[yr]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ax();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fr.length&&t!==0&&t<Fr[n].priority;n++);Fr.splice(n,0,e),n===0&&cx(e)}};function Pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jv(){}function nR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=gc(i);s.call(c)}}var i=DS(t,r,e,0,null,!1,!1,"",jv);return e._reactRootContainer=i,e[yr]=i.current,ea(e.nodeType===8?e.parentNode:e),Fo(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=gc(l);a.call(c)}}var l=bp(e,0,!1,null,null,!1,!1,"",jv);return e._reactRootContainer=l,e[yr]=l.current,ea(e.nodeType===8?e.parentNode:e),Fo(function(){Qc(t,l,n,r)}),l}function eu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=gc(i);a.call(l)}}Qc(t,i,e,o)}else i=nR(n,t,e,o,r);return gc(i)}sx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pi(t.pendingLanes);n!==0&&(qh(t,n|1),Qt(t,mt()),!(Ie&6)&&(Hs=mt()+500,po()))}break;case 13:Fo(function(){var r=wr(e,1);if(r!==null){var o=zt();jn(r,e,1,o)}}),Cp(e,1)}};Hh=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var n=zt();jn(t,e,134217728,n)}Cp(e,134217728)}};ix=function(e){if(e.tag===13){var t=eo(e),n=wr(e,t);if(n!==null){var r=zt();jn(n,e,t,r)}Cp(e,t)}};ax=function(){return Ve};lx=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};hf=function(e,t,n){switch(t){case"input":if(sf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=qc(r);if(!o)throw Error(H(90));$0(r),sf(r,o)}}}break;case"textarea":U0(e,n);break;case"select":t=n.value,t!=null&&ms(e,!!n.multiple,t,!1)}};K0=yp;Y0=Fo;var rR={usingClientEntryPoint:!1,Events:[Da,rs,qc,W0,G0,yp]},wi={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oR={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Z0(e),e===null?null:e.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Vc=al.inject(oR),Qn=al}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rR;un.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(t))throw Error(H(200));return eR(e,t,null,n)};un.createRoot=function(e,t){if(!Pp(e))throw Error(H(299));var n=!1,r="",o=RS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bp(e,1,!1,null,null,n,!1,r,o),e[yr]=t.current,ea(e.nodeType===8?e.parentNode:e),new Ep(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Z0(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return Fo(e)};un.hydrate=function(e,t,n){if(!Jc(t))throw Error(H(200));return eu(null,e,t,!0,n)};un.hydrateRoot=function(e,t,n){if(!Pp(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=RS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=DS(t,null,e,1,n??null,o,!1,s,i),e[yr]=t.current,ea(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zc(t)};un.render=function(e,t,n){if(!Jc(t))throw Error(H(200));return eu(null,e,t,!1,n)};un.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(H(40));return e._reactRootContainer?(Fo(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1};un.unstable_batchedUpdates=yp;un.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return eu(e,t,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function MS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MS)}catch(e){console.error(e)}}MS(),M0.exports=un;var Ma=M0.exports;const sR=y0(Ma);var _S,Lv=Ma;_S=Lv.createRoot,Lv.hydrateRoot;function iR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var NS={exports:{}},IS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=f;function aR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lR=typeof Object.is=="function"?Object.is:aR,cR=Ws.useState,uR=Ws.useEffect,dR=Ws.useLayoutEffect,fR=Ws.useDebugValue;function hR(e,t){var n=t(),r=cR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return dR(function(){o.value=n,o.getSnapshot=t,dd(o)&&s({inst:o})},[e,n,t]),uR(function(){return dd(o)&&s({inst:o}),e(function(){dd(o)&&s({inst:o})})},[e]),fR(n),n}function dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lR(e,n)}catch{return!0}}function pR(e,t){return t()}var mR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pR:hR;IS.useSyncExternalStore=Ws.useSyncExternalStore!==void 0?Ws.useSyncExternalStore:mR;NS.exports=IS;var gR=NS.exports;const vR=D0.useInsertionEffect,yR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jS=yR?f.useLayoutEffect:f.useEffect,wR=vR||jS,Tp=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return wR(()=>{t[0]=e}),t[1]},xR="popstate",kp="pushState",Ap="replaceState",SR="hashchange",Ov=[xR,kp,Ap,SR],bR=e=>{for(const t of Ov)addEventListener(t,e);return()=>{for(const t of Ov)removeEventListener(t,e)}},LS=(e,t)=>gR.useSyncExternalStore(bR,e,t),CR=()=>location.search,ER=({ssrSearch:e=""}={})=>LS(CR,()=>e),Fv=()=>location.pathname,PR=({ssrPath:e}={})=>LS(Fv,e?()=>e:Fv),TR=(e,{replace:t=!1,state:n=null}={})=>history[t?Ap:kp](n,"",e),kR=(e={})=>[PR(e),TR],$v=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$v]>"u"){for(const e of[kp,Ap]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,$v,{value:!0})}const AR=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",OS=(e="")=>e==="/"?"":e,DR=(e,t)=>e[0]==="~"?e.slice(1):OS(t)+e,RR=(e="",t)=>AR(Vv(OS(e)),Vv(t)),Vv=e=>{try{return decodeURI(e)}catch{return e}},FS={hook:kR,searchHook:ER,parser:iR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},$S=f.createContext(FS),_a=()=>f.useContext($S),VS={},US=f.createContext(VS),MR=()=>f.useContext(US),tu=e=>{const[t,n]=e.hook(e);return[RR(e.base,t),Tp((r,o)=>n(DR(r,e.base),o))]},nu=()=>tu(_a()),zS=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,h)=>[d,l[h]])):i.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},BS=({children:e,...t})=>{var u,d;const n=_a(),r=t.hook?FS:n;let o=r;const[s,i]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const w=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&w!==c[h]&&(a.current=c={...c}),c[h]=w,w!==r[h]&&(o=c)}return f.createElement($S.Provider,{value:o,children:e})},Uv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,_R=e=>{let t=f.useRef(VS),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},ll=({path:e,nest:t,match:n,...r})=>{const o=_a(),[s]=tu(o),[i,a,l]=n??zS(o.parser,e,s,t),c=_R({...MR(),...a});if(!i)return null;const u=l?f.createElement(BS,{base:l},Uv(r,c)):Uv(r,c);return f.createElement(US.Provider,{value:c,children:u})},NR=f.forwardRef((e,t)=>{const n=_a(),[r,o]=tu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:u,replace:d,state:h,...w}=e,v=Tp(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),o(i,e)))}),y=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:v,href:y}):f.createElement("a",{...w,onClick:v,href:y,className:u!=null&&u.call?u(r===i):u,children:c,ref:t})}),qS=e=>Array.isArray(e)?e.flatMap(t=>qS(t&&t.type===f.Fragment?t.props.children:t)):[e],IR=({children:e,location:t})=>{const n=_a(),[r]=tu(n);for(const o of qS(e)){let s=0;if(f.isValidElement(o)&&(s=zS(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null},jR=e=>{const{to:t,href:n=t}=e,[,r]=nu(),o=Tp(()=>r(t||n,e));return jS(()=>{o()},[]),null};var ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ou=typeof window>"u"||"Deno"in globalThis;function Rn(){}function LR(e,t){return typeof e=="function"?e(t):e}function OR(e){return typeof e=="number"&&e>=0&&e!==1/0}function FR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zv(e,t){return typeof e=="function"?e(t):e}function $R(e,t){return typeof e=="function"?e(t):e}function Bv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Dp(i,t.options))return!1}else if(!ua(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function qv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ca(t.options.mutationKey)!==ca(s))return!1}else if(!ua(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Dp(e,t){return((t==null?void 0:t.queryKeyHashFn)||ca)(e)}function ca(e){return JSON.stringify(e,(t,n)=>Wf(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function ua(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ua(e[n],t[n])):!1}function HS(e,t){if(e===t)return e;const n=Hv(e)&&Hv(t);if(n||Wf(e)&&Wf(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,l++):(a[u]=HS(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function Hv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wf(e){if(!Wv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Wv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wv(e){return Object.prototype.toString.call(e)==="[object Object]"}function VR(e){return new Promise(t=>{setTimeout(t,e)})}function UR(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?HS(e,t):t}function zR(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function BR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Rp=Symbol();function WS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Rp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var To,Vr,Rs,u0,qR=(u0=class extends ru{constructor(){super();$e(this,To);$e(this,Vr);$e(this,Rs);we(this,Rs,t=>{if(!ou&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Vr)||this.setEventListener(V(this,Rs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Vr))==null||t.call(this),we(this,Vr,void 0))}setEventListener(t){var n;we(this,Rs,t),(n=V(this,Vr))==null||n.call(this),we(this,Vr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,To)!==t&&(we(this,To,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,To)=="boolean"?V(this,To):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},To=new WeakMap,Vr=new WeakMap,Rs=new WeakMap,u0),GS=new qR,Ms,Ur,_s,d0,HR=(d0=class extends ru{constructor(){super();$e(this,Ms,!0);$e(this,Ur);$e(this,_s);we(this,_s,t=>{if(!ou&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,Ur)||this.setEventListener(V(this,_s))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Ur))==null||t.call(this),we(this,Ur,void 0))}setEventListener(t){var n;we(this,_s,t),(n=V(this,Ur))==null||n.call(this),we(this,Ur,t(this.setOnline.bind(this)))}setOnline(t){V(this,Ms)!==t&&(we(this,Ms,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Ms)}},Ms=new WeakMap,Ur=new WeakMap,_s=new WeakMap,d0),vc=new HR;function WR(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function GR(e){return Math.min(1e3*2**e,3e4)}function KS(e){return(e??"online")==="online"?vc.isOnline():!0}var YS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fd(e){return e instanceof YS}function XS(e){let t=!1,n=0,r=!1,o;const s=WR(),i=y=>{var S;r||(h(new YS(y)),(S=e.abort)==null||S.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>GS.isFocused()&&(e.networkMode==="always"||vc.isOnline())&&e.canRun(),u=()=>KS(e.networkMode)&&e.canRun(),d=y=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,y),o==null||o(),s.resolve(y))},h=y=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,y),o==null||o(),s.reject(y))},w=()=>new Promise(y=>{var S;o=m=>{(r||c())&&y(m)},(S=e.onPause)==null||S.call(e)}).then(()=>{var y;o=void 0,r||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(r)return;let y;const S=n===0?e.initialPromise:void 0;try{y=S??e.fn()}catch(m){y=Promise.reject(m)}Promise.resolve(y).then(d).catch(m=>{var P;if(r)return;const g=e.retry??(ou?0:3),x=e.retryDelay??GR,b=typeof x=="function"?x(n,m):x,C=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!C){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),VR(b).then(()=>c()?void 0:w()).then(()=>{t?h(m):v()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():w().then(v),s)}}function KR(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Ut=KR(),ko,f0,QS=(f0=class{constructor(){$e(this,ko)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OR(this.gcTime)&&we(this,ko,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ou?1/0:5*60*1e3))}clearGcTimeout(){V(this,ko)&&(clearTimeout(V(this,ko)),we(this,ko,void 0))}},ko=new WeakMap,f0),Ns,Is,gn,Mt,Ea,Ao,Mn,lr,h0,YR=(h0=class extends QS{constructor(t){super();$e(this,Mn);$e(this,Ns);$e(this,Is);$e(this,gn);$e(this,Mt);$e(this,Ea);$e(this,Ao);we(this,Ao,!1),we(this,Ea,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,gn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,Ns,QR(this.options)),this.state=t.state??V(this,Ns),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,Mt))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Ea),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,gn).remove(this)}setData(t,n){const r=UR(this.state.data,t,this.options);return At(this,Mn,lr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){At(this,Mn,lr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=V(this,Mt))==null?void 0:r.promise;return(o=V(this,Mt))==null||o.cancel(t),n?n.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ns))}isActive(){return this.observers.some(t=>$R(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!FR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Mt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,Mt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,gn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,Mt)&&(V(this,Ao)?V(this,Mt).cancel({revert:!0}):V(this,Mt).cancelRetry()),this.scheduleGc()),V(this,gn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Mn,lr).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Mt))return V(this,Mt).continueRetry(),V(this,Mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,o=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(we(this,Ao,!0),r.signal)})},s=()=>{const d=WS(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),we(this,Ao,!1),this.options.persister?this.options.persister(d,h,this):d(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),we(this,Is,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&At(this,Mn,lr).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,w,v,y;fd(d)&&d.silent||At(this,Mn,lr).call(this,{type:"error",error:d}),fd(d)||((w=(h=V(this,gn).config).onError)==null||w.call(h,d,this),(y=(v=V(this,gn).config).onSettled)==null||y.call(v,this.state.data,d,this)),this.scheduleGc()};return we(this,Mt,XS({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,w,v,y;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(S){a(S);return}(w=(h=V(this,gn).config).onSuccess)==null||w.call(h,d,this),(y=(v=V(this,gn).config).onSettled)==null||y.call(v,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{At(this,Mn,lr).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{At(this,Mn,lr).call(this,{type:"pause"})},onContinue:()=>{At(this,Mn,lr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),V(this,Mt).start()}},Ns=new WeakMap,Is=new WeakMap,gn=new WeakMap,Mt=new WeakMap,Ea=new WeakMap,Ao=new WeakMap,Mn=new WeakSet,lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...XR(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return fd(o)&&o.revert&&V(this,Is)?{...V(this,Is),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,gn).notify({query:this,type:"updated",action:t})})},h0);function XR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wn,p0,ZR=(p0=class extends ru{constructor(t={}){super();$e(this,Wn);this.config=t,we(this,Wn,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??Dp(o,n);let i=this.get(s);return i||(i=new YR({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){V(this,Wn).has(t.queryHash)||(V(this,Wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,Wn).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,Wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,Wn).get(t)}getAll(){return[...V(this,Wn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Bv(t,r)):n}notify(t){Ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wn=new WeakMap,p0),Gn,$t,Do,Kn,_r,m0,JR=(m0=class extends QS{constructor(t){super();$e(this,Kn);$e(this,Gn);$e(this,$t);$e(this,Do);this.mutationId=t.mutationId,we(this,$t,t.mutationCache),we(this,Gn,[]),this.state=t.state||eM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Gn).includes(t)||(V(this,Gn).push(t),this.clearGcTimeout(),V(this,$t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Gn,V(this,Gn).filter(n=>n!==t)),this.scheduleGc(),V(this,$t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Gn).length||(this.state.status==="pending"?this.scheduleGc():V(this,$t).remove(this))}continue(){var t;return((t=V(this,Do))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,u,d,h,w,v,y,S,m,g,x,b,C,P,k;we(this,Do,XS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,M)=>{At(this,Kn,_r).call(this,{type:"failed",failureCount:A,error:M})},onPause:()=>{At(this,Kn,_r).call(this,{type:"pause"})},onContinue:()=>{At(this,Kn,_r).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,$t).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Do).canStart();try{if(!n){At(this,Kn,_r).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=V(this,$t).config).onMutate)==null?void 0:s.call(o,t,this));const M=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));M!==this.state.context&&At(this,Kn,_r).call(this,{type:"pending",context:M,variables:t,isPaused:r})}const A=await V(this,Do).start();return await((c=(l=V(this,$t).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,A,t,this.state.context)),await((w=(h=V(this,$t).config).onSettled)==null?void 0:w.call(h,A,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,A,null,t,this.state.context)),At(this,Kn,_r).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(S=V(this,$t).config).onError)==null?void 0:m.call(S,A,t,this.state.context,this)),await((x=(g=this.options).onError)==null?void 0:x.call(g,A,t,this.state.context)),await((C=(b=V(this,$t).config).onSettled)==null?void 0:C.call(b,void 0,A,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,A,t,this.state.context)),A}finally{At(this,Kn,_r).call(this,{type:"error",error:A})}}finally{V(this,$t).runNext(this)}}},Gn=new WeakMap,$t=new WeakMap,Do=new WeakMap,Kn=new WeakSet,_r=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ut.batch(()=>{V(this,Gn).forEach(r=>{r.onMutationUpdate(t)}),V(this,$t).notify({mutation:this,type:"updated",action:t})})},m0);function eM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tn,Pa,g0,tM=(g0=class extends ru{constructor(t={}){super();$e(this,tn);$e(this,Pa);this.config=t,we(this,tn,new Map),we(this,Pa,Date.now())}build(t,n,r){const o=new JR({mutationCache:this,mutationId:++qa(this,Pa)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=cl(t),r=V(this,tn).get(n)??[];r.push(t),V(this,tn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=cl(t);if(V(this,tn).has(n)){const o=(r=V(this,tn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?V(this,tn).delete(n):V(this,tn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=V(this,tn).get(cl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=V(this,tn).get(cl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,tn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>qv(n,r))}findAll(t={}){return this.getAll().filter(n=>qv(t,n))}notify(t){Ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(t.map(n=>n.continue().catch(Rn))))}},tn=new WeakMap,Pa=new WeakMap,g0);function cl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Gv(e){return{onFetch:(t,n)=>{var u,d,h,w,v;const r=t.options,o=(h=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((w=t.state.data)==null?void 0:w.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const S=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},m=WS(t.options,t.fetchOptions),g=async(x,b,C)=>{if(y)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const P={queryKey:t.queryKey,pageParam:b,direction:C?"backward":"forward",meta:t.options.meta};S(P);const k=await m(P),{maxPages:A}=t.options,M=C?BR:zR;return{pages:M(x.pages,k,A),pageParams:M(x.pageParams,b,A)}};if(o&&s.length){const x=o==="backward",b=x?nM:Kv,C={pages:s,pageParams:i},P=b(r,C);a=await g(C,P,x)}else{const x=e??s.length;do{const b=l===0?i[0]??r.initialPageParam:Kv(r,a);if(l>0&&b==null)break;a=await g(a,b),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var y,S;return(S=(y=t.options).persister)==null?void 0:S.call(y,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Kv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ct,zr,Br,js,Ls,qr,Os,Fs,v0,rM=(v0=class{constructor(e={}){$e(this,ct);$e(this,zr);$e(this,Br);$e(this,js);$e(this,Ls);$e(this,qr);$e(this,Os);$e(this,Fs);we(this,ct,e.queryCache||new ZR),we(this,zr,e.mutationCache||new tM),we(this,Br,e.defaultOptions||{}),we(this,js,new Map),we(this,Ls,new Map),we(this,qr,0)}mount(){qa(this,qr)._++,V(this,qr)===1&&(we(this,Os,GS.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,ct).onFocus())})),we(this,Fs,vc.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,ct).onOnline())})))}unmount(){var e,t;qa(this,qr)._--,V(this,qr)===0&&((e=V(this,Os))==null||e.call(this),we(this,Os,void 0),(t=V(this,Fs))==null||t.call(this),we(this,Fs,void 0))}isFetching(e){return V(this,ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,zr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,ct).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,ct).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(zv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,ct).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=V(this,ct).get(r.queryHash),s=o==null?void 0:o.state.data,i=LR(t,s);if(i!==void 0)return V(this,ct).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Ut.batch(()=>V(this,ct).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,ct).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,ct);Ut.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,ct),r={type:"active",...e};return Ut.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ut.batch(()=>V(this,ct).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(e={},t={}){return Ut.batch(()=>{if(V(this,ct).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ut.batch(()=>V(this,ct).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Rn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,ct).build(this,t);return n.isStaleByTime(zv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rn).catch(Rn)}fetchInfiniteQuery(e){return e.behavior=Gv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rn).catch(Rn)}ensureInfiniteQueryData(e){return e.behavior=Gv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vc.isOnline()?V(this,zr).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,ct)}getMutationCache(){return V(this,zr)}getDefaultOptions(){return V(this,Br)}setDefaultOptions(e){we(this,Br,e)}setQueryDefaults(e,t){V(this,js).set(ca(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,js).values()];let n={};return t.forEach(r=>{ua(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){V(this,Ls).set(ca(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Ls).values()];let n={};return t.forEach(r=>{ua(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Br).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Rp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Br).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,ct).clear(),V(this,zr).clear()}},ct=new WeakMap,zr=new WeakMap,Br=new WeakMap,js=new WeakMap,Ls=new WeakMap,qr=new WeakMap,Os=new WeakMap,Fs=new WeakMap,v0),oM=f.createContext(void 0),sM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(oM.Provider,{value:e,children:t}));async function iM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const aM=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await iM(n),await n.json())},lM=new rM({defaultOptions:{queries:{queryFn:aM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),cM=1,uM=1e6;let hd=0;function dM(){return hd=(hd+1)%Number.MAX_SAFE_INTEGER,hd.toString()}const pd=new Map,Yv=e=>{if(pd.has(e))return;const t=setTimeout(()=>{pd.delete(e),Vi({type:"REMOVE_TOAST",toastId:e})},uM);pd.set(e,t)},fM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Yv(n):e.toasts.forEach(r=>{Yv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ll=[];let Ol={toasts:[]};function Vi(e){Ol=fM(Ol,e),Ll.forEach(t=>{t(Ol)})}function hM({...e}){const t=dM(),n=o=>Vi({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Vi({type:"DISMISS_TOAST",toastId:t});return Vi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Na(){const[e,t]=f.useState(Ol);return f.useEffect(()=>(Ll.push(t),()=>{const n=Ll.indexOf(t);n>-1&&Ll.splice(n,1)}),[e]),{...e,toast:hM,dismiss:n=>Vi({type:"DISMISS_TOAST",toastId:n})}}function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Xv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function su(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Xv(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Xv(e[o],null)}}}}function De(...e){return f.useCallback(su(...e),e)}function pM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function Zt(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=d=>{var m;const{scope:h,children:w,...v}=d,y=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,S=f.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:S,children:w})};c.displayName=s+"Provider";function u(d,h){var y;const w=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,v=f.useContext(w);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,mM(o,...t)]}function mM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Gs(e){const t=vM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(yM);if(l){const c=l.props.children,u=a.map(d=>d===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:d);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,u):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var gM=Gs("Slot");function vM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=xM(o),a=wM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?su(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZS=Symbol("radix.slottable");function JS(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ZS,t}function yM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZS}function wM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function xM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function iu(e){const t=e+"CollectionProvider",[n,r]=Zt(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:S,children:m}=y,g=gt.useRef(null),x=gt.useRef(new Map).current;return p.jsx(o,{scope:S,itemMap:x,collectionRef:g,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=Gs(a),c=gt.forwardRef((y,S)=>{const{scope:m,children:g}=y,x=s(a,m),b=De(S,x.collectionRef);return p.jsx(l,{ref:b,children:g})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Gs(u),w=gt.forwardRef((y,S)=>{const{scope:m,children:g,...x}=y,b=gt.useRef(null),C=De(S,b),P=s(u,m);return gt.useEffect(()=>(P.itemMap.set(b,{ref:b,...x}),()=>void P.itemMap.delete(b))),p.jsx(h,{[d]:"",ref:C,children:g})});w.displayName=u;function v(y){const S=s(e+"CollectionConsumer",y);return gt.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((P,k)=>x.indexOf(P.ref.current)-x.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:c,ItemSlot:w},v,r]}var SM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=SM.reduce((e,t)=>{const n=Gs(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mp(e,t){e&&Ma.flushSync(()=>e.dispatchEvent(t))}function nt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function bM(e,t=globalThis==null?void 0:globalThis.document){const n=nt(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var CM="DismissableLayer",Gf="dismissableLayer.update",EM="dismissableLayer.pointerDownOutside",PM="dismissableLayer.focusOutside",Qv,eb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ia=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(eb),[u,d]=f.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=f.useState({}),v=De(t,k=>d(k)),y=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=y.indexOf(S),g=u?y.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,b=g>=m,C=kM(k=>{const A=k.target,M=[...c.branches].some(_=>_.contains(A));!b||M||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=AM(k=>{const A=k.target;[...c.branches].some(_=>_.contains(A))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return bM(k=>{g===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Qv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Zv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Qv)}},[u,h,n,c]),f.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Zv())},[u,c]),f.useEffect(()=>{const k=()=>w({});return document.addEventListener(Gf,k),()=>document.removeEventListener(Gf,k)},[]),p.jsx(he.div,{...l,ref:v,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,C.onPointerDownCapture)})});Ia.displayName=CM;var TM="DismissableLayerBranch",tb=f.forwardRef((e,t)=>{const n=f.useContext(eb),r=f.useRef(null),o=De(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(he.div,{...e,ref:o})});tb.displayName=TM;function kM(e,t=globalThis==null?void 0:globalThis.document){const n=nt(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){nb(EM,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function AM(e,t=globalThis==null?void 0:globalThis.document){const n=nt(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&nb(PM,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zv(){const e=new CustomEvent(Gf);document.dispatchEvent(e)}function nb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Mp(o,s):o.dispatchEvent(s)}var DM=Ia,RM=tb,En=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},MM="Portal",au=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);En(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?sR.createPortal(p.jsx(he.div,{...r,ref:t}),i):null});au.displayName=MM;function _M(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Jt=e=>{const{present:t,children:n}=e,r=NM(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=De(r.ref,IM(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};Jt.displayName="Presence";function NM(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=_M(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=ul(r.current);s.current=a==="mounted"?c:"none"},[a]),En(()=>{const c=r.current,u=o.current;if(u!==e){const h=s.current,w=ul(c);e?l("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),En(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=w=>{const y=ul(r.current).includes(w.animationName);if(w.target===t&&y&&(l("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=w=>{w.target===t&&(s.current=ul(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ul(e){return(e==null?void 0:e.animationName)||"none"}function IM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=jM({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=nt(n),l=f.useCallback(c=>{if(s){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else o(c)},[s,e,o,a]);return[i,l]}function jM({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=nt(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var LM="VisuallyHidden",lu=f.forwardRef((e,t)=>p.jsx(he.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));lu.displayName=LM;var OM=lu,_p="ToastProvider",[Np,FM,$M]=iu("Toast"),[rb,Jz]=Zt("Toast",[$M]),[VM,cu]=rb(_p),ob=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,u]=f.useState(0),d=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_p}\`. Expected non-empty \`string\`.`),p.jsx(Np.Provider,{scope:t,children:p.jsx(VM,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>u(w=>w+1),[]),onToastRemove:f.useCallback(()=>u(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};ob.displayName=_p;var sb="ToastViewport",UM=["F8"],Kf="toast.viewportPause",Yf="toast.viewportResume",ib=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=UM,label:o="Notifications ({hotkey})",...s}=e,i=cu(sb,n),a=FM(n),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=De(t,d,i.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;f.useEffect(()=>{const S=m=>{var x;r.length!==0&&r.every(b=>m[b]||m.code===b)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),f.useEffect(()=>{const S=l.current,m=d.current;if(v&&S&&m){const g=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(Kf);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(Yf);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},b=P=>{!S.contains(P.relatedTarget)&&x()},C=()=>{S.contains(document.activeElement)||x()};return S.addEventListener("focusin",g),S.addEventListener("focusout",b),S.addEventListener("pointermove",g),S.addEventListener("pointerleave",C),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{S.removeEventListener("focusin",g),S.removeEventListener("focusout",b),S.removeEventListener("pointermove",g),S.removeEventListener("pointerleave",C),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[v,i.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:S})=>{const g=a().map(x=>{const b=x.ref.current,C=[b,...e_(b)];return S==="forwards"?C:C.reverse()});return(S==="forwards"?g.reverse():g).flat()},[a]);return f.useEffect(()=>{const S=d.current;if(S){const m=g=>{var C,P,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const A=document.activeElement,M=g.shiftKey;if(g.target===S&&M){(C=c.current)==null||C.focus();return}const $=y({tabbingDirection:M?"backwards":"forwards"}),j=$.findIndex(L=>L===A);md($.slice(j+1))?g.preventDefault():M?(P=c.current)==null||P.focus():(k=u.current)==null||k.focus()}};return S.addEventListener("keydown",m),()=>S.removeEventListener("keydown",m)}},[a,y]),p.jsxs(RM,{ref:l,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(Xf,{ref:c,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});md(S)}}),p.jsx(Np.Slot,{scope:n,children:p.jsx(he.ol,{tabIndex:-1,...s,ref:h})}),v&&p.jsx(Xf,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});md(S)}})]})});ib.displayName=sb;var ab="ToastFocusProxy",Xf=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=cu(ab,n);return p.jsx(lu,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Xf.displayName=ab;var uu="Toast",zM="toast.swipeStart",BM="toast.swipeMove",qM="toast.swipeCancel",HM="toast.swipeEnd",lb=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=Tr({prop:r,defaultProp:o,onChange:s});return p.jsx(Jt,{present:n||a,children:p.jsx(KM,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:nt(e.onPause),onResume:nt(e.onResume),onSwipeStart:Z(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Z(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});lb.displayName=uu;var[WM,GM]=rb(uu,{onClose(){}}),KM=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:w,...v}=e,y=cu(uu,n),[S,m]=f.useState(null),g=De(t,L=>m(L)),x=f.useRef(null),b=f.useRef(null),C=o||y.duration,P=f.useRef(0),k=f.useRef(C),A=f.useRef(0),{onToastAdd:M,onToastRemove:_}=y,I=nt(()=>{var W;(S==null?void 0:S.contains(document.activeElement))&&((W=y.viewport)==null||W.focus()),i()}),$=f.useCallback(L=>{!L||L===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(I,L))},[I]);f.useEffect(()=>{const L=y.viewport;if(L){const W=()=>{$(k.current),c==null||c()},N=()=>{const O=new Date().getTime()-P.current;k.current=k.current-O,window.clearTimeout(A.current),l==null||l()};return L.addEventListener(Kf,N),L.addEventListener(Yf,W),()=>{L.removeEventListener(Kf,N),L.removeEventListener(Yf,W)}}},[y.viewport,C,l,c,$]),f.useEffect(()=>{s&&!y.isClosePausedRef.current&&$(C)},[s,C,y.isClosePausedRef,$]),f.useEffect(()=>(M(),()=>_()),[M,_]);const j=f.useMemo(()=>S?mb(S):null,[S]);return y.viewport?p.jsxs(p.Fragment,{children:[j&&p.jsx(YM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),p.jsx(WM,{scope:n,onClose:I,children:Ma.createPortal(p.jsx(Np.ItemSlot,{scope:n,children:p.jsx(DM,{asChild:!0,onEscapeKeyDown:Z(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Z(e.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:Z(e.onPointerMove,L=>{if(!x.current)return;const W=L.clientX-x.current.x,N=L.clientY-x.current.y,O=!!b.current,D=["left","right"].includes(y.swipeDirection),R=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,F=D?R(0,W):0,z=D?0:R(0,N),G=L.pointerType==="touch"?10:2,ae={x:F,y:z},oe={originalEvent:L,delta:ae};O?(b.current=ae,dl(BM,d,oe,{discrete:!1})):Jv(ae,y.swipeDirection,G)?(b.current=ae,dl(zM,u,oe,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>G||Math.abs(N)>G)&&(x.current=null)}),onPointerUp:Z(e.onPointerUp,L=>{const W=b.current,N=L.target;if(N.hasPointerCapture(L.pointerId)&&N.releasePointerCapture(L.pointerId),b.current=null,x.current=null,W){const O=L.currentTarget,D={originalEvent:L,delta:W};Jv(W,y.swipeDirection,y.swipeThreshold)?dl(HM,w,D,{discrete:!0}):dl(qM,h,D,{discrete:!0}),O.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),YM=e=>{const{__scopeToast:t,children:n,...r}=e,o=cu(uu,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return ZM(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(au,{asChild:!0,children:p.jsx(lu,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},XM="ToastTitle",cb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(he.div,{...r,ref:t})});cb.displayName=XM;var QM="ToastDescription",ub=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(he.div,{...r,ref:t})});ub.displayName=QM;var db="ToastAction",fb=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(pb,{altText:n,asChild:!0,children:p.jsx(Ip,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${db}\`. Expected non-empty \`string\`.`),null)});fb.displayName=db;var hb="ToastClose",Ip=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=GM(hb,n);return p.jsx(pb,{asChild:!0,children:p.jsx(he.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,o.onClose)})})});Ip.displayName=hb;var pb=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function mb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),JM(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...mb(r))}}),t}function dl(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Mp(o,s):o.dispatchEvent(s)}var Jv=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function ZM(e=()=>{}){const t=nt(e);En(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function JM(e){return e.nodeType===e.ELEMENT_NODE}function e_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function md(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var t_=ob,gb=ib,vb=lb,yb=cb,wb=ub,xb=fb,Sb=Ip;function bb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=bb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Cb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=bb(e))&&(r&&(r+=" "),r+=t);return r}const ey=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ty=Cb,du=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ty(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=ey(u)||ey(d);return o[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...w}=u;return Object.entries(w).every(v=>{let[y,S]=v;return Array.isArray(S)?S.includes({...s,...a}[y]):{...s,...a}[y]===S})?[...c,d,h]:c},[]);return ty(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...r_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Eb("lucide",o),...a},[...i.map(([c,u])=>f.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(o_,{ref:s,iconNode:t,className:Eb(`lucide-${n_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Fe("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Fe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Fe("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Fe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Fe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Fe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Lp="-",T_=e=>{const t=A_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Lp);return a[0]===""&&a.length!==1&&a.shift(),_b(a,t)||k_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},_b=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?_b(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Lp);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},ny=/^\[(.+)\]$/,k_=e=>{if(ny.test(e)){const t=ny.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},A_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return R_(Object.entries(e.classGroups),n).forEach(([s,i])=>{Qf(i,r,s,t)}),r},Qf=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:ry(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(D_(o)){Qf(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Qf(i,ry(t,s),n,r)})})},ry=(e,t)=>{let n=e;return t.split(Lp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},D_=e=>e.isThemeGetter,R_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,M_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},Nb="!",__=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,u=0,d;for(let S=0;S<a.length;S++){let m=a[S];if(c===0){if(m===o&&(r||a.slice(S,S+s)===t)){l.push(a.slice(u,S)),u=S+s;continue}if(m==="/"){d=S;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(u),w=h.startsWith(Nb),v=w?h.substring(1):h,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},N_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},I_=e=>({cache:M_(e.cacheSize),parseClassName:__(e),...T_(e)}),j_=/\s+/,L_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(j_);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:w}=n(c);let v=!!w,y=r(v?h.substring(0,w):h);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const S=N_(u).join(":"),m=d?S+Nb:S,g=m+y;if(s.includes(g))continue;s.push(g);const x=o(y,v);for(let b=0;b<x.length;++b){const C=x[b];s.push(m+C)}a=c+(a.length>0?" "+a:a)}return a};function O_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Ib(t))&&(r&&(r+=" "),r+=n);return r}const Ib=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ib(e[r]))&&(n&&(n+=" "),n+=t);return n};function F_(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((u,d)=>d(u),e());return n=I_(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=L_(l,n);return o(l,u),u}return function(){return s(O_.apply(null,arguments))}}const Ye=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},jb=/^\[(?:([a-z-]+):)?(.+)\]$/i,$_=/^\d+\/\d+$/,V_=new Set(["px","full","screen"]),U_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ar=e=>Ss(e)||V_.has(e)||$_.test(e),Rr=e=>oi(e,"length",J_),Ss=e=>!!e&&!Number.isNaN(Number(e)),gd=e=>oi(e,"number",Ss),xi=e=>!!e&&Number.isInteger(Number(e)),W_=e=>e.endsWith("%")&&Ss(e.slice(0,-1)),ge=e=>jb.test(e),Mr=e=>U_.test(e),G_=new Set(["length","size","percentage"]),K_=e=>oi(e,G_,Lb),Y_=e=>oi(e,"position",Lb),X_=new Set(["image","url"]),Q_=e=>oi(e,X_,tN),Z_=e=>oi(e,"",eN),Si=()=>!0,oi=(e,t,n)=>{const r=jb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},J_=e=>z_.test(e)&&!B_.test(e),Lb=()=>!1,eN=e=>q_.test(e),tN=e=>H_.test(e),nN=()=>{const e=Ye("colors"),t=Ye("spacing"),n=Ye("blur"),r=Ye("brightness"),o=Ye("borderColor"),s=Ye("borderRadius"),i=Ye("borderSpacing"),a=Ye("borderWidth"),l=Ye("contrast"),c=Ye("grayscale"),u=Ye("hueRotate"),d=Ye("invert"),h=Ye("gap"),w=Ye("gradientColorStops"),v=Ye("gradientColorStopPositions"),y=Ye("inset"),S=Ye("margin"),m=Ye("opacity"),g=Ye("padding"),x=Ye("saturate"),b=Ye("scale"),C=Ye("sepia"),P=Ye("skew"),k=Ye("space"),A=Ye("translate"),M=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ge,t],$=()=>[ge,t],j=()=>["",ar,Rr],L=()=>["auto",Ss,ge],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ge],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ss,ge];return{cacheSize:500,separator:":",theme:{colors:[Si],spacing:[ar,Rr],blur:["none","",Mr,ge],brightness:z(),borderColor:[e],borderRadius:["none","","full",Mr,ge],borderSpacing:$(),borderWidth:j(),contrast:z(),grayscale:R(),hueRotate:z(),invert:R(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[W_,Rr],inset:I(),margin:I(),opacity:z(),padding:$(),saturate:z(),scale:z(),sepia:R(),skew:z(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[Mr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ge]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xi,ge]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",xi,ge]}],"grid-cols":[{"grid-cols":[Si]}],"col-start-end":[{col:["auto",{span:["full",xi,ge]},ge]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Si]}],"row-start-end":[{row:["auto",{span:[xi,ge]},ge]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,t]}],"min-w":[{"min-w":[ge,t,"min","max","fit"]}],"max-w":[{"max-w":[ge,t,"none","full","min","max","fit","prose",{screen:[Mr]},Mr]}],h:[{h:[ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mr,Rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gd]}],"font-family":[{font:[Si]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Ss,gd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,Rr]}],"underline-offset":[{"underline-offset":["auto",ar,ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Y_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Q_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:N()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[ar,ge]}],"outline-w":[{outline:[ar,Rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[ar,Rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mr,Z_]}],"shadow-color":[{shadow:[Si]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mr,ge]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[xi,ge]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ar,Rr,gd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rN=F_(nN);function J(...e){return rN(Cb(e))}function oN(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const sN=t_,Ob=f.forwardRef(({className:e,...t},n)=>p.jsx(gb,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ob.displayName=gb.displayName;const iN=du("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fb=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(vb,{ref:r,className:J(iN({variant:t}),e),...n}));Fb.displayName=vb.displayName;const aN=f.forwardRef(({className:e,...t},n)=>p.jsx(xb,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));aN.displayName=xb.displayName;const $b=f.forwardRef(({className:e,...t},n)=>p.jsx(Sb,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(fu,{className:"h-4 w-4"})}));$b.displayName=Sb.displayName;const Vb=f.forwardRef(({className:e,...t},n)=>p.jsx(yb,{ref:n,className:J("text-sm font-semibold",e),...t}));Vb.displayName=yb.displayName;const Ub=f.forwardRef(({className:e,...t},n)=>p.jsx(wb,{ref:n,className:J("text-sm opacity-90",e),...t}));Ub.displayName=wb.displayName;function lN(){const{toasts:e}=Na();return p.jsxs(sN,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(Fb,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Vb,{children:n}),r&&p.jsx(Ub,{children:r})]}),o,p.jsx($b,{})]},t)}),p.jsx(Ob,{})]})}var cN=D0[" useId ".trim().toString()]||(()=>{}),uN=0;function bs(e){const[t,n]=f.useState(cN());return En(()=>{n(r=>r??String(uN++))},[e]),t?`radix-${t}`:""}const dN=["top","right","bottom","left"],io=Math.min,rn=Math.max,yc=Math.round,fl=Math.floor,Jn=e=>({x:e,y:e}),fN={left:"right",right:"left",bottom:"top",top:"bottom"},hN={start:"end",end:"start"};function Zf(e,t,n){return rn(e,io(t,n))}function Sr(e,t){return typeof e=="function"?e(t):e}function br(e){return e.split("-")[0]}function si(e){return e.split("-")[1]}function Op(e){return e==="x"?"y":"x"}function Fp(e){return e==="y"?"height":"width"}function ao(e){return["top","bottom"].includes(br(e))?"y":"x"}function $p(e){return Op(ao(e))}function pN(e,t,n){n===void 0&&(n=!1);const r=si(e),o=$p(e),s=Fp(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=wc(i)),[i,wc(i)]}function mN(e){const t=wc(e);return[Jf(e),t,Jf(t)]}function Jf(e){return e.replace(/start|end/g,t=>hN[t])}function gN(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function vN(e,t,n,r){const o=si(e);let s=gN(br(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Jf)))),s}function wc(e){return e.replace(/left|right|bottom|top/g,t=>fN[t])}function yN(e){return{top:0,right:0,bottom:0,left:0,...e}}function zb(e){return typeof e!="number"?yN(e):{top:e,right:e,bottom:e,left:e}}function xc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function oy(e,t,n){let{reference:r,floating:o}=e;const s=ao(t),i=$p(t),a=Fp(i),l=br(t),c=s==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let w;switch(l){case"top":w={x:u,y:r.y-o.height};break;case"bottom":w={x:u,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:d};break;case"left":w={x:r.x-o.width,y:d};break;default:w={x:r.x,y:r.y}}switch(si(t)){case"start":w[i]-=h*(n&&c?-1:1);break;case"end":w[i]+=h*(n&&c?-1:1);break}return w}const wN=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=oy(c,r,l),h=r,w={},v=0;for(let y=0;y<a.length;y++){const{name:S,fn:m}=a[y],{x:g,y:x,data:b,reset:C}=await m({x:u,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:w,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,d=x??d,w={...w,[S]:{...w[S],...b}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:u,y:d}=oy(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:w}};async function da(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:w=0}=Sr(t,e),v=zb(w),S=a[h?d==="floating"?"reference":"floating":d],m=xc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),g=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},C=xc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:x,strategy:l}):g);return{top:(m.top-C.top+v.top)/b.y,bottom:(C.bottom-m.bottom+v.bottom)/b.y,left:(m.left-C.left+v.left)/b.x,right:(C.right-m.right+v.right)/b.x}}const xN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Sr(e,t)||{};if(c==null)return{};const d=zb(u),h={x:n,y:r},w=$p(o),v=Fp(w),y=await i.getDimensions(c),S=w==="y",m=S?"top":"left",g=S?"bottom":"right",x=S?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[w]-h[w]-s.floating[v],C=h[w]-s.reference[w],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[x]||s.floating[v]);const A=b/2-C/2,M=k/2-y[v]/2-1,_=io(d[m],M),I=io(d[g],M),$=_,j=k-y[v]-I,L=k/2-y[v]/2+A,W=Zf($,L,j),N=!l.arrow&&si(o)!=null&&L!==W&&s.reference[v]/2-(L<$?_:I)-y[v]/2<0,O=N?L<$?L-$:L-j:0;return{[w]:h[w]+O,data:{[w]:W,centerOffset:L-W-O,...N&&{alignmentOffset:O}},reset:N}}}),SN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...S}=Sr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=br(o),g=ao(a),x=br(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(x||!y?[wc(a)]:mN(a)),P=v!=="none";!h&&P&&C.push(...vN(a,y,v,b));const k=[a,...C],A=await da(t,S),M=[];let _=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&M.push(A[m]),d){const L=pN(o,i,b);M.push(A[L[0]],A[L[1]])}if(_=[..._,{placement:o,overflows:M}],!M.every(L=>L<=0)){var I,$;const L=(((I=s.flip)==null?void 0:I.index)||0)+1,W=k[L];if(W)return{data:{index:L,overflows:_},reset:{placement:W}};let N=($=_.filter(O=>O.overflows[0]<=0).sort((O,D)=>O.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!N)switch(w){case"bestFit":{var j;const O=(j=_.filter(D=>{if(P){const R=ao(D.placement);return R===g||R==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(R=>R>0).reduce((R,F)=>R+F,0)]).sort((D,R)=>D[1]-R[1])[0])==null?void 0:j[0];O&&(N=O);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function sy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iy(e){return dN.some(t=>e[t]>=0)}const bN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Sr(e,t);switch(r){case"referenceHidden":{const s=await da(t,{...o,elementContext:"reference"}),i=sy(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:iy(i)}}}case"escaped":{const s=await da(t,{...o,altBoundary:!0}),i=sy(s,n.floating);return{data:{escapedOffsets:i,escaped:iy(i)}}}default:return{}}}}};async function CN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=br(n),a=si(n),l=ao(n)==="y",c=["left","top"].includes(i)?-1:1,u=s&&l?-1:1,d=Sr(t,e);let{mainAxis:h,crossAxis:w,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(w=a==="end"?v*-1:v),l?{x:w*u,y:h*c}:{x:h*c,y:w*u}}const EN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await CN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},PN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:S=>{let{x:m,y:g}=S;return{x:m,y:g}}},...l}=Sr(e,t),c={x:n,y:r},u=await da(t,l),d=ao(br(o)),h=Op(d);let w=c[h],v=c[d];if(s){const S=h==="y"?"top":"left",m=h==="y"?"bottom":"right",g=w+u[S],x=w-u[m];w=Zf(g,w,x)}if(i){const S=d==="y"?"top":"left",m=d==="y"?"bottom":"right",g=v+u[S],x=v-u[m];v=Zf(g,v,x)}const y=a.fn({...t,[h]:w,[d]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[d]:i}}}}}},TN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Sr(e,t),u={x:n,y:r},d=ao(o),h=Op(d);let w=u[h],v=u[d];const y=Sr(a,t),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=h==="y"?"height":"width",b=s.reference[h]-s.floating[x]+S.mainAxis,C=s.reference[h]+s.reference[x]-S.mainAxis;w<b?w=b:w>C&&(w=C)}if(c){var m,g;const x=h==="y"?"width":"height",b=["top","left"].includes(br(o)),C=s.reference[d]-s.floating[x]+(b&&((m=i.offset)==null?void 0:m[d])||0)+(b?0:S.crossAxis),P=s.reference[d]+s.reference[x]+(b?0:((g=i.offset)==null?void 0:g[d])||0)-(b?S.crossAxis:0);v<C?v=C:v>P&&(v=P)}return{[h]:w,[d]:v}}}},kN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Sr(e,t),u=await da(t,c),d=br(o),h=si(o),w=ao(o)==="y",{width:v,height:y}=s.floating;let S,m;d==="top"||d==="bottom"?(S=d,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,S=h==="end"?"top":"bottom");const g=y-u.top-u.bottom,x=v-u.left-u.right,b=io(y-u[S],g),C=io(v-u[m],x),P=!t.middlewareData.shift;let k=b,A=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=g),P&&!h){const _=rn(u.left,0),I=rn(u.right,0),$=rn(u.top,0),j=rn(u.bottom,0);w?A=v-2*(_!==0||I!==0?_+I:rn(u.left,u.right)):k=y-2*($!==0||j!==0?$+j:rn(u.top,u.bottom))}await l({...t,availableWidth:A,availableHeight:k});const M=await i.getDimensions(a.floating);return v!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function hu(){return typeof window<"u"}function ii(e){return Bb(e)?(e.nodeName||"").toLowerCase():"#document"}function an(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rr(e){var t;return(t=(Bb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bb(e){return hu()?e instanceof Node||e instanceof an(e).Node:!1}function Fn(e){return hu()?e instanceof Element||e instanceof an(e).Element:!1}function nr(e){return hu()?e instanceof HTMLElement||e instanceof an(e).HTMLElement:!1}function ay(e){return!hu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof an(e).ShadowRoot}function ja(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=$n(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function AN(e){return["table","td","th"].includes(ii(e))}function pu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vp(e){const t=Up(),n=Fn(e)?$n(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function DN(e){let t=lo(e);for(;nr(t)&&!Ks(t);){if(Vp(t))return t;if(pu(t))return null;t=lo(t)}return null}function Up(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ks(e){return["html","body","#document"].includes(ii(e))}function $n(e){return an(e).getComputedStyle(e)}function mu(e){return Fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lo(e){if(ii(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ay(e)&&e.host||rr(e);return ay(t)?t.host:t}function qb(e){const t=lo(e);return Ks(t)?e.ownerDocument?e.ownerDocument.body:e.body:nr(t)&&ja(t)?t:qb(t)}function fa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=qb(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=an(o);if(s){const a=eh(i);return t.concat(i,i.visualViewport||[],ja(o)?o:[],a&&n?fa(a):[])}return t.concat(o,fa(o,[],n))}function eh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hb(e){const t=$n(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=nr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=yc(n)!==s||yc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function zp(e){return Fn(e)?e:e.contextElement}function Cs(e){const t=zp(e);if(!nr(t))return Jn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Hb(t);let i=(s?yc(n.width):n.width)/r,a=(s?yc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const RN=Jn(0);function Wb(e){const t=an(e);return!Up()||!t.visualViewport?RN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==an(e)?!1:t}function $o(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=zp(e);let i=Jn(1);t&&(r?Fn(r)&&(i=Cs(r)):i=Cs(e));const a=MN(s,n,r)?Wb(s):Jn(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,u=o.width/i.x,d=o.height/i.y;if(s){const h=an(s),w=r&&Fn(r)?an(r):r;let v=h,y=eh(v);for(;y&&r&&w!==v;){const S=Cs(y),m=y.getBoundingClientRect(),g=$n(y),x=m.left+(y.clientLeft+parseFloat(g.paddingLeft))*S.x,b=m.top+(y.clientTop+parseFloat(g.paddingTop))*S.y;l*=S.x,c*=S.y,u*=S.x,d*=S.y,l+=x,c+=b,v=an(y),y=eh(v)}}return xc({width:u,height:d,x:l,y:c})}function Bp(e,t){const n=mu(e).scrollLeft;return t?t.left+n:$o(rr(e)).left+n}function Gb(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Bp(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function _N(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=rr(r),a=t?pu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Jn(1);const u=Jn(0),d=nr(r);if((d||!d&&!s)&&((ii(r)!=="body"||ja(i))&&(l=mu(r)),nr(r))){const w=$o(r);c=Cs(r),u.x=w.x+r.clientLeft,u.y=w.y+r.clientTop}const h=i&&!d&&!s?Gb(i,l,!0):Jn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function NN(e){return Array.from(e.getClientRects())}function IN(e){const t=rr(e),n=mu(e),r=e.ownerDocument.body,o=rn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=rn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Bp(e);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(i+=rn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function jN(e,t){const n=an(e),r=rr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=Up();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function LN(e,t){const n=$o(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=nr(e)?Cs(e):Jn(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function ly(e,t,n){let r;if(t==="viewport")r=jN(e,n);else if(t==="document")r=IN(rr(e));else if(Fn(t))r=LN(t,n);else{const o=Wb(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return xc(r)}function Kb(e,t){const n=lo(e);return n===t||!Fn(n)||Ks(n)?!1:$n(n).position==="fixed"||Kb(n,t)}function ON(e,t){const n=t.get(e);if(n)return n;let r=fa(e,[],!1).filter(a=>Fn(a)&&ii(a)!=="body"),o=null;const s=$n(e).position==="fixed";let i=s?lo(e):e;for(;Fn(i)&&!Ks(i);){const a=$n(i),l=Vp(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ja(i)&&!l&&Kb(e,i))?r=r.filter(u=>u!==i):o=a,i=lo(i)}return t.set(e,r),r}function FN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?pu(t)?[]:ON(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=ly(t,u,o);return c.top=rn(d.top,c.top),c.right=io(d.right,c.right),c.bottom=io(d.bottom,c.bottom),c.left=rn(d.left,c.left),c},ly(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $N(e){const{width:t,height:n}=Hb(e);return{width:t,height:n}}function VN(e,t,n){const r=nr(t),o=rr(t),s=n==="fixed",i=$o(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Jn(0);if(r||!r&&!s)if((ii(t)!=="body"||ja(o))&&(a=mu(t)),r){const h=$o(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=Bp(o));const c=o&&!r&&!s?Gb(o,a):Jn(0),u=i.left+a.scrollLeft-l.x-c.x,d=i.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:i.width,height:i.height}}function vd(e){return $n(e).position==="static"}function cy(e,t){if(!nr(e)||$n(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rr(e)===n&&(n=n.ownerDocument.body),n}function Yb(e,t){const n=an(e);if(pu(e))return n;if(!nr(e)){let o=lo(e);for(;o&&!Ks(o);){if(Fn(o)&&!vd(o))return o;o=lo(o)}return n}let r=cy(e,t);for(;r&&AN(r)&&vd(r);)r=cy(r,t);return r&&Ks(r)&&vd(r)&&!Vp(r)?n:r||DN(e)||n}const UN=async function(e){const t=this.getOffsetParent||Yb,n=this.getDimensions,r=await n(e.floating);return{reference:VN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zN(e){return $n(e).direction==="rtl"}const BN={convertOffsetParentRelativeRectToViewportRelativeRect:_N,getDocumentElement:rr,getClippingRect:FN,getOffsetParent:Yb,getElementRects:UN,getClientRects:NN,getDimensions:$N,getScale:Cs,isElement:Fn,isRTL:zN};function Xb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qN(e,t){let n=null,r;const o=rr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:w}=c;if(a||t(),!h||!w)return;const v=fl(d),y=fl(o.clientWidth-(u+h)),S=fl(o.clientHeight-(d+w)),m=fl(u),x={rootMargin:-v+"px "+-y+"px "+-S+"px "+-m+"px",threshold:rn(0,io(1,l))||1};let b=!0;function C(P){const k=P[0].intersectionRatio;if(k!==l){if(!b)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Xb(c,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(C,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(e)}return i(!0),s}function HN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zp(e),u=o||s?[...c?fa(c):[],...fa(t)]:[];u.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const d=c&&a?qN(c,n):null;let h=-1,w=null;i&&(w=new ResizeObserver(m=>{let[g]=m;g&&g.target===c&&w&&(w.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=w)==null||x.observe(t)})),n()}),c&&!l&&w.observe(c),w.observe(t));let v,y=l?$o(e):null;l&&S();function S(){const m=$o(e);y&&!Xb(y,m)&&n(),y=m,v=requestAnimationFrame(S)}return n(),()=>{var m;u.forEach(g=>{o&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),d==null||d(),(m=w)==null||m.disconnect(),w=null,l&&cancelAnimationFrame(v)}}const WN=EN,GN=PN,KN=SN,YN=kN,XN=bN,uy=xN,QN=TN,ZN=(e,t,n)=>{const r=new Map,o={platform:BN,...n},s={...o.platform,_c:r};return wN(e,t,{...o,platform:s})};var Fl=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Sc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Sc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Sc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Qb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dy(e,t){const n=Qb(e);return Math.round(t*n)/n}function yd(e){const t=f.useRef(e);return Fl(()=>{t.current=e}),t}function JN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,w]=f.useState(r);Sc(h,r)||w(r);const[v,y]=f.useState(null),[S,m]=f.useState(null),g=f.useCallback(D=>{D!==P.current&&(P.current=D,y(D))},[]),x=f.useCallback(D=>{D!==k.current&&(k.current=D,m(D))},[]),b=s||v,C=i||S,P=f.useRef(null),k=f.useRef(null),A=f.useRef(u),M=l!=null,_=yd(l),I=yd(o),$=yd(c),j=f.useCallback(()=>{if(!P.current||!k.current)return;const D={placement:t,strategy:n,middleware:h};I.current&&(D.platform=I.current),ZN(P.current,k.current,D).then(R=>{const F={...R,isPositioned:$.current!==!1};L.current&&!Sc(A.current,F)&&(A.current=F,Ma.flushSync(()=>{d(F)}))})},[h,t,n,I,$]);Fl(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const L=f.useRef(!1);Fl(()=>(L.current=!0,()=>{L.current=!1}),[]),Fl(()=>{if(b&&(P.current=b),C&&(k.current=C),b&&C){if(_.current)return _.current(b,C,j);j()}},[b,C,j,_,M]);const W=f.useMemo(()=>({reference:P,floating:k,setReference:g,setFloating:x}),[g,x]),N=f.useMemo(()=>({reference:b,floating:C}),[b,C]),O=f.useMemo(()=>{const D={position:n,left:0,top:0};if(!N.floating)return D;const R=dy(N.floating,u.x),F=dy(N.floating,u.y);return a?{...D,transform:"translate("+R+"px, "+F+"px)",...Qb(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:F}},[n,a,N.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:j,refs:W,elements:N,floatingStyles:O}),[u,j,W,N,O])}const eI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?uy({element:r.current,padding:o}).fn(n):{}:r?uy({element:r,padding:o}).fn(n):{}}}},tI=(e,t)=>({...WN(e),options:[e,t]}),nI=(e,t)=>({...GN(e),options:[e,t]}),rI=(e,t)=>({...QN(e),options:[e,t]}),oI=(e,t)=>({...KN(e),options:[e,t]}),sI=(e,t)=>({...YN(e),options:[e,t]}),iI=(e,t)=>({...XN(e),options:[e,t]}),aI=(e,t)=>({...eI(e),options:[e,t]});var lI="Arrow",Zb=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(he.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});Zb.displayName=lI;var cI=Zb;function qp(e){const[t,n]=f.useState(void 0);return En(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Hp="Popper",[Jb,gu]=Zt(Hp),[uI,e1]=Jb(Hp),t1=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(uI,{scope:t,anchor:r,onAnchorChange:o,children:n})};t1.displayName=Hp;var n1="PopperAnchor",r1=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=e1(n1,n),i=f.useRef(null),a=De(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(he.div,{...o,ref:a})});r1.displayName=n1;var Wp="PopperContent",[dI,fI]=Jb(Wp),o1=f.forwardRef((e,t)=>{var pe,_e,Se,Ue,be,Q;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:w="optimized",onPlaced:v,...y}=e,S=e1(Wp,n),[m,g]=f.useState(null),x=De(t,ve=>g(ve)),[b,C]=f.useState(null),P=qp(b),k=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,M=r+(s!=="center"?"-"+s:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],$=I.length>0,j={padding:_,boundary:I.filter(pI),altBoundary:$},{refs:L,floatingStyles:W,placement:N,isPositioned:O,middlewareData:D}=JN({strategy:"fixed",placement:M,whileElementsMounted:(...ve)=>HN(...ve,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[tI({mainAxis:o+A,alignmentAxis:i}),l&&nI({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?rI():void 0,...j}),l&&oI({...j}),sI({...j,apply:({elements:ve,rects:B,availableWidth:q,availableHeight:K})=>{const{width:se,height:Y}=B.reference,ue=ve.floating.style;ue.setProperty("--radix-popper-available-width",`${q}px`),ue.setProperty("--radix-popper-available-height",`${K}px`),ue.setProperty("--radix-popper-anchor-width",`${se}px`),ue.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),b&&aI({element:b,padding:a}),mI({arrowWidth:k,arrowHeight:A}),h&&iI({strategy:"referenceHidden",...j})]}),[R,F]=a1(N),z=nt(v);En(()=>{O&&(z==null||z())},[O,z]);const G=(pe=D.arrow)==null?void 0:pe.x,ae=(_e=D.arrow)==null?void 0:_e.y,oe=((Se=D.arrow)==null?void 0:Se.centerOffset)!==0,[Ze,Re]=f.useState();return En(()=>{m&&Re(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:O?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,"--radix-popper-transform-origin":[(Ue=D.transformOrigin)==null?void 0:Ue.x,(be=D.transformOrigin)==null?void 0:be.y].join(" "),...((Q=D.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(dI,{scope:n,placedSide:R,onArrowChange:C,arrowX:G,arrowY:ae,shouldHideArrow:oe,children:p.jsx(he.div,{"data-side":R,"data-align":F,...y,ref:x,style:{...y.style,animation:O?void 0:"none"}})})})});o1.displayName=Wp;var s1="PopperArrow",hI={top:"bottom",right:"left",bottom:"top",left:"right"},i1=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=fI(s1,r),i=hI[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(cI,{...o,ref:n,style:{...o.style,display:"block"}})})});i1.displayName=s1;function pI(e){return e!==null}var mI=e=>({name:"transformOrigin",options:e,fn(t){var S,m,g;const{placement:n,rects:r,middlewareData:o}=t,i=((S=o.arrow)==null?void 0:S.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=a1(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,w=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=i?d:`${h}px`,y=`${-l}px`):c==="top"?(v=i?d:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=i?d:`${w}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=i?d:`${w}px`),{data:{x:v,y}}}});function a1(e){const[t,n="center"]=e.split("-");return[t,n]}var gI=t1,l1=r1,c1=o1,u1=i1,[vu,e3]=Zt("Tooltip",[gu]),Gp=gu(),d1="TooltipProvider",vI=700,fy="tooltip.open",[yI,f1]=vu(d1),h1=e=>{const{__scopeTooltip:t,delayDuration:n=vI,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(yI,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};h1.displayName=d1;var p1="Tooltip",[t3,yu]=vu(p1),th="TooltipTrigger",wI=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=yu(th,n),s=f1(th,n),i=Gp(n),a=f.useRef(null),l=De(t,a,o.onTriggerChange),c=f.useRef(!1),u=f.useRef(!1),d=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(l1,{asChild:!0,...i,children:p.jsx(he.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Z(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:Z(e.onBlur,o.onClose),onClick:Z(e.onClick,o.onClose)})})});wI.displayName=th;var xI="TooltipPortal",[n3,SI]=vu(xI,{forceMount:void 0}),Ys="TooltipContent",m1=f.forwardRef((e,t)=>{const n=SI(Ys,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=yu(Ys,e.__scopeTooltip);return p.jsx(Jt,{present:r||i.open,children:i.disableHoverableContent?p.jsx(g1,{side:o,...s,ref:t}):p.jsx(bI,{side:o,...s,ref:t})})}),bI=f.forwardRef((e,t)=>{const n=yu(Ys,e.__scopeTooltip),r=f1(Ys,e.__scopeTooltip),o=f.useRef(null),s=De(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,u=o.current,{onPointerInTransitChange:d}=r,h=f.useCallback(()=>{a(null),d(!1)},[d]),w=f.useCallback((v,y)=>{const S=v.currentTarget,m={x:v.clientX,y:v.clientY},g=kI(m,S.getBoundingClientRect()),x=AI(m,g),b=DI(y.getBoundingClientRect()),C=MI([...x,...b]);a(C),d(!0)},[d]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&u){const v=S=>w(S,u),y=S=>w(S,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",y)}}},[l,u,w,h]),f.useEffect(()=>{if(i){const v=y=>{const S=y.target,m={x:y.clientX,y:y.clientY},g=(l==null?void 0:l.contains(S))||(u==null?void 0:u.contains(S)),x=!RI(m,i);g?h():x&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,i,c,h]),p.jsx(g1,{...e,ref:s})}),[CI,EI]=vu(p1,{isInside:!1}),PI=JS("TooltipContent"),g1=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=yu(Ys,n),c=Gp(n),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener(fy,u),()=>document.removeEventListener(fy,u)),[u]),f.useEffect(()=>{if(l.trigger){const d=h=>{const w=h.target;w!=null&&w.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(c1,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(PI,{children:r}),p.jsx(CI,{scope:n,isInside:!0,children:p.jsx(OM,{id:l.contentId,role:"tooltip",children:o||r})})]})})});m1.displayName=Ys;var v1="TooltipArrow",TI=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Gp(n);return EI(v1,n).isInside?null:p.jsx(u1,{...o,...r,ref:t})});TI.displayName=v1;function kI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function DI(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function RI(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function MI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_I(t)}function _I(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var NI=h1,y1=m1;const II=NI,jI=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(y1,{ref:r,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));jI.displayName=y1.displayName;const Kp=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Kp.displayName="Card";const LI=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",e),...t}));LI.displayName="CardHeader";const OI=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));OI.displayName="CardTitle";const FI=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:J("text-sm text-muted-foreground",e),...t}));FI.displayName="CardDescription";const Yp=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:J("p-6 pt-0",e),...t}));Yp.displayName="CardContent";const $I=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",e),...t}));$I.displayName="CardFooter";function VI(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Kp,{className:"w-full max-w-md mx-4",children:p.jsxs(Yp,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(Ab,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Xp=du("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?gM:"button";return p.jsx(i,{className:J(Xp({variant:t,size:n,className:e})),ref:s,...o})});qe.displayName="Button";var UI=f.createContext(void 0);function La(e){const t=f.useContext(UI);return e||t||"ltr"}var wd="rovingFocusGroup.onEntryFocus",zI={bubbles:!1,cancelable:!0},wu="RovingFocusGroup",[nh,w1,BI]=iu(wu),[qI,xu]=Zt(wu,[BI]),[HI,WI]=qI(wu),x1=f.forwardRef((e,t)=>p.jsx(nh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(nh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(GI,{...e,ref:t})})}));x1.displayName=wu;var GI=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=f.useRef(null),w=De(t,h),v=La(s),[y=null,S]=Tr({prop:i,defaultProp:a,onChange:l}),[m,g]=f.useState(!1),x=nt(c),b=w1(n),C=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(wd,x),()=>A.removeEventListener(wd,x)},[x]),p.jsx(HI,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:y,onItemFocus:f.useCallback(A=>S(A),[S]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:f.useCallback(()=>k(A=>A-1),[]),children:p.jsx(he.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...d,ref:w,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{C.current=!0}),onFocus:Z(e.onFocus,A=>{const M=!C.current;if(A.target===A.currentTarget&&M&&!m){const _=new CustomEvent(wd,zI);if(A.currentTarget.dispatchEvent(_),!_.defaultPrevented){const I=b().filter(N=>N.focusable),$=I.find(N=>N.active),j=I.find(N=>N.id===y),W=[$,j,...I].filter(Boolean).map(N=>N.ref.current);C1(W,u)}}C.current=!1}),onBlur:Z(e.onBlur,()=>g(!1))})})}),S1="RovingFocusGroupItem",b1=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=bs(),l=s||a,c=WI(S1,n),u=c.currentTabStopId===l,d=w1(n),{onFocusableItemAdd:h,onFocusableItemRemove:w}=c;return f.useEffect(()=>{if(r)return h(),()=>w()},[r,h,w]),p.jsx(nh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(he.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:Z(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Z(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=XI(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let m=d().filter(g=>g.focusable).map(g=>g.ref.current);if(y==="last")m.reverse();else if(y==="prev"||y==="next"){y==="prev"&&m.reverse();const g=m.indexOf(v.currentTarget);m=c.loop?QI(m,g+1):m.slice(g+1)}setTimeout(()=>C1(m))}})})})});b1.displayName=S1;var KI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XI(e,t,n){const r=YI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KI[r]}function C1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function QI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var E1=x1,P1=b1,ZI="Toggle",Qp=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=Tr({prop:n,onChange:o,defaultProp:r});return p.jsx(he.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:Z(e.onClick,()=>{e.disabled||a(!i)})})});Qp.displayName=ZI;var T1=Qp,ai="ToggleGroup",[k1,r3]=Zt(ai,[xu]),A1=xu(),Zp=gt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(JI,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(ej,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ai}\``)});Zp.displayName=ai;var[D1,R1]=k1(ai),JI=gt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=Tr({prop:n,defaultProp:r,onChange:o});return p.jsx(D1,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:gt.useCallback(()=>a(""),[a]),children:p.jsx(M1,{...s,ref:t})})}),ej=gt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=Tr({prop:n,defaultProp:r,onChange:o}),l=gt.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=gt.useCallback(u=>a((d=[])=>d.filter(h=>h!==u)),[a]);return p.jsx(D1,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(M1,{...s,ref:t})})});Zp.displayName=ai;var[tj,nj]=k1(ai),M1=gt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=A1(n),u=La(i),d={role:"group",dir:u,...l};return p.jsx(tj,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(E1,{asChild:!0,...c,orientation:s,dir:u,loop:a,children:p.jsx(he.div,{...d,ref:t})}):p.jsx(he.div,{...d,ref:t})})}),bc="ToggleGroupItem",_1=gt.forwardRef((e,t)=>{const n=R1(bc,e.__scopeToggleGroup),r=nj(bc,e.__scopeToggleGroup),o=A1(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=gt.useRef(null);return r.rovingFocus?p.jsx(P1,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(hy,{...a,ref:t})}):p.jsx(hy,{...a,ref:t})});_1.displayName=bc;var hy=gt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=R1(bc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Qp,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),N1=Zp,I1=_1;const j1=du("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),rj=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(T1,{ref:o,className:J(j1({variant:t,size:n,className:e})),...r}));rj.displayName=T1.displayName;const L1=f.createContext({size:"default",variant:"default"}),O1=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(N1,{ref:s,className:J("flex items-center justify-center gap-1",e),...o,children:p.jsx(L1.Provider,{value:{variant:t,size:n},children:r})}));O1.displayName=N1.displayName;const rh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(L1);return p.jsx(I1,{ref:s,className:J(j1({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});rh.displayName=I1.displayName;const E={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...e)},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...e)},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...e)}},oj="401z949o3txi3r0",xd="/Photos",Es="/Metadata",sj="images.json";function F1(e,t){const n=(t+1).toString().padStart(2,"0");return`${e}-${n}-entries.json`}const $1=Es.startsWith("/")?Es.replace("//","/"):`/${Es}`.replace("//","/"),V1=`${$1}/${sj}`.replace("//","/");function U1(e,t){const n=F1(e,t);return`${$1}/${n}`.replace("//","/")}function Cr(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function z1(e){var t;if(Cr(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function B1(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}async function q1(e,t,n){let r=null;try{E.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return E.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return E.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return E.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const u=c;if(l[u])try{l[u]=new Date(l[u]),isNaN(l[u].getTime())&&(E.warn(`Parsed invalid date for field ${String(c)}:`,a[u]),l[u]=new Date(0))}catch(d){E.warn(`Failed parse date field ${String(c)}:`,l[u],d),l[u]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[u]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return E.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(z1(o))return E.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw Cr(o)?E.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):E.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function H1(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const u=c;l[u]instanceof Date?isNaN(l[u].getTime())?(E.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[u]=null):l[u]=l[u].toISOString():(l[u]===null||l[u]===void 0)&&(l[u]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});E.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),E.log(`${t} saved successfully.`)}catch(o){throw Cr(o)?E.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):E.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function ij(e,t,n){const r=U1(t,n);return E.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),q1(e,r,["createdAt","updatedAt"])}async function aj(e){return q1(e,V1,["createdAt"])}async function Sd(e,t,n,r){const o=U1(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()===n}catch{return!1}});if(s.length===0){E.log(`No valid entries for ${t}-${n+1}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),E.log(`Deleted empty entries file: ${o}`)}catch(i){Cr(i)&&B1(i.error,"not_found")?E.log(`Empty entries file ${o} does not exist. No deletion needed.`):Cr(i)?E.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):E.error(`Non-API Error deleting ${o}:`,i)}return}await H1(e,o,s,["createdAt","updatedAt"])}async function py(e,t){await H1(e,V1,t,["createdAt"])}async function lj(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");E.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return E.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw E.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw Cr(i)?E.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):E.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function cj(e,t,n){if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return E.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),E.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(i){return Cr(i)&&B1(i.error,"not_found")?(E.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):(Cr(i)?E.error(`Dropbox API Error deleting photo ${s}: Status ${i.status}`,i.error):E.error(`Non-API Error deleting photo ${s}:`,i),!1)}}function uj(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function dj(e){try{const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return uj(n)}catch(t){throw E.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const bd="PhojoCacheDB",my=1,Ps="entries",Ts="imageMetadata",_o="photoBlobs",ks="cacheStatus";let hn=null;function W1(){return new Promise((e,t)=>{if(hn&&hn.objectStoreNames.length>0){e(hn);return}E.log(`[IDB] Opening database ${bd} version ${my}...`);const n=indexedDB.open(bd,my);n.onerror=r=>{var o;E.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{E.log(`[IDB] Database ${bd} opened successfully.`),hn=n.result,hn.onclose=()=>{E.warn("[IDB] Database connection closed unexpectedly."),hn=null},hn.onversionchange=()=>{E.warn("[IDB] Database version change detected. Closing connection."),hn==null||hn.close(),hn=null},e(hn)},n.onupgradeneeded=r=>{E.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result;o.objectStoreNames.contains(Ps)||(o.createObjectStore(Ps),E.log(`[IDB] Object store created: ${Ps}`)),o.objectStoreNames.contains(Ts)||(o.createObjectStore(Ts),E.log(`[IDB] Object store created: ${Ts}`)),o.objectStoreNames.contains(_o)||(o.createObjectStore(_o),E.log(`[IDB] Object store created: ${_o}`)),o.objectStoreNames.contains(ks)||(o.createObjectStore(ks).createIndex("lastAccessed","lastAccessed",{unique:!1}),E.log(`[IDB] Object store created: ${ks} with index 'lastAccessed'`)),E.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{E.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Jp(e,t,n){const r=await W1();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{E.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{E.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{E.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){E.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function Xs(e,t,n){await Jp(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),E.log(`[IDB] Data put successful for key '${t}' in store '${e}'.`)}async function em(e,t){return Jp(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>{r(s.result)},s.onerror=()=>{E.error(`[IDB] Data get failed for key '${t}' in store '${e}':`,s.error),o(s.error)}}))}async function Cc(e,t){await Jp(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),E.log(`[IDB] Data delete successful for key '${t}' in store '${e}'.`)}const gy=e=>em(Ps,e),fj=(e,t)=>Xs(Ps,e,{data:t,timestamp:Date.now()}),hj=e=>Cc(Ps,e),vy=()=>em(Ts,"singleton"),pj=e=>Xs(Ts,"singleton",{data:e,timestamp:Date.now()}),mj=()=>Cc(Ts,"singleton"),$l=e=>em(_o,e),yy=async(e,t,n)=>{const r=Date.now();await Xs(_o,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await Xs(ks,e,{lastAccessed:r,size:t.size,type:n})},wy=async e=>{await Cc(_o,e),await Cc(ks,e)},xy=async e=>{const t=await $l(e);if(t){const n=Date.now(),r={...t,lastAccessed:n};await Xs(_o,e,r);const o={lastAccessed:n,size:t.blob.size,type:t.type};await Xs(ks,e,o)}else E.warn(`[IDB] Tried to update access time for non-existent blob hash: ${e}`)};W1().catch(e=>E.error("[IDB] Initial DB open failed:",e));const Cd=5*60*1e3,hl=Es.startsWith("/")?Es.replace("//","/"):`/${Es}`.replace("//","/"),Sy=e=>e.isNew===!0;class Gr{constructor(){this.urlMap=new Map}static getInstance(){return Gr.instance||(Gr.instance=new Gr),Gr.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),E.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){E.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){E.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){E.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){E.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}class gj{constructor(t){this.blobUrlManager=Gr.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.dbx=t}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t){return this.blobUrlManager.getUrl(t)}revokeBlobUrl(t){this.blobUrlManager.revokeUrl(t)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);await hj(r),this.invalidateFolderListCache(hl),E.log(`[Cache] Invalidated IDB entries for ${r}`)}async invalidateImagesMetadataCache(){await mj(),this.invalidateFolderListCache(hl),E.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),E.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<Cd?(E.log(`[MemCache] Hit folder list for ${t}`),n.data):(E.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),E.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){E.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(E.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(E.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;E.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),E.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(z1(r))return E.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw Cr(r)?E.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):E.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){E.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(hl)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return E.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return E.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);E.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await gy(o);if(s){const i=Date.now()-s.timestamp<Cd;if(!r||i)return E.log(`[Cache] Using ${r?"fresh":"offline"} IDB entries for ${o}`),this.parseEntryDates(s.data);E.log(`[Cache] Stale IDB entries for ${o}. Will fetch from Dropbox.`)}else if(E.log(`[Cache] No IDB entries found for ${o}.`),!r)return E.warn(`[Cache] Offline and no cache for ${o}. Returning empty.`),[];if(r&&this.dbx){E.log(`[Dropbox] Fetching entries for ${o}...`);const i=F1(t,n),l=(await this.listFolder(hl)).some(d=>d[".tag"]==="file"&&d.name===i);let c=[];if(!l)E.log(`[Dropbox] File ${i} does not exist. Caching empty array.`);else{const d=await ij(this.dbx,t,n);c=this.parseEntryDates(d),E.log(`[Dropbox] Fetched ${c.length} entries for ${o}.`)}const u=[...c].sort((d,h)=>new Date(d.date).getTime()-new Date(h.date).getTime()||d.createdAt.getTime()-h.createdAt.getTime());return E.log(`[Cache] Storing fetched/sorted entries for ${o} in IDB.`),await fj(o,u),u}else if(r&&!this.dbx){if(E.error(`[Client] Cannot fetch entries for ${o}: Online but Dropbox client not available.`),s)return this.parseEntryDates(s.data);throw new Error("Cannot fetch entries: Dropbox client not initialized.")}}catch(s){E.error(`[Client] Error fetching entries for ${o}:`,s);const i=await gy(o).catch(()=>{});if(i)return E.warn(`[Cache] Fetch failed, falling back to stale cache for ${o}.`),this.parseEntryDates(i.data);throw s}return[]}async fetchImagesMetadata(t){E.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await vy();if(n){const r=Date.now()-n.timestamp<Cd;if(!t||r)return E.log(`[Cache] Using ${t?"fresh":"offline"} IDB metadata.`),this.parseMetadataDates(n.data);E.log("[Cache] Stale IDB metadata. Will fetch from Dropbox.")}else if(E.log("[Cache] No IDB metadata found."),!t)return E.warn("[Cache] Offline and no metadata cache. Returning empty."),[];if(t&&this.dbx){E.log("[Dropbox] Fetching image metadata...");const r=await aj(this.dbx),o=this.parseMetadataDates(r).map(s=>({...s,usageCount:typeof s.usageCount=="number"?s.usageCount:0}));return E.log(`[Dropbox] Fetched ${o.length} metadata entries.`),E.log("[Cache] Storing fetched metadata in IDB."),await pj(o),o}else if(t&&!this.dbx){if(E.error("[Client] Cannot fetch metadata: Online but Dropbox client not available."),n)return this.parseMetadataDates(n.data);throw new Error("Cannot fetch metadata: Dropbox client not initialized.")}}catch(n){E.error("[Client] Error fetching image metadata:",n);const r=await vy().catch(()=>{});if(r)return E.warn("[Cache] Metadata fetch failed, falling back to stale cache."),this.parseMetadataDates(r.data);throw n}return[]}async getPhotoBlobUrl(t,n,r){if(!t)return E.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return xy(t).catch(s=>E.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await $l(t);if(s)return E.log(`[Cache] Found blob in IDB for hash ${t}.`),await xy(t),this.blobUrlManager.createUrl(t,s.blob)}catch(s){E.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return E.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return E.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;E.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(d=>{var h;return((h=d.photoMetadata)==null?void 0:h.contentHash)===t});if(!(i!=null&&i.photoFilename))return E.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${xd}/${a}`.replace("//","/");E.log(`[Dropbox] Downloading blob for file: ${l}`);const u=(await this.dbx.filesDownload({path:l})).result.fileBlob;return u?(E.log(`[Cache] Caching fetched blob for hash ${t}. Size: ${u.size}`),await yy(t,u,"full"),this.blobUrlManager.createUrl(t,u)):(E.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null)}catch(s){return E.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var M,_,I,$;if(E.log(`[Client] saveEntry called. Edit mode: ${!!n}. Online: ${r}`),!this.dbx)throw E.error("[Client saveEntry] Cannot save: Dropbox client not available."),new Error("Dropbox client not available. Cannot save entry.");if(!t.date)throw new Error("Entry date is missing.");if(!r)throw new Error("Cannot save entry while offline.");let o=await this.fetchImagesMetadata(r),s=!1;const i=[],a=!!n,l=new Map,c=new Set((n==null?void 0:n.photos.map(j=>j.photoId))??[]),u=[];a&&c.forEach(j=>{t.photos.some(W=>!Sy(W)&&W.photoId===j)||(l.set(j,(l.get(j)??0)-1),s=!0,E.log(`[Save] Photo ${j} marked for removal (usage change -1)`))});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),h=d.getUTCFullYear(),w=d.getUTCMonth();let v=null,y=null;if(n){const j=new Date(n.date+"T00:00:00Z");v=j.getUTCFullYear(),y=j.getUTCMonth()}const S=a&&(h!==v||w!==y);for(const j of t.photos){let L=null,W,N=null,O=!1;if(Sy(j)){const D=j.file;W=j.crop,N=await dj(D);const R=o.find(F=>{var z;return((z=F.photoMetadata)==null?void 0:z.contentHash)===N});if(R)L=R.id,E.log(`[Save] Hash collision for ${D.name}. Using existing ID: ${L}`),c.has(L)||(O=!0),await $l(N)||u.push({hash:N,blob:D});else{E.log(`[Save] Uploading new photo: ${D.name}`);const F=Date.now(),z=crypto.randomUUID().substring(0,8),G=D.name.replace(/[^a-zA-Z0-9.]/g,"_"),ae=`${F}_${z}_${G}`,oe={id:crypto.randomUUID(),photoFilename:ae,photoMetadata:{filename:D.name,mimeType:D.type,width:(M=j.originalDimensions)==null?void 0:M.width,height:(_=j.originalDimensions)==null?void 0:_.height,exifDate:((I=j.exifData)==null?void 0:I.exifDate)??null,contentHash:N},createdAt:new Date,usageCount:0};await lj(this.dbx,xd,D,ae),L=oe.id,o.push(oe),s=!0,O=!0,u.push({hash:N,blob:D}),E.log(`[Save] New photo uploaded. ID: ${L}, Hash: ${N}`)}}else{L=j.photoId,W=j.crop;const D=o.find(R=>R.id===L);N=(($=D==null?void 0:D.photoMetadata)==null?void 0:$.contentHash)??null,(!a||!c.has(L))&&(O=!0),N&&(await $l(N)||E.warn(`[Save] Existing photo blob missing from cache for hash: ${N} (ID: ${L})`)),E.log(`[Save] Keeping existing photo ID: ${L}. Is addition? ${O}. Hash: ${N}`)}L&&(i.push({photoId:L,crop:W}),O&&(l.set(L,(l.get(L)??0)+1),s=!0))}l.size>0&&(E.log("[Save] Applying usage count changes:",Object.fromEntries(l)),o=o.map(j=>{const L=l.get(j.id);if(L!==void 0&&L!==0){const W=Math.max(0,(j.usageCount??0)+L);if(W!==(j.usageCount??0))return s=!0,{...j,usageCount:W}}return j}));const m=t.date.toISOString().split("T")[0],g=new Date;let x;n?x={...n,date:m,content:t.content,photos:i,updatedAt:g}:x={id:crypto.randomUUID(),date:m,content:t.content,photos:i,createdAt:g,updatedAt:g};const b=[],C=await this.fetchEntriesForMonth(h,w,r);let P;const k=C.findIndex(j=>j.id===x.id);if(k!==-1?P=[...C.slice(0,k),x,...C.slice(k+1)]:P=[...C.filter(j=>j.id!==x.id),x],P.sort((j,L)=>new Date(j.date).getTime()-new Date(L.date).getTime()||j.createdAt.getTime()-L.createdAt.getTime()),b.push(Sd(this.dbx,h,w,P).then(()=>this.invalidateEntriesCache(h,w))),S&&v!==null&&y!==null){const j=await this.fetchEntriesForMonth(v,y,r),L=j.filter(W=>W.id!==x.id);L.length<j.length&&b.push(Sd(this.dbx,v,y,L).then(()=>this.invalidateEntriesCache(v,y)))}const A=o.filter(j=>(j.usageCount??0)>0);s&&(E.log(`[Save] Saving ${A.length} metadata entries.`),b.push(py(this.dbx,A).then(()=>this.invalidateImagesMetadataCache()))),await Promise.all(b),E.log("[Save] Dropbox save promises resolved."),u.length>0&&(E.log(`[Cache] Caching ${u.length} new blobs in IDB...`),await Promise.all(u.map(j=>yy(j.hash,j.blob,"full"))),E.log("[Cache] Finished caching new blobs.")),s&&await this.cleanupOrphanedPhotos(o),E.log("[Save] saveEntry completed.")}async deleteEntry(t,n,r,o){if(E.log(`[Client] deleteEntry called for ID: ${t}. Online: ${o}`),!this.dbx)throw E.error("[Client deleteEntry] Cannot delete: Dropbox client not available."),new Error("Dropbox client not available. Cannot delete entry.");if(!o)throw new Error("Cannot delete entry while offline.");let s=await this.fetchImagesMetadata(o);const i=new Map;let a=!1;const l=[],c=await this.fetchEntriesForMonth(n,r,o),u=c.find(S=>S.id===t);if(!u)throw E.error(`[Delete] Entry ${t} not found in ${n}-${r+1}. Cannot delete.`),await this.invalidateEntriesCache(n,r),new Error(`Entry with ID ${t} not found in specified month.`);(u.photos||[]).forEach(S=>{var x;i.set(S.photoId,(i.get(S.photoId)??0)-1);const m=s.find(b=>b.id===S.photoId),g=(x=m==null?void 0:m.photoMetadata)==null?void 0:x.contentHash;g&&l.push(g),E.log(`[Delete] Photo ${S.photoId} marked for usage change -1. Hash: ${g}`)}),i.size>0&&(s=s.map(S=>{const m=i.get(S.id);if(m!==void 0){const g=Math.max(0,(S.usageCount??0)+m);if(g!==(S.usageCount??0))return a=!0,{...S,usageCount:g}}return S}));const d=c.filter(S=>S.id!==t),h=[];h.push(Sd(this.dbx,n,r,d).then(()=>this.invalidateEntriesCache(n,r)));const w=s.filter(S=>(S.usageCount??0)>0);a&&(E.log(`[Delete] Saving ${w.length} metadata entries after delete.`),h.push(py(this.dbx,w).then(()=>this.invalidateImagesMetadataCache()))),await Promise.all(h),E.log("[Delete] Dropbox save promises resolved."),a&&await this.cleanupOrphanedPhotos(s);const v=a?w:s,y=l.map(async S=>{const m=v.find(g=>{var x;return((x=g.photoMetadata)==null?void 0:x.contentHash)===S});!m||(m.usageCount??0)<=0?(E.log(`[Delete] Deleting blob from cache for hash: ${S}`),await wy(S),this.blobUrlManager.revokeUrl(S)):E.log(`[Delete] Keeping blob in cache for hash: ${S} (Usage: ${m.usageCount})`)});await Promise.all(y),E.log(`[Delete] Entry ${t} deleted successfully.`)}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async cleanupOrphanedPhotos(t){if(!this.dbx){E.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}const n=t.filter(r=>(r.usageCount??0)<=0);if(n.length>0){E.log(`[Cleanup] Found ${n.length} photos with usage count <= 0 based on current state. Attempting deletion.`);const r=n.map(async o=>{var s;if(o.photoFilename)try{if(E.log(`[Cleanup] Deleting orphaned photo file: ${o.photoFilename} (ID: ${o.id})`),await cj(this.dbx,o.photoFilename,xd)){E.log(`[Cleanup] Successfully deleted file ${o.photoFilename}`);const a=(s=o.photoMetadata)==null?void 0:s.contentHash;a&&(await wy(a),this.blobUrlManager.revokeUrl(a))}}catch(i){E.error(`[Cleanup] Error deleting orphaned photo file ${o.photoFilename}:`,i)}else E.warn(`[Cleanup] Cannot delete photo ID ${o.id}, filename missing.`)});await Promise.all(r),E.log("[Cleanup] Orphaned photo file deletion attempt complete.")}else E.log("[Cleanup] No photos with usage count <= 0 found in current state.")}triggerPrefetch(t,n,r){if(!r){E.log("[Prefetch] Skipping prefetch while offline.");return}E.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){E.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(u=>E.error(`[Prefetch] Failed for entries ${l}:`,u)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){E.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>E.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var vj="rpc",yj="upload",wj="download",Ed="app",Pd="user",Td="team",xj="noauth",Sj="cookie",Ec="dropboxapi.com",by="dropbox.com",oh={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function bj(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var kd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ec,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Ec&&oh[t]!==void 0&&(t=oh[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},Cj=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:by;return t!==by&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Cy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ec,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Ec&&(r=oh[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function Ey(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,bj)}function Ej(e){return new Date(Date.now()+e*1e3)}function Py(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof Dk>"u"||typeof window<"u"}function Ad(){return typeof window<"u"}function Dd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function pl(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function Vl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vl=function(n){return typeof n}:Vl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vl(e)}function Pj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}function kj(e){var t=G1();return function(){var r=pa(e),o;if(t){var s=pa(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return Aj(this,o)}}function Aj(e,t){return t&&(Vl(t)==="object"||typeof t=="function")?t:Dj(e)}function Dj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sh(e){var t=typeof Map=="function"?new Map:void 0;return sh=function(r){if(r===null||!Rj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Ul(r,arguments,pa(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ha(o,r)},sh(e)}function Ul(e,t,n){return G1()?Ul=Reflect.construct:Ul=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&ha(c,i.prototype),c},Ul.apply(null,arguments)}function G1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ha(e,t){return ha=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},ha(e,t)}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pa(e)}var Mj=function(e){Tj(n,e);var t=kj(n);function n(r,o,s){var i;return Pj(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(sh(Error));function _j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var K1=function e(t,n,r){_j(this,e),this.status=t,this.headers=n,this.result=r};function Y1(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new Mj(e.status,e.headers,n)})}function Pc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new K1(e.status,e.headers,n)}):Y1(e)}function Nj(e){return e.ok?new Promise(function(t){Py()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Py()?n.fileBlob=t:n.fileBinary=t,new K1(e.status,e.headers,n)}):Y1(e)}function Ij(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lj(e,t,n){return t&&jj(e.prototype,t),e}var ml,go,Rd,Oj=300*1e3,Ty=128,Fj=["legacy","offline","online"],$j=["code","token"],Vj=["none","user","team"],X1=function(){function e(t){Ij(this,e),t=t||{},Ad()?(ml=window.fetch.bind(window),go=window.crypto||window.msCrypto):Dd()?(ml=self.fetch.bind(self),go=self.crypto):(ml=require("node-fetch"),go=require("crypto")),typeof TextEncoder>"u"?Rd=require("util").TextEncoder:Rd=TextEncoder,this.fetch=t.fetch||ml,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return Lj(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new Rd,o=r.encode(this.codeVerifier),s;if(Ad()||Dd())return go.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=pl(l).substr(0,128),n.codeChallenge=s});var i=go.createHash("sha256").update(o).digest();return s=pl(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Ad()||Dd()){var r=new Uint8Array(Ty),o=go.getRandomValues(r),s=btoa(o);n=pl(s).substr(0,128)}else{var i=go.randomBytes(Ty);n=pl(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,u=this.getClientId(),d=Cj(this.domain);if(!u)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!$j.includes(s))throw new Error("Authorization type must be code or token");if(i&&!Fj.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!Vj.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(d,"?response_type=code&client_id=").concat(u):h="".concat(d,"?response_type=token&client_id=").concat(u),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Cy(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return Pc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+Oj)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Cy(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return Pc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(Ej(c.result.expires_in))})}}]),e}();function Uj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bj(e,t,n){return t&&zj(e.prototype,t),e}var qj=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,ky=function(){function e(t){Uj(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new X1(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return Bj(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case vj:return this.rpcRequest(n,r,o,s);case wj:return this.downloadRequest(n,r,o,s);case yj:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(kd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Pc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":Ey(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(kd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Nj(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Ey(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(kd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Pc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Pd)&&this.auth.getAccessToken()?n=Pd:o.includes(Td)&&this.auth.getAccessToken()?n=Td:o.includes(Ed)&&(n=Ed)}switch(n){case Ed:if(this.auth.clientId&&this.auth.clientSecret){var s=qj("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Td:case Pd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case xj:case Sj:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function Hj(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function Wj(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[u,d]=f.useState(null),h=f.useCallback(()=>{E.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const S=new X1({clientId:oj}),m=window.location.origin+window.location.pathname;S.getAuthenticationUrl(m,void 0,"token").then(g=>{E.log("Generated auth URL, redirecting..."),window.location.href=String(g)}).catch(g=>{E.error("Dropbox auth URL generation failed:",g),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(S){E.error("Dropbox auth initialization failed:",S),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{E.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),d(null),c(null),h()},[h]);const w=f.useCallback((S,m=!1)=>{E.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(E.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(E.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const g=new ky({accessToken:S});let x=!0;return g.usersGetCurrentAccount().then(b=>{if(!x)return;const C=b.result;t(g),r(!0),d(C),c(null),E.log("[useDropboxAuth initializeAndVerify] Token verified. User:",C.name.display_name)}).catch(b=>{if(x)if(E.error("[useDropboxAuth initializeAndVerify] Token verification failed:",b),r(!1),t(null),d(null),Hj(b))E.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{E.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const C=b instanceof Error?b.message:String(b);c(new Error(`Failed to verify Dropbox connection: ${C}`))}}).finally(()=>{x&&(E.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{x=!1}},[n]);f.useEffect(()=>{E.log("[useDropboxAuth useEffect] Running effect.");let S,g=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const x=localStorage.getItem("dropboxToken");let b=null;return g?(E.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",g),b=g,E.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):x&&(E.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),b=x),b?S=w(b,!1):(E.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),d(null),c(null),s(!1)),()=>{S==null||S(),E.log("[useDropboxAuth useEffect] Cleanup.")}},[w]);const v=f.useCallback(()=>{E.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const S=localStorage.getItem("dropboxToken");S&&!n&&!o&&!i?w(S,!0):E.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!S,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,w]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:u,handleDropboxAuthRedirect:h,logout:()=>{E.log("Logging out.");const S=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),d(null),c(null),s(!1),a(!1),S&&new ky({accessToken:S}).authTokenRevoke().then(()=>E.log("Dropbox token revoked successfully.")).catch(g=>E.error("Failed to revoke Dropbox token:",g))},tryVerifyStoredToken:v}}function Gj(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),u=f.useCallback((m,g)=>{const x=new Date(g,m),b=new Date(o,n);x>b?a(1):x<b?a(-1):a(0),r(m),s(g)},[n,o]),d=f.useCallback(()=>{let m=n,g=o;m===0?(g--,m=11):m--,u(m,g)},[n,o,u]),h=f.useCallback(()=>{let m=n,g=o;m===11?(g++,m=0):m++,u(m,g)},[n,o,u]),w=f.useCallback((m,g)=>{u(m,g),c(!1)},[u]),v=f.useCallback(m=>{m>0?h():m<0&&d()},[h,d]),y=f.useCallback(()=>c(!0),[]),S=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:d,goToNextMonth:h,handleMonthYearSelect:w,handleCalendarSwipe:v,openMonthYearPicker:y,closeMonthYearPicker:S,setSwipeDirection:a}}function Kj(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),u=f.useCallback((v,y)=>{s(v),r(y),a(!1),t(!0)},[]),d=f.useCallback(v=>{c(v),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),w=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:u,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:d,closeDeleteDialog:w}}const Md=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",ih=()=>{const t=f.useRef(Math.random().toString(36).substring(2,7)).current;E.log(`[useHashLocation ${t}] Hook running/re-rendering.`);const[n,r]=f.useState(Md());f.useEffect(()=>{const s=()=>{const i=Md();E.log(`[useHashLocation ${t}] Hashchange event detected. Old path: "${n}", New path: "${i}"`),i!==n&&r(i)};return E.log(`[useHashLocation ${t}] Adding hashchange listener.`),window.addEventListener("hashchange",s),()=>{E.log(`[useHashLocation ${t}] Removing hashchange listener.`),window.removeEventListener("hashchange",s)}},[t,n]);const o=f.useCallback((s,{replace:i=!1}={})=>{E.log(`[useHashLocation ${t}] Redefining navigate function.`);const l=`#${s.startsWith("/")?s:`/${s}`}`,c=window.location.hash||"#/";if(E.log(`[useHashLocation ${t}] Navigate called. To: "${s}", TargetHash: "${l}", CurrentHash: "${c}", Replace: ${i}`),l===c){E.log(`[useHashLocation ${t}] Navigation skipped, already at target hash.`);return}i?(E.log(`[useHashLocation ${t}] Using location.replace with target hash: ${l}`),window.location.replace(l)):(E.log(`[useHashLocation ${t}] Setting location.hash to target hash: ${l}`),window.location.hash=l)},[t]);return f.useEffect(()=>{E.log(`[useHashLocation ${t}] Starting interval timer.`);let s=window.location.hash;const i=setInterval(()=>{const a=window.location.hash;if(a!==s){const l=Md();E.log(`[useHashLocation ${t}] Interval check detected hash change. Raw: "${s}" -> "${a}". Logical path: "${l}". State path: "${n}"`),l!==n&&r(l),s=a}},250);return()=>{E.log(`[useHashLocation ${t}] Clearing interval timer.`),clearInterval(i)}},[n,t]),[n,o]},Q1=f.createContext(void 0),Yj=({children:e})=>{const{toast:t}=Na(),[,n]=ih(),r=f.useRef(!0),o=Wj(),s=Gj(new Date().getMonth(),new Date().getFullYear()),i=Kj(),[a,l]=f.useState(null),[c,u]=f.useState(!1),[d,h]=f.useState(navigator.onLine),w=f.useRef(d),[v,y]=f.useState([]),[S,m]=f.useState(!1),[g,x]=f.useState(null),[b,C]=f.useState([]),[P,k]=f.useState(!1),[A,M]=f.useState(null),[_,I]=f.useState(!1),[$,j]=f.useState(null),[L,W]=f.useState("calendar"),[N,O]=f.useState(null),[D,R]=f.useState(null),F=Gr.getInstance();f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{const B=()=>r.current&&h(!0),q=()=>r.current&&h(!1);return window.addEventListener("online",B),window.addEventListener("offline",q),E.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),w.current=navigator.onLine,()=>{window.removeEventListener("online",B),window.removeEventListener("offline",q),F.revokeAllUrls()}},[F]),f.useEffect(()=>{!w.current&&d&&(E.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(E.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):E.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),w.current=d},[d,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{if(u(!1),o.isLoadingAuth)E.log("[AppContext] Auth still loading, client not initialized yet."),l(null),u(!1);else{E.log("[AppContext] Auth loading finished. Initializing PhotoClient...");const B=new gj(o.dbx);l(B),u(!0),E.log("[AppContext] PhotoClient initialized."),k(!0),M(null),B.fetchImagesMetadata(d).then(q=>{r.current&&C(q),E.log(`[AppContext] Initial metadata fetch/load success. Count: ${q.length}`)}).catch(q=>{E.error("[AppContext] Err fetch/load initial metadata:",q),r.current&&M(q instanceof Error?q:new Error("Failed metadata load"))}).finally(()=>{r.current&&k(!1)})}},[o.isLoadingAuth,o.dbx,d]),f.useEffect(()=>{if(c&&a){m(!0),x(null);const B=s.currentYear,q=s.currentMonth;E.log(`[AppContext] Fetching entries effect triggered for ${B}-${q+1}. Online: ${d}`),a.fetchEntriesForMonth(B,q,d).then(K=>{E.log(`[AppContext] Fetched/Loaded ${K.length} entries for ${B}-${q+1}`),r.current&&(y(K),d&&o.isAuthenticated&&a.triggerPrefetch(B,q,d))}).catch(K=>{E.error(`[AppContext] Err fetch/load entries for ${B}-${q+1}:`,K),r.current&&x(K instanceof Error?K:new Error("Failed entries load"))}).finally(()=>{E.log(`[AppContext] Finished fetching/loading entries for ${B}-${q+1}. isLoadingEntries: false`),r.current&&m(!1)})}else y([]),m(!1),x(null),E.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,d,o.isAuthenticated]),f.useCallback(()=>{F.revokeAllUrls(),o.logout(),O(null),R(null),y([]),C([]),l(null),u(!1)},[o,F]),f.useEffect(()=>{j(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{A&&t({title:"Metadata Error",description:A.message,variant:"destructive"})},[A,t]),f.useEffect(()=>{g&&t({title:"Entries Error",description:g.message,variant:"destructive"})},[g,t]),f.useEffect(()=>{$&&t({title:"Operation Error",description:$.message,variant:"destructive"})},[$,t]),f.useEffect(()=>{const B=window.location.hash;if(B.startsWith("#shareKey=")){const q=B.substring(10);q&&(R(q),n(window.location.pathname+window.location.search,{replace:!0}))}},[n]),f.useEffect(()=>{const B=q=>{if(navigator.serviceWorker.controller){const K={type:"GET_STORED_FILES",key:q};navigator.serviceWorker.controller.postMessage(K),R(null)}else E.warn(`[App Context] SW controller not ready for key: ${q}`)};D&&(navigator.serviceWorker.controller?B(D):navigator.serviceWorker.ready.then(q=>{q.active&&D?B(D):q.active||E.error("[App Context] Service worker not active after ready.")}))},[D]),f.useEffect(()=>{const B=se=>{const Y=se.data;Y&&(Y.type==="SHARED_FILES_READY"&&Y.key?navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:Y.key}):(E.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"})):Y.type==="STORED_FILES_DATA"&&Y.files?Y.files.length>0?O(Y.files):(E.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):Y.type==="STORED_FILES_ERROR"&&(E.error("[App Context] Received STORED_FILES_ERROR:",Y.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${Y.error||"Unknown error"}`,variant:"destructive"})))},q=se=>{r.current&&B(se)};let K=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(se=>{se.active&&r.current?(navigator.serviceWorker.addEventListener("message",q),K=!0,E.log("[App Context] Service worker message listener attached.")):E.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(K&&"serviceWorker"in navigator){E.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",q)}catch(se){E.warn("[App Context] Error removing SW message listener:",se)}}}},[t]),f.useEffect(()=>{o.isAuthenticated&&!o.isLoadingAuth&&N&&N.length>0&&(E.log("[AppContext] Pending shared files detected, navigating to /entry/new"),n("/entry/new"))},[o.isAuthenticated,o.isLoadingAuth,N,n]);const z=f.useCallback(()=>{O(null)},[]),G=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoBlobUrl(B,q,d)}catch(K){return E.error(`getPhotoBlobUrl Error for hash ${B} (ID ${q}):`,K),null}},[a,c,d]),ae=f.useCallback(async B=>{if(!c||!a)throw new Error("Client not ready");let q=[];try{q=await a.fetchImagesMetadata(d),r.current&&b.length===0&&q.length>0&&C(q)}catch(Y){E.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",Y),q=b}const K=(B.photos||[]).map(async Y=>{let ue=null;const Ce=q.find(et=>et.id===Y.photoId),le=(Ce==null?void 0:Ce.photoMetadata)??null,ke=(Ce==null?void 0:Ce.photoFilename)??null,Ae=le==null?void 0:le.contentHash;return Ae?ue=await G(Ae,Y.photoId):E.warn(`Metadata or contentHash missing for photoId: ${Y.photoId}`),{...Y,photoUrl:ue,photoMetadata:le,photoFilename:ke}}),se=await Promise.all(K);return{...B,photos:se}},[a,c,b,d,G]),oe=f.useCallback(async()=>{if(L!=="calendar"||!r.current||!c||!a)return;const B=document.querySelectorAll(".day-with-image");if(v.length===0||B.length===0)return;const q=new Map;v.forEach(le=>{if(le.photos&&le.photos.length>0){const ke=q.get(le.date),Ae=le.createdAt instanceof Date?le.createdAt:new Date(le.createdAt),et=(ke==null?void 0:ke.createdAt)instanceof Date?ke.createdAt:new Date(0);(!ke||Ae.getTime()>et.getTime())&&q.set(le.date,le)}});let K=[];try{K=await a.fetchImagesMetadata(d),r.current&&b.length===0&&K.length>0&&C(K)}catch(le){E.error("[loadDayBackgrounds] Failed fetch/load metadata:",le),K=b}const se=(le,ke,Ae)=>{var xe;if(!r.current)return;const et=ke.crop,je=Ae==null?void 0:Ae.width,Le=Ae==null?void 0:Ae.height,ze=(xe=le.parentElement)==null?void 0:xe.getBoundingClientRect(),at=(ze==null?void 0:ze.width)??0;if(et&&je&&Le&&je>0&&Le>0&&et.w>0&&at>0){const Ne=at/et.w,yt=je*Ne,U=Le*Ne,te=-et.x*Ne,ce=-et.y*Ne;Object.assign(le.style,{width:`${yt}px`,height:`${U}px`,transform:`translate(${te}px, ${ce}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(le.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&le.classList.add("img-loaded")})},Y=le=>{le.src&&le.src.startsWith("blob:")&&F.revokeUrl(le.getAttribute("data-content-hash")??""),le.removeAttribute("src"),Object.assign(le.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),le.classList.remove("img-loaded"),le.removeAttribute("data-photo-id"),le.removeAttribute("data-content-hash")},ue=new Set;B.forEach(le=>{var ze,at;const ke=le.getAttribute("data-day");if(!ke)return;const et=new Date(Date.UTC(s.currentYear,s.currentMonth,parseInt(ke))).toISOString().split("T")[0],je=q.get(et),Le=(ze=je==null?void 0:je.photos)==null?void 0:ze[0];if(Le!=null&&Le.photoId){const xe=K.find(yt=>yt.id===Le.photoId),Ne=(at=xe==null?void 0:xe.photoMetadata)==null?void 0:at.contentHash;Ne&&ue.add(Ne)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(le=>{const ke=le,Ae=ke.getAttribute("data-content-hash");Ae&&!ue.has(Ae)&&Y(ke)});const Ce=Array.from(B).map(async le=>{var U,te;const ke=le.getAttribute("data-day");if(!ke)return;const et=new Date(Date.UTC(s.currentYear,s.currentMonth,parseInt(ke))).toISOString().split("T")[0],je=le.querySelector(".calendar-day-img");if(!je)return;const Le=q.get(et),ze=(U=Le==null?void 0:Le.photos)==null?void 0:U[0],at=(ze==null?void 0:ze.photoId)??null,xe=at?K.find(ce=>ce.id===at):null,Ne=((te=xe==null?void 0:xe.photoMetadata)==null?void 0:te.contentHash)??null,yt=je.getAttribute("data-content-hash");if(yt&&yt!==Ne&&Y(je),Ne&&a&&yt!==Ne&&at&&ze&&(xe!=null&&xe.photoMetadata)){je.setAttribute("data-photo-id",at),je.setAttribute("data-content-hash",Ne);const ce=await G(Ne,at);ce&&r.current&&je.getAttribute("data-content-hash")===Ne?(je.src=ce,se(je,ze,xe.photoMetadata)):r.current&&je.getAttribute("data-content-hash")===Ne&&Y(je)}else!Ne&&yt&&Y(je)});await Promise.all(Ce)},[a,c,v,s,b,L,d,G,F]);f.useEffect(()=>{let B=null;return L==="calendar"&&c&&a?B=setTimeout(()=>{r.current&&(E.log("[AppContext] Triggering loadDayBackgrounds from effect."),oe())},150):document.querySelectorAll(".calendar-day-img").forEach(q=>{const K=q;K.src&&K.src.startsWith("blob:")&&F.revokeUrl(K.getAttribute("data-content-hash")??""),K.removeAttribute("src"),Object.assign(K.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),K.classList.remove("img-loaded"),K.removeAttribute("data-photo-id"),K.removeAttribute("data-content-hash")}),()=>{B&&clearTimeout(B)}},[oe,L,F,v,b,c,a]);const Ze=f.useCallback(B=>{const K=new Date(Date.UTC(s.currentYear,s.currentMonth,B)).toISOString().split("T")[0];return v.filter(se=>se.date===K)},[v,s.currentMonth,s.currentYear]),Re=f.useCallback(B=>v.find(q=>q.id===B),[v]),pe=f.useCallback(async B=>{if(E.log(`[AppContext] loadSpecificEntry called for ID: ${B}`),!c||!a)return E.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const q=Re(B);if(q)return q;E.log(`[AppContext] loadSpecificEntry: Entry ${B} not in current month. Searching...`);try{const K=await a.listEntryFiles();if(!K)return E.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const se of K){const Y=se.match(/^(\d{4})-(\d{2})-entries\.json$/);if(Y){const ue=parseInt(Y[1],10),Ce=parseInt(Y[2],10)-1;if(ue===s.currentYear&&Ce===s.currentMonth)continue;const ke=(await a.fetchEntriesForMonth(ue,Ce,d)).find(Ae=>Ae.id===B);if(ke)return E.log(`[AppContext] loadSpecificEntry: Entry ${B} found in ${ue}-${Ce+1}`),ke}}}catch(K){E.error("[AppContext] loadSpecificEntry: Error searching other months:",K)}return E.warn(`[AppContext] loadSpecificEntry: Entry ${B} not found in any month.`),null},[a,c,Re,s.currentYear,s.currentMonth,d]),_e=f.useCallback(async B=>{if(E.log(`[AppContext handleDayClick] START - Day: ${B}, isClientReady: ${c}, isOnline: ${d}`),!c||!a){E.log("[AppContext handleDayClick] EXIT - Client not ready");return}const q=Ze(B),K=new Date(Date.UTC(s.currentYear,s.currentMonth,B));if(E.log(`[AppContext handleDayClick] Day: ${B}, Entries found: ${q.length}`),q.length>0)E.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(K,q);else{if(!d){E.log("[AppContext handleDayClick] Offline, showing toast."),t({title:"Offline",description:"Cannot create new entries while offline.",variant:"destructive"});return}const se=K.toISOString().split("T")[0];E.log("[AppContext handleDayClick] Navigating to /entry/new for date:",se),n(`/entry/new?date=${se}`)}},[a,c,s.currentMonth,s.currentYear,Ze,i.openViewEntriesModal,n,d,t]),Se=f.useCallback(B=>{if(!d){t({title:"Offline",description:"Cannot edit entries while offline.",variant:"destructive"});return}n(`/entry/edit/${B}`)},[n,d,t]),Ue=f.useCallback(B=>{if(!d){t({title:"Offline",description:"Cannot delete entries while offline.",variant:"destructive"});return}i.openDeleteConfirmation(B)},[i.openDeleteConfirmation,d,t]),be=f.useCallback(async(B,q)=>{if(!c||!a)return j(new Error("Client not ready.")),!1;if(!d)return t({title:"Offline",description:"Cannot save entry while offline.",variant:"destructive"}),j(new Error("Cannot save entry while offline.")),!1;if(!o.isAuthenticated)return t({title:"Authentication Required",description:"Please log in to save entries.",variant:"destructive"}),j(new Error("Authentication Required")),!1;I(!0),j(null),x(null);try{await a.saveEntry(B,q,d);const K=B.date.getUTCFullYear(),se=B.date.getUTCMonth();let Y=null,ue=null;if(q){const Le=new Date(q.date+"T00:00:00Z");Y=Le.getUTCFullYear(),ue=Le.getUTCMonth()}const Ce=a.fetchImagesMetadata(d).catch(Le=>(E.error("Save Success: Failed post-save metadata refresh:",Le),b)),le=a.fetchEntriesForMonth(K,se,d).catch(Le=>{throw E.error(`Save Success: Failed post-save target month entries refresh (${K}-${se+1}):`,Le),new Error("Failed to reload entries after save.")}),ke=q&&(Y!==K||ue!==se)&&Y===s.currentYear&&ue===s.currentMonth?a.fetchEntriesForMonth(s.currentYear,s.currentMonth,d).catch(Le=>(E.error("Save Success: Failed post-save current month entries refresh after date change:",Le),v)):Promise.resolve(null),[Ae,et,je]=await Promise.all([Ce,le,ke]);return r.current&&(C(Ae),K===s.currentYear&&se===s.currentMonth?y(et):je!==null?y(je):Y===s.currentYear&&ue===s.currentMonth&&a.fetchEntriesForMonth(s.currentYear,s.currentMonth,d).then(Le=>r.current&&y(Le)).catch(Le=>E.error("Error refetching current month after date change:",Le)),d&&a.triggerPrefetch(s.currentYear,s.currentMonth,d),(K!==s.currentYear||se!==s.currentMonth)&&s.handleMonthYearSelect(se,K),n("/")),!0}catch(K){return E.error("[AppContext] Save Err: Failed save entry:",K),r.current&&j(K instanceof Error?K:new Error("Failed to save entry")),!1}finally{r.current&&I(!1)}},[a,c,b,s,n,o.isAuthenticated,i,d,t,v]),Q=f.useCallback(async()=>{if(!c||!i.entryToDeleteId||!a)return;if(!d){t({title:"Offline",description:"Cannot delete entry while offline.",variant:"destructive"}),j(new Error("Cannot delete entry while offline.")),i.closeDeleteDialog();return}if(!o.isAuthenticated){t({title:"Authentication Required",description:"Please log in to delete entries.",variant:"destructive"}),j(new Error("Authentication Required")),i.closeDeleteDialog();return}I(!0),j(null),x(null);let B,q;const K=v.find(se=>se.id===i.entryToDeleteId)||i.selectedBasicEntriesForModal.find(se=>se.id===i.entryToDeleteId);if(K){const se=new Date(K.date+"T00:00:00Z");B=se.getUTCFullYear(),q=se.getUTCMonth()}else{E.error(`Delete Error: Could not find entry source for ID ${i.entryToDeleteId}`);const se=await pe(i.entryToDeleteId);if(se){const Y=new Date(se.date+"T00:00:00Z");B=Y.getUTCFullYear(),q=Y.getUTCMonth(),E.log(`Found entry ${i.entryToDeleteId} in month ${B}-${q+1} for deletion.`)}else{j(new Error("Could not find entry's date to perform delete.")),I(!1),i.closeDeleteDialog();return}}if(B===void 0||q===void 0){j(new Error("Entry month/year could not be determined.")),I(!1),i.closeDeleteDialog();return}try{await a.deleteEntry(i.entryToDeleteId,B,q,d);const se=s.currentYear,Y=s.currentMonth,ue=a.fetchImagesMetadata(d).catch(Ae=>(E.error("Delete Success: Failed post-delete metadata refresh:",Ae),b)),Ce=B===se&&q===Y?a.fetchEntriesForMonth(se,Y,d).catch(Ae=>(E.error("Delete Success: Failed post-delete current month entries refresh:",Ae),v)):Promise.resolve(null),[le,ke]=await Promise.all([ue,Ce]);r.current&&(C(le),ke!==null&&y(ke),i.closeViewModal(),i.closeDeleteDialog(),d&&a.triggerPrefetch(se,Y,d))}catch(se){E.error("[AppContext] Delete Err: Failed delete entry:",se),r.current&&j(se instanceof Error?se:new Error("Failed to delete entry"))}finally{r.current&&(I(!1),i.isDeleteDialogOpen&&i.closeDeleteDialog())}},[a,c,i,v,s,b,d,t,pe,o.isAuthenticated]),ve={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:d,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:L,setMonthViewType:W,currentMonthEntries:v,isLoadingEntries:S,imagesMetadata:b,isLoadingImagesMeta:P,entriesError:g,operationError:$,imagesMetaError:A,setEntriesError:x,setImagesMetaError:M,clearOperationError:()=>j(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:_,handleSaveEntry:be,handleDeleteEntry:Q,loadDayBackgrounds:oe,getPhotoBlobUrl:G,getCombinedEntryDetails:ae,getEntriesForDay:Ze,getEntryById:Re,loadSpecificEntry:pe,handleDayClick:_e,handleEditRequest:Se,handleDeleteRequest:Ue,pendingSharedFiles:N,clearPendingSharedFiles:z,setPendingSharedFiles:O,navigate:n};return p.jsx(Q1.Provider,{value:ve,children:e})},or=()=>{const e=f.useContext(Q1);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e};var Xj=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function u(w){(Array.isArray(e)?e:[e]).forEach(v=>{let y=v==="class",S=y&&s?o.map(m=>s[m]||m):o;y?(l.classList.remove(...S),l.classList.add(s&&s[w]?s[w]:w)):l.setAttribute(v,w)}),d(w)}function d(w){a&&c.includes(w)&&(l.style.colorScheme=w)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let w=localStorage.getItem(t)||n,v=i&&w==="system"?h():w;u(v)}catch{}},Ay=["light","dark"],Z1="(prefers-color-scheme: dark)",Qj=typeof window>"u",tm=f.createContext(void 0),Zj={setTheme:e=>{},themes:[]},nm=()=>{var e;return(e=f.useContext(tm))!=null?e:Zj},Jj=e=>f.useContext(tm)?f.createElement(f.Fragment,null,e.children):f.createElement(tL,{...e}),eL=["light","dark"],tL=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=eL,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u,scriptProps:d})=>{let[h,w]=f.useState(()=>rL(o,i)),[v,y]=f.useState(()=>h==="system"?_d():h),S=l?Object.values(l):s,m=f.useCallback(C=>{let P=C;if(!P)return;C==="system"&&n&&(P=_d());let k=l?l[P]:P,A=t?oL(u):null,M=document.documentElement,_=I=>{I==="class"?(M.classList.remove(...S),k&&M.classList.add(k)):I.startsWith("data-")&&(k?M.setAttribute(I,k):M.removeAttribute(I))};if(Array.isArray(a)?a.forEach(_):_(a),r){let I=Ay.includes(i)?i:null,$=Ay.includes(P)?P:I;M.style.colorScheme=$}A==null||A()},[u]),g=f.useCallback(C=>{let P=typeof C=="function"?C(h):C;w(P);try{localStorage.setItem(o,P)}catch{}},[h]),x=f.useCallback(C=>{let P=_d(C);y(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let C=window.matchMedia(Z1);return C.addListener(x),x(C),()=>C.removeListener(x)},[x]),f.useEffect(()=>{let C=P=>{P.key===o&&(P.newValue?w(P.newValue):g(i))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[g]),f.useEffect(()=>{m(e??h)},[e,h]);let b=f.useMemo(()=>({theme:h,setTheme:g,forcedTheme:e,resolvedTheme:h==="system"?v:h,themes:n?[...s,"system"]:s,systemTheme:n?v:void 0}),[h,g,e,v,n,s]);return f.createElement(tm.Provider,{value:b},f.createElement(nL,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:u,scriptProps:d}),c)},nL=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Xj.toString()})(${u})`}})}),rL=(e,t)=>{if(Qj)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},oL=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},_d=e=>(e||(e=window.matchMedia(Z1)),e.matches?"dark":"light"),rm="Avatar",[sL,o3]=Zt(rm),[iL,J1]=sL(rm),eC=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(iL,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(he.span,{...r,ref:t})})});eC.displayName=rm;var tC="AvatarImage",nC=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=J1(tC,n),a=aL(r,s),l=nt(c=>{o(c),i.onImageLoadingStatusChange(c)});return En(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(he.img,{...s,ref:t,src:r}):null});nC.displayName=tC;var rC="AvatarFallback",oC=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=J1(rC,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(he.span,{...o,ref:t}):null});oC.displayName=rC;function Dy(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function aL(e,{referrerPolicy:t,crossOrigin:n}){const r=cL(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>Dy(s,e));return En(()=>{a(Dy(s,e))},[s,e]),En(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,n,t]),i}function lL(){return()=>{}}function cL(){return f.useSyncExternalStore(lL,()=>!0,()=>!1)}var sC=eC,iC=nC,aC=oC;const lC=f.forwardRef(({className:e,...t},n)=>p.jsx(sC,{ref:n,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));lC.displayName=sC.displayName;const uL=f.forwardRef(({className:e,...t},n)=>p.jsx(iC,{ref:n,className:J("aspect-square h-full w-full",e),...t}));uL.displayName=iC.displayName;const cC=f.forwardRef(({className:e,...t},n)=>p.jsx(aC,{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));cC.displayName=aC.displayName;var Nd=0;function uC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ry()),document.body.insertAdjacentElement("beforeend",e[1]??Ry()),Nd++,()=>{Nd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nd--}},[])}function Ry(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Id="focusScope.autoFocusOnMount",jd="focusScope.autoFocusOnUnmount",My={bubbles:!1,cancelable:!0},dL="FocusScope",om=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=nt(o),u=nt(s),d=f.useRef(null),h=De(t,y=>l(y)),w=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(x){if(w.paused||!a)return;const b=x.target;a.contains(b)?d.current=b:Nr(d.current,{select:!0})},S=function(x){if(w.paused||!a)return;const b=x.relatedTarget;b!==null&&(a.contains(b)||Nr(d.current,{select:!0}))},m=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&Nr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const g=new MutationObserver(m);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),g.disconnect()}}},[r,a,w.paused]),f.useEffect(()=>{if(a){Ny.add(w);const y=document.activeElement;if(!a.contains(y)){const m=new CustomEvent(Id,My);a.addEventListener(Id,c),a.dispatchEvent(m),m.defaultPrevented||(fL(vL(dC(a)),{select:!0}),document.activeElement===y&&Nr(a))}return()=>{a.removeEventListener(Id,c),setTimeout(()=>{const m=new CustomEvent(jd,My);a.addEventListener(jd,u),a.dispatchEvent(m),m.defaultPrevented||Nr(y??document.body,{select:!0}),a.removeEventListener(jd,u),Ny.remove(w)},0)}}},[a,c,u,w]);const v=f.useCallback(y=>{if(!n&&!r||w.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,m=document.activeElement;if(S&&m){const g=y.currentTarget,[x,b]=hL(g);x&&b?!y.shiftKey&&m===b?(y.preventDefault(),n&&Nr(x,{select:!0})):y.shiftKey&&m===x&&(y.preventDefault(),n&&Nr(b,{select:!0})):m===g&&y.preventDefault()}},[n,r,w.paused]);return p.jsx(he.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});om.displayName=dL;function fL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Nr(r,{select:t}),document.activeElement!==n)return}function hL(e){const t=dC(e),n=_y(t,e),r=_y(t.reverse(),e);return[n,r]}function dC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _y(e,t){for(const n of e)if(!pL(n,{upTo:t}))return n}function pL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mL(e){return e instanceof HTMLInputElement&&"select"in e}function Nr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mL(e)&&t&&e.select()}}var Ny=gL();function gL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Iy(e,t),e.unshift(t)},remove(t){var n;e=Iy(e,t),(n=e[0])==null||n.resume()}}}function Iy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function vL(e){return e.filter(t=>t.tagName!=="A")}var yL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yo=new WeakMap,gl=new WeakMap,vl={},Ld=0,fC=function(e){return e&&(e.host||fC(e.parentNode))},wL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xL=function(e,t,n,r){var o=wL(t,Array.isArray(e)?e:[e]);vl[n]||(vl[n]=new WeakMap);var s=vl[n],i=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var w=h.getAttribute(r),v=w!==null&&w!=="false",y=(Yo.get(h)||0)+1,S=(s.get(h)||0)+1;Yo.set(h,y),s.set(h,S),i.push(h),y===1&&v&&gl.set(h,!0),S===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return u(t),a.clear(),Ld++,function(){i.forEach(function(d){var h=Yo.get(d)-1,w=s.get(d)-1;Yo.set(d,h),s.set(d,w),h||(gl.has(d)||d.removeAttribute(r),gl.delete(d)),w||d.removeAttribute(n)}),Ld--,Ld||(Yo=new WeakMap,Yo=new WeakMap,gl=new WeakMap,vl={})}},hC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=yL(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),xL(r,o,n,"aria-hidden")):function(){return null}},Xn=function(){return Xn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xn.apply(this,arguments)};function pC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function SL(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var zl="right-scroll-bar-position",Bl="width-before-scroll-bar",bL="with-scroll-bars-hidden",CL="--removed-body-scroll-bar-size";function Od(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EL(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var PL=typeof window<"u"?f.useLayoutEffect:f.useEffect,jy=new WeakMap;function TL(e,t){var n=EL(null,function(r){return e.forEach(function(o){return Od(o,r)})});return PL(function(){var r=jy.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||Od(a,null)}),s.forEach(function(a){o.has(a)||Od(a,i)})}jy.set(n,e)},[e]),n}function kL(e){return e}function AL(e,t){t===void 0&&(t=kL);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return o}function DL(e){e===void 0&&(e={});var t=AL(null);return t.options=Xn({async:!0,ssr:!1},e),t}var mC=function(e){var t=e.sideCar,n=pC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Xn({},n))};mC.isSideCarExport=!0;function RL(e,t){return e.useMedium(t),mC}var gC=DL(),Fd=function(){},Su=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Fd,onWheelCapture:Fd,onTouchMoveCapture:Fd}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,w=e.noIsolation,v=e.inert,y=e.allowPinchZoom,S=e.as,m=S===void 0?"div":S,g=e.gapMode,x=pC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,C=TL([n,t]),P=Xn(Xn({},x),o);return f.createElement(f.Fragment,null,u&&f.createElement(b,{sideCar:gC,removeScrollBar:c,shards:d,noIsolation:w,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:g}),i?f.cloneElement(f.Children.only(a),Xn(Xn({},P),{ref:C})):f.createElement(m,Xn({},P,{className:l,ref:C}),a))});Su.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Su.classNames={fullWidth:Bl,zeroRight:zl};var ML=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _L(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ML();return t&&e.setAttribute("nonce",t),e}function NL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_L())&&(NL(t,n),IL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LL=function(){var e=jL();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},vC=function(){var e=LL(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},OL={left:0,top:0,right:0,gap:0},$d=function(e){return parseInt(e||"",10)||0},FL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[$d(n),$d(r),$d(o)]},$L=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OL;var t=FL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},VL=vC(),As="data-scroll-locked",UL=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(bL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(As,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zl," .").concat(zl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bl," .").concat(Bl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(As,`] {
    `).concat(CL,": ").concat(a,`px;
  }
`)},Ly=function(){var e=parseInt(document.body.getAttribute(As)||"0",10);return isFinite(e)?e:0},zL=function(){f.useEffect(function(){return document.body.setAttribute(As,(Ly()+1).toString()),function(){var e=Ly()-1;e<=0?document.body.removeAttribute(As):document.body.setAttribute(As,e.toString())}},[])},BL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;zL();var s=f.useMemo(function(){return $L(o)},[o]);return f.createElement(VL,{styles:UL(s,!t,o,n?"":"!important")})},ah=!1;if(typeof window<"u")try{var yl=Object.defineProperty({},"passive",{get:function(){return ah=!0,!0}});window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{ah=!1}var Xo=ah?{passive:!1}:!1,qL=function(e){return e.tagName==="TEXTAREA"},yC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!qL(e)&&n[t]==="visible")},HL=function(e){return yC(e,"overflowY")},WL=function(e){return yC(e,"overflowX")},Oy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=wC(e,r);if(o){var s=xC(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},KL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wC=function(e,t){return e==="v"?HL(t):WL(t)},xC=function(e,t){return e==="v"?GL(t):KL(t)},YL=function(e,t){return e==="h"&&t==="rtl"?-1:1},XL=function(e,t,n,r,o){var s=YL(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,u=i>0,d=0,h=0;do{var w=xC(e,a),v=w[0],y=w[1],S=w[2],m=y-S-s*v;(v||m)&&wC(e,a)&&(d+=m,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(d)<1||!o)||!u&&(Math.abs(h)<1||!o))&&(c=!0),c},wl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fy=function(e){return[e.deltaX,e.deltaY]},$y=function(e){return e&&"current"in e?e.current:e},QL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JL=0,Qo=[];function e2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(JL++)[0],s=f.useState(vC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=SL([e.lockRef.current],(e.shards||[]).map($y),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var m=wl(y),g=n.current,x="deltaX"in y?y.deltaX:g[0]-m[0],b="deltaY"in y?y.deltaY:g[1]-m[1],C,P=y.target,k=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in y&&k==="h"&&P.type==="range")return!1;var A=Oy(k,P);if(!A)return!0;if(A?C=k:(C=k==="v"?"h":"v",A=Oy(k,P)),!A)return!1;if(!r.current&&"changedTouches"in y&&(x||b)&&(r.current=C),!C)return!0;var M=r.current||C;return XL(M,S,y,M==="h"?x:b,!0)},[]),l=f.useCallback(function(y){var S=y;if(!(!Qo.length||Qo[Qo.length-1]!==s)){var m="deltaY"in S?Fy(S):wl(S),g=t.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&QL(C.delta,m)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var x=(i.current.shards||[]).map($y).filter(Boolean).filter(function(C){return C.contains(S.target)}),b=x.length>0?a(S,x[0]):!i.current.noIsolation;b&&S.cancelable&&S.preventDefault()}}},[]),c=f.useCallback(function(y,S,m,g){var x={name:y,delta:S,target:m,should:g,shadowParent:t2(m)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(b){return b!==x})},1)},[]),u=f.useCallback(function(y){n.current=wl(y),r.current=void 0},[]),d=f.useCallback(function(y){c(y.type,Fy(y),y.target,a(y,e.lockRef.current))},[]),h=f.useCallback(function(y){c(y.type,wl(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return Qo.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Xo),document.addEventListener("touchmove",l,Xo),document.addEventListener("touchstart",u,Xo),function(){Qo=Qo.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Xo),document.removeEventListener("touchmove",l,Xo),document.removeEventListener("touchstart",u,Xo)}},[]);var w=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(s,{styles:ZL(o)}):null,w?f.createElement(BL,{gapMode:e.gapMode}):null)}function t2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const n2=RL(gC,e2);var sm=f.forwardRef(function(e,t){return f.createElement(Su,Xn({},e,{ref:t,sideCar:n2}))});sm.classNames=Su.classNames;var lh=["Enter"," "],r2=["ArrowDown","PageUp","Home"],SC=["ArrowUp","PageDown","End"],o2=[...r2,...SC],s2={ltr:[...lh,"ArrowRight"],rtl:[...lh,"ArrowLeft"]},i2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oa="Menu",[ma,a2,l2]=iu(Oa),[Ho,bC]=Zt(Oa,[l2,gu,xu]),bu=gu(),CC=xu(),[c2,Wo]=Ho(Oa),[u2,Fa]=Ho(Oa),EC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=bu(t),[l,c]=f.useState(null),u=f.useRef(!1),d=nt(s),h=La(o);return f.useEffect(()=>{const w=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),p.jsx(gI,{...a,children:p.jsx(c2,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:p.jsx(u2,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:i,children:r})})})};EC.displayName=Oa;var d2="MenuAnchor",im=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=bu(n);return p.jsx(l1,{...o,...r,ref:t})});im.displayName=d2;var am="MenuPortal",[f2,PC]=Ho(am,{forceMount:void 0}),TC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=Wo(am,t);return p.jsx(f2,{scope:t,forceMount:n,children:p.jsx(Jt,{present:n||s.open,children:p.jsx(au,{asChild:!0,container:o,children:r})})})};TC.displayName=am;var Sn="MenuContent",[h2,lm]=Ho(Sn),kC=f.forwardRef((e,t)=>{const n=PC(Sn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Wo(Sn,e.__scopeMenu),i=Fa(Sn,e.__scopeMenu);return p.jsx(ma.Provider,{scope:e.__scopeMenu,children:p.jsx(Jt,{present:r||s.open,children:p.jsx(ma.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(p2,{...o,ref:t}):p.jsx(m2,{...o,ref:t})})})})}),p2=f.forwardRef((e,t)=>{const n=Wo(Sn,e.__scopeMenu),r=f.useRef(null),o=De(t,r);return f.useEffect(()=>{const s=r.current;if(s)return hC(s)},[]),p.jsx(cm,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),m2=f.forwardRef((e,t)=>{const n=Wo(Sn,e.__scopeMenu);return p.jsx(cm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),g2=Gs("MenuContent.ScrollLock"),cm=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:w,disableOutsideScroll:v,...y}=e,S=Wo(Sn,n),m=Fa(Sn,n),g=bu(n),x=CC(n),b=a2(n),[C,P]=f.useState(null),k=f.useRef(null),A=De(t,k,S.onContentChange),M=f.useRef(0),_=f.useRef(""),I=f.useRef(0),$=f.useRef(null),j=f.useRef("right"),L=f.useRef(0),W=v?sm:f.Fragment,N=v?{as:g2,allowPinchZoom:!0}:void 0,O=R=>{var pe,_e;const F=_.current+R,z=b().filter(Se=>!Se.disabled),G=document.activeElement,ae=(pe=z.find(Se=>Se.ref.current===G))==null?void 0:pe.textValue,oe=z.map(Se=>Se.textValue),Ze=A2(oe,F,ae),Re=(_e=z.find(Se=>Se.textValue===Ze))==null?void 0:_e.ref.current;(function Se(Ue){_.current=Ue,window.clearTimeout(M.current),Ue!==""&&(M.current=window.setTimeout(()=>Se(""),1e3))})(F),Re&&setTimeout(()=>Re.focus())};f.useEffect(()=>()=>window.clearTimeout(M.current),[]),uC();const D=f.useCallback(R=>{var z,G;return j.current===((z=$.current)==null?void 0:z.side)&&R2(R,(G=$.current)==null?void 0:G.area)},[]);return p.jsx(h2,{scope:n,searchRef:_,onItemEnter:f.useCallback(R=>{D(R)&&R.preventDefault()},[D]),onItemLeave:f.useCallback(R=>{var F;D(R)||((F=k.current)==null||F.focus(),P(null))},[D]),onTriggerLeave:f.useCallback(R=>{D(R)&&R.preventDefault()},[D]),pointerGraceTimerRef:I,onPointerGraceIntentChange:f.useCallback(R=>{$.current=R},[]),children:p.jsx(W,{...N,children:p.jsx(om,{asChild:!0,trapped:o,onMountAutoFocus:Z(s,R=>{var F;R.preventDefault(),(F=k.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:w,children:p.jsx(E1,{asChild:!0,...x,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:P,onEntryFocus:Z(l,R=>{m.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(c1,{role:"menu","aria-orientation":"vertical","data-state":BC(S.open),"data-radix-menu-content":"",dir:m.dir,...g,...y,ref:A,style:{outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,R=>{const z=R.target.closest("[data-radix-menu-content]")===R.currentTarget,G=R.ctrlKey||R.altKey||R.metaKey,ae=R.key.length===1;z&&(R.key==="Tab"&&R.preventDefault(),!G&&ae&&O(R.key));const oe=k.current;if(R.target!==oe||!o2.includes(R.key))return;R.preventDefault();const Re=b().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);SC.includes(R.key)&&Re.reverse(),T2(Re)}),onBlur:Z(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(M.current),_.current="")}),onPointerMove:Z(e.onPointerMove,ga(R=>{const F=R.target,z=L.current!==R.clientX;if(R.currentTarget.contains(F)&&z){const G=R.clientX>L.current?"right":"left";j.current=G,L.current=R.clientX}}))})})})})})})});kC.displayName=Sn;var v2="MenuGroup",um=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(he.div,{role:"group",...r,ref:t})});um.displayName=v2;var y2="MenuLabel",AC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(he.div,{...r,ref:t})});AC.displayName=y2;var Tc="MenuItem",Vy="menu.itemSelect",Cu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=Fa(Tc,e.__scopeMenu),a=lm(Tc,e.__scopeMenu),l=De(t,s),c=f.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(Vy,{bubbles:!0,cancelable:!0});d.addEventListener(Vy,w=>r==null?void 0:r(w),{once:!0}),Mp(d,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(DC,{...o,ref:l,disabled:n,onClick:Z(e.onClick,u),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),c.current=!0},onPointerUp:Z(e.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Z(e.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||lh.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Cu.displayName=Tc;var DC=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=lm(Tc,n),a=CC(n),l=f.useRef(null),c=De(t,l),[u,d]=f.useState(!1),[h,w]=f.useState("");return f.useEffect(()=>{const v=l.current;v&&w((v.textContent??"").trim())},[s.children]),p.jsx(ma.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(P1,{asChild:!0,...a,focusable:!r,children:p.jsx(he.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Z(e.onPointerMove,ga(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,ga(v=>i.onItemLeave(v))),onFocus:Z(e.onFocus,()=>d(!0)),onBlur:Z(e.onBlur,()=>d(!1))})})})}),w2="MenuCheckboxItem",RC=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(jC,{scope:e.__scopeMenu,checked:n,children:p.jsx(Cu,{role:"menuitemcheckbox","aria-checked":kc(n)?"mixed":n,...o,ref:t,"data-state":fm(n),onSelect:Z(o.onSelect,()=>r==null?void 0:r(kc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RC.displayName=w2;var MC="MenuRadioGroup",[x2,S2]=Ho(MC,{value:void 0,onValueChange:()=>{}}),_C=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=nt(r);return p.jsx(x2,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(um,{...o,ref:t})})});_C.displayName=MC;var NC="MenuRadioItem",IC=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=S2(NC,e.__scopeMenu),s=n===o.value;return p.jsx(jC,{scope:e.__scopeMenu,checked:s,children:p.jsx(Cu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":fm(s),onSelect:Z(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});IC.displayName=NC;var dm="MenuItemIndicator",[jC,b2]=Ho(dm,{checked:!1}),LC=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=b2(dm,n);return p.jsx(Jt,{present:r||kc(s.checked)||s.checked===!0,children:p.jsx(he.span,{...o,ref:t,"data-state":fm(s.checked)})})});LC.displayName=dm;var C2="MenuSeparator",OC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});OC.displayName=C2;var E2="MenuArrow",FC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=bu(n);return p.jsx(u1,{...o,...r,ref:t})});FC.displayName=E2;var P2="MenuSub",[s3,$C]=Ho(P2),ki="MenuSubTrigger",VC=f.forwardRef((e,t)=>{const n=Wo(ki,e.__scopeMenu),r=Fa(ki,e.__scopeMenu),o=$C(ki,e.__scopeMenu),s=lm(ki,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),p.jsx(im,{asChild:!0,...c,children:p.jsx(DC,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":BC(n.open),...e,ref:su(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,ga(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(e.onPointerLeave,ga(d=>{var w,v;u();const h=(w=n.content)==null?void 0:w.getBoundingClientRect();if(h){const y=(v=n.content)==null?void 0:v.dataset.side,S=y==="right",m=S?-5:5,g=h[S?"left":"right"],x=h[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+m,y:d.clientY},{x:g,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:g,y:h.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,d=>{var w;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||s2[r.dir].includes(d.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),d.preventDefault())})})})});VC.displayName=ki;var UC="MenuSubContent",zC=f.forwardRef((e,t)=>{const n=PC(Sn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Wo(Sn,e.__scopeMenu),i=Fa(Sn,e.__scopeMenu),a=$C(UC,e.__scopeMenu),l=f.useRef(null),c=De(t,l);return p.jsx(ma.Provider,{scope:e.__scopeMenu,children:p.jsx(Jt,{present:r||s.open,children:p.jsx(ma.Slot,{scope:e.__scopeMenu,children:p.jsx(cm,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Z(e.onKeyDown,u=>{var w;const d=u.currentTarget.contains(u.target),h=i2[i.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(w=a.trigger)==null||w.focus(),u.preventDefault())})})})})})});zC.displayName=UC;function BC(e){return e?"open":"closed"}function kc(e){return e==="indeterminate"}function fm(e){return kc(e)?"indeterminate":e?"checked":"unchecked"}function T2(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function k2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function A2(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=k2(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function D2(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}function R2(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return D2(n,t)}function ga(e){return t=>t.pointerType==="mouse"?e(t):void 0}var M2=EC,_2=im,N2=TC,I2=kC,j2=um,L2=AC,O2=Cu,F2=RC,$2=_C,V2=IC,U2=LC,z2=OC,B2=FC,q2=VC,H2=zC,hm="DropdownMenu",[W2,i3]=Zt(hm,[bC]),Ht=bC(),[G2,qC]=W2(hm),HC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=Ht(t),c=f.useRef(null),[u=!1,d]=Tr({prop:o,defaultProp:s,onChange:i});return p.jsx(G2,{scope:t,triggerId:bs(),triggerRef:c,contentId:bs(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:p.jsx(M2,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};HC.displayName=hm;var WC="DropdownMenuTrigger",GC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=qC(WC,n),i=Ht(n);return p.jsx(_2,{asChild:!0,...i,children:p.jsx(he.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:su(t,s.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});GC.displayName=WC;var K2="DropdownMenuPortal",KC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ht(t);return p.jsx(N2,{...r,...n})};KC.displayName=K2;var YC="DropdownMenuContent",XC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=qC(YC,n),s=Ht(n),i=f.useRef(!1);return p.jsx(I2,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!o.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XC.displayName=YC;var Y2="DropdownMenuGroup",X2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(j2,{...o,...r,ref:t})});X2.displayName=Y2;var Q2="DropdownMenuLabel",QC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(L2,{...o,...r,ref:t})});QC.displayName=Q2;var Z2="DropdownMenuItem",ZC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(O2,{...o,...r,ref:t})});ZC.displayName=Z2;var J2="DropdownMenuCheckboxItem",JC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(F2,{...o,...r,ref:t})});JC.displayName=J2;var eO="DropdownMenuRadioGroup",tO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx($2,{...o,...r,ref:t})});tO.displayName=eO;var nO="DropdownMenuRadioItem",eE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(V2,{...o,...r,ref:t})});eE.displayName=nO;var rO="DropdownMenuItemIndicator",tE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(U2,{...o,...r,ref:t})});tE.displayName=rO;var oO="DropdownMenuSeparator",nE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(z2,{...o,...r,ref:t})});nE.displayName=oO;var sO="DropdownMenuArrow",iO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(B2,{...o,...r,ref:t})});iO.displayName=sO;var aO="DropdownMenuSubTrigger",rE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(q2,{...o,...r,ref:t})});rE.displayName=aO;var lO="DropdownMenuSubContent",oE=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Ht(n);return p.jsx(H2,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oE.displayName=lO;var cO=HC,uO=GC,dO=KC,sE=XC,iE=QC,aE=ZC,lE=JC,cE=eE,uE=tE,dE=nE,fE=rE,hE=oE;const pm=cO,mm=uO,fO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(fE,{ref:o,className:J("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(kb,{className:"ml-auto"})]}));fO.displayName=fE.displayName;const hO=f.forwardRef(({className:e,...t},n)=>p.jsx(hE,{ref:n,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));hO.displayName=hE.displayName;const Eu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(dO,{children:p.jsx(sE,{ref:r,sideOffset:t,className:J("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Eu.displayName=sE.displayName;const Vo=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(aE,{ref:r,className:J("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Vo.displayName=aE.displayName;const pO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(lE,{ref:o,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(uE,{children:p.jsx(Tb,{className:"h-4 w-4"})})}),t]}));pO.displayName=lE.displayName;const mO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(cE,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(uE,{children:p.jsx(l_,{className:"h-2 w-2 fill-current"})})}),t]}));mO.displayName=cE.displayName;const pE=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(iE,{ref:r,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));pE.displayName=iE.displayName;const ch=f.forwardRef(({className:e,...t},n)=>p.jsx(dE,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));ch.displayName=dE.displayName;function mE(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gm="Switch",[gO,a3]=Zt(gm),[vO,yO]=gO(gm),gE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=e,[h,w]=f.useState(null),v=De(t,x=>w(x)),y=f.useRef(!1),S=h?u||!!h.closest("form"):!0,[m=!1,g]=Tr({prop:o,defaultProp:s,onChange:c});return p.jsxs(vO,{scope:n,checked:m,disabled:a,children:[p.jsx(he.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":wE(m),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onClick:Z(e.onClick,x=>{g(b=>!b),S&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),S&&p.jsx(wO,{control:h,bubbles:!y.current,name:r,value:l,checked:m,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});gE.displayName=gm;var vE="SwitchThumb",yE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=yO(vE,n);return p.jsx(he.span,{"data-state":wE(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});yE.displayName=vE;var wO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=mE(n),a=qp(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function wE(e){return e?"checked":"unchecked"}var xE=gE,xO=yE;const SE=f.forwardRef(({className:e,...t},n)=>p.jsx(xE,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(xO,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));SE.displayName=xE.displayName;function SO(){const{userInfo:e,isLoadingAuth:t,logout:n}=or(),{theme:r,setTheme:o,resolvedTheme:s}=nm(),i=s==="dark";if(t||!e)return p.jsx(qe,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(It,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(pm,{children:[p.jsx(mm,{asChild:!0,children:p.jsx(qe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(lC,{className:"h-8 w-8",children:p.jsx(cC,{children:oN(e.name.display_name)})})})}),p.jsxs(Eu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(pE,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx(ch,{}),p.jsx(Vo,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(y_,{className:"mr-2 h-4 w-4"}):p.jsx(S_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(SE,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx(ch,{}),p.jsxs(Vo,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(m_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function bO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=or();nm();const[,c]=nu(),{toast:u}=Na(),d=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{E.log("[Header] setLocation instance type:",typeof c)},[c]);const w=y=>{E.log("[Header] New Entry Link clicked. Href:",y.currentTarget.href)},v=y=>{const S=y.target.files;if(S&&S.length>0){const m=Array.from(S),g=m.filter(b=>!b.type.startsWith("image/"));g.length>0&&u({title:"Invalid File Type",description:`Only image files are allowed. ${g.map(b=>b.name).join(", ")} ${g.length===1?"was":"were"} ignored.`,variant:"destructive"});const x=m.filter(b=>b.type.startsWith("image/"));x.length>0?(i(x),E.log(`[Header] Set ${x.length} selected files as pending.`)):E.log("[Header] No valid image files selected.")}else E.log("[Header] No files selected.");y.target&&(y.target.value="")};return p.jsxs("header",{className:J("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(C_,{className:"h-3 w-3 mr-1.5"}),"Offline Mode - Data may be outdated. Editing is disabled."]}),h&&p.jsxs("div",{className:J("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(Ab,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(qe,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(p_,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:d,onChange:v,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:J("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(O1,{type:"single",size:"sm",value:o,onValueChange:y=>{y&&s(y)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(rh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(u_,{className:"h-4 w-4"})}),p.jsx(rh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(h_,{className:"h-4 w-4"})})]}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(NR,{href:"/entry/new",onClick:w,children:p.jsx(qe,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!a,title:a?"New Entry":"New entry disabled while offline",children:p.jsx(w_,{className:"h-4 w-4"})})}),p.jsx(SO,{})]})]})]})]})}function CO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Pu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const uh=e=>Array.isArray(e);function bE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function va(e){return typeof e=="string"||Array.isArray(e)}function Uy(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function vm(e,t,n,r){if(typeof t=="function"){const[o,s]=Uy(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=Uy(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Tu(e,t,n){const r=e.getProps();return vm(r,t,n!==void 0?n:r.custom,e)}const ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wm=["initial",...ym],$a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Go=new Set($a),mr=e=>e*1e3,gr=e=>e/1e3,EO={type:"spring",stiffness:500,damping:25,restSpeed:10},PO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TO={type:"keyframes",duration:.8},kO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AO=(e,{keyframes:t})=>t.length>2?TO:Go.has(e)?e.startsWith("scale")?PO(t[1]):EO:kO;function xm(e,t){return e?e[t]||e.default||e:void 0}const DO={skipAnimations:!1,useManualTiming:!1},RO=e=>e!==null;function ku(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(RO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Lt=e=>e;let dh=Lt;function MO(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,u=!1,d=!1)=>{const w=d&&r?t:n;return u&&s.add(c),w.has(c)||w.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const xl=["read","resolveKeyframes","update","preRender","render","postRender"],_O=40;function CE(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=xl.reduce((m,g)=>(m[g]=MO(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=i,w=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,_O),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),u.process(o),d.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(w))},v=()=>{n=!0,r=!0,o.isProcessing||e(w)};return{schedule:xl.reduce((m,g)=>{const x=i[g];return m[g]=(b,C=!1,P=!1)=>(n||v(),x.schedule(b,C,P)),m},{}),cancel:m=>{for(let g=0;g<xl.length;g++)i[xl[g]].cancel(m)},state:o,steps:i}}const{schedule:He,cancel:co,state:Pt,steps:Vd}=CE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0),EE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,NO=1e-7,IO=12;function jO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=EE(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>NO&&++a<IO);return i}function Va(e,t,n,r){if(e===t&&n===r)return Lt;const o=s=>jO(s,0,1,e,n);return s=>s===0||s===1?s:EE(o(s),t,r)}const PE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TE=e=>t=>1-e(1-t),kE=Va(.33,1.53,.69,.99),Sm=TE(kE),AE=PE(Sm),DE=e=>(e*=2)<1?.5*Sm(e):.5*(2-Math.pow(2,-10*(e-1))),bm=e=>1-Math.sin(Math.acos(e)),RE=TE(bm),ME=PE(bm),_E=e=>/^0[^.\s]+$/u.test(e);function LO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_E(e):!0}const NE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),IE=e=>t=>typeof t=="string"&&t.startsWith(e),jE=IE("--"),OO=IE("var(--"),Cm=e=>OO(e)?FO.test(e.split("/*")[0].trim()):!1,FO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$O=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VO(e){const t=$O.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function LE(e,t,n=1){const[r,o]=VO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return NE(i)?parseFloat(i):i}return Cm(o)?LE(o,t,n+1):o}const Er=(e,t,n)=>n>t?t:n<e?e:n,li={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ya={...li,transform:e=>Er(0,1,e)},Sl={...li,default:1},Ua=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ir=Ua("deg"),er=Ua("%"),de=Ua("px"),UO=Ua("vh"),zO=Ua("vw"),zy={...er,parse:e=>er.parse(e)/100,transform:e=>er.transform(e*100)},BO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),By=e=>e===li||e===de,qy=(e,t)=>parseFloat(e.split(", ")[t]),Hy=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return qy(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?qy(s[1],e):0}},qO=new Set(["x","y","z"]),HO=$a.filter(e=>!qO.has(e));function WO(e){const t=[];return HO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Qs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Hy(4,13),y:Hy(5,14)};Qs.translateX=Qs.x;Qs.translateY=Qs.y;const OE=e=>t=>t.test(e),GO={test:e=>e==="auto",parse:e=>e},FE=[li,de,er,Ir,zO,UO,GO],Wy=e=>FE.find(OE(e)),No=new Set;let fh=!1,hh=!1;function $E(){if(hh){const e=Array.from(No).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=WO(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hh=!1,fh=!1,No.forEach(e=>e.complete()),No.clear()}function VE(){No.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hh=!0)})}function KO(){VE(),$E()}class Em{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(No.add(this),fh||(fh=!0,He.read(VE),He.resolveKeyframes($E))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),No.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,No.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ui=e=>Math.round(e*1e5)/1e5,Pm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YO(e){return e==null}const XO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tm=(e,t)=>n=>!!(typeof n=="string"&&XO.test(n)&&n.startsWith(e)||t&&!YO(n)&&Object.prototype.hasOwnProperty.call(n,t)),UE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(Pm);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},QO=e=>Er(0,255,e),Ud={...li,transform:e=>Math.round(QO(e))},Po={test:Tm("rgb","red"),parse:UE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ud.transform(e)+", "+Ud.transform(t)+", "+Ud.transform(n)+", "+Ui(ya.transform(r))+")"};function ZO(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ph={test:Tm("#"),parse:ZO,transform:Po.transform},us={test:Tm("hsl","hue"),parse:UE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+er.transform(Ui(t))+", "+er.transform(Ui(n))+", "+Ui(ya.transform(r))+")"},_t={test:e=>Po.test(e)||ph.test(e)||us.test(e),parse:e=>Po.test(e)?Po.parse(e):us.test(e)?us.parse(e):ph.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Po.transform(e):us.transform(e)},JO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Pm))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(JO))===null||n===void 0?void 0:n.length)||0)>0}const zE="number",BE="color",tF="var",nF="var(",Gy="${}",rF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wa(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(rF,l=>(_t.test(l)?(r.color.push(s),o.push(BE),n.push(_t.parse(l))):l.startsWith(nF)?(r.var.push(s),o.push(tF),n.push(l)):(r.number.push(s),o.push(zE),n.push(parseFloat(l))),++s,Gy)).split(Gy);return{values:n,split:a,indexes:r,types:o}}function qE(e){return wa(e).values}function HE(e){const{split:t,types:n}=wa(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===zE?s+=Ui(o[i]):a===BE?s+=_t.transform(o[i]):s+=o[i]}return s}}const oF=e=>typeof e=="number"?0:e;function sF(e){const t=qE(e);return HE(e)(t.map(oF))}const uo={test:eF,parse:qE,createTransformer:HE,getAnimatableNone:sF},iF=new Set(["brightness","contrast","saturate","opacity"]);function aF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Pm)||[];if(!r)return e;const o=n.replace(r,"");let s=iF.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const lF=/\b([a-z-]*)\(.*?\)/gu,mh={...uo,getAnimatableNone:e=>{const t=e.match(lF);return t?t.map(aF).join(" "):e}},cF={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},uF={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Sl,scaleX:Sl,scaleY:Sl,scaleZ:Sl,skew:Ir,skewX:Ir,skewY:Ir,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:ya,originX:zy,originY:zy,originZ:de},Ky={...li,transform:Math.round},km={...cF,...uF,zIndex:Ky,size:de,fillOpacity:ya,strokeOpacity:ya,numOctaves:Ky},dF={...km,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:mh,WebkitFilter:mh},Am=e=>dF[e];function WE(e,t){let n=Am(e);return n!==mh&&(n=uo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fF=new Set(["auto","none","0"]);function hF(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!fF.has(s)&&wa(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=WE(n,o)}class GE extends Em{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Cm(c))){const u=LE(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!BO.has(r)||t.length!==2)return;const[o,s]=t,i=Wy(o),a=Wy(s);if(i!==a)if(By(i)&&By(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)LO(t[o])&&r.push(o);r.length&&hF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=Qs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Dm(e){return typeof e=="function"}let ql;function pF(){ql=void 0}const tr={now:()=>(ql===void 0&&tr.set(Pt.isProcessing||DO.useManualTiming?Pt.timestamp:performance.now()),ql),set:e=>{ql=e,queueMicrotask(pF)}},Yy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(uo.test(e)||e==="0")&&!e.startsWith("url("));function mF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gF(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=Yy(o,t),a=Yy(s,t);return!i||!a?!1:mF(e)||(n==="spring"||Dm(n))&&r}const vF=40;class KE{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!gF(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(ku(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Zs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},YE=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(Zs(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function XE(e,t){return t?e*(1e3/t):0}const yF=5;function QE(e,t,n){const r=Math.max(t-yF,0);return XE(n-e(r),t-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zd=.001;function wF({duration:e=ut.duration,bounce:t=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let o,s,i=1-t;i=Er(ut.minDamping,ut.maxDamping,i),e=Er(ut.minDuration,ut.maxDuration,gr(e)),i<1?(o=c=>{const u=c*i,d=u*e,h=u-n,w=gh(c,i),v=Math.exp(-d);return zd-h/w*v},s=c=>{const d=c*i*e,h=d*n+n,w=Math.pow(i,2)*Math.pow(c,2)*e,v=Math.exp(-d),y=gh(Math.pow(c,2),i);return(-o(c)+zd>0?-1:1)*((h-w)*v)/y}):(o=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-zd+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=SF(o,s,a);if(e=mr(e),isNaN(l))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const xF=12;function SF(e,t,n){let r=n;for(let o=1;o<xF;o++)r=r-e(r)/t(r);return r}function gh(e,t){return e*Math.sqrt(1-t*t)}const vh=2e4;function ZE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<vh;)t+=n,r=e.next(t);return t>=vh?1/0:t}const bF=["duration","bounce"],CF=["stiffness","damping","mass"];function Xy(e,t){return t.some(n=>e[n]!==void 0)}function EF(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!Xy(e,CF)&&Xy(e,bF))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Er(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:ut.mass,stiffness:o,damping:s}}else{const n=wF(e);t={...t,...n,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function JE(e=ut.visualDuration,t=ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:w}=EF({...n,velocity:-gr(n.velocity||0)}),v=h||0,y=c/(2*Math.sqrt(l*u)),S=i-s,m=gr(Math.sqrt(l/u)),g=Math.abs(S)<5;r||(r=g?ut.restSpeed.granular:ut.restSpeed.default),o||(o=g?ut.restDelta.granular:ut.restDelta.default);let x;if(y<1){const C=gh(m,y);x=P=>{const k=Math.exp(-y*m*P);return i-k*((v+y*m*S)/C*Math.sin(C*P)+S*Math.cos(C*P))}}else if(y===1)x=C=>i-Math.exp(-m*C)*(S+(v+m*S)*C);else{const C=m*Math.sqrt(y*y-1);x=P=>{const k=Math.exp(-y*m*P),A=Math.min(C*P,300);return i-k*((v+y*m*S)*Math.sinh(A)+C*S*Math.cosh(A))/C}}const b={calculatedDuration:w&&d||null,next:C=>{const P=x(C);if(w)a.done=C>=d;else{let k=0;y<1&&(k=C===0?mr(v):QE(x,C,P));const A=Math.abs(k)<=r,M=Math.abs(i-P)<=o;a.done=A&&M}return a.value=a.done?i:P,a},toString:()=>{const C=Math.min(ZE(b),vh),P=YE(k=>b.next(C*k).value,C,30);return C+"ms "+P}};return b}function Qy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},w=A=>a!==void 0&&A<a||l!==void 0&&A>l,v=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let y=n*t;const S=d+y,m=i===void 0?S:i(S);m!==S&&(y=m-d);const g=A=>-y*Math.exp(-A/r),x=A=>m+g(A),b=A=>{const M=g(A),_=x(A);h.done=Math.abs(M)<=c,h.value=h.done?m:_};let C,P;const k=A=>{w(h.value)&&(C=A,P=JE({keyframes:[h.value,v(h.value)],velocity:QE(x,A,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:A=>{let M=!1;return!P&&C===void 0&&(M=!0,b(A),k(A)),C!==void 0&&A>=C?P.next(A-C):(!M&&b(A),h)}}}const PF=Va(.42,0,1,1),TF=Va(0,0,.58,1),eP=Va(.42,0,.58,1),kF=e=>Array.isArray(e)&&typeof e[0]!="number",Rm=e=>Array.isArray(e)&&typeof e[0]=="number",Zy={linear:Lt,easeIn:PF,easeInOut:eP,easeOut:TF,circIn:bm,circInOut:ME,circOut:RE,backIn:Sm,backInOut:AE,backOut:kE,anticipate:DE},Jy=e=>{if(Rm(e)){dh(e.length===4);const[t,n,r,o]=e;return Va(t,n,r,o)}else if(typeof e=="string")return dh(Zy[e]!==void 0),Zy[e];return e},AF=(e,t)=>n=>t(e(n)),no=(...e)=>e.reduce(AF),rt=(e,t,n)=>e+(t-e)*n;function Bd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function DF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=Bd(l,a,e+1/3),s=Bd(l,a,e),i=Bd(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Ac(e,t){return n=>n>0?t:e}const qd=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},RF=[ph,Po,us],MF=e=>RF.find(t=>t.test(e));function ew(e){const t=MF(e);if(!t)return!1;let n=t.parse(e);return t===us&&(n=DF(n)),n}const tw=(e,t)=>{const n=ew(e),r=ew(t);if(!n||!r)return Ac(e,t);const o={...n};return s=>(o.red=qd(n.red,r.red,s),o.green=qd(n.green,r.green,s),o.blue=qd(n.blue,r.blue,s),o.alpha=rt(n.alpha,r.alpha,s),Po.transform(o))},yh=new Set(["none","hidden"]);function _F(e,t){return yh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function NF(e,t){return n=>rt(e,t,n)}function Mm(e){return typeof e=="number"?NF:typeof e=="string"?Cm(e)?Ac:_t.test(e)?tw:LF:Array.isArray(e)?tP:typeof e=="object"?_t.test(e)?tw:IF:Ac}function tP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>Mm(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function IF(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Mm(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function jF(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const LF=(e,t)=>{const n=uo.createTransformer(t),r=wa(e),o=wa(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?yh.has(e)&&!o.values.length||yh.has(t)&&!r.values.length?_F(e,t):no(tP(jF(r,o),o.values),n):Ac(e,t)};function nP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?rt(e,t,n):Mm(e)(e,t)}function OF(e,t,n){const r=[],o=n||nP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Lt:t;a=no(l,a)}r.push(a)}return r}function FF(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(dh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=OF(t,r,o),a=i.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Zs(e[u],e[u+1],c);return i[u](d)};return n?c=>l(Er(e[0],e[s-1],c)):l}function $F(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Zs(0,t,r);e.push(rt(n,1,o))}}function VF(e){const t=[0];return $F(t,e.length-1),t}function UF(e,t){return e.map(n=>n*t)}function zF(e,t){return e.map(()=>t||eP).splice(0,e.length-1)}function Dc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=kF(r)?r.map(Jy):Jy(r),s={done:!1,value:t[0]},i=UF(n&&n.length===t.length?n:VF(t),e),a=FF(i,t,{ease:Array.isArray(o)?o:zF(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const BF=e=>{const t=({timestamp:n})=>e(n);return{start:()=>He.update(t,!0),stop:()=>co(t),now:()=>Pt.isProcessing?Pt.timestamp:tr.now()}},qF={decay:Qy,inertia:Qy,tween:Dc,keyframes:Dc,spring:JE},HF=e=>e/100;class _m extends KE{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||Em,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=Dm(n)?n:qF[n]||Dc;let l,c;a!==Dc&&typeof t[0]!="number"&&(l=no(HF,nP(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=ZE(u));const{calculatedDuration:d}=u,h=d+o,w=h*(r+1)-o;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:w,repeatType:v,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>u;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,b=s;if(w){const A=Math.min(this.currentTime,u)/d;let M=Math.floor(A),_=A%1;!_&&A>=1&&(_=1),_===1&&M--,M=Math.min(M,w+1),!!(M%2)&&(v==="reverse"?(_=1-_,y&&(_-=y/d)):v==="mirror"&&(b=i)),x=Er(0,1,_)*d}const C=g?{done:!1,value:l[0]}:b.next(x);a&&(C.value=a(C.value));let{done:P}=C;!g&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(C.value=ku(l,this.options,o)),S&&S(C.value),k&&this.finish(),C}get duration(){const{resolved:t}=this;return t?gr(t.calculatedDuration):0}get time(){return gr(this.currentTime)}set time(t){t=mr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=gr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BF,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const WF=new Set(["opacity","clipPath","filter","transform"]);function Nm(e){let t;return()=>(t===void 0&&(t=e()),t)}const GF={linearEasing:void 0};function KF(e,t){const n=Nm(e);return()=>{var r;return(r=GF[t])!==null&&r!==void 0?r:n()}}const Rc=KF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function rP(e){return!!(typeof e=="function"&&Rc()||!e||typeof e=="string"&&(e in wh||Rc())||Rm(e)||Array.isArray(e)&&e.every(rP))}const Ai=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,wh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ai([0,.65,.55,1]),circOut:Ai([.55,0,1,.45]),backIn:Ai([.31,.01,.66,-.59]),backOut:Ai([.33,1.53,.69,.99])};function oP(e,t){if(e)return typeof e=="function"&&Rc()?YE(e,t):Rm(e)?Ai(e):Array.isArray(e)?e.map(n=>oP(n,t)||wh.easeOut):wh[e]}function YF(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=oP(a,o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function nw(e,t){e.timeline=t,e.onfinish=null}const XF=Nm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Mc=10,QF=2e4;function ZF(e){return Dm(e.type)||e.type==="spring"||!rP(e.ease)}function JF(e,t){const n=new _m({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<QF;)r=n.sample(s),o.push(r.value),s+=Mc;return{times:void 0,keyframes:o,duration:s-Mc,ease:"linear"}}const sP={anticipate:DE,backInOut:AE,circInOut:ME};function e$(e){return e in sP}class rw extends KE{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new GE(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Rc()&&e$(i)&&(i=sP[i]),ZF(this.options)){const{onComplete:h,onUpdate:w,motionValue:v,element:y,...S}=this.options,m=JF(t,S);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const d=YF(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(nw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(ku(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return gr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return gr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=mr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Lt;const{animation:r}=n;nw(r,t)}return Lt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...w}=this.options,v=new _m({...w,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),y=mr(this.time);c.setWithVelocity(v.sample(y-Mc).value,v.sample(y).value,Mc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return XF()&&r&&WF.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const t$=Nm(()=>window.ScrollTimeline!==void 0);class n${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>t$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function r$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Im=(e,t,n,r={},o,s)=>i=>{const a=xm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-mr(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};r$(a)||(u={...u,...AO(e,u)}),u.duration&&(u.duration=mr(u.duration)),u.repeatDelay&&(u.repeatDelay=mr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const h=ku(u.keyframes,a);if(h!==void 0)return He.update(()=>{u.onUpdate(h),u.onComplete()}),new n$([])}return!s&&rw.supports(u)?new rw(u):new _m(u)},o$=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),s$=e=>uh(e)?e[e.length-1]||0:e;function jm(e,t){e.indexOf(t)===-1&&e.push(t)}function Lm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Om{constructor(){this.subscriptions=[]}add(t){return jm(this.subscriptions,t),()=>Lm(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ow=30,i$=e=>!isNaN(parseFloat(e));class a${constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=tr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=i$(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Om);const r=this.events[t].add(n);return t==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ow)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ow);return XE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xa(e,t){return new a$(e,t)}function l$(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xa(n))}function c$(e,t){const n=Tu(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=s$(s[i]);l$(e,i,a)}}const Fm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u$="framerAppearId",iP="data-"+Fm(u$);function aP(e){return e.props[iP]}const jt=e=>!!(e&&e.getVelocity);function d$(e){return!!(jt(e)&&e.add)}function xh(e,t){const n=e.getValue("willChange");if(d$(n))return n.add(t)}function f$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function lP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const d in l){const h=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),w=l[d];if(w===void 0||u&&f$(u,d))continue;const v={delay:n,...xm(i||{},d)};let y=!1;if(window.MotionHandoffAnimation){const m=aP(e);if(m){const g=window.MotionHandoffAnimation(m,d,He);g!==null&&(v.startTime=g,y=!0)}}xh(e,d),h.start(Im(d,h,w,e.shouldReduceMotion&&Go.has(d)?{type:!1}:v,e,y));const S=h.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{He.update(()=>{a&&c$(e,a)})}),c}function Sh(e,t,n={}){var r;const o=Tu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(lP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return h$(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function h$(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(p$).forEach((c,u)=>{c.notify("AnimationStart",t),i.push(Sh(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function p$(e,t){return e.sortNodePosition(t)}function m$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Sh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Sh(e,t,n);else{const o=typeof t=="function"?Tu(e,t,n.custom):t;r=Promise.all(lP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const g$=wm.length;function cP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?cP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<g$;n++){const r=wm[n],o=e.props[r];(va(o)||o===!1)&&(t[r]=o)}return t}const v$=[...ym].reverse(),y$=ym.length;function w$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>m$(e,n,r)))}function x$(e){let t=w$(e),n=sw(),r=!0;const o=l=>(c,u)=>{var d;const h=Tu(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:w,transitionEnd:v,...y}=h;c={...c,...y,...v}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,u=cP(e.parent)||{},d=[],h=new Set;let w={},v=1/0;for(let S=0;S<y$;S++){const m=v$[S],g=n[m],x=c[m]!==void 0?c[m]:u[m],b=va(x),C=m===l?g.isActive:null;C===!1&&(v=S);let P=x===u[m]&&x!==c[m]&&b;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...w},!g.isActive&&C===null||!x&&!g.prevProp||Pu(x)||typeof x=="boolean")continue;const k=S$(g.prevProp,x);let A=k||m===l&&g.isActive&&!P&&b||S>v&&b,M=!1;const _=Array.isArray(x)?x:[x];let I=_.reduce(o(m),{});C===!1&&(I={});const{prevResolvedValues:$={}}=g,j={...$,...I},L=O=>{A=!0,h.has(O)&&(M=!0,h.delete(O)),g.needsAnimating[O]=!0;const D=e.getValue(O);D&&(D.liveStyle=!1)};for(const O in j){const D=I[O],R=$[O];if(w.hasOwnProperty(O))continue;let F=!1;uh(D)&&uh(R)?F=!bE(D,R):F=D!==R,F?D!=null?L(O):h.add(O):D!==void 0&&h.has(O)?L(O):g.protectedKeys[O]=!0}g.prevProp=x,g.prevResolvedValues=I,g.isActive&&(w={...w,...I}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(P&&k)||M)&&d.push(..._.map(O=>({animation:O,options:{type:m}})))}if(h.size){const S={};h.forEach(m=>{const g=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),S[m]=g??null}),d.push({animation:S})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var w;return(w=h.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const d=i(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=sw(),r=!0}}}function S$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bE(t,e):!1}function vo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sw(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class mo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class b$ extends mo{constructor(t){super(t),t.animationState||(t.animationState=x$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Pu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let C$=0;class E$ extends mo{constructor(){super(...arguments),this.id=C$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const P$={animation:{Feature:b$},exit:{Feature:E$}};function T$(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const An={x:!1,y:!1};function uP(){return An.x||An.y}function iw(e){return t=>{t.pointerType==="touch"||uP()||e(t)}}function k$(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=iw(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=iw(u=>{l(u),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return T$(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function A$(e){return e==="x"||e==="y"?An[e]?null:(An[e]=!0,()=>{An[e]=!1}):An.x||An.y?null:(An.x=An.y=!0,()=>{An.x=An.y=!1})}const dP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function za(e){return{point:{x:e.pageX,y:e.pageY}}}const D$=e=>t=>dP(t)&&e(t,za(t));function hr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ro(e,t,n,r){return hr(e,t,D$(n),r)}const aw=(e,t)=>Math.abs(e-t);function R$(e,t){const n=aw(e.x,t.x),r=aw(e.y,t.y);return Math.sqrt(n**2+r**2)}class fP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Wd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,w=R$(d.offset,{x:0,y:0})>=3;if(!h&&!w)return;const{point:v}=d,{timestamp:y}=Pt;this.history.push({...v,timestamp:y});const{onStart:S,onMove:m}=this.handlers;h||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Hd(h,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Wd(d.type==="pointercancel"?this.lastMoveEventInfo:Hd(h,this.transformPagePoint),this.history);this.startEvent&&w&&w(d,S),v&&v(d,S)},!dP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=za(t),a=Hd(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Pt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Wd(a,this.history)),this.removeListeners=no(ro(this.contextWindow,"pointermove",this.handlePointerMove),ro(this.contextWindow,"pointerup",this.handlePointerUp),ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),co(this.updatePoint)}}function Hd(e,t){return t?{point:t(e.point)}:e}function lw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wd({point:e},t){return{point:e,delta:lw(e,hP(t)),offset:lw(e,M$(t)),velocity:_$(t,.1)}}function M$(e){return e[0]}function hP(e){return e[e.length-1]}function _$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=hP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>mr(t)));)n--;if(!r)return{x:0,y:0};const s=gr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function ds(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const pP=1e-4,N$=1-pP,I$=1+pP,mP=.01,j$=0-mP,L$=0+mP;function cn(e){return e.max-e.min}function O$(e,t,n){return Math.abs(e-t)<=n}function cw(e,t,n,r=.5){e.origin=r,e.originPoint=rt(t.min,t.max,e.origin),e.scale=cn(n)/cn(t),e.translate=rt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=N$&&e.scale<=I$||isNaN(e.scale))&&(e.scale=1),(e.translate>=j$&&e.translate<=L$||isNaN(e.translate))&&(e.translate=0)}function zi(e,t,n,r){cw(e.x,t.x,n.x,r?r.originX:void 0),cw(e.y,t.y,n.y,r?r.originY:void 0)}function uw(e,t,n){e.min=n.min+t.min,e.max=e.min+cn(t)}function F$(e,t,n){uw(e.x,t.x,n.x),uw(e.y,t.y,n.y)}function dw(e,t,n){e.min=t.min-n.min,e.max=e.min+cn(t)}function Bi(e,t,n){dw(e.x,t.x,n.x),dw(e.y,t.y,n.y)}function $$(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?rt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?rt(n,e,r.max):Math.min(e,n)),e}function fw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function V$(e,{top:t,left:n,bottom:r,right:o}){return{x:fw(e.x,n,o),y:fw(e.y,t,r)}}function hw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function U$(e,t){return{x:hw(e.x,t.x),y:hw(e.y,t.y)}}function z$(e,t){let n=.5;const r=cn(e),o=cn(t);return o>r?n=Zs(t.min,t.max-r,e.min):r>o&&(n=Zs(e.min,e.max-o,t.min)),Er(0,1,n)}function B$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bh=.35;function q$(e=bh){return e===!1?e=0:e===!0&&(e=bh),{x:pw(e,"left","right"),y:pw(e,"top","bottom")}}function pw(e,t,n){return{min:mw(e,t),max:mw(e,n)}}function mw(e,t){return typeof e=="number"?e:e[t]||0}const gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),fs=()=>({x:gw(),y:gw()}),vw=()=>({min:0,max:0}),pt=()=>({x:vw(),y:vw()});function mn(e){return[e("x"),e("y")]}function gP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function H$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function W$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gd(e){return e===void 0||e===1}function Ch({scale:e,scaleX:t,scaleY:n}){return!Gd(e)||!Gd(t)||!Gd(n)}function xo(e){return Ch(e)||vP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vP(e){return yw(e.x)||yw(e.y)}function yw(e){return e&&e!=="0%"}function _c(e,t,n){const r=e-n,o=t*r;return n+o}function ww(e,t,n,r,o){return o!==void 0&&(e=_c(e,o,r)),_c(e,n,r)+t}function Eh(e,t=0,n=1,r,o){e.min=ww(e.min,t,n,r,o),e.max=ww(e.max,t,n,r,o)}function yP(e,{x:t,y:n}){Eh(e.x,t.translate,t.scale,t.originPoint),Eh(e.y,n.translate,n.scale,n.originPoint)}const xw=.999999999999,Sw=1.0000000000001;function G$(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ps(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,yP(e,i)),r&&xo(s.latestValues)&&ps(e,s.latestValues))}t.x<Sw&&t.x>xw&&(t.x=1),t.y<Sw&&t.y>xw&&(t.y=1)}function hs(e,t){e.min=e.min+t,e.max=e.max+t}function bw(e,t,n,r,o=.5){const s=rt(e.min,e.max,o);Eh(e,t,n,s,r)}function ps(e,t){bw(e.x,t.x,t.scaleX,t.scale,t.originX),bw(e.y,t.y,t.scaleY,t.scale,t.originY)}function wP(e,t){return gP(W$(e.getBoundingClientRect(),t))}function K$(e,t,n){const r=wP(e,n),{scroll:o}=t;return o&&(hs(r.x,o.offset.x),hs(r.y,o.offset.y)),r}const xP=({current:e})=>e?e.ownerDocument.defaultView:null,Y$=new WeakMap;class X${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(za(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:w,onDragStart:v}=this.getProps();if(h&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A$(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(S=>{let m=this.getAxisMotionValue(S).get()||0;if(er.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[S];x&&(m=cn(x)*(parseFloat(m)/100))}}this.originPoint[S]=m}),v&&He.postRender(()=>v(u,d)),xh(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(u,d)=>{const{dragPropagation:h,dragDirectionLock:w,onDirectionLock:v,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:S}=d;if(w&&this.currentDirection===null){this.currentDirection=Q$(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>mn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&He.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!bl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=$$(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&ds(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=V$(o.layoutBox,n):this.constraints=!1,this.elastic=q$(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&mn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=B$(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ds(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=K$(r,o.root,this.visualElement.getTransformPagePoint());let i=U$(o.layout.layoutBox,s);if(n){const a=n(H$(i));this.hasMutatedConstraints=!!a,a&&(i=gP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=mn(u=>{if(!bl(u,n,this.currentDirection))return;let d=l&&l[u]||{};i&&(d={min:0,max:0});const h=o?200:1e6,w=o?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return xh(this.visualElement,t),r.start(Im(t,r,0,n,this.visualElement,!1))}stopAnimation(){mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){mn(n=>{const{drag:r}=this.getProps();if(!bl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-rt(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ds(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};mn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=z$({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mn(i=>{if(!bl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(rt(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;Y$.set(this.visualElement,this);const t=this.visualElement.current,n=ro(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ds(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),He.read(r);const i=hr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(mn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=bh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function bl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Q$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Z$ extends mo{constructor(t){super(t),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new X$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cw=e=>(t,n)=>{e&&He.postRender(()=>e(t,n))};class J$ extends mo{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(t){this.session=new fP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Cw(t),onStart:Cw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&He.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=ro(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Au=f.createContext(null);function eV(){const e=f.useContext(Au);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const $m=f.createContext({}),SP=f.createContext({}),Hl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ew(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const n=Ew(e,t.target.x),r=Ew(e,t.target.y);return`${n}% ${r}%`}},tV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=uo.parse(e);if(o.length>5)return r;const s=uo.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=rt(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},Nc={};function nV(e){Object.assign(Nc,e)}const{schedule:Vm,cancel:l3}=CE(queueMicrotask,!1);class rV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;nV(oV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Hl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||He.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bP(e){const[t,n]=eV(),r=f.useContext($m);return p.jsx(rV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(SP),isPresent:t,safeToRemove:n})}const oV={borderRadius:{...bi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bi,borderTopRightRadius:bi,borderBottomLeftRadius:bi,borderBottomRightRadius:bi,boxShadow:tV},CP=["TopLeft","TopRight","BottomLeft","BottomRight"],sV=CP.length,Pw=e=>typeof e=="string"?parseFloat(e):e,Tw=e=>typeof e=="number"||de.test(e);function iV(e,t,n,r,o,s){o?(e.opacity=rt(0,n.opacity!==void 0?n.opacity:1,aV(r)),e.opacityExit=rt(t.opacity!==void 0?t.opacity:1,0,lV(r))):s&&(e.opacity=rt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<sV;i++){const a=`border${CP[i]}Radius`;let l=kw(t,a),c=kw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Tw(l)===Tw(c)?(e[a]=Math.max(rt(Pw(l),Pw(c),r),0),(er.test(c)||er.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=rt(t.rotate||0,n.rotate||0,r))}function kw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aV=EP(0,.5,RE),lV=EP(.5,.95,Lt);function EP(e,t,n){return r=>r<e?0:r>t?1:n(Zs(e,t,r))}function Aw(e,t){e.min=t.min,e.max=t.max}function pn(e,t){Aw(e.x,t.x),Aw(e.y,t.y)}function Dw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Rw(e,t,n,r,o){return e-=t,e=_c(e,1/n,r),o!==void 0&&(e=_c(e,1/o,r)),e}function cV(e,t=0,n=1,r=.5,o,s=e,i=e){if(er.test(t)&&(t=parseFloat(t),t=rt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=rt(s.min,s.max,r);e===s&&(a-=t),e.min=Rw(e.min,t,n,a,o),e.max=Rw(e.max,t,n,a,o)}function Mw(e,t,[n,r,o],s,i){cV(e,t[n],t[r],t[o],t.scale,s,i)}const uV=["x","scaleX","originX"],dV=["y","scaleY","originY"];function _w(e,t,n,r){Mw(e.x,t,uV,n?n.x:void 0,r?r.x:void 0),Mw(e.y,t,dV,n?n.y:void 0,r?r.y:void 0)}function Nw(e){return e.translate===0&&e.scale===1}function PP(e){return Nw(e.x)&&Nw(e.y)}function Iw(e,t){return e.min===t.min&&e.max===t.max}function fV(e,t){return Iw(e.x,t.x)&&Iw(e.y,t.y)}function jw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TP(e,t){return jw(e.x,t.x)&&jw(e.y,t.y)}function Lw(e){return cn(e.x)/cn(e.y)}function Ow(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class hV{constructor(){this.members=[]}add(t){jm(this.members,t),t.scheduleRender()}remove(t){if(Lm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pV(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:w,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),w&&(r+=`skewX(${w}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mV=(e,t)=>e.depth-t.depth;class gV{constructor(){this.children=[],this.isDirty=!1}add(t){jm(this.children,t),this.isDirty=!0}remove(t){Lm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mV),this.isDirty=!1,this.children.forEach(t)}}function Wl(e){const t=jt(e)?e.get():e;return o$(t)?t.toValue():t}function vV(e,t){const n=tr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(co(r),e(s-t))};return He.read(r,!0),()=>co(r)}function yV(e){return e instanceof SVGElement&&e.tagName!=="svg"}function wV(e,t,n){const r=jt(e)?e:xa(e);return r.start(Im("",r,t,n)),r.animation}const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Di=typeof window<"u"&&window.MotionDebug!==void 0,Kd=["","X","Y","Z"],xV={visibility:"hidden"},Fw=1e3;let SV=0;function Yd(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function kP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&kP(r)}function AP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=SV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Di&&(So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0),this.nodes.forEach(EV),this.nodes.forEach(DV),this.nodes.forEach(RV),this.nodes.forEach(PV),Di&&window.MotionDebug.record(So)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gV)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Om),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yV(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=vV(h,250),Hl.hasAnimatedSinceResize&&(Hl.hasAnimatedSinceResize=!1,this.nodes.forEach(Vw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:w,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||jV,{onLayoutAnimationStart:S,onLayoutAnimationComplete:m}=u.getProps(),g=!this.targetLayout||!TP(this.targetLayout,v)||w,x=!h&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...xm(y,"layout"),onPlay:S,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||Vw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MV),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($w);return}this.isUpdating||this.nodes.forEach(kV),this.isUpdating=!1,this.nodes.forEach(AV),this.nodes.forEach(bV),this.nodes.forEach(CV),this.clearAllSnapshots();const a=tr.now();Pt.delta=Er(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Vd.update.process(Pt),Vd.preRender.process(Pt),Vd.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TV),this.sharedNodes.forEach(_V)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!PP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(a||xo(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),LV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return pt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(OV))){const{scroll:u}=this.root;u&&(hs(l.x,u.offset.x),hs(l.y,u.offset.y))}return l}removeElementScroll(i){var a;const l=pt();if(pn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&pn(l,i),hs(l.x,d.offset.x),hs(l.y,d.offset.y))}return l}applyTransform(i,a=!1){const l=pt();pn(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ps(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),xo(u.latestValues)&&ps(l,u.latestValues)}return xo(this.latestValues)&&ps(l,this.latestValues),l}removeTransform(i){const a=pt();pn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!xo(c.latestValues))continue;Ch(c.latestValues)&&c.updateSnapshot();const u=pt(),d=c.measurePageBox();pn(u,d),_w(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return xo(this.latestValues)&&_w(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Bi(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),yP(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Bi(this.relativeTargetOrigin,this.target,w.target),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Di&&So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ch(this.parent.latestValues)||vP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;pn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,w=this.treeScale.y;G$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=pt());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dw(this.prevProjectionDelta.x,this.projectionDelta.x),Dw(this.prevProjectionDelta.y,this.projectionDelta.y)),zi(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==w||!Ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Di&&So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fs(),this.projectionDelta=fs(),this.projectionDeltaWithTransform=fs()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=pt(),w=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=w!==v,S=this.getStack(),m=!S||S.members.length<=1,g=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(IV));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const C=b/1e3;Uw(d.x,i.x,C),Uw(d.y,i.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NV(this.relativeTarget,this.relativeTargetOrigin,h,C),x&&fV(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=pt()),pn(x,this.relativeTarget)),y&&(this.animationValues=u,iV(u,c,this.latestValues,C,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{Hl.hasAnimatedSinceResize=!0,this.currentAnimation=wV(0,Fw,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&DP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pt();const d=cn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+d;const h=cn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}pn(a,l),ps(a,u),zi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new hV),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Yd("z",i,c,this.animationValues);for(let u=0;u<Kd.length;u++)Yd(`rotate${Kd[u]}`,i,c,this.animationValues),Yd(`skew${Kd[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xV;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wl(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Wl(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=pV(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:w,y:v}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Nc){if(h[y]===void 0)continue;const{correct:S,applyTo:m}=Nc[y],g=c.transform==="none"?h[y]:S(h[y],d);if(m){const x=m.length;for(let b=0;b<x;b++)c[m[b]]=g}else c[y]=g}return this.options.layoutId&&(c.pointerEvents=d===this?Wl(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($w),this.root.sharedNodes.clear()}}}function bV(e){e.updateLayout()}function CV(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?mn(d=>{const h=i?n.measuredBox[d]:n.layoutBox[d],w=cn(h);h.min=r[d].min,h.max=h.min+w}):DP(s,n.layoutBox,r)&&mn(d=>{const h=i?n.measuredBox[d]:n.layoutBox[d],w=cn(r[d]);h.max=h.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+w)});const a=fs();zi(a,r,n.layoutBox);const l=fs();i?zi(l,e.applyTransform(o,!0),n.measuredBox):zi(l,r,n.layoutBox);const c=!PP(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:w}=d;if(h&&w){const v=pt();Bi(v,n.layoutBox,h.layoutBox);const y=pt();Bi(y,r,w.layoutBox),TP(v,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function EV(e){Di&&So.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function PV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function TV(e){e.clearSnapshot()}function $w(e){e.clearMeasurements()}function kV(e){e.isLayoutDirty=!1}function AV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DV(e){e.resolveTargetDelta()}function RV(e){e.calcProjection()}function MV(e){e.resetSkewAndRotation()}function _V(e){e.removeLeadSnapshot()}function Uw(e,t,n){e.translate=rt(t.translate,0,n),e.scale=rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zw(e,t,n,r){e.min=rt(t.min,n.min,r),e.max=rt(t.max,n.max,r)}function NV(e,t,n,r){zw(e.x,t.x,n.x,r),zw(e.y,t.y,n.y,r)}function IV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jV={duration:.45,ease:[.4,0,.1,1]},Bw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qw=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:Lt;function Hw(e){e.min=qw(e.min),e.max=qw(e.max)}function LV(e){Hw(e.x),Hw(e.y)}function DP(e,t,n){return e==="position"||e==="preserve-aspect"&&!O$(Lw(t),Lw(n),.2)}function OV(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const FV=AP({attachResizeListener:(e,t)=>hr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xd={current:void 0},RP=AP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xd.current){const e=new FV({});e.mount(window),e.setOptions({layoutScroll:!0}),Xd.current=e}return Xd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$V={pan:{Feature:J$},drag:{Feature:Z$,ProjectionNode:RP,MeasureLayout:bP}};function Ww(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&He.postRender(()=>o(t,za(t)))}class VV extends mo{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=k$(t,r=>(Ww(this.node,r,!0),o=>Ww(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class UV extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=no(hr(this.node.current,"focus",()=>this.onFocus()),hr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MP=(e,t)=>t?e===t?!0:MP(e,t.parentElement):!1;function Qd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,za(n))}class zV extends mo{constructor(){super(...arguments),this.removeStartListeners=Lt,this.removeEndListeners=Lt,this.removeAccessibleListeners=Lt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ro(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),h=!d&&!MP(this.node.current,a.target)?u:c;h&&He.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=ro(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=no(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Qd("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&He.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=hr(this.node.current,"keyup",i),Qd("down",(a,l)=>{this.startPress(a,l)})},n=hr(this.node.current,"keydown",t),r=()=>{this.isPressing&&Qd("cancel",(s,i)=>this.cancelPress(s,i))},o=hr(this.node.current,"blur",r);this.removeAccessibleListeners=no(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&He.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&He.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ro(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=hr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=no(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ph=new WeakMap,Zd=new WeakMap,BV=e=>{const t=Ph.get(e.target);t&&t(e)},qV=e=>{e.forEach(BV)};function HV({root:e,...t}){const n=e||document;Zd.has(n)||Zd.set(n,{});const r=Zd.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(qV,{root:e,...t})),r[o]}function WV(e,t,n){const r=HV(t);return Ph.set(e,n),r.observe(e),()=>{Ph.delete(e),r.unobserve(e)}}const GV={some:0,all:1};class KV extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:GV[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return WV(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(YV(t,n))&&this.startObserver()}unmount(){}}function YV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const XV={inView:{Feature:KV},tap:{Feature:zV},focus:{Feature:UV},hover:{Feature:VV}},QV={layout:{ProjectionNode:RP,MeasureLayout:bP}},Um=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Du=f.createContext({}),zm=typeof window<"u",_P=zm?f.useLayoutEffect:f.useEffect,NP=f.createContext({strict:!1});function ZV(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Du),l=f.useContext(NP),c=f.useContext(Au),u=f.useContext(Um).reducedMotion,d=f.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,w=f.useContext(SP);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&JV(d.current,n,o,w);const v=f.useRef(!1);f.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const y=n[iP],S=f.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,y)));return _P(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Vm.render(h.render),S.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!S.current&&h.animationState&&h.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,y)}),S.current=!1))}),h}function JV(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:IP(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&ds(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function IP(e){if(e)return e.options.allowProjection!==!1?e.projection:IP(e.parent)}function eU(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ds(n)&&(n.current=r))},[t])}function Ru(e){return Pu(e.animate)||wm.some(t=>va(e[t]))}function jP(e){return!!(Ru(e)||e.variants)}function tU(e,t){if(Ru(e)){const{initial:n,animate:r}=e;return{initial:n===!1||va(n)?n:void 0,animate:va(r)?r:void 0}}return e.inherit!==!1?t:{}}function nU(e){const{initial:t,animate:n}=tU(e,f.useContext(Du));return f.useMemo(()=>({initial:t,animate:n}),[Gw(t),Gw(n)])}function Gw(e){return Array.isArray(e)?e.join(" "):e}const Kw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Js={};for(const e in Kw)Js[e]={isEnabled:t=>Kw[e].some(n=>!!t[n])};function rU(e){for(const t in e)Js[t]={...Js[t],...e[t]}}const oU=Symbol.for("motionComponentSymbol");function sU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&rU(e);function s(a,l){let c;const u={...f.useContext(Um),...a,layoutId:iU(a)},{isStatic:d}=u,h=nU(a),w=r(a,d);if(!d&&zm){aU();const v=lU(u);c=v.MeasureLayout,h.visualElement=ZV(o,w,u,t,v.ProjectionNode)}return p.jsxs(Du.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,n(o,a,eU(w,h.visualElement,l),w,d,h.visualElement)]})}const i=f.forwardRef(s);return i[oU]=o,i}function iU({layoutId:e}){const t=f.useContext($m).id;return t&&e!==void 0?t+"-"+e:e}function aU(e,t){f.useContext(NP).strict}function lU(e){const{drag:t,layout:n}=Js;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const cU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bm(e){return typeof e!="string"||e.includes("-")?!1:!!(cU.indexOf(e)>-1||/[A-Z]/u.test(e))}function LP(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const OP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FP(e,t,n,r){LP(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(OP.has(o)?o:Fm(o),t.attrs[o])}function $P(e,{layout:t,layoutId:n}){return Go.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nc[e]||e==="opacity")}function qm(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(jt(o[i])||t.style&&jt(t.style[i])||$P(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function VP(e,t,n){const r=qm(e,t,n);for(const o in e)if(jt(e[o])||jt(t[o])){const s=$a.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function Hm(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function uU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:dU(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const UP=e=>(t,n)=>{const r=f.useContext(Du),o=f.useContext(Au),s=()=>uU(e,t,r,o);return n?s():Hm(s)};function dU(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=Wl(s[h]);let{initial:i,animate:a}=e;const l=Ru(e),c=jP(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const d=u?a:i;if(d&&typeof d!="boolean"&&!Pu(d)){const h=Array.isArray(d)?d:[d];for(let w=0;w<h.length;w++){const v=vm(e,h[w]);if(v){const{transitionEnd:y,transition:S,...m}=v;for(const g in m){let x=m[g];if(Array.isArray(x)){const b=u?x.length-1:0;x=x[b]}x!==null&&(o[g]=x)}for(const g in y)o[g]=y[g]}}}return o}const Wm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zP=()=>({...Wm(),attrs:{}}),BP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hU=$a.length;function pU(e,t,n){let r="",o=!0;for(let s=0;s<hU;s++){const i=$a[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=BP(a,km[i]);if(!l){o=!1;const u=fU[i]||i;r+=`${u}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Gm(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(Go.has(l)){i=!0;continue}else if(jE(l)){o[l]=c;continue}else{const u=BP(c,km[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(i||n?r.transform=pU(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function Yw(e,t,n){return typeof e=="string"?e:de.transform(t+n*e)}function mU(e,t,n){const r=Yw(t,e.x,e.width),o=Yw(n,e.y,e.height);return`${r} ${o}`}const gU={offset:"stroke-dashoffset",array:"stroke-dasharray"},vU={offset:"strokeDashoffset",array:"strokeDasharray"};function yU(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?gU:vU;e[s.offset]=de.transform(-r);const i=de.transform(t),a=de.transform(n);e[s.array]=`${i} ${a}`}function Km(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Gm(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:w,dimensions:v}=e;h.transform&&(v&&(w.transform=h.transform),delete h.transform),v&&(o!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=mU(v,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&yU(h,i,a,l,!1)}const Ym=e=>typeof e=="string"&&e.toLowerCase()==="svg",wU={useVisualState:UP({scrapeMotionValuesFromProps:VP,createRenderState:zP,onMount:(e,t,{renderState:n,latestValues:r})=>{He.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),He.render(()=>{Km(n,r,Ym(t.tagName),e.transformTemplate),FP(t,n)})}})},xU={useVisualState:UP({scrapeMotionValuesFromProps:qm,createRenderState:Wm})};function qP(e,t,n){for(const r in t)!jt(t[r])&&!$P(r,n)&&(e[r]=t[r])}function SU({transformTemplate:e},t){return f.useMemo(()=>{const n=Wm();return Gm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function bU(e,t){const n=e.style||{},r={};return qP(r,n,e),Object.assign(r,SU(e,t)),r}function CU(e,t){const n={},r=bU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const EU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EU.has(e)}let HP=e=>!Ic(e);function PU(e){e&&(HP=t=>t.startsWith("on")?!Ic(t):e(t))}try{PU(require("@emotion/is-prop-valid").default)}catch{}function TU(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(HP(o)||n===!0&&Ic(o)||!t&&!Ic(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function kU(e,t,n,r){const o=f.useMemo(()=>{const s=zP();return Km(s,t,Ym(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};qP(s,e.style,e),o.style={...s,...o.style}}return o}function AU(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(Bm(n)?kU:CU)(r,s,i,n),c=TU(r,typeof n=="string",e),u=n!==f.Fragment?{...c,...l,ref:o}:{},{children:d}=r,h=f.useMemo(()=>jt(d)?d.get():d,[d]);return f.createElement(n,{...u,children:h})}}function DU(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...Bm(r)?wU:xU,preloadedFeatures:e,useRender:AU(o),createVisualElement:t,Component:r};return sU(i)}}const Th={current:null},WP={current:!1};function RU(){if(WP.current=!0,!!zm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Th.current=e.matches;e.addListener(t),t()}else Th.current=!1}function MU(e,t,n){for(const r in t){const o=t[r],s=n[r];if(jt(o))e.addValue(r,o);else if(jt(s))e.addValue(r,xa(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,xa(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Xw=new WeakMap,_U=[...FE,_t,uo],NU=e=>_U.find(OE(e)),Qw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Em,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=tr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,He.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ru(n),this.isVariantNode=jP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const w=d[h];l[h]!==void 0&&jt(w)&&w.set(l[h],!1)}}mount(t){this.current=t,Xw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),WP.current||RU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Th.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xw.delete(this.current),this.projection&&this.projection.unmount(),co(this.notifyUpdate),co(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Go.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Js){const n=Js[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qw.length;r++){const o=Qw[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=MU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(NE(o)||_E(o))?o=parseFloat(o):!NU(o)&&uo.test(n)&&(o=WE(t,n)),this.setBaseTarget(t,jt(o)?o.get():o)),jt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=vm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!jt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Om),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class GP extends IU{constructor(){super(...arguments),this.KeyframeResolver=GE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;jt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jU(e){return window.getComputedStyle(e)}class LU extends GP{constructor(){super(...arguments),this.type="html",this.renderInstance=LP}readValueFromInstance(t,n){if(Go.has(n)){const r=Am(n);return r&&r.default||0}else{const r=jU(t),o=(jE(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wP(t,n)}build(t,n,r){Gm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return qm(t,n,r)}}class OU extends GP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Go.has(n)){const r=Am(n);return r&&r.default||0}return n=OP.has(n)?n:Fm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return VP(t,n,r)}build(t,n,r){Km(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){FP(t,n,r,o)}mount(t){this.isSVGTag=Ym(t.tagName),super.mount(t)}}const FU=(e,t)=>Bm(e)?new OU(t):new LU(t,{allowProjection:e!==f.Fragment}),$U=DU({...P$,...XV,...$V,...QV},FU),Mu=CO($U);class VU extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UU({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(Um);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.jsx(VU,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const zU=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=Hm(BU),l=f.useId(),c=f.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(UU,{isPresent:n,children:e})),p.jsx(Au.Provider,{value:u,children:e})};function BU(){return new Map}const Cl=e=>e.key||"";function Zw(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Xm=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>Zw(e),[e]),l=a.map(Cl),c=f.useRef(!0),u=f.useRef(a),d=Hm(()=>new Map),[h,w]=f.useState(a),[v,y]=f.useState(a);_P(()=>{c.current=!1,u.current=a;for(let g=0;g<v.length;g++){const x=Cl(v[g]);l.includes(x)?d.delete(x):d.get(x)!==!0&&d.set(x,!1)}},[v,l.length,l.join("-")]);const S=[];if(a!==h){let g=[...a];for(let x=0;x<v.length;x++){const b=v[x],C=Cl(b);l.includes(C)||(g.splice(x,0,b),S.push(b))}i==="wait"&&S.length&&(g=S),y(Zw(g)),w(a);return}const{forceRender:m}=f.useContext($m);return p.jsx(p.Fragment,{children:v.map(g=>{const x=Cl(g),b=a===v||l.includes(x),C=()=>{if(d.has(x))d.set(x,!0);else return;let P=!0;d.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),y(u.current),o&&o())};return p.jsx(zU,{isPresent:b,initial:!c.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:b?void 0:C,children:g},x)})})};function qU({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(Mu.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function HU(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=or(),a=50,l=.3,c={enter:v=>({x:v>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:v=>({x:v<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},u=(v,y)=>{const{offset:S,velocity:m}=y;S.x>a||m.x>l&&S.x>10?s(-1):(S.x<-a||m.x<-l&&S.x<-10)&&s(1)},d=f.useCallback(v=>{const S=new Date(Date.UTC(t,e,v)).toISOString().split("T")[0],m=n.filter(x=>x.date===S);return{hasPhotoEntries:m.some(x=>x.photos&&x.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const v=new Date(t,e+1,0).getDate(),y=new Date(t,e,1).getDay(),S=Array(y).fill(null).map((g,x)=>({type:"empty",index:x})),m=Array.from({length:v},(g,x)=>({type:"day",day:x+1}));return[...S,...m]},[e,t]),w=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(v=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:v},v))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(Xm,{initial:!1,custom:r,mode:"wait",children:p.jsx(Mu.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:w,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:u,style:{willChange:"transform"},children:h().map(v=>{const y=m=>m.type==="day",S=y(v)?`day-${v.day}`:`empty-${v.index}`;if(y(v)){const{hasPhotoEntries:m,entryCount:g}=d(v.day);return p.jsx(qU,{day:v.day,hasPhotoEntries:m,entryCount:g,onClick:()=>o(v.day)},S)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},S)})},`${t}-${e}`)})]})]})}function WU(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=or(),s=new Date(t,e).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(qe,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx(a_,{className:"h-4 w-4"})}),p.jsxs(qe,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(i_,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(qe,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(kb,{className:"h-4 w-4"})})]})}function Qm(e,[t,n]){return Math.min(n,Math.max(t,e))}function GU(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Zm="ScrollArea",[KP,u3]=Zt(Zm),[KU,Pn]=KP(Zm),YP=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,u]=f.useState(null),[d,h]=f.useState(null),[w,v]=f.useState(null),[y,S]=f.useState(null),[m,g]=f.useState(0),[x,b]=f.useState(0),[C,P]=f.useState(!1),[k,A]=f.useState(!1),M=De(t,I=>l(I)),_=La(o);return p.jsx(KU,{scope:n,type:r,dir:_,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:w,onScrollbarXChange:v,scrollbarXEnabled:C,onScrollbarXEnabledChange:P,scrollbarY:y,onScrollbarYChange:S,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:g,onCornerHeightChange:b,children:p.jsx(he.div,{dir:_,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});YP.displayName=Zm;var XP="ScrollAreaViewport",QP=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Pn(XP,n),a=f.useRef(null),l=De(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(he.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QP.displayName=XP;var sr="ScrollAreaScrollbar",Jm=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Pn(sr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(YU,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(XU,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(ZP,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(eg,{...r,ref:t}):null});Jm.displayName=sr;var YU=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Pn(sr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(Jt,{present:n||s,children:p.jsx(ZP,{"data-state":s?"visible":"hidden",...r,ref:t})})}),XU=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Pn(sr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Nu(()=>l("SCROLL_END"),100),[a,l]=GU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const w=c[u];d!==w&&(l("SCROLL"),i()),d=w};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(Jt,{present:n||a!=="hidden",children:p.jsx(eg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ZP=f.forwardRef((e,t)=>{const n=Pn(sr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=Nu(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:u)}},10);return ei(n.viewport,l),ei(n.content,l),p.jsx(Jt,{present:r||s,children:p.jsx(eg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),eg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Pn(sr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=rT(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function d(h,w){return n4(h,i.current,a,w)}return n==="horizontal"?p.jsx(QU,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,w=Jw(h,a,o.dir);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=d(h,o.dir))}}):n==="vertical"?p.jsx(ZU,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,w=Jw(h,a);s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=d(h))}}):null}),QU=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Pn(sr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=De(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(eT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_u(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),sT(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Lc(i.paddingLeft),paddingEnd:Lc(i.paddingRight)}})}})}),ZU=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Pn(sr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=De(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(eT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_u(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),sT(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Lc(i.paddingTop),paddingEnd:Lc(i.paddingBottom)}})}})}),[JU,JP]=KP(sr),eT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=e,w=Pn(sr,n),[v,y]=f.useState(null),S=De(t,M=>y(M)),m=f.useRef(null),g=f.useRef(""),x=w.viewport,b=r.content-r.viewport,C=nt(u),P=nt(l),k=Nu(d,10);function A(M){if(m.current){const _=M.clientX-m.current.left,I=M.clientY-m.current.top;c({x:_,y:I})}}return f.useEffect(()=>{const M=_=>{const I=_.target;(v==null?void 0:v.contains(I))&&C(_,b)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,v,b,C]),f.useEffect(P,[r,P]),ei(v,k),ei(w.content,k),p.jsx(JU,{scope:n,scrollbar:v,hasThumb:o,onThumbChange:nt(s),onThumbPointerUp:nt(i),onThumbPositionChange:P,onThumbPointerDown:nt(a),children:p.jsx(he.div,{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:Z(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),m.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),A(M))}),onPointerMove:Z(e.onPointerMove,A),onPointerUp:Z(e.onPointerUp,M=>{const _=M.target;_.hasPointerCapture(M.pointerId)&&_.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=g.current,w.viewport&&(w.viewport.style.scrollBehavior=""),m.current=null})})})}),jc="ScrollAreaThumb",tT=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=JP(jc,e.__scopeScrollArea);return p.jsx(Jt,{present:n||o.hasThumb,children:p.jsx(e4,{ref:t,...r})})}),e4=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Pn(jc,n),i=JP(jc,n),{onThumbPositionChange:a}=i,l=De(t,d=>i.onThumbChange(d)),c=f.useRef(void 0),u=Nu(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const w=r4(d,a);c.current=w,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,a]),p.jsx(he.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(e.onPointerDownCapture,d=>{const w=d.target.getBoundingClientRect(),v=d.clientX-w.left,y=d.clientY-w.top;i.onThumbPointerDown({x:v,y})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});tT.displayName=jc;var tg="ScrollAreaCorner",nT=f.forwardRef((e,t)=>{const n=Pn(tg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(t4,{...e,ref:t}):null});nT.displayName=tg;var t4=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Pn(tg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return ei(o.scrollbarX,()=>{var d;const u=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(u),l(u)}),ei(o.scrollbarY,()=>{var d;const u=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(u),i(u)}),c?p.jsx(he.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Lc(e){return e?parseInt(e,10):0}function rT(e,t){const n=e/t;return isNaN(n)?0:n}function _u(e){const t=rT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function n4(e,t,n,r="ltr"){const o=_u(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return oT([l,c],d)(e)}function Jw(e,t,n="ltr"){const r=_u(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Qm(e,l);return oT([0,i],[0,a])(c)}function oT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sT(e,t){return e>0&&e<t}var r4=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Nu(e,t){const n=nt(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ei(e,t){const n=nt(t);En(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var iT=YP,o4=QP,s4=nT;const aT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(iT,{ref:r,className:J("relative overflow-hidden",e),...n,children:[p.jsx(o4,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(lT,{}),p.jsx(s4,{})]}));aT.displayName=iT.displayName;const lT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Jm,{ref:r,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(tT,{className:"relative flex-1 rounded-full bg-border"})}));lT.displayName=Jm.displayName;const i4=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},cT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),u=f.useRef(null),d=f.useCallback(()=>{const w=c.current,v=u.current;if(v){const y=i4(v),S=y*t,g=v.scrollHeight>S+y*.5;l(g),i(w&&!r?w.scrollHeight>w.clientHeight+2||g:!1),w&&!r&&g?(w.style.maxHeight=`${S}px`,w.style.overflow="hidden"):w&&(w.style.maxHeight="",w.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{d()},[e,t,d]),f.useEffect(()=>{const w=c.current;if(!w)return;const v=new ResizeObserver(()=>{d()});return v.observe(w),()=>v.disconnect()},[d]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:u,className:J("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:J("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(qe,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function a4(e){return Object.prototype.toString.call(e)==="[object Object]"}function e0(e){return a4(e)||Array.isArray(e)}function l4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ng(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!e0(a)||!e0(l)?a===l:ng(a,l)})}function t0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function c4(e,t){if(e.length!==t.length)return!1;const n=t0(e),r=t0(t);return n.every((o,s)=>{const i=r[s];return ng(o,i)})}function rg(e){return typeof e=="number"}function kh(e){return typeof e=="string"}function Iu(e){return typeof e=="boolean"}function n0(e){return Object.prototype.toString.call(e)==="[object Object]"}function ot(e){return Math.abs(e)}function og(e){return Math.sign(e)}function qi(e,t){return ot(e-t)}function u4(e,t){if(e===0||t===0||ot(e)<=ot(t))return 0;const n=qi(ot(e),ot(t));return ot(n/e)}function d4(e){return Math.round(e*100)/100}function Sa(e){return ba(e).map(Number)}function Ln(e){return e[Ba(e)]}function Ba(e){return Math.max(0,e.length-1)}function sg(e,t){return t===Ba(e)}function r0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function ba(e){return Object.keys(e)}function uT(e,t){return[e,t].reduce((n,r)=>(ba(r).forEach(o=>{const s=n[o],i=r[o],a=n0(s)&&n0(i);n[o]=a?uT(s,i):i}),n),{})}function Ah(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function f4(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return kh(e)?n[e](l):e(t,l,c)}return{measure:i}}function Ca(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function h4(e,t,n,r){const o=Ca(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&v()})}function u(){w(),o.clear()}function d(S){if(!l)return;i||(i=S,n(),n());const m=S-i;for(i=S,a+=m;a>=s;)n(),a-=s;const g=a/s;r(g),l&&(l=t.requestAnimationFrame(d))}function h(){l||(l=t.requestAnimationFrame(d))}function w(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function v(){i=null,a=0}return{init:c,destroy:u,start:h,stop:w,update:n,render:r}}function p4(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=u(),l=d();function c(v){const{height:y,width:S}=v;return r?y:S}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function h(v){return v*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function Uo(e=0,t=0){const n=ot(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function dT(e,t,n){const{constrain:r}=Uo(0,e),o=e+1;let s=i(t);function i(h){return n?ot((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),d}function c(h){return u().set(a()+h)}function u(){return dT(e,a(),n)}const d={get:a,set:l,add:c,clone:u};return d}function m4(e,t,n,r,o,s,i,a,l,c,u,d,h,w,v,y,S,m,g){const{cross:x,direction:b}=e,C=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Ca(),A=Ca(),M=Uo(50,225).constrain(w.measure(20)),_={mouse:300,touch:400},I={mouse:500,touch:600},$=v?43:25;let j=!1,L=0,W=0,N=!1,O=!1,D=!1,R=!1;function F(Q){if(!g)return;function ve(q){(Iu(g)||g(Q,q))&&Re(q)}const B=t;k.add(B,"dragstart",q=>q.preventDefault(),P).add(B,"touchmove",()=>{},P).add(B,"touchend",()=>{}).add(B,"touchstart",ve).add(B,"mousedown",ve).add(B,"touchcancel",_e).add(B,"contextmenu",_e).add(B,"click",Se,!0)}function z(){k.clear(),A.clear()}function G(){const Q=R?n:t;A.add(Q,"touchmove",pe,P).add(Q,"touchend",_e).add(Q,"mousemove",pe,P).add(Q,"mouseup",_e)}function ae(Q){const ve=Q.nodeName||"";return C.includes(ve)}function oe(){return(v?I:_)[R?"mouse":"touch"]}function Ze(Q,ve){const B=d.add(og(Q)*-1),q=u.byDistance(Q,!v).distance;return v||ot(Q)<M?q:S&&ve?q*.5:u.byIndex(B.get(),0).distance}function Re(Q){const ve=Ah(Q,r);R=ve,D=v&&ve&&!Q.buttons&&j,j=qi(o.get(),i.get())>=2,!(ve&&Q.button!==0)&&(ae(Q.target)||(N=!0,s.pointerDown(Q),c.useFriction(0).useDuration(0),o.set(i),G(),L=s.readPoint(Q),W=s.readPoint(Q,x),h.emit("pointerDown")))}function pe(Q){if(!Ah(Q,r)&&Q.touches.length>=2)return _e(Q);const B=s.readPoint(Q),q=s.readPoint(Q,x),K=qi(B,L),se=qi(q,W);if(!O&&!R&&(!Q.cancelable||(O=K>se,!O)))return _e(Q);const Y=s.pointerMove(Q);K>y&&(D=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(b(Y)),Q.preventDefault()}function _e(Q){const B=u.byDistance(0,!1).index!==d.get(),q=s.pointerUp(Q)*oe(),K=Ze(b(q),B),se=u4(q,K),Y=$-10*se,ue=m+se/50;O=!1,N=!1,A.clear(),c.useDuration(Y).useFriction(ue),l.distance(K,!v),R=!1,h.emit("pointerUp")}function Se(Q){D&&(Q.stopPropagation(),Q.preventDefault(),D=!1)}function Ue(){return N}return{init:F,destroy:z,pointerDown:Ue}}function g4(e,t){let r,o;function s(d){return d.timeStamp}function i(d,h){const v=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(Ah(d,t)?d:d.touches[0])[v]}function a(d){return r=d,o=d,i(d)}function l(d){const h=i(d)-i(o),w=s(d)-s(r)>170;return o=d,w&&(r=d),h}function c(d){if(!r||!o)return 0;const h=i(o)-i(r),w=s(d)-s(r),v=s(d)-s(o)>170,y=h/w;return w&&!v&&ot(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function v4(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function y4(e){function t(r){return e*(r/100)}return{measure:t}}function w4(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,u=[],d=!1;function h(S){return o.measureSize(i.measure(S))}function w(S){if(!s)return;c=h(e),u=r.map(h);function m(g){for(const x of g){if(d)return;const b=x.target===e,C=r.indexOf(x.target),P=b?c:u[C],k=h(b?e:r[C]);if(ot(k-P)>=.5){S.reInit(),t.emit("resize");break}}}l=new ResizeObserver(g=>{(Iu(s)||s(S,g))&&m(g)}),n.requestAnimationFrame(()=>{a.forEach(g=>l.observe(g))})}function v(){d=!0,l&&l.disconnect()}return{init:w,destroy:v}}function x4(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,u=e.get(),d=0;function h(){const P=r.get()-e.get(),k=!l;let A=0;return k?(i=0,n.set(r),e.set(r),A=P):(n.set(e),i+=P/l,i*=c,u+=i,e.add(i),A=u-d),a=og(A),d=u,C}function w(){const P=r.get()-t.get();return ot(P)<.001}function v(){return l}function y(){return a}function S(){return i}function m(){return x(o)}function g(){return b(s)}function x(P){return l=P,C}function b(P){return c=P,C}const C={direction:y,duration:v,velocity:S,seek:h,settled:w,useBaseFriction:g,useBaseDuration:m,useFriction:b,useDuration:x};return C}function S4(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=Uo(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function u(w){if(!c())return;const v=e.reachedMin(t.get())?"min":"max",y=ot(e[v]-t.get()),S=n.get()-t.get(),m=a.constrain(y/i);n.subtract(S*m),!w&&ot(S)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(w){l=!w}return{shouldConstrain:c,constrain:u,toggleActive:d}}function b4(e,t,n,r,o){const s=Uo(-t+e,0),i=d(),a=u(),l=h();function c(v,y){return qi(v,y)<=1}function u(){const v=i[0],y=Ln(i),S=i.lastIndexOf(v),m=i.indexOf(y)+1;return Uo(S,m)}function d(){return n.map((v,y)=>{const{min:S,max:m}=s,g=s.constrain(v),x=!y,b=sg(n,y);return x?m:b||c(S,g)?S:c(m,g)?m:g}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:v,max:y}=a;return i.slice(v,y)}return{snapsContained:l,scrollContainLimit:a}}function C4(e,t,n){const r=t[0],o=n?r-e:Ln(t);return{limit:Uo(o,r)}}function E4(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=Uo(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function u(h){if(!c(h))return;const w=e*(h*-1);r.forEach(v=>v.add(w))}return{loop:u}}function P4(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function T4(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=d().map(t.measure),c=h(),u=w();function d(){return a(r).map(y=>Ln(y)[i]-y[0][s]).map(ot)}function h(){return r.map(y=>n[s]-y[s]).map(y=>-ot(y))}function w(){return a(c).map(y=>y[0]).map((y,S)=>y+l[S])}return{snaps:c,snapsAligned:u}}function k4(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=u();function u(){const h=i(s),w=!e||t==="keepSnaps";return n.length===1?[s]:w?h:h.slice(a,l).map((v,y,S)=>{const m=!y,g=sg(S,y);if(m){const x=Ln(S[0])+1;return r0(x)}if(g){const x=Ba(s)-Ln(S)[0]+1;return r0(x,Ln(S)[0])}return v})}return{slideRegistry:c}}function A4(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(v){return v.concat().sort((y,S)=>ot(y)-ot(S))[0]}function c(v){const y=e?i(v):a(v),S=t.map((g,x)=>({diff:u(g-y,0),index:x})).sort((g,x)=>ot(g.diff)-ot(x.diff)),{index:m}=S[0];return{index:m,distance:y}}function u(v,y){const S=[v,v+n,v-n];if(!e)return v;if(!y)return l(S);const m=S.filter(g=>og(g)===y);return m.length?l(m):Ln(S)-n}function d(v,y){const S=t[v]-o.get(),m=u(S,y);return{index:v,distance:m}}function h(v,y){const S=o.get()+v,{index:m,distance:g}=c(S),x=!e&&s(S);if(!y||x)return{index:m,distance:v};const b=t[m]-g,C=v+u(b,0);return{index:m,distance:C}}return{byDistance:h,byIndex:d,shortcut:u}}function D4(e,t,n,r,o,s,i){function a(d){const h=d.distance,w=d.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),w&&(n.set(t.get()),t.set(d.index),i.emit("select"))}function l(d,h){const w=o.byDistance(d,h);a(w)}function c(d,h){const w=t.clone().set(d),v=o.byIndex(w.get(),h);a(v)}return{distance:l,index:c}}function R4(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function u(w){if(!a)return;function v(y){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const g=n.findIndex(x=>x.includes(y));rg(g)&&(o.useDuration(0),r.index(g,0),i.emit("slideFocus"))}s.add(document,"keydown",d,!1),t.forEach((y,S)=>{s.add(y,"focus",m=>{(Iu(a)||a(w,m))&&v(S)},l)})}function d(w){w.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function Ri(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return rg(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function fT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const w=d4(e.direction(h));w!==o&&(r.transform=n(w),o=w)}function c(h){s=!h}function u(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function M4(e,t,n,r,o,s,i,a,l){const u=Sa(o),d=Sa(o).reverse(),h=m().concat(g());function w(k,A){return k.reduce((M,_)=>M-o[_],A)}function v(k,A){return k.reduce((M,_)=>w(M,A)>0?M.concat([_]):M,[])}function y(k){return s.map((A,M)=>({start:A-r[M]+.5+k,end:A+t-.5+k}))}function S(k,A,M){const _=y(A);return k.map(I=>{const $=M?0:-n,j=M?n:0,L=M?"end":"start",W=_[I][L];return{index:I,loopPoint:W,slideLocation:Ri(-1),translate:fT(e,l[I]),target:()=>a.get()>W?$:j}})}function m(){const k=i[0],A=v(d,k);return S(A,n,!1)}function g(){const k=t-i[0]-1,A=v(u,k);return S(A,-n,!0)}function x(){return h.every(({index:k})=>{const A=u.filter(M=>M!==k);return w(A,t)<=.1})}function b(){h.forEach(k=>{const{target:A,translate:M,slideLocation:_}=k,I=A();I!==_.get()&&(M.to(I),_.set(I))})}function C(){h.forEach(k=>k.translate.clear())}return{canLoop:x,clear:C,loop:b,loopPoints:h}}function _4(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(u){for(const d of u)if(d.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(u=>{o||(Iu(n)||n(l,u))&&c(u)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function N4(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(y=>{const S=t.indexOf(y.target);o[S]=y}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(v=>a.observe(v))}function u(){a&&a.disconnect(),l=!0}function d(v){return ba(o).reduce((y,S)=>{const m=parseInt(S),{isIntersecting:g}=o[m];return(v&&g||!v&&!g)&&y.push(m),y},[])}function h(v=!0){if(v&&s)return s;if(!v&&i)return i;const y=d(v);return v&&(s=y),v||(i=y),y}return{init:c,destroy:u,get:h}}function I4(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,u=v(),d=y(),h=n.map(i),w=S();function v(){if(!c)return 0;const g=n[0];return ot(t[a]-g[a])}function y(){if(!c)return 0;const g=s.getComputedStyle(Ln(r));return parseFloat(g.getPropertyValue(`margin-${l}`))}function S(){return n.map((g,x,b)=>{const C=!x,P=sg(b,x);return C?h[x]+u:P?h[x]+d:b[x+1][a]-g[a]}).map(ot)}return{slideSizes:h,slideSizesWithGaps:w,startGap:u,endGap:d}}function j4(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:u,direction:d}=e,h=rg(n);function w(m,g){return Sa(m).filter(x=>x%g===0).map(x=>m.slice(x,x+g))}function v(m){return m.length?Sa(m).reduce((g,x,b)=>{const C=Ln(g)||0,P=C===0,k=x===Ba(m),A=o[c]-s[C][c],M=o[c]-s[x][u],_=!r&&P?d(i):0,I=!r&&k?d(a):0,$=ot(M-I-(A+_));return b&&$>t+l&&g.push(x),k&&g.push(m.length),g},[]).map((g,x,b)=>{const C=Math.max(b[x-1]||0);return m.slice(C,g)}):[]}function y(m){return h?w(m,n):v(m)}return{groupSlides:y}}function L4(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:u,loop:d,duration:h,dragFree:w,dragThreshold:v,inViewThreshold:y,slidesToScroll:S,skipSnaps:m,containScroll:g,watchResize:x,watchSlides:b,watchDrag:C,watchFocus:P}=s,k=2,A=v4(),M=A.measure(t),_=n.map(A.measure),I=p4(l,c),$=I.measureSize(M),j=y4($),L=f4(a,$),W=!d&&!!g,N=d||!!g,{slideSizes:O,slideSizesWithGaps:D,startGap:R,endGap:F}=I4(I,M,_,n,N,o),z=j4(I,$,S,d,M,_,R,F,k),{snaps:G,snapsAligned:ae}=T4(I,L,M,_,z),oe=-Ln(G)+Ln(D),{snapsContained:Ze,scrollContainLimit:Re}=b4($,oe,ae,g,k),pe=W?Ze:ae,{limit:_e}=C4(oe,pe,d),Se=dT(Ba(pe),u,d),Ue=Se.clone(),be=Sa(n),Q=({dragHandler:Ne,scrollBody:yt,scrollBounds:U,options:{loop:te}})=>{te||U.constrain(Ne.pointerDown()),yt.seek()},ve=({scrollBody:Ne,translate:yt,location:U,offsetLocation:te,previousLocation:ce,scrollLooper:fe,slideLooper:Me,dragHandler:We,animation:Oe,eventHandler:lt,scrollBounds:Ft,options:{loop:en}},fn)=>{const Un=Ne.settled(),zn=!Ft.shouldConstrain(),ir=en?Un:Un&&zn,Bn=ir&&!We.pointerDown();Bn&&Oe.stop();const X=U.get()*fn+ce.get()*(1-fn);te.set(X),en&&(fe.loop(Ne.direction()),Me.loop()),yt.to(te.get()),Bn&&lt.emit("settle"),ir||lt.emit("scroll")},B=h4(r,o,()=>Q(xe),Ne=>ve(xe,Ne)),q=.68,K=pe[Se.get()],se=Ri(K),Y=Ri(K),ue=Ri(K),Ce=Ri(K),le=x4(se,ue,Y,Ce,h,q),ke=A4(d,pe,oe,_e,Ce),Ae=D4(B,Se,Ue,le,ke,Ce,i),et=P4(_e),je=Ca(),Le=N4(t,n,i,y),{slideRegistry:ze}=k4(W,g,pe,Re,z,be),at=R4(e,n,ze,Ae,le,je,i,P),xe={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:M,slideRects:_,animation:B,axis:I,dragHandler:m4(I,e,r,o,Ce,g4(I,o),se,B,Ae,le,ke,Se,i,j,w,v,m,q,C),eventStore:je,percentOfView:j,index:Se,indexPrevious:Ue,limit:_e,location:se,offsetLocation:ue,previousLocation:Y,options:s,resizeHandler:w4(t,i,o,n,I,x,A),scrollBody:le,scrollBounds:S4(_e,ue,Ce,le,j),scrollLooper:E4(oe,_e,ue,[se,ue,Y,Ce]),scrollProgress:et,scrollSnapList:pe.map(et.get),scrollSnaps:pe,scrollTarget:ke,scrollTo:Ae,slideLooper:M4(I,$,oe,O,D,G,pe,ue,n),slideFocus:at,slidesHandler:_4(t,i,b),slidesInView:Le,slideIndexes:be,slideRegistry:ze,slidesToScroll:z,target:Ce,translate:fT(I,t)};return xe}function O4(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(u=>u(t,c)),l}function s(c,u){return e[c]=r(c).concat([u]),l}function i(c,u){return e[c]=r(c).filter(d=>d!==u),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const F4={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function $4(e){function t(s,i){return uT(s,i||{})}function n(s){const i=s.breakpoints||{},a=ba(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>ba(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function V4(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function Oc(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=$4(o),i=V4(s),a=Ca(),l=O4(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=s,{on:h,off:w,emit:v}=l,y=I;let S=!1,m,g=c(F4,Oc.globalOptions),x=c(g),b=[],C,P,k;function A(){const{container:be,slides:Q}=x;P=(kh(be)?e.querySelector(be):be)||e.children[0];const B=kh(Q)?P.querySelectorAll(Q):Q;k=[].slice.call(B||P.children)}function M(be){const Q=L4(e,P,k,r,o,be,l);if(be.loop&&!Q.slideLooper.canLoop()){const ve=Object.assign({},be,{loop:!1});return M(ve)}return Q}function _(be,Q){S||(g=c(g,be),x=u(g),b=Q||b,A(),m=M(x),d([g,...b.map(({options:ve})=>ve)]).forEach(ve=>a.add(ve,"change",I)),x.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ue),m.eventHandler.init(Ue),m.resizeHandler.init(Ue),m.slidesHandler.init(Ue),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(Ue),C=i.init(Ue,b)))}function I(be,Q){const ve=z();$(),_(c({startIndex:ve},be),Q),l.emit("reInit")}function $(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function j(){S||(S=!0,a.clear(),$(),l.emit("destroy"),l.clear())}function L(be,Q,ve){!x.active||S||(m.scrollBody.useBaseFriction().useDuration(Q===!0?0:x.duration),m.scrollTo.index(be,ve||0))}function W(be){const Q=m.index.add(1).get();L(Q,be,-1)}function N(be){const Q=m.index.add(-1).get();L(Q,be,1)}function O(){return m.index.add(1).get()!==z()}function D(){return m.index.add(-1).get()!==z()}function R(){return m.scrollSnapList}function F(){return m.scrollProgress.get(m.offsetLocation.get())}function z(){return m.index.get()}function G(){return m.indexPrevious.get()}function ae(){return m.slidesInView.get()}function oe(){return m.slidesInView.get(!1)}function Ze(){return C}function Re(){return m}function pe(){return e}function _e(){return P}function Se(){return k}const Ue={canScrollNext:O,canScrollPrev:D,containerNode:_e,internalEngine:Re,destroy:j,off:w,on:h,emit:v,plugins:Ze,previousScrollSnap:G,reInit:y,rootNode:pe,scrollNext:W,scrollPrev:N,scrollProgress:F,scrollSnapList:R,scrollTo:L,selectedScrollSnap:z,slideNodes:Se,slidesInView:ae,slidesNotInView:oe};return _(t,n),setTimeout(()=>l.emit("init"),0),Ue}Oc.globalOptions=void 0;function ig(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{ng(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{c4(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(l4()&&i){Oc.globalOptions=ig.globalOptions;const c=Oc(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}ig.globalOptions=void 0;const hT=f.createContext(null);function ju(){const e=f.useContext(hT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const pT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=ig({...t,axis:e==="horizontal"?"x":"y"},r),[u,d]=f.useState(!1),[h,w]=f.useState(!1),v=f.useCallback(g=>{g&&(d(g.canScrollPrev()),w(g.canScrollNext()))},[]),y=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),S=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),y()):g.key==="ArrowRight"&&(g.preventDefault(),S())},[y,S]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),p.jsx(hT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:S,canScrollPrev:u,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:J("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});pT.displayName="Carousel";const mT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=ju();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:J("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});mT.displayName="CarouselContent";const gT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=ju();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:J("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});gT.displayName="CarouselItem";const vT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=ju();return p.jsxs(qe,{ref:o,variant:t,size:n,className:J("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Pb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});vT.displayName="CarouselPrevious";const yT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=ju();return p.jsxs(qe,{ref:o,variant:t,size:n,className:J("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(s_,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});yT.displayName="CarouselNext";const wT=({imageUrl:e,cropData:t,photoMetadata:n,altText:r="Cropped image",className:o,imgClassName:s,enableLoadingState:i=!0})=>{const[a,l]=f.useState({}),[c,u]=f.useState("idle"),[d,h]=f.useState({width:0,height:0}),w=f.useRef(null),v=f.useRef(null),y=f.useCallback(()=>{if(w.current){const x=w.current.offsetWidth,b=w.current.offsetHeight;x>0&&b>0?h({width:x,height:b}):x>0&&h({width:x,height:x})}},[]);f.useEffect(()=>{const x=w.current;if(!x)return;const b=new ResizeObserver(y);return b.observe(x),y(),()=>{b.unobserve(x)}},[y]),f.useEffect(()=>{e?(c!=="loading"&&c!=="loaded"||v.current&&v.current.getAttribute("src")!==e)&&u("loading"):u("idle")},[e]),f.useEffect(()=>{l((()=>{const b=c==="loaded",C={position:"absolute",top:0,left:0,opacity:b?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:b?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!t||!(n!=null&&n.width)||!(n!=null&&n.height)||d.width<=0||t.w<=0||t.h<=0||n.width<=0||n.height<=0)return C;const{width:P,height:k}=n,M=d.width/t.w,_=P*M,I=k*M,$=-t.x*M,j=-t.y*M;return isNaN(_)||isNaN(I)||isNaN($)||isNaN(j)?(E.warn("NaN detected during style calculation",{scale:M,naturalW:P,naturalH:k,cropData:t}),C):{...C,width:`${_}px`,height:`${I}px`,transform:`translate(${$}px, ${j}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[t,n,c,d]);const S=f.useCallback(()=>{v.current&&v.current.getAttribute("src")===e&&e&&u("loaded")},[e]),m=f.useCallback(()=>{v.current&&v.current.getAttribute("src")===e&&e&&(E.error("Failed to load image in CroppedImageViewer:",e),u("error"))},[e]),g=i&&(c==="loading"||c==="error");return p.jsxs("div",{ref:w,className:J("relative w-full h-full overflow-hidden bg-muted",o),children:[g&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:c==="loading"?p.jsx(It,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(Rb,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:v,src:e??"",alt:r,style:a,className:J("block",s),onLoad:S,onError:m,loading:"lazy"})]})},U4=({photo:e})=>{const[t,n]=f.useState(!1),[r,o]=f.useState("idle"),s=f.useRef(null),i=f.useRef(null),{photoUrl:a,crop:l,photoMetadata:c}=e;f.useEffect(()=>{o(a?"loading":"idle"),n(!1)},[a]);const u=()=>{(r==="loaded"||r==="loading")&&n(v=>!v)},d=f.useCallback(()=>{var v,y;((v=i.current)==null?void 0:v.src)===a&&a?(E.log(`[SinglePhotoDisplay] Image loaded: ${a}`),o("loaded")):E.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(y=i.current)==null?void 0:y.src}, current=${a}`)},[a]),h=f.useCallback(()=>{var v,y;((v=i.current)==null?void 0:v.src)===a&&a?(E.error("[SinglePhotoDisplay] Failed to load image:",a),o("error")):E.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(y=i.current)==null?void 0:y.src}, current=${a}`)},[a]),w=r==="idle"||r==="loading";return p.jsxs("div",{ref:s,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:u,title:r==="loaded"?t?"Show cropped image":"Show full image":"",children:[w&&a&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(It,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),r==="error"&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(Rb,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:J("absolute inset-0 z-0 transition-opacity duration-300",t?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(wT,{imageUrl:a,cropData:l,photoMetadata:c,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1})}),p.jsx("div",{className:J("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",t?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:t&&a?a:"",alt:r==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),a&&p.jsx("img",{ref:i,src:a,alt:"",onLoad:d,onError:h,style:{display:"none"},loading:"eager"},a),r==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:t?p.jsx(v_,{size:16}):p.jsx(g_,{size:16})})]})},xT=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:J("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(pT,{setApi:n,className:"w-full h-full",children:[p.jsx(mT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(gT,{className:"h-full",children:p.jsx(U4,{photo:l})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(vT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(yT,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},z4=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function B4(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=or(),[c,u]=f.useState(new Map),[d,h]=f.useState(new Map),w=f.useRef(null),v=50,y=.3,S={enter:x=>({x:x>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:x=>({x:x<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(x,b)=>{const{offset:C,velocity:P}=b;let k=x.target;for(;k&&k!==w.current;){if(k.classList.contains("ignore-list-swipe")){E.log("List swipe ignored, started on carousel.");return}k=k.parentElement}C.x>v||P.x>y&&C.x>10?l(-1):(C.x<-v||P.x<-y&&C.x<-10)&&l(1)},g=f.useMemo(()=>[...e].sort((x,b)=>{const C=new Date(x.date).getTime(),P=new Date(b.date).getTime();if(C!==P)return C-P;const k=x.createdAt instanceof Date?x.createdAt.getTime():Date.parse(x.createdAt),A=b.createdAt instanceof Date?b.createdAt.getTime():Date.parse(b.createdAt);return k-A}),[e]);return f.useEffect(()=>{let x=!0;return u(new Map),h(new Map),e.forEach(b=>{h(C=>new Map(C).set(b.id,!0)),o(b).then(C=>{x&&u(P=>new Map(P).set(b.id,C))}).catch(C=>{E.error(`Error fetching details for entry ${b.id}:`,C)}).finally(()=>{x&&h(C=>new Map(C).set(b.id,!1))})}),()=>{x=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(It,{className:"h-8 w-8 animate-spin text-primary"})]}):g.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(aT,{className:"h-full",children:[" ",p.jsxs("div",{ref:w,className:"relative overflow-hidden h-full",children:[" ",p.jsx(Xm,{initial:!1,custom:a,mode:"wait",children:p.jsx(Mu.div,{custom:a,variants:S,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:g.map(x=>{const C=c.get(x.id)||{...x,photos:(x.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Kp,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(xT,{entry:C})}),p.jsxs(Yp,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:z4(x.date)}),p.jsxs(pm,{children:[p.jsx(mm,{asChild:!0,children:p.jsx(qe,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(Db,{className:"h-4 w-4"})})}),p.jsxs(Eu,{align:"end",children:[p.jsxs(Vo,{onClick:P=>{P.stopPropagation(),n(x.id)},children:[p.jsx(Mb,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(Vo,{onClick:P=>{P.stopPropagation(),r(x.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(jp,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(cT,{text:x.content,linesToShow:4})]})]},x.id)})},`${s}-${i}-list`)})]})]})}var ag="Dialog",[ST,bT]=Zt(ag),[q4,Vn]=ST(ag),CT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,u]=Tr({prop:r,defaultProp:o,onChange:s});return p.jsx(q4,{scope:t,triggerRef:a,contentRef:l,contentId:bs(),titleId:bs(),descriptionId:bs(),open:c,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),modal:i,children:n})};CT.displayName=ag;var ET="DialogTrigger",PT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Vn(ET,n),s=De(t,o.triggerRef);return p.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ug(o.open),...r,ref:s,onClick:Z(e.onClick,o.onOpenToggle)})});PT.displayName=ET;var lg="DialogPortal",[H4,TT]=ST(lg,{forceMount:void 0}),kT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Vn(lg,t);return p.jsx(H4,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(Jt,{present:n||s.open,children:p.jsx(au,{asChild:!0,container:o,children:i})}))})};kT.displayName=lg;var Fc="DialogOverlay",AT=f.forwardRef((e,t)=>{const n=TT(Fc,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Vn(Fc,e.__scopeDialog);return s.modal?p.jsx(Jt,{present:r||s.open,children:p.jsx(G4,{...o,ref:t})}):null});AT.displayName=Fc;var W4=Gs("DialogOverlay.RemoveScroll"),G4=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Vn(Fc,n);return p.jsx(sm,{as:W4,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(he.div,{"data-state":ug(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),zo="DialogContent",DT=f.forwardRef((e,t)=>{const n=TT(zo,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Vn(zo,e.__scopeDialog);return p.jsx(Jt,{present:r||s.open,children:s.modal?p.jsx(K4,{...o,ref:t}):p.jsx(Y4,{...o,ref:t})})});DT.displayName=zo;var K4=f.forwardRef((e,t)=>{const n=Vn(zo,e.__scopeDialog),r=f.useRef(null),o=De(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return hC(s)},[]),p.jsx(RT,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,s=>s.preventDefault())})}),Y4=f.forwardRef((e,t)=>{const n=Vn(zo,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(RT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),RT=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Vn(zo,n),l=f.useRef(null),c=De(t,l);return uC(),p.jsxs(p.Fragment,{children:[p.jsx(om,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Ia,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ug(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Q4,{titleId:a.titleId}),p.jsx(J4,{contentRef:l,descriptionId:a.descriptionId})]})]})}),cg="DialogTitle",MT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Vn(cg,n);return p.jsx(he.h2,{id:o.titleId,...r,ref:t})});MT.displayName=cg;var _T="DialogDescription",NT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Vn(_T,n);return p.jsx(he.p,{id:o.descriptionId,...r,ref:t})});NT.displayName=_T;var IT="DialogClose",jT=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Vn(IT,n);return p.jsx(he.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>o.onOpenChange(!1))})});jT.displayName=IT;function ug(e){return e?"open":"closed"}var LT="DialogTitleWarning",[X4,OT]=pM(LT,{contentName:zo,titleName:cg,docsSlug:"dialog"}),Q4=({titleId:e})=>{const t=OT(LT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z4="DialogDescriptionWarning",J4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${OT(Z4).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},FT=CT,ez=PT,$T=kT,dg=AT,fg=DT,hg=MT,pg=NT,mg=jT;const VT=FT,tz=$T,UT=f.forwardRef(({className:e,...t},n)=>p.jsx(dg,{ref:n,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UT.displayName=dg.displayName;const gg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(tz,{children:[p.jsx(UT,{}),p.jsxs(fg,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(mg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(fu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gg.displayName=fg.displayName;const vg=({className:e,...t})=>p.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vg.displayName="DialogHeader";const yg=f.forwardRef(({className:e,...t},n)=>p.jsx(hg,{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));yg.displayName=hg.displayName;const zT=f.forwardRef(({className:e,...t},n)=>p.jsx(pg,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));zT.displayName=pg.displayName;function BT({className:e,...t}){return p.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const o0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function nz(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=or(),[,a]=nu(),[l,c]=f.useState(new Map),[u,d]=f.useState(!1),[h,w]=f.useState(new Set),v=f.useRef(!0),y=f.useMemo(()=>[...n].sort((m,g)=>{const x=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),b=g.createdAt instanceof Date?g.createdAt.getTime():Date.parse(g.createdAt);return x-b}),[n]);f.useEffect(()=>{if(v.current=!0,e&&y.length>0){d(!0),c(new Map),w(new Set);const m=y.map(g=>i(g).then(x=>{v.current&&c(b=>new Map(b).set(g.id,x))}).catch(x=>{E.error(`Error fetching details for entry ${g.id} in modal:`,x),v.current&&(w(b=>new Set(b).add(g.id)),c(b=>new Map(b).set(g.id,o0(g))))}));Promise.allSettled(m).finally(()=>{v.current&&d(!1)})}else e||(c(new Map),d(!1),w(new Set));return()=>{v.current=!1}},[e,y,i]);const S=()=>{t(),a("/entry/new")};return p.jsx(VT,{open:e,onOpenChange:t,children:p.jsxs(gg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(vg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(yg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:y.length===0&&!u?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(qe,{onClick:S,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:y.map((m,g)=>{const x=l.get(m.id),b=u&&!x,C=h.has(m.id),P=x||o0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:b?p.jsx(BT,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(xT,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!u&&p.jsxs(pm,{children:[p.jsx(mm,{asChild:!0,children:p.jsx(qe,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(Db,{className:"h-4 w-4"})})}),p.jsxs(Eu,{align:"end",children:[p.jsxs(Vo,{onClick:()=>o(m.id),children:[p.jsx(Mb,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(Vo,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(jp,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(cT,{text:m.content,linesToShow:4}),C&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+g)})})}),!u&&y.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(qe,{onClick:S,children:"Add Another Entry"})})]})})}var qT="AlertDialog",[rz,d3]=Zt(qT,[bT]),kr=bT(),HT=e=>{const{__scopeAlertDialog:t,...n}=e,r=kr(t);return p.jsx(FT,{...r,...n,modal:!0})};HT.displayName=qT;var oz="AlertDialogTrigger",sz=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=kr(n);return p.jsx(ez,{...o,...r,ref:t})});sz.displayName=oz;var iz="AlertDialogPortal",WT=e=>{const{__scopeAlertDialog:t,...n}=e,r=kr(t);return p.jsx($T,{...r,...n})};WT.displayName=iz;var az="AlertDialogOverlay",GT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=kr(n);return p.jsx(dg,{...o,...r,ref:t})});GT.displayName=az;var Ds="AlertDialogContent",[lz,cz]=rz(Ds),uz=JS("AlertDialogContent"),KT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=kr(n),i=f.useRef(null),a=De(t,i),l=f.useRef(null);return p.jsx(X4,{contentName:Ds,titleName:YT,docsSlug:"alert-dialog",children:p.jsx(lz,{scope:n,cancelRef:l,children:p.jsxs(fg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:Z(o.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(uz,{children:r}),p.jsx(fz,{contentRef:i})]})})})});KT.displayName=Ds;var YT="AlertDialogTitle",XT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=kr(n);return p.jsx(hg,{...o,...r,ref:t})});XT.displayName=YT;var QT="AlertDialogDescription",ZT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=kr(n);return p.jsx(pg,{...o,...r,ref:t})});ZT.displayName=QT;var dz="AlertDialogAction",JT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=kr(n);return p.jsx(mg,{...o,...r,ref:t})});JT.displayName=dz;var ek="AlertDialogCancel",tk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=cz(ek,n),s=kr(n),i=De(t,o);return p.jsx(mg,{...s,...r,ref:i})});tk.displayName=ek;var fz=({contentRef:e})=>{const t=`\`${Ds}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ds}\` by passing a \`${QT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ds}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},hz=HT,pz=WT,nk=GT,rk=KT,ok=JT,sk=tk,ik=XT,ak=ZT;const lk=hz,mz=pz,ck=f.forwardRef(({className:e,...t},n)=>p.jsx(nk,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));ck.displayName=nk.displayName;const wg=f.forwardRef(({className:e,...t},n)=>p.jsxs(mz,{children:[p.jsx(ck,{}),p.jsx(rk,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wg.displayName=rk.displayName;const xg=({className:e,...t})=>p.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});xg.displayName="AlertDialogHeader";const Sg=({className:e,...t})=>p.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sg.displayName="AlertDialogFooter";const bg=f.forwardRef(({className:e,...t},n)=>p.jsx(ik,{ref:n,className:J("text-lg font-semibold",e),...t}));bg.displayName=ik.displayName;const Cg=f.forwardRef(({className:e,...t},n)=>p.jsx(ak,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Cg.displayName=ak.displayName;const Eg=f.forwardRef(({className:e,...t},n)=>p.jsx(ok,{ref:n,className:J(Xp(),e),...t}));Eg.displayName=ok.displayName;const Pg=f.forwardRef(({className:e,...t},n)=>p.jsx(sk,{ref:n,className:J(Xp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Pg.displayName=sk.displayName;function gz(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=or(),o=async()=>{await n()};return p.jsx(lk,{open:e,onOpenChange:t,children:p.jsxs(wg,{children:[p.jsxs(xg,{children:[p.jsx(bg,{children:"Delete Entry"}),p.jsx(Cg,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Sg,{children:[p.jsx(Pg,{disabled:r,children:"Cancel"}),p.jsx(Eg,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var vz="Label",uk=f.forwardRef((e,t)=>p.jsx(he.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uk.displayName=vz;var dk=uk;const yz=du("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lu=f.forwardRef(({className:e,...t},n)=>p.jsx(dk,{ref:n,className:J(yz(),e),...t}));Lu.displayName=dk.displayName;function wz({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Na(),l=f.useCallback(async v=>{if(!v||v.length===0)return;const y=Array.from(v),S=[],m=[];let g=!0;if(s+y.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const x of y){if(!x.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${x.name}" is not a supported image file.`,variant:"destructive"}),g=!1;continue}try{const b=URL.createObjectURL(x);S.push(x),m.push(b)}catch(b){E.error("Error creating object URL:",b),a({title:"Processing Error",description:`Could not process file: ${x.name}`,variant:"destructive"}),g=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}S.length>0?e(S,m):!g&&m.length>0&&m.forEach(URL.revokeObjectURL),g&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(v=>{t||l(v.target.files)},[t,l]),u=f.useCallback(v=>{t||(v.preventDefault(),v.stopPropagation(),l(v.dataTransfer.files))},[t,l]),d=v=>{t||(v.preventDefault(),v.stopPropagation())},h=f.useCallback(()=>{var v;t||(v=i.current)==null||v.click()},[t]),w=r?gt.isValidElement(r)?gt.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:J("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:d,onDrop:u,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:J(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),w]})}const Hi=10,Or=e=>e.isNew===!0,fk=e=>e.isNew===!1,xz=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function Sz({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:u,currentQueueIndex:d,isProcessingQueueItem:h}){const w=f.useRef(null),v=f.useRef(null),[y,S]=f.useState(null),[m,g]=f.useState(null),x=f.useRef([]),b=f.useRef(null),C=f.useRef(null);f.useEffect(()=>{x.current=x.current.slice(0,e.length)},[e.length]);const P=()=>{C.current&&(C.current.style.display="none"),g(null)},k=N=>{const O=C.current,D=b.current;if(!O||!D||N<0||N>e.length){P();return}if(N===m&&O.style.display!=="none")return;g(N);const R=xz(D);let F=null,z=!1;if(N===e.length?(F=x.current[e.length-1],z=!0):(F=x.current[N],z=!1),F){const G=F.getBoundingClientRect(),ae=F.offsetTop;let oe;z?oe=F.offsetLeft+G.width+R/2:oe=F.offsetLeft-R/2,O.style.display="block",O.style.top=`${ae}px`,O.style.left=`${oe}px`,O.style.height=`${G.height}px`}else P()},A=(N,O)=>{if(w.current=O,S(O),P(),N.dataTransfer)try{N.dataTransfer.effectAllowed="move"}catch{}},M=(N,O)=>{if(N.preventDefault(),w.current===null||w.current===O){v.current=null,P();return}v.current=O;const D=x.current[O];if(D){const R=D.getBoundingClientRect(),F=R.left+R.width/2,G=N.clientX<F?O:O+1;k(G)}},_=N=>{b.current&&!b.current.contains(N.relatedTarget)&&(v.current=null,P())},I=()=>{let N=m;w.current!==null&&N!==null&&N>w.current&&N--,w.current!==null&&N!==null&&w.current!==N&&t(O=>{const D=[...O],R=D.splice(w.current,1)[0];return D.splice(N,0,R),D}),w.current=null,v.current=null,S(null),P()},$=(N,O)=>{w.current=O,S(O),P()},j=N=>{if(w.current===null)return;N.cancelable&&N.preventDefault();const O=N.touches[0],D=document.elementFromPoint(O.clientX,O.clientY),R=D==null?void 0:D.closest('[draggable="true"]');if(R){const F=x.current.indexOf(R);if(F!==-1&&F!==w.current){v.current=F;const z=R.getBoundingClientRect(),G=z.left+z.width/2,oe=O.clientX<G?F:F+1;k(oe);return}}v.current=null,P()},L=()=>{let N=m;w.current!==null&&N!==null&&N>w.current&&N--,w.current!==null&&N!==null&&w.current!==N&&t(O=>{const D=[...O],R=D.splice(w.current,1)[0];return D.splice(N,0,R),D}),w.current=null,v.current=null,S(null),P()},W=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Lu,{children:["Photos (",e.length,"/",Hi,")"," ",W&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&u===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((N,O)=>p.jsx(BT,{className:"h-16 w-16 rounded aspect-square"},O))}),p.jsxs("div",{ref:b,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:_,onTouchStart:N=>{},onTouchMove:j,onTouchEnd:L,onTouchCancel:L,children:[p.jsx("div",{ref:C,className:"drop-indicator"}),e.map((N,O)=>{var ae;const D=Or(N)?N.localId:N.photoId,R=l.current.get(D),F=N.crop;let z=null;Or(N)?N.originalDimensions&&(z={filename:N.file.name,mimeType:N.file.type,width:N.originalDimensions.width,height:N.originalDimensions.height,exifDate:(ae=N.exifData)==null?void 0:ae.exifDate}):fk(N)&&(z=c.current.get(N.photoId)??null);const G=!!R;return p.jsxs("div",{ref:oe=>x.current[O]=oe,draggable:W,onDragStart:oe=>W&&A(oe,O),onDragOver:oe=>W&&M(oe,O),onDragEnd:W?I:void 0,onTouchStart:oe=>W&&$(oe,O),className:J("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",W?"cursor-grab active:cursor-grabbing":"cursor-default",y===O?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(wT,{imageUrl:R,cropData:F,photoMetadata:z,altText:`Photo ${O+1} thumbnail`,className:"rounded",enableLoadingState:!!R&&R.startsWith("blob:")}),p.jsxs("div",{className:J("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(qe,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:oe=>{oe.stopPropagation(),!n&&G?s(O):G||E.warn(`Cannot open cropper: original URL missing for ${D}`)},disabled:n||!G,children:p.jsx(c_,{className:"h-3 w-3"})}),p.jsx(qe,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:oe=>{oe.stopPropagation(),n||i(O)},disabled:n,children:p.jsx(jp,{className:"h-3 w-3"})})]}),W&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(d_,{className:"h-3 w-3 text-white"})})]},D+"-"+O)}),e.length<Hi&&p.jsx(wz,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:Hi,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(It,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(f_,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),d!==null&&d<u&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(It,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",d+1," of"," ",u,"..."]})]})}function bz({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(Lu,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(b_,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const hk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));hk.displayName="Textarea";function Cz({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(Lu,{htmlFor:"content",children:"Content"}),p.jsx(hk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function Ez({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(qe,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(qe,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(It,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function Pz(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function Tz(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function kz(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=or(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=Pz(),u=Tz(2e3,new Date().getFullYear()+5),d=()=>{n(s,a)};return p.jsx(VT,{open:e,onOpenChange:t,children:p.jsxs(gg,{className:"sm:max-w-md",children:[p.jsxs(vg,{children:[p.jsx(yg,{children:"Select Month and Year"}),p.jsx(zT,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,w)=>p.jsx("option",{value:w,children:h},w))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:u.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(qe,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(qe,{onClick:d,children:"Apply"})]})]})})}function Az(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:u,isOnline:d}=or();nm(),nu();const h=l,w=l?"Saving...":"",v={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(It,{className:"h-8 w-8 animate-spin text-primary"})});const y=d&&!e&&!t&&!n,S=y?"pt-24":d?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(bO,{}),h&&p.jsxs("div",{className:J("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",y?"top-24":d?"top-16":"top-20","mt-2"),children:[p.jsx(It,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:w})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:u,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(fu,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:J("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",S),children:[p.jsx(WU,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(Xm,{initial:!1,mode:"wait",children:p.jsx(Mu.div,{variants:v,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(HU,{}):p.jsx(B4,{})})},s)})})})]}),p.jsx(kz,{}),p.jsx(nz,{}),p.jsx(gz,{})]})}var pk=["PageUp","PageDown"],mk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ci="Slider",[Dh,Dz,Rz]=iu(ci),[vk,f3]=Zt(ci,[Rz]),[Mz,Ou]=vk(ci),yk=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:w=!1,form:v,...y}=e,S=f.useRef(new Set),m=f.useRef(0),x=i==="horizontal"?_z:Nz,[b=[],C]=Tr({prop:u,defaultProp:c,onChange:I=>{var j;(j=[...S.current][m.current])==null||j.focus(),d(I)}}),P=f.useRef(b);function k(I){const $=Fz(b,I);_(I,$)}function A(I){_(I,m.current)}function M(){const I=P.current[m.current];b[m.current]!==I&&h(b)}function _(I,$,{commit:j}={commit:!1}){const L=zz(s),W=Bz(Math.round((I-r)/s)*s+r,L),N=Qm(W,[r,o]);C((O=[])=>{const D=Lz(O,N,$);if(Uz(D,l*s)){m.current=D.indexOf(N);const R=String(D)!==String(O);return R&&j&&h(D),R?D:O}else return O})}return p.jsx(Mz,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:S.current,values:b,orientation:i,form:v,children:p.jsx(Dh.Provider,{scope:e.__scopeSlider,children:p.jsx(Dh.Slot,{scope:e.__scopeSlider,children:p.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:t,onPointerDown:Z(y.onPointerDown,()=>{a||(P.current=b)}),min:r,max:o,inverted:w,onSlideStart:a?void 0:k,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:M,onHomeKeyDown:()=>!a&&_(r,0,{commit:!0}),onEndKeyDown:()=>!a&&_(o,b.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:$})=>{if(!a){const W=pk.includes(I.key)||I.shiftKey&&mk.includes(I.key)?10:1,N=m.current,O=b[N],D=s*W*$;_(O+D,N,{commit:!0})}}})})})})});yk.displayName=ci;var[wk,xk]=vk(ci,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_z=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,h]=f.useState(null),w=De(t,x=>h(x)),v=f.useRef(void 0),y=La(o),S=y==="ltr",m=S&&!s||!S&&s;function g(x){const b=v.current||d.getBoundingClientRect(),C=[0,b.width],k=Tg(C,m?[n,r]:[r,n]);return v.current=b,k(x-b.left)}return p.jsx(wk,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(Sk,{dir:y,"data-orientation":"horizontal",...u,ref:w,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const b=g(x.clientX);i==null||i(b)},onSlideMove:x=>{const b=g(x.clientX);a==null||a(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:x=>{const C=gk[m?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:C?-1:1})}})})}),Nz=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,u=f.useRef(null),d=De(t,u),h=f.useRef(void 0),w=!o;function v(y){const S=h.current||u.current.getBoundingClientRect(),m=[0,S.height],x=Tg(m,w?[r,n]:[n,r]);return h.current=S,x(y-S.top)}return p.jsx(wk,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:p.jsx(Sk,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const S=v(y.clientY);s==null||s(S)},onSlideMove:y=>{const S=v(y.clientY);i==null||i(S)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:y=>{const m=gk[w?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:m?-1:1})}})})}),Sk=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,u=Ou(ci,n);return p.jsx(he.span,{...c,ref:t,onKeyDown:Z(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):pk.concat(mk).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Z(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():r(d)}),onPointerMove:Z(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&o(d)}),onPointerUp:Z(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),bk="SliderTrack",Ck=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Ou(bk,n);return p.jsx(he.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});Ck.displayName=bk;var Rh="SliderRange",Ek=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Ou(Rh,n),s=xk(Rh,n),i=f.useRef(null),a=De(t,i),l=o.values.length,c=o.values.map(h=>Tk(h,o.min,o.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return p.jsx(he.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});Ek.displayName=Rh;var Mh="SliderThumb",Pk=f.forwardRef((e,t)=>{const n=Dz(e.__scopeSlider),[r,o]=f.useState(null),s=De(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(Iz,{...e,ref:s,index:i})}),Iz=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=Ou(Mh,n),a=xk(Mh,n),[l,c]=f.useState(null),u=De(t,g=>c(g)),d=l?i.form||!!l.closest("form"):!0,h=qp(l),w=i.values[r],v=w===void 0?0:Tk(w,i.min,i.max),y=Oz(r,i.values.length),S=h==null?void 0:h[a.size],m=S?$z(S,v,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${m}px)`},children:[p.jsx(Dh.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(he.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":i.min,"aria-valuenow":w,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:u,style:w===void 0?{display:"none"}:e.style,onFocus:Z(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),d&&p.jsx(jz,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:w},r)]})});Pk.displayName=Mh;var jz=e=>{const{value:t,...n}=e,r=f.useRef(null),o=mE(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Lz(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function Tk(e,t,n){const s=100/(n-t)*(e-t);return Qm(s,[0,100])}function Oz(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Fz(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function $z(e,t,n){const r=e/2,s=Tg([0,50],[0,r]);return(r-s(t)*n)*n}function Vz(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Uz(e,t){if(t>0){const n=Vz(e);return Math.min(...n)>=t}return!0}function Tg(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function zz(e){return(String(e).split(".")[1]||"").length}function Bz(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var kk=yk,qz=Ck,Hz=Ek,Wz=Pk;const Ak=f.forwardRef(({className:e,...t},n)=>p.jsxs(kk,{ref:n,className:J("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(qz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(Hz,{className:"absolute h-full bg-primary"})}),p.jsx(Wz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ak.displayName=kk.displayName;const Ge=250,s0=200;function Gz({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),u=f.useRef(null),d=f.useRef(null),[h,w]=f.useState({x:0,y:0,scale:1}),[v,y]=f.useState(o||{width:0,height:0}),[S,m]=f.useState(!1),[g,x]=f.useState(!1),[b,C]=f.useState(!1),[P,k]=f.useState(.1),[A,M]=f.useState(5),[_,I]=f.useState(!1),[$,j]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[L,W]=f.useState(null),[N,O]=f.useState(null),[D,R]=f.useState(null),[F,z]=f.useState(null),G=S&&g,ae=e!==d.current&&!G,oe=U=>U&&typeof U=="object"&&"x"in U&&"y"in U&&"w"in U&&"h"in U&&typeof U.x=="number"&&typeof U.y=="number"&&typeof U.w=="number"&&typeof U.h=="number"&&U.w>0&&U.h>0&&U.w===U.h,Ze=f.useCallback((U,te)=>U<=0||te<=0||Ge<=0?.1:Math.max(Ge/U,Ge/te),[]),Re=f.useCallback((U,te)=>U<=0||te<=0||Ge<=0||s0<=0?5:Math.max(Math.max(Ge/U,Ge/te),Ge/s0),[]),pe=f.useCallback((U,te,ce)=>{const fe=s.current;if(!S||v.width<=0||v.height<=0)return{x:U,y:te};const Me=(fe==null?void 0:fe.clientWidth)??0,We=(fe==null?void 0:fe.clientHeight)??0;if(Me<=0||We<=0)return{x:U,y:te};const Oe=v.width*ce,lt=v.height*ce,Ft=(Me-Ge)/2,en=(We-Ge)/2,fn=Ft,Un=Ft+Ge-Oe,zn=en,ir=en+Ge-lt,Bn=Oe<Ge?Ft+(Ge-Oe)/2:Math.min(fn,Math.max(Un,U)),X=lt<Ge?en+(Ge-lt)/2:Math.min(zn,Math.max(ir,te));return{x:Bn,y:X}},[S,v]),_e=f.useCallback((U,te)=>{if(!S||!l.current||g||v.width<=0||v.height<=0)return;const ce=v.width,fe=v.height,Me=Ze(ce,fe),We=Re(ce,fe);k(Me),M(We);let Oe,lt,Ft;if(oe(r)){Oe=Ge/r.w,Oe=Math.max(Me,Math.min(We,Oe));const Un=(U-Ge)/2,zn=(te-Ge)/2;lt=Un-r.x*Oe,Ft=zn-r.y*Oe}else Oe=Math.max(Ge/ce,Ge/fe),Oe=Math.max(Me,Oe),lt=(U-ce*Oe)/2,Ft=(te-fe*Oe)/2;const fn={...pe(lt,Ft,Oe),scale:Oe};w(fn),x(!0),c.current=!0},[S,g,v,r,Ze,Re,pe]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,u.current&&u.current.disconnect()}),[]),f.useEffect(()=>{d.current!==e?(d.current&&g?(O(d.current),R(h),z(v)):(O(null),R(null),z(null)),m(!1),x(!1),y(o||{width:0,height:0}),w({x:0,y:0,scale:1}),k(.1),M(5),c.current=!1,C(!1),d.current=e):o&&!g&&(o.width!==v.width||o.height!==v.height)&&y(o)},[e,o]);const Se=f.useCallback(()=>{const U=i.current;if(!U||!l.current||U.src!==e)return;const te=U.naturalWidth,ce=U.naturalHeight;if(te<=0||ce<=0){E.error("[Cropper] Image invalid dimensions on load"),m(!1),x(!1);return}(v.width!==te||v.height!==ce)&&y({width:te,height:ce}),m(!0)},[e,v]),Ue=f.useCallback(()=>{const U=i.current;!U||!l.current||U.src!==e||(E.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),x(!1))},[e]);f.useEffect(()=>{const U=s.current;if(U&&S&&!g){const te=Me=>{if(!(!l.current||g))for(const We of Me){const{width:Oe,height:lt}=We.contentRect||{width:We.target.clientWidth,height:We.target.clientHeight};Oe>0&&lt>0?_e(Oe,lt):E.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};u.current&&u.current.disconnect(),u.current=new ResizeObserver(te),u.current.observe(U);const ce=U.clientWidth,fe=U.clientHeight;return ce>0&&fe>0&&_e(ce,fe),()=>{u.current&&u.current.disconnect(),u.current=null}}else u.current&&(u.current.disconnect(),u.current=null)},[S,g,_e]),f.useEffect(()=>{if(S&&g){const{x:U,y:te,scale:ce}=h,fe=pe(U,te,ce);(fe.x!==U||fe.y!==te)&&w(Me=>({...Me,...fe}))}},[h.scale,S,g,pe,h.x,h.y]);const be=f.useCallback((U,te,ce)=>{!G||!s.current||w(fe=>{let Me=fe.scale*U;if(Me=Math.max(P,Math.min(A,Me)),Me===fe.scale)return fe;const We=(te-fe.x)/fe.scale,Oe=(ce-fe.y)/fe.scale,lt=te-We*Me,Ft=ce-Oe*Me;return{scale:Me,...pe(lt,Ft,Me)}})},[G,P,A,pe]),Q=(U,te,ce)=>{!G||b||(I(!0),j({x:U,y:te,pinchDistance:ce,imageX:h.x,imageY:h.y}),W(ce??null))},ve=(U,te,ce)=>{if(!(!_||!G||!s.current)){if(ce!==void 0&&L!==null){const fe=ce/L,Me=s.current.getBoundingClientRect(),We=$.x-Me.left,Oe=$.y-Me.top;be(fe,We,Oe),W(ce)}else if(L===null){const fe=U-$.x,Me=te-$.y,We=$.imageX+fe,Oe=$.imageY+Me;w(lt=>({...lt,...pe(We,Oe,lt.scale)}))}}},B=()=>{_&&(I(!1),W(null))},q=U=>Q(U.clientX,U.clientY),K=U=>ve(U.clientX,U.clientY),se=U=>{if(U.touches.length===2){const te=U.touches[0],ce=U.touches[1],fe=Math.hypot(ce.clientX-te.clientX,ce.clientY-te.clientY),Me=(te.clientX+ce.clientX)/2,We=(te.clientY+ce.clientY)/2;Q(Me,We,fe)}else U.touches.length===1&&Q(U.touches[0].clientX,U.touches[0].clientY)},Y=U=>{if(_)if(U.cancelable&&U.preventDefault(),U.touches.length===2){const te=U.touches[0],ce=U.touches[1],fe=Math.hypot(ce.clientX-te.clientX,ce.clientY-te.clientY),Me=(te.clientX+ce.clientX)/2,We=(te.clientY+ce.clientY)/2;ve(Me,We,fe)}else U.touches.length===1&&ve(U.touches[0].clientX,U.touches[0].clientY)},ue=f.useCallback(U=>{if(!G||!s.current||b)return;U.preventDefault();const te=s.current.getBoundingClientRect(),ce=U.clientX-te.left,fe=U.clientY-te.top,We=1+U.deltaY*-.005;be(We,ce,fe)},[G,b,be]);f.useEffect(()=>{if(_)return window.addEventListener("mousemove",K),window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("mouseup",B),window.addEventListener("touchend",B),window.addEventListener("touchcancel",B),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("touchmove",Y),window.removeEventListener("mouseup",B),window.removeEventListener("touchend",B),window.removeEventListener("touchcancel",B)}},[_,Y]),f.useEffect(()=>{const U=s.current;if(U&&G)return U.addEventListener("wheel",ue,{passive:!1}),()=>U.removeEventListener("wheel",ue)},[G,ue]);const Ce=f.useCallback(U=>{if(!s.current||!G||(U=Math.max(P,Math.min(A,U)),U===h.scale))return;const te=s.current,ce=te.clientWidth/2,fe=te.clientHeight/2;be(U/h.scale,ce,fe)},[G,P,A,h.scale,be]),le=()=>Ce(h.scale*1.15),ke=()=>Ce(h.scale/1.15),Ae=U=>Ce(U[0]),et=()=>{if(x(!1),c.current=!1,w({x:0,y:0,scale:1}),s.current&&S){const U=s.current.clientWidth,te=s.current.clientHeight;U>0&&te>0&&_e(U,te)}},je=()=>{const U=s.current,te=i.current;if(!U||!g||!te||!te.naturalWidth||!te.naturalHeight||te.naturalWidth<=0||te.naturalHeight<=0){E.error("[Cropper] Cannot crop: Preconditions fail");return}C(!0);try{const ce=U.clientWidth,fe=U.clientHeight,Me=(ce-Ge)/2,We=(fe-Ge)/2,Oe=Me-h.x,lt=We-h.y,Ft=Oe/h.scale,en=lt/h.scale,fn=Ge/h.scale,Un=Ge/h.scale,zn=Math.max(0,Ft),ir=Math.max(0,en),Bn=Math.min(fn,te.naturalWidth-zn),X=Math.min(Un,te.naturalHeight-ir);if(Bn<=0||X<=0)throw new Error(`Crop area zero/negative: W=${Bn}, H=${X}`);let ee={x:Math.round(zn),y:Math.round(ir),w:Math.round(Bn),h:Math.round(X)};const ie=Math.min(ee.w,ee.h);if(ee.w=ie,ee.h=ie,ee.w<=0)throw new Error(`Final crop width <= 0: ${ee.w}`);l.current&&t(ee)}catch(ce){E.error("[Cropper] Error during cropping:",ce)}finally{l.current&&C(!1)}},Le=ae||!g&&!b,ze=!g&&!b,at=!g||b,xe={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},Ne={...xe,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:g?1:0,transition:_?"none":"transform 0.1s linear",zIndex:2},yt={...xe,transform:D?`translate(${D.x}px, ${D.y}px) scale(${D.scale})`:"translate(0px, 0px) scale(1)",opacity:g?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),b&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(It,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:J("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",_?"cursor-grabbing":"cursor-grab"),onMouseDown:q,onTouchStart:se,children:[N&&D&&F&&p.jsx("img",{ref:a,src:N,alt:"",className:"absolute transform-gpu origin-top-left block",style:yt,draggable:!1,width:F.width,height:F.height},N+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:Ne,onLoad:Se,onError:Ue,draggable:!1,loading:"eager"},e),Le&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(It,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${Ge}px`,height:`${Ge}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(qe,{type:"button",variant:"outline",size:"icon",onClick:ke,disabled:!G||b||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(P_,{className:"h-4 w-4"})," "]}),p.jsx(Ak,{value:[h.scale],min:P,max:A,step:(A-P)/100,onValueChange:Ae,className:"flex-grow",disabled:!G||b,"aria-label":"Zoom slider"}),p.jsxs(qe,{type:"button",variant:"outline",size:"icon",onClick:le,disabled:!G||b||h.scale>=A,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(E_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(qe,{type:"button",variant:"outline",onClick:n,disabled:b,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(qe,{type:"button",variant:"ghost",onClick:et,disabled:!G||b,className:"px-3",children:[" ",p.jsx(x_,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(qe,{type:"button",variant:"default",onClick:je,disabled:at,className:"px-4 w-[110px]",children:b?p.jsxs(p.Fragment,{children:[" ",p.jsx(It,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):ze?p.jsxs(p.Fragment,{children:[" ",p.jsx(It,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(Tb,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function i0(e){return new Promise((t,n)=>{const r=new Image;if(r.onload=()=>{r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):n(new Error("Image loaded with zero dimensions."))},r.onerror=o=>{E.error("Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")r.src=e;else if(e instanceof File){const o=new FileReader;o.onload=s=>{var i;(i=s.target)!=null&&i.result?r.src=s.target.result:n(new Error("FileReader result is empty."))},o.onerror=s=>{E.error("FileReader error:",s),n(new Error("Failed to read file."))},o.readAsDataURL(e)}else n(new Error("Invalid input for getImageDimensions"))})}const Kz=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return E.error("Error parsing EXIF date string:",t),null}};function a0(e){return new Promise(t=>{if(!window.EXIF){E.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(E.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=Kz(o);t({exifDate:s})}catch(o){E.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,E.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function l0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(lk,{open:e,onOpenChange:t,children:p.jsxs(wg,{children:[p.jsxs(xg,{children:[p.jsx(bg,{children:r}),p.jsx(Cg,{children:o})]}),p.jsxs(Sg,{children:[p.jsx(Pg,{disabled:a,children:i}),p.jsxs(Eg,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(It,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const Yz=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&E.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function c0({entryId:e}){const t=or(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,isAuthenticated:u,isLoadingAuth:d,navigate:h,isLoadingImagesMeta:w,isClientReady:v,isOnline:y}=t,{toast:S}=Na(),[m,g]=f.useState(null),[x,b]=f.useState(()=>{const X=new Date;return new Date(Date.UTC(X.getFullYear(),X.getMonth(),X.getDate()))}),[C,P]=f.useState(""),[k,A]=f.useState([]),[M,_]=f.useState(!1),[I,$]=f.useState(null),[j,L]=f.useState(!1),[W,N]=f.useState(null),[O,D]=f.useState(null),[R,F]=f.useState(!0),[z,G]=f.useState([]),[ae,oe]=f.useState(null),[Ze,Re]=f.useState(!1),[pe,_e]=f.useState(null),[Se,Ue]=f.useState(null),[be,Q]=f.useState(!1),[ve,B]=f.useState(!1),[q,K]=f.useState(new Map),se=f.useRef(null),Y=f.useRef(!1),ue=f.useRef(new Map),Ce=f.useRef(new Map),le=f.useRef(null),ke=f.useRef(!1),Ae=f.useRef(!1),et=f.useRef(0),je=f.useRef({}),Le=Gr.getInstance(),ze=!!e,at=ae!==null&&ae<z.length,xe=a||at||Ze,Ne=!R&&!xe&&!a&&!d&&k.length>0&&!j&&z.length===0&&be&&y,yt=f.useMemo(()=>{const X=m?m.date:x.toISOString().split("T")[0],ee=m?m.content:"",ie=m?m.photos:[],Ee=new Set(ie.map(me=>me.photoId));return{date:X,content:ee,photoIds:Ee}},[m,x]);f.useEffect(()=>{if(R||d||w){Q(!1);return}const X=x.toISOString().split("T")[0]!==yt.date,ee=C!==yt.content,ie=new Set(k.map(ye=>Or(ye)?ye.localId:ye.photoId)),Ee=yt.photoIds;let me=ie.size!==Ee.size;if(!me){for(const ye of ie)Ee.has(ye)||(me=!0);if(!me)for(const ye of Ee)ie.has(ye)||(me=!0)}let Be=!1;if(m&&!me){for(const ye of k)if(!Or(ye)){const ne=m.photos.find(Pe=>Pe.photoId===ye.photoId);if(ne&&(ye.crop.x!==ne.crop.x||ye.crop.y!==ne.crop.y||ye.crop.w!==ne.crop.w||ye.crop.h!==ne.crop.h)){Be=!0;break}}}if(ze)Q(X||ee||me||Be);else{const ye=new Date,ne=new Date(Date.UTC(ye.getFullYear(),ye.getMonth(),ye.getDate())),Pe=x.toISOString().split("T")[0]!==ne.toISOString().split("T")[0];Q(C.trim()!==""||k.length>0||Pe)}},[x,C,k,yt,ze,R,d,w,m]);const U=f.useCallback(async X=>{if(!Y.current||X>=z.length)return;const ee=z[X];if(!ee||q.has(ee.localId))return;le.current&&le.current.abort();const ie=new AbortController;le.current=ie;try{const[Ee,me]=await Promise.all([i0(ee.file),a0(ee.file)]);if(ie.signal.aborted||!Y.current)return;K(Be=>new Map(Be).set(ee.localId,{dims:Ee,exif:me}))}catch(Ee){Ee.name==="AbortError"||Y.current&&E.error(`[Prefetch] Error pre-fetching data for index ${X}, file: ${ee.file.name}`,Ee)}finally{le.current===ie&&(le.current=null)}},[z,q]),te=f.useCallback((X,ee)=>{if(E.log(`[EntryForm] handleFilesSelect called with ${X.length} files.`),!Y.current){E.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&ee.forEach(URL.revokeObjectURL);return}const ie=Hi-k.length-z.length;if(X.length>ie&&(S({title:"Too many files",description:`You can only add ${ie} more photo(s). Some files were ignored.`,variant:"destructive"}),X=X.slice(0,ie),typeof URL.revokeObjectURL=="function"&&ee.slice(ie).forEach(URL.revokeObjectURL),ee=ee.slice(0,ie),X.length===0))return;const Ee=X.map((me,Be)=>{const ye=crypto.randomUUID(),ne=ee[Be];return E.log(`[EntryForm] Creating blob URL for ${me.name} (localId: ${ye}): ${ne}`),ue.current.set(ye,ne),{file:me,previewUrl:ne,localId:ye}});E.log(`[EntryForm] Adding ${Ee.length} items to processingQueue.`),G(me=>{const Be=[...me,...Ee];return E.log(`[EntryForm] ProcessingQueue updated. Length: ${Be.length}. Current Index: ${ae}`),ae===null&&Be.length>0&&(E.log("[EntryForm] Setting currentQueueIndex to 0."),oe(0),Be.length>1&&U(1)),Be})},[k.length,z.length,S,ae,U]);f.useEffect(()=>{const X={entryId:e,isAuthenticated:u,isLoadingAuth:d,isClientReady:v,isLoadingImagesMeta:w,isOnline:y,navigate:h,toast:S,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:m==null?void 0:m.id};et.current++;const ee=et.current,ie=`init-${ee}`;if(Yz(ee,je.current,X),(ee===1||e!==je.current.entryId)&&(Ae.current=!1),!(!d&&u&&v&&!w)){F(!0),je.current=X;return}Y.current=!0,Q(!1);const me=()=>{E.log(`[EntryForm Init Effect ${ie}] resetFormState() called.`),g(null),b(()=>{const ne=new Date;return new Date(Date.UTC(ne.getFullYear(),ne.getMonth(),ne.getDate()))}),P(""),A([]),_(!1),$(null),L(!1),N(null),D(null),G([]),oe(null),Re(!1),_e(null),Ue(null),K(new Map),ue.current.forEach((ne,Pe)=>{try{ne.startsWith("blob:")&&URL.revokeObjectURL(ne)}catch{}}),ue.current.clear(),Ce.current.clear()},Be=async ne=>{if(E.log(`[EntryForm Init Effect ${ie}] populateForm called for entry ID:`,ne.id),!Y.current){E.log(`[EntryForm Init Effect ${ie}] populateForm aborted, component unmounted.`);return}let Pe=new Date(ne.date+"T00:00:00Z");if(b(Pe),P(ne.content),g({...ne}),E.log(`[EntryForm Init Effect ${ie}] Basic form fields populated.`),A([]),Ce.current.clear(),ue.current.forEach((ft,ht)=>{try{ft.startsWith("blob:")&&URL.revokeObjectURL(ft)}catch{}}),ue.current.clear(),E.log(`[EntryForm Init Effect ${ie}] Cleared existing photo state.`),ne.photos&&ne.photos.length>0){E.log(`[EntryForm Init Effect ${ie}] Loading ${ne.photos.length} photos for entry.`),(!i||i.length===0)&&E.warn(`[EntryForm Init Effect ${ie}] populateForm - imagesMetadata missing unexpectedly.`);const ft=ne.photos.map(async ht=>{const Ct=(i||[]).find(di=>di.id===ht.photoId),Wt=(Ct==null?void 0:Ct.photoMetadata)??null,Ar=Wt==null?void 0:Wt.contentHash;let Tn=null;try{if(Tn=await s(Ar,ht.photoId),!Y.current)return null;Tn?(ue.current.set(ht.photoId,Tn),Wt&&Ce.current.set(ht.photoId,Wt)):E.warn(`[EntryForm Init Effect ${ie}] No preview URL found/fetched for photo ${ht.photoId} (hash: ${Ar})`)}catch(di){E.error(`[EntryForm Init Effect ${ie}] Failed getting preview link for photo ${ht.photoId}:`,di),Tn=null}const ui=Tn===null?void 0:Tn;return ui?{...ht,isNew:!1,localPreviewUrl:ui}:null});try{const ht=await Promise.all(ft);if(!Y.current)return;const Ct=ht.filter(Wt=>Wt!==null);if(E.log(`[EntryForm Init Effect ${ie}] Setting ${Ct.length} photos in state.`),A(Ct),Ct.length>0){const Wt=Ce.current.get(Ct[0].photoId),Ar=(Wt==null?void 0:Wt.exifDate)??null;$(Ar);const Tn=Pe.toISOString().split("T")[0];_(!!Ar&&Tn!==Ar)}else $(null),_(!1)}catch(ht){E.error(`[EntryForm Init Effect ${ie}] Error loading initial photo details:`,ht),Y.current&&A([])}}else E.log(`[EntryForm Init Effect ${ie}] Entry has no photos.`),A([]),$(null),_(!1);E.log(`[EntryForm Init Effect ${ie}] populateForm finished.`)};return(async()=>{if(Ae.current){F(!1);return}F(!0),me();try{if(ze&&e){E.log(`[EntryForm Init Effect ${ie}] Edit mode initialization for entry ID: ${e}`);let ne=null;if(ne=r(e)||null,!ne){E.log(`[EntryForm Init Effect ${ie}] Entry ${e} not in context. Calling loadSpecificEntry...`);try{ne=await o(e)}catch(Pe){E.error(`[EntryForm Init Effect ${ie}] Error calling loadSpecificEntry for ${e}:`,Pe),ne=null}}if(ne&&Y.current)await Be(ne),Ae.current=!0;else if(Y.current){E.error(`[EntryForm Init Effect ${ie}] Entry ${e} not found after full search. Redirecting.`),S({title:"Error",description:"Entry not found.",variant:"destructive"}),h("/");return}}else{const Pe=window.location.hash.split("?")[1];let ft=null;if(Pe)try{ft=new URLSearchParams(Pe).get("date")}catch{}let ht;if(ft&&/^\d{4}-\d{2}-\d{2}$/.test(ft))ht=new Date(ft+"T00:00:00Z");else{const Ct=new Date;ht=new Date(Date.UTC(Ct.getFullYear(),Ct.getMonth(),Ct.getDate()))}b(ht),g(null),Ae.current=!0}}finally{Y.current&&F(!1)}})(),je.current=X,()=>{Y.current=!1,le.current&&(le.current.abort(),le.current=null),E.log(`[EntryForm Cleanup] Attempting to revoke ${ue.current.size} locally created URLs.`),ue.current.forEach((ne,Pe)=>{try{ne&&ne.startsWith("blob:")&&URL.revokeObjectURL(ne)}catch(ft){E.warn(`[EntryForm Cleanup] Error revoking URL for ID ${Pe}:`,ft)}}),ue.current.clear(),Ce.current.clear()}},[e,u,d,v,w,y,h,S,r,o,s,i,m==null?void 0:m.id,Le]),f.useEffect(()=>{if(!ze&&u&&!d&&l&&l.length>0&&!ke.current&&!R){E.log("[Shared Files Effect] Processing pending shared files.");const X=[...l];if(c(),ke.current=!0,typeof URL.createObjectURL!="function"){S({title:"Error",description:"Could not process shared files (URL API missing).",variant:"destructive"});return}const ee=k.length,ie=z.length,Ee=Hi-ee-ie;if(X.length>Ee&&(S({title:"Too many files",description:`Shared files exceeded limit. Added first ${Ee}.`,variant:"destructive"}),X.splice(Ee)),X.length===0)return;const me=[],Be=[];try{X.forEach(ye=>{if(!ye.type.startsWith("image/"))throw S({title:"Invalid File Type",description:`Shared file "${ye.name}" is not an image.`,variant:"destructive"}),new Error("Invalid file type encountered");const ne=URL.createObjectURL(ye);me.push(ne);const Pe=crypto.randomUUID();ue.current.set(Pe,ne),Be.push({file:ye,previewUrl:ne,localId:Pe})}),te(Be.map(ye=>ye.file),Be.map(ye=>ye.previewUrl))}catch(ye){E.error("[Shared Files Effect] Error processing files:",ye),typeof URL.revokeObjectURL=="function"&&me.forEach(URL.revokeObjectURL)}}},[ze,u,d,l,c,S,te,R,k.length,z.length]),f.useEffect(()=>{if(!at||!Y.current)return;const X=z[ae];if(!X){z.length>0&&ae!==null&&(E.warn("[Queue Effect] currentQueueIndex valid but item not found, resetting queue."),oe(null),G([]),j&&L(!1));return}(async()=>{if(!Y.current){E.warn("[Queue Effect] processItem aborted, component unmounted.");return}const ie=X,{file:Ee,previewUrl:me,localId:Be}=ie;let ye=null;q.has(Be)&&(ye=q.get(Be),K(ne=>{const Pe=new Map(ne);return Pe.delete(Be),Pe}));try{const{dims:ne,exif:Pe}=ye??await(async()=>({dims:await i0(Ee),exif:await a0(Ee)}))();if(!Y.current){E.warn("[Queue Effect] processItem aborted after async, component unmounted.");return}const ft=Math.min(ne.width,ne.height),ht={x:Math.round((ne.width-ft)/2),y:Math.round((ne.height-ft)/2),w:Math.round(ft),h:Math.round(ft)},Ct={isNew:!0,file:Ee,originalDimensions:ne,exifData:Pe,localPreviewUrl:me,localId:Be};if(k.length===0&&!I&&!ze){const Ar=x.toISOString().split("T")[0];let Tn=x,ui=!1;if($(Pe.exifDate),Pe.exifDate){const[di,Rk,Mk]=Pe.exifDate.split("-").map(Number);Tn=new Date(Date.UTC(di,Rk-1,Mk)),Pe.exifDate!==Ar&&(ui=!0),b(Tn)}_(ui)}Ue(Ct),N(null),D(me),j||L(!0);const Wt=ae+1;Wt<z.length&&U(Wt)}catch(ne){if(E.error(`[Queue Effect] Error processing queue item ${ae}:`,ne),S({title:"Error Processing Photo",description:`Could not process: ${Ee.name}. ${ne instanceof Error?ne.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"){E.warn(`[Queue Effect] Revoking URL for failed item ${Be}: ${me}`);try{URL.revokeObjectURL(me)}catch{}}if(ue.current.delete(Be),Y.current){const Pe=ae!==null?ae+1:null;Pe!==null&&Pe<z.length?oe(Pe):(E.log("[Queue Effect] Last item failed or only one item. Resetting queue."),oe(null),G([]),j&&L(!1))}}})()},[ae,z,q,j,U,k.length,I,ze,x,S]);const ce=f.useCallback(X=>{if(!Y.current)return;if(Se){const ie={...Se,crop:X};A(Ee=>[...Ee,ie]),Ue(null)}else W!==null&&A(ie=>ie.map((Ee,me)=>me===W?{...Ee,crop:X}:Ee));N(null);const ee=ae!==null?ae+1:null;ee!==null&&ee<z.length?oe(ee):(oe(null),G([]),L(!1)),ee!==null&&ee<z.length||setTimeout(()=>{var ie;return(ie=se.current)==null?void 0:ie.focus()},50)},[ae,z.length,Se,W]),fe=f.useCallback(()=>{if(!Y.current)return;if(Se){if(typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(Se.localPreviewUrl)}catch{}ue.current.delete(Se.localId),Ue(null)}N(null);const X=ae!==null?ae+1:null;X!==null&&X<z.length?oe(X):(oe(null),G([]),L(!1)),X!==null&&X<z.length||setTimeout(()=>{var ee;return(ee=se.current)==null?void 0:ee.focus()},50)},[ae,z.length,Se,W]),Me=f.useCallback(X=>{const ee=k[X];if(!ee||at||xe){E.warn(`[EntryForm] openCropperForPhoto prevented for index ${X}.`,{isProcessingQueue:at,isBusy:xe});return}const ie=Or(ee)?ee.localId:ee.photoId,Ee=ue.current.get(ie);Ee?(N(X),Ue(null),D(Ee),L(!0)):(S({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),E.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${X}, id ${ie}`))},[k,at,xe,S]),We=f.useCallback(X=>{_e(X),Re(!0)},[]),Oe=f.useCallback(()=>{var ye;if(pe===null)return;const X=pe,ee=k[X];if(!ee){E.warn(`[EntryForm] Photo to remove at index ${X} not found.`),Re(!1),_e(null);return}const ie=Or(ee)?ee.localId:ee.photoId,Ee=X===0;let me=[];const Be=ue.current.get(ie);if(typeof URL.revokeObjectURL=="function"&&Be)try{URL.revokeObjectURL(Be)}catch(ne){E.error("Error revoking original URL on remove:",ne)}if(typeof URL.revokeObjectURL=="function"&&ee.localPreviewUrl&&ee.localPreviewUrl.startsWith("blob:")&&ee.localPreviewUrl!==Be)try{URL.revokeObjectURL(ee.localPreviewUrl)}catch(ne){E.error("Error revoking preview URL on remove:",ne)}if(ue.current.delete(ie),Ce.current.delete(ie),A(ne=>(me=ne.filter((Pe,ft)=>ft!==X),me)),Ee&&Y.current){const ne=me.length>0?me[0]:null;let Pe=null;if(ne)if(Or(ne))Pe=((ye=ne.exifData)==null?void 0:ye.exifDate)??null;else{const ht=Ce.current.get(ne.photoId);Pe=(ht==null?void 0:ht.exifDate)??null}$(Pe);const ft=x.toISOString().split("T")[0];_(!!Pe&&ft!==Pe)}Re(!1),_e(null)},[pe,k,x]),lt=f.useCallback(()=>{if(I){const[X,ee,ie]=I.split("-").map(Number);b(new Date(Date.UTC(X,ee-1,ie))),_(!1)}},[I]),Ft=f.useCallback(X=>{try{const ee=new Date(X.target.value+"T00:00:00Z");if(isNaN(ee.getTime()))E.warn("[EntryForm] Invalid date input received:",X.target.value);else{b(ee);const ie=ee.toISOString().split("T")[0];_(!!I&&ie!==I)}}catch(ee){E.error("[EntryForm] Error processing date change:",ee)}},[I]),en=f.useCallback(async()=>{if(E.log("[EntryForm] handleSave called.",{isBusy:xe,canSave:Ne}),xe||!Ne){E.warn("[EntryForm] Save prevented:",{isBusy:xe,canSave:Ne});return}const ee=await n({date:x,content:C,photos:k},m);ee&&Y.current?Q(!1):ee||E.warn("[EntryForm] Save failed (returned false).")},[xe,Ne,x,C,k,n,m]),fn=f.useCallback(()=>{j?fe():be?B(!0):h("/")},[j,be,h,fe]),Un=f.useCallback(()=>{B(!1),Q(!1),h("/")},[h]),zn=f.useCallback(X=>{X.key==="Enter"&&(X.metaKey||X.ctrlKey)&&(X.preventDefault(),Ne&&!xe&&en())},[Ne,xe,en]);if(d&&!u)return E.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(It,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(!u)return E.log("[EntryForm Render] Redirecting (Not Authenticated)..."),p.jsx(jR,{to:"/"});if(R)return E.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(It,{className:"h-8 w-8 animate-spin text-primary"})," "]});E.log("[EntryForm Render] Rendering main content.",{isCropperOpen:j,isEditMode:ze,photoCount:k.length,queueLength:z.length,currentQueueIndex:ae,isLoadingData:R,isBusy:xe});const ir=()=>{var X;if(j&&O){const ee=Se??(W!==null?k[W]:null),ie=ee&&"crop"in ee?ee.crop:void 0;let Ee;if(Se&&Se.originalDimensions)Ee=Se.originalDimensions;else if(W!==null&&fk(k[W])){const me=Ce.current.get(k[W].photoId);me!=null&&me.width&&(me!=null&&me.height)&&(Ee={width:me.width,height:me.height})}else W!==null&&Or(k[W])&&(Ee=k[W].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(Gz,{imageUrl:O,onCropComplete:ce,onCancel:fe,initialCropData:ie,initialImageDimensions:Ee})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(Sz,{photos:k,setPhotos:A,isBusy:xe,isLoadingInitial:!1,initialPhotoCount:((X=m==null?void 0:m.photos)==null?void 0:X.length)??0,onOpenCropper:Me,onRemovePhoto:We,onFilesSelect:te,originalBlobUrlsRef:ue,existingPhotoMetaRef:Ce,processingQueueLength:z.length,currentQueueIndex:ae,isProcessingQueueItem:at}),p.jsx(bz,{date:x,onDateChange:Ft,showExifWarning:M,initialExifDate:I,onUseExifDate:lt,isBusy:xe}),p.jsx(Cz,{content:C,setContent:P,isBusy:xe,onKeyDown:zn,textAreaRef:se})]})},Bn=()=>j?`Adjust Photo${z.length>0&&ae!==null?` (${ae+1}/${z.length})`:""}`:ze?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(qe,{variant:"ghost",size:"icon",onClick:fn,disabled:xe&&!j,"aria-label":j?"Cancel Crop":"Go Back",children:[" ",p.jsx(Pb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:Bn()}),p.jsxs(qe,{variant:"ghost",size:"icon",onClick:fn,disabled:xe&&!j,"aria-label":"Close",children:[" ",p.jsx(fu,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[ir(),!j&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(Ez,{isBusy:xe,isSaving:a,isEditMode:ze,canSave:Ne,onCancel:fn,onSave:en})})]})]}),p.jsx(l0,{open:Ze,onOpenChange:Re,onConfirm:Oe,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(l0,{open:ve,onOpenChange:B,onConfirm:Un,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function Xz(){return E.log("[App] Using hook:",ih),p.jsx(sM,{client:lM,children:p.jsx(Yj,{children:p.jsxs(II,{children:[p.jsx(BS,{hook:ih,children:p.jsxs(IR,{children:[p.jsx(ll,{path:"/",component:Az}),p.jsx(ll,{path:"/entry/new",children:p.jsx(c0,{})}),p.jsx(ll,{path:"/entry/edit/:id",children:e=>p.jsx(c0,{entryId:e.id})}),p.jsx(ll,{children:()=>p.jsx(VI,{})})]})}),p.jsx(lN,{})]})})})}_S(document.getElementById("root")).render(p.jsx(Jj,{attribute:"class",children:p.jsx(Xz,{})}))});export default Qz();
