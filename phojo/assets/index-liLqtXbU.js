var ry=e=>{throw TypeError(e)};var uD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var id=(e,t,n)=>t.has(e)||ry("Cannot "+n);var U=(e,t,n)=>(id(e,t,"read from private field"),n?n.call(e):t.get(e)),He=(e,t,n)=>t.has(e)?ry("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),De=(e,t,n,r)=>(id(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$t=(e,t,n)=>(id(e,t,"access private method"),n);var ll=(e,t,n,r)=>({set _(o){De(e,t,o,n)},get _(){return U(e,t,r)}});var H4=uD((a3,cD)=>{function dD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z0={exports:{}},au={},q0={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),fD=Symbol.for("react.portal"),hD=Symbol.for("react.fragment"),pD=Symbol.for("react.strict_mode"),mD=Symbol.for("react.profiler"),gD=Symbol.for("react.provider"),yD=Symbol.for("react.context"),vD=Symbol.for("react.forward_ref"),wD=Symbol.for("react.suspense"),xD=Symbol.for("react.memo"),SD=Symbol.for("react.lazy"),oy=Symbol.iterator;function bD(e){return e===null||typeof e!="object"?null:(e=oy&&e[oy]||e["@@iterator"],typeof e=="function"?e:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H0=Object.assign,G0={};function yi(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||W0}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K0(){}K0.prototype=yi.prototype;function cp(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||W0}var up=cp.prototype=new K0;up.constructor=cp;H0(up,yi.prototype);up.isPureReactComponent=!0;var sy=Array.isArray,Y0=Object.prototype.hasOwnProperty,dp={current:null},Q0={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Y0.call(t,r)&&!Q0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:za,type:e,key:s,ref:i,props:o,_owner:dp.current}}function CD(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fp(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function ED(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var iy=/\/+/g;function ad(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ED(""+e.key):t.toString(36)}function Wl(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case za:case fD:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+ad(i,0):r,sy(o)?(n="",e!=null&&(n=e.replace(iy,"$&/")+"/"),Wl(o,t,n,"",function(c){return c})):o!=null&&(fp(o)&&(o=CD(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(iy,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",sy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+ad(s,a);i+=Wl(s,t,n,l,o)}else if(l=bD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+ad(s,a++),i+=Wl(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cl(e,t,n){if(e==null)return e;var r=[],o=0;return Wl(e,r,"","",function(s){return t.call(n,s,o++)}),r}function PD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},Hl={transition:null},TD={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:dp};function Z0(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:cl,forEach:function(e,t,n){cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!fp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=yi;Me.Fragment=hD;Me.Profiler=mD;Me.PureComponent=cp;Me.StrictMode=pD;Me.Suspense=wD;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TD;Me.act=Z0;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=dp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Y0.call(t,l)&&!Q0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:za,type:e.type,key:o,ref:s,props:r,_owner:i}};Me.createContext=function(e){return e={$$typeof:yD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gD,_context:e},e.Consumer=e};Me.createElement=X0;Me.createFactory=function(e){var t=X0.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:vD,render:e}};Me.isValidElement=fp;Me.lazy=function(e){return{$$typeof:SD,_payload:{_status:-1,_result:e},_init:PD}};Me.memo=function(e,t){return{$$typeof:xD,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Hl.transition;Hl.transition={};try{e()}finally{Hl.transition=t}};Me.unstable_act=Z0;Me.useCallback=function(e,t){return tn.current.useCallback(e,t)};Me.useContext=function(e){return tn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return tn.current.useEffect(e,t)};Me.useId=function(){return tn.current.useId()};Me.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return tn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};Me.useRef=function(e){return tn.current.useRef(e)};Me.useState=function(e){return tn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return tn.current.useTransition()};Me.version="18.3.1";q0.exports=Me;var f=q0.exports;const Ct=lp(f),J0=dD({__proto__:null,default:Ct},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD=f,DD=Symbol.for("react.element"),AD=Symbol.for("react.fragment"),RD=Object.prototype.hasOwnProperty,MD=kD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ID={key:!0,ref:!0,__self:!0,__source:!0};function ex(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)RD.call(t,r)&&!ID.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:DD,type:e,key:s,ref:i,props:o,_owner:MD.current}}au.Fragment=AD;au.jsx=ex;au.jsxs=ex;z0.exports=au;var p=z0.exports,tx={exports:{}},bn={},nx={exports:{}},rx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,I){var V=M.length;M.push(I);e:for(;0<V;){var G=V-1>>>1,Z=M[G];if(0<o(Z,I))M[G]=I,M[V]=Z,V=G;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var I=M[0],V=M.pop();if(V!==I){M[0]=V;e:for(var G=0,Z=M.length,Pe=Z>>>1;G<Pe;){var K=2*(G+1)-1,Je=M[K],le=K+1,he=M[le];if(0>o(Je,V))le<Z&&0>o(he,Je)?(M[G]=he,M[le]=V,G=le):(M[G]=Je,M[K]=V,G=K);else if(le<Z&&0>o(he,V))M[G]=he,M[le]=V,G=le;else break e}}return I}function o(M,I){var V=M.sortIndex-I.sortIndex;return V!==0?V:M.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,u=null,h=3,w=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=M)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function C(M){if(x=!1,S(M),!y)if(n(l)!==null)y=!0,_(E);else{var I=n(c);I!==null&&L(C,I.startTime-M)}}function E(M,I){y=!1,x&&(x=!1,m(D),D=-1),w=!0;var V=h;try{for(S(I),u=n(l);u!==null&&(!(u.expirationTime>I)||M&&!N());){var G=u.callback;if(typeof G=="function"){u.callback=null,h=u.priorityLevel;var Z=G(u.expirationTime<=I);I=e.unstable_now(),typeof Z=="function"?u.callback=Z:u===n(l)&&r(l),S(I)}else r(l);u=n(l)}if(u!==null)var Pe=!0;else{var K=n(c);K!==null&&L(C,K.startTime-I),Pe=!1}return Pe}finally{u=null,h=V,w=!1}}var P=!1,k=null,D=-1,R=5,A=-1;function N(){return!(e.unstable_now()-A<R)}function $(){if(k!==null){var M=e.unstable_now();A=M;var I=!0;try{I=k(!0,M)}finally{I?Q():(P=!1,k=null)}}else P=!1}var Q;if(typeof g=="function")Q=function(){g($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,X=j.port2;j.port1.onmessage=$,Q=function(){X.postMessage(null)}}else Q=function(){b($,0)};function _(M){k=M,P||(P=!0,Q())}function L(M,I){D=b(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||w||(y=!0,_(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var V=h;h=I;try{return M()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=h;h=M;try{return I()}finally{h=V}},e.unstable_scheduleCallback=function(M,I,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=V+Z,M={id:d++,callback:I,priorityLevel:M,startTime:V,expirationTime:Z,sortIndex:-1},V>G?(M.sortIndex=V,t(c,M),n(l)===null&&M===n(c)&&(x?(m(D),D=-1):x=!0,L(C,V-G))):(M.sortIndex=Z,t(l,M),y||w||(y=!0,_(E))),M},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(M){var I=h;return function(){var V=h;h=I;try{return M.apply(this,arguments)}finally{h=V}}}})(rx);nx.exports=rx;var _D=nx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=f,xn=_D;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ox=new Set,la={};function as(e,t){ni(e,t),ni(e+"Capture",t)}function ni(e,t){for(la[e]=t,e=0;e<t.length;e++)ox.add(t[e])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=Object.prototype.hasOwnProperty,LD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},ly={};function jD(e){return Pf.call(ly,e)?!0:Pf.call(ay,e)?!1:LD.test(e)?ly[e]=!0:(ay[e]=!0,!1)}function FD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OD(e,t,n,r){if(t===null||typeof t>"u"||FD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var hp=/[\-:]([a-z])/g;function pp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hp,pp);Ft[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hp,pp);Ft[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hp,pp);Ft[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function mp(e,t,n,r){var o=Ft.hasOwnProperty(t)?Ft[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OD(t,n,o,r)&&(n=null),r||o===null?jD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $r=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),ax=Symbol.for("react.offscreen"),cy=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=cy&&e[cy]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,ld;function Vi(e){if(ld===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ld=t&&t[1]||""}return`
`+ld+e}var cd=!1;function ud(e,t){if(!e||cd)return"";cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function $D(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=ud(e.type,!1),e;case 11:return e=ud(e.type.render,!1),e;case 1:return e=ud(e.type,!0),e;default:return""}}function Af(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case ys:return"Portal";case Tf:return"Profiler";case gp:return"StrictMode";case kf:return"Suspense";case Df:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ix:return(e.displayName||"Context")+".Consumer";case sx:return(e._context.displayName||"Context")+".Provider";case yp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vp:return t=e.displayName||null,t!==null?t:Af(e.type)||"Memo";case Yr:t=e._payload,e=e._init;try{return Af(e(t))}catch{}}return null}function VD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Af(t);case 8:return t===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UD(e){var t=lx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=UD(e))}function cx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rf(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ux(e,t){t=t.checked,t!=null&&mp(e,"checked",t,!1)}function Mf(e,t){ux(e,t);var n=xo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?If(e,t.type,n):t.hasOwnProperty("defaultValue")&&If(e,t.type,xo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function If(e,t,n){(t!=="number"||hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ui=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function _f(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Ui(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xo(n)}}function dx(e,t){var n=xo(t.value),r=xo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,hx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BD=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){BD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function px(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function mx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=px(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var zD=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lf(e,t){if(t){if(zD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function jf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=null;function wp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Of=null,js=null,Fs=null;function py(e){if(e=Ha(e)){if(typeof Of!="function")throw Error(H(280));var t=e.stateNode;t&&(t=fu(t),Of(e.stateNode,e.type,t))}}function gx(e){js?Fs?Fs.push(e):Fs=[e]:js=e}function yx(){if(js){var e=js,t=Fs;if(Fs=js=null,py(e),t)for(e=0;e<t.length;e++)py(t[e])}}function vx(e,t){return e(t)}function wx(){}var dd=!1;function xx(e,t,n){if(dd)return e(t,n);dd=!0;try{return vx(e,t,n)}finally{dd=!1,(js!==null||Fs!==null)&&(wx(),yx())}}function ua(e,t){var n=e.stateNode;if(n===null)return null;var r=fu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var $f=!1;if(Mr)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){$f=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{$f=!1}function qD(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Yi=!1,pc=null,mc=!1,Vf=null,WD={onError:function(e){Yi=!0,pc=e}};function HD(e,t,n,r,o,s,i,a,l){Yi=!1,pc=null,qD.apply(WD,arguments)}function GD(e,t,n,r,o,s,i,a,l){if(HD.apply(this,arguments),Yi){if(Yi){var c=pc;Yi=!1,pc=null}else throw Error(H(198));mc||(mc=!0,Vf=c)}}function ls(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function my(e){if(ls(e)!==e)throw Error(H(188))}function KD(e){var t=e.alternate;if(!t){if(t=ls(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return my(o),e;if(s===r)return my(o),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function bx(e){return e=KD(e),e!==null?Cx(e):null}function Cx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cx(e);if(t!==null)return t;e=e.sibling}return null}var Ex=xn.unstable_scheduleCallback,gy=xn.unstable_cancelCallback,YD=xn.unstable_shouldYield,QD=xn.unstable_requestPaint,xt=xn.unstable_now,XD=xn.unstable_getCurrentPriorityLevel,xp=xn.unstable_ImmediatePriority,Px=xn.unstable_UserBlockingPriority,gc=xn.unstable_NormalPriority,ZD=xn.unstable_LowPriority,Tx=xn.unstable_IdlePriority,lu=null,dr=null;function JD(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(lu,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:nA,eA=Math.log,tA=Math.LN2;function nA(e){return e>>>=0,e===0?32:31-(eA(e)/tA|0)|0}var hl=64,pl=4194304;function Bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Bi(a):(s&=i,s!==0&&(r=Bi(s)))}else i=n&~o,i!==0?r=Bi(i):s!==0&&(r=Bi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),o=1<<n,r|=e[n],t&=~o;return r}function rA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Wn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=rA(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kx(){var e=hl;return hl<<=1,!(hl&4194240)&&(hl=64),e}function fd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function sA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Wn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Sp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ze=0;function Dx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ax,bp,Rx,Mx,Ix,Bf=!1,ml=[],lo=null,co=null,uo=null,da=new Map,fa=new Map,Zr=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(e,t){switch(e){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(t.pointerId)}}function Ai(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ha(t),t!==null&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function aA(e,t,n,r,o){switch(t){case"focusin":return lo=Ai(lo,e,t,n,r,o),!0;case"dragenter":return co=Ai(co,e,t,n,r,o),!0;case"mouseover":return uo=Ai(uo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return da.set(s,Ai(da.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,fa.set(s,Ai(fa.get(s)||null,e,t,n,r,o)),!0}return!1}function _x(e){var t=Oo(e.target);if(t!==null){var n=ls(t);if(n!==null){if(t=n.tag,t===13){if(t=Sx(n),t!==null){e.blockedOn=t,Ix(e.priority,function(){Rx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ff=r,n.target.dispatchEvent(r),Ff=null}else return t=Ha(n),t!==null&&bp(t),e.blockedOn=n,!1;t.shift()}return!0}function vy(e,t,n){Gl(e)&&n.delete(t)}function lA(){Bf=!1,lo!==null&&Gl(lo)&&(lo=null),co!==null&&Gl(co)&&(co=null),uo!==null&&Gl(uo)&&(uo=null),da.forEach(vy),fa.forEach(vy)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Bf||(Bf=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,lA)))}function ha(e){function t(o){return Ri(o,e)}if(0<ml.length){Ri(ml[0],e);for(var n=1;n<ml.length;n++){var r=ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lo!==null&&Ri(lo,e),co!==null&&Ri(co,e),uo!==null&&Ri(uo,e),da.forEach(t),fa.forEach(t),n=0;n<Zr.length;n++)r=Zr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&Zr.shift()}var Os=$r.ReactCurrentBatchConfig,vc=!0;function cA(e,t,n,r){var o=Ze,s=Os.transition;Os.transition=null;try{Ze=1,Cp(e,t,n,r)}finally{Ze=o,Os.transition=s}}function uA(e,t,n,r){var o=Ze,s=Os.transition;Os.transition=null;try{Ze=4,Cp(e,t,n,r)}finally{Ze=o,Os.transition=s}}function Cp(e,t,n,r){if(vc){var o=zf(e,t,n,r);if(o===null)bd(e,t,r,wc,n),yy(e,r);else if(aA(o,e,t,n,r))r.stopPropagation();else if(yy(e,r),t&4&&-1<iA.indexOf(e)){for(;o!==null;){var s=Ha(o);if(s!==null&&Ax(s),s=zf(e,t,n,r),s===null&&bd(e,t,r,wc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else bd(e,t,r,null,n)}}var wc=null;function zf(e,t,n,r){if(wc=null,e=wp(r),e=Oo(e),e!==null)if(t=ls(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wc=e,null}function Nx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XD()){case xp:return 1;case Px:return 4;case gc:case ZD:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var so=null,Ep=null,Kl=null;function Lx(){if(Kl)return Kl;var e,t=Ep,n=t.length,r,o="value"in so?so.value:so.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Kl=o.slice(e,1<r?1-r:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function wy(){return!1}function Cn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gl:wy,this.isPropagationStopped=wy,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=Cn(vi),Wa=pt({},vi,{view:0,detail:0}),dA=Cn(Wa),hd,pd,Mi,cu=pt({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(hd=e.screenX-Mi.screenX,pd=e.screenY-Mi.screenY):pd=hd=0,Mi=e),hd)},movementY:function(e){return"movementY"in e?e.movementY:pd}}),xy=Cn(cu),fA=pt({},cu,{dataTransfer:0}),hA=Cn(fA),pA=pt({},Wa,{relatedTarget:0}),md=Cn(pA),mA=pt({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gA=Cn(mA),yA=pt({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vA=Cn(yA),wA=pt({},vi,{data:0}),Sy=Cn(wA),xA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bA[e])?!!t[e]:!1}function Tp(){return CA}var EA=pt({},Wa,{key:function(e){if(e.key){var t=xA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tp,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PA=Cn(EA),TA=pt({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=Cn(TA),kA=pt({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tp}),DA=Cn(kA),AA=pt({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),RA=Cn(AA),MA=pt({},cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IA=Cn(MA),_A=[9,13,27,32],kp=Mr&&"CompositionEvent"in window,Qi=null;Mr&&"documentMode"in document&&(Qi=document.documentMode);var NA=Mr&&"TextEvent"in window&&!Qi,jx=Mr&&(!kp||Qi&&8<Qi&&11>=Qi),Cy=" ",Ey=!1;function Fx(e,t){switch(e){case"keyup":return _A.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function LA(e,t){switch(e){case"compositionend":return Ox(t);case"keypress":return t.which!==32?null:(Ey=!0,Cy);case"textInput":return e=t.data,e===Cy&&Ey?null:e;default:return null}}function jA(e,t){if(ws)return e==="compositionend"||!kp&&Fx(e,t)?(e=Lx(),Kl=Ep=so=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jx&&t.locale!=="ko"?null:t.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FA[e.type]:t==="textarea"}function $x(e,t,n,r){gx(r),t=xc(t,"onChange"),0<t.length&&(n=new Pp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xi=null,pa=null;function OA(e){Qx(e,0)}function uu(e){var t=bs(e);if(cx(t))return e}function $A(e,t){if(e==="change")return t}var Vx=!1;if(Mr){var gd;if(Mr){var yd="oninput"in document;if(!yd){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),yd=typeof Ty.oninput=="function"}gd=yd}else gd=!1;Vx=gd&&(!document.documentMode||9<document.documentMode)}function ky(){Xi&&(Xi.detachEvent("onpropertychange",Ux),pa=Xi=null)}function Ux(e){if(e.propertyName==="value"&&uu(pa)){var t=[];$x(t,pa,e,wp(e)),xx(OA,t)}}function VA(e,t,n){e==="focusin"?(ky(),Xi=t,pa=n,Xi.attachEvent("onpropertychange",Ux)):e==="focusout"&&ky()}function UA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(pa)}function BA(e,t){if(e==="click")return uu(t)}function zA(e,t){if(e==="input"||e==="change")return uu(t)}function qA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:qA;function ma(e,t){if(Kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Pf.call(t,o)||!Kn(e[o],t[o]))return!1}return!0}function Dy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ay(e,t){var n=Dy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dy(n)}}function Bx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zx(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hc(e.document)}return t}function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WA(e){var t=zx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bx(n.ownerDocument.documentElement,n)){if(r!==null&&Dp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ay(n,s);var i=Ay(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HA=Mr&&"documentMode"in document&&11>=document.documentMode,xs=null,qf=null,Zi=null,Wf=!1;function Ry(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wf||xs==null||xs!==hc(r)||(r=xs,"selectionStart"in r&&Dp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&ma(Zi,r)||(Zi=r,r=xc(qf,"onSelect"),0<r.length&&(t=new Pp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xs)))}function yl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},vd={},qx={};Mr&&(qx=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function du(e){if(vd[e])return vd[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qx)return vd[e]=t[n];return e}var Wx=du("animationend"),Hx=du("animationiteration"),Gx=du("animationstart"),Kx=du("transitionend"),Yx=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(e,t){Yx.set(e,t),as(t,[e])}for(var wd=0;wd<My.length;wd++){var xd=My[wd],GA=xd.toLowerCase(),KA=xd[0].toUpperCase()+xd.slice(1);ko(GA,"on"+KA)}ko(Wx,"onAnimationEnd");ko(Hx,"onAnimationIteration");ko(Gx,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(Kx,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Iy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,GD(r,t,void 0,e),e.currentTarget=null}function Qx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Iy(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Iy(o,a,c),s=l}}}if(mc)throw e=Vf,mc=!1,Vf=null,e}function ot(e,t){var n=t[Qf];n===void 0&&(n=t[Qf]=new Set);var r=e+"__bubble";n.has(r)||(Xx(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Xx(n,e,r,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function ga(e){if(!e[vl]){e[vl]=!0,ox.forEach(function(n){n!=="selectionchange"&&(YA.has(n)||Sd(n,!1,e),Sd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,Sd("selectionchange",!1,t))}}function Xx(e,t,n,r){switch(Nx(t)){case 1:var o=cA;break;case 4:o=uA;break;default:o=Cp}n=o.bind(null,t,n,e),o=void 0,!$f||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function bd(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Oo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}xx(function(){var c=s,d=wp(n),u=[];e:{var h=Yx.get(e);if(h!==void 0){var w=Pp,y=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":w=PA;break;case"focusin":y="focus",w=md;break;case"focusout":y="blur",w=md;break;case"beforeblur":case"afterblur":w=md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=hA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=DA;break;case Wx:case Hx:case Gx:w=gA;break;case Kx:w=RA;break;case"scroll":w=dA;break;case"wheel":w=IA;break;case"copy":case"cut":case"paste":w=vA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=by}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,S;g!==null;){S=g;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,m!==null&&(C=ua(g,m),C!=null&&x.push(ya(g,C,S)))),b)break;g=g.return}0<x.length&&(h=new w(h,y,null,n,d),u.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==Ff&&(y=n.relatedTarget||n.fromElement)&&(Oo(y)||y[Ir]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=c,y=y?Oo(y):null,y!==null&&(b=ls(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=c),w!==y)){if(x=xy,C="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=by,C="onPointerLeave",m="onPointerEnter",g="pointer"),b=w==null?h:bs(w),S=y==null?h:bs(y),h=new x(C,g+"leave",w,n,d),h.target=b,h.relatedTarget=S,C=null,Oo(d)===c&&(x=new x(m,g+"enter",y,n,d),x.target=S,x.relatedTarget=b,C=x),b=C,w&&y)t:{for(x=w,m=y,g=0,S=x;S;S=hs(S))g++;for(S=0,C=m;C;C=hs(C))S++;for(;0<g-S;)x=hs(x),g--;for(;0<S-g;)m=hs(m),S--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=hs(x),m=hs(m)}x=null}else x=null;w!==null&&_y(u,h,w,x,!1),y!==null&&b!==null&&_y(u,b,y,x,!0)}}e:{if(h=c?bs(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var E=$A;else if(Py(h))if(Vx)E=zA;else{E=UA;var P=VA}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=BA);if(E&&(E=E(e,c))){$x(u,E,n,d);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&If(h,"number",h.value)}switch(P=c?bs(c):window,e){case"focusin":(Py(P)||P.contentEditable==="true")&&(xs=P,qf=c,Zi=null);break;case"focusout":Zi=qf=xs=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Ry(u,n,d);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":Ry(u,n,d)}var k;if(kp)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ws?Fx(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(jx&&n.locale!=="ko"&&(ws||D!=="onCompositionStart"?D==="onCompositionEnd"&&ws&&(k=Lx()):(so=d,Ep="value"in so?so.value:so.textContent,ws=!0)),P=xc(c,D),0<P.length&&(D=new Sy(D,e,null,n,d),u.push({event:D,listeners:P}),k?D.data=k:(k=Ox(n),k!==null&&(D.data=k)))),(k=NA?LA(e,n):jA(e,n))&&(c=xc(c,"onBeforeInput"),0<c.length&&(d=new Sy("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=k))}Qx(u,t)})}function ya(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ua(e,n),s!=null&&r.unshift(ya(e,s,o)),s=ua(e,t),s!=null&&r.push(ya(e,s,o))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _y(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=ua(n,s),l!=null&&i.unshift(ya(n,l,a))):o||(l=ua(n,s),l!=null&&i.push(ya(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function Ny(e){return(typeof e=="string"?e:""+e).replace(QA,`
`).replace(XA,"")}function wl(e,t,n){if(t=Ny(t),Ny(e)!==t&&n)throw Error(H(425))}function Sc(){}var Hf=null,Gf=null;function Kf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(e){return Ly.resolve(null).then(e).catch(eR)}:Yf;function eR(e){setTimeout(function(){throw e})}function Cd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ha(t)}function fo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),lr="__reactFiber$"+wi,va="__reactProps$"+wi,Ir="__reactContainer$"+wi,Qf="__reactEvents$"+wi,tR="__reactListeners$"+wi,nR="__reactHandles$"+wi;function Oo(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ir]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jy(e);e!==null;){if(n=e[lr])return n;e=jy(e)}return t}e=n,n=e.parentNode}return null}function Ha(e){return e=e[lr]||e[Ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function fu(e){return e[va]||null}var Xf=[],Cs=-1;function Do(e){return{current:e}}function st(e){0>Cs||(e.current=Xf[Cs],Xf[Cs]=null,Cs--)}function nt(e,t){Cs++,Xf[Cs]=e.current,e.current=t}var So={},Kt=Do(So),cn=Do(!1),Zo=So;function ri(e,t){var n=e.type.contextTypes;if(!n)return So;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function un(e){return e=e.childContextTypes,e!=null}function bc(){st(cn),st(Kt)}function Fy(e,t,n){if(Kt.current!==So)throw Error(H(168));nt(Kt,t),nt(cn,n)}function Zx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,VD(e)||"Unknown",o));return pt({},n,r)}function Cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||So,Zo=Kt.current,nt(Kt,e),nt(cn,cn.current),!0}function Oy(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Zx(e,t,Zo),r.__reactInternalMemoizedMergedChildContext=e,st(cn),st(Kt),nt(Kt,e)):st(cn),nt(cn,n)}var Er=null,hu=!1,Ed=!1;function Jx(e){Er===null?Er=[e]:Er.push(e)}function rR(e){hu=!0,Jx(e)}function Ao(){if(!Ed&&Er!==null){Ed=!0;var e=0,t=Ze;try{var n=Er;for(Ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Er=null,hu=!1}catch(o){throw Er!==null&&(Er=Er.slice(e+1)),Ex(xp,Ao),o}finally{Ze=t,Ed=!1}}return null}var Es=[],Ps=0,Ec=null,Pc=0,An=[],Rn=0,Jo=null,Pr=1,Tr="";function No(e,t){Es[Ps++]=Pc,Es[Ps++]=Ec,Ec=e,Pc=t}function eS(e,t,n){An[Rn++]=Pr,An[Rn++]=Tr,An[Rn++]=Jo,Jo=e;var r=Pr;e=Tr;var o=32-Wn(r)-1;r&=~(1<<o),n+=1;var s=32-Wn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Pr=1<<32-Wn(t)+o|n<<o|r,Tr=s+e}else Pr=1<<s|n<<o|r,Tr=e}function Ap(e){e.return!==null&&(No(e,1),eS(e,1,0))}function Rp(e){for(;e===Ec;)Ec=Es[--Ps],Es[Ps]=null,Pc=Es[--Ps],Es[Ps]=null;for(;e===Jo;)Jo=An[--Rn],An[Rn]=null,Tr=An[--Rn],An[Rn]=null,Pr=An[--Rn],An[Rn]=null}var vn=null,yn=null,lt=!1,qn=null;function tS(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $y(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,yn=fo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jo!==null?{id:Pr,overflow:Tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vn=e,yn=null,!0):!1;default:return!1}}function Zf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jf(e){if(lt){var t=yn;if(t){var n=t;if(!$y(e,t)){if(Zf(e))throw Error(H(418));t=fo(n.nextSibling);var r=vn;t&&$y(e,t)?tS(r,n):(e.flags=e.flags&-4097|2,lt=!1,vn=e)}}else{if(Zf(e))throw Error(H(418));e.flags=e.flags&-4097|2,lt=!1,vn=e}}}function Vy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function xl(e){if(e!==vn)return!1;if(!lt)return Vy(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kf(e.type,e.memoizedProps)),t&&(t=yn)){if(Zf(e))throw nS(),Error(H(418));for(;t;)tS(e,t),t=fo(t.nextSibling)}if(Vy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=fo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=vn?fo(e.stateNode.nextSibling):null;return!0}function nS(){for(var e=yn;e;)e=fo(e.nextSibling)}function oi(){yn=vn=null,lt=!1}function Mp(e){qn===null?qn=[e]:qn.push(e)}var oR=$r.ReactCurrentBatchConfig;function Ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uy(e){var t=e._init;return t(e._payload)}function rS(e){function t(m,g){if(e){var S=m.deletions;S===null?(m.deletions=[g],m.flags|=16):S.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=go(m,g),m.index=0,m.sibling=null,m}function s(m,g,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<g?(m.flags|=2,g):S):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,S,C){return g===null||g.tag!==6?(g=Md(S,m.mode,C),g.return=m,g):(g=o(g,S),g.return=m,g)}function l(m,g,S,C){var E=S.type;return E===vs?d(m,g,S.props.children,C,S.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yr&&Uy(E)===g.type)?(C=o(g,S.props),C.ref=Ii(m,g,S),C.return=m,C):(C=nc(S.type,S.key,S.props,null,m.mode,C),C.ref=Ii(m,g,S),C.return=m,C)}function c(m,g,S,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==S.containerInfo||g.stateNode.implementation!==S.implementation?(g=Id(S,m.mode,C),g.return=m,g):(g=o(g,S.children||[]),g.return=m,g)}function d(m,g,S,C,E){return g===null||g.tag!==7?(g=Ko(S,m.mode,C,E),g.return=m,g):(g=o(g,S),g.return=m,g)}function u(m,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Md(""+g,m.mode,S),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return S=nc(g.type,g.key,g.props,null,m.mode,S),S.ref=Ii(m,null,g),S.return=m,S;case ys:return g=Id(g,m.mode,S),g.return=m,g;case Yr:var C=g._init;return u(m,C(g._payload),S)}if(Ui(g)||ki(g))return g=Ko(g,m.mode,S,null),g.return=m,g;Sl(m,g)}return null}function h(m,g,S,C){var E=g!==null?g.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(m,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ul:return S.key===E?l(m,g,S,C):null;case ys:return S.key===E?c(m,g,S,C):null;case Yr:return E=S._init,h(m,g,E(S._payload),C)}if(Ui(S)||ki(S))return E!==null?null:d(m,g,S,C,null);Sl(m,S)}return null}function w(m,g,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(S)||null,a(g,m,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ul:return m=m.get(C.key===null?S:C.key)||null,l(g,m,C,E);case ys:return m=m.get(C.key===null?S:C.key)||null,c(g,m,C,E);case Yr:var P=C._init;return w(m,g,S,P(C._payload),E)}if(Ui(C)||ki(C))return m=m.get(S)||null,d(g,m,C,E,null);Sl(g,C)}return null}function y(m,g,S,C){for(var E=null,P=null,k=g,D=g=0,R=null;k!==null&&D<S.length;D++){k.index>D?(R=k,k=null):R=k.sibling;var A=h(m,k,S[D],C);if(A===null){k===null&&(k=R);break}e&&k&&A.alternate===null&&t(m,k),g=s(A,g,D),P===null?E=A:P.sibling=A,P=A,k=R}if(D===S.length)return n(m,k),lt&&No(m,D),E;if(k===null){for(;D<S.length;D++)k=u(m,S[D],C),k!==null&&(g=s(k,g,D),P===null?E=k:P.sibling=k,P=k);return lt&&No(m,D),E}for(k=r(m,k);D<S.length;D++)R=w(k,m,D,S[D],C),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?D:R.key),g=s(R,g,D),P===null?E=R:P.sibling=R,P=R);return e&&k.forEach(function(N){return t(m,N)}),lt&&No(m,D),E}function x(m,g,S,C){var E=ki(S);if(typeof E!="function")throw Error(H(150));if(S=E.call(S),S==null)throw Error(H(151));for(var P=E=null,k=g,D=g=0,R=null,A=S.next();k!==null&&!A.done;D++,A=S.next()){k.index>D?(R=k,k=null):R=k.sibling;var N=h(m,k,A.value,C);if(N===null){k===null&&(k=R);break}e&&k&&N.alternate===null&&t(m,k),g=s(N,g,D),P===null?E=N:P.sibling=N,P=N,k=R}if(A.done)return n(m,k),lt&&No(m,D),E;if(k===null){for(;!A.done;D++,A=S.next())A=u(m,A.value,C),A!==null&&(g=s(A,g,D),P===null?E=A:P.sibling=A,P=A);return lt&&No(m,D),E}for(k=r(m,k);!A.done;D++,A=S.next())A=w(k,m,D,A.value,C),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?D:A.key),g=s(A,g,D),P===null?E=A:P.sibling=A,P=A);return e&&k.forEach(function($){return t(m,$)}),lt&&No(m,D),E}function b(m,g,S,C){if(typeof S=="object"&&S!==null&&S.type===vs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ul:e:{for(var E=S.key,P=g;P!==null;){if(P.key===E){if(E=S.type,E===vs){if(P.tag===7){n(m,P.sibling),g=o(P,S.props.children),g.return=m,m=g;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yr&&Uy(E)===P.type){n(m,P.sibling),g=o(P,S.props),g.ref=Ii(m,P,S),g.return=m,m=g;break e}n(m,P);break}else t(m,P);P=P.sibling}S.type===vs?(g=Ko(S.props.children,m.mode,C,S.key),g.return=m,m=g):(C=nc(S.type,S.key,S.props,null,m.mode,C),C.ref=Ii(m,g,S),C.return=m,m=C)}return i(m);case ys:e:{for(P=S.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===S.containerInfo&&g.stateNode.implementation===S.implementation){n(m,g.sibling),g=o(g,S.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Id(S,m.mode,C),g.return=m,m=g}return i(m);case Yr:return P=S._init,b(m,g,P(S._payload),C)}if(Ui(S))return y(m,g,S,C);if(ki(S))return x(m,g,S,C);Sl(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,S),g.return=m,m=g):(n(m,g),g=Md(S,m.mode,C),g.return=m,m=g),i(m)):n(m,g)}return b}var si=rS(!0),oS=rS(!1),Tc=Do(null),kc=null,Ts=null,Ip=null;function _p(){Ip=Ts=kc=null}function Np(e){var t=Tc.current;st(Tc),e._currentValue=t}function eh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){kc=e,Ip=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(Ip!==e)if(e={context:e,memoizedValue:t,next:null},Ts===null){if(kc===null)throw Error(H(308));Ts=e,kc.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var $o=null;function Lp(e){$o===null?$o=[e]:$o.push(e)}function sS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Lp(t)):(n.next=o.next,o.next=n),t.interleaved=n,_r(e,r)}function _r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qr=!1;function jp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,_r(e,n)}return o=r.interleaved,o===null?(t.next=t,Lp(r)):(t.next=o.next,o.next=t),r.interleaved=t,_r(e,n)}function Ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sp(e,n)}}function By(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dc(e,t,n,r){var o=e.updateQueue;Qr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,w=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(h=t,w=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){u=y.call(w,u,h);break e}u=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(w,u,h):y,h==null)break e;u=pt({},u,h);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else w={eventTime:w,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,l=u):d=d.next=w,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ts|=i,e.lanes=i,e.memoizedState=u}}function zy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var Ga={},fr=Do(Ga),wa=Do(Ga),xa=Do(Ga);function Vo(e){if(e===Ga)throw Error(H(174));return e}function Fp(e,t){switch(nt(xa,t),nt(wa,e),nt(fr,Ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nf(t,e)}st(fr),nt(fr,t)}function ii(){st(fr),st(wa),st(xa)}function aS(e){Vo(xa.current);var t=Vo(fr.current),n=Nf(t,e.type);t!==n&&(nt(wa,e),nt(fr,n))}function Op(e){wa.current===e&&(st(fr),st(wa))}var ct=Do(0);function Ac(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pd=[];function $p(){for(var e=0;e<Pd.length;e++)Pd[e]._workInProgressVersionPrimary=null;Pd.length=0}var Xl=$r.ReactCurrentDispatcher,Td=$r.ReactCurrentBatchConfig,es=0,ht=null,kt=null,Rt=null,Rc=!1,Ji=!1,Sa=0,sR=0;function Vt(){throw Error(H(321))}function Vp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Up(e,t,n,r,o,s){if(es=s,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xl.current=e===null||e.memoizedState===null?cR:uR,e=n(r,o),Ji){s=0;do{if(Ji=!1,Sa=0,25<=s)throw Error(H(301));s+=1,Rt=kt=null,t.updateQueue=null,Xl.current=dR,e=n(r,o)}while(Ji)}if(Xl.current=Mc,t=kt!==null&&kt.next!==null,es=0,Rt=kt=ht=null,Rc=!1,t)throw Error(H(300));return e}function Bp(){var e=Sa!==0;return Sa=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ht.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Ln(){if(kt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Rt===null?ht.memoizedState:Rt.next;if(t!==null)Rt=t,kt=e;else{if(e===null)throw Error(H(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Rt===null?ht.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function ba(e,t){return typeof t=="function"?t(e):t}function kd(e){var t=Ln(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=kt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((es&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,ht.lanes|=d,ts|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Kn(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ht.lanes|=s,ts|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dd(e){var t=Ln(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Kn(s,t.memoizedState)||(ln=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function lS(){}function cS(e,t){var n=ht,r=Ln(),o=t(),s=!Kn(r.memoizedState,o);if(s&&(r.memoizedState=o,ln=!0),r=r.queue,zp(fS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Ca(9,dS.bind(null,n,r,o,t),void 0,null),Mt===null)throw Error(H(349));es&30||uS(n,t,o)}return o}function uS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dS(e,t,n,r){t.value=n,t.getSnapshot=r,hS(t)&&pS(e)}function fS(e,t,n){return n(function(){hS(t)&&pS(e)})}function hS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch{return!0}}function pS(e){var t=_r(e,1);t!==null&&Hn(t,e,1,-1)}function qy(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=lR.bind(null,ht,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mS(){return Ln().memoizedState}function Zl(e,t,n,r){var o=rr();ht.flags|=e,o.memoizedState=Ca(1|t,n,void 0,r===void 0?null:r)}function pu(e,t,n,r){var o=Ln();r=r===void 0?null:r;var s=void 0;if(kt!==null){var i=kt.memoizedState;if(s=i.destroy,r!==null&&Vp(r,i.deps)){o.memoizedState=Ca(t,n,s,r);return}}ht.flags|=e,o.memoizedState=Ca(1|t,n,s,r)}function Wy(e,t){return Zl(8390656,8,e,t)}function zp(e,t){return pu(2048,8,e,t)}function gS(e,t){return pu(4,2,e,t)}function yS(e,t){return pu(4,4,e,t)}function vS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wS(e,t,n){return n=n!=null?n.concat([e]):null,pu(4,4,vS.bind(null,t,e),n)}function qp(){}function xS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SS(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bS(e,t,n){return es&21?(Kn(n,t)||(n=kx(),ht.lanes|=n,ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=n)}function iR(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var r=Td.transition;Td.transition={};try{e(!1),t()}finally{Ze=n,Td.transition=r}}function CS(){return Ln().memoizedState}function aR(e,t,n){var r=mo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ES(e))PS(t,n);else if(n=sS(e,t,n,r),n!==null){var o=en();Hn(n,e,r,o),TS(n,t,r)}}function lR(e,t,n){var r=mo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ES(e))PS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Kn(a,i)){var l=t.interleaved;l===null?(o.next=o,Lp(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=sS(e,t,o,r),n!==null&&(o=en(),Hn(n,e,r,o),TS(n,t,r))}}function ES(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function PS(e,t){Ji=Rc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sp(e,n)}}var Mc={readContext:Nn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},cR={readContext:Nn,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Wy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zl(4194308,4,vS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zl(4,2,e,t)},useMemo:function(e,t){var n=rr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aR.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:qy,useDebugValue:qp,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=qy(!1),t=e[0];return e=iR.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,o=rr();if(lt){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Mt===null)throw Error(H(349));es&30||uS(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Wy(fS.bind(null,r,s,e),[e]),r.flags|=2048,Ca(9,dS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=rr(),t=Mt.identifierPrefix;if(lt){var n=Tr,r=Pr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uR={readContext:Nn,useCallback:xS,useContext:Nn,useEffect:zp,useImperativeHandle:wS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:SS,useReducer:kd,useRef:mS,useState:function(){return kd(ba)},useDebugValue:qp,useDeferredValue:function(e){var t=Ln();return bS(t,kt.memoizedState,e)},useTransition:function(){var e=kd(ba)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:cS,useId:CS,unstable_isNewReconciler:!1},dR={readContext:Nn,useCallback:xS,useContext:Nn,useEffect:zp,useImperativeHandle:wS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:SS,useReducer:Dd,useRef:mS,useState:function(){return Dd(ba)},useDebugValue:qp,useDeferredValue:function(e){var t=Ln();return kt===null?t.memoizedState=e:bS(t,kt.memoizedState,e)},useTransition:function(){var e=Dd(ba)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:lS,useSyncExternalStore:cS,useId:CS,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function th(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mu={isMounted:function(e){return(e=e._reactInternals)?ls(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=en(),o=mo(e),s=Dr(r,o);s.payload=t,n!=null&&(s.callback=n),t=ho(e,s,o),t!==null&&(Hn(t,e,o,r),Ql(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=en(),o=mo(e),s=Dr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ho(e,s,o),t!==null&&(Hn(t,e,o,r),Ql(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),r=mo(e),o=Dr(n,r);o.tag=2,t!=null&&(o.callback=t),t=ho(e,o,r),t!==null&&(Hn(t,e,r,n),Ql(t,e,r))}};function Hy(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ma(n,r)||!ma(o,s):!0}function kS(e,t,n){var r=!1,o=So,s=t.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(o=un(t)?Zo:Kt.current,r=t.contextTypes,s=(r=r!=null)?ri(e,o):So),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function nh(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},jp(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Nn(s):(s=un(t)?Zo:Kt.current,o.context=ri(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(th(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&mu.enqueueReplaceState(o,o.state,null),Dc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t){try{var n="",r=t;do n+=$D(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Ad(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fR=typeof WeakMap=="function"?WeakMap:Map;function DS(e,t,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_c||(_c=!0,hh=r),rh(e,t)},n}function AS(e,t,n){n=Dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){rh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rh(e,t),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ky(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=TR.bind(null,e,t,n),t.then(e,e))}function Yy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qy(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dr(-1,1),t.tag=2,ho(n,t,1))),n.lanes|=1),e)}var hR=$r.ReactCurrentOwner,ln=!1;function Zt(e,t,n,r){t.child=e===null?oS(t,null,n,r):si(t,e.child,n,r)}function Xy(e,t,n,r,o){n=n.render;var s=t.ref;return $s(t,o),r=Up(e,t,n,r,s,o),n=Bp(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nr(e,t,o)):(lt&&n&&Ap(t),t.flags|=1,Zt(e,t,r,o),t.child)}function Zy(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,RS(e,t,s,r,o)):(e=nc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ma,n(i,r)&&e.ref===t.ref)return Nr(e,t,o)}return t.flags|=1,e=go(s,r),e.ref=t.ref,e.return=t,t.child=e}function RS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ma(s,r)&&e.ref===t.ref)if(ln=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,Nr(e,t,o)}return oh(e,t,n,r,o)}function MS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ds,mn),mn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(Ds,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(Ds,mn),mn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,nt(Ds,mn),mn|=r;return Zt(e,t,o,n),t.child}function IS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oh(e,t,n,r,o){var s=un(n)?Zo:Kt.current;return s=ri(t,s),$s(t,o),n=Up(e,t,n,r,s,o),r=Bp(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nr(e,t,o)):(lt&&r&&Ap(t),t.flags|=1,Zt(e,t,n,o),t.child)}function Jy(e,t,n,r,o){if(un(n)){var s=!0;Cc(t)}else s=!1;if($s(t,o),t.stateNode===null)Jl(e,t),kS(t,n,r),nh(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=un(n)?Zo:Kt.current,c=ri(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Gy(t,i,r,c),Qr=!1;var h=t.memoizedState;i.state=h,Dc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||cn.current||Qr?(typeof d=="function"&&(th(t,n,d,r),l=t.memoizedState),(a=Qr||Hy(t,n,a,r,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,iS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Vn(t.type,a),i.props=c,u=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=un(n)?Zo:Kt.current,l=ri(t,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Gy(t,i,r,l),Qr=!1,h=t.memoizedState,i.state=h,Dc(t,r,i,o);var y=t.memoizedState;a!==u||h!==y||cn.current||Qr?(typeof w=="function"&&(th(t,n,w,r),y=t.memoizedState),(c=Qr||Hy(t,n,c,r,h,y,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sh(e,t,n,r,s,o)}function sh(e,t,n,r,o,s){IS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Oy(t,n,!1),Nr(e,t,s);r=t.stateNode,hR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=si(t,e.child,null,s),t.child=si(t,null,a,s)):Zt(e,t,a,s),t.memoizedState=r.state,o&&Oy(t,n,!0),t.child}function _S(e){var t=e.stateNode;t.pendingContext?Fy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fy(e,t.context,!1),Fp(e,t.containerInfo)}function ev(e,t,n,r,o){return oi(),Mp(o),t.flags|=256,Zt(e,t,n,r),t.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function NS(e,t,n){var r=t.pendingProps,o=ct.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),nt(ct,o&1),e===null)return Jf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=vu(i,r,0,null),e=Ko(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ah(n),t.memoizedState=ih,e):Wp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return pR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=go(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=go(a,s):(s=Ko(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ah(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=ih,r}return s=e.child,e=s.sibling,r=go(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wp(e,t){return t=vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bl(e,t,n,r){return r!==null&&Mp(r),si(t,e.child,null,n),e=Wp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Ad(Error(H(422))),bl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=vu({mode:"visible",children:r.children},o,0,null),s=Ko(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&si(t,e.child,null,i),t.child.memoizedState=ah(i),t.memoizedState=ih,s);if(!(t.mode&1))return bl(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Ad(s,r,void 0),bl(e,t,i,r)}if(a=(i&e.childLanes)!==0,ln||a){if(r=Mt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,_r(e,o),Hn(r,e,o,-1))}return Xp(),r=Ad(Error(H(421))),bl(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=kR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,yn=fo(o.nextSibling),vn=t,lt=!0,qn=null,e!==null&&(An[Rn++]=Pr,An[Rn++]=Tr,An[Rn++]=Jo,Pr=e.id,Tr=e.overflow,Jo=t),t=Wp(t,r.children),t.flags|=4096,t)}function tv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eh(e.return,t,n)}function Rd(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function LS(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Zt(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tv(e,n,t);else if(e.tag===19)tv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nt(ct,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ac(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rd(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ac(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rd(t,!0,n,null,s);break;case"together":Rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=go(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=go(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mR(e,t,n){switch(t.tag){case 3:_S(t),oi();break;case 5:aS(t);break;case 1:un(t.type)&&Cc(t);break;case 4:Fp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;nt(Tc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nt(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?NS(e,t,n):(nt(ct,ct.current&1),e=Nr(e,t,n),e!==null?e.sibling:null);nt(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return LS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),nt(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,MS(e,t,n)}return Nr(e,t,n)}var jS,lh,FS,OS;jS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lh=function(){};FS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Vo(fr.current);var s=null;switch(n){case"input":o=Rf(e,o),r=Rf(e,r),s=[];break;case"select":o=pt({},o,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":o=_f(e,o),r=_f(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sc)}Lf(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(la.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(la.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ot("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};OS=function(e,t,n,r){n!==r&&(t.flags|=4)};function _i(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gR(e,t,n){var r=t.pendingProps;switch(Rp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return un(t.type)&&bc(),Ut(t),null;case 3:return r=t.stateNode,ii(),st(cn),st(Kt),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qn!==null&&(gh(qn),qn=null))),lh(e,t),Ut(t),null;case 5:Op(t);var o=Vo(xa.current);if(n=t.type,e!==null&&t.stateNode!=null)FS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Ut(t),null}if(e=Vo(fr.current),xl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[lr]=t,r[va]=s,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(o=0;o<zi.length;o++)ot(zi[o],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":uy(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":fy(r,s),ot("invalid",r)}Lf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wl(r.textContent,a,e),o=["children",""+a]):la.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ot("scroll",r)}switch(n){case"input":dl(r),dy(r,s,!0);break;case"textarea":dl(r),hy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[lr]=t,e[va]=r,jS(e,t,!1,!1),t.stateNode=e;e:{switch(i=jf(n,r),n){case"dialog":ot("cancel",e),ot("close",e),o=r;break;case"iframe":case"object":case"embed":ot("load",e),o=r;break;case"video":case"audio":for(o=0;o<zi.length;o++)ot(zi[o],e);o=r;break;case"source":ot("error",e),o=r;break;case"img":case"image":case"link":ot("error",e),ot("load",e),o=r;break;case"details":ot("toggle",e),o=r;break;case"input":uy(e,r),o=Rf(e,r),ot("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pt({},r,{value:void 0}),ot("invalid",e);break;case"textarea":fy(e,r),o=_f(e,r),ot("invalid",e);break;default:o=r}Lf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ca(e,l):typeof l=="number"&&ca(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(la.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ot("scroll",e):l!=null&&mp(e,s,l,i))}switch(n){case"input":dl(e),dy(e,r,!1);break;case"textarea":dl(e),hy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ls(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)OS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Vo(xa.current),Vo(fr.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[lr]=t,(s=r.nodeValue!==n)&&(e=vn,e!==null))switch(e.tag){case 3:wl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=t,t.stateNode=r}return Ut(t),null;case 13:if(st(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&yn!==null&&t.mode&1&&!(t.flags&128))nS(),oi(),t.flags|=98560,s=!1;else if(s=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[lr]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),s=!1}else qn!==null&&(gh(qn),qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Dt===0&&(Dt=3):Xp())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return ii(),lh(e,t),e===null&&ga(t.stateNode.containerInfo),Ut(t),null;case 10:return Np(t.type._context),Ut(t),null;case 17:return un(t.type)&&bc(),Ut(t),null;case 19:if(st(ct),s=t.memoizedState,s===null)return Ut(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)_i(s,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ac(e),i!==null){for(t.flags|=128,_i(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&xt()>li&&(t.flags|=128,r=!0,_i(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ac(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!lt)return Ut(t),null}else 2*xt()-s.renderingStartTime>li&&n!==1073741824&&(t.flags|=128,r=!0,_i(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xt(),t.sibling=null,n=ct.current,nt(ct,r?n&1|2:n&1),t):(Ut(t),null);case 22:case 23:return Qp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function yR(e,t){switch(Rp(t),t.tag){case 1:return un(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),st(cn),st(Kt),$p(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Op(t),null;case 13:if(st(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ct),null;case 4:return ii(),null;case 10:return Np(t.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var Cl=!1,qt=!1,vR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ks(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(e,t,r)}else n.current=null}function ch(e,t,n){try{n()}catch(r){vt(e,t,r)}}var nv=!1;function wR(e,t){if(Hf=vc,e=zx(),Dp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var w;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(w=u.firstChild)!==null;)h=u,u=w;for(;;){if(u===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(w=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:e,selectionRange:n},vc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Vn(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){vt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return y=nv,nv=!1,y}function ea(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&ch(t,n,s)}o=o.next}while(o!==r)}}function gu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $S(e){var t=e.alternate;t!==null&&(e.alternate=null,$S(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[va],delete t[Qf],delete t[tR],delete t[nR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VS(e){return e.tag===5||e.tag===3||e.tag===4}function rv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sc));else if(r!==4&&(e=e.child,e!==null))for(dh(e,t,n),e=e.sibling;e!==null;)dh(e,t,n),e=e.sibling}function fh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fh(e,t,n),e=e.sibling;e!==null;)fh(e,t,n),e=e.sibling}var Nt=null,zn=!1;function Br(e,t,n){for(n=n.child;n!==null;)US(e,t,n),n=n.sibling}function US(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(lu,n)}catch{}switch(n.tag){case 5:qt||ks(n,t);case 6:var r=Nt,o=zn;Nt=null,Br(e,t,n),Nt=r,zn=o,Nt!==null&&(zn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(zn?(e=Nt,n=n.stateNode,e.nodeType===8?Cd(e.parentNode,n):e.nodeType===1&&Cd(e,n),ha(e)):Cd(Nt,n.stateNode));break;case 4:r=Nt,o=zn,Nt=n.stateNode.containerInfo,zn=!0,Br(e,t,n),Nt=r,zn=o;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ch(n,t,i),o=o.next}while(o!==r)}Br(e,t,n);break;case 1:if(!qt&&(ks(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,t,a)}Br(e,t,n);break;case 21:Br(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Br(e,t,n),qt=r):Br(e,t,n);break;default:Br(e,t,n)}}function ov(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vR),t.forEach(function(r){var o=DR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,zn=!1;break e;case 3:Nt=a.stateNode.containerInfo,zn=!0;break e;case 4:Nt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(Nt===null)throw Error(H(160));US(s,i,o),Nt=null,zn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){vt(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BS(t,e),t=t.sibling}function BS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),nr(e),r&4){try{ea(3,e,e.return),gu(3,e)}catch(x){vt(e,e.return,x)}try{ea(5,e,e.return)}catch(x){vt(e,e.return,x)}}break;case 1:On(t,e),nr(e),r&512&&n!==null&&ks(n,n.return);break;case 5:if(On(t,e),nr(e),r&512&&n!==null&&ks(n,n.return),e.flags&32){var o=e.stateNode;try{ca(o,"")}catch(x){vt(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ux(o,s),jf(a,i);var c=jf(a,s);for(i=0;i<l.length;i+=2){var d=l[i],u=l[i+1];d==="style"?mx(o,u):d==="dangerouslySetInnerHTML"?hx(o,u):d==="children"?ca(o,u):mp(o,d,u,c)}switch(a){case"input":Mf(o,s);break;case"textarea":dx(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ls(o,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ls(o,!!s.multiple,s.defaultValue,!0):Ls(o,!!s.multiple,s.multiple?[]:"",!1))}o[va]=s}catch(x){vt(e,e.return,x)}}break;case 6:if(On(t,e),nr(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){vt(e,e.return,x)}}break;case 3:if(On(t,e),nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(x){vt(e,e.return,x)}break;case 4:On(t,e),nr(e);break;case 13:On(t,e),nr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Kp=xt())),r&4&&ov(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(c=qt)||d,On(t,e),qt=c):On(t,e),nr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(u=ae=d;ae!==null;){switch(h=ae,w=h.child,h.tag){case 0:case 11:case 14:case 15:ea(4,h,h.return);break;case 1:ks(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){vt(r,n,x)}}break;case 5:ks(h,h.return);break;case 22:if(h.memoizedState!==null){iv(u);continue}}w!==null?(w.return=h,ae=w):iv(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=px("display",i))}catch(x){vt(e,e.return,x)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(x){vt(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:On(t,e),nr(e),r&4&&ov(e);break;case 21:break;default:On(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(VS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ca(o,""),r.flags&=-33);var s=rv(e);fh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=rv(e);dh(e,a,i);break;default:throw Error(H(161))}}catch(l){vt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xR(e,t,n){ae=e,zS(e)}function zS(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var o=ae,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Cl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Cl;var c=qt;if(Cl=i,(qt=l)&&!c)for(ae=o;ae!==null;)i=ae,l=i.child,i.tag===22&&i.memoizedState!==null?av(o):l!==null?(l.return=i,ae=l):av(o);for(;s!==null;)ae=s,zS(s),s=s.sibling;ae=o,Cl=a,qt=c}sv(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ae=s):sv(e)}}function sv(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||gu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&ha(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}qt||t.flags&512&&uh(t)}catch(h){vt(t,t.return,h)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function iv(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function av(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gu(4,t)}catch(l){vt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){vt(t,o,l)}}var s=t.return;try{uh(t)}catch(l){vt(t,s,l)}break;case 5:var i=t.return;try{uh(t)}catch(l){vt(t,i,l)}}}catch(l){vt(t,t.return,l)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var SR=Math.ceil,Ic=$r.ReactCurrentDispatcher,Hp=$r.ReactCurrentOwner,In=$r.ReactCurrentBatchConfig,Fe=0,Mt=null,Et=null,jt=0,mn=0,Ds=Do(0),Dt=0,Ea=null,ts=0,yu=0,Gp=0,ta=null,sn=null,Kp=0,li=1/0,Cr=null,_c=!1,hh=null,po=null,El=!1,io=null,Nc=0,na=0,ph=null,ec=-1,tc=0;function en(){return Fe&6?xt():ec!==-1?ec:ec=xt()}function mo(e){return e.mode&1?Fe&2&&jt!==0?jt&-jt:oR.transition!==null?(tc===0&&(tc=kx()),tc):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:Nx(e.type)),e):1}function Hn(e,t,n,r){if(50<na)throw na=0,ph=null,Error(H(185));qa(e,n,r),(!(Fe&2)||e!==Mt)&&(e===Mt&&(!(Fe&2)&&(yu|=n),Dt===4&&Jr(e,jt)),dn(e,r),n===1&&Fe===0&&!(t.mode&1)&&(li=xt()+500,hu&&Ao()))}function dn(e,t){var n=e.callbackNode;oA(e,t);var r=yc(e,e===Mt?jt:0);if(r===0)n!==null&&gy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gy(n),t===1)e.tag===0?rR(lv.bind(null,e)):Jx(lv.bind(null,e)),JA(function(){!(Fe&6)&&Ao()}),n=null;else{switch(Dx(r)){case 1:n=xp;break;case 4:n=Px;break;case 16:n=gc;break;case 536870912:n=Tx;break;default:n=gc}n=XS(n,qS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qS(e,t){if(ec=-1,tc=0,Fe&6)throw Error(H(327));var n=e.callbackNode;if(Vs()&&e.callbackNode!==n)return null;var r=yc(e,e===Mt?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lc(e,r);else{t=r;var o=Fe;Fe|=2;var s=HS();(Mt!==e||jt!==t)&&(Cr=null,li=xt()+500,Go(e,t));do try{ER();break}catch(a){WS(e,a)}while(!0);_p(),Ic.current=s,Fe=o,Et!==null?t=0:(Mt=null,jt=0,t=Dt)}if(t!==0){if(t===2&&(o=Uf(e),o!==0&&(r=o,t=mh(e,o))),t===1)throw n=Ea,Go(e,0),Jr(e,r),dn(e,xt()),n;if(t===6)Jr(e,r);else{if(o=e.current.alternate,!(r&30)&&!bR(o)&&(t=Lc(e,r),t===2&&(s=Uf(e),s!==0&&(r=s,t=mh(e,s))),t===1))throw n=Ea,Go(e,0),Jr(e,r),dn(e,xt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Lo(e,sn,Cr);break;case 3:if(Jr(e,r),(r&130023424)===r&&(t=Kp+500-xt(),10<t)){if(yc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){en(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Yf(Lo.bind(null,e,sn,Cr),t);break}Lo(e,sn,Cr);break;case 4:if(Jr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Wn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SR(r/1960))-r,10<r){e.timeoutHandle=Yf(Lo.bind(null,e,sn,Cr),r);break}Lo(e,sn,Cr);break;case 5:Lo(e,sn,Cr);break;default:throw Error(H(329))}}}return dn(e,xt()),e.callbackNode===n?qS.bind(null,e):null}function mh(e,t){var n=ta;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=sn,sn=n,t!==null&&gh(t)),e}function gh(e){sn===null?sn=e:sn.push.apply(sn,e)}function bR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Kn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~Gp,t&=~yu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function lv(e){if(Fe&6)throw Error(H(327));Vs();var t=yc(e,0);if(!(t&1))return dn(e,xt()),null;var n=Lc(e,t);if(e.tag!==0&&n===2){var r=Uf(e);r!==0&&(t=r,n=mh(e,r))}if(n===1)throw n=Ea,Go(e,0),Jr(e,t),dn(e,xt()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lo(e,sn,Cr),dn(e,xt()),null}function Yp(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(li=xt()+500,hu&&Ao())}}function ns(e){io!==null&&io.tag===0&&!(Fe&6)&&Vs();var t=Fe;Fe|=1;var n=In.transition,r=Ze;try{if(In.transition=null,Ze=1,e)return e()}finally{Ze=r,In.transition=n,Fe=t,!(Fe&6)&&Ao()}}function Qp(){mn=Ds.current,st(Ds)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZA(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:ii(),st(cn),st(Kt),$p();break;case 5:Op(r);break;case 4:ii();break;case 13:st(ct);break;case 19:st(ct);break;case 10:Np(r.type._context);break;case 22:case 23:Qp()}n=n.return}if(Mt=e,Et=e=go(e.current,null),jt=mn=t,Dt=0,Ea=null,Gp=yu=ts=0,sn=ta=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}$o=null}return e}function WS(e,t){do{var n=Et;try{if(_p(),Xl.current=Mc,Rc){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Rc=!1}if(es=0,Rt=kt=ht=null,Ji=!1,Sa=0,Hp.current=null,n===null||n.return===null){Dt=1,Ea=t,Et=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Yy(i);if(w!==null){w.flags&=-257,Qy(w,i,a,s,t),w.mode&1&&Ky(s,c,t),t=w,l=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Ky(s,c,t),Xp();break e}l=Error(H(426))}}else if(lt&&a.mode&1){var b=Yy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qy(b,i,a,s,t),Mp(ai(l,a));break e}}s=l=ai(l,a),Dt!==4&&(Dt=2),ta===null?ta=[s]:ta.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=DS(s,l,t);By(s,m);break e;case 1:a=l;var g=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(po===null||!po.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=AS(s,a,t);By(s,C);break e}}s=s.return}while(s!==null)}KS(n)}catch(E){t=E,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function HS(){var e=Ic.current;return Ic.current=Mc,e===null?Mc:e}function Xp(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Mt===null||!(ts&268435455)&&!(yu&268435455)||Jr(Mt,jt)}function Lc(e,t){var n=Fe;Fe|=2;var r=HS();(Mt!==e||jt!==t)&&(Cr=null,Go(e,t));do try{CR();break}catch(o){WS(e,o)}while(!0);if(_p(),Fe=n,Ic.current=r,Et!==null)throw Error(H(261));return Mt=null,jt=0,Dt}function CR(){for(;Et!==null;)GS(Et)}function ER(){for(;Et!==null&&!YD();)GS(Et)}function GS(e){var t=QS(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?KS(e):Et=t,Hp.current=null}function KS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yR(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Et=null;return}}else if(n=gR(n,t,mn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Dt===0&&(Dt=5)}function Lo(e,t,n){var r=Ze,o=In.transition;try{In.transition=null,Ze=1,PR(e,t,n,r)}finally{In.transition=o,Ze=r}return null}function PR(e,t,n,r){do Vs();while(io!==null);if(Fe&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sA(e,s),e===Mt&&(Et=Mt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||El||(El=!0,XS(gc,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var i=Ze;Ze=1;var a=Fe;Fe|=4,Hp.current=null,wR(e,n),BS(n,e),WA(Gf),vc=!!Hf,Gf=Hf=null,e.current=n,xR(n),QD(),Fe=a,Ze=i,In.transition=s}else e.current=n;if(El&&(El=!1,io=e,Nc=o),s=e.pendingLanes,s===0&&(po=null),JD(n.stateNode),dn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(_c)throw _c=!1,e=hh,hh=null,e;return Nc&1&&e.tag!==0&&Vs(),s=e.pendingLanes,s&1?e===ph?na++:(na=0,ph=e):na=0,Ao(),null}function Vs(){if(io!==null){var e=Dx(Nc),t=In.transition,n=Ze;try{if(In.transition=null,Ze=16>e?16:e,io===null)var r=!1;else{if(e=io,io=null,Nc=0,Fe&6)throw Error(H(331));var o=Fe;for(Fe|=4,ae=e.current;ae!==null;){var s=ae,i=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:ea(8,d,s)}var u=d.child;if(u!==null)u.return=d,ae=u;else for(;ae!==null;){d=ae;var h=d.sibling,w=d.return;if($S(d),d===c){ae=null;break}if(h!==null){h.return=w,ae=h;break}ae=w}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ae=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ae=i;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ea(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ae=m;break e}ae=s.return}}var g=e.current;for(ae=g;ae!==null;){i=ae;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,ae=S;else e:for(i=g;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gu(9,a)}}catch(E){vt(a,a.return,E)}if(a===i){ae=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ae=C;break e}ae=a.return}}if(Fe=o,Ao(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(lu,e)}catch{}r=!0}return r}finally{Ze=n,In.transition=t}}return!1}function cv(e,t,n){t=ai(n,t),t=DS(e,t,1),e=ho(e,t,1),t=en(),e!==null&&(qa(e,1,t),dn(e,t))}function vt(e,t,n){if(e.tag===3)cv(e,e,n);else for(;t!==null;){if(t.tag===3){cv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){e=ai(n,e),e=AS(t,e,1),t=ho(t,e,1),e=en(),t!==null&&(qa(t,1,e),dn(t,e));break}}t=t.return}}function TR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&n,Mt===e&&(jt&n)===n&&(Dt===4||Dt===3&&(jt&130023424)===jt&&500>xt()-Kp?Go(e,0):Gp|=n),dn(e,t)}function YS(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var n=en();e=_r(e,t),e!==null&&(qa(e,t,n),dn(e,n))}function kR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YS(e,n)}function DR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),YS(e,n)}var QS;QS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ln=!1,mR(e,t,n);ln=!!(e.flags&131072)}else ln=!1,lt&&t.flags&1048576&&eS(t,Pc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jl(e,t),e=t.pendingProps;var o=ri(t,Kt.current);$s(t,n),o=Up(null,t,r,e,o,n);var s=Bp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(s=!0,Cc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,jp(t),o.updater=mu,t.stateNode=o,o._reactInternals=t,nh(t,r,e,n),t=sh(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&Ap(t),Zt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=RR(r),e=Vn(r,e),o){case 0:t=oh(null,t,r,e,n);break e;case 1:t=Jy(null,t,r,e,n);break e;case 11:t=Xy(null,t,r,e,n);break e;case 14:t=Zy(null,t,r,Vn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),oh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Jy(e,t,r,o,n);case 3:e:{if(_S(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,o=s.element,iS(e,t),Dc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ai(Error(H(423)),t),t=ev(e,t,r,n,o);break e}else if(r!==o){o=ai(Error(H(424)),t),t=ev(e,t,r,n,o);break e}else for(yn=fo(t.stateNode.containerInfo.firstChild),vn=t,lt=!0,qn=null,n=oS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),r===o){t=Nr(e,t,n);break e}Zt(e,t,r,n)}t=t.child}return t;case 5:return aS(t),e===null&&Jf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Kf(r,o)?i=null:s!==null&&Kf(r,s)&&(t.flags|=32),IS(e,t),Zt(e,t,i,n),t.child;case 6:return e===null&&Jf(t),null;case 13:return NS(e,t,n);case 4:return Fp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=si(t,null,r,n):Zt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Xy(e,t,r,o,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,nt(Tc,r._currentValue),r._currentValue=i,s!==null)if(Kn(s.value,i)){if(s.children===o.children&&!cn.current){t=Nr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),eh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(H(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),eh(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Zt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$s(t,n),o=Nn(o),r=r(o),t.flags|=1,Zt(e,t,r,n),t.child;case 14:return r=t.type,o=Vn(r,t.pendingProps),o=Vn(r.type,o),Zy(e,t,r,o,n);case 15:return RS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Vn(r,o),Jl(e,t),t.tag=1,un(r)?(e=!0,Cc(t)):e=!1,$s(t,n),kS(t,r,o),nh(t,r,o,n),sh(null,t,r,!0,e,n);case 19:return LS(e,t,n);case 22:return MS(e,t,n)}throw Error(H(156,t.tag))};function XS(e,t){return Ex(e,t)}function AR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new AR(e,t,n,r)}function Zp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RR(e){if(typeof e=="function")return Zp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yp)return 11;if(e===vp)return 14}return 2}function go(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nc(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Zp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vs:return Ko(n.children,o,s,t);case gp:i=8,o|=8;break;case Tf:return e=Mn(12,n,t,o|2),e.elementType=Tf,e.lanes=s,e;case kf:return e=Mn(13,n,t,o),e.elementType=kf,e.lanes=s,e;case Df:return e=Mn(19,n,t,o),e.elementType=Df,e.lanes=s,e;case ax:return vu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sx:i=10;break e;case ix:i=9;break e;case yp:i=11;break e;case vp:i=14;break e;case Yr:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Mn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Ko(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function vu(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=ax,e.lanes=n,e.stateNode={isHidden:!1},e}function Md(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Id(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jp(e,t,n,r,o,s,i,a,l){return e=new MR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jp(s),e}function IR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ZS(e){if(!e)return So;e=e._reactInternals;e:{if(ls(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(un(n))return Zx(e,n,t)}return t}function JS(e,t,n,r,o,s,i,a,l){return e=Jp(n,r,!0,e,o,s,i,a,l),e.context=ZS(null),n=e.current,r=en(),o=mo(n),s=Dr(r,o),s.callback=t??null,ho(n,s,o),e.current.lanes=o,qa(e,o,r),dn(e,r),e}function wu(e,t,n,r){var o=t.current,s=en(),i=mo(o);return n=ZS(n),t.context===null?t.context=n:t.pendingContext=n,t=Dr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ho(o,t,i),e!==null&&(Hn(e,o,i,s),Ql(e,o,i)),i}function jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function em(e,t){uv(e,t),(e=e.alternate)&&uv(e,t)}function _R(){return null}var eb=typeof reportError=="function"?reportError:function(e){console.error(e)};function tm(e){this._internalRoot=e}xu.prototype.render=tm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));wu(e,t,null,null)};xu.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){wu(null,e,null,null)}),t[Ir]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zr.length&&t!==0&&t<Zr[n].priority;n++);Zr.splice(n,0,e),n===0&&_x(e)}};function nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dv(){}function NR(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=jc(i);s.call(c)}}var i=JS(t,r,e,0,null,!1,!1,"",dv);return e._reactRootContainer=i,e[Ir]=i.current,ga(e.nodeType===8?e.parentNode:e),ns(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=jc(l);a.call(c)}}var l=Jp(e,0,!1,null,null,!1,!1,"",dv);return e._reactRootContainer=l,e[Ir]=l.current,ga(e.nodeType===8?e.parentNode:e),ns(function(){wu(t,l,n,r)}),l}function bu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=jc(i);a.call(l)}}wu(t,i,e,o)}else i=NR(n,t,e,o,r);return jc(i)}Ax=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bi(t.pendingLanes);n!==0&&(Sp(t,n|1),dn(t,xt()),!(Fe&6)&&(li=xt()+500,Ao()))}break;case 13:ns(function(){var r=_r(e,1);if(r!==null){var o=en();Hn(r,e,1,o)}}),em(e,1)}};bp=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var n=en();Hn(t,e,134217728,n)}em(e,134217728)}};Rx=function(e){if(e.tag===13){var t=mo(e),n=_r(e,t);if(n!==null){var r=en();Hn(n,e,t,r)}em(e,t)}};Mx=function(){return Ze};Ix=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};Of=function(e,t,n){switch(t){case"input":if(Mf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fu(r);if(!o)throw Error(H(90));cx(r),Mf(r,o)}}}break;case"textarea":dx(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}};vx=Yp;wx=ns;var LR={usingClientEntryPoint:!1,Events:[Ha,bs,fu,gx,yx,Yp]},Ni={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||_R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{lu=Pl.inject(jR),dr=Pl}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LR;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nm(t))throw Error(H(200));return IR(e,t,null,n)};bn.createRoot=function(e,t){if(!nm(e))throw Error(H(299));var n=!1,r="",o=eb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Jp(e,1,!1,null,null,n,!1,r,o),e[Ir]=t.current,ga(e.nodeType===8?e.parentNode:e),new tm(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=bx(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return ns(e)};bn.hydrate=function(e,t,n){if(!Su(t))throw Error(H(200));return bu(null,e,t,!0,n)};bn.hydrateRoot=function(e,t,n){if(!nm(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=eb;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=JS(t,null,e,1,n??null,o,!1,s,i),e[Ir]=t.current,ga(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new xu(t)};bn.render=function(e,t,n){if(!Su(t))throw Error(H(200));return bu(null,e,t,!1,n)};bn.unmountComponentAtNode=function(e){if(!Su(e))throw Error(H(40));return e._reactRootContainer?(ns(function(){bu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ir]=null})}),!0):!1};bn.unstable_batchedUpdates=Yp;bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Su(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return bu(e,t,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function tb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tb)}catch(e){console.error(e)}}tb(),tx.exports=bn;var Ka=tx.exports;const FR=lp(Ka);var nb,fv=Ka;nb=fv.createRoot,fv.hydrateRoot;function OR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var rb={exports:{}},ob={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=f;function $R(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VR=typeof Object.is=="function"?Object.is:$R,UR=ci.useState,BR=ci.useEffect,zR=ci.useLayoutEffect,qR=ci.useDebugValue;function WR(e,t){var n=t(),r=UR({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return zR(function(){o.value=n,o.getSnapshot=t,_d(o)&&s({inst:o})},[e,n,t]),BR(function(){return _d(o)&&s({inst:o}),e(function(){_d(o)&&s({inst:o})})},[e]),qR(n),n}function _d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!VR(e,n)}catch{return!0}}function HR(e,t){return t()}var GR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HR:WR;ob.useSyncExternalStore=ci.useSyncExternalStore!==void 0?ci.useSyncExternalStore:GR;rb.exports=ob;var KR=rb.exports;const YR=J0.useInsertionEffect,QR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XR=QR?f.useLayoutEffect:f.useEffect,ZR=YR||XR,sb=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return ZR(()=>{t[0]=e}),t[1]},JR="popstate",rm="pushState",om="replaceState",eM="hashchange",hv=[JR,rm,om,eM],tM=e=>{for(const t of hv)addEventListener(t,e);return()=>{for(const t of hv)removeEventListener(t,e)}},ib=(e,t)=>KR.useSyncExternalStore(tM,e,t),nM=()=>location.search,rM=({ssrSearch:e=""}={})=>ib(nM,()=>e),pv=()=>location.pathname,oM=({ssrPath:e}={})=>ib(pv,e?()=>e:pv),sM=(e,{replace:t=!1,state:n=null}={})=>history[t?om:rm](n,"",e),iM=(e={})=>[oM(e),sM],mv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mv]>"u"){for(const e of[rm,om]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,mv,{value:!0})}const aM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ab=(e="")=>e==="/"?"":e,lM=(e,t)=>e[0]==="~"?e.slice(1):ab(t)+e,cM=(e="",t)=>aM(gv(ab(e)),gv(t)),gv=e=>{try{return decodeURI(e)}catch{return e}},lb={hook:iM,searchHook:rM,parser:OR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},cb=f.createContext(lb),Ya=()=>f.useContext(cb),ub={},db=f.createContext(ub),uM=()=>f.useContext(db),Cu=e=>{const[t,n]=e.hook(e);return[cM(e.base,t),sb((r,o)=>n(lM(r,e.base),o))]},sm=()=>Cu(Ya()),fb=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,h)=>[u,l[h]])):i.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},hb=({children:e,...t})=>{var d,u;const n=Ya(),r=t.hook?lb:n;let o=r;const[s,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let a=f.useRef({}),l=a.current,c=l;for(let h in r){const w=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===c&&w!==c[h]&&(a.current=c={...c}),c[h]=w,w!==r[h]&&(o=c)}return f.createElement(cb.Provider,{value:o,children:e})},yv=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,dM=e=>{let t=f.useRef(ub),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Tl=({path:e,nest:t,match:n,...r})=>{const o=Ya(),[s]=Cu(o),[i,a,l]=n??fb(o.parser,e,s,t),c=dM({...uM(),...a});if(!i)return null;const d=l?f.createElement(hb,{base:l},yv(r,c)):yv(r,c);return f.createElement(db.Provider,{value:c,children:d})},fM=f.forwardRef((e,t)=>{const n=Ya(),[r,o]=Cu(n),{to:s="",href:i=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:h,...w}=e,y=sb(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),o(i,e)))}),x=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&f.isValidElement(c)?f.cloneElement(c,{onClick:y,href:x}):f.createElement("a",{...w,onClick:y,href:x,className:d!=null&&d.call?d(r===i):d,children:c,ref:t})}),pb=e=>Array.isArray(e)?e.flatMap(t=>pb(t&&t.type===f.Fragment?t.props.children:t)):[e],hM=({children:e,location:t})=>{const n=Ya(),[r]=Cu(n);for(const o of pb(e)){let s=0;if(f.isValidElement(o)&&(s=fb(n.parser,o.props.path,t||r,o.props.nest))[0])return f.cloneElement(o,{match:s})}return null};var Eu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pu=typeof window>"u"||"Deno"in globalThis;function Un(){}function pM(e,t){return typeof e=="function"?e(t):e}function mM(e){return typeof e=="number"&&e>=0&&e!==1/0}function gM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vv(e,t){return typeof e=="function"?e(t):e}function yM(e,t){return typeof e=="function"?e(t):e}function wv(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==im(i,t.options))return!1}else if(!Ta(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function xv(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Pa(t.options.mutationKey)!==Pa(s))return!1}else if(!Ta(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function im(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pa)(e)}function Pa(e){return JSON.stringify(e,(t,n)=>yh(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ta(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ta(e[n],t[n])):!1}function mb(e,t){if(e===t)return e;const n=Sv(e)&&Sv(t);if(n||yh(e)&&yh(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=mb(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function Sv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yh(e){if(!bv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!bv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bv(e){return Object.prototype.toString.call(e)==="[object Object]"}function vM(e){return new Promise(t=>{setTimeout(t,e)})}function wM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mb(e,t):t}function xM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function SM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var am=Symbol();function gb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===am?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zo,eo,Gs,L0,bM=(L0=class extends Eu{constructor(){super();He(this,zo);He(this,eo);He(this,Gs);De(this,Gs,t=>{if(!Pu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,eo)||this.setEventListener(U(this,Gs))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,eo))==null||t.call(this),De(this,eo,void 0))}setEventListener(t){var n;De(this,Gs,t),(n=U(this,eo))==null||n.call(this),De(this,eo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,zo)!==t&&(De(this,zo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,zo)=="boolean"?U(this,zo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zo=new WeakMap,eo=new WeakMap,Gs=new WeakMap,L0),yb=new bM,Ks,to,Ys,j0,CM=(j0=class extends Eu{constructor(){super();He(this,Ks,!0);He(this,to);He(this,Ys);De(this,Ys,t=>{if(!Pu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,to)||this.setEventListener(U(this,Ys))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,to))==null||t.call(this),De(this,to,void 0))}setEventListener(t){var n;De(this,Ys,t),(n=U(this,to))==null||n.call(this),De(this,to,t(this.setOnline.bind(this)))}setOnline(t){U(this,Ks)!==t&&(De(this,Ks,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Ks)}},Ks=new WeakMap,to=new WeakMap,Ys=new WeakMap,j0),Fc=new CM;function EM(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function PM(e){return Math.min(1e3*2**e,3e4)}function vb(e){return(e??"online")==="online"?Fc.isOnline():!0}var wb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nd(e){return e instanceof wb}function xb(e){let t=!1,n=0,r=!1,o;const s=EM(),i=x=>{var b;r||(h(new wb(x)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>yb.isFocused()&&(e.networkMode==="always"||Fc.isOnline())&&e.canRun(),d=()=>vb(e.networkMode)&&e.canRun(),u=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),o==null||o(),s.resolve(x))},h=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),o==null||o(),s.reject(x))},w=()=>new Promise(x=>{var b;o=m=>{(r||c())&&x(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(u).catch(m=>{var P;if(r)return;const g=e.retry??(Pu?0:3),S=e.retryDelay??PM,C=typeof S=="function"?S(n,m):S,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!E){h(m);return}n++,(P=e.onFail)==null||P.call(e,n,m),vM(C).then(()=>c()?void 0:w()).then(()=>{t?h(m):y()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():w().then(y),s)}}function TM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Jt=TM(),qo,F0,Sb=(F0=class{constructor(){He(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mM(this.gcTime)&&De(this,qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pu?1/0:5*60*1e3))}clearGcTimeout(){U(this,qo)&&(clearTimeout(U(this,qo)),De(this,qo,void 0))}},qo=new WeakMap,F0),Qs,Xs,Dn,Bt,Ua,Wo,Bn,br,O0,kM=(O0=class extends Sb{constructor(t){super();He(this,Bn);He(this,Qs);He(this,Xs);He(this,Dn);He(this,Bt);He(this,Ua);He(this,Wo);De(this,Wo,!1),De(this,Ua,t.defaultOptions),this.setOptions(t.options),this.observers=[],De(this,Dn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,De(this,Qs,AM(this.options)),this.state=t.state??U(this,Qs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,Bt))==null?void 0:t.promise}setOptions(t){this.options={...U(this,Ua),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Dn).remove(this)}setData(t,n){const r=wM(this.state.data,t,this.options);return $t(this,Bn,br).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,Bn,br).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=U(this,Bt))==null?void 0:r.promise;return(o=U(this,Bt))==null||o.cancel(t),n?n.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Qs))}isActive(){return this.observers.some(t=>yM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===am||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!gM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,Bt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,Bt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,Bt)&&(U(this,Wo)?U(this,Bt).cancel({revert:!0}):U(this,Bt).cancelRetry()),this.scheduleGc()),U(this,Dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Bn,br).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,Bt))return U(this,Bt).continueRetry(),U(this,Bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(De(this,Wo,!0),r.signal)})},s=()=>{const u=gb(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),De(this,Wo,!1),this.options.persister?this.options.persister(u,h,this):u(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),De(this,Xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&$t(this,Bn,br).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,w,y,x;Nd(u)&&u.silent||$t(this,Bn,br).call(this,{type:"error",error:u}),Nd(u)||((w=(h=U(this,Dn).config).onError)==null||w.call(h,u,this),(x=(y=U(this,Dn).config).onSettled)==null||x.call(y,this.state.data,u,this)),this.scheduleGc()};return De(this,Bt,xb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,w,y,x;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(b){a(b);return}(w=(h=U(this,Dn).config).onSuccess)==null||w.call(h,u,this),(x=(y=U(this,Dn).config).onSettled)==null||x.call(y,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{$t(this,Bn,br).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{$t(this,Bn,br).call(this,{type:"pause"})},onContinue:()=>{$t(this,Bn,br).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),U(this,Bt).start()}},Qs=new WeakMap,Xs=new WeakMap,Dn=new WeakMap,Bt=new WeakMap,Ua=new WeakMap,Wo=new WeakMap,Bn=new WeakSet,br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...DM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Nd(o)&&o.revert&&U(this,Xs)?{...U(this,Xs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Dn).notify({query:this,type:"updated",action:t})})},O0);function DM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function AM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,$0,RM=($0=class extends Eu{constructor(t={}){super();He(this,or);this.config=t,De(this,or,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??im(o,n);let i=this.get(s);return i||(i=new kM({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){U(this,or).has(t.queryHash)||(U(this,or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,or).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,or).get(t)}getAll(){return[...U(this,or).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>wv(t,r)):n}notify(t){Jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},or=new WeakMap,$0),sr,Xt,Ho,ir,Wr,V0,MM=(V0=class extends Sb{constructor(t){super();He(this,ir);He(this,sr);He(this,Xt);He(this,Ho);this.mutationId=t.mutationId,De(this,Xt,t.mutationCache),De(this,sr,[]),this.state=t.state||IM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,sr).includes(t)||(U(this,sr).push(t),this.clearGcTimeout(),U(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){De(this,sr,U(this,sr).filter(n=>n!==t)),this.scheduleGc(),U(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,sr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Xt).remove(this))}continue(){var t;return((t=U(this,Ho))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,c,d,u,h,w,y,x,b,m,g,S,C,E,P,k;De(this,Ho,xb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,R)=>{$t(this,ir,Wr).call(this,{type:"failed",failureCount:D,error:R})},onPause:()=>{$t(this,ir,Wr).call(this,{type:"pause"})},onContinue:()=>{$t(this,ir,Wr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Xt).canRun(this)}));const n=this.state.status==="pending",r=!U(this,Ho).canStart();try{if(!n){$t(this,ir,Wr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=U(this,Xt).config).onMutate)==null?void 0:s.call(o,t,this));const R=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));R!==this.state.context&&$t(this,ir,Wr).call(this,{type:"pending",context:R,variables:t,isPaused:r})}const D=await U(this,Ho).start();return await((c=(l=U(this,Xt).config).onSuccess)==null?void 0:c.call(l,D,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,D,t,this.state.context)),await((w=(h=U(this,Xt).config).onSettled)==null?void 0:w.call(h,D,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,D,null,t,this.state.context)),$t(this,ir,Wr).call(this,{type:"success",data:D}),D}catch(D){try{throw await((m=(b=U(this,Xt).config).onError)==null?void 0:m.call(b,D,t,this.state.context,this)),await((S=(g=this.options).onError)==null?void 0:S.call(g,D,t,this.state.context)),await((E=(C=U(this,Xt).config).onSettled)==null?void 0:E.call(C,void 0,D,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,D,t,this.state.context)),D}finally{$t(this,ir,Wr).call(this,{type:"error",error:D})}}finally{U(this,Xt).runNext(this)}}},sr=new WeakMap,Xt=new WeakMap,Ho=new WeakMap,ir=new WeakSet,Wr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Jt.batch(()=>{U(this,sr).forEach(r=>{r.onMutationUpdate(t)}),U(this,Xt).notify({mutation:this,type:"updated",action:t})})},V0);function IM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,Ba,U0,_M=(U0=class extends Eu{constructor(t={}){super();He(this,pn);He(this,Ba);this.config=t,De(this,pn,new Map),De(this,Ba,Date.now())}build(t,n,r){const o=new MM({mutationCache:this,mutationId:++ll(this,Ba)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=kl(t),r=U(this,pn).get(n)??[];r.push(t),U(this,pn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kl(t);if(U(this,pn).has(n)){const o=(r=U(this,pn).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?U(this,pn).delete(n):U(this,pn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=U(this,pn).get(kl(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=U(this,pn).get(kl(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,pn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xv(n,r))}findAll(t={}){return this.getAll().filter(n=>xv(t,n))}notify(t){Jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Jt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Un))))}},pn=new WeakMap,Ba=new WeakMap,U0);function kl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Cv(e){return{onFetch:(t,n)=>{var d,u,h,w,y;const r=t.options,o=(h=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,s=((w=t.state.data)==null?void 0:w.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},m=gb(t.options,t.fetchOptions),g=async(S,C,E)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};b(P);const k=await m(P),{maxPages:D}=t.options,R=E?SM:xM;return{pages:R(S.pages,k,D),pageParams:R(S.pageParams,C,D)}};if(o&&s.length){const S=o==="backward",C=S?NM:Ev,E={pages:s,pageParams:i},P=C(r,E);a=await g(E,P,S)}else{const S=e??s.length;do{const C=l===0?i[0]??r.initialPageParam:Ev(r,a);if(l>0&&C==null)break;a=await g(a,C),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Ev(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function NM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var gt,no,ro,Zs,Js,oo,ei,ti,B0,LM=(B0=class{constructor(e={}){He(this,gt);He(this,no);He(this,ro);He(this,Zs);He(this,Js);He(this,oo);He(this,ei);He(this,ti);De(this,gt,e.queryCache||new RM),De(this,no,e.mutationCache||new _M),De(this,ro,e.defaultOptions||{}),De(this,Zs,new Map),De(this,Js,new Map),De(this,oo,0)}mount(){ll(this,oo)._++,U(this,oo)===1&&(De(this,ei,yb.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,gt).onFocus())})),De(this,ti,Fc.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,gt).onOnline())})))}unmount(){var e,t;ll(this,oo)._--,U(this,oo)===0&&((e=U(this,ei))==null||e.call(this),De(this,ei,void 0),(t=U(this,ti))==null||t.call(this),De(this,ti,void 0))}isFetching(e){return U(this,gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,no).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,gt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,gt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(vv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,gt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=U(this,gt).get(r.queryHash),s=o==null?void 0:o.state.data,i=pM(t,s);if(i!==void 0)return U(this,gt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Jt.batch(()=>U(this,gt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,gt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,gt);Jt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,gt),r={type:"active",...e};return Jt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Jt.batch(()=>U(this,gt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Un).catch(Un)}invalidateQueries(e={},t={}){return Jt.batch(()=>{if(U(this,gt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Jt.batch(()=>U(this,gt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(Un)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,gt).build(this,t);return n.isStaleByTime(vv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=Cv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=Cv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fc.isOnline()?U(this,no).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,gt)}getMutationCache(){return U(this,no)}getDefaultOptions(){return U(this,ro)}setDefaultOptions(e){De(this,ro,e)}setQueryDefaults(e,t){U(this,Zs).set(Pa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Zs).values()];let n={};return t.forEach(r=>{Ta(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){U(this,Js).set(Pa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Js).values()];let n={};return t.forEach(r=>{Ta(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,ro).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=im(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===am&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,ro).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,gt).clear(),U(this,no).clear()}},gt=new WeakMap,no=new WeakMap,ro=new WeakMap,Zs=new WeakMap,Js=new WeakMap,oo=new WeakMap,ei=new WeakMap,ti=new WeakMap,B0),jM=f.createContext(void 0),FM=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(jM.Provider,{value:e,children:t}));async function OM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const $M=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await OM(n),await n.json())},VM=new LM({defaultOptions:{queries:{queryFn:$M({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),UM=1,BM=1e6;let Ld=0;function zM(){return Ld=(Ld+1)%Number.MAX_SAFE_INTEGER,Ld.toString()}const jd=new Map,Pv=e=>{if(jd.has(e))return;const t=setTimeout(()=>{jd.delete(e),ra({type:"REMOVE_TOAST",toastId:e})},BM);jd.set(e,t)},qM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,UM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Pv(n):e.toasts.forEach(r=>{Pv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},rc=[];let oc={toasts:[]};function ra(e){oc=qM(oc,e),rc.forEach(t=>{t(oc)})}function WM({...e}){const t=zM(),n=o=>ra({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ra({type:"DISMISS_TOAST",toastId:t});return ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Qa(){const[e,t]=f.useState(oc);return f.useEffect(()=>(rc.push(t),()=>{const n=rc.indexOf(t);n>-1&&rc.splice(n,1)}),[e]),{...e,toast:WM,dismiss:n=>ra({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Tv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tu(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Tv(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Tv(e[o],null)}}}}function Le(...e){return f.useCallback(Tu(...e),e)}function HM(e,t){const n=f.createContext(t),r=s=>{const{children:i,...a}=s,l=f.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function fn(e,t=[]){let n=[];function r(s,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=u=>{var m;const{scope:h,children:w,...y}=u,x=((m=h==null?void 0:h[e])==null?void 0:m[l])||a,b=f.useMemo(()=>y,Object.values(y));return p.jsx(x.Provider,{value:b,children:w})};c.displayName=s+"Provider";function d(u,h){var x;const w=((x=h==null?void 0:h[e])==null?void 0:x[l])||a,y=f.useContext(w);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,GM(o,...t)]}function GM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function ui(e){const t=YM(e),n=f.forwardRef((r,o)=>{const{children:s,...i}=r,a=f.Children.toArray(s),l=a.find(QM);if(l){const c=l.props.children,d=a.map(u=>u===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:o,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return p.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var KM=ui("Slot");function YM(e){const t=f.forwardRef((n,r)=>{const{children:o,...s}=n;if(f.isValidElement(o)){const i=ZM(o),a=XM(s,o.props);return o.type!==f.Fragment&&(a.ref=r?Tu(r,i):i),f.cloneElement(o,a)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bb=Symbol("radix.slottable");function Cb(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=bb,t}function QM(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bb}function XM(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function ZM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ku(e){const t=e+"CollectionProvider",[n,r]=fn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:m}=x,g=Ct.useRef(null),S=Ct.useRef(new Map).current;return p.jsx(o,{scope:b,itemMap:S,collectionRef:g,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=ui(a),c=Ct.forwardRef((x,b)=>{const{scope:m,children:g}=x,S=s(a,m),C=Le(b,S.collectionRef);return p.jsx(l,{ref:C,children:g})});c.displayName=a;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=ui(d),w=Ct.forwardRef((x,b)=>{const{scope:m,children:g,...S}=x,C=Ct.useRef(null),E=Le(b,C),P=s(d,m);return Ct.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),p.jsx(h,{[u]:"",ref:E,children:g})});w.displayName=d;function y(x){const b=s(e+"CollectionConsumer",x);return Ct.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const S=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(b.itemMap.values()).sort((P,k)=>S.indexOf(P.ref.current)-S.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:w},y,r]}var JM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=JM.reduce((e,t)=>{const n=ui(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lm(e,t){e&&Ka.flushSync(()=>e.dispatchEvent(t))}function ut(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function eI(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e);f.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var tI="DismissableLayer",vh="dismissableLayer.update",nI="dismissableLayer.pointerDownOutside",rI="dismissableLayer.focusOutside",kv,Eb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xa=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(Eb),[d,u]=f.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=f.useState({}),y=Le(t,k=>u(k)),x=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(b),g=d?x.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=g>=m,E=sI(k=>{const D=k.target,R=[...c.branches].some(A=>A.contains(D));!C||R||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},h),P=iI(k=>{const D=k.target;[...c.branches].some(A=>A.contains(D))||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},h);return eI(k=>{g===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(kv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Dv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kv)}},[d,h,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Dv())},[d,c]),f.useEffect(()=>{const k=()=>w({});return document.addEventListener(vh,k),()=>document.removeEventListener(vh,k)},[]),p.jsx(we.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,P.onFocusCapture),onBlurCapture:se(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,E.onPointerDownCapture)})});Xa.displayName=tI;var oI="DismissableLayerBranch",Pb=f.forwardRef((e,t)=>{const n=f.useContext(Eb),r=f.useRef(null),o=Le(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(we.div,{...e,ref:o})});Pb.displayName=oI;function sI(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Tb(nI,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function iI(e,t=globalThis==null?void 0:globalThis.document){const n=ut(e),r=f.useRef(!1);return f.useEffect(()=>{const o=s=>{s.target&&!r.current&&Tb(rI,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dv(){const e=new CustomEvent(vh);document.dispatchEvent(e)}function Tb(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?lm(o,s):o.dispatchEvent(s)}var aI=Xa,lI=Pb,jn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},cI="Portal",Du=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=f.useState(!1);jn(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?FR.createPortal(p.jsx(we.div,{...r,ref:t}),i):null});Du.displayName=cI;function uI(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var hn=e=>{const{present:t,children:n}=e,r=dI(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Le(r.ref,fI(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};hn.displayName="Presence";function dI(e){const[t,n]=f.useState(),r=f.useRef({}),o=f.useRef(e),s=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=uI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Dl(r.current);s.current=a==="mounted"?c:"none"},[a]),jn(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,w=Dl(c);e?l("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),jn(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,u=w=>{const x=Dl(r.current).includes(w.animationName);if(w.target===t&&x&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=w=>{w.target===t&&(s.current=Dl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dl(e){return(e==null?void 0:e.animationName)||"none"}function fI(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=hI({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=ut(n),l=f.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&a(u)}else o(c)},[s,e,o,a]);return[i,l]}function hI({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,o=f.useRef(r),s=ut(t);return f.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var pI="VisuallyHidden",Au=f.forwardRef((e,t)=>p.jsx(we.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Au.displayName=pI;var mI=Au,cm="ToastProvider",[um,gI,yI]=ku("Toast"),[kb,K4]=fn("Toast",[yI]),[vI,Ru]=kb(cm),Db=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=f.useState(null),[c,d]=f.useState(0),u=f.useRef(!1),h=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cm}\`. Expected non-empty \`string\`.`),p.jsx(um.Provider,{scope:t,children:p.jsx(vI,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(w=>w+1),[]),onToastRemove:f.useCallback(()=>d(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};Db.displayName=cm;var Ab="ToastViewport",wI=["F8"],wh="toast.viewportPause",xh="toast.viewportResume",Rb=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=wI,label:o="Notifications ({hotkey})",...s}=e,i=Ru(Ab,n),a=gI(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=Le(t,u,i.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;f.useEffect(()=>{const b=m=>{var S;r.length!==0&&r.every(C=>m[C]||m.code===C)&&((S=u.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),f.useEffect(()=>{const b=l.current,m=u.current;if(y&&b&&m){const g=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(wh);m.dispatchEvent(P),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(xh);m.dispatchEvent(P),i.isClosePausedRef.current=!1}},C=P=>{!b.contains(P.relatedTarget)&&S()},E=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",g),b.addEventListener("focusout",C),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",E),window.addEventListener("blur",g),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",g),window.removeEventListener("focus",S)}}},[y,i.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:b})=>{const g=a().map(S=>{const C=S.ref.current,E=[C,...II(C)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?g.reverse():g).flat()},[a]);return f.useEffect(()=>{const b=u.current;if(b){const m=g=>{var E,P,k;const S=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!S){const D=document.activeElement,R=g.shiftKey;if(g.target===b&&R){(E=c.current)==null||E.focus();return}const $=x({tabbingDirection:R?"backwards":"forwards"}),Q=$.findIndex(j=>j===D);Fd($.slice(Q+1))?g.preventDefault():R?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,x]),p.jsxs(lI,{ref:l,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&p.jsx(Sh,{ref:c,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Fd(b)}}),p.jsx(um.Slot,{scope:n,children:p.jsx(we.ol,{tabIndex:-1,...s,ref:h})}),y&&p.jsx(Sh,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Fd(b)}})]})});Rb.displayName=Ab;var Mb="ToastFocusProxy",Sh=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Ru(Mb,n);return p.jsx(Au,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Sh.displayName=Mb;var Mu="Toast",xI="toast.swipeStart",SI="toast.swipeMove",bI="toast.swipeCancel",CI="toast.swipeEnd",Ib=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=vr({prop:r,defaultProp:o,onChange:s});return p.jsx(hn,{present:n||a,children:p.jsx(TI,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:ut(e.onPause),onResume:ut(e.onResume),onSwipeStart:se(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:se(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Ib.displayName=Mu;var[EI,PI]=kb(Mu,{onClose(){}}),TI=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:w,...y}=e,x=Ru(Mu,n),[b,m]=f.useState(null),g=Le(t,j=>m(j)),S=f.useRef(null),C=f.useRef(null),E=o||x.duration,P=f.useRef(0),k=f.useRef(E),D=f.useRef(0),{onToastAdd:R,onToastRemove:A}=x,N=ut(()=>{var X;(b==null?void 0:b.contains(document.activeElement))&&((X=x.viewport)==null||X.focus()),i()}),$=f.useCallback(j=>{!j||j===1/0||(window.clearTimeout(D.current),P.current=new Date().getTime(),D.current=window.setTimeout(N,j))},[N]);f.useEffect(()=>{const j=x.viewport;if(j){const X=()=>{$(k.current),c==null||c()},_=()=>{const L=new Date().getTime()-P.current;k.current=k.current-L,window.clearTimeout(D.current),l==null||l()};return j.addEventListener(wh,_),j.addEventListener(xh,X),()=>{j.removeEventListener(wh,_),j.removeEventListener(xh,X)}}},[x.viewport,E,l,c,$]),f.useEffect(()=>{s&&!x.isClosePausedRef.current&&$(E)},[s,E,x.isClosePausedRef,$]),f.useEffect(()=>(R(),()=>A()),[R,A]);const Q=f.useMemo(()=>b?$b(b):null,[b]);return x.viewport?p.jsxs(p.Fragment,{children:[Q&&p.jsx(kI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),p.jsx(EI,{scope:n,onClose:N,children:Ka.createPortal(p.jsx(um.ItemSlot,{scope:n,children:p.jsx(aI,{asChild:!0,onEscapeKeyDown:se(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:se(e.onPointerDown,j=>{j.button===0&&(S.current={x:j.clientX,y:j.clientY})}),onPointerMove:se(e.onPointerMove,j=>{if(!S.current)return;const X=j.clientX-S.current.x,_=j.clientY-S.current.y,L=!!C.current,M=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,V=M?I(0,X):0,G=M?0:I(0,_),Z=j.pointerType==="touch"?10:2,Pe={x:V,y:G},K={originalEvent:j,delta:Pe};L?(C.current=Pe,Al(SI,u,K,{discrete:!1})):Av(Pe,x.swipeDirection,Z)?(C.current=Pe,Al(xI,d,K,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(X)>Z||Math.abs(_)>Z)&&(S.current=null)}),onPointerUp:se(e.onPointerUp,j=>{const X=C.current,_=j.target;if(_.hasPointerCapture(j.pointerId)&&_.releasePointerCapture(j.pointerId),C.current=null,S.current=null,X){const L=j.currentTarget,M={originalEvent:j,delta:X};Av(X,x.swipeDirection,x.swipeThreshold)?Al(CI,w,M,{discrete:!0}):Al(bI,h,M,{discrete:!0}),L.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),kI=e=>{const{__scopeToast:t,children:n,...r}=e,o=Ru(Mu,t),[s,i]=f.useState(!1),[a,l]=f.useState(!1);return RI(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Du,{asChild:!0,children:p.jsx(Au,{...r,children:s&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},DI="ToastTitle",_b=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(we.div,{...r,ref:t})});_b.displayName=DI;var AI="ToastDescription",Nb=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(we.div,{...r,ref:t})});Nb.displayName=AI;var Lb="ToastAction",jb=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Ob,{altText:n,asChild:!0,children:p.jsx(dm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lb}\`. Expected non-empty \`string\`.`),null)});jb.displayName=Lb;var Fb="ToastClose",dm=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=PI(Fb,n);return p.jsx(Ob,{asChild:!0,children:p.jsx(we.button,{type:"button",...r,ref:t,onClick:se(e.onClick,o.onClose)})})});dm.displayName=Fb;var Ob=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function $b(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),MI(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...$b(r))}}),t}function Al(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?lm(o,s):o.dispatchEvent(s)}var Av=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function RI(e=()=>{}){const t=ut(e);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function MI(e){return e.nodeType===e.ELEMENT_NODE}function II(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var _I=Db,Vb=Rb,Ub=Ib,Bb=_b,zb=Nb,qb=jb,Wb=dm;function Hb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Hb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gb(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Hb(e))&&(r&&(r+=" "),r+=t);return r}const Rv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Mv=Gb,Za=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Mv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const h=Rv(d)||Rv(u);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...w}=d;return Object.entries(w).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes({...s,...a}[x]):{...s,...a}[x]===b})?[...c,u,h]:c},[]);return Mv(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kb=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...LI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kb("lucide",o),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const n=f.forwardRef(({className:r,...o},s)=>f.createElement(jI,{ref:s,iconNode:t,className:Kb(`lucide-${NI(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Oe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Oe("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Oe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Oe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Oe("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Oe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Oe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Oe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Oe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Oe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),hm="-",o_=e=>{const t=i_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(hm);return a[0]===""&&a.length!==1&&a.shift(),rC(a,t)||s_(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},rC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?rC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(hm);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},_v=/^\[(.+)\]$/,s_=e=>{if(_v.test(e)){const t=_v.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},i_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return l_(Object.entries(e.classGroups),n).forEach(([s,i])=>{bh(i,r,s,t)}),r},bh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Nv(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(a_(o)){bh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{bh(i,Nv(t,s),n,r)})})},Nv=(e,t)=>{let n=e;return t.split(hm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a_=e=>e.isThemeGetter,l_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,c_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},oC="!",u_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let c=0,d=0,u;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===o&&(r||a.slice(b,b+s)===t)){l.push(a.slice(d,b)),d=b+s;continue}if(m==="/"){u=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(d),w=h.startsWith(oC),y=w?h.substring(1):h,x=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:i}):i},d_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},f_=e=>({cache:c_(e.cacheSize),parseClassName:u_(e),...o_(e)}),h_=/\s+/,p_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(h_);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:w}=n(c);let y=!!w,x=r(y?h.substring(0,w):h);if(!x){if(!y){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}y=!1}const b=d_(d).join(":"),m=u?b+oC:b,g=m+x;if(s.includes(g))continue;s.push(g);const S=o(x,y);for(let C=0;C<S.length;++C){const E=S[C];s.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function m_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=sC(t))&&(r&&(r+=" "),r+=n);return r}const sC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=sC(e[r]))&&(n&&(n+=" "),n+=t);return n};function g_(e,...t){let n,r,o,s=i;function i(l){const c=t.reduce((d,u)=>u(d),e());return n=f_(c),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=p_(l,n);return o(l,d),d}return function(){return s(m_.apply(null,arguments))}}const rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},iC=/^\[(?:([a-z-]+):)?(.+)\]$/i,y_=/^\d+\/\d+$/,v_=new Set(["px","full","screen"]),w_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=e=>Us(e)||v_.has(e)||y_.test(e),zr=e=>xi(e,"length",M_),Us=e=>!!e&&!Number.isNaN(Number(e)),Od=e=>xi(e,"number",Us),Li=e=>!!e&&Number.isInteger(Number(e)),E_=e=>e.endsWith("%")&&Us(e.slice(0,-1)),Ee=e=>iC.test(e),qr=e=>w_.test(e),P_=new Set(["length","size","percentage"]),T_=e=>xi(e,P_,aC),k_=e=>xi(e,"position",aC),D_=new Set(["image","url"]),A_=e=>xi(e,D_,__),R_=e=>xi(e,"",I_),ji=()=>!0,xi=(e,t,n)=>{const r=iC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},M_=e=>x_.test(e)&&!S_.test(e),aC=()=>!1,I_=e=>b_.test(e),__=e=>C_.test(e),N_=()=>{const e=rt("colors"),t=rt("spacing"),n=rt("blur"),r=rt("brightness"),o=rt("borderColor"),s=rt("borderRadius"),i=rt("borderSpacing"),a=rt("borderWidth"),l=rt("contrast"),c=rt("grayscale"),d=rt("hueRotate"),u=rt("invert"),h=rt("gap"),w=rt("gradientColorStops"),y=rt("gradientColorStopPositions"),x=rt("inset"),b=rt("margin"),m=rt("opacity"),g=rt("padding"),S=rt("saturate"),C=rt("scale"),E=rt("sepia"),P=rt("skew"),k=rt("space"),D=rt("translate"),R=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ee,t],$=()=>[Ee,t],Q=()=>["",Sr,zr],j=()=>["auto",Us,Ee],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Ee],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Us,Ee];return{cacheSize:500,separator:":",theme:{colors:[ji],spacing:[Sr,zr],blur:["none","",qr,Ee],brightness:G(),borderColor:[e],borderRadius:["none","","full",qr,Ee],borderSpacing:$(),borderWidth:Q(),contrast:G(),grayscale:I(),hueRotate:G(),invert:I(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[E_,zr],inset:N(),margin:N(),opacity:G(),padding:$(),saturate:G(),scale:G(),sepia:I(),skew:G(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ee]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Li,Ee]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Li,Ee]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",Li,Ee]},Ee]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[Li,Ee]},Ee]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Od]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Us,Od]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,zr]}],"underline-offset":[{"underline-offset":["auto",Sr,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),k_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},A_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:_()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[Sr,Ee]}],"outline-w":[{outline:[Sr,zr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Sr,zr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qr,R_]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qr,Ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Li,Ee]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sr,zr,Od]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L_=g_(N_);function j_(e){throw new Error("Unexpected object: "+e)}function te(...e){return L_(Gb(e))}function F_(e){var o,s;if(!e)return"";const t=e.trim().split(" ").filter(i=>i.length>0);if(t.length===0)return"";if(t.length===1)return t[0].substring(0,2).toUpperCase();const n=((o=t[0])==null?void 0:o[0])??"",r=((s=t[t.length-1])==null?void 0:s[0])??"";return(n+r).toUpperCase()}const O_=_I,lC=f.forwardRef(({className:e,...t},n)=>p.jsx(Vb,{ref:n,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lC.displayName=Vb.displayName;const $_=Za("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cC=f.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Ub,{ref:r,className:te($_({variant:t}),e),...n}));cC.displayName=Ub.displayName;const V_=f.forwardRef(({className:e,...t},n)=>p.jsx(qb,{ref:n,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));V_.displayName=qb.displayName;const uC=f.forwardRef(({className:e,...t},n)=>p.jsx(Wb,{ref:n,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Iu,{className:"h-4 w-4"})}));uC.displayName=Wb.displayName;const dC=f.forwardRef(({className:e,...t},n)=>p.jsx(Bb,{ref:n,className:te("text-sm font-semibold",e),...t}));dC.displayName=Bb.displayName;const fC=f.forwardRef(({className:e,...t},n)=>p.jsx(zb,{ref:n,className:te("text-sm opacity-90",e),...t}));fC.displayName=zb.displayName;function U_(){const{toasts:e}=Qa();return p.jsxs(O_,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return p.jsxs(cC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(dC,{children:n}),r&&p.jsx(fC,{children:r})]}),o,p.jsx(uC,{})]},t)}),p.jsx(lC,{})]})}var B_=J0[" useId ".trim().toString()]||(()=>{}),z_=0;function Yo(e){const[t,n]=f.useState(B_());return jn(()=>{n(r=>r??String(z_++))},[e]),t?`radix-${t}`:""}const q_=["top","right","bottom","left"],bo=Math.min,gn=Math.max,Oc=Math.round,Rl=Math.floor,hr=e=>({x:e,y:e}),W_={left:"right",right:"left",bottom:"top",top:"bottom"},H_={start:"end",end:"start"};function Ch(e,t,n){return gn(e,bo(t,n))}function Lr(e,t){return typeof e=="function"?e(t):e}function jr(e){return e.split("-")[0]}function Si(e){return e.split("-")[1]}function pm(e){return e==="x"?"y":"x"}function mm(e){return e==="y"?"height":"width"}function Co(e){return["top","bottom"].includes(jr(e))?"y":"x"}function gm(e){return pm(Co(e))}function G_(e,t,n){n===void 0&&(n=!1);const r=Si(e),o=gm(e),s=mm(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=$c(i)),[i,$c(i)]}function K_(e){const t=$c(e);return[Eh(e),t,Eh(t)]}function Eh(e){return e.replace(/start|end/g,t=>H_[t])}function Y_(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function Q_(e,t,n,r){const o=Si(e);let s=Y_(jr(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Eh)))),s}function $c(e){return e.replace(/left|right|bottom|top/g,t=>W_[t])}function X_(e){return{top:0,right:0,bottom:0,left:0,...e}}function hC(e){return typeof e!="number"?X_(e):{top:e,right:e,bottom:e,left:e}}function Vc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Lv(e,t,n){let{reference:r,floating:o}=e;const s=Co(t),i=gm(t),a=mm(i),l=jr(t),c=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let w;switch(l){case"top":w={x:d,y:r.y-o.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:u};break;case"left":w={x:r.x-o.width,y:u};break;default:w={x:r.x,y:r.y}}switch(Si(t)){case"start":w[i]-=h*(n&&c?-1:1);break;case"end":w[i]+=h*(n&&c?-1:1);break}return w}const Z_=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=Lv(c,r,l),h=r,w={},y=0;for(let x=0;x<a.length;x++){const{name:b,fn:m}=a[x],{x:g,y:S,data:C,reset:E}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:w,rects:c,platform:i,elements:{reference:e,floating:t}});d=g??d,u=S??u,w={...w,[b]:{...w[b],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:u}=Lv(c,h,l)),x=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:w}};async function ka(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:w=0}=Lr(t,e),y=hC(w),b=a[h?u==="floating"?"reference":"floating":u],m=Vc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),g=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Vc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:S,strategy:l}):g);return{top:(m.top-E.top+y.top)/C.y,bottom:(E.bottom-m.bottom+y.bottom)/C.y,left:(m.left-E.left+y.left)/C.x,right:(E.right-m.right+y.right)/C.x}}const J_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Lr(e,t)||{};if(c==null)return{};const u=hC(d),h={x:n,y:r},w=gm(o),y=mm(w),x=await i.getDimensions(c),b=w==="y",m=b?"top":"left",g=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[w]-h[w]-s.floating[y],E=h[w]-s.reference[w],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[S]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[S]||s.floating[y]);const D=C/2-E/2,R=k/2-x[y]/2-1,A=bo(u[m],R),N=bo(u[g],R),$=A,Q=k-x[y]-N,j=k/2-x[y]/2+D,X=Ch($,j,Q),_=!l.arrow&&Si(o)!=null&&j!==X&&s.reference[y]/2-(j<$?A:N)-x[y]/2<0,L=_?j<$?j-$:j-Q:0;return{[w]:h[w]+L,data:{[w]:X,centerOffset:j-X-L,..._&&{alignmentOffset:L}},reset:_}}}),eN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...b}=Lr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=jr(o),g=Co(a),S=jr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(S||!x?[$c(a)]:K_(a)),P=y!=="none";!h&&P&&E.push(...Q_(a,x,y,C));const k=[a,...E],D=await ka(t,b),R=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(D[m]),u){const j=G_(o,i,C);R.push(D[j[0]],D[j[1]])}if(A=[...A,{placement:o,overflows:R}],!R.every(j=>j<=0)){var N,$;const j=(((N=s.flip)==null?void 0:N.index)||0)+1,X=k[j];if(X)return{data:{index:j,overflows:A},reset:{placement:X}};let _=($=A.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:$.placement;if(!_)switch(w){case"bestFit":{var Q;const L=(Q=A.filter(M=>{if(P){const I=Co(M.placement);return I===g||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:Q[0];L&&(_=L);break}case"initialPlacement":_=a;break}if(o!==_)return{reset:{placement:_}}}return{}}}};function jv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fv(e){return q_.some(t=>e[t]>=0)}const tN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Lr(e,t);switch(r){case"referenceHidden":{const s=await ka(t,{...o,elementContext:"reference"}),i=jv(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Fv(i)}}}case"escaped":{const s=await ka(t,{...o,altBoundary:!0}),i=jv(s,n.floating);return{data:{escapedOffsets:i,escaped:Fv(i)}}}default:return{}}}}};async function nN(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=jr(n),a=Si(n),l=Co(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,u=Lr(t,e);let{mainAxis:h,crossAxis:w,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof y=="number"&&(w=a==="end"?y*-1:y),l?{x:w*d,y:h*c}:{x:h*c,y:w*d}}const rN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await nN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},oN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:m,y:g}=b;return{x:m,y:g}}},...l}=Lr(e,t),c={x:n,y:r},d=await ka(t,l),u=Co(jr(o)),h=pm(u);let w=c[h],y=c[u];if(s){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",g=w+d[b],S=w-d[m];w=Ch(g,w,S)}if(i){const b=u==="y"?"top":"left",m=u==="y"?"bottom":"right",g=y+d[b],S=y-d[m];y=Ch(g,y,S)}const x=a.fn({...t,[h]:w,[u]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[u]:i}}}}}},sN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Lr(e,t),d={x:n,y:r},u=Co(o),h=pm(u);let w=d[h],y=d[u];const x=Lr(a,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=h==="y"?"height":"width",C=s.reference[h]-s.floating[S]+b.mainAxis,E=s.reference[h]+s.reference[S]-b.mainAxis;w<C?w=C:w>E&&(w=E)}if(c){var m,g;const S=h==="y"?"width":"height",C=["top","left"].includes(jr(o)),E=s.reference[u]-s.floating[S]+(C&&((m=i.offset)==null?void 0:m[u])||0)+(C?0:b.crossAxis),P=s.reference[u]+s.reference[S]+(C?0:((g=i.offset)==null?void 0:g[u])||0)-(C?b.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:w,[u]:y}}}},iN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Lr(e,t),d=await ka(t,c),u=jr(o),h=Si(o),w=Co(o)==="y",{width:y,height:x}=s.floating;let b,m;u==="top"||u==="bottom"?(b=u,m=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,b=h==="end"?"top":"bottom");const g=x-d.top-d.bottom,S=y-d.left-d.right,C=bo(x-d[b],g),E=bo(y-d[m],S),P=!t.middlewareData.shift;let k=C,D=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=g),P&&!h){const A=gn(d.left,0),N=gn(d.right,0),$=gn(d.top,0),Q=gn(d.bottom,0);w?D=y-2*(A!==0||N!==0?A+N:gn(d.left,d.right)):k=x-2*($!==0||Q!==0?$+Q:gn(d.top,d.bottom))}await l({...t,availableWidth:D,availableHeight:k});const R=await i.getDimensions(a.floating);return y!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function _u(){return typeof window<"u"}function bi(e){return pC(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wr(e){var t;return(t=(pC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pC(e){return _u()?e instanceof Node||e instanceof wn(e).Node:!1}function Yn(e){return _u()?e instanceof Element||e instanceof wn(e).Element:!1}function yr(e){return _u()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function Ov(e){return!_u()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}function Ja(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function aN(e){return["table","td","th"].includes(bi(e))}function Nu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ym(e){const t=vm(),n=Yn(e)?Qn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lN(e){let t=Eo(e);for(;yr(t)&&!di(t);){if(ym(t))return t;if(Nu(t))return null;t=Eo(t)}return null}function vm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function di(e){return["html","body","#document"].includes(bi(e))}function Qn(e){return wn(e).getComputedStyle(e)}function Lu(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Eo(e){if(bi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ov(e)&&e.host||wr(e);return Ov(t)?t.host:t}function mC(e){const t=Eo(e);return di(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&Ja(t)?t:mC(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=mC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=wn(o);if(s){const a=Ph(i);return t.concat(i,i.visualViewport||[],Ja(o)?o:[],a&&n?Da(a):[])}return t.concat(o,Da(o,[],n))}function Ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gC(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=yr(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Oc(n)!==s||Oc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function wm(e){return Yn(e)?e:e.contextElement}function Bs(e){const t=wm(e);if(!yr(t))return hr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=gC(t);let i=(s?Oc(n.width):n.width)/r,a=(s?Oc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const cN=hr(0);function yC(e){const t=wn(e);return!vm()||!t.visualViewport?cN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wn(e)?!1:t}function rs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=wm(e);let i=hr(1);t&&(r?Yn(r)&&(i=Bs(r)):i=Bs(e));const a=uN(s,n,r)?yC(s):hr(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=wn(s),w=r&&Yn(r)?wn(r):r;let y=h,x=Ph(y);for(;x&&r&&w!==y;){const b=Bs(x),m=x.getBoundingClientRect(),g=Qn(x),S=m.left+(x.clientLeft+parseFloat(g.paddingLeft))*b.x,C=m.top+(x.clientTop+parseFloat(g.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,u*=b.y,l+=S,c+=C,y=wn(x),x=Ph(y)}}return Vc({width:d,height:u,x:l,y:c})}function xm(e,t){const n=Lu(e).scrollLeft;return t?t.left+n:rs(wr(e)).left+n}function vC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:xm(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function dN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=wr(r),a=t?Nu(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=hr(1);const d=hr(0),u=yr(r);if((u||!u&&!s)&&((bi(r)!=="body"||Ja(i))&&(l=Lu(r)),yr(r))){const w=rs(r);c=Bs(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const h=i&&!u&&!s?vC(i,l,!0):hr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function fN(e){return Array.from(e.getClientRects())}function hN(e){const t=wr(e),n=Lu(e),r=e.ownerDocument.body,o=gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+xm(e);const a=-n.scrollTop;return Qn(r).direction==="rtl"&&(i+=gn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function pN(e,t){const n=wn(e),r=wr(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=vm();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function mN(e,t){const n=rs(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=yr(e)?Bs(e):hr(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function $v(e,t,n){let r;if(t==="viewport")r=pN(e,n);else if(t==="document")r=hN(wr(e));else if(Yn(t))r=mN(t,n);else{const o=yC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Vc(r)}function wC(e,t){const n=Eo(e);return n===t||!Yn(n)||di(n)?!1:Qn(n).position==="fixed"||wC(n,t)}function gN(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(a=>Yn(a)&&bi(a)!=="body"),o=null;const s=Qn(e).position==="fixed";let i=s?Eo(e):e;for(;Yn(i)&&!di(i);){const a=Qn(i),l=ym(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ja(i)&&!l&&wC(e,i))?r=r.filter(d=>d!==i):o=a,i=Eo(i)}return t.set(e,r),r}function yN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Nu(t)?[]:gN(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const u=$v(t,d,o);return c.top=gn(u.top,c.top),c.right=bo(u.right,c.right),c.bottom=bo(u.bottom,c.bottom),c.left=gn(u.left,c.left),c},$v(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vN(e){const{width:t,height:n}=gC(e);return{width:t,height:n}}function wN(e,t,n){const r=yr(t),o=wr(t),s=n==="fixed",i=rs(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=hr(0);if(r||!r&&!s)if((bi(t)!=="body"||Ja(o))&&(a=Lu(t)),r){const h=rs(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=xm(o));const c=o&&!r&&!s?vC(o,a):hr(0),d=i.left+a.scrollLeft-l.x-c.x,u=i.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:i.width,height:i.height}}function $d(e){return Qn(e).position==="static"}function Vv(e,t){if(!yr(e)||Qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return wr(e)===n&&(n=n.ownerDocument.body),n}function xC(e,t){const n=wn(e);if(Nu(e))return n;if(!yr(e)){let o=Eo(e);for(;o&&!di(o);){if(Yn(o)&&!$d(o))return o;o=Eo(o)}return n}let r=Vv(e,t);for(;r&&aN(r)&&$d(r);)r=Vv(r,t);return r&&di(r)&&$d(r)&&!ym(r)?n:r||lN(e)||n}const xN=async function(e){const t=this.getOffsetParent||xC,n=this.getDimensions,r=await n(e.floating);return{reference:wN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SN(e){return Qn(e).direction==="rtl"}const bN={convertOffsetParentRelativeRectToViewportRelativeRect:dN,getDocumentElement:wr,getClippingRect:yN,getOffsetParent:xC,getElementRects:xN,getClientRects:fN,getDimensions:vN,getScale:Bs,isElement:Yn,isRTL:SN};function SC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CN(e,t){let n=null,r;const o=wr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:w}=c;if(a||t(),!h||!w)return;const y=Rl(u),x=Rl(o.clientWidth-(d+h)),b=Rl(o.clientHeight-(u+w)),m=Rl(d),S={rootMargin:-y+"px "+-x+"px "+-b+"px "+-m+"px",threshold:gn(0,bo(1,l))||1};let C=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!C)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!SC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(E,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return i(!0),s}function EN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=wm(e),d=o||s?[...c?Da(c):[],...Da(t)]:[];d.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const u=c&&a?CN(c,n):null;let h=-1,w=null;i&&(w=new ResizeObserver(m=>{let[g]=m;g&&g.target===c&&w&&(w.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(t)})),n()}),c&&!l&&w.observe(c),w.observe(t));let y,x=l?rs(e):null;l&&b();function b(){const m=rs(e);x&&!SC(x,m)&&n(),x=m,y=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(g=>{o&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),u==null||u(),(m=w)==null||m.disconnect(),w=null,l&&cancelAnimationFrame(y)}}const PN=rN,TN=oN,kN=eN,DN=iN,AN=tN,Uv=J_,RN=sN,MN=(e,t,n)=>{const r=new Map,o={platform:bN,...n},s={...o.platform,_c:r};return Z_(e,t,{...o,platform:s})};var sc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Uc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Uc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function bC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bv(e,t){const n=bC(e);return Math.round(t*n)/n}function Vd(e){const t=f.useRef(e);return sc(()=>{t.current=e}),t}function IN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,w]=f.useState(r);Uc(h,r)||w(r);const[y,x]=f.useState(null),[b,m]=f.useState(null),g=f.useCallback(M=>{M!==P.current&&(P.current=M,x(M))},[]),S=f.useCallback(M=>{M!==k.current&&(k.current=M,m(M))},[]),C=s||y,E=i||b,P=f.useRef(null),k=f.useRef(null),D=f.useRef(d),R=l!=null,A=Vd(l),N=Vd(o),$=Vd(c),Q=f.useCallback(()=>{if(!P.current||!k.current)return;const M={placement:t,strategy:n,middleware:h};N.current&&(M.platform=N.current),MN(P.current,k.current,M).then(I=>{const V={...I,isPositioned:$.current!==!1};j.current&&!Uc(D.current,V)&&(D.current=V,Ka.flushSync(()=>{u(V)}))})},[h,t,n,N,$]);sc(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,u(M=>({...M,isPositioned:!1})))},[c]);const j=f.useRef(!1);sc(()=>(j.current=!0,()=>{j.current=!1}),[]),sc(()=>{if(C&&(P.current=C),E&&(k.current=E),C&&E){if(A.current)return A.current(C,E,Q);Q()}},[C,E,Q,A,R]);const X=f.useMemo(()=>({reference:P,floating:k,setReference:g,setFloating:S}),[g,S]),_=f.useMemo(()=>({reference:C,floating:E}),[C,E]),L=f.useMemo(()=>{const M={position:n,left:0,top:0};if(!_.floating)return M;const I=Bv(_.floating,d.x),V=Bv(_.floating,d.y);return a?{...M,transform:"translate("+I+"px, "+V+"px)",...bC(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:V}},[n,a,_.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:Q,refs:X,elements:_,floatingStyles:L}),[d,Q,X,_,L])}const _N=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Uv({element:r.current,padding:o}).fn(n):{}:r?Uv({element:r,padding:o}).fn(n):{}}}},NN=(e,t)=>({...PN(e),options:[e,t]}),LN=(e,t)=>({...TN(e),options:[e,t]}),jN=(e,t)=>({...RN(e),options:[e,t]}),FN=(e,t)=>({...kN(e),options:[e,t]}),ON=(e,t)=>({...DN(e),options:[e,t]}),$N=(e,t)=>({...AN(e),options:[e,t]}),VN=(e,t)=>({..._N(e),options:[e,t]});var UN="Arrow",CC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return p.jsx(we.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});CC.displayName=UN;var BN=CC;function Sm(e){const[t,n]=f.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bm="Popper",[EC,ju]=fn(bm),[zN,PC]=EC(bm),TC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=f.useState(null);return p.jsx(zN,{scope:t,anchor:r,onAnchorChange:o,children:n})};TC.displayName=bm;var kC="PopperAnchor",DC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=PC(kC,n),i=f.useRef(null),a=Le(t,i);return f.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:p.jsx(we.div,{...o,ref:a})});DC.displayName=kC;var Cm="PopperContent",[qN,WN]=EC(Cm),AC=f.forwardRef((e,t)=>{var he,Ve,Ie,Ge,Ae,z;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:w="optimized",onPlaced:y,...x}=e,b=PC(Cm,n),[m,g]=f.useState(null),S=Le(t,ve=>g(ve)),[C,E]=f.useState(null),P=Sm(C),k=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,R=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],$=N.length>0,Q={padding:A,boundary:N.filter(GN),altBoundary:$},{refs:j,floatingStyles:X,placement:_,isPositioned:L,middlewareData:M}=IN({strategy:"fixed",placement:R,whileElementsMounted:(...ve)=>EN(...ve,{animationFrame:w==="always"}),elements:{reference:b.anchor},middleware:[NN({mainAxis:o+D,alignmentAxis:i}),l&&LN({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?jN():void 0,...Q}),l&&FN({...Q}),ON({...Q,apply:({elements:ve,rects:Te,availableWidth:Be,availableHeight:Pt})=>{const{width:Tt,height:it}=Te.reference,at=ve.floating.style;at.setProperty("--radix-popper-available-width",`${Be}px`),at.setProperty("--radix-popper-available-height",`${Pt}px`),at.setProperty("--radix-popper-anchor-width",`${Tt}px`),at.setProperty("--radix-popper-anchor-height",`${it}px`)}}),C&&VN({element:C,padding:a}),KN({arrowWidth:k,arrowHeight:D}),h&&$N({strategy:"referenceHidden",...Q})]}),[I,V]=IC(_),G=ut(y);jn(()=>{L&&(G==null||G())},[L,G]);const Z=(he=M.arrow)==null?void 0:he.x,Pe=(Ve=M.arrow)==null?void 0:Ve.y,K=((Ie=M.arrow)==null?void 0:Ie.centerOffset)!==0,[Je,le]=f.useState();return jn(()=>{m&&le(window.getComputedStyle(m).zIndex)},[m]),p.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:L?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Ge=M.transformOrigin)==null?void 0:Ge.x,(Ae=M.transformOrigin)==null?void 0:Ae.y].join(" "),...((z=M.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(qN,{scope:n,placedSide:I,onArrowChange:E,arrowX:Z,arrowY:Pe,shouldHideArrow:K,children:p.jsx(we.div,{"data-side":I,"data-align":V,...x,ref:S,style:{...x.style,animation:L?void 0:"none"}})})})});AC.displayName=Cm;var RC="PopperArrow",HN={top:"bottom",right:"left",bottom:"top",left:"right"},MC=f.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=WN(RC,r),i=HN[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(BN,{...o,ref:n,style:{...o.style,display:"block"}})})});MC.displayName=RC;function GN(e){return e!==null}var KN=e=>({name:"transformOrigin",options:e,fn(t){var b,m,g;const{placement:n,rects:r,middlewareData:o}=t,i=((b=o.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=IC(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,w=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let y="",x="";return c==="bottom"?(y=i?u:`${h}px`,x=`${-l}px`):c==="top"?(y=i?u:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,x=i?u:`${w}px`):c==="left"&&(y=`${r.floating.width+l}px`,x=i?u:`${w}px`),{data:{x:y,y:x}}}});function IC(e){const[t,n="center"]=e.split("-");return[t,n]}var _C=TC,NC=DC,LC=AC,jC=MC,[Fu,Y4]=fn("Tooltip",[ju]),Ou=ju(),FC="TooltipProvider",YN=700,Th="tooltip.open",[QN,Em]=Fu(FC),OC=e=>{const{__scopeTooltip:t,delayDuration:n=YN,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(QN,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:s})};OC.displayName=FC;var $u="Tooltip",[XN,Vu]=Fu($u),$C=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=Em($u,e.__scopeTooltip),c=Ou(t),[d,u]=f.useState(null),h=Yo(),w=f.useRef(0),y=i??l.disableHoverableContent,x=a??l.delayDuration,b=f.useRef(!1),[m=!1,g]=vr({prop:r,defaultProp:o,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(Th))):l.onClose(),s==null||s(k)}}),S=f.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),C=f.useCallback(()=>{window.clearTimeout(w.current),w.current=0,b.current=!1,g(!0)},[g]),E=f.useCallback(()=>{window.clearTimeout(w.current),w.current=0,g(!1)},[g]),P=f.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{b.current=!0,g(!0),w.current=0},x)},[x,g]);return f.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),p.jsx(_C,{...c,children:p.jsx(XN,{scope:t,contentId:h,open:m,stateAttribute:S,trigger:d,onTriggerChange:u,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?P():C()},[l.isOpenDelayedRef,P,C]),onTriggerLeave:f.useCallback(()=>{y?E():(window.clearTimeout(w.current),w.current=0)},[E,y]),onOpen:C,onClose:E,disableHoverableContent:y,children:n})})};$C.displayName=$u;var kh="TooltipTrigger",VC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Vu(kh,n),s=Em(kh,n),i=Ou(n),a=f.useRef(null),l=Le(t,a,o.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),u=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),p.jsx(NC,{asChild:!0,...i,children:p.jsx(we.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{o.open&&o.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:se(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:se(e.onBlur,o.onClose),onClick:se(e.onClick,o.onClose)})})});VC.displayName=kh;var ZN="TooltipPortal",[Q4,JN]=Fu(ZN,{forceMount:void 0}),fi="TooltipContent",UC=f.forwardRef((e,t)=>{const n=JN(fi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=Vu(fi,e.__scopeTooltip);return p.jsx(hn,{present:r||i.open,children:i.disableHoverableContent?p.jsx(BC,{side:o,...s,ref:t}):p.jsx(eL,{side:o,...s,ref:t})})}),eL=f.forwardRef((e,t)=>{const n=Vu(fi,e.__scopeTooltip),r=Em(fi,e.__scopeTooltip),o=f.useRef(null),s=Le(t,o),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=o.current,{onPointerInTransitChange:u}=r,h=f.useCallback(()=>{a(null),u(!1)},[u]),w=f.useCallback((y,x)=>{const b=y.currentTarget,m={x:y.clientX,y:y.clientY},g=sL(m,b.getBoundingClientRect()),S=iL(m,g),C=aL(x.getBoundingClientRect()),E=cL([...S,...C]);a(E),u(!0)},[u]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(l&&d){const y=b=>w(b,d),x=b=>w(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[l,d,w,h]),f.useEffect(()=>{if(i){const y=x=>{const b=x.target,m={x:x.clientX,y:x.clientY},g=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),S=!lL(m,i);g?h():S&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,i,c,h]),p.jsx(BC,{...e,ref:s})}),[tL,nL]=Fu($u,{isInside:!1}),rL=Cb("TooltipContent"),BC=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Vu(fi,n),c=Ou(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Th,d),()=>document.removeEventListener(Th,d)),[d]),f.useEffect(()=>{if(l.trigger){const u=h=>{const w=h.target;w!=null&&w.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),p.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:p.jsxs(LC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(rL,{children:r}),p.jsx(tL,{scope:n,isInside:!0,children:p.jsx(mI,{id:l.contentId,role:"tooltip",children:o||r})})]})})});UC.displayName=fi;var zC="TooltipArrow",oL=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ou(n);return nL(zC,n).isInside?null:p.jsx(jC,{...o,...r,ref:t})});oL.displayName=zC;function sL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function aL(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function lL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function cL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uL(t)}function uL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dL=OC,fL=$C,hL=VC,qC=UC;const WC=dL,pL=fL,mL=hL,HC=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(qC,{ref:r,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));HC.displayName=qC.displayName;const Pm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pm.displayName="Card";const gL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",e),...t}));gL.displayName="CardHeader";const yL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));yL.displayName="CardTitle";const vL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:te("text-sm text-muted-foreground",e),...t}));vL.displayName="CardDescription";const Tm=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:te("p-6 pt-0",e),...t}));Tm.displayName="CardContent";const wL=f.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",e),...t}));wL.displayName="CardFooter";function xL(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Pm,{className:"w-full max-w-md mx-4",children:p.jsxs(Tm,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(Zb,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const km=Za("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?KM:"button";return p.jsx(i,{className:te(km({variant:t,size:n,className:e})),ref:s,...o})});Xe.displayName="Button";const v={log:(...e)=>{typeof console<"u"&&console.log&&console.log("[Phojo]",...e)},warn:(...e)=>{typeof console<"u"&&console.warn&&console.warn("[Phojo WARN]",...e)},error:(...e)=>{typeof console<"u"&&console.error&&console.error("[Phojo ERROR]",...e)}};var GC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var w=new o(d,u||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],w]:l._events[y].push(w):(l._events[y]=w,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,w=u.length,y=new Array(w);h<w;h++)y[h]=u[h].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,w,y){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],m=arguments.length,g,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,u),!0;case 4:return b.fn.call(b.context,d,u,h),!0;case 5:return b.fn.call(b.context,d,u,h,w),!0;case 6:return b.fn.call(b.context,d,u,h,w,y),!0}for(S=1,g=new Array(m-1);S<m;S++)g[S-1]=arguments[S];b.fn.apply(b.context,g)}else{var C=b.length,E;for(S=0;S<C;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),m){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,d);break;case 3:b[S].fn.call(b[S].context,d,u);break;case 4:b[S].fn.call(b[S].context,d,u,h);break;default:if(!g)for(E=1,g=new Array(m-1);E<m;E++)g[E-1]=arguments[E];b[S].fn.apply(b[S].context,g)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var w=n?n+c:c;if(!this._events[w])return this;if(!d)return i(this,w),this;var y=this._events[w];if(y.fn)y.fn===d&&(!h||y.once)&&(!u||y.context===u)&&i(this,w);else{for(var x=0,b=[],m=y.length;x<m;x++)(y[x].fn!==d||h&&!y[x].once||u&&y[x].context!==u)&&b.push(y[x]);b.length?this._events[w]=b.length===1?b[0]:b:i(this,w)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(GC);var SL=GC.exports;const bL=lp(SL),CL="401z949o3txi3r0",Ml="/Photos",zs="/Metadata",EL="images.json";function KC(e,t){const n=t.toString().padStart(2,"0");return`${e}-${n}-entries.json`}const YC=zs.startsWith("/")?zs.replace("//","/"):`/${zs}`.replace("//","/"),QC=`${YC}/${EL}`.replace("//","/");function XC(e,t){const n=KC(e,t);return`${YC}/${n}`.replace("//","/")}function Fr(e){return e&&typeof e=="object"&&typeof e.status=="number"&&typeof e.error=="object"}function ZC(e){var t;if(Fr(e)){const n=e.error;if(typeof(n==null?void 0:n.error_summary)=="string"&&n.error_summary.startsWith("path/not_found")||(n==null?void 0:n[".tag"])==="path"&&((t=n==null?void 0:n.path)==null?void 0:t[".tag"])==="not_found")return!0}return!1}function JC(e,t){var n;return(e==null?void 0:e[".tag"])==="path_lookup"&&((n=e==null?void 0:e.path_lookup)==null?void 0:n[".tag"])===t}function PL(e,t){var n;return(e==null?void 0:e[".tag"])==="path"&&((n=e==null?void 0:e.path)==null?void 0:n[".tag"])===t}async function eE(e,t,n){let r=null;try{v.log(`Attempting to download ${t}...`);const s=(await e.filesDownload({path:t})).result.fileBlob;if(!s)return v.warn(`${t} download response did not contain a fileBlob. Returning empty array.`),[];if(r=await s.text(),!r||r.trim()==="")return v.log(`${t} is empty or contains only whitespace. Returning empty array.`),[];const i=JSON.parse(r);return v.log(`Successfully parsed ${i.length} items from ${t}.`),i.map(a=>{const l={...a};return l.photos=Array.isArray(a.photos)?a.photos:[],n.forEach(c=>{const d=c;if(l[d])try{l[d]=new Date(l[d]),isNaN(l[d].getTime())&&(v.warn(`Parsed invalid date for field ${String(c)}:`,a[d]),l[d]=new Date(0))}catch(u){v.warn(`Failed parse date field ${String(c)}:`,l[d],u),l[d]=new Date(0)}else(c==="createdAt"||c==="updatedAt")&&(l[d]=new Date(0))}),typeof a.usageCount=="number"?l.usageCount=a.usageCount:typeof l.usageCount>"u"&&"photoFilename"in l&&(l.usageCount=0),l})}catch(o){if(o instanceof SyntaxError&&r!==null)return v.error(`Failed to parse JSON content from ${t}. Content: "${r.substring(0,100)}..."`,o),[];if(ZC(o))return v.warn(`${t} not found during download attempt (409 conflict likely). Returning empty array.`),[];throw Fr(o)?v.error(`Dropbox API Error downloading ${t}: Status ${o.status}`,o.error):v.error(`Non-API/Non-parsing Error loading ${t}:`,o),new Error(`Failed to download or parse data from ${t}.`)}}async function tE(e,t,n,r){t.substring(0,t.lastIndexOf("/"));try{const o=n.map(a=>{const l={...a};return r.forEach(c=>{const d=c;l[d]instanceof Date?isNaN(l[d].getTime())?(v.warn(`Attempted to save invalid date for field ${String(c)}, setting to null.`),l[d]=null):l[d]=l[d].toISOString():(l[d]===null||l[d]===void 0)&&(l[d]=null)}),l.photos=Array.isArray(l.photos)?l.photos:[],"crop"in l&&l.crop===void 0&&(l.crop=null),l}),s=JSON.stringify(o,null,2),i=new Blob([s],{type:"application/json"});v.log(`Attempting to upload ${t} (${(s.length/1024).toFixed(2)} KB)...`),await e.filesUpload({path:t,contents:i,mode:{".tag":"overwrite"},autorename:!1,mute:!0}),v.log(`${t} saved successfully.`)}catch(o){throw Fr(o)?v.error(`Dropbox API Error saving ${t}: Status ${o.status}`,o.error):v.error(`Non-API Error saving ${t}:`,o),new Error(`Failed to save data to ${t} in Dropbox.`)}}async function Bc(e,t,n){const r=XC(t,n);return v.log(`Calling loadJsonFile for ${r} (existence check assumed done).`),eE(e,r,["createdAt","updatedAt"])}async function TL(e){return eE(e,QC,["createdAt"])}async function Il(e,t,n,r){const o=XC(t,n),s=r.filter(i=>{try{const a=new Date(i.date+"T00:00:00Z");return a.getUTCFullYear()===t&&a.getUTCMonth()+1===n}catch{return!1}});if(s.length===0){v.log(`No valid entries for ${t}-${n}. Attempting to delete ${o}.`);try{await e.filesDeleteV2({path:o}),v.log(`Deleted empty entries file: ${o}`)}catch(i){Fr(i)&&JC(i.error,"not_found")?v.log(`Empty entries file ${o} does not exist. No deletion needed.`):Fr(i)?v.error(`Dropbox API Error deleting ${o}: Status ${i.status}`,i.error):v.error(`Non-API Error deleting ${o}:`,i)}return}await tE(e,o,s,["createdAt","updatedAt"])}async function Dh(e,t){await tE(e,QC,t,["createdAt"])}async function kL(e,t,n,r){const o=t.startsWith("/")?t:`/${t}`,s=o.endsWith("/")?o.slice(0,-1):o;try{const i=`${s}/${r}`.replace("//","/");v.log(`Uploading photo to Dropbox path: ${i}`);const l=(await e.filesUpload({path:i,contents:n,mode:{".tag":"add"},autorename:!0,mute:!0})).result;if(l&&typeof l=="object"&&"id"in l&&"size"in l&&"path_lower"in l)return v.log(`Photo uploaded successfully (verified by id/size): ${l.name}`),l;throw v.error("Unexpected upload result structure:",l),new Error(`Unexpected upload result structure: ${JSON.stringify(l)}`)}catch(i){throw Fr(i)?v.error(`Dropbox API Error uploading photo ${r} to ${s}: Status ${i.status}`,i.error):v.error(`Non-API Error uploading photo ${r} to ${s}:`,i),new Error(`Failed to upload photo ${r} to Dropbox.`)}}async function DL(e,t,n){var i,a;if(!t)return!1;const r=n.startsWith("/")?n:`/${n}`,s=`${r.endsWith("/")?r.slice(0,-1):r}/${t}`.replace("//","/");try{return v.log(`Attempting to delete photo from Dropbox path: ${s}`),await e.filesDeleteV2({path:s}),v.log(`Photo deleted successfully from Dropbox: ${t}`),!0}catch(l){return Fr(l)&&(JC(l.error,"not_found")||PL(l.error,"not_found")||l.status===409&&((a=(i=l.error)==null?void 0:i.error_summary)!=null&&a.includes("path_lookup/not_found")))?(v.warn(`deletePhoto: File not found at ${s}. Assuming already deleted.`),!0):(Fr(l)?v.error(`Dropbox API Error deleting photo ${s}: Status ${l.status}`,l.error):v.error(`Non-API Error deleting photo ${s}:`,l),!1)}}function AL(e){return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function RL(e){try{const t=await crypto.subtle.digest("SHA-256",e);return AL(t)}catch(t){throw v.error("Error calculating array buffer hash:",t),new Error("Could not calculate hash from array buffer.")}}async function ML(e){try{const t=await e.arrayBuffer();return RL(t)}catch(t){throw v.error("Error calculating file hash:",t),new Error("Could not calculate file hash.")}}const _l="PhojoCacheDB",zv=3,an="entries",pr="imageMetadata",qs="photoBlobs",cr="cacheStatus",Qo="saveQueue";let Pn=null;function nE(){return new Promise((e,t)=>{if(Pn&&Pn.objectStoreNames.length>0){e(Pn);return}v.log(`[IDB] Opening database ${_l} version ${zv}...`);const n=indexedDB.open(_l,zv);n.onerror=r=>{var o;v.error("[IDB] Database error:",n.error),t(`IndexedDB error: ${(o=n.error)==null?void 0:o.message}`)},n.onsuccess=r=>{v.log(`[IDB] Database ${_l} opened successfully.`),Pn=n.result,Pn.onclose=()=>{v.warn("[IDB] Database connection closed unexpectedly."),Pn=null},Pn.onversionchange=()=>{v.warn("[IDB] Database version change detected. Closing connection."),Pn==null||Pn.close(),Pn=null},e(Pn)},n.onupgradeneeded=r=>{v.log(`[IDB] Upgrading database from version ${r.oldVersion} to ${r.newVersion}.`);const o=n.result,s=r.oldVersion||0;if(s<2&&s>0){v.log("[IDB] Old schema detected, will delete database and recreate with new schema."),o.close();const a=indexedDB.deleteDatabase(_l);a.onsuccess=()=>{v.log("[IDB] Database deleted successfully. App will retry opening.")},a.onerror=()=>{v.error("[IDB] Failed to delete database during migration:",a.error)},a.onblocked=()=>{v.warn("[IDB] Database deletion blocked. Please close all other tabs using this app.")};return}if(!o.objectStoreNames.contains(an))o.createObjectStore(an).createIndex("byDate","date",{unique:!1}),v.log(`[IDB] Object store created: ${an} with index 'byDate'`);else if(s<2){const a=n.transaction.objectStore(an);a.indexNames.contains("byDate")||(a.createIndex("byDate","date",{unique:!1}),v.log(`[IDB] Added 'byDate' index to ${an} store`))}if(o.objectStoreNames.contains(pr)||(o.createObjectStore(pr),v.log(`[IDB] Object store created: ${pr}`)),o.objectStoreNames.contains(qs)||(o.createObjectStore(qs),v.log(`[IDB] Object store created: ${qs}`)),!o.objectStoreNames.contains(cr))o.createObjectStore(cr).createIndex("lastAccessed","lastAccessed",{unique:!1}),v.log(`[IDB] Object store created: ${cr} with index 'lastAccessed'`);else if(s<2){const a=n.transaction.objectStore(cr);a.indexNames.contains("lastAccessed")||(a.createIndex("lastAccessed","lastAccessed",{unique:!1}),v.log(`[IDB] Re-created 'lastAccessed' index on ${cr}`))}o.objectStoreNames.contains(Qo)||(o.createObjectStore(Qo),v.log(`[IDB] Object store created: ${Qo}`)),v.log("[IDB] Database upgrade complete.")},n.onblocked=()=>{v.warn("[IDB] Database open request blocked, possibly due to open connections in other tabs."),t(new Error("IndexedDB open request blocked. Please close other tabs using this app and retry."))}})}async function Xn(e,t,n){const r=await nE();return new Promise((o,s)=>{let i=null;try{i=r.transaction(e,t);const a=i.objectStore(e);i.onerror=l=>{v.error(`[IDB] Transaction error on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Unknown transaction error"))},i.onabort=l=>{v.warn(`[IDB] Transaction aborted on store ${e}:`,i==null?void 0:i.error),s((i==null?void 0:i.error)||new Error("Transaction aborted"))},n(a).then(o).catch(l=>{v.error(`[IDB] Error during transaction action on store ${e}:`,l),s(l)})}catch(a){v.error(`[IDB] Failed to initiate transaction on store ${e}:`,a),s(a)}})}async function yo(e,t,n){await Xn(e,"readwrite",r=>new Promise((o,s)=>{const i=r.put(n,t);i.onsuccess=()=>o(),i.onerror=()=>s(i.error)})),v.log(`[IDB] Data put successful for key '${String(t)}' in store '${e}'.`)}async function rE(e,t){return Xn(e,"readonly",n=>new Promise((r,o)=>{const s=n.get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>o(s.error)}))}async function ar(e,t){await Xn(e,"readwrite",n=>new Promise((r,o)=>{const s=n.delete(t);s.onsuccess=()=>r(),s.onerror=()=>o(s.error)})),v.log(`[IDB] Data delete successful for key '${String(t)}' in store '${e}'.`)}async function IL(e){await Xn(e,"readwrite",t=>new Promise((n,r)=>{const o=t.clear();o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})),v.log(`[IDB] Store '${e}' cleared successfully.`)}async function _L(e){return Xn(cr,"readonly",t=>new Promise((n,r)=>{try{const s=t.index("lastAccessed").openCursor(),i=[];s.onsuccess=a=>{const l=a.target.result;if(l){const c=l.primaryKey,d=l.value;i.push({key:c,lastAccessed:d.lastAccessed,type:d.type}),i.length<e?l.continue():n(i)}else n(i)},s.onerror=()=>{v.error("[IDB] Error querying by lastAccessed:",s.error),r(s.error)}}catch(o){v.error("[IDB] Error setting up index query:",o),r(o)}}))}async function zc(e,t){const n=t.toString().padStart(2,"0"),r=`${e}-${n}-01`,o=new Date(e,t,0).getDate(),s=`${e}-${n}-${o.toString().padStart(2,"0")}`;return Xn(an,"readonly",async i=>new Promise((a,l)=>{try{const c=i.index("byDate"),d=IDBKeyRange.bound(r,s),u=c.getAll(d);u.onsuccess=()=>{const h=u.result;if(h&&h.length>0){const w=h.map(y=>({...y,createdAt:y.createdAt instanceof Date?y.createdAt:new Date(y.createdAt||0),updatedAt:y.updatedAt instanceof Date?y.updatedAt:new Date(y.updatedAt||0)}));a(w)}else a(void 0)},u.onerror=()=>{v.error(`[IDB] Failed to query entries for ${e}-${n}:`,u.error),l(u.error)}}catch(c){v.error("[IDB] Error querying entries by date:",c),l(c)}}))}async function NL(e){return Xn(an,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt,updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt},a=t.put(i,s.id);a.onerror=()=>{v.error(`[IDB] Failed to store entry ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(v.log(`[IDB] Successfully cached ${e.length} entries.`),n())}}}catch(o){v.error("[IDB] Error caching entries:",o),r(o)}}))}async function Ud(){return Xn(pr,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{v.error("[IDB] Failed to get all metadata:",r.error),n(r.error)}}))}async function LL(){return Xn(an,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{const o=r.result;if(o&&o.length>0){const s=o.map(i=>({...i,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt||0),updatedAt:i.updatedAt instanceof Date?i.updatedAt:new Date(i.updatedAt||0)}));t(s)}else t(void 0)},r.onerror=()=>{v.error("[IDB] Failed to get all entries:",r.error),n(r.error)}}))}async function jL(e){return Xn(pr,"readwrite",async t=>new Promise((n,r)=>{try{if(e.length===0){n();return}let o=0;for(const s of e){const i={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt},a=t.put(i,s.id);a.onerror=()=>{v.error(`[IDB] Failed to store metadata ${s.id}:`,a.error),r(a.error)},a.onsuccess=()=>{o++,o===e.length&&(v.log(`[IDB] Successfully cached ${e.length} metadata entries.`),n())}}}catch(o){v.error("[IDB] Error caching metadata:",o),r(o)}}))}async function FL(e){return e?ar(pr,e):IL(pr)}async function Hr(e){return rE(qs,e)}async function Mo(e,t,n){const r=Date.now();await yo(qs,e,{blob:t,timestamp:r,lastAccessed:r,type:n}),await yo(cr,e,{lastAccessed:r,size:t.size,type:n})}async function As(e){await Promise.all([ar(qs,e),ar(cr,e)])}async function Nl(e){const t=await rE(cr,e);if(!t){v.warn(`[IDB] Cannot update access time for ${e}, no cache status found.`);return}t.lastAccessed=Date.now(),await yo(cr,e,t)}async function Fi(e){v.log(`[IDB] Adding action to save queue. Type: ${e.type}, Entity: ${e.entity}`),await yo(Qo,e.actionId,e)}async function oE(){return v.log("[IDB] Getting all items from save queue"),Xn(Qo,"readonly",async e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>{var s;const o=((s=r.result)==null?void 0:s.filter(VL))??[];v.log(`[IDB] Retrieved ${o.length} valid items from save queue`),t(o)},r.onerror=()=>{v.error("[IDB] Error getting items from save queue:",r.error),n(r.error)}}))}async function Ah(e){v.log(`[IDB] Updating action in save queue. ID: ${e.actionId}, Status: ${e.status}`),await yo(Qo,e.actionId,e)}async function OL(e){v.log(`[IDB] Removing action from save queue. ID: ${e}`),await ar(Qo,e)}async function $L(){const e=await oE();let t=0;for(const n of e)if(n.status==="syncing"){const r={...n,status:"pending"};await Ah(r),t++}t>0&&v.log(`[IDB] Marked ${t} 'syncing' actions as 'pending'.`)}async function Aa(){return(await oE()).filter(n=>n.status==="pending"||n.status==="failed").sort((n,r)=>n.timestamp-r.timestamp)}function VL(e){var r;if(typeof e!="object"||e===null)return v.warn("[IDB Validator] Item is not an object or is null."),!1;const t=e;if(typeof t.actionId!="string"||typeof t.timestamp!="number"||typeof t.retryCount!="number"||!["pending","syncing","failed"].includes(t.status??"")||typeof t.entity!="string"||typeof t.type!="string"||typeof t.payload!="object"||t.payload===null)return v.warn("[IDB Validator] Base fields check failed.",{actionId:typeof t.actionId,timestamp:typeof t.timestamp,retryCount:typeof t.retryCount,status:t.status,entity:typeof t.entity,type:typeof t.type,payload:typeof t.payload}),!1;const n=t.payload;switch(t.entity){case"entry":switch(t.type){case"create":case"update":if(typeof n.entry!="object"||n.entry===null||typeof n.entry.id!="string"||typeof n.entry.date!="string"||typeof n.year!="number"||typeof n.month!="number"||n.isDateChange!==void 0&&typeof n.isDateChange!="boolean"||n.oldYear!==void 0&&typeof n.oldYear!="number"||n.oldMonth!==void 0&&typeof n.oldMonth!="number")return v.warn("[IDB Validator] Entry create/update payload check failed.",n),!1;break;case"delete":if(typeof n.entryId!="string"||typeof n.year!="number"||typeof n.month!="number"||typeof n.entryDate!="string")return v.warn("[IDB Validator] Entry delete payload check failed.",n),!1;break;default:return v.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'entry'.`),!1}break;case"photoMetadata":switch(t.type){case"create":case"update":if(!Array.isArray(n.metadata)||n.metadata.length>0&&typeof((r=n.metadata[0])==null?void 0:r.id)!="string")return v.warn("[IDB Validator] Metadata create/update payload check failed.",n),!1;break;case"delete":if(typeof n.metadataId!="string")return v.warn("[IDB Validator] Metadata delete payload check failed.",n),!1;break;default:return v.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoMetadata'.`),!1}break;case"photoUpload":switch(t.type){case"create":if(typeof n.contentHash!="string"||typeof n.photoFilename!="string"||typeof n.folder!="string")return v.warn("[IDB Validator] Photo upload payload check failed.",n),!1;break;default:return v.warn(`[IDB Validator] Invalid type '${t.type}' for entity 'photoUpload'.`),!1}break;default:return v.warn(`[IDB Validator] Invalid entity '${t.entity}'.`),!1}return!0}nE().catch(e=>v.error("[IDB] Initial DB open failed:",e));let Bd=!1;const qv=5e4;async function sE(e,t,n,r){if(!t||!e){v.log("[SyncService] Cannot trigger processing: "+(t?"No Dropbox client":"Offline"));return}await iE(e,t,n,r);const o=await Aa();o.length>0&&(v.log(`[SyncService] Still ${o.length} pending actions after processing, processing again`),await sE(e,t,n,r))}function Wv(e,t){if(!t||!e){v.log("[SyncService] Cannot trigger background sync: "+(t?"No Dropbox client":"Offline"));return}sE(e,t).catch(n=>{v.error("[SyncService] Background sync process error:",n)}),v.log("[SyncService] Background sync process started")}async function iE(e,t,n,r){if(Bd){v.log("[SyncService] processSaveQueue already in progress, skipping");return}Bd=!0;try{if(!t||!e){v.log("[SyncService] Cannot process queue: "+(t?"No Dropbox client":"Offline"));return}const o=await Aa();if(o.length===0){v.log("[SyncService] No pending actions in queue");return}v.log(`[SyncService] Processing ${o.length} pending actions`);for(const s of o)try{const i={...s,status:"syncing"};await Ah(i),s.entity==="entry"?await UL(e,s):s.entity==="photoMetadata"?await BL(e,s):s.entity==="photoUpload"?await zL(e,s):j_(s),await OL(s.actionId),v.log(`[SyncService] Successfully processed action: ${s.actionId}`),n==null||n(s.actionId)}catch(i){const a=(s.retryCount||0)+1,l=a>=qv?"failed":"pending",c={...s,retryCount:a,status:l};await Ah(c),v.error(`[SyncService] Failed to process action ${s.actionId}:`,i),l==="failed"&&(v.error(`[SyncService] Action ${s.actionId} failed after ${qv} attempts`),r==null||r(s.actionId,i instanceof Error?i:new Error("Unknown error")));break}}finally{Bd=!1}}async function UL(e,t){const{type:n,payload:r}=t,o=new Dm(e),{year:s,month:i}=r,a=await Bc(e,s,i),l=o.parseEntryDates(a);async function c(d,u){if(u&&u.photos&&u.photos.length>0&&u.photos.some(w=>!d.photos.some(y=>y.id===w.id))){const w=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(w)}}if(n==="delete"){const{entryId:d}=r,u=l.filter(w=>w.id!==d);await Il(e,s,i,u);const h=l.find(w=>w.id===d);if(h&&h.photos&&h.photos.length>0){v.log(`[Delete] Entry had ${h.photos.length} photos, checking for orphans`);const w=await o.fetchImagesMetadata(!0);await o.cleanupOrphanedPhotos(w)}}else if(n==="update"&&r.isDateChange&&r.oldYear&&r.oldMonth){const{oldYear:d,oldMonth:u,entry:h}=r,w=await Bc(e,d,u),y=o.parseEntryDates(w),x=y.filter(S=>S.id!==S.id),m=[...l.filter(S=>S.id!==S.id),h];await Il(e,d,u,x),await Il(e,s,i,m);const g=y.find(S=>S.id===h.id);await c(h,g)}else{const{entry:d}=r,u=l.find(y=>y.id===d.id),w=[...l.filter(y=>y.id!==d.id),d];w.sort((y,x)=>{const b=new Date(y.date).getTime(),m=new Date(x.date).getTime();return b!==m?b-m:y.createdAt.getTime()-x.createdAt.getTime()}),await Il(e,s,i,w),await c(d,u)}}async function BL(e,t){const{type:n,payload:r}=t,s=await new Dm(e).fetchImagesMetadata(!0);if(n==="delete"){const{metadataId:i}=r,a=s.filter(l=>l.id!==i);await Dh(e,a)}else{const i=r.metadata,a=new Set(i.map(d=>d.id)),c=[...s.filter(d=>!a.has(d.id)),...i];await Dh(e,c)}}async function zL(e,t){const{payload:n}=t,{contentHash:r,photoFilename:o,folder:s}=n,i=await Hr(r);if(!i)throw new Error(`Blob not found in cache for hash: ${r}`);const a=new File([i.blob],o,{type:i.blob.type});await kL(e,s,a,o)}const aE=.8,qL=.7,WL=10;async function Rh(){try{if(!navigator.storage||!navigator.storage.estimate)return v.warn("[StorageMgr] navigator.storage.estimate not supported"),null;const e=await navigator.storage.estimate();if(!e.quota||!e.usage)return v.warn("[StorageMgr] Storage estimate missing quota or usage"),null;const t=e.usage/e.quota;return v.log(`[StorageMgr] Storage usage: ${e.usage} / ${e.quota} bytes (${(t*100).toFixed(2)}%)`),{usageBytes:e.usage,quotaBytes:e.quota,usagePercentage:t}}catch(e){return v.error("[StorageMgr] Error getting storage estimate:",e),null}}async function Hv(e,t=!0){try{const n=await _L(e);if(t){const r=n.filter(s=>s.type==="full").map(s=>s.key),o=n.filter(s=>s.type==="thumb").map(s=>s.key);return[...r,...o].slice(0,e)}return n.map(r=>r.key)}catch(n){return v.error("[StorageMgr] Error getting oldest blobs:",n),[]}}async function qc(e){try{let t=0,n=!0;if(typeof e=="number"&&e>0){const o=await Hv(e);return o.length>0?(v.log(`[StorageMgr] Forced pruning ${o.length} blobs`),await Promise.all(o.map(s=>As(s))),o.length):0}const r=await Rh();if(!r||r.usagePercentage<aE)return v.log("[StorageMgr] Current storage usage is below threshold, no pruning needed"),0;for(;n;){const o=await Hv(WL);if(o.length===0){v.log("[StorageMgr] No more blobs to prune");break}v.log(`[StorageMgr] Pruning batch of ${o.length} blobs`),await Promise.all(o.map(i=>As(i))),t+=o.length;const s=await Rh();!s||s.usagePercentage<=qL?(v.log(`[StorageMgr] Reached target usage: ${(s==null?void 0:s.usagePercentage.toFixed(2))||"unknown"}`),n=!1):t>=50&&(v.warn("[StorageMgr] Reached safety limit of 50 items, stopping pruning"),n=!1)}return v.log(`[StorageMgr] Pruning complete. Removed ${t} items`),t}catch(t){return v.error("[StorageMgr] Error during pruning:",t),0}}async function zd(){try{const e=await Rh();if(!e)return;if(e.usagePercentage>=aE){v.warn(`[StorageMgr] Storage usage high (${(e.usagePercentage*100).toFixed(2)}%). Running pruning...`);const t=await qc();v.log(`[StorageMgr] Automatic pruning complete. Removed ${t} items.`)}}catch(e){v.error("[StorageMgr] Error in automatic pruning check:",e)}}async function qd(e,t=256){return new Promise((n,r)=>{const o=new Image,s=URL.createObjectURL(e);o.onload=()=>{try{URL.revokeObjectURL(s);let i=o.width,a=o.height;const l=i/a;i>a&&i>t?(i=t,a=Math.round(i/l)):a>t&&(a=t,i=Math.round(a*l));const c=document.createElement("canvas");c.width=i,c.height=a;const d=c.getContext("2d");if(!d){r(new Error("Failed to get canvas context"));return}d.imageSmoothingQuality="high",d.drawImage(o,0,0,i,a),c.toBlob(u=>{u?(v.log(`[ImageUtils] Generated thumbnail: ${i}x${a} (original: ${o.width}x${o.height})`),n(u)):r(new Error("Failed to generate thumbnail blob"))},e.type,.85)}catch(i){v.error("[ImageUtils] Error generating thumbnail:",i),r(i)}},o.onerror=()=>{URL.revokeObjectURL(s),r(new Error("Failed to load image for thumbnail generation"))},o.src=s})}class ao{constructor(){this.urlMap=new Map}static getInstance(){return ao.instance||(ao.instance=new ao),ao.instance}createUrl(t,n){let r=this.urlMap.get(t);return r||(r=URL.createObjectURL(n),this.urlMap.set(t,r),v.log(`[BlobMgr] Created URL for hash ${t}: ${r}`),r)}getUrl(t){return this.urlMap.get(t)||null}revokeUrl(t){const n=this.urlMap.get(t);if(n){v.log(`[BlobMgr] Revoking URL for hash ${t}: ${n}`);try{URL.revokeObjectURL(n)}catch(r){v.error(`[BlobMgr] Error revoking URL for hash ${t}:`,r)}this.urlMap.delete(t)}}revokeAllUrls(){v.log(`[BlobMgr] Revoking all ${this.urlMap.size} URLs.`),this.urlMap.forEach((t,n)=>{try{URL.revokeObjectURL(t)}catch(r){v.error(`[BlobMgr] Error revoking URL during clearAll for hash ${n}:`,r)}}),this.urlMap.clear()}}var Mh=(e=>(e.ENTRIES_UPDATED="entries_updated",e.METADATA_UPDATED="metadata_updated",e))(Mh||{});const Wd=30*60*1e3,Oi=zs.startsWith("/")?zs.replace("//","/"):`/${zs}`.replace("//","/"),Gv=e=>e.isNew===!0;class Dm{constructor(t){this.blobUrlManager=ao.getInstance(),this.folderListCache=new Map,this.prefetchPromises=new Map,this.eventEmitter=new bL,this.dbx=t}getLastMetadataFetchTime(){const t=localStorage.getItem("lastMetadataFetchTime");return t?Number(t):0}setLastMetadataFetchTime(t){localStorage.setItem("lastMetadataFetchTime",t.toString())}getLastEntriesFetchTime(t,n){const r=this.getMonthCacheKey(t,n),o=localStorage.getItem(`${r}-lastFetchTime`);return o?Number(o):0}setLastEntriesFetchTime(t,n,r){const o=this.getMonthCacheKey(t,n);localStorage.setItem(`${o}-lastFetchTime`,r.toString())}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}getMonthCacheKey(t,n){return`${t}-${n}`}getBlobUrl(t,n="full"){const r=n==="full"?t:`${t}-thumb`;return this.blobUrlManager.getUrl(r)}revokeBlobUrl(t,n=!0){this.blobUrlManager.revokeUrl(t),n&&this.blobUrlManager.revokeUrl(`${t}-thumb`)}clearAllBlobUrls(){this.blobUrlManager.revokeAllUrls()}async invalidateEntriesCache(t,n){const r=this.getMonthCacheKey(t,n);localStorage.removeItem(`${r}-lastFetchTime`),this.invalidateFolderListCache(Oi)}async invalidateImagesMetadataCache(){this.invalidateFolderListCache(Oi),v.log("[Cache] Invalidated IDB metadata")}setFolderListCache(t,n){this.folderListCache.set(t,{data:n,timestamp:Date.now()}),v.log(`[MemCache] Set folder list for ${t}. Count: ${n.length}`)}getFolderListFromCache(t){const n=this.folderListCache.get(t);return n&&Date.now()-n.timestamp<Wd?(v.log(`[MemCache] Hit folder list for ${t}`),n.data):(v.log(`[MemCache] Miss/Expired folder list for ${t}`),this.folderListCache.delete(t),null)}invalidateFolderListCache(t){this.folderListCache.delete(t),v.log(`[MemCache] Invalidated folder list for ${t}`)}async listFolder(t){if(!this.dbx){v.warn(`[Dropbox] Cannot list folder ${t}: Dropbox client not available.`);const r=this.getFolderListFromCache(t);return r?(v.warn(`[Dropbox] Returning cached folder list for ${t} while offline.`),r):(v.warn(`[Dropbox] No cached folder list found for ${t} while offline. Returning empty.`),[])}const n=this.getFolderListFromCache(t);if(n)return n;v.log(`[Dropbox] Listing folder: ${t}`);try{const o=(await this.dbx.filesListFolder({path:t})).result.entries;return this.setFolderListCache(t,o),v.log(`[Dropbox] Listed ${o.length} items in ${t}`),o}catch(r){if(ZC(r))return v.warn(`[Dropbox] Folder not found during listFolder: ${t}`),this.setFolderListCache(t,[]),[];throw Fr(r)?v.error(`Dropbox API Error listing folder ${t}: Status ${r.status}`,r.error):v.error(`Non-API Error listing folder ${t}:`,r),r}}async listEntryFiles(){v.log("[Client] listEntryFiles called.");try{const n=(await this.listFolder(Oi)).filter(r=>{var o;return r[".tag"]==="file"&&((o=r.name)==null?void 0:o.match(/^\d{4}-\d{2}-entries\.json$/))}).map(r=>r.name);return v.log(`[Client] listEntryFiles found ${n.length} files.`),n}catch(t){return v.error("[Client] Failed to list entry files:",t),null}}async fetchEntriesForMonth(t,n,r){const o=this.getMonthCacheKey(t,n);v.log(`[Client] fetchEntriesForMonth called for ${o}. Online: ${r}`);try{const s=await zc(t,n),i=s&&s.length>0;i?v.log(`[Cache] Using IDB entries for ${o}. Found ${s.length} entries.`):v.log(`[Cache] No IDB entries found for ${o}.`);const a=this.getLastEntriesFetchTime(t,n),l=Date.now()-a<Wd;return r&&!l&&this.dbx&&this.syncEntriesWithServer(t,n,s||[]).catch(c=>{v.error(`[Client] Background sync failed for ${o}:`,c)}),i?this.parseEntryDates(s||[]):[]}catch(s){v.error(`[Client] Error fetching entries for ${o}:`,s);try{const i=await zc(t,n);if(i&&i.length>0)return v.warn("Fetch failed, falling back to local cache"),this.parseEntryDates(i)}catch(i){v.error("[Cache] Error accessing cache after fetch failure:",i)}throw s}return[]}async syncEntriesWithServer(t,n,r){if(!this.dbx)throw new Error("Cannot sync entries: Dropbox client not initialized");const o=this.getMonthCacheKey(t,n);v.log(`[Background Sync] Starting background sync for ${o}`);try{const s=KC(t,n),a=(await this.listFolder(Oi)).some(c=>c[".tag"]==="file"&&c.name===s);let l=[];if(!a)v.log(`[Background Sync] File ${s} does not exist on Dropbox.`);else{const c=await Bc(this.dbx,t,n);l=this.parseEntryDates(c),v.log(`[Background Sync] Fetched ${l.length} entries from Dropbox for ${o}.`);const d=new Set(l.map(w=>w.id)),u=r.filter(w=>!d.has(w.id));if(u.length>0){v.log(`[Background Sync] Found ${u.length} entries deleted on Dropbox`);const w=await Aa();for(const y of u)w.some(b=>b.entity==="entry"&&b.type!=="delete"&&b.payload.entry.id===y.id)?v.log(`[Background Sync] Not deleting entry ${y.id} - has pending changes`):(v.log(`[Background Sync] Deleting orphaned entry ${y.id} from local cache`),await ar(an,y.id))}const h=[...l].sort((w,y)=>new Date(w.date).getTime()-new Date(y.date).getTime()||w.createdAt.getTime()-y.createdAt.getTime());v.log(`[Background Sync] Storing ${h.length} entries in local cache`),await NL(h)}this.setLastEntriesFetchTime(t,n,Date.now()),l.length!==r.length&&(v.log("[Background Sync] Entries changed, triggering refresh"),this.eventEmitter.emit("entries_updated",{year:t,month:n,entries:l})),v.log(`[Background Sync] Completed for ${o}`)}catch(s){throw v.error(`[Background Sync] Failed for ${o}:`,s),s}}async syncMetadataWithServer(t){if(!this.dbx)throw new Error("Cannot sync metadata: Dropbox client not initialized");v.log("[Background Sync] Starting metadata background sync");try{v.log("[Background Sync] Fetching image metadata from Dropbox...");const n=await TL(this.dbx),r=this.parseMetadataDates(n);v.log(`[Background Sync] Fetched ${r.length} metadata entries from Dropbox.`);const o=new Map(r.map(i=>[i.id,i])),s=t.filter(i=>!o.has(i.id));if(s.length>0){v.log(`[Background Sync] Found ${s.length} metadata entries deleted on Dropbox`);const i=await Aa();for(const a of s)i.some(c=>c.entity==="photoMetadata"&&c.type!=="delete"&&c.payload.metadata.find(d=>d.id===a.id))?v.log(`[Background Sync] Not deleting metadata ${a.id} - has pending changes`):(v.log(`[Background Sync] Deleting orphaned metadata ${a.id} from local cache`),await ar(pr,a.id))}v.log(`[Background Sync] Storing ${r.length} metadata entries in local cache`),await jL(r),this.setLastMetadataFetchTime(Date.now()),r.length!==t.length&&(v.log("[Background Sync] Metadata changed, triggering refresh"),this.eventEmitter.emit("metadata_updated",{metadata:r})),v.log("[Background Sync] Metadata sync completed")}catch(n){throw v.error("[Background Sync] Metadata sync failed:",n),n}}async fetchImagesMetadata(t){v.log(`[Client] fetchImagesMetadata called. Online: ${t}`);try{const n=await Ud(),r=n&&n.length>0;r?v.log(`[Cache] Using IDB metadata. Found ${n.length} entries.`):v.log("[Cache] No IDB metadata found.");const o=Date.now()-this.getLastMetadataFetchTime()<Wd;return t&&!o&&this.dbx&&this.syncMetadataWithServer(n||[]).catch(s=>{v.error("[Client] Background metadata sync failed:",s)}),r?this.parseMetadataDates(n||[]):[]}catch(n){v.error("[Client] Error in fetchImagesMetadata:",n);try{const r=await Ud();if(r&&r.length>0)return v.warn("Metadata fetch failed, falling back to stale cache"),this.parseMetadataDates(r)}catch(r){v.error("[Cache] Error accessing metadata cache after fetch failure:",r)}throw n}}async getPhotoThumbnailUrl(t,n,r){if(!t)return v.warn(`[Client] Cannot get thumbnail URL: contentHash missing for photoId ${n}`),null;const o=`${t}-thumb`,s=this.blobUrlManager.getUrl(o);if(s)return Nl(o).catch(a=>v.warn(`[IDB] Failed background update access time for ${o}:`,a)),s;try{const a=await Hr(o);if(a)return v.log(`[Cache] Found thumbnail in IDB for hash ${o}.`),await Nl(o),this.blobUrlManager.createUrl(o,a.blob);const l=await Hr(t);if(l){v.log(`[Cache] Found full blob in IDB for hash ${t}. Generating thumbnail...`);try{const c=await qd(l.blob);return v.log(`[Cache] Generated thumbnail for hash ${t}. Caching...`),await Mo(o,c,"thumb"),this.blobUrlManager.createUrl(o,c)}catch(c){return v.error(`[Cache] Error generating thumbnail for hash ${t}:`,c),this.getPhotoBlobUrl(t,n,r)}}}catch(a){v.error(`[Cache] Error checking IDB for thumbnail hash ${o}:`,a)}if(!r)return v.log(`[Client] Thumbnail not cached for hash ${t} and offline. Trying full image.`),this.getPhotoBlobUrl(t,n,r);const i=await this.getPhotoBlobUrl(t,n,r);if(i)try{const a=await Hr(t);if(a){v.log(`[Cache] Full image now available for hash ${t}. Generating thumbnail...`);const l=await qd(a.blob);return v.log(`[Cache] Generated thumbnail for hash ${t} after download. Caching...`),await Mo(o,l,"thumb"),this.blobUrlManager.createUrl(o,l)}}catch(a){return v.error(`[Cache] Error generating thumbnail after download for hash ${t}:`,a),i}return null}async getPhotoBlobUrl(t,n,r){if(!t)return v.warn(`[Client] Cannot get blob URL: contentHash missing for photoId ${n}`),null;const o=this.blobUrlManager.getUrl(t);if(o)return v.log(`[Memory] Found cached URL for hash ${t}`),Nl(t).catch(s=>v.warn(`[IDB] Failed background update access time for ${t}:`,s)),o;try{const s=await Hr(t);if(s)return v.log(`[Cache] Found blob in IDB for hash ${t}.`),await Nl(t),this.generateThumbnailInBackground(t,s.blob),this.blobUrlManager.createUrl(t,s.blob)}catch(s){v.error(`[Cache] Error checking IDB for blob hash ${t}:`,s)}if(!r)return v.log(`[Client] Blob not cached for hash ${t} and offline.`),null;if(!this.dbx)return v.error(`[Client] Cannot download blob hash ${t}: Online but Dropbox client not available.`),null;v.log(`[Client] Blob not cached for hash ${t}. Fetching from Dropbox...`);try{const i=(await this.fetchImagesMetadata(r)).find(h=>{var w;return((w=h.photoMetadata)==null?void 0:w.contentHash)===t});if(!(i!=null&&i.photoFilename))return v.warn(`[Client] Cannot fetch blob: Metadata or filename missing for contentHash ${t} (photoId: ${n})`),null;const a=i.photoFilename,l=`${Ml}/${a}`.replace("//","/");v.log(`[Dropbox] Downloading blob for file: ${l}`);const d=(await this.dbx.filesDownload({path:l})).result.fileBlob;if(!d)return v.error(`[Dropbox] Download response for ${l} did not contain a fileBlob.`),null;v.log(`[Cache] Downloaded blob for hash ${t}. Size: ${d.size}`);const u=this.blobUrlManager.createUrl(t,d);try{await Mo(t,d,"full"),this.generateThumbnailInBackground(t,d),v.log(`[Cache] Successfully cached blob for hash ${t}`)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){v.warn(`[Cache] Storage quota exceeded while caching blob ${t}. Triggering pruning...`);try{await qc(10),await Mo(t,d,"full"),this.generateThumbnailInBackground(t,d),v.log(`[Cache] Successfully cached blob after pruning for hash ${t}`)}catch(w){v.error(`[Cache] Failed to prune and retry caching for ${t}:`,w)}}else v.error(`[Cache] Error caching blob for hash ${t}:`,h)}return u}catch(s){return v.error(`[Client] Failed to fetch/cache blob for hash ${t} (photoId: ${n}):`,s),null}}async saveEntry(t,n,r){var E,P,k,D;if(v.log(`[Client] saveEntry called. Online: ${r}. Edit mode: ${!!n}`),!t.date)throw new Error("Entry date is missing.");let o=await this.fetchImagesMetadata(r);const s=[],i=!!n,a=[],l=new Set((n==null?void 0:n.photos.map(R=>R.photoId))??[]),c=[];i&&l.forEach(R=>{t.photos.some(N=>!Gv(N)&&N.photoId===R)||v.log(`[Save] Photo ${R} removed from entry`)});const d=new Date(t.date.toISOString().split("T")[0]+"T00:00:00Z"),u=d.getUTCFullYear(),h=d.getUTCMonth()+1;let w=null,y=null;if(n){const R=new Date(n.date+"T00:00:00Z");w=R.getUTCFullYear(),y=R.getUTCMonth()+1}const x=i&&(u!==w||h!==y);for(const R of t.photos){let A=null,N,$=null,Q=!1;if(Gv(R)){const j=R.file;N=R.crop,$=await ML(j);const X=o.find(_=>{var L;return((L=_.photoMetadata)==null?void 0:L.contentHash)===$});if(X)A=X.id,v.log(`[Save] Hash collision for ${j.name}. Using existing ID: ${A}`),l.has(A)||(Q=!0),await Hr($)||c.push({hash:$,blob:j});else{v.log(`[Save] Uploading new photo: ${j.name}`);const _=Date.now(),L=crypto.randomUUID().substring(0,8),M=j.name.replace(/[^a-zA-Z0-9.]/g,"_"),I=`${_}_${L}_${M}`,V={id:crypto.randomUUID(),photoFilename:I,photoMetadata:{filename:j.name,mimeType:j.type,width:(E=R.originalDimensions)==null?void 0:E.width,height:(P=R.originalDimensions)==null?void 0:P.height,exifDate:((k=R.exifData)==null?void 0:k.exifDate)??null,contentHash:$},createdAt:new Date},G=crypto.randomUUID(),Z={actionId:G,type:"create",entity:"photoUpload",payload:{contentHash:$,photoFilename:I,folder:Ml},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(Z),v.log(`[Save] Photo upload added to sync queue. ActionId: ${G}, Hash: ${$}`),A=V.id,o.push(V),a.push(V),await yo(pr,V.id,V),Q=!0,c.push({hash:$,blob:j}),v.log(`[Save] New photo uploaded. ID: ${A}, Hash: ${$}`)}}else{A=R.photoId,N=R.crop;const j=o.find(X=>X.id===A);$=((D=j==null?void 0:j.photoMetadata)==null?void 0:D.contentHash)??null,(!i||!l.has(A))&&(Q=!0),$&&(await Hr($)||v.warn(`[Save] Existing photo blob missing from cache for hash: ${$} (ID: ${A})`)),v.log(`[Save] Keeping existing photo ID: ${A}. Is addition? ${Q}. Hash: ${$}`)}A&&s.push({photoId:A,crop:N})}for(const{hash:R,blob:A}of c)await Mo(R,A,"full");const b=t.date.toISOString().split("T")[0],m=new Date;let g;if(n?g={...n,date:b,content:t.content,photos:s,updatedAt:m}:g={id:crypto.randomUUID(),date:b,content:t.content,photos:s,createdAt:m,updatedAt:m},await this.invalidateEntriesCache(u,h),x&&w!==null&&y!==null){v.log(`[Save] Deleting entry ${g.id} from local database due to date change`),await ar(an,g.id),v.log(`[Save] Adding entry ${g.id} to local database due to date change`),await yo(an,g.id,g);const R=crypto.randomUUID(),A={actionId:R,type:"update",entity:"entry",payload:{entry:g,year:w,month:y,isDateChange:!0,oldYear:w,oldMonth:y},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(A),v.log(`[Save] Date change original month update added to sync queue. ActionId: ${R}`)}else{v.log(`[Save] Saving entry ${g.id} to local database`),await yo(an,g.id,g);const R=crypto.randomUUID(),A={actionId:R,type:n?"update":"create",entity:"entry",payload:{entry:g,year:u,month:h},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(A),v.log(`[Save] Entry save added to sync queue. ActionId: ${R}, ID: ${g.id}`)}v.log(`[Save] Queueing metadata update with ${a.length} entries`);const S=crypto.randomUUID(),C={actionId:S,type:"create",entity:"photoMetadata",payload:{metadata:a},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(C),v.log(`[Save] Metadata update added to sync queue. ActionId: ${S}`),r&&this.dbx&&(v.log("[Save] Online mode - triggering immediate processing of save queue in background"),Wv(this.dbx,r))}parseEntryDates(t){return t.map(n=>({...n,photos:Array.isArray(n.photos)?n.photos:[],createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0),updatedAt:n.updatedAt instanceof Date?n.updatedAt:new Date(n.updatedAt||0)}))}parseMetadataDates(t){return t.map(n=>({...n,createdAt:n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt||0)}))}async generateThumbnailInBackground(t,n){const r=`${t}-thumb`;try{if(await Hr(r)){v.log(`[Background] Thumbnail already exists for hash ${t}.`);return}v.log(`[Background] Generating thumbnail for hash ${t}...`);const s=await qd(n);v.log(`[Background] Caching new thumbnail for hash ${t}.`);try{await Mo(r,s,"thumb")}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){v.warn(`[Background] Storage quota exceeded while caching thumbnail ${r}. Triggering pruning...`);try{await qc(10),await Mo(r,s,"thumb"),v.log(`[Background] Successfully cached thumbnail after pruning: ${r}`)}catch(a){v.error(`[Background] Failed to prune and retry caching thumbnail for ${r}:`,a)}}else v.error(`[Background] Error caching thumbnail for hash ${r}:`,i)}}catch(o){v.error(`[Background] Failed to generate/cache thumbnail for hash ${t}:`,o)}}async cleanupOrphanedPhotos(t){if(!this.dbx){v.warn("[Cleanup] Cannot cleanup photos: Dropbox client not available.");return}v.log("[Cleanup] Fetching all entries to calculate orphaned photos");const n=await this.listEntryFiles();if(!n){v.warn("[Cleanup] Could not retrieve entry files list, aborting orphaned photo cleanup");return}const r=new Set;for(const s of n)try{const i=s.match(/^(\d{4})-(\d{2})-entries\.json$/);if(!i)continue;const a=parseInt(i[1],10),l=parseInt(i[2],10),c=await Bc(this.dbx,a,l);v.log(`[Cleanup] Loaded ${c.length} entries from ${s}`);for(const d of c)for(const u of d.photos||[])u.photoId&&r.add(u.photoId)}catch(i){v.error(`[Cleanup] Error processing entries file ${s}:`,i)}v.log(`[Cleanup] Found ${r.size} photos in use across all entries`);const o=t.filter(s=>!r.has(s.id));if(o.length>0){v.log(`[Cleanup] Found ${o.length} orphaned photos not used in any entry. Attempting deletion.`);const s=5,i=500,a=[];for(let c=0;c<o.length;c+=s)a.push(o.slice(c,c+s));for(let c=0;c<a.length;c++){const d=a[c];c>0&&(v.log(`[Cleanup] Pausing before next batch of ${d.length} photos`),await new Promise(h=>setTimeout(h,i)));const u=d.map(async h=>{var w;if(h.photoFilename)try{if(v.log(`[Cleanup] Deleting orphaned photo file: ${h.photoFilename} (ID: ${h.id})`),await DL(this.dbx,h.photoFilename,Ml)){v.log(`[Cleanup] Successfully deleted file ${h.photoFilename}`);const x=(w=h.photoMetadata)==null?void 0:w.contentHash;x&&(await As(x),await As(`${x}-thumb`),this.blobUrlManager.revokeUrl(x),this.blobUrlManager.revokeUrl(`${x}-thumb`))}}catch(y){v.error(`[Cleanup] Error deleting orphaned photo file ${h.photoFilename}:`,y)}else v.warn(`[Cleanup] Cannot delete photo ID ${h.id}, filename missing.`);return h});await Promise.all(u),v.log(`[Cleanup] Completed batch ${c+1} of ${a.length}`)}v.log("[Cleanup] Orphaned photo file deletion attempt complete.");const l=t.filter(c=>r.has(c.id));await Dh(this.dbx,l);for(const c of o)FL(c.id)}else v.log("[Cleanup] No photos with usage count <= 0 found in current state.")}async syncDeletionsFromDropbox(){if(v.log("[Deletion Sync] Starting synchronization of deletions from Dropbox"),!this.dbx){v.warn("[Deletion Sync] Cannot sync deletions: Dropbox client not available");return}try{const[t,n]=await Promise.allSettled([this.syncPhotosDeletions(),this.syncEntriesDeletions()]);t.status==="fulfilled"?v.log("[Deletion Sync] Photo deletions sync completed successfully"):v.error("[Deletion Sync] Photo deletions sync failed:",t.reason),n.status==="fulfilled"?v.log("[Deletion Sync] Entry deletions sync completed successfully"):v.error("[Deletion Sync] Entry deletions sync failed:",n.reason),v.log("[Deletion Sync] Synchronization of deletions completed")}catch(t){v.error("[Deletion Sync] Error during deletion sync:",t)}}async syncPhotosDeletions(){var s;if(v.log("[Deletion Sync] Checking for photo deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Ml)).filter(i=>i[".tag"]==="file").map(i=>i.name);v.log(`[Deletion Sync] Found ${n.length} photos in Dropbox`);const r=await Ud();if(!r||r.length===0){v.log("[Deletion Sync] No local metadata to check");return}v.log(`[Deletion Sync] Checking ${r.length} local metadata entries against Dropbox photos`);const o=r.filter(i=>i.photoFilename&&!n.includes(i.photoFilename));if(o.length===0){v.log("[Deletion Sync] No orphaned photo metadata found");return}v.log(`[Deletion Sync] Found ${o.length} orphaned metadata entries to delete`);for(const i of o)v.log(`[Deletion Sync] Deleting orphaned metadata for photo ${i.photoFilename}`),await ar(pr,i.id),(s=i.photoMetadata)!=null&&s.contentHash&&(await As(i.photoMetadata.contentHash),await As(`${i.photoMetadata.contentHash}-thumb`));v.log("[Deletion Sync] Photo deletion sync completed")}async syncEntriesDeletions(){if(v.log("[Deletion Sync] Checking for entry file deletions"),!this.dbx)throw new Error("Dropbox client not available");const n=(await this.listFolder(Oi)).filter(s=>{var i;return s[".tag"]==="file"&&((i=s.name)==null?void 0:i.match(/^\d{4}-\d{2}-entries\.json$/))}).map(s=>s.name);v.log(`[Deletion Sync] Found ${n.length} entry files in Dropbox`);const r=await LL();if(!r||r.length===0){v.log("[Deletion Sync] No local entries to check");return}v.log(`[Deletion Sync] Checking ${r.length} local entries against Dropbox files`);const o=new Map;for(const s of r){const i=s.date.substring(0,7),a=o.get(i)||[];a.push(s),o.set(i,a)}for(const[s,i]of o.entries()){const a=`${s}-entries.json`;n.includes(a)||(v.log(`[Deletion Sync] Entry file ${a} not found in Dropbox. Deleting ${i.length} local entries`),await Promise.all(i.map(l=>ar(an,l.id))))}v.log("[Deletion Sync] Entry deletion sync completed")}async deleteEntry(t,n,r,o){v.log(`[Delete] deleteEntry called for ${t}. Online: ${o}`);try{const i=(await this.fetchEntriesForMonth(n,r,o)).find(c=>c.id===t);if(!i){v.warn(`[Delete] Entry ${t} not found in month ${n}-${r} cache`);return}v.log(`[Delete] Deleting entry ${t} from local database`),await ar(an,t);const a=crypto.randomUUID(),l={actionId:a,type:"delete",entity:"entry",payload:{entryId:t,year:n,month:r,entryDate:i.date},timestamp:Date.now(),retryCount:0,status:"pending"};await Fi(l),v.log(`[Delete] Entry deletion added to sync queue. ActionId: ${a}, ID: ${t}`),await this.invalidateEntriesCache(n,r),o&&this.dbx&&(v.log("[Delete] Online mode - triggering immediate processing of save queue in background"),Wv(this.dbx,o)),v.log("[Delete] deleteEntry operation completed.")}catch(s){throw v.error("[Delete] Error deleting entry:",s),s}}triggerPrefetch(t,n,r){if(!r){v.log("[Prefetch] Skipping prefetch while offline.");return}v.log(`[Prefetch] Triggered for current month ${t}-${n+1}`),[-1,1].forEach(s=>{let i=t,a=n+s;a<0?(a=11,i--):a>11&&(a=0,i++);const l=this.getMonthCacheKey(i,a);if(!this.prefetchPromises.has(l)){v.log(`[Prefetch] Queueing entries for ${l}`);const c=this.fetchEntriesForMonth(i,a,!0).catch(d=>v.error(`[Prefetch] Failed for entries ${l}:`,d)).finally(()=>this.prefetchPromises.delete(l));this.prefetchPromises.set(l,c)}});const o="metadata";if(!this.prefetchPromises.has(o)){v.log("[Prefetch] Queueing metadata.");const s=this.fetchImagesMetadata(!0).catch(i=>v.error("[Prefetch] Metadata failed:",i)).finally(()=>this.prefetchPromises.delete(o));this.prefetchPromises.set(o,s)}}}var HL="rpc",GL="upload",KL="download",Hd="app",Gd="user",Kd="team",YL="noauth",QL="cookie",Wc="dropboxapi.com",Kv="dropbox.com",Ih={api:"api",notify:"bolt",content:"api-content"},T={};T.accountSetProfilePhoto=function(e){return this.request("account/set_profile_photo",e,"user","api","rpc","account_info.write")};T.authTokenFromOauth1=function(e){return this.request("auth/token/from_oauth1",e,"app","api","rpc",null)};T.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)};T.checkApp=function(e){return this.request("check/app",e,"app","api","rpc",null)};T.checkUser=function(e){return this.request("check/user",e,"user","api","rpc","account_info.read")};T.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")};T.contactsDeleteManualContactsBatch=function(e){return this.request("contacts/delete_manual_contacts_batch",e,"user","api","rpc","contacts.write")};T.filePropertiesPropertiesAdd=function(e){return this.request("file_properties/properties/add",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesOverwrite=function(e){return this.request("file_properties/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesRemove=function(e){return this.request("file_properties/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filePropertiesPropertiesSearch=function(e){return this.request("file_properties/properties/search",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesSearchContinue=function(e){return this.request("file_properties/properties/search/continue",e,"user","api","rpc","files.metadata.read")};T.filePropertiesPropertiesUpdate=function(e){return this.request("file_properties/properties/update",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesAddForTeam=function(e){return this.request("file_properties/templates/add_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesAddForUser=function(e){return this.request("file_properties/templates/add_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesGetForTeam=function(e){return this.request("file_properties/templates/get_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesGetForUser=function(e){return this.request("file_properties/templates/get_for_user",e,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")};T.filePropertiesTemplatesRemoveForTeam=function(e){return this.request("file_properties/templates/remove_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesRemoveForUser=function(e){return this.request("file_properties/templates/remove_for_user",e,"user","api","rpc","files.metadata.write")};T.filePropertiesTemplatesUpdateForTeam=function(e){return this.request("file_properties/templates/update_for_team",e,"team","api","rpc","files.team_metadata.write")};T.filePropertiesTemplatesUpdateForUser=function(e){return this.request("file_properties/templates/update_for_user",e,"user","api","rpc","files.metadata.write")};T.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")};T.fileRequestsCreate=function(e){return this.request("file_requests/create",e,"user","api","rpc","file_requests.write")};T.fileRequestsDelete=function(e){return this.request("file_requests/delete",e,"user","api","rpc","file_requests.write")};T.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")};T.fileRequestsGet=function(e){return this.request("file_requests/get",e,"user","api","rpc","file_requests.read")};T.fileRequestsListV2=function(e){return this.request("file_requests/list_v2",e,"user","api","rpc","file_requests.read")};T.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")};T.fileRequestsListContinue=function(e){return this.request("file_requests/list/continue",e,"user","api","rpc","file_requests.read")};T.fileRequestsUpdate=function(e){return this.request("file_requests/update",e,"user","api","rpc","file_requests.write")};T.filesAlphaGetMetadata=function(e){return this.request("files/alpha/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesAlphaUpload=function(e){return this.request("files/alpha/upload",e,"user","content","upload","files.content.write")};T.filesCopyV2=function(e){return this.request("files/copy_v2",e,"user","api","rpc","files.content.write")};T.filesCopy=function(e){return this.request("files/copy",e,"user","api","rpc","files.content.write")};T.filesCopyBatchV2=function(e){return this.request("files/copy_batch_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatch=function(e){return this.request("files/copy_batch",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheckV2=function(e){return this.request("files/copy_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesCopyBatchCheck=function(e){return this.request("files/copy_batch/check",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceGet=function(e){return this.request("files/copy_reference/get",e,"user","api","rpc","files.content.write")};T.filesCopyReferenceSave=function(e){return this.request("files/copy_reference/save",e,"user","api","rpc","files.content.write")};T.filesCreateFolderV2=function(e){return this.request("files/create_folder_v2",e,"user","api","rpc","files.content.write")};T.filesCreateFolder=function(e){return this.request("files/create_folder",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatch=function(e){return this.request("files/create_folder_batch",e,"user","api","rpc","files.content.write")};T.filesCreateFolderBatchCheck=function(e){return this.request("files/create_folder_batch/check",e,"user","api","rpc","files.content.write")};T.filesDeleteV2=function(e){return this.request("files/delete_v2",e,"user","api","rpc","files.content.write")};T.filesDelete=function(e){return this.request("files/delete",e,"user","api","rpc","files.content.write")};T.filesDeleteBatch=function(e){return this.request("files/delete_batch",e,"user","api","rpc","files.content.write")};T.filesDeleteBatchCheck=function(e){return this.request("files/delete_batch/check",e,"user","api","rpc","files.content.write")};T.filesDownload=function(e){return this.request("files/download",e,"user","content","download","files.content.read")};T.filesDownloadZip=function(e){return this.request("files/download_zip",e,"user","content","download","files.content.read")};T.filesExport=function(e){return this.request("files/export",e,"user","content","download","files.content.read")};T.filesGetFileLockBatch=function(e){return this.request("files/get_file_lock_batch",e,"user","api","rpc","files.content.read")};T.filesGetMetadata=function(e){return this.request("files/get_metadata",e,"user","api","rpc","files.metadata.read")};T.filesGetPreview=function(e){return this.request("files/get_preview",e,"user","content","download","files.content.read")};T.filesGetTemporaryLink=function(e){return this.request("files/get_temporary_link",e,"user","api","rpc","files.content.read")};T.filesGetTemporaryUploadLink=function(e){return this.request("files/get_temporary_upload_link",e,"user","api","rpc","files.content.write")};T.filesGetThumbnail=function(e){return this.request("files/get_thumbnail",e,"user","content","download","files.content.read")};T.filesGetThumbnailV2=function(e){return this.request("files/get_thumbnail_v2",e,"app, user","content","download","files.content.read")};T.filesGetThumbnailBatch=function(e){return this.request("files/get_thumbnail_batch",e,"user","content","rpc","files.content.read")};T.filesListFolder=function(e){return this.request("files/list_folder",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderContinue=function(e){return this.request("files/list_folder/continue",e,"app, user","api","rpc","files.metadata.read")};T.filesListFolderGetLatestCursor=function(e){return this.request("files/list_folder/get_latest_cursor",e,"user","api","rpc","files.metadata.read")};T.filesListFolderLongpoll=function(e){return this.request("files/list_folder/longpoll",e,"noauth","notify","rpc","files.metadata.read")};T.filesListRevisions=function(e){return this.request("files/list_revisions",e,"user","api","rpc","files.metadata.read")};T.filesLockFileBatch=function(e){return this.request("files/lock_file_batch",e,"user","api","rpc","files.content.write")};T.filesMoveV2=function(e){return this.request("files/move_v2",e,"user","api","rpc","files.content.write")};T.filesMove=function(e){return this.request("files/move",e,"user","api","rpc","files.content.write")};T.filesMoveBatchV2=function(e){return this.request("files/move_batch_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatch=function(e){return this.request("files/move_batch",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheckV2=function(e){return this.request("files/move_batch/check_v2",e,"user","api","rpc","files.content.write")};T.filesMoveBatchCheck=function(e){return this.request("files/move_batch/check",e,"user","api","rpc","files.content.write")};T.filesPaperCreate=function(e){return this.request("files/paper/create",e,"user","api","upload","files.content.write")};T.filesPaperUpdate=function(e){return this.request("files/paper/update",e,"user","api","upload","files.content.write")};T.filesPermanentlyDelete=function(e){return this.request("files/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.filesPropertiesAdd=function(e){return this.request("files/properties/add",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesOverwrite=function(e){return this.request("files/properties/overwrite",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesRemove=function(e){return this.request("files/properties/remove",e,"user","api","rpc","files.metadata.write")};T.filesPropertiesTemplateGet=function(e){return this.request("files/properties/template/get",e,"user","api","rpc","files.metadata.read")};T.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")};T.filesPropertiesUpdate=function(e){return this.request("files/properties/update",e,"user","api","rpc","files.metadata.write")};T.filesRestore=function(e){return this.request("files/restore",e,"user","api","rpc","files.content.write")};T.filesSaveUrl=function(e){return this.request("files/save_url",e,"user","api","rpc","files.content.write")};T.filesSaveUrlCheckJobStatus=function(e){return this.request("files/save_url/check_job_status",e,"user","api","rpc","files.content.write")};T.filesSearch=function(e){return this.request("files/search",e,"user","api","rpc","files.metadata.read")};T.filesSearchV2=function(e){return this.request("files/search_v2",e,"user","api","rpc","files.metadata.read")};T.filesSearchContinueV2=function(e){return this.request("files/search/continue_v2",e,"user","api","rpc","files.metadata.read")};T.filesTagsAdd=function(e){return this.request("files/tags/add",e,"user","api","rpc","files.metadata.write")};T.filesTagsGet=function(e){return this.request("files/tags/get",e,"user","api","rpc","files.metadata.read")};T.filesTagsRemove=function(e){return this.request("files/tags/remove",e,"user","api","rpc","files.metadata.write")};T.filesUnlockFileBatch=function(e){return this.request("files/unlock_file_batch",e,"user","api","rpc","files.content.write")};T.filesUpload=function(e){return this.request("files/upload",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppendV2=function(e){return this.request("files/upload_session/append_v2",e,"user","content","upload","files.content.write")};T.filesUploadSessionAppend=function(e){return this.request("files/upload_session/append",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinish=function(e){return this.request("files/upload_session/finish",e,"user","content","upload","files.content.write")};T.filesUploadSessionFinishBatch=function(e){return this.request("files/upload_session/finish_batch",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchV2=function(e){return this.request("files/upload_session/finish_batch_v2",e,"user","api","rpc","files.content.write")};T.filesUploadSessionFinishBatchCheck=function(e){return this.request("files/upload_session/finish_batch/check",e,"user","api","rpc","files.content.write")};T.filesUploadSessionStart=function(e){return this.request("files/upload_session/start",e,"user","content","upload","files.content.write")};T.filesUploadSessionStartBatch=function(e){return this.request("files/upload_session/start_batch",e,"user","api","rpc","files.content.write")};T.openidUserinfo=function(e){return this.request("openid/userinfo",e,"user","api","rpc","openid")};T.paperDocsArchive=function(e){return this.request("paper/docs/archive",e,"user","api","rpc","files.content.write")};T.paperDocsCreate=function(e){return this.request("paper/docs/create",e,"user","api","upload","files.content.write")};T.paperDocsDownload=function(e){return this.request("paper/docs/download",e,"user","api","download","files.content.read")};T.paperDocsFolderUsersList=function(e){return this.request("paper/docs/folder_users/list",e,"user","api","rpc","sharing.read")};T.paperDocsFolderUsersListContinue=function(e){return this.request("paper/docs/folder_users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsGetFolderInfo=function(e){return this.request("paper/docs/get_folder_info",e,"user","api","rpc","sharing.read")};T.paperDocsList=function(e){return this.request("paper/docs/list",e,"user","api","rpc","files.metadata.read")};T.paperDocsListContinue=function(e){return this.request("paper/docs/list/continue",e,"user","api","rpc","files.metadata.read")};T.paperDocsPermanentlyDelete=function(e){return this.request("paper/docs/permanently_delete",e,"user","api","rpc","files.permanent_delete")};T.paperDocsSharingPolicyGet=function(e){return this.request("paper/docs/sharing_policy/get",e,"user","api","rpc","sharing.read")};T.paperDocsSharingPolicySet=function(e){return this.request("paper/docs/sharing_policy/set",e,"user","api","rpc","sharing.write")};T.paperDocsUpdate=function(e){return this.request("paper/docs/update",e,"user","api","upload","files.content.write")};T.paperDocsUsersAdd=function(e){return this.request("paper/docs/users/add",e,"user","api","rpc","sharing.write")};T.paperDocsUsersList=function(e){return this.request("paper/docs/users/list",e,"user","api","rpc","sharing.read")};T.paperDocsUsersListContinue=function(e){return this.request("paper/docs/users/list/continue",e,"user","api","rpc","sharing.read")};T.paperDocsUsersRemove=function(e){return this.request("paper/docs/users/remove",e,"user","api","rpc","sharing.write")};T.paperFoldersCreate=function(e){return this.request("paper/folders/create",e,"user","api","rpc","files.content.write")};T.sharingAddFileMember=function(e){return this.request("sharing/add_file_member",e,"user","api","rpc","sharing.write")};T.sharingAddFolderMember=function(e){return this.request("sharing/add_folder_member",e,"user","api","rpc","sharing.write")};T.sharingCheckJobStatus=function(e){return this.request("sharing/check_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckRemoveMemberJobStatus=function(e){return this.request("sharing/check_remove_member_job_status",e,"user","api","rpc","sharing.write")};T.sharingCheckShareJobStatus=function(e){return this.request("sharing/check_share_job_status",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLink=function(e){return this.request("sharing/create_shared_link",e,"user","api","rpc","sharing.write")};T.sharingCreateSharedLinkWithSettings=function(e){return this.request("sharing/create_shared_link_with_settings",e,"user","api","rpc","sharing.write")};T.sharingGetFileMetadata=function(e){return this.request("sharing/get_file_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetFileMetadataBatch=function(e){return this.request("sharing/get_file_metadata/batch",e,"user","api","rpc","sharing.read")};T.sharingGetFolderMetadata=function(e){return this.request("sharing/get_folder_metadata",e,"user","api","rpc","sharing.read")};T.sharingGetSharedLinkFile=function(e){return this.request("sharing/get_shared_link_file",e,"user","content","download","sharing.read")};T.sharingGetSharedLinkMetadata=function(e){return this.request("sharing/get_shared_link_metadata",e,"app, user","api","rpc","sharing.read")};T.sharingGetSharedLinks=function(e){return this.request("sharing/get_shared_links",e,"user","api","rpc","sharing.read")};T.sharingListFileMembers=function(e){return this.request("sharing/list_file_members",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersBatch=function(e){return this.request("sharing/list_file_members/batch",e,"user","api","rpc","sharing.read")};T.sharingListFileMembersContinue=function(e){return this.request("sharing/list_file_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembers=function(e){return this.request("sharing/list_folder_members",e,"user","api","rpc","sharing.read")};T.sharingListFolderMembersContinue=function(e){return this.request("sharing/list_folder_members/continue",e,"user","api","rpc","sharing.read")};T.sharingListFolders=function(e){return this.request("sharing/list_folders",e,"user","api","rpc","sharing.read")};T.sharingListFoldersContinue=function(e){return this.request("sharing/list_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListMountableFolders=function(e){return this.request("sharing/list_mountable_folders",e,"user","api","rpc","sharing.read")};T.sharingListMountableFoldersContinue=function(e){return this.request("sharing/list_mountable_folders/continue",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFiles=function(e){return this.request("sharing/list_received_files",e,"user","api","rpc","sharing.read")};T.sharingListReceivedFilesContinue=function(e){return this.request("sharing/list_received_files/continue",e,"user","api","rpc","sharing.read")};T.sharingListSharedLinks=function(e){return this.request("sharing/list_shared_links",e,"user","api","rpc","sharing.read")};T.sharingModifySharedLinkSettings=function(e){return this.request("sharing/modify_shared_link_settings",e,"user","api","rpc","sharing.write")};T.sharingMountFolder=function(e){return this.request("sharing/mount_folder",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFileMembership=function(e){return this.request("sharing/relinquish_file_membership",e,"user","api","rpc","sharing.write")};T.sharingRelinquishFolderMembership=function(e){return this.request("sharing/relinquish_folder_membership",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember=function(e){return this.request("sharing/remove_file_member",e,"user","api","rpc","sharing.write")};T.sharingRemoveFileMember2=function(e){return this.request("sharing/remove_file_member_2",e,"user","api","rpc","sharing.write")};T.sharingRemoveFolderMember=function(e){return this.request("sharing/remove_folder_member",e,"user","api","rpc","sharing.write")};T.sharingRevokeSharedLink=function(e){return this.request("sharing/revoke_shared_link",e,"user","api","rpc","sharing.write")};T.sharingSetAccessInheritance=function(e){return this.request("sharing/set_access_inheritance",e,"user","api","rpc","sharing.write")};T.sharingShareFolder=function(e){return this.request("sharing/share_folder",e,"user","api","rpc","sharing.write")};T.sharingTransferFolder=function(e){return this.request("sharing/transfer_folder",e,"user","api","rpc","sharing.write")};T.sharingUnmountFolder=function(e){return this.request("sharing/unmount_folder",e,"user","api","rpc","sharing.write")};T.sharingUnshareFile=function(e){return this.request("sharing/unshare_file",e,"user","api","rpc","sharing.write")};T.sharingUnshareFolder=function(e){return this.request("sharing/unshare_folder",e,"user","api","rpc","sharing.write")};T.sharingUpdateFileMember=function(e){return this.request("sharing/update_file_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderMember=function(e){return this.request("sharing/update_folder_member",e,"user","api","rpc","sharing.write")};T.sharingUpdateFolderPolicy=function(e){return this.request("sharing/update_folder_policy",e,"user","api","rpc","sharing.write")};T.teamDevicesListMemberDevices=function(e){return this.request("team/devices/list_member_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListMembersDevices=function(e){return this.request("team/devices/list_members_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesListTeamDevices=function(e){return this.request("team/devices/list_team_devices",e,"team","api","rpc","sessions.list")};T.teamDevicesRevokeDeviceSession=function(e){return this.request("team/devices/revoke_device_session",e,"team","api","rpc","sessions.modify")};T.teamDevicesRevokeDeviceSessionBatch=function(e){return this.request("team/devices/revoke_device_session_batch",e,"team","api","rpc","sessions.modify")};T.teamFeaturesGetValues=function(e){return this.request("team/features/get_values",e,"team","api","rpc","team_info.read")};T.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")};T.teamGroupsCreate=function(e){return this.request("team/groups/create",e,"team","api","rpc","groups.write")};T.teamGroupsDelete=function(e){return this.request("team/groups/delete",e,"team","api","rpc","groups.write")};T.teamGroupsGetInfo=function(e){return this.request("team/groups/get_info",e,"team","api","rpc","groups.read")};T.teamGroupsJobStatusGet=function(e){return this.request("team/groups/job_status/get",e,"team","api","rpc","groups.write")};T.teamGroupsList=function(e){return this.request("team/groups/list",e,"team","api","rpc","groups.read")};T.teamGroupsListContinue=function(e){return this.request("team/groups/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersAdd=function(e){return this.request("team/groups/members/add",e,"team","api","rpc","groups.write")};T.teamGroupsMembersList=function(e){return this.request("team/groups/members/list",e,"team","api","rpc","groups.read")};T.teamGroupsMembersListContinue=function(e){return this.request("team/groups/members/list/continue",e,"team","api","rpc","groups.read")};T.teamGroupsMembersRemove=function(e){return this.request("team/groups/members/remove",e,"team","api","rpc","groups.write")};T.teamGroupsMembersSetAccessType=function(e){return this.request("team/groups/members/set_access_type",e,"team","api","rpc","groups.write")};T.teamGroupsUpdate=function(e){return this.request("team/groups/update",e,"team","api","rpc","groups.write")};T.teamLegalHoldsCreatePolicy=function(e){return this.request("team/legal_holds/create_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsGetPolicy=function(e){return this.request("team/legal_holds/get_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisions=function(e){return this.request("team/legal_holds/list_held_revisions",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListHeldRevisionsContinue=function(e){return this.request("team/legal_holds/list_held_revisions_continue",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsListPolicies=function(e){return this.request("team/legal_holds/list_policies",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsReleasePolicy=function(e){return this.request("team/legal_holds/release_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLegalHoldsUpdatePolicy=function(e){return this.request("team/legal_holds/update_policy",e,"team","api","rpc","team_data.governance.write")};T.teamLinkedAppsListMemberLinkedApps=function(e){return this.request("team/linked_apps/list_member_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListMembersLinkedApps=function(e){return this.request("team/linked_apps/list_members_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsListTeamLinkedApps=function(e){return this.request("team/linked_apps/list_team_linked_apps",e,"team","api","rpc","sessions.list")};T.teamLinkedAppsRevokeLinkedApp=function(e){return this.request("team/linked_apps/revoke_linked_app",e,"team","api","rpc","sessions.modify")};T.teamLinkedAppsRevokeLinkedAppBatch=function(e){return this.request("team/linked_apps/revoke_linked_app_batch",e,"team","api","rpc","sessions.modify")};T.teamMemberSpaceLimitsExcludedUsersAdd=function(e){return this.request("team/member_space_limits/excluded_users/add",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsExcludedUsersList=function(e){return this.request("team/member_space_limits/excluded_users/list",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersListContinue=function(e){return this.request("team/member_space_limits/excluded_users/list/continue",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsExcludedUsersRemove=function(e){return this.request("team/member_space_limits/excluded_users/remove",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsGetCustomQuota=function(e){return this.request("team/member_space_limits/get_custom_quota",e,"team","api","rpc","members.read")};T.teamMemberSpaceLimitsRemoveCustomQuota=function(e){return this.request("team/member_space_limits/remove_custom_quota",e,"team","api","rpc","members.write")};T.teamMemberSpaceLimitsSetCustomQuota=function(e){return this.request("team/member_space_limits/set_custom_quota",e,"team","api","rpc","members.read")};T.teamMembersAddV2=function(e){return this.request("team/members/add_v2",e,"team","api","rpc","members.write")};T.teamMembersAdd=function(e){return this.request("team/members/add",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGetV2=function(e){return this.request("team/members/add/job_status/get_v2",e,"team","api","rpc","members.write")};T.teamMembersAddJobStatusGet=function(e){return this.request("team/members/add/job_status/get",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhotoV2=function(e){return this.request("team/members/delete_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersDeleteProfilePhoto=function(e){return this.request("team/members/delete_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")};T.teamMembersGetInfoV2=function(e){return this.request("team/members/get_info_v2",e,"team","api","rpc","members.read")};T.teamMembersGetInfo=function(e){return this.request("team/members/get_info",e,"team","api","rpc","members.read")};T.teamMembersListV2=function(e){return this.request("team/members/list_v2",e,"team","api","rpc","members.read")};T.teamMembersList=function(e){return this.request("team/members/list",e,"team","api","rpc","members.read")};T.teamMembersListContinueV2=function(e){return this.request("team/members/list/continue_v2",e,"team","api","rpc","members.read")};T.teamMembersListContinue=function(e){return this.request("team/members/list/continue",e,"team","api","rpc","members.read")};T.teamMembersMoveFormerMemberFiles=function(e){return this.request("team/members/move_former_member_files",e,"team","api","rpc","members.write")};T.teamMembersMoveFormerMemberFilesJobStatusCheck=function(e){return this.request("team/members/move_former_member_files/job_status/check",e,"team","api","rpc","members.write")};T.teamMembersRecover=function(e){return this.request("team/members/recover",e,"team","api","rpc","members.delete")};T.teamMembersRemove=function(e){return this.request("team/members/remove",e,"team","api","rpc","members.delete")};T.teamMembersRemoveJobStatusGet=function(e){return this.request("team/members/remove/job_status/get",e,"team","api","rpc","members.delete")};T.teamMembersSecondaryEmailsAdd=function(e){return this.request("team/members/secondary_emails/add",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsDelete=function(e){return this.request("team/members/secondary_emails/delete",e,"team","api","rpc","members.write")};T.teamMembersSecondaryEmailsResendVerificationEmails=function(e){return this.request("team/members/secondary_emails/resend_verification_emails",e,"team","api","rpc","members.write")};T.teamMembersSendWelcomeEmail=function(e){return this.request("team/members/send_welcome_email",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissionsV2=function(e){return this.request("team/members/set_admin_permissions_v2",e,"team","api","rpc","members.write")};T.teamMembersSetAdminPermissions=function(e){return this.request("team/members/set_admin_permissions",e,"team","api","rpc","members.write")};T.teamMembersSetProfileV2=function(e){return this.request("team/members/set_profile_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfile=function(e){return this.request("team/members/set_profile",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhotoV2=function(e){return this.request("team/members/set_profile_photo_v2",e,"team","api","rpc","members.write")};T.teamMembersSetProfilePhoto=function(e){return this.request("team/members/set_profile_photo",e,"team","api","rpc","members.write")};T.teamMembersSuspend=function(e){return this.request("team/members/suspend",e,"team","api","rpc","members.write")};T.teamMembersUnsuspend=function(e){return this.request("team/members/unsuspend",e,"team","api","rpc","members.write")};T.teamNamespacesList=function(e){return this.request("team/namespaces/list",e,"team","api","rpc","team_data.member")};T.teamNamespacesListContinue=function(e){return this.request("team/namespaces/list/continue",e,"team","api","rpc","team_data.member")};T.teamPropertiesTemplateAdd=function(e){return this.request("team/properties/template/add",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateGet=function(e){return this.request("team/properties/template/get",e,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")};T.teamPropertiesTemplateUpdate=function(e){return this.request("team/properties/template/update",e,"team","api","rpc","files.team_metadata.write")};T.teamReportsGetActivity=function(e){return this.request("team/reports/get_activity",e,"team","api","rpc","team_info.read")};T.teamReportsGetDevices=function(e){return this.request("team/reports/get_devices",e,"team","api","rpc","team_info.read")};T.teamReportsGetMembership=function(e){return this.request("team/reports/get_membership",e,"team","api","rpc","team_info.read")};T.teamReportsGetStorage=function(e){return this.request("team/reports/get_storage",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistAdd=function(e){return this.request("team/sharing_allowlist/add",e,"team","api","rpc","team_info.write")};T.teamSharingAllowlistList=function(e){return this.request("team/sharing_allowlist/list",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistListContinue=function(e){return this.request("team/sharing_allowlist/list/continue",e,"team","api","rpc","team_info.read")};T.teamSharingAllowlistRemove=function(e){return this.request("team/sharing_allowlist/remove",e,"team","api","rpc","team_info.write")};T.teamTeamFolderActivate=function(e){return this.request("team/team_folder/activate",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchive=function(e){return this.request("team/team_folder/archive",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderArchiveCheck=function(e){return this.request("team/team_folder/archive/check",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderCreate=function(e){return this.request("team/team_folder/create",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderGetInfo=function(e){return this.request("team/team_folder/get_info",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderList=function(e){return this.request("team/team_folder/list",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderListContinue=function(e){return this.request("team/team_folder/list/continue",e,"team","api","rpc","team_data.content.read")};T.teamTeamFolderPermanentlyDelete=function(e){return this.request("team/team_folder/permanently_delete",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderRename=function(e){return this.request("team/team_folder/rename",e,"team","api","rpc","team_data.content.write")};T.teamTeamFolderUpdateSyncSettings=function(e){return this.request("team/team_folder/update_sync_settings",e,"team","api","rpc","team_data.content.write")};T.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")};T.teamLogGetEvents=function(e){return this.request("team_log/get_events",e,"team","api","rpc","events.read")};T.teamLogGetEventsContinue=function(e){return this.request("team_log/get_events/continue",e,"team","api","rpc","events.read")};T.usersFeaturesGetValues=function(e){return this.request("users/features/get_values",e,"user","api","rpc","account_info.read")};T.usersGetAccount=function(e){return this.request("users/get_account",e,"user","api","rpc","sharing.read")};T.usersGetAccountBatch=function(e){return this.request("users/get_account_batch",e,"user","api","rpc","sharing.read")};T.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")};T.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};function XL(e){var t="000".concat(e.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(t)}var Yd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wc,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";return r?(n!==Wc&&Ih[t]!==void 0&&(t=Ih[t],r="-"),"https://".concat(t).concat(r).concat(n,"/2/")):"https://".concat(n,"/2/")},ZL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kv;return t!==Kv&&(t="meta-".concat(t)),"https://".concat(t,"/oauth2/authorize")},Yv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wc,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r="api";return t!==Wc&&(r=Ih[r],n="-"),"https://".concat(r).concat(n).concat(t,"/oauth2/token")};function Qv(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,XL)}function JL(e){return new Date(Date.now()+e*1e3)}function Xv(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof cD>"u"||typeof window<"u"}function Qd(){return typeof window<"u"}function Xd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Ll(e){var t=e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return t}function ic(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ic=function(n){return typeof n}:ic=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ic(e)}function ej(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}function nj(e){var t=lE();return function(){var r=Ma(e),o;if(t){var s=Ma(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return rj(this,o)}}function rj(e,t){return t&&(ic(t)==="object"||typeof t=="function")?t:oj(e)}function oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _h(e){var t=typeof Map=="function"?new Map:void 0;return _h=function(r){if(r===null||!sj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return ac(r,arguments,Ma(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ra(o,r)},_h(e)}function ac(e,t,n){return lE()?ac=Reflect.construct:ac=function(o,s,i){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return i&&Ra(c,i.prototype),c},ac.apply(null,arguments)}function lE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function sj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ra(e,t){return Ra=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ra(e,t)}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ma(e)}var ij=function(e){tj(n,e);var t=nj(n);function n(r,o,s){var i;return ej(this,n),i=t.call(this,"Response failed with a ".concat(r," code")),i.name="DropboxResponseError",i.status=r,i.headers=o,i.error=s,i}return n}(_h(Error));function aj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var cE=function e(t,n,r){aj(this,e),this.status=t,this.headers=n,this.result=r};function uE(e){return e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}throw new ij(e.status,e.headers,n)})}function Hc(e){return e.ok?e.text().then(function(t){var n;try{n=JSON.parse(t)}catch{n=t}return new cE(e.status,e.headers,n)}):uE(e)}function lj(e){return e.ok?new Promise(function(t){Xv()?e.blob().then(function(n){return t(n)}):e.buffer().then(function(n){return t(n)})}).then(function(t){var n=JSON.parse(e.headers.get("dropbox-api-result"));return Xv()?n.fileBlob=t:n.fileBinary=t,new cE(e.status,e.headers,n)}):uE(e)}function cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dj(e,t,n){return t&&uj(e.prototype,t),e}var jl,Io,Zd,fj=300*1e3,Zv=128,hj=["legacy","offline","online"],pj=["code","token"],mj=["none","user","team"],dE=function(){function e(t){cj(this,e),t=t||{},Qd()?(jl=window.fetch.bind(window),Io=window.crypto||window.msCrypto):Xd()?(jl=self.fetch.bind(self),Io=self.crypto):(jl=require("node-fetch"),Io=require("crypto")),typeof TextEncoder>"u"?Zd=require("util").TextEncoder:Zd=TextEncoder,this.fetch=t.fetch||jl,this.accessToken=t.accessToken,this.accessTokenExpiresAt=t.accessTokenExpiresAt,this.refreshToken=t.refreshToken,this.clientId=t.clientId,this.clientSecret=t.clientSecret,this.domain=t.domain,this.domainDelimiter=t.domainDelimiter,this.customHeaders=t.customHeaders,this.dataOnBody=t.dataOnBody}return dj(e,[{key:"setAccessToken",value:function(n){this.accessToken=n}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(n){this.clientId=n}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(n){this.clientSecret=n}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(n){this.refreshToken=n}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(n){this.accessTokenExpiresAt=n}},{key:"setCodeVerifier",value:function(n){this.codeVerifier=n}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var n=this,r=new Zd,o=r.encode(this.codeVerifier),s;if(Qd()||Xd())return Io.subtle.digest("SHA-256",o).then(function(a){var l=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));s=Ll(l).substr(0,128),n.codeChallenge=s});var i=Io.createHash("sha256").update(o).digest();return s=Ll(i),this.codeChallenge=s,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var n;if(Qd()||Xd()){var r=new Uint8Array(Zv),o=Io.getRandomValues(r),s=btoa(o);n=Ll(s).substr(0,128)}else{var i=Io.randomBytes(Zv);n=Ll(i).substr(0,128)}return this.codeVerifier=n,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"token",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=this.getClientId(),u=ZL(this.domain);if(!d)throw new Error("A client id is required. You can set the client id using .setClientId().");if(s!=="code"&&!n)throw new Error("A redirect uri is required.");if(!pj.includes(s))throw new Error("Authorization type must be code or token");if(i&&!hj.includes(i))throw new Error("Token Access Type must be legacy, offline, or online");if(a&&!(a instanceof Array))throw new Error("Scope must be an array of strings");if(!mj.includes(l))throw new Error("includeGrantedScopes must be none, user, or team");var h;return s==="code"?h="".concat(u,"?response_type=code&client_id=").concat(d):h="".concat(u,"?response_type=token&client_id=").concat(d),n&&(h+="&redirect_uri=".concat(n)),r&&(h+="&state=".concat(r)),i&&(h+="&token_access_type=".concat(i)),a&&(h+="&scope=".concat(a.join(" "))),l!=="none"&&(h+="&include_granted_scopes=".concat(l)),c?this.generatePKCECodes().then(function(){return h+="&code_challenge_method=S256",h+="&code_challenge=".concat(o.codeChallenge),h}):Promise.resolve(h)}},{key:"getAccessTokenFromCode",value:function(n,r){var o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");var i=Yv(this.domain,this.domainDelimiter);if(i+="?grant_type=authorization_code",i+="&code=".concat(r),i+="&client_id=".concat(o),s)i+="&client_secret=".concat(s);else{if(!this.codeVerifier)throw new Error("You must use PKCE when generating the authorization URL to not include a client secret");i+="&code_verifier=".concat(this.codeVerifier)}n&&(i+="&redirect_uri=".concat(n));var a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.fetch(i,a).then(function(l){return Hc(l)})}},{key:"checkAndRefreshAccessToken",value:function(){var n=this.getRefreshToken()&&this.getClientId(),r=!this.getAccessTokenExpiresAt()||new Date(Date.now()+fj)>=this.getAccessTokenExpiresAt(),o=!this.getAccessToken();return(r||o)&&n?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this.getClientId(),s=this.getClientSecret();if(!o)throw new Error("A client id is required. You can set the client id using .setClientId().");if(r&&!(r instanceof Array))throw new Error("Scope must be an array of strings");var i=Yv(this.domain,this.domainDelimiter),a={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var l={grant_type:"refresh_token",client_id:o,refresh_token:this.getRefreshToken()};s&&(l.client_secret=s),r&&(l.scope=r.join(" ")),a.body=l}else i+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),i+="&client_id=".concat(o),s&&(i+="&client_secret=".concat(s)),r&&(i+="&scope=".concat(r.join(" ")));return this.fetch(i,a).then(function(c){return Hc(c)}).then(function(c){n.setAccessToken(c.result.access_token),n.setAccessTokenExpiresAt(JL(c.result.expires_in))})}}]),e}();function gj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vj(e,t,n){return t&&yj(e.prototype,t),e}var wj=typeof btoa>"u"?function(e){return Buffer.from(e).toString("base64")}:btoa,Jv=function(){function e(t){gj(this,e),t=t||{},t.auth?this.auth=t.auth:this.auth=new dE(t),this.fetch=t.fetch||this.auth.fetch,this.selectUser=t.selectUser,this.selectAdmin=t.selectAdmin,this.pathRoot=t.pathRoot,this.domain=t.domain||this.auth.domain,this.domainDelimiter=t.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=t.customHeaders||this.auth.customHeaders,Object.assign(this,T)}return vj(e,[{key:"request",value:function(n,r,o,s,i){switch(i){case HL:return this.rpcRequest(n,r,o,s);case KL:return this.downloadRequest(n,r,o,s);case GL:return this.uploadRequest(n,r,o,s);default:throw new Error("Invalid request style: ".concat(i))}}},{key:"rpcRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",body:r?JSON.stringify(r):null,headers:{}};return r&&(a.headers["Content-Type"]="application/json"),i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Yd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Hc(a)})}},{key:"downloadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a={method:"POST",headers:{"Dropbox-API-Arg":Qv(r)}};return i.setAuthHeaders(o,a),i.setCommonHeaders(a),a}).then(function(a){return i.fetch(Yd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return lj(a)})}},{key:"uploadRequest",value:function(n,r,o,s){var i=this;return this.auth.checkAndRefreshAccessToken().then(function(){var a=r.contents;delete r.contents;var l={body:a,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Qv(r)}};return i.setAuthHeaders(o,l),i.setCommonHeaders(l),l}).then(function(a){return i.fetch(Yd(s,i.domain,i.domainDelimiter)+n,a)}).then(function(a){return Hc(a)})}},{key:"setAuthHeaders",value:function(n,r){if(n.split(",").length>1){var o=n.replace(" ","").split(",");o.includes(Gd)&&this.auth.getAccessToken()?n=Gd:o.includes(Kd)&&this.auth.getAccessToken()?n=Kd:o.includes(Hd)&&(n=Hd)}switch(n){case Hd:if(this.auth.clientId&&this.auth.clientSecret){var s=wj("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));r.headers.Authorization="Basic ".concat(s)}break;case Kd:case Gd:this.auth.getAccessToken()&&(r.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case YL:case QL:break;default:throw new Error("Unhandled auth type: ".concat(n))}}},{key:"setCommonHeaders",value:function(n){var r=this;if(this.selectUser&&(n.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(n.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(n.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders){var o=Object.keys(this.customHeaders);o.forEach(function(s){n.headers[s]=r.customHeaders[s]})}}}]),e}();function xj(e){return e&&typeof e=="object"&&typeof e.status=="number"&&(e.status===401||e.status===400)&&typeof e.error=="object"}function Sj(){const[e,t]=f.useState(null),[n,r]=f.useState(!1),[o,s]=f.useState(!0),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),h=f.useCallback(()=>{v.log("Initiating Dropbox auth redirect."),c(null),s(!0);try{const b=new dE({clientId:CL}),m=window.location.origin+window.location.pathname;b.getAuthenticationUrl(m,void 0,"token").then(g=>{v.log("Generated auth URL, redirecting..."),window.location.href=String(g)}).catch(g=>{v.error("Dropbox auth URL generation failed:",g),c(new Error("Could not initiate Dropbox connection.")),s(!1)})}catch(b){v.error("Dropbox auth initialization failed:",b),c(new Error("Could not initialize Dropbox connection.")),s(!1)}},[]);f.useCallback(()=>{v.warn("Clearing stored token and redirecting to auth..."),localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),h()},[h]);const w=f.useCallback((b,m=!1)=>{v.log(`[useDropboxAuth initializeAndVerify] Verifying token... (Reverify attempt: ${m})`),!n&&!m?(v.log("[useDropboxAuth initializeAndVerify] Setting isLoadingAuth = true (initial attempt)."),s(!0)):m&&(v.log("[useDropboxAuth initializeAndVerify] Skipping isLoadingAuth = true (background re-verify)."),a(!0)),c(null);const g=new Jv({accessToken:b});let S=!0;return g.usersGetCurrentAccount().then(C=>{if(!S)return;const E=C.result;t(g),r(!0),u(E),c(null),v.log("[useDropboxAuth initializeAndVerify] Token verified. User:",E.name.display_name)}).catch(C=>{if(S)if(v.error("[useDropboxAuth initializeAndVerify] Token verification failed:",C),r(!1),t(null),u(null),xj(C))v.warn("[useDropboxAuth initializeAndVerify] Authentication error detected. Clearing token."),localStorage.removeItem("dropboxToken"),c(new Error("Dropbox session invalid. Please log in again."));else{v.warn("[useDropboxAuth initializeAndVerify] Non-authentication error during verification. Token kept.");const E=C instanceof Error?C.message:String(C);c(new Error(`Failed to verify Dropbox connection: ${E}`))}}).finally(()=>{S&&(v.log("[useDropboxAuth initializeAndVerify] Setting loading states false (finally)."),s(!1),m&&a(!1))}),()=>{S=!1}},[n]);f.useEffect(()=>{v.log("[useDropboxAuth useEffect] Running effect.");let b,g=new URLSearchParams(window.location.hash.substring(1)).get("access_token");const S=localStorage.getItem("dropboxToken");let C=null;return g?(v.log("[useDropboxAuth useEffect] Found access token in URL hash."),localStorage.setItem("dropboxToken",g),C=g,v.log("[useDropboxAuth useEffect] Clearing access token from URL hash."),window.history.replaceState({},document.title,window.location.pathname+window.location.search)):S&&(v.log("[useDropboxAuth useEffect] Found stored access token in localStorage."),C=S),C?b=w(C,!1):(v.log("[useDropboxAuth useEffect] No access token found."),r(!1),t(null),u(null),c(null),s(!1)),()=>{b==null||b(),v.log("[useDropboxAuth useEffect] Cleanup.")}},[w]);const y=f.useCallback(()=>{v.log("[useDropboxAuth tryVerifyStoredToken] Attempting explicit re-verification...");const b=localStorage.getItem("dropboxToken");b&&!n&&!o&&!i?w(b,!0):v.log("[useDropboxAuth tryVerifyStoredToken] Skipped. Conditions not met:",{storedToken:!!b,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i})},[n,o,i,w]);return{dbx:e,isAuthenticated:n,isLoadingAuth:o,isVerifyingInBackground:i,authError:l,userInfo:d,handleDropboxAuthRedirect:h,logout:()=>{v.log("Logging out.");const b=localStorage.getItem("dropboxToken");localStorage.removeItem("dropboxToken"),r(!1),t(null),u(null),c(null),s(!1),a(!1),b&&new Jv({accessToken:b}).authTokenRevoke().then(()=>v.log("Dropbox token revoked successfully.")).catch(g=>v.error("Failed to revoke Dropbox token:",g))},tryVerifyStoredToken:y}}function bj(e,t){const[n,r]=f.useState(e),[o,s]=f.useState(t),[i,a]=f.useState(0),[l,c]=f.useState(!1),d=f.useCallback((m,g)=>{const S=new Date(g,m-1),C=new Date(o,n-1);S>C?a(1):S<C?a(-1):a(0),r(m),s(g)},[n,o]),u=f.useCallback(()=>{let m=n,g=o;m===1?(g--,m=12):m--,d(m,g)},[n,o,d]),h=f.useCallback(()=>{let m=n,g=o;m===12?(g++,m=1):m++,d(m,g)},[n,o,d]),w=f.useCallback((m,g)=>{d(m,g),c(!1)},[d]),y=f.useCallback(m=>{m>0?h():m<0&&u()},[h,u]),x=f.useCallback(()=>c(!0),[]),b=f.useCallback(()=>c(!1),[]);return{currentMonth:n,currentYear:o,swipeDirection:i,isMonthYearPickerOpen:l,goToPreviousMonth:u,goToNextMonth:h,handleMonthYearSelect:w,handleCalendarSwipe:y,openMonthYearPicker:x,closeMonthYearPicker:b,setSwipeDirection:a}}function Cj(){const[e,t]=f.useState(!1),[n,r]=f.useState([]),[o,s]=f.useState(new Date),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=f.useCallback((y,x)=>{s(y),r(x),a(!1),t(!0)},[]),u=f.useCallback(y=>{c(y),a(!0)},[]),h=f.useCallback(()=>{t(!1),r([])},[]),w=f.useCallback(()=>{a(!1),c(null)},[]);return{isViewEntryModalOpen:e,selectedBasicEntriesForModal:n,entryDateForModal:o,openViewEntriesModal:d,closeViewModal:h,isDeleteDialogOpen:i,entryToDeleteId:l,openDeleteConfirmation:u,closeDeleteDialog:w}}const Jd=()=>window.location.hash.replace(/^#/,"").split(/[?&]/)[0]||"/",Nh=()=>{const[e,t]=f.useState(Jd());f.useEffect(()=>{const r=()=>{const o=Jd();o!==e&&t(o)};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[e]);const n=f.useCallback((r,{replace:o=!1}={})=>{const i=`#${r.startsWith("/")?r:`/${r}`}`,a=window.location.hash||"#/";i!==a&&(o?window.location.replace(i):window.location.hash=i)},[]);return f.useEffect(()=>{let r=window.location.hash;const o=setInterval(()=>{const s=window.location.hash;if(s!==r){const i=Jd();i!==e&&t(i),r=s}},250);return()=>{clearInterval(o)}},[e]),[e,n]},fE=f.createContext(void 0),Ej=({children:e})=>{const{toast:t}=Qa(),[,n]=Nh(),r=f.useRef(!0),o=Sj(),s=bj(new Date().getMonth()+1,new Date().getFullYear()),i=Cj(),[a,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(navigator.onLine),w=f.useRef(u),[y,x]=f.useState([]),[b,m]=f.useState(!1),[g,S]=f.useState([]),[C,E]=f.useState(!1),[P,k]=f.useState(null),[D,R]=f.useState(null),[A,N]=f.useState(null),[$,Q]=f.useState(!1),[j,X]=f.useState("calendar"),[_,L]=f.useState(null),[M,I]=f.useState(null),V=ao.getInstance(),[G,Z]=f.useState(!1),[Pe,K]=f.useState(0),[Je,le]=f.useState(null);f.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),f.useEffect(()=>{if(!c||!a)return;v.log("[AppContext] Setting up periodic storage check and pruning"),zd().catch(q=>{v.error("[AppContext] Periodic storage check/prune error:",q)});const B=setInterval(()=>{r.current&&(v.log("[AppContext] Running periodic storage check and pruning"),zd().catch(q=>{v.error("[AppContext] Periodic storage check/prune error:",q)}))},5*60*1e3);return()=>{clearInterval(B)}},[c,a]),f.useEffect(()=>{const B=()=>r.current&&h(!0),q=()=>r.current&&h(!1);return window.addEventListener("online",B),window.addEventListener("offline",q),v.log(`[AppContext] Initial network status: ${navigator.onLine?"ONLINE":"OFFLINE"}`),w.current=navigator.onLine,()=>{window.removeEventListener("online",B),window.removeEventListener("offline",q),V.revokeAllUrls()}},[V]),f.useEffect(()=>{!w.current&&u&&(v.log("[AppContext] Detected transition from offline to online."),!o.isAuthenticated&&!o.isLoadingAuth&&!o.isVerifyingInBackground?(v.log("[AppContext] Not authenticated and not loading/verifying, attempting token re-verification..."),o.tryVerifyStoredToken()):v.log("[AppContext] Skipping token re-verification.",{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth,isVerifyingInBackground:o.isVerifyingInBackground})),w.current=u},[u,o.isAuthenticated,o.isLoadingAuth,o.tryVerifyStoredToken,o.isVerifyingInBackground]),f.useEffect(()=>{const B=q=>{const Y=q;Y.message&&Y.message.includes("QuotaExceededError")&&(v.error("[AppContext] Storage quota exceeded. Attempting to free up space..."),qc(20).catch(pe=>{v.error("[AppContext] Failed to prune cache:",pe)})),Y.message&&Y.message.includes("IndexedDB")&&(v.error("[AppContext] IndexedDB error detected:",Y.message),t({title:"Database Error",description:"There was a problem with the app database. Please reload the page.",variant:"destructive"}))};return window.addEventListener("error",B),()=>{window.removeEventListener("error",B)}},[t]),f.useEffect(()=>{d(!1),o.isLoadingAuth?(v.log("[AppContext] Auth still loading, client not initialized yet."),l(null),d(!1)):(v.log("[AppContext] Auth loading finished. Initializing PhotoClient..."),(async()=>{try{const q=new Dm(o.dbx);q.on(Mh.ENTRIES_UPDATED,Y=>{v.log(`[AppContext] Entries updated event received for ${Y.year}-${Y.month}`),Y.year===s.currentYear&&Y.month===s.currentMonth&&(v.log("[AppContext] Updated entries are for current month, refreshing UI"),x(Y.entries))}),q.on(Mh.METADATA_UPDATED,Y=>{v.log("[AppContext] Metadata updated event received"),S(Y.metadata)}),l(q),d(!0),v.log("[AppContext] PhotoClient initialized with event listeners."),u&&o.isAuthenticated&&(v.log("[AppContext] Triggering background deletion sync with Dropbox..."),q.syncDeletionsFromDropbox().catch(Y=>{v.error("[AppContext] Background deletion sync failed:",Y)})),await $L(),E(!0),N(null);try{const Y=await q.fetchImagesMetadata(u);r.current&&S(Y),v.log(`[AppContext] Initial metadata fetch/load success. Count: ${Y.length}`)}catch(Y){v.error("[AppContext] Err fetch/load initial metadata:",Y),r.current&&N(Y instanceof Error?Y:new Error("Failed metadata load"))}finally{r.current&&E(!1)}zd().catch(Y=>{v.error("[AppContext] Initial storage check/prune error:",Y)})}catch(q){v.error("[AppContext] Failed to initialize PhotoJournalClient:",q),l(null),d(!1),t({title:"Client Error",description:"Failed to initialize the application. Please try again.",variant:"destructive"})}})())},[o.isLoadingAuth,o.dbx,u]),f.useEffect(()=>{if(c&&a){m(!0),k(null);const B=s.currentYear,q=s.currentMonth;v.log(`[AppContext] Fetching entries effect triggered for ${B}-${q+1}. Online: ${u}`),a.fetchEntriesForMonth(B,q,u).then(Y=>{v.log(`[AppContext] Fetched/Loaded ${Y.length} entries for ${B}-${q+1}`),r.current&&(x(Y),u&&o.isAuthenticated&&a.triggerPrefetch(B,q,u))}).catch(Y=>{v.error(`[AppContext] Err fetch/load entries for ${B}-${q+1}:`,Y),r.current&&k(Y instanceof Error?Y:new Error("Failed entries load"))}).finally(()=>{v.log(`[AppContext] Finished fetching/loading entries for ${B}-${q+1}. isLoadingEntries: false`),r.current&&m(!1)})}else x([]),m(!1),k(null),v.log("[AppContext] Client not ready, skipping entry fetch.")},[c,a,s.currentYear,s.currentMonth,u,o.isAuthenticated]),f.useCallback(()=>{V.revokeAllUrls(),o.logout(),L(null),I(null),x([]),S([]),l(null),d(!1)},[o,V]),f.useEffect(()=>{R(null)},[o.isAuthenticated,o.dbx,s.currentYear,s.currentMonth]),f.useEffect(()=>{o.authError&&t({title:"Auth Error",description:o.authError.message,variant:"destructive"})},[o.authError,t]),f.useEffect(()=>{A&&t({title:"Metadata Error",description:A.message,variant:"destructive"})},[A,t]),f.useEffect(()=>{P&&t({title:"Entries Error",description:P.message,variant:"destructive"})},[P,t]),f.useEffect(()=>{D&&t({title:"Operation Error",description:D.message,variant:"destructive"})},[D,t]),f.useEffect(()=>{const B=window.location.hash,q=B.match(/shareKey=([\w-]+)/);if(q&&q[1]){const Y=q[1];v.log(`[App Context] Share detected via hash, setting shareKeyToProcess: ${Y}`),I(Y),n("/",{replace:!0})}else B.includes("/phojo/")&&(v.log(`[App Context] Detected incorrect hash path: ${B}, redirecting to root`),n("/",{replace:!0}))},[n]),f.useEffect(()=>{const B=q=>{if(navigator.serviceWorker.controller){const Y={type:"GET_STORED_FILES",key:q};v.log(`[App Context] Sending GET_STORED_FILES message to service worker with key: ${q}`),navigator.serviceWorker.controller.postMessage(Y),I(null),v.log("[App Context] Set shareKeyToProcess to null after message sent")}else v.warn(`[App Context] SW controller not ready for key: ${q}`)};M&&(v.log(`[App Context] Processing shareKeyToProcess: ${M}`),navigator.serviceWorker.controller?(v.log("[App Context] Service worker controller available, requesting files immediately"),B(M)):(v.log("[App Context] Service worker controller not available, waiting for ready event"),navigator.serviceWorker.ready.then(q=>{q.active&&M?(v.log("[App Context] Service worker now active, requesting files"),B(M)):q.active?v.warn("[App Context] shareKeyToProcess no longer available after SW ready"):v.error("[App Context] Service worker not active after ready.")})))},[M]),f.useEffect(()=>{const B=pe=>{const ce=pe.data;if(!ce){v.warn("[App Context] Received SW message with no data");return}v.log(`[App Context] Received SW message of type: ${ce.type}`,{key:ce.key,filesCount:ce.files?ce.files.length:"none",error:ce.error||"none"}),ce.type==="SHARED_FILES_READY"&&ce.key?(v.log(`[App Context] Processing SHARED_FILES_READY with key: ${ce.key}`),navigator.serviceWorker.controller?(v.log("[App Context] Sending GET_STORED_FILES message to service worker"),navigator.serviceWorker.controller.postMessage({type:"GET_STORED_FILES",key:ce.key})):(v.error("[App Context] SW Controller not available for SHARED_FILES_READY."),t({title:"Share Error",description:"Service unavailable.",variant:"destructive"}))):ce.type==="STORED_FILES_DATA"&&ce.files?ce.files.length>0?(v.log(`[App Context] Received ${ce.files.length} shared files:`,{types:ce.files.map(Ce=>Ce.type),sizes:ce.files.map(Ce=>Ce.size),names:ce.files.map(Ce=>Ce.name)}),v.log("[App Context] Setting pendingSharedFiles with received files"),L(ce.files)):(v.warn("[App Context] Received STORED_FILES_DATA with empty files array."),t({title:"Share Info",description:"No shared files found to process.",variant:"default"})):ce.type==="STORED_FILES_ERROR"&&(v.error("[App Context] Received STORED_FILES_ERROR:",ce.error),t({title:"Share Error",description:`Failed to retrieve shared files: ${ce.error||"Unknown error"}`,variant:"destructive"}))},q=pe=>{r.current&&B(pe)};let Y=!1;return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(pe=>{pe.active&&r.current?(navigator.serviceWorker.addEventListener("message",q),Y=!0,v.log("[App Context] Service worker message listener attached.")):v.warn("[App Context] Service worker not active or component unmounted, listener not attached.")}),()=>{if(Y&&"serviceWorker"in navigator){v.log("[App Context] Removing service worker message listener.");try{navigator.serviceWorker.removeEventListener("message",q)}catch(pe){v.warn("[App Context] Error removing SW message listener:",pe)}}}},[t]),f.useEffect(()=>{_&&v.log(`[AppContext] pendingSharedFiles state changed: ${_?_.length:"null"} files`,{isAuthenticated:o.isAuthenticated,isLoadingAuth:o.isLoadingAuth}),v.log(`[AppContext] processing shared files, current url is ${window.location.href}`),!o.isLoadingAuth&&_&&_.length>0&&(v.log(`[AppContext] Pending shared files ready for processing: ${_.length} files, navigating to /entry/new`),n("/entry/new"))},[o.isLoadingAuth,_,n]);const he=f.useCallback(()=>{v.log("[AppContext] Clearing pendingSharedFiles"),L(null)},[]),Ve=f.useCallback(B=>{if(navigator.serviceWorker.controller){const q={type:"DELETE_STORED_FILES",key:B};v.log(`[App Context] Sending DELETE_STORED_FILES message to service worker with key: ${B}`),navigator.serviceWorker.controller.postMessage(q)}else v.warn(`[App Context] Cannot delete files - SW controller not available for key: ${B}`)},[]),Ie=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoBlobUrl(B,q,u)}catch(Y){return v.error(`getPhotoBlobUrl Error for hash ${B} (ID ${q}):`,Y),null}},[a,c,u]),Ge=f.useCallback(async(B,q)=>{if(!c||!a||!B)return null;try{return await a.getPhotoThumbnailUrl(B,q,u)}catch(Y){return v.error(`getPhotoThumbnailUrl Error for hash ${B} (ID ${q}):`,Y),null}},[a,c,u]),Ae=f.useCallback(async B=>{if(!c||!a)throw new Error("Client not ready");let q=[];try{q=await a.fetchImagesMetadata(u),r.current&&g.length===0&&q.length>0&&S(q)}catch(ce){v.error("getCombinedEntryDetails: Failed to fetch/refresh metadata:",ce),q=g}const Y=(B.photos||[]).map(async ce=>{let Ce=null,qe=null;const _e=q.find(ne=>ne.id===ce.photoId),O=(_e==null?void 0:_e.photoMetadata)??null,F=(_e==null?void 0:_e.photoFilename)??null,W=O==null?void 0:O.contentHash;if(!W)v.warn(`Metadata or contentHash missing for photoId: ${ce.photoId}`);else{const[ne,de]=await Promise.all([Ie(W,ce.photoId),Ge(W,ce.photoId)]);Ce=ne,qe=de}return{...ce,photoUrl:Ce,thumbnailUrl:qe,photoMetadata:O,photoFilename:F}}),pe=await Promise.all(Y);return{...B,photos:pe}},[a,c,g,u,Ie]),z=f.useCallback(async()=>{if(j!=="calendar"||!r.current||!c||!a)return;let B=0;const q=3;let Y=document.querySelectorAll(".day-with-image");for(;Y.length===0&&B<q;){v.log(`[loadDayBackgrounds] No day elements found, retrying (${B+1}/${q})...`);const F=200*Math.pow(2,B);await new Promise(W=>setTimeout(W,F)),Y=document.querySelectorAll(".day-with-image"),B++}if(y.length===0||Y.length===0){v.warn("[loadDayBackgrounds] No entries or day elements after retries, aborting.");return}const pe=new Map;y.forEach(F=>{if(F.photos&&F.photos.length>0){const W=pe.get(F.date),ne=F.createdAt instanceof Date?F.createdAt:new Date(F.createdAt),de=(W==null?void 0:W.createdAt)instanceof Date?W.createdAt:new Date(0);(!W||ne.getTime()>de.getTime())&&pe.set(F.date,F)}});let ce=[];try{ce=await a.fetchImagesMetadata(u),r.current&&g.length===0&&ce.length>0&&S(ce)}catch(F){v.error("[loadDayBackgrounds] Failed fetch/load metadata:",F),ce=g}const Ce=(F,W,ne)=>{var Ye;if(!r.current)return;const de=W.crop,me=ne==null?void 0:ne.width,Se=ne==null?void 0:ne.height,Re=(Ye=F.parentElement)==null?void 0:Ye.getBoundingClientRect(),Ke=(Re==null?void 0:Re.width)??0;if(de&&me&&Se&&me>0&&Se>0&&de.w>0&&Ke>0){const Qe=Ke/de.w,St=me*Qe,Ot=Se*Qe,_t=-de.x*Qe,mt=-de.y*Qe;Object.assign(F.style,{width:`${St}px`,height:`${Ot}px`,transform:`translate(${_t}px, ${mt}px)`,objectFit:"initial",objectPosition:"initial",opacity:""})}else Object.assign(F.style,{width:"100%",height:"100%",transform:"",objectFit:"cover",objectPosition:"center center",opacity:""});requestAnimationFrame(()=>{r.current&&F.classList.add("img-loaded")})},qe=F=>{F.src&&F.src.startsWith("blob:")&&V.revokeUrl(F.getAttribute("data-content-hash")??""),F.removeAttribute("src"),Object.assign(F.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),F.classList.remove("img-loaded"),F.removeAttribute("data-photo-id"),F.removeAttribute("data-content-hash")},_e=new Set;Y.forEach(F=>{var Re,Ke;const W=F.getAttribute("data-day");if(!W)return;const de=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(W))).toISOString().split("T")[0],me=pe.get(de),Se=(Re=me==null?void 0:me.photos)==null?void 0:Re[0];if(Se!=null&&Se.photoId){const Ye=ce.find(St=>St.id===Se.photoId),Qe=(Ke=Ye==null?void 0:Ye.photoMetadata)==null?void 0:Ke.contentHash;Qe&&_e.add(Qe)}}),document.querySelectorAll(".calendar-day-img.img-loaded").forEach(F=>{const W=F,ne=W.getAttribute("data-content-hash");ne&&!_e.has(ne)&&qe(W)});const O=Array.from(Y).map(async F=>{var Ot,_t;const W=F.getAttribute("data-day");if(!W)return;const de=new Date(Date.UTC(s.currentYear,s.currentMonth-1,parseInt(W))).toISOString().split("T")[0],me=F.querySelector(".calendar-day-img");if(!me)return;const Se=pe.get(de),Re=(Ot=Se==null?void 0:Se.photos)==null?void 0:Ot[0],Ke=(Re==null?void 0:Re.photoId)??null,Ye=Ke?ce.find(mt=>mt.id===Ke):null,Qe=((_t=Ye==null?void 0:Ye.photoMetadata)==null?void 0:_t.contentHash)??null,St=me.getAttribute("data-content-hash");if(St&&St!==Qe&&qe(me),Qe&&a&&St!==Qe&&Ke&&Re&&(Ye!=null&&Ye.photoMetadata)){me.setAttribute("data-photo-id",Ke),me.setAttribute("data-content-hash",Qe);let mt=null;const Yt=Re.crop,bt=Ye.photoMetadata.width||0,fs=Ye.photoMetadata.height||0,er=Yt.w*Yt.h/(bt*fs);(er<.3||Yt.w<300||Yt.h<300)&&bt>0?(v.log(`[loadDayBackgrounds] Using full image for day ${W} (crop ratio: ${er.toFixed(2)})`),mt=await Ie(Qe,Ke)):mt=await Ge(Qe,Ke),mt&&r.current&&me.getAttribute("data-content-hash")===Qe?(me.src=mt,Ce(me,Re,Ye.photoMetadata)):r.current&&me.getAttribute("data-content-hash")===Qe&&qe(me)}else!Qe&&St&&qe(me)});await Promise.all(O)},[a,c,y,s,g,j,u,Ie,Ge,V]);f.useEffect(()=>{let B=null;return j==="calendar"&&c&&a?B=setTimeout(()=>{r.current&&(v.log("[AppContext] Triggering loadDayBackgrounds from effect."),z())},500):document.querySelectorAll(".calendar-day-img").forEach(q=>{const Y=q;Y.src&&Y.src.startsWith("blob:")&&V.revokeUrl(Y.getAttribute("data-content-hash")??""),Y.removeAttribute("src"),Object.assign(Y.style,{width:"",height:"",transform:"",objectPosition:"",opacity:""}),Y.classList.remove("img-loaded"),Y.removeAttribute("data-photo-id"),Y.removeAttribute("data-content-hash")}),()=>{B&&clearTimeout(B)}},[z,j,V,y,g,c,a]);const ve=f.useCallback(B=>{const Y=new Date(Date.UTC(s.currentYear,s.currentMonth-1,B)).toISOString().split("T")[0];return y.filter(pe=>pe.date===Y)},[y,s.currentMonth,s.currentYear]),Te=f.useCallback(B=>y.find(q=>q.id===B),[y]),Be=f.useCallback(async B=>{if(v.log(`[AppContext] loadSpecificEntry called for ID: ${B}`),!c||!a)return v.warn("[AppContext] loadSpecificEntry: PhotoClient not ready."),null;const q=Te(B);if(q)return q;v.log(`[AppContext] loadSpecificEntry: Entry ${B} not in current month. Searching...`);try{const Y=await a.listEntryFiles();if(!Y)return v.warn("[AppContext] loadSpecificEntry: Could not list entry files (possibly offline)."),null;for(const pe of Y){const ce=pe.match(/^(\d{4})-(\d{2})-entries\.json$/);if(ce){const Ce=parseInt(ce[1],10),qe=parseInt(ce[2],10)-1;if(Ce===s.currentYear&&qe===s.currentMonth)continue;const O=(await a.fetchEntriesForMonth(Ce,qe,u)).find(F=>F.id===B);if(O)return v.log(`[AppContext] loadSpecificEntry: Entry ${B} found in ${Ce}-${qe+1}`),O}}}catch(Y){v.error("[AppContext] loadSpecificEntry: Error searching other months:",Y)}return v.warn(`[AppContext] loadSpecificEntry: Entry ${B} not found in any month.`),null},[a,c,Te,s.currentYear,s.currentMonth,u]),Pt=f.useCallback(async B=>{if(v.log(`[AppContext handleDayClick] START - Day: ${B}, isClientReady: ${c}, isOnline: ${u}`),!c||!a){v.log("[AppContext handleDayClick] EXIT - Client not ready");return}const q=ve(B),Y=new Date(Date.UTC(s.currentYear,s.currentMonth-1,B));if(v.log(`[AppContext handleDayClick] Day: ${B}, Entries found: ${q.length}`),q.length>0)v.log("[AppContext handleDayClick] Opening view modal."),i.openViewEntriesModal(Y,q);else{const pe=Y.toISOString().split("T")[0];v.log("[AppContext handleDayClick] Navigating to /entry/new for date:",pe),n(`/entry/new?date=${pe}`)}},[a,c,s.currentMonth,s.currentYear,ve,i.openViewEntriesModal,n,u,t]),Tt=f.useCallback(B=>{n(`/entry/edit/${B}`)},[n]),it=f.useCallback(B=>{i.openDeleteConfirmation(B)},[i.openDeleteConfirmation]),at=f.useCallback(async(B,q)=>{if(B.content=B.content.trim(),!c||!a)return R(new Error("Client not ready.")),!1;const Y=!o.isAuthenticated||!u;Y&&u&&v.log("[AppContext] User is online but not authenticated. Treating as offline mode."),Q(!0),R(null),k(null);try{const pe=B.date.getUTCFullYear(),ce=B.date.getUTCMonth()+1;let Ce=null,qe=null;if(q){const W=new Date(q.date+"T00:00:00Z");Ce=W.getUTCFullYear(),qe=W.getUTCMonth()+1}v.log(`[AppContext] Saving entry using offline-first approach. Online: ${u}, Effectively Offline: ${Y}`),await a.saveEntry(B,q,!Y),Y&&t({title:u?"Saved Locally":"Saved Offline",description:u?"Entry saved locally and will sync when you log in.":"Entry saved locally and will sync when online.",variant:"default"});let _e=g,O=y,F=null;try{const W=await zc(pe,ce);if(W&&W.length>0&&(O=W),q&&(Ce!==pe||qe!==ce)&&Ce===s.currentYear&&qe===s.currentMonth){const ne=await zc(Ce,qe);ne&&ne.length>0&&(F=ne)}}catch(W){v.error("[AppContext] Error fetching cached entries after offline save:",W)}return r.current&&(S(_e),pe===s.currentYear&&ce===s.currentMonth?x(O):F!==null&&x(F),(pe!==s.currentYear||ce!==s.currentMonth)&&s.handleMonthYearSelect(ce,pe),n("/")),!0}catch(pe){return v.error("[AppContext] Save Err: Failed save entry:",pe),r.current&&R(pe instanceof Error?pe:new Error("Failed to save entry")),!1}finally{r.current&&Q(!1)}},[a,c,g,s,n,o.isAuthenticated,i,u,t,y]),At=f.useCallback(async()=>{if(!c||!i.entryToDeleteId||!a)return;(!o.isAuthenticated||!u)&&u&&v.log("[AppContext] User is online but not authenticated. Treating as offline mode for deletion."),Q(!0),R(null),k(null);try{const q=i.entryToDeleteId,Y=Te(q);if(Y){const pe=new Date(Y.date+"T00:00:00Z"),ce=pe.getUTCFullYear(),Ce=pe.getUTCMonth()+1;v.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,ce,Ce,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"})}else{v.error(`Delete Error: Could not find entry source for ID ${q}`);const pe=await Be(q);if(!pe){R(new Error("Could not find entry to delete")),Q(!1),i.closeDeleteDialog();return}const ce=new Date(pe.date+"T00:00:00Z"),Ce=ce.getUTCFullYear(),qe=ce.getUTCMonth()+1;if(v.log(`[AppContext] Deleting entry using offline-first approach. Online: ${u}`),await a.deleteEntry(q,Ce,qe,u),u||t({title:"Deleted Offline",description:"Entry deleted locally and will sync when online.",variant:"default"}),Ce===s.currentYear&&qe===s.currentMonth){const _e=await a.fetchEntriesForMonth(s.currentYear,s.currentMonth,u);r.current&&x(_e)}}if(i.closeDeleteDialog(),i.closeViewModal(),x(pe=>pe.filter(ce=>ce.id!==q)),u){const pe=await a.fetchImagesMetadata(u).catch(ce=>(v.error("Delete Success: Failed post-delete metadata refresh:",ce),g));r.current&&S(pe)}}catch(q){v.error("[AppContext] Delete Error:",q),r.current&&R(q instanceof Error?q:new Error("Failed to delete entry"))}finally{r.current&&Q(!1)}},[a,c,i,y,s,Te,Be,o.isAuthenticated,u,t,g]),xe=f.useCallback(async()=>{try{if(r.current){const B=await Aa();K(B.length)}}catch(B){v.error("[AppContext] Error getting pending sync count:",B)}},[]),ze=f.useCallback(async()=>{if(G){v.log("[AppContext] Sync already in progress, skipping new sync request");return}!u||!o.isAuthenticated||!c||!a||(await xe(),Pe!=0&&(r.current&&(Z(!0),le(null)),iE(o.dbx,u,B=>{xe(),Pe<=1&&t({title:"Changes Synced",description:"Your offline changes have been synchronized.",variant:"default"})},(B,q)=>{r.current&&le(q),t({title:"Sync Error",description:`Failed to sync some changes: ${q.message}`,variant:"destructive"})}).catch(B=>{v.error("[AppContext] Error processing save queue:",B),r.current&&le(B instanceof Error?B:new Error("Failed to sync changes"))}).finally(()=>{xe(),r.current&&Z(!1)})))},[o.dbx,o.isAuthenticated,c,u,a,t,xe,Pe,G]);f.useEffect(()=>{xe();const B=setInterval(()=>{xe()},3e4);return()=>clearInterval(B)},[xe]),f.useEffect(()=>{u&&!w.current&&o.isAuthenticated?(v.log("[AppContext] Coming back online, triggering background sync"),ze()):xe(),w.current=u},[u,o.isAuthenticated,ze,xe]),f.useEffect(()=>{u&&c&&a&&(v.log("[AppContext] Checking for items in save queue due to client ready"),ze())},[c,a,u,ze]);const It={...o,dbx:o.dbx,isVerifyingInBackground:o.isVerifyingInBackground,photoClient:a,isClientReady:c,isOnline:u,currentMonth:s.currentMonth,currentYear:s.currentYear,swipeDirection:s.swipeDirection,isSyncing:G,pendingSyncCount:Pe,syncError:Je,triggerBackgroundSync:ze,isMonthYearPickerOpen:s.isMonthYearPickerOpen,goToPreviousMonth:s.goToPreviousMonth,goToNextMonth:s.goToNextMonth,handleMonthYearSelect:s.handleMonthYearSelect,handleCalendarSwipe:s.handleCalendarSwipe,openMonthYearPicker:s.openMonthYearPicker,closeMonthYearPicker:s.closeMonthYearPicker,setSwipeDirection:s.setSwipeDirection,monthViewType:j,setMonthViewType:X,currentMonthEntries:y,isLoadingEntries:b,imagesMetadata:g,isLoadingImagesMeta:C,entriesError:P,operationError:D,imagesMetaError:A,setEntriesError:k,setImagesMetaError:N,clearOperationError:()=>R(null),isViewEntryModalOpen:i.isViewEntryModalOpen,selectedBasicEntriesForModal:i.selectedBasicEntriesForModal,viewEntryModalDate:i.entryDateForModal,openViewEntriesModal:i.openViewEntriesModal,closeViewModal:i.closeViewModal,isDeleteDialogOpen:i.isDeleteDialogOpen,entryToDeleteId:i.entryToDeleteId,openDeleteConfirmation:i.openDeleteConfirmation,closeDeleteDialog:i.closeDeleteDialog,isSaving:$,handleSaveEntry:at,handleDeleteEntry:At,loadDayBackgrounds:z,getPhotoBlobUrl:Ie,getPhotoThumbnailUrl:Ge,getCombinedEntryDetails:Ae,getEntriesForDay:ve,getEntryById:Te,loadSpecificEntry:Be,handleDayClick:Pt,handleEditRequest:Tt,handleDeleteRequest:it,pendingSharedFiles:_,clearPendingSharedFiles:he,setPendingSharedFiles:L,deleteSharedFilesFromStorage:Ve,navigate:n};return p.jsx(fE.Provider,{value:It,children:e})};function Zn(){const e=f.useContext(fE);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const Pj=Za("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tj({className:e,variant:t,...n}){return p.jsx("div",{className:te(Pj({variant:t}),e),...n})}function kj(){const{isOnline:e,isSyncing:t,pendingSyncCount:n,syncError:r,triggerBackgroundSync:o}=Zn();if(!e||!t&&n===0&&!r)return null;let s=Iv,i="",a="",l="outline";return r?(s=nC,i="Sync Error",a=`Error during sync: ${r.message}`,l="destructive"):t?(s=ZI,i="Syncing...",a="Synchronizing your changes with Dropbox",l="outline"):n>0&&(s=Iv,i=`${n} Pending`,a=`${n} ${n===1?"change":"changes"} pending synchronization`,l="secondary"),p.jsx(WC,{children:p.jsxs(pL,{children:[p.jsx(mL,{asChild:!0,children:p.jsxs(Xe,{variant:l,size:"sm",className:"h-8 px-2 flex items-center gap-1.5",onClick:()=>e&&o(),disabled:!e||t,children:[p.jsx(s,{className:te("h-4 w-4",t&&"animate-pulse")}),p.jsx("span",{className:"text-xs",children:i}),n>0&&!t&&p.jsx(Tj,{variant:"secondary",className:"h-5 w-5 p-0 flex items-center justify-center rounded-full text-[10px] font-semibold",children:n})]})}),p.jsxs(HC,{children:[p.jsx("p",{children:a}),!t&&e&&n>0&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to sync now"})]})]})})}var Dj=f.createContext(void 0);function el(e){const t=f.useContext(Dj);return e||t||"ltr"}var ef="rovingFocusGroup.onEntryFocus",Aj={bubbles:!1,cancelable:!0},Uu="RovingFocusGroup",[Lh,hE,Rj]=ku(Uu),[Mj,Bu]=fn(Uu,[Rj]),[Ij,_j]=Mj(Uu),pE=f.forwardRef((e,t)=>p.jsx(Lh.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Lh.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Nj,{...e,ref:t})})}));pE.displayName=Uu;var Nj=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=f.useRef(null),w=Le(t,h),y=el(s),[x=null,b]=vr({prop:i,defaultProp:a,onChange:l}),[m,g]=f.useState(!1),S=ut(c),C=hE(n),E=f.useRef(!1),[P,k]=f.useState(0);return f.useEffect(()=>{const D=h.current;if(D)return D.addEventListener(ef,S),()=>D.removeEventListener(ef,S)},[S]),p.jsx(Ij,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:x,onItemFocus:f.useCallback(D=>b(D),[b]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:f.useCallback(()=>k(D=>D-1),[]),children:p.jsx(we.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...u,ref:w,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{E.current=!0}),onFocus:se(e.onFocus,D=>{const R=!E.current;if(D.target===D.currentTarget&&R&&!m){const A=new CustomEvent(ef,Aj);if(D.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=C().filter(_=>_.focusable),$=N.find(_=>_.active),Q=N.find(_=>_.id===x),X=[$,Q,...N].filter(Boolean).map(_=>_.ref.current);yE(X,d)}}E.current=!1}),onBlur:se(e.onBlur,()=>g(!1))})})}),mE="RovingFocusGroupItem",gE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=Yo(),l=s||a,c=_j(mE,n),d=c.currentTabStopId===l,u=hE(n),{onFocusableItemAdd:h,onFocusableItemRemove:w}=c;return f.useEffect(()=>{if(r)return h(),()=>w()},[r,h,w]),p.jsx(Lh.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:p.jsx(we.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:se(e.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:se(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=Fj(y,c.orientation,c.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let m=u().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")m.reverse();else if(x==="prev"||x==="next"){x==="prev"&&m.reverse();const g=m.indexOf(y.currentTarget);m=c.loop?Oj(m,g+1):m.slice(g+1)}setTimeout(()=>yE(m))}})})})});gE.displayName=mE;var Lj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jj(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Fj(e,t,n){const r=jj(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Lj[r]}function yE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Oj(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vE=pE,wE=gE,$j="Toggle",Am=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...s}=e,[i=!1,a]=vr({prop:n,onChange:o,defaultProp:r});return p.jsx(we.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:se(e.onClick,()=>{e.disabled||a(!i)})})});Am.displayName=$j;var xE=Am,Ci="ToggleGroup",[SE,X4]=fn(Ci,[Bu]),bE=Bu(),Rm=Ct.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return p.jsx(Vj,{...o,ref:t})}if(n==="multiple"){const o=r;return p.jsx(Uj,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ci}\``)});Rm.displayName=Ci;var[CE,EE]=SE(Ci),Vj=Ct.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i,a]=vr({prop:n,defaultProp:r,onChange:o});return p.jsx(CE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:a,onItemDeactivate:Ct.useCallback(()=>a(""),[a]),children:p.jsx(PE,{...s,ref:t})})}),Uj=Ct.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[i=[],a]=vr({prop:n,defaultProp:r,onChange:o}),l=Ct.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=Ct.useCallback(d=>a((u=[])=>u.filter(h=>h!==d)),[a]);return p.jsx(CE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:l,onItemDeactivate:c,children:p.jsx(PE,{...s,ref:t})})});Rm.displayName=Ci;var[Bj,zj]=SE(Ci),PE=Ct.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...l}=e,c=bE(n),d=el(i),u={role:"group",dir:d,...l};return p.jsx(Bj,{scope:n,rovingFocus:o,disabled:r,children:o?p.jsx(vE,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:p.jsx(we.div,{...u,ref:t})}):p.jsx(we.div,{...u,ref:t})})}),Gc="ToggleGroupItem",TE=Ct.forwardRef((e,t)=>{const n=EE(Gc,e.__scopeToggleGroup),r=zj(Gc,e.__scopeToggleGroup),o=bE(e.__scopeToggleGroup),s=n.value.includes(e.value),i=r.disabled||e.disabled,a={...e,pressed:s,disabled:i},l=Ct.useRef(null);return r.rovingFocus?p.jsx(wE,{asChild:!0,...o,focusable:!i,active:s,ref:l,children:p.jsx(ew,{...a,ref:t})}):p.jsx(ew,{...a,ref:t})});TE.displayName=Gc;var ew=Ct.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=EE(Gc,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return p.jsx(Am,{...a,...o,ref:t,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),kE=Rm,DE=TE;const AE=Za("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),qj=f.forwardRef(({className:e,variant:t,size:n,...r},o)=>p.jsx(xE,{ref:o,className:te(AE({variant:t,size:n,className:e})),...r}));qj.displayName=xE.displayName;const RE=f.createContext({size:"default",variant:"default"}),ME=f.forwardRef(({className:e,variant:t,size:n,children:r,...o},s)=>p.jsx(kE,{ref:s,className:te("flex items-center justify-center gap-1",e),...o,children:p.jsx(RE.Provider,{value:{variant:t,size:n},children:r})}));ME.displayName=kE.displayName;const jh=f.forwardRef(({className:e,children:t,variant:n,size:r,...o},s)=>{const i=f.useContext(RE);return p.jsx(DE,{ref:s,className:te(AE({variant:i.variant||n,size:i.size||r}),e),...o,children:t})});jh.displayName=DE.displayName;var Wj=(e,t,n,r,o,s,i,a)=>{let l=document.documentElement,c=["light","dark"];function d(w){(Array.isArray(e)?e:[e]).forEach(y=>{let x=y==="class",b=x&&s?o.map(m=>s[m]||m):o;x?(l.classList.remove(...b),l.classList.add(s&&s[w]?s[w]:w)):l.setAttribute(y,w)}),u(w)}function u(w){a&&c.includes(w)&&(l.style.colorScheme=w)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let w=localStorage.getItem(t)||n,y=i&&w==="system"?h():w;d(y)}catch{}},tw=["light","dark"],IE="(prefers-color-scheme: dark)",Hj=typeof window>"u",Mm=f.createContext(void 0),Gj={setTheme:e=>{},themes:[]},Im=()=>{var e;return(e=f.useContext(Mm))!=null?e:Gj},Kj=e=>f.useContext(Mm)?f.createElement(f.Fragment,null,e.children):f.createElement(Qj,{...e}),Yj=["light","dark"],Qj=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:s=Yj,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[h,w]=f.useState(()=>Zj(o,i)),[y,x]=f.useState(()=>h==="system"?tf():h),b=l?Object.values(l):s,m=f.useCallback(E=>{let P=E;if(!P)return;E==="system"&&n&&(P=tf());let k=l?l[P]:P,D=t?Jj(d):null,R=document.documentElement,A=N=>{N==="class"?(R.classList.remove(...b),k&&R.classList.add(k)):N.startsWith("data-")&&(k?R.setAttribute(N,k):R.removeAttribute(N))};if(Array.isArray(a)?a.forEach(A):A(a),r){let N=tw.includes(i)?i:null,$=tw.includes(P)?P:N;R.style.colorScheme=$}D==null||D()},[d]),g=f.useCallback(E=>{let P=typeof E=="function"?E(h):E;w(P);try{localStorage.setItem(o,P)}catch{}},[h]),S=f.useCallback(E=>{let P=tf(E);x(P),h==="system"&&n&&!e&&m("system")},[h,e]);f.useEffect(()=>{let E=window.matchMedia(IE);return E.addListener(S),S(E),()=>E.removeListener(S)},[S]),f.useEffect(()=>{let E=P=>{P.key===o&&(P.newValue?w(P.newValue):g(i))};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[g]),f.useEffect(()=>{m(e??h)},[e,h]);let C=f.useMemo(()=>({theme:h,setTheme:g,forcedTheme:e,resolvedTheme:h==="system"?y:h,themes:n?[...s,"system"]:s,systemTheme:n?y:void 0}),[h,g,e,y,n,s]);return f.createElement(Mm.Provider,{value:C},f.createElement(Xj,{forcedTheme:e,storageKey:o,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:s,nonce:d,scriptProps:u}),c)},Xj=f.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:s,value:i,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,i,r,o]).slice(1,-1);return f.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Wj.toString()})(${d})`}})}),Zj=(e,t)=>{if(Hj)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},Jj=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},tf=e=>(e||(e=window.matchMedia(IE)),e.matches?"dark":"light"),_m="Avatar",[e2,Z4]=fn(_m),[t2,_E]=e2(_m),NE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=f.useState("idle");return p.jsx(t2,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:p.jsx(we.span,{...r,ref:t})})});NE.displayName=_m;var LE="AvatarImage",jE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=_E(LE,n),a=n2(r,s),l=ut(c=>{o(c),i.onImageLoadingStatusChange(c)});return jn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(we.img,{...s,ref:t,src:r}):null});jE.displayName=LE;var FE="AvatarFallback",OE=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=_E(FE,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?p.jsx(we.span,{...o,ref:t}):null});OE.displayName=FE;function nw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n2(e,{referrerPolicy:t,crossOrigin:n}){const r=o2(),o=f.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[i,a]=f.useState(()=>nw(s,e));return jn(()=>{a(nw(s,e))},[s,e]),jn(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),i}function r2(){return()=>{}}function o2(){return f.useSyncExternalStore(r2,()=>!0,()=>!1)}var $E=NE,VE=jE,UE=OE;const BE=f.forwardRef(({className:e,...t},n)=>p.jsx($E,{ref:n,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));BE.displayName=$E.displayName;const s2=f.forwardRef(({className:e,...t},n)=>p.jsx(VE,{ref:n,className:te("aspect-square h-full w-full",e),...t}));s2.displayName=VE.displayName;const zE=f.forwardRef(({className:e,...t},n)=>p.jsx(UE,{ref:n,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zE.displayName=UE.displayName;var nf=0;function qE(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rw()),document.body.insertAdjacentElement("beforeend",e[1]??rw()),nf++,()=>{nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nf--}},[])}function rw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rf="focusScope.autoFocusOnMount",of="focusScope.autoFocusOnUnmount",ow={bubbles:!1,cancelable:!0},i2="FocusScope",Nm=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=f.useState(null),c=ut(o),d=ut(s),u=f.useRef(null),h=Le(t,x=>l(x)),w=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(S){if(w.paused||!a)return;const C=S.target;a.contains(C)?u.current=C:Gr(u.current,{select:!0})},b=function(S){if(w.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Gr(u.current,{select:!0}))},m=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Gr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const g=new MutationObserver(m);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),g.disconnect()}}},[r,a,w.paused]),f.useEffect(()=>{if(a){iw.add(w);const x=document.activeElement;if(!a.contains(x)){const m=new CustomEvent(rf,ow);a.addEventListener(rf,c),a.dispatchEvent(m),m.defaultPrevented||(a2(f2(WE(a)),{select:!0}),document.activeElement===x&&Gr(a))}return()=>{a.removeEventListener(rf,c),setTimeout(()=>{const m=new CustomEvent(of,ow);a.addEventListener(of,d),a.dispatchEvent(m),m.defaultPrevented||Gr(x??document.body,{select:!0}),a.removeEventListener(of,d),iw.remove(w)},0)}}},[a,c,d,w]);const y=f.useCallback(x=>{if(!n&&!r||w.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(b&&m){const g=x.currentTarget,[S,C]=l2(g);S&&C?!x.shiftKey&&m===C?(x.preventDefault(),n&&Gr(S,{select:!0})):x.shiftKey&&m===S&&(x.preventDefault(),n&&Gr(C,{select:!0})):m===g&&x.preventDefault()}},[n,r,w.paused]);return p.jsx(we.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Nm.displayName=i2;function a2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Gr(r,{select:t}),document.activeElement!==n)return}function l2(e){const t=WE(e),n=sw(t,e),r=sw(t.reverse(),e);return[n,r]}function WE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sw(e,t){for(const n of e)if(!c2(n,{upTo:t}))return n}function c2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function u2(e){return e instanceof HTMLInputElement&&"select"in e}function Gr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&u2(e)&&t&&e.select()}}var iw=d2();function d2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=aw(e,t),e.unshift(t)},remove(t){var n;e=aw(e,t),(n=e[0])==null||n.resume()}}}function aw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function f2(e){return e.filter(t=>t.tagName!=="A")}var h2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ps=new WeakMap,Fl=new WeakMap,Ol={},sf=0,HE=function(e){return e&&(e.host||HE(e.parentNode))},p2=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=HE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},m2=function(e,t,n,r){var o=p2(t,Array.isArray(e)?e:[e]);Ol[n]||(Ol[n]=new WeakMap);var s=Ol[n],i=[],a=new Set,l=new Set(o),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};o.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var w=h.getAttribute(r),y=w!==null&&w!=="false",x=(ps.get(h)||0)+1,b=(s.get(h)||0)+1;ps.set(h,x),s.set(h,b),i.push(h),x===1&&y&&Fl.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",h,m)}})};return d(t),a.clear(),sf++,function(){i.forEach(function(u){var h=ps.get(u)-1,w=s.get(u)-1;ps.set(u,h),s.set(u,w),h||(Fl.has(u)||u.removeAttribute(r),Fl.delete(u)),w||u.removeAttribute(n)}),sf--,sf||(ps=new WeakMap,ps=new WeakMap,Fl=new WeakMap,Ol={})}},GE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=h2(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),m2(r,o,n,"aria-hidden")):function(){return null}},ur=function(){return ur=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ur.apply(this,arguments)};function KE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function g2(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var lc="right-scroll-bar-position",cc="width-before-scroll-bar",y2="with-scroll-bars-hidden",v2="--removed-body-scroll-bar-size";function af(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function w2(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var x2=typeof window<"u"?f.useLayoutEffect:f.useEffect,lw=new WeakMap;function S2(e,t){var n=w2(null,function(r){return e.forEach(function(o){return af(o,r)})});return x2(function(){var r=lw.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||af(a,null)}),s.forEach(function(a){o.has(a)||af(a,i)})}lw.set(n,e)},[e]),n}function b2(e){return e}function C2(e,t){t===void 0&&(t=b2);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function E2(e){e===void 0&&(e={});var t=C2(null);return t.options=ur({async:!0,ssr:!1},e),t}var YE=function(e){var t=e.sideCar,n=KE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,ur({},n))};YE.isSideCarExport=!0;function P2(e,t){return e.useMedium(t),YE}var QE=E2(),lf=function(){},zu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:lf,onWheelCapture:lf,onTouchMoveCapture:lf}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,w=e.noIsolation,y=e.inert,x=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,g=e.gapMode,S=KE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=S2([n,t]),P=ur(ur({},S),o);return f.createElement(f.Fragment,null,d&&f.createElement(C,{sideCar:QE,removeScrollBar:c,shards:u,noIsolation:w,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:g}),i?f.cloneElement(f.Children.only(a),ur(ur({},P),{ref:E})):f.createElement(m,ur({},P,{className:l,ref:E}),a))});zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zu.classNames={fullWidth:cc,zeroRight:lc};var T2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=T2();return t&&e.setAttribute("nonce",t),e}function D2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var R2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=k2())&&(D2(t,n),A2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},M2=function(){var e=R2();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},XE=function(){var e=M2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},I2={left:0,top:0,right:0,gap:0},cf=function(e){return parseInt(e||"",10)||0},_2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[cf(n),cf(r),cf(o)]},N2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return I2;var t=_2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},L2=XE(),Ws="data-scroll-locked",j2=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(y2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ws,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ws,`] {
    `).concat(v2,": ").concat(a,`px;
  }
`)},cw=function(){var e=parseInt(document.body.getAttribute(Ws)||"0",10);return isFinite(e)?e:0},F2=function(){f.useEffect(function(){return document.body.setAttribute(Ws,(cw()+1).toString()),function(){var e=cw()-1;e<=0?document.body.removeAttribute(Ws):document.body.setAttribute(Ws,e.toString())}},[])},O2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;F2();var s=f.useMemo(function(){return N2(o)},[o]);return f.createElement(L2,{styles:j2(s,!t,o,n?"":"!important")})},Fh=!1;if(typeof window<"u")try{var $l=Object.defineProperty({},"passive",{get:function(){return Fh=!0,!0}});window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Fh=!1}var ms=Fh?{passive:!1}:!1,$2=function(e){return e.tagName==="TEXTAREA"},ZE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$2(e)&&n[t]==="visible")},V2=function(e){return ZE(e,"overflowY")},U2=function(e){return ZE(e,"overflowX")},uw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=JE(e,r);if(o){var s=e1(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},B2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},z2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},JE=function(e,t){return e==="v"?V2(t):U2(t)},e1=function(e,t){return e==="v"?B2(t):z2(t)},q2=function(e,t){return e==="h"&&t==="rtl"?-1:1},W2=function(e,t,n,r,o){var s=q2(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,u=0,h=0;do{var w=e1(e,a),y=w[0],x=w[1],b=w[2],m=x-b-s*y;(y||m)&&JE(e,a)&&(u+=m,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(u)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Vl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dw=function(e){return[e.deltaX,e.deltaY]},fw=function(e){return e&&"current"in e?e.current:e},H2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},G2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},K2=0,gs=[];function Y2(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),o=f.useState(K2++)[0],s=f.useState(XE)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=g2([e.lockRef.current],(e.shards||[]).map(fw),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var m=Vl(x),g=n.current,S="deltaX"in x?x.deltaX:g[0]-m[0],C="deltaY"in x?x.deltaY:g[1]-m[1],E,P=x.target,k=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&k==="h"&&P.type==="range")return!1;var D=uw(k,P);if(!D)return!0;if(D?E=k:(E=k==="v"?"h":"v",D=uw(k,P)),!D)return!1;if(!r.current&&"changedTouches"in x&&(S||C)&&(r.current=E),!E)return!0;var R=r.current||E;return W2(R,b,x,R==="h"?S:C,!0)},[]),l=f.useCallback(function(x){var b=x;if(!(!gs.length||gs[gs.length-1]!==s)){var m="deltaY"in b?dw(b):Vl(b),g=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&H2(E.delta,m)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var S=(i.current.shards||[]).map(fw).filter(Boolean).filter(function(E){return E.contains(b.target)}),C=S.length>0?a(b,S[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(x,b,m,g){var S={name:x,delta:b,target:m,should:g,shadowParent:Q2(m)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=f.useCallback(function(x){n.current=Vl(x),r.current=void 0},[]),u=f.useCallback(function(x){c(x.type,dw(x),x.target,a(x,e.lockRef.current))},[]),h=f.useCallback(function(x){c(x.type,Vl(x),x.target,a(x,e.lockRef.current))},[]);f.useEffect(function(){return gs.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ms),document.addEventListener("touchmove",l,ms),document.addEventListener("touchstart",d,ms),function(){gs=gs.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,ms),document.removeEventListener("touchmove",l,ms),document.removeEventListener("touchstart",d,ms)}},[]);var w=e.removeScrollBar,y=e.inert;return f.createElement(f.Fragment,null,y?f.createElement(s,{styles:G2(o)}):null,w?f.createElement(O2,{gapMode:e.gapMode}):null)}function Q2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const X2=P2(QE,Y2);var Lm=f.forwardRef(function(e,t){return f.createElement(zu,ur({},e,{ref:t,sideCar:X2}))});Lm.classNames=zu.classNames;var Oh=["Enter"," "],Z2=["ArrowDown","PageUp","Home"],t1=["ArrowUp","PageDown","End"],J2=[...Z2,...t1],eF={ltr:[...Oh,"ArrowRight"],rtl:[...Oh,"ArrowLeft"]},tF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tl="Menu",[Ia,nF,rF]=ku(tl),[cs,n1]=fn(tl,[rF,ju,Bu]),qu=ju(),r1=Bu(),[oF,us]=cs(tl),[sF,nl]=cs(tl),o1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=qu(t),[l,c]=f.useState(null),d=f.useRef(!1),u=ut(s),h=el(o);return f.useEffect(()=>{const w=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),p.jsx(_C,{...a,children:p.jsx(oF,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:p.jsx(sF,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};o1.displayName=tl;var iF="MenuAnchor",jm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=qu(n);return p.jsx(NC,{...o,...r,ref:t})});jm.displayName=iF;var Fm="MenuPortal",[aF,s1]=cs(Fm,{forceMount:void 0}),i1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=us(Fm,t);return p.jsx(aF,{scope:t,forceMount:n,children:p.jsx(hn,{present:n||s.open,children:p.jsx(Du,{asChild:!0,container:o,children:r})})})};i1.displayName=Fm;var _n="MenuContent",[lF,Om]=cs(_n),a1=f.forwardRef((e,t)=>{const n=s1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=us(_n,e.__scopeMenu),i=nl(_n,e.__scopeMenu);return p.jsx(Ia.Provider,{scope:e.__scopeMenu,children:p.jsx(hn,{present:r||s.open,children:p.jsx(Ia.Slot,{scope:e.__scopeMenu,children:i.modal?p.jsx(cF,{...o,ref:t}):p.jsx(uF,{...o,ref:t})})})})}),cF=f.forwardRef((e,t)=>{const n=us(_n,e.__scopeMenu),r=f.useRef(null),o=Le(t,r);return f.useEffect(()=>{const s=r.current;if(s)return GE(s)},[]),p.jsx($m,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),uF=f.forwardRef((e,t)=>{const n=us(_n,e.__scopeMenu);return p.jsx($m,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),dF=ui("MenuContent.ScrollLock"),$m=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:w,disableOutsideScroll:y,...x}=e,b=us(_n,n),m=nl(_n,n),g=qu(n),S=r1(n),C=nF(n),[E,P]=f.useState(null),k=f.useRef(null),D=Le(t,k,b.onContentChange),R=f.useRef(0),A=f.useRef(""),N=f.useRef(0),$=f.useRef(null),Q=f.useRef("right"),j=f.useRef(0),X=y?Lm:f.Fragment,_=y?{as:dF,allowPinchZoom:!0}:void 0,L=I=>{var he,Ve;const V=A.current+I,G=C().filter(Ie=>!Ie.disabled),Z=document.activeElement,Pe=(he=G.find(Ie=>Ie.ref.current===Z))==null?void 0:he.textValue,K=G.map(Ie=>Ie.textValue),Je=CF(K,V,Pe),le=(Ve=G.find(Ie=>Ie.textValue===Je))==null?void 0:Ve.ref.current;(function Ie(Ge){A.current=Ge,window.clearTimeout(R.current),Ge!==""&&(R.current=window.setTimeout(()=>Ie(""),1e3))})(V),le&&setTimeout(()=>le.focus())};f.useEffect(()=>()=>window.clearTimeout(R.current),[]),qE();const M=f.useCallback(I=>{var G,Z;return Q.current===((G=$.current)==null?void 0:G.side)&&PF(I,(Z=$.current)==null?void 0:Z.area)},[]);return p.jsx(lF,{scope:n,searchRef:A,onItemEnter:f.useCallback(I=>{M(I)&&I.preventDefault()},[M]),onItemLeave:f.useCallback(I=>{var V;M(I)||((V=k.current)==null||V.focus(),P(null))},[M]),onTriggerLeave:f.useCallback(I=>{M(I)&&I.preventDefault()},[M]),pointerGraceTimerRef:N,onPointerGraceIntentChange:f.useCallback(I=>{$.current=I},[]),children:p.jsx(X,{..._,children:p.jsx(Nm,{asChild:!0,trapped:o,onMountAutoFocus:se(s,I=>{var V;I.preventDefault(),(V=k.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:p.jsx(Xa,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:w,children:p.jsx(vE,{asChild:!0,...S,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:se(l,I=>{m.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(LC,{role:"menu","aria-orientation":"vertical","data-state":C1(b.open),"data-radix-menu-content":"",dir:m.dir,...g,...x,ref:D,style:{outline:"none",...x.style},onKeyDown:se(x.onKeyDown,I=>{const G=I.target.closest("[data-radix-menu-content]")===I.currentTarget,Z=I.ctrlKey||I.altKey||I.metaKey,Pe=I.key.length===1;G&&(I.key==="Tab"&&I.preventDefault(),!Z&&Pe&&L(I.key));const K=k.current;if(I.target!==K||!J2.includes(I.key))return;I.preventDefault();const le=C().filter(he=>!he.disabled).map(he=>he.ref.current);t1.includes(I.key)&&le.reverse(),SF(le)}),onBlur:se(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:se(e.onPointerMove,_a(I=>{const V=I.target,G=j.current!==I.clientX;if(I.currentTarget.contains(V)&&G){const Z=I.clientX>j.current?"right":"left";Q.current=Z,j.current=I.clientX}}))})})})})})})});a1.displayName=_n;var fF="MenuGroup",Vm=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(we.div,{role:"group",...r,ref:t})});Vm.displayName=fF;var hF="MenuLabel",l1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(we.div,{...r,ref:t})});l1.displayName=hF;var Kc="MenuItem",hw="menu.itemSelect",Wu=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=f.useRef(null),i=nl(Kc,e.__scopeMenu),a=Om(Kc,e.__scopeMenu),l=Le(t,s),c=f.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(hw,{bubbles:!0,cancelable:!0});u.addEventListener(hw,w=>r==null?void 0:r(w),{once:!0}),lm(u,h),h.defaultPrevented?c.current=!1:i.onClose()}};return p.jsx(c1,{...o,ref:l,disabled:n,onClick:se(e.onClick,d),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:se(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:se(e.onKeyDown,u=>{const h=a.searchRef.current!=="";n||h&&u.key===" "||Oh.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Wu.displayName=Kc;var c1=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Om(Kc,n),a=r1(n),l=f.useRef(null),c=Le(t,l),[d,u]=f.useState(!1),[h,w]=f.useState("");return f.useEffect(()=>{const y=l.current;y&&w((y.textContent??"").trim())},[s.children]),p.jsx(Ia.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:p.jsx(wE,{asChild:!0,...a,focusable:!r,children:p.jsx(we.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:se(e.onPointerMove,_a(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,_a(y=>i.onItemLeave(y))),onFocus:se(e.onFocus,()=>u(!0)),onBlur:se(e.onBlur,()=>u(!1))})})})}),pF="MenuCheckboxItem",u1=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return p.jsx(m1,{scope:e.__scopeMenu,checked:n,children:p.jsx(Wu,{role:"menuitemcheckbox","aria-checked":Yc(n)?"mixed":n,...o,ref:t,"data-state":Bm(n),onSelect:se(o.onSelect,()=>r==null?void 0:r(Yc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});u1.displayName=pF;var d1="MenuRadioGroup",[mF,gF]=cs(d1,{value:void 0,onValueChange:()=>{}}),f1=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=ut(r);return p.jsx(mF,{scope:e.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Vm,{...o,ref:t})})});f1.displayName=d1;var h1="MenuRadioItem",p1=f.forwardRef((e,t)=>{const{value:n,...r}=e,o=gF(h1,e.__scopeMenu),s=n===o.value;return p.jsx(m1,{scope:e.__scopeMenu,checked:s,children:p.jsx(Wu,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Bm(s),onSelect:se(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});p1.displayName=h1;var Um="MenuItemIndicator",[m1,yF]=cs(Um,{checked:!1}),g1=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=yF(Um,n);return p.jsx(hn,{present:r||Yc(s.checked)||s.checked===!0,children:p.jsx(we.span,{...o,ref:t,"data-state":Bm(s.checked)})})});g1.displayName=Um;var vF="MenuSeparator",y1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});y1.displayName=vF;var wF="MenuArrow",v1=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=qu(n);return p.jsx(jC,{...o,...r,ref:t})});v1.displayName=wF;var xF="MenuSub",[J4,w1]=cs(xF),qi="MenuSubTrigger",x1=f.forwardRef((e,t)=>{const n=us(qi,e.__scopeMenu),r=nl(qi,e.__scopeMenu),o=w1(qi,e.__scopeMenu),s=Om(qi,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),p.jsx(jm,{asChild:!0,...c,children:p.jsx(c1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":C1(n.open),...e,ref:Tu(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,_a(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,_a(u=>{var w,y;d();const h=(w=n.content)==null?void 0:w.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,b=x==="right",m=b?-5:5,g=h[b?"left":"right"],S=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+m,y:u.clientY},{x:g,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,u=>{var w;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||eF[r.dir].includes(u.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),u.preventDefault())})})})});x1.displayName=qi;var S1="MenuSubContent",b1=f.forwardRef((e,t)=>{const n=s1(_n,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=us(_n,e.__scopeMenu),i=nl(_n,e.__scopeMenu),a=w1(S1,e.__scopeMenu),l=f.useRef(null),c=Le(t,l);return p.jsx(Ia.Provider,{scope:e.__scopeMenu,children:p.jsx(hn,{present:r||s.open,children:p.jsx(Ia.Slot,{scope:e.__scopeMenu,children:p.jsx($m,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;i.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var w;const u=d.currentTarget.contains(d.target),h=tF[i.dir].includes(d.key);u&&h&&(s.onOpenChange(!1),(w=a.trigger)==null||w.focus(),d.preventDefault())})})})})})});b1.displayName=S1;function C1(e){return e?"open":"closed"}function Yc(e){return e==="indeterminate"}function Bm(e){return Yc(e)?"indeterminate":e?"checked":"unchecked"}function SF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function bF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function CF(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=bF(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function EF(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,c=t[i].x,d=t[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(o=!o)}return o}function PF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return EF(n,t)}function _a(e){return t=>t.pointerType==="mouse"?e(t):void 0}var TF=o1,kF=jm,DF=i1,AF=a1,RF=Vm,MF=l1,IF=Wu,_F=u1,NF=f1,LF=p1,jF=g1,FF=y1,OF=v1,$F=x1,VF=b1,zm="DropdownMenu",[UF,e3]=fn(zm,[n1]),rn=n1(),[BF,E1]=UF(zm),P1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=rn(t),c=f.useRef(null),[d=!1,u]=vr({prop:o,defaultProp:s,onChange:i});return p.jsx(BF,{scope:t,triggerId:Yo(),triggerRef:c,contentId:Yo(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:a,children:p.jsx(TF,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};P1.displayName=zm;var T1="DropdownMenuTrigger",k1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=E1(T1,n),i=rn(n);return p.jsx(kF,{asChild:!0,...i,children:p.jsx(we.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Tu(t,s.triggerRef),onPointerDown:se(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:se(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});k1.displayName=T1;var zF="DropdownMenuPortal",D1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=rn(t);return p.jsx(DF,{...r,...n})};D1.displayName=zF;var A1="DropdownMenuContent",R1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=E1(A1,n),s=rn(n),i=f.useRef(!1);return p.jsx(AF,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:se(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R1.displayName=A1;var qF="DropdownMenuGroup",WF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(RF,{...o,...r,ref:t})});WF.displayName=qF;var HF="DropdownMenuLabel",M1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(MF,{...o,...r,ref:t})});M1.displayName=HF;var GF="DropdownMenuItem",I1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(IF,{...o,...r,ref:t})});I1.displayName=GF;var KF="DropdownMenuCheckboxItem",_1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(_F,{...o,...r,ref:t})});_1.displayName=KF;var YF="DropdownMenuRadioGroup",QF=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(NF,{...o,...r,ref:t})});QF.displayName=YF;var XF="DropdownMenuRadioItem",N1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(LF,{...o,...r,ref:t})});N1.displayName=XF;var ZF="DropdownMenuItemIndicator",L1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(jF,{...o,...r,ref:t})});L1.displayName=ZF;var JF="DropdownMenuSeparator",j1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(FF,{...o,...r,ref:t})});j1.displayName=JF;var eO="DropdownMenuArrow",tO=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(OF,{...o,...r,ref:t})});tO.displayName=eO;var nO="DropdownMenuSubTrigger",F1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx($F,{...o,...r,ref:t})});F1.displayName=nO;var rO="DropdownMenuSubContent",O1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=rn(n);return p.jsx(VF,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O1.displayName=rO;var oO=P1,sO=k1,iO=D1,$1=R1,V1=M1,U1=I1,B1=_1,z1=N1,q1=L1,W1=j1,H1=F1,G1=O1;const qm=oO,Wm=sO,aO=f.forwardRef(({className:e,inset:t,children:n,...r},o)=>p.jsxs(H1,{ref:o,className:te("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,p.jsx(Xb,{className:"ml-auto"})]}));aO.displayName=H1.displayName;const lO=f.forwardRef(({className:e,...t},n)=>p.jsx(G1,{ref:n,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));lO.displayName=G1.displayName;const Hu=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(iO,{children:p.jsx($1,{ref:r,sideOffset:t,className:te("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Hu.displayName=$1.displayName;const os=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(U1,{ref:r,className:te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));os.displayName=U1.displayName;const cO=f.forwardRef(({className:e,children:t,checked:n,...r},o)=>p.jsxs(B1,{ref:o,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(q1,{children:p.jsx(Qb,{className:"h-4 w-4"})})}),t]}));cO.displayName=B1.displayName;const uO=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(z1,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(q1,{children:p.jsx(VI,{className:"h-2 w-2 fill-current"})})}),t]}));uO.displayName=z1.displayName;const K1=f.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(V1,{ref:r,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));K1.displayName=V1.displayName;const $h=f.forwardRef(({className:e,...t},n)=>p.jsx(W1,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));$h.displayName=W1.displayName;function Y1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hm="Switch",[dO,t3]=fn(Hm),[fO,hO]=dO(Hm),Q1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,w]=f.useState(null),y=Le(t,S=>w(S)),x=f.useRef(!1),b=h?d||!!h.closest("form"):!0,[m=!1,g]=vr({prop:o,defaultProp:s,onChange:c});return p.jsxs(fO,{scope:n,checked:m,disabled:a,children:[p.jsx(we.button,{type:"button",role:"switch","aria-checked":m,"aria-required":i,"data-state":J1(m),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:y,onClick:se(e.onClick,S=>{g(C=>!C),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&p.jsx(pO,{control:h,bubbles:!x.current,name:r,value:l,checked:m,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Q1.displayName=Hm;var X1="SwitchThumb",Z1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=hO(X1,n);return p.jsx(we.span,{"data-state":J1(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Z1.displayName=X1;var pO=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=f.useRef(null),i=Y1(n),a=Sm(t);return f.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&u){const h=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function J1(e){return e?"checked":"unchecked"}var eP=Q1,mO=Z1;const tP=f.forwardRef(({className:e,...t},n)=>p.jsx(eP,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(mO,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tP.displayName=eP.displayName;function gO(){const{userInfo:e,isLoadingAuth:t,logout:n}=Zn(),{theme:r,setTheme:o,resolvedTheme:s}=Im(),i=s==="dark";if(t||!e)return p.jsx(Xe,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",disabled:!0,children:p.jsx(Wt,{className:"h-4 w-4 animate-spin"})});const a=l=>{o(l?"dark":"light")};return p.jsxs(qm,{children:[p.jsx(Wm,{asChild:!0,children:p.jsx(Xe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(BE,{className:"h-8 w-8",children:p.jsx(zE,{children:F_(e.name.display_name)})})})}),p.jsxs(Hu,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(K1,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:e.name.display_name}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),p.jsx($h,{}),p.jsx(os,{className:"cursor-pointer",onSelect:l=>l.preventDefault(),children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center",children:[i?p.jsx(QI,{className:"mr-2 h-4 w-4"}):p.jsx(e_,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx(tP,{checked:i,onCheckedChange:a,"aria-label":"Toggle dark mode"})]})}),p.jsx($h,{}),p.jsxs(os,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[p.jsx(GI,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function yO(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,handleDropboxAuthRedirect:r,monthViewType:o,setMonthViewType:s,setPendingSharedFiles:i,isOnline:a,authError:l}=Zn();Im();const[,c]=sm(),{toast:d}=Qa(),u=f.useRef(null),h=a&&!e&&!t&&!n;f.useEffect(()=>{v.log("[Header] setLocation instance type:",typeof c)},[c]);const w=x=>{v.log("[Header] New Entry Link clicked. Href:",x.currentTarget.href)},y=x=>{const b=x.target.files;if(b&&b.length>0){const m=Array.from(b),g=m.filter(C=>!C.type.startsWith("image/"));g.length>0&&d({title:"Invalid File Type",description:`Only image files are allowed. ${g.map(C=>C.name).join(", ")} ${g.length===1?"was":"were"} ignored.`,variant:"destructive"});const S=m.filter(C=>C.type.startsWith("image/"));S.length>0?(i(S),v.log(`[Header] Set ${S.length} selected files as pending.`)):v.log("[Header] No valid image files selected.")}else v.log("[Header] No files selected.");x.target&&(x.target.value="")};return p.jsxs("header",{className:te("fixed top-0 left-0 right-0 z-10 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b",a?h&&l?"border-destructive dark:border-destructive":"border-neutral-200 dark:border-neutral-800":"border-orange-400 dark:border-orange-600"),children:[!a&&p.jsxs("div",{className:"absolute top-full left-0 right-0 bg-orange-100 dark:bg-orange-900 border-b border-orange-400 dark:border-orange-600 text-orange-700 dark:text-orange-200 px-4 py-1 text-xs flex items-center justify-center z-10",children:[p.jsx(t_,{className:"h-3 w-3 mr-1.5"}),"Offline Mode."]}),h&&p.jsxs("div",{className:te("absolute top-full left-0 right-0 border-b px-4 py-1.5 text-xs flex items-center justify-center z-10",l?"bg-destructive/10 border-destructive text-destructive dark:bg-destructive/20":"bg-primary/10 border-primary/50 text-primary dark:bg-primary/20"),children:[p.jsx(Zb,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"flex-grow text-center",children:l?`Connection error: ${l.message}`:"Connect to Dropbox to sync and save entries."}),p.jsxs(Xe,{size:"sm",variant:l?"destructive":"default",className:"h-6 px-2 py-0.5 text-xs ml-3 flex-shrink-0",onClick:r,children:[p.jsx(HI,{className:"h-3 w-3 mr-1"}),"Connect"]})]}),p.jsx("input",{type:"file",ref:u,onChange:y,multiple:!0,accept:"image/*",className:"hidden","aria-hidden":"true"}),p.jsxs("div",{className:te("container mx-auto flex items-center justify-between h-16 px-4"),children:[p.jsx("div",{className:"flex items-center",children:p.jsx("img",{src:"./logo.svg",alt:"Phojo Logo",className:"h-6 w-auto mr-2"})}),p.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p.jsxs(ME,{type:"single",size:"sm",value:o,onValueChange:x=>{x&&s(x)},className:"bg-muted p-0.5 rounded-md","aria-label":"View type",children:[p.jsx(jh,{value:"calendar","aria-label":"Calendar view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(BI,{className:"h-4 w-4"})}),p.jsx(jh,{value:"list","aria-label":"List view",className:"h-7 w-7 px-1 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:p.jsx(WI,{className:"h-4 w-4"})})]}),p.jsx(kj,{}),e&&p.jsxs(p.Fragment,{children:[!1,p.jsx(fM,{href:"/entry/new",onClick:w,children:p.jsx(Xe,{size:"icon",className:"h-8 w-8","aria-label":"New Entry",disabled:!a,title:a?"New Entry":"New entry disabled while offline",children:p.jsx(XI,{className:"h-4 w-4"})})}),p.jsx(gO,{})]})]})]})]})}function vO(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function Gu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Vh=e=>Array.isArray(e);function nP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Na(e){return typeof e=="string"||Array.isArray(e)}function pw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Gm(e,t,n,r){if(typeof t=="function"){const[o,s]=pw(r);t=t(n!==void 0?n:e.custom,o,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,s]=pw(r);t=t(n!==void 0?n:e.custom,o,s)}return t}function Ku(e,t,n){const r=e.getProps();return Gm(r,t,n!==void 0?n:r.custom,e)}const Km=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ym=["initial",...Km],rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(rl),Ar=e=>e*1e3,Rr=e=>e/1e3,wO={type:"spring",stiffness:500,damping:25,restSpeed:10},xO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),SO={type:"keyframes",duration:.8},bO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CO=(e,{keyframes:t})=>t.length>2?SO:ds.has(e)?e.startsWith("scale")?xO(t[1]):wO:bO;function Qm(e,t){return e?e[t]||e.default||e:void 0}const EO={skipAnimations:!1,useManualTiming:!1},PO=e=>e!==null;function Yu(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(PO),s=t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Gt=e=>e;let Uh=Gt;function TO(e){let t=new Set,n=new Set,r=!1,o=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,d=!1,u=!1)=>{const w=u&&r?t:n;return d&&s.add(c),w.has(c)||w.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(i=c,r){o=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,o&&(o=!1,l.process(c))}};return l}const Ul=["read","resolveKeyframes","update","preRender","render","postRender"],kO=40;function rP(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=Ul.reduce((m,g)=>(m[g]=TO(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,w=()=>{const m=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(m-o.timestamp,kO),1),o.timestamp=m,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(w))},y=()=>{n=!0,r=!0,o.isProcessing||e(w)};return{schedule:Ul.reduce((m,g)=>{const S=i[g];return m[g]=(C,E=!1,P=!1)=>(n||y(),S.schedule(C,E,P)),m},{}),cancel:m=>{for(let g=0;g<Ul.length;g++)i[Ul[g]].cancel(m)},state:o,steps:i}}const{schedule:et,cancel:Po,state:Lt,steps:uf}=rP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),oP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,DO=1e-7,AO=12;function RO(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=oP(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>DO&&++a<AO);return i}function ol(e,t,n,r){if(e===t&&n===r)return Gt;const o=s=>RO(s,0,1,e,n);return s=>s===0||s===1?s:oP(o(s),t,r)}const sP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iP=e=>t=>1-e(1-t),aP=ol(.33,1.53,.69,.99),Xm=iP(aP),lP=sP(Xm),cP=e=>(e*=2)<1?.5*Xm(e):.5*(2-Math.pow(2,-10*(e-1))),Zm=e=>1-Math.sin(Math.acos(e)),uP=iP(Zm),dP=sP(Zm),fP=e=>/^0[^.\s]+$/u.test(e);function MO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fP(e):!0}const hP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),pP=e=>t=>typeof t=="string"&&t.startsWith(e),mP=pP("--"),IO=pP("var(--"),Jm=e=>IO(e)?_O.test(e.split("/*")[0].trim()):!1,_O=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LO(e){const t=NO.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function gP(e,t,n=1){const[r,o]=LO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return hP(i)?parseFloat(i):i}return Jm(o)?gP(o,t,n+1):o}const Or=(e,t,n)=>n>t?t:n<e?e:n,Ei={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},La={...Ei,transform:e=>Or(0,1,e)},Bl={...Ei,default:1},sl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kr=sl("deg"),mr=sl("%"),ge=sl("px"),jO=sl("vh"),FO=sl("vw"),mw={...mr,parse:e=>mr.parse(e)/100,transform:e=>mr.transform(e*100)},OO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gw=e=>e===Ei||e===ge,yw=(e,t)=>parseFloat(e.split(", ")[t]),vw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return yw(o[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?yw(s[1],e):0}},$O=new Set(["x","y","z"]),VO=rl.filter(e=>!$O.has(e));function UO(e){const t=[];return VO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vw(4,13),y:vw(5,14)};hi.translateX=hi.x;hi.translateY=hi.y;const yP=e=>t=>t.test(e),BO={test:e=>e==="auto",parse:e=>e},vP=[Ei,ge,mr,Kr,FO,jO,BO],ww=e=>vP.find(yP(e)),Xo=new Set;let Bh=!1,zh=!1;function wP(){if(zh){const e=Array.from(Xo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=UO(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zh=!1,Bh=!1,Xo.forEach(e=>e.complete()),Xo.clear()}function xP(){Xo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zh=!0)})}function zO(){xP(),wP()}class eg{constructor(t,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xo.add(this),Bh||(Bh=!0,et.read(xP),et.resolveKeyframes(wP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),o&&i===void 0&&o.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oa=e=>Math.round(e*1e5)/1e5,tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qO(e){return e==null}const WO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ng=(e,t)=>n=>!!(typeof n=="string"&&WO.test(n)&&n.startsWith(e)||t&&!qO(n)&&Object.prototype.hasOwnProperty.call(n,t)),SP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,s,i,a]=r.match(tg);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},HO=e=>Or(0,255,e),df={...Ei,transform:e=>Math.round(HO(e))},Uo={test:ng("rgb","red"),parse:SP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+df.transform(e)+", "+df.transform(t)+", "+df.transform(n)+", "+oa(La.transform(r))+")"};function GO(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const qh={test:ng("#"),parse:GO,transform:Uo.transform},Rs={test:ng("hsl","hue"),parse:SP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+mr.transform(oa(t))+", "+mr.transform(oa(n))+", "+oa(La.transform(r))+")"},zt={test:e=>Uo.test(e)||qh.test(e)||Rs.test(e),parse:e=>Uo.test(e)?Uo.parse(e):Rs.test(e)?Rs.parse(e):qh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Uo.transform(e):Rs.transform(e)},KO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(tg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(KO))===null||n===void 0?void 0:n.length)||0)>0}const bP="number",CP="color",QO="var",XO="var(",xw="${}",ZO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ja(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=t.replace(ZO,l=>(zt.test(l)?(r.color.push(s),o.push(CP),n.push(zt.parse(l))):l.startsWith(XO)?(r.var.push(s),o.push(QO),n.push(l)):(r.number.push(s),o.push(bP),n.push(parseFloat(l))),++s,xw)).split(xw);return{values:n,split:a,indexes:r,types:o}}function EP(e){return ja(e).values}function PP(e){const{split:t,types:n}=ja(e),r=t.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],o[i]!==void 0){const a=n[i];a===bP?s+=oa(o[i]):a===CP?s+=zt.transform(o[i]):s+=o[i]}return s}}const JO=e=>typeof e=="number"?0:e;function e$(e){const t=EP(e);return PP(e)(t.map(JO))}const To={test:YO,parse:EP,createTransformer:PP,getAnimatableNone:e$},t$=new Set(["brightness","contrast","saturate","opacity"]);function n$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(tg)||[];if(!r)return e;const o=n.replace(r,"");let s=t$.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const r$=/\b([a-z-]*)\(.*?\)/gu,Wh={...To,getAnimatableNone:e=>{const t=e.match(r$);return t?t.map(n$).join(" "):e}},o$={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},s$={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Bl,scaleX:Bl,scaleY:Bl,scaleZ:Bl,skew:Kr,skewX:Kr,skewY:Kr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:La,originX:mw,originY:mw,originZ:ge},Sw={...Ei,transform:Math.round},rg={...o$,...s$,zIndex:Sw,size:ge,fillOpacity:La,strokeOpacity:La,numOctaves:Sw},i$={...rg,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:Wh,WebkitFilter:Wh},og=e=>i$[e];function TP(e,t){let n=og(e);return n!==Wh&&(n=To),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const a$=new Set(["auto","none","0"]);function l$(e,t,n){let r=0,o;for(;r<e.length&&!o;){const s=e[r];typeof s=="string"&&!a$.has(s)&&ja(s).values.length&&(o=e[r]),r++}if(o&&n)for(const s of t)e[s]=TP(n,o)}class kP extends eg{constructor(t,n,r,o,s){super(t,n,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Jm(c))){const d=gP(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!OO.has(r)||t.length!==2)return;const[o,s]=t,i=ww(o),a=ww(s);if(i!==a)if(gw(i)&&gw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)MO(t[o])&&r.push(o);r.length&&l$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=hi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function sg(e){return typeof e=="function"}let uc;function c$(){uc=void 0}const gr={now:()=>(uc===void 0&&gr.set(Lt.isProcessing||EO.useManualTiming?Lt.timestamp:performance.now()),uc),set:e=>{uc=e,queueMicrotask(c$)}},bw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(To.test(e)||e==="0")&&!e.startsWith("url("));function u$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function d$(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=bw(o,t),a=bw(s,t);return!i||!a?!1:u$(e)||(n==="spring"||sg(n))&&r}const f$=40;class DP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gr.now(),this.options={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>f$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!d$(t,r,o,s))if(i)this.options.duration=0;else{l==null||l(Yu(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const pi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},AP=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let s=0;s<o;s++)r+=e(pi(0,o-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function RP(e,t){return t?e*(1e3/t):0}const h$=5;function MP(e,t,n){const r=Math.max(t-h$,0);return RP(n-e(r),t-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ff=.001;function p$({duration:e=yt.duration,bounce:t=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let o,s,i=1-t;i=Or(yt.minDamping,yt.maxDamping,i),e=Or(yt.minDuration,yt.maxDuration,Rr(e)),i<1?(o=c=>{const d=c*i,u=d*e,h=d-n,w=Hh(c,i),y=Math.exp(-u);return ff-h/w*y},s=c=>{const u=c*i*e,h=u*n+n,w=Math.pow(i,2)*Math.pow(c,2)*e,y=Math.exp(-u),x=Hh(Math.pow(c,2),i);return(-o(c)+ff>0?-1:1)*((h-w)*y)/x}):(o=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-ff+d*u},s=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=g$(o,s,a);if(e=Ar(e),isNaN(l))return{stiffness:yt.stiffness,damping:yt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const m$=12;function g$(e,t,n){let r=n;for(let o=1;o<m$;o++)r=r-e(r)/t(r);return r}function Hh(e,t){return e*Math.sqrt(1-t*t)}const Gh=2e4;function IP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gh;)t+=n,r=e.next(t);return t>=Gh?1/0:t}const y$=["duration","bounce"],v$=["stiffness","damping","mass"];function Cw(e,t){return t.some(n=>e[n]!==void 0)}function w$(e){let t={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...e};if(!Cw(e,v$)&&Cw(e,y$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,s=2*Or(.05,1,1-e.bounce)*Math.sqrt(o);t={...t,mass:yt.mass,stiffness:o,damping:s}}else{const n=p$(e);t={...t,...n,mass:yt.mass},t.isResolvedFromDuration=!0}return t}function _P(e=yt.visualDuration,t=yt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:w}=w$({...n,velocity:-Rr(n.velocity||0)}),y=h||0,x=c/(2*Math.sqrt(l*d)),b=i-s,m=Rr(Math.sqrt(l/d)),g=Math.abs(b)<5;r||(r=g?yt.restSpeed.granular:yt.restSpeed.default),o||(o=g?yt.restDelta.granular:yt.restDelta.default);let S;if(x<1){const E=Hh(m,x);S=P=>{const k=Math.exp(-x*m*P);return i-k*((y+x*m*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(x===1)S=E=>i-Math.exp(-m*E)*(b+(y+m*b)*E);else{const E=m*Math.sqrt(x*x-1);S=P=>{const k=Math.exp(-x*m*P),D=Math.min(E*P,300);return i-k*((y+x*m*b)*Math.sinh(D)+E*b*Math.cosh(D))/E}}const C={calculatedDuration:w&&u||null,next:E=>{const P=S(E);if(w)a.done=E>=u;else{let k=0;x<1&&(k=E===0?Ar(y):MP(S,E,P));const D=Math.abs(k)<=r,R=Math.abs(i-P)<=o;a.done=D&&R}return a.value=a.done?i:P,a},toString:()=>{const E=Math.min(IP(C),Gh),P=AP(k=>C.next(E*k).value,E,30);return E+"ms "+P}};return C}function Ew({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},w=D=>a!==void 0&&D<a||l!==void 0&&D>l,y=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let x=n*t;const b=u+x,m=i===void 0?b:i(b);m!==b&&(x=m-u);const g=D=>-x*Math.exp(-D/r),S=D=>m+g(D),C=D=>{const R=g(D),A=S(D);h.done=Math.abs(R)<=c,h.value=h.done?m:A};let E,P;const k=D=>{w(h.value)&&(E=D,P=_P({keyframes:[h.value,y(h.value)],velocity:MP(S,D,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:D=>{let R=!1;return!P&&E===void 0&&(R=!0,C(D),k(D)),E!==void 0&&D>=E?P.next(D-E):(!R&&C(D),h)}}}const x$=ol(.42,0,1,1),S$=ol(0,0,.58,1),NP=ol(.42,0,.58,1),b$=e=>Array.isArray(e)&&typeof e[0]!="number",ig=e=>Array.isArray(e)&&typeof e[0]=="number",Pw={linear:Gt,easeIn:x$,easeInOut:NP,easeOut:S$,circIn:Zm,circInOut:dP,circOut:uP,backIn:Xm,backInOut:lP,backOut:aP,anticipate:cP},Tw=e=>{if(ig(e)){Uh(e.length===4);const[t,n,r,o]=e;return ol(t,n,r,o)}else if(typeof e=="string")return Uh(Pw[e]!==void 0),Pw[e];return e},C$=(e,t)=>n=>t(e(n)),vo=(...e)=>e.reduce(C$),dt=(e,t,n)=>e+(t-e)*n;function hf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function E$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=hf(l,a,e+1/3),s=hf(l,a,e),i=hf(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Qc(e,t){return n=>n>0?t:e}const pf=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},P$=[qh,Uo,Rs],T$=e=>P$.find(t=>t.test(e));function kw(e){const t=T$(e);if(!t)return!1;let n=t.parse(e);return t===Rs&&(n=E$(n)),n}const Dw=(e,t)=>{const n=kw(e),r=kw(t);if(!n||!r)return Qc(e,t);const o={...n};return s=>(o.red=pf(n.red,r.red,s),o.green=pf(n.green,r.green,s),o.blue=pf(n.blue,r.blue,s),o.alpha=dt(n.alpha,r.alpha,s),Uo.transform(o))},Kh=new Set(["none","hidden"]);function k$(e,t){return Kh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function D$(e,t){return n=>dt(e,t,n)}function ag(e){return typeof e=="number"?D$:typeof e=="string"?Jm(e)?Qc:zt.test(e)?Dw:M$:Array.isArray(e)?LP:typeof e=="object"?zt.test(e)?Dw:A$:Qc}function LP(e,t){const n=[...e],r=n.length,o=e.map((s,i)=>ag(s)(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function A$(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=ag(e[o])(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function R$(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][o[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const M$=(e,t)=>{const n=To.createTransformer(t),r=ja(e),o=ja(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Kh.has(e)&&!o.values.length||Kh.has(t)&&!r.values.length?k$(e,t):vo(LP(R$(r,o),o.values),n):Qc(e,t)};function jP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?dt(e,t,n):ag(e)(e,t)}function I$(e,t,n){const r=[],o=n||jP,s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Gt:t;a=vo(l,a)}r.push(a)}return r}function _$(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(Uh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=I$(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const u=pi(e[d],e[d+1],c);return i[d](u)};return n?c=>l(Or(e[0],e[s-1],c)):l}function N$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=pi(0,t,r);e.push(dt(n,1,o))}}function L$(e){const t=[0];return N$(t,e.length-1),t}function j$(e,t){return e.map(n=>n*t)}function F$(e,t){return e.map(()=>t||NP).splice(0,e.length-1)}function Xc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=b$(r)?r.map(Tw):Tw(r),s={done:!1,value:t[0]},i=j$(n&&n.length===t.length?n:L$(t),e),a=_$(i,t,{ease:Array.isArray(o)?o:F$(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const O$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>et.update(t,!0),stop:()=>Po(t),now:()=>Lt.isProcessing?Lt.timestamp:gr.now()}},$$={decay:Ew,inertia:Ew,tween:Xc,keyframes:Xc,spring:_P},V$=e=>e/100;class lg extends DP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:s}=this.options,i=(o==null?void 0:o.KeyframeResolver)||eg,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(s,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=sg(n)?n:$$[n]||Xc;let l,c;a!==Xc&&typeof t[0]!="number"&&(l=vo(V$,jP(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=IP(d));const{calculatedDuration:u}=d,h=u+o,w=h*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:w,repeatType:y,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=s;if(w){const D=Math.min(this.currentTime,d)/u;let R=Math.floor(D),A=D%1;!A&&D>=1&&(A=1),A===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(y==="reverse"?(A=1-A,x&&(A-=x/u)):y==="mirror"&&(C=i)),S=Or(0,1,A)*u}const E=g?{done:!1,value:l[0]}:C.next(S);a&&(E.value=a(E.value));let{done:P}=E;!g&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&o!==void 0&&(E.value=Yu(l,this.options,o)),b&&b(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Rr(t.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(t){t=Ar(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=O$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const U$=new Set(["opacity","clipPath","filter","transform"]);function cg(e){let t;return()=>(t===void 0&&(t=e()),t)}const B$={linearEasing:void 0};function z$(e,t){const n=cg(e);return()=>{var r;return(r=B$[t])!==null&&r!==void 0?r:n()}}const Zc=z$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function FP(e){return!!(typeof e=="function"&&Zc()||!e||typeof e=="string"&&(e in Yh||Zc())||ig(e)||Array.isArray(e)&&e.every(FP))}const Wi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Yh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wi([0,.65,.55,1]),circOut:Wi([.55,0,1,.45]),backIn:Wi([.31,.01,.66,-.59]),backOut:Wi([.33,1.53,.69,.99])};function OP(e,t){if(e)return typeof e=="function"&&Zc()?AP(e,t):ig(e)?Wi(e):Array.isArray(e)?e.map(n=>OP(n,t)||Yh.easeOut):Yh[e]}function q$(e,t,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=OP(a,o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function Aw(e,t){e.timeline=t,e.onfinish=null}const W$=cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jc=10,H$=2e4;function G$(e){return sg(e.type)||e.type==="spring"||!FP(e.ease)}function K$(e,t){const n=new lg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const o=[];let s=0;for(;!r.done&&s<H$;)r=n.sample(s),o.push(r.value),s+=Jc;return{times:void 0,keyframes:o,duration:s-Jc,ease:"linear"}}const $P={anticipate:cP,backInOut:lP,circInOut:dP};function Y$(e){return e in $P}class Rw extends DP{constructor(t){super(t);const{name:n,motionValue:r,element:o,keyframes:s}=this.options;this.resolver=new kP(s,(i,a)=>this.onKeyframesResolved(i,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&Zc()&&Y$(i)&&(i=$P[i]),G$(this.options)){const{onComplete:h,onUpdate:w,motionValue:y,element:x,...b}=this.options,m=K$(t,b);t=m.keyframes,t.length===1&&(t[1]=t[0]),o=m.duration,s=m.times,i=m.ease,a="keyframes"}const u=q$(l.owner.current,c,t,{...this.options,duration:o,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Aw(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Yu(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:o,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Rr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Rr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ar(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;Aw(r,t)}return Gt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...w}=this.options,y=new lg({...w,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),x=Ar(this.time);c.setWithVelocity(y.sample(x-Jc).value,y.sample(x).value,Jc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=t;return W$()&&r&&U$.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}const Q$=cg(()=>window.ScrollTimeline!==void 0);class X${constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(o=>Q$()&&o.attachTimeline?o.attachTimeline(t):n(o));return()=>{r.forEach((o,s)=>{o&&o(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Z$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const ug=(e,t,n,r={},o,s)=>i=>{const a=Qm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ar(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:o};Z$(a)||(d={...d,...CO(e,d)}),d.duration&&(d.duration=Ar(d.duration)),d.repeatDelay&&(d.repeatDelay=Ar(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!s&&t.get()!==void 0){const h=Yu(d.keyframes,a);if(h!==void 0)return et.update(()=>{d.onUpdate(h),d.onComplete()}),new X$([])}return!s&&Rw.supports(d)?new Rw(d):new lg(d)},J$=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),eV=e=>Vh(e)?e[e.length-1]||0:e;function dg(e,t){e.indexOf(t)===-1&&e.push(t)}function fg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class hg{constructor(){this.subscriptions=[]}add(t){return dg(this.subscriptions,t),()=>fg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mw=30,tV=e=>!isNaN(parseFloat(e));class nV{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=gr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=tV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new hg);const r=this.events[t].add(n);return t==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Mw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mw);return RP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fa(e,t){return new nV(e,t)}function rV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fa(n))}function oV(e,t){const n=Ku(e,t);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=eV(s[i]);rV(e,i,a)}}const pg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sV="framerAppearId",VP="data-"+pg(sV);function UP(e){return e.props[VP]}const Ht=e=>!!(e&&e.getVelocity);function iV(e){return!!(Ht(e)&&e.add)}function Qh(e,t){const n=e.getValue("willChange");if(iV(n))return n.add(t)}function aV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function BP(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){const h=e.getValue(u,(s=e.latestValues[u])!==null&&s!==void 0?s:null),w=l[u];if(w===void 0||d&&aV(d,u))continue;const y={delay:n,...Qm(i||{},u)};let x=!1;if(window.MotionHandoffAnimation){const m=UP(e);if(m){const g=window.MotionHandoffAnimation(m,u,et);g!==null&&(y.startTime=g,x=!0)}}Qh(e,u),h.start(ug(u,h,w,e.shouldReduceMotion&&ds.has(u)?{type:!1}:y,e,x));const b=h.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{et.update(()=>{a&&oV(e,a)})}),c}function Xh(e,t,n={}){var r;const o=Ku(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(BP(e,o,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return lV(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function lV(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(cV).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Xh(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function cV(e,t){return e.sortNodePosition(t)}function uV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Xh(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Xh(e,t,n);else{const o=typeof t=="function"?Ku(e,t,n.custom):t;r=Promise.all(BP(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const dV=Ym.length;function zP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<dV;n++){const r=Ym[n],o=e.props[r];(Na(o)||o===!1)&&(t[r]=o)}return t}const fV=[...Km].reverse(),hV=Km.length;function pV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>uV(e,n,r)))}function mV(e){let t=pV(e),n=Iw(),r=!0;const o=l=>(c,d)=>{var u;const h=Ku(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:w,transitionEnd:y,...x}=h;c={...c,...x,...y}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=zP(e.parent)||{},u=[],h=new Set;let w={},y=1/0;for(let b=0;b<hV;b++){const m=fV[b],g=n[m],S=c[m]!==void 0?c[m]:d[m],C=Na(S),E=m===l?g.isActive:null;E===!1&&(y=b);let P=S===d[m]&&S!==c[m]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...w},!g.isActive&&E===null||!S&&!g.prevProp||Gu(S)||typeof S=="boolean")continue;const k=gV(g.prevProp,S);let D=k||m===l&&g.isActive&&!P&&C||b>y&&C,R=!1;const A=Array.isArray(S)?S:[S];let N=A.reduce(o(m),{});E===!1&&(N={});const{prevResolvedValues:$={}}=g,Q={...$,...N},j=L=>{D=!0,h.has(L)&&(R=!0,h.delete(L)),g.needsAnimating[L]=!0;const M=e.getValue(L);M&&(M.liveStyle=!1)};for(const L in Q){const M=N[L],I=$[L];if(w.hasOwnProperty(L))continue;let V=!1;Vh(M)&&Vh(I)?V=!nP(M,I):V=M!==I,V?M!=null?j(L):h.add(L):M!==void 0&&h.has(L)?j(L):g.protectedKeys[L]=!0}g.prevProp=S,g.prevResolvedValues=N,g.isActive&&(w={...w,...N}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(P&&k)||R)&&u.push(...A.map(L=>({animation:L,options:{type:m}})))}if(h.size){const b={};h.forEach(m=>{const g=e.getBaseTarget(m),S=e.getValue(m);S&&(S.liveStyle=!0),b[m]=g??null}),u.push({animation:b})}let x=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var w;return(w=h.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const u=i(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Iw(),r=!0}}}function gV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nP(t,e):!1}function _o(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iw(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class Ro{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yV extends Ro{constructor(t){super(t),t.animationState||(t.animationState=mV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let vV=0;class wV extends Ro{constructor(){super(...arguments),this.id=vV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xV={animation:{Feature:yV},exit:{Feature:wV}};function SV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const s=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const $n={x:!1,y:!1};function qP(){return $n.x||$n.y}function _w(e){return t=>{t.pointerType==="touch"||qP()||e(t)}}function bV(e,t,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},s=_w(i=>{const{target:a}=i,l=t(i);if(!l||!a)return;const c=_w(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,o)});return SV(e).forEach(i=>{i.addEventListener("pointerenter",s,o)}),()=>r.abort()}function CV(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const WP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function il(e){return{point:{x:e.pageX,y:e.pageY}}}const EV=e=>t=>WP(t)&&e(t,il(t));function kr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wo(e,t,n,r){return kr(e,t,EV(n),r)}const Nw=(e,t)=>Math.abs(e-t);function PV(e,t){const n=Nw(e.x,t.x),r=Nw(e.y,t.y);return Math.sqrt(n**2+r**2)}class HP{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=gf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,w=PV(u.offset,{x:0,y:0})>=3;if(!h&&!w)return;const{point:y}=u,{timestamp:x}=Lt;this.history.push({...y,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=mf(h,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=gf(u.type==="pointercancel"?this.lastMoveEventInfo:mf(h,this.transformPagePoint),this.history);this.startEvent&&w&&w(u,b),y&&y(u,b)},!WP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=il(t),a=mf(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=Lt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,gf(a,this.history)),this.removeListeners=vo(wo(this.contextWindow,"pointermove",this.handlePointerMove),wo(this.contextWindow,"pointerup",this.handlePointerUp),wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function mf(e,t){return t?{point:t(e.point)}:e}function Lw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gf({point:e},t){return{point:e,delta:Lw(e,GP(t)),offset:Lw(e,TV(t)),velocity:kV(t,.1)}}function TV(e){return e[0]}function GP(e){return e[e.length-1]}function kV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=GP(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Ar(t)));)n--;if(!r)return{x:0,y:0};const s=Rr(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const KP=1e-4,DV=1-KP,AV=1+KP,YP=.01,RV=0-YP,MV=0+YP;function Sn(e){return e.max-e.min}function IV(e,t,n){return Math.abs(e-t)<=n}function jw(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Sn(n)/Sn(t),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=DV&&e.scale<=AV||isNaN(e.scale))&&(e.scale=1),(e.translate>=RV&&e.translate<=MV||isNaN(e.translate))&&(e.translate=0)}function sa(e,t,n,r){jw(e.x,t.x,n.x,r?r.originX:void 0),jw(e.y,t.y,n.y,r?r.originY:void 0)}function Fw(e,t,n){e.min=n.min+t.min,e.max=e.min+Sn(t)}function _V(e,t,n){Fw(e.x,t.x,n.x),Fw(e.y,t.y,n.y)}function Ow(e,t,n){e.min=t.min-n.min,e.max=e.min+Sn(t)}function ia(e,t,n){Ow(e.x,t.x,n.x),Ow(e.y,t.y,n.y)}function NV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function $w(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function LV(e,{top:t,left:n,bottom:r,right:o}){return{x:$w(e.x,n,o),y:$w(e.y,t,r)}}function Vw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jV(e,t){return{x:Vw(e.x,t.x),y:Vw(e.y,t.y)}}function FV(e,t){let n=.5;const r=Sn(e),o=Sn(t);return o>r?n=pi(t.min,t.max-r,e.min):r>o&&(n=pi(e.min,e.max-o,t.min)),Or(0,1,n)}function OV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Zh=.35;function $V(e=Zh){return e===!1?e=0:e===!0&&(e=Zh),{x:Uw(e,"left","right"),y:Uw(e,"top","bottom")}}function Uw(e,t,n){return{min:Bw(e,t),max:Bw(e,n)}}function Bw(e,t){return typeof e=="number"?e:e[t]||0}const zw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Is=()=>({x:zw(),y:zw()}),qw=()=>({min:0,max:0}),wt=()=>({x:qw(),y:qw()});function kn(e){return[e("x"),e("y")]}function QP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function VV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yf(e){return e===void 0||e===1}function Jh({scale:e,scaleX:t,scaleY:n}){return!yf(e)||!yf(t)||!yf(n)}function jo(e){return Jh(e)||XP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function XP(e){return Ww(e.x)||Ww(e.y)}function Ww(e){return e&&e!=="0%"}function eu(e,t,n){const r=e-n,o=t*r;return n+o}function Hw(e,t,n,r,o){return o!==void 0&&(e=eu(e,o,r)),eu(e,n,r)+t}function ep(e,t=0,n=1,r,o){e.min=Hw(e.min,t,n,r,o),e.max=Hw(e.max,t,n,r,o)}function ZP(e,{x:t,y:n}){ep(e.x,t.translate,t.scale,t.originPoint),ep(e.y,n.translate,n.scale,n.originPoint)}const Gw=.999999999999,Kw=1.0000000000001;function BV(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ns(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ZP(e,i)),r&&jo(s.latestValues)&&Ns(e,s.latestValues))}t.x<Kw&&t.x>Gw&&(t.x=1),t.y<Kw&&t.y>Gw&&(t.y=1)}function _s(e,t){e.min=e.min+t,e.max=e.max+t}function Yw(e,t,n,r,o=.5){const s=dt(e.min,e.max,o);ep(e,t,n,s,r)}function Ns(e,t){Yw(e.x,t.x,t.scaleX,t.scale,t.originX),Yw(e.y,t.y,t.scaleY,t.scale,t.originY)}function JP(e,t){return QP(UV(e.getBoundingClientRect(),t))}function zV(e,t,n){const r=JP(e,n),{scroll:o}=t;return o&&(_s(r.x,o.offset.x),_s(r.y,o.offset.y)),r}const eT=({current:e})=>e?e.ownerDocument.defaultView:null,qV=new WeakMap;class WV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(il(d).point)},s=(d,u)=>{const{drag:h,dragPropagation:w,onDragStart:y}=this.getProps();if(h&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CV(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(b=>{let m=this.getAxisMotionValue(b).get()||0;if(mr.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const S=g.layout.layoutBox[b];S&&(m=Sn(S)*(parseFloat(m)/100))}}this.originPoint[b]=m}),y&&et.postRender(()=>y(d,u)),Qh(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,u)=>{const{dragPropagation:h,dragDirectionLock:w,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=u;if(w&&this.currentDirection===null){this.currentDirection=HV(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),x&&x(d,u)},a=(d,u)=>this.stop(d,u),l=()=>kn(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new HP(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:eT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&et.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!zl(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=NV(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ms(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=LV(o.layoutBox,n):this.constraints=!1,this.elastic=$V(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=OV(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ms(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=zV(r,o.root,this.visualElement.getTransformPagePoint());let i=jV(o.layout.layoutBox,s);if(n){const a=n(VV(i));this.hasMutatedConstraints=!!a,a&&(i=QP(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kn(d=>{if(!zl(d,n,this.currentDirection))return;let u=l&&l[d]||{};i&&(u={min:0,max:0});const h=o?200:1e6,w=o?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Qh(this.visualElement,t),r.start(ug(t,r,0,n,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kn(n=>{const{drag:r}=this.getProps();if(!zl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-dt(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ms(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=FV({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(i=>{if(!zl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(dt(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;qV.set(this.visualElement,this);const t=this.visualElement.current,n=wo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ms(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),et.read(r);const i=kr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kn(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Zh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function zl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function HV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class GV extends Ro{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new WV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qw=e=>(t,n)=>{e&&et.postRender(()=>e(t,n))};class KV extends Ro{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new HP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Qw(t),onStart:Qw(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&et.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=wo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qu=f.createContext(null);function YV(){const e=f.useContext(Qu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();f.useEffect(()=>r(o),[]);const s=f.useCallback(()=>n&&n(o),[o,n]);return!t&&n?[!1,s]:[!0]}const mg=f.createContext({}),tT=f.createContext({}),dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $i={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=Xw(e,t.target.x),r=Xw(e,t.target.y);return`${n}% ${r}%`}},QV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=To.parse(e);if(o.length>5)return r;const s=To.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=dt(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}},tu={};function XV(e){Object.assign(tu,e)}const{schedule:gg,cancel:n3}=rP(queueMicrotask,!1);class ZV extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;XV(JV),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||et.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nT(e){const[t,n]=YV(),r=f.useContext(mg);return p.jsx(ZV,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(tT),isPresent:t,safeToRemove:n})}const JV={borderRadius:{...$i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$i,borderTopRightRadius:$i,borderBottomLeftRadius:$i,borderBottomRightRadius:$i,boxShadow:QV},rT=["TopLeft","TopRight","BottomLeft","BottomRight"],eU=rT.length,Zw=e=>typeof e=="string"?parseFloat(e):e,Jw=e=>typeof e=="number"||ge.test(e);function tU(e,t,n,r,o,s){o?(e.opacity=dt(0,n.opacity!==void 0?n.opacity:1,nU(r)),e.opacityExit=dt(t.opacity!==void 0?t.opacity:1,0,rU(r))):s&&(e.opacity=dt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<eU;i++){const a=`border${rT[i]}Radius`;let l=e0(t,a),c=e0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Jw(l)===Jw(c)?(e[a]=Math.max(dt(Zw(l),Zw(c),r),0),(mr.test(c)||mr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function e0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nU=oT(0,.5,uP),rU=oT(.5,.95,Gt);function oT(e,t,n){return r=>r<e?0:r>t?1:n(pi(e,t,r))}function t0(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){t0(e.x,t.x),t0(e.y,t.y)}function n0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function r0(e,t,n,r,o){return e-=t,e=eu(e,1/n,r),o!==void 0&&(e=eu(e,1/o,r)),e}function oU(e,t=0,n=1,r=.5,o,s=e,i=e){if(mr.test(t)&&(t=parseFloat(t),t=dt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=dt(s.min,s.max,r);e===s&&(a-=t),e.min=r0(e.min,t,n,a,o),e.max=r0(e.max,t,n,a,o)}function o0(e,t,[n,r,o],s,i){oU(e,t[n],t[r],t[o],t.scale,s,i)}const sU=["x","scaleX","originX"],iU=["y","scaleY","originY"];function s0(e,t,n,r){o0(e.x,t,sU,n?n.x:void 0,r?r.x:void 0),o0(e.y,t,iU,n?n.y:void 0,r?r.y:void 0)}function i0(e){return e.translate===0&&e.scale===1}function sT(e){return i0(e.x)&&i0(e.y)}function a0(e,t){return e.min===t.min&&e.max===t.max}function aU(e,t){return a0(e.x,t.x)&&a0(e.y,t.y)}function l0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iT(e,t){return l0(e.x,t.x)&&l0(e.y,t.y)}function c0(e){return Sn(e.x)/Sn(e.y)}function u0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lU{constructor(){this.members=[]}add(t){dg(this.members,t),t.scheduleRender()}remove(t){if(fg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cU(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:w,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),w&&(r+=`skewX(${w}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const uU=(e,t)=>e.depth-t.depth;class dU{constructor(){this.children=[],this.isDirty=!1}add(t){dg(this.children,t),this.isDirty=!0}remove(t){fg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uU),this.isDirty=!1,this.children.forEach(t)}}function fc(e){const t=Ht(e)?e.get():e;return J$(t)?t.toValue():t}function fU(e,t){const n=gr.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(Po(r),e(s-t))};return et.read(r,!0),()=>Po(r)}function hU(e){return e instanceof SVGElement&&e.tagName!=="svg"}function pU(e,t,n){const r=Ht(e)?e:Fa(e);return r.start(ug("",r,t,n)),r.animation}const Fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hi=typeof window<"u"&&window.MotionDebug!==void 0,vf=["","X","Y","Z"],mU={visibility:"hidden"},d0=1e3;let gU=0;function wf(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function aT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=UP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(o||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&aT(r)}function lT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=gU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hi&&(Fo.totalNodes=Fo.resolvedTargetDeltas=Fo.recalculatedProjection=0),this.nodes.forEach(wU),this.nodes.forEach(EU),this.nodes.forEach(PU),this.nodes.forEach(xU),Hi&&window.MotionDebug.record(Fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dU)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new hg),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hU(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=fU(h,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(h0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:w,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||RU,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),g=!this.targetLayout||!iT(this.targetLayout,y)||w,S=!h&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const C={...Qm(x,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||h0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TU),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f0);return}this.isUpdating||this.nodes.forEach(bU),this.isUpdating=!1,this.nodes.forEach(CU),this.nodes.forEach(yU),this.nodes.forEach(vU),this.clearAllSnapshots();const a=gr.now();Lt.delta=Or(0,1e3/60,a-Lt.timestamp),Lt.timestamp=a,Lt.isProcessing=!0,uf.update.process(Lt),uf.preRender.process(Lt),uf.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SU),this.sharedNodes.forEach(kU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!sT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||jo(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),MU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return wt();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(IU))){const{scroll:d}=this.root;d&&(_s(l.x,d.offset.x),_s(l.y,d.offset.y))}return l}removeElementScroll(i){var a;const l=wt();if(Tn(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Tn(l,i),_s(l.x,u.offset.x),_s(l.y,u.offset.y))}return l}applyTransform(i,a=!1){const l=wt();Tn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ns(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jo(d.latestValues)&&Ns(l,d.latestValues)}return jo(this.latestValues)&&Ns(l,this.latestValues),l}removeTransform(i){const a=wt();Tn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!jo(c.latestValues))continue;Jh(c.latestValues)&&c.updateSnapshot();const d=wt(),u=c.measurePageBox();Tn(d,u),s0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return jo(this.latestValues)&&s0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ia(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),ZP(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ia(this.relativeTargetOrigin,this.target,w.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hi&&Fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jh(this.parent.latestValues)||XP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,w=this.treeScale.y;BV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=wt());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(n0(this.prevProjectionDelta.x,this.projectionDelta.x),n0(this.prevProjectionDelta.y,this.projectionDelta.y)),sa(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==w||!u0(this.projectionDelta.x,this.prevProjectionDelta.x)||!u0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Hi&&Fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Is(),this.projectionDelta=Is(),this.projectionDeltaWithTransform=Is()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=Is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=wt(),w=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=w!==y,b=this.getStack(),m=!b||b.members.length<=1,g=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(AU));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const E=C/1e3;p0(u.x,i.x,E),p0(u.y,i.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ia(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DU(this.relativeTarget,this.relativeTargetOrigin,h,E),S&&aU(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=wt()),Tn(S,this.relativeTarget)),x&&(this.animationValues=d,tU(d,c,this.latestValues,E,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=pU(0,d0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&cT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||wt();const u=Sn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+u;const h=Sn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Tn(a,l),Ns(a,d),sa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new lU),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&wf("z",i,c,this.animationValues);for(let d=0;d<vf.length;d++)wf(`rotate${vf[d]}`,i,c,this.animationValues),wf(`skew${vf[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mU;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=fc(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=fc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=cU(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:w,y}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${y.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in tu){if(h[x]===void 0)continue;const{correct:b,applyTo:m}=tu[x],g=c.transform==="none"?h[x]:b(h[x],u);if(m){const S=m.length;for(let C=0;C<S;C++)c[m[C]]=g}else c[x]=g}return this.options.layoutId&&(c.pointerEvents=u===this?fc(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(f0),this.root.sharedNodes.clear()}}}function yU(e){e.updateLayout()}function vU(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],w=Sn(h);h.min=r[u].min,h.max=h.min+w}):cT(s,n.layoutBox,r)&&kn(u=>{const h=i?n.measuredBox[u]:n.layoutBox[u],w=Sn(r[u]);h.max=h.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+w)});const a=Is();sa(a,r,n.layoutBox);const l=Is();i?sa(l,e.applyTransform(o,!0),n.measuredBox):sa(l,r,n.layoutBox);const c=!sT(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:w}=u;if(h&&w){const y=wt();ia(y,n.layoutBox,h.layoutBox);const x=wt();ia(x,r,w.layoutBox),iT(y,x)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function wU(e){Hi&&Fo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SU(e){e.clearSnapshot()}function f0(e){e.clearMeasurements()}function bU(e){e.isLayoutDirty=!1}function CU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function h0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function EU(e){e.resolveTargetDelta()}function PU(e){e.calcProjection()}function TU(e){e.resetSkewAndRotation()}function kU(e){e.removeLeadSnapshot()}function p0(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function m0(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function DU(e,t,n,r){m0(e.x,t.x,n.x,r),m0(e.y,t.y,n.y,r)}function AU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RU={duration:.45,ease:[.4,0,.1,1]},g0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),y0=g0("applewebkit/")&&!g0("chrome/")?Math.round:Gt;function v0(e){e.min=y0(e.min),e.max=y0(e.max)}function MU(e){v0(e.x),v0(e.y)}function cT(e,t,n){return e==="position"||e==="preserve-aspect"&&!IV(c0(t),c0(n),.2)}function IU(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const _U=lT({attachResizeListener:(e,t)=>kr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xf={current:void 0},uT=lT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xf.current){const e=new _U({});e.mount(window),e.setOptions({layoutScroll:!0}),xf.current=e}return xf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NU={pan:{Feature:KV},drag:{Feature:GV,ProjectionNode:uT,MeasureLayout:nT}};function w0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&et.postRender(()=>o(t,il(t)))}class LU extends Ro{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=bV(t,r=>(w0(this.node,r,!0),o=>w0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class jU extends Ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vo(kr(this.node.current,"focus",()=>this.onFocus()),kr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dT=(e,t)=>t?e===t?!0:dT(e,t.parentElement):!1;function Sf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,il(n))}class FU extends Ro{constructor(){super(...arguments),this.removeStartListeners=Gt,this.removeEndListeners=Gt,this.removeAccessibleListeners=Gt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=wo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps(),h=!u&&!dT(this.node.current,a.target)?d:c;h&&et.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=wo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vo(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Sf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&et.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=kr(this.node.current,"keyup",i),Sf("down",(a,l)=>{this.startPress(a,l)})},n=kr(this.node.current,"keydown",t),r=()=>{this.isPressing&&Sf("cancel",(s,i)=>this.cancelPress(s,i))},o=kr(this.node.current,"blur",r);this.removeAccessibleListeners=vo(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=wo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=kr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tp=new WeakMap,bf=new WeakMap,OU=e=>{const t=tp.get(e.target);t&&t(e)},$U=e=>{e.forEach(OU)};function VU({root:e,...t}){const n=e||document;bf.has(n)||bf.set(n,{});const r=bf.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver($U,{root:e,...t})),r[o]}function UU(e,t,n){const r=VU(t);return tp.set(e,n),r.observe(e),()=>{tp.delete(e),r.unobserve(e)}}const BU={some:0,all:1};class zU extends Ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:BU[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return UU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qU(t,n))&&this.startObserver()}unmount(){}}function qU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const WU={inView:{Feature:zU},tap:{Feature:FU},focus:{Feature:jU},hover:{Feature:LU}},HU={layout:{ProjectionNode:uT,MeasureLayout:nT}},yg=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xu=f.createContext({}),vg=typeof window<"u",fT=vg?f.useLayoutEffect:f.useEffect,hT=f.createContext({strict:!1});function GU(e,t,n,r,o){var s,i;const{visualElement:a}=f.useContext(Xu),l=f.useContext(hT),c=f.useContext(Qu),d=f.useContext(yg).reducedMotion,u=f.useRef();r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,w=f.useContext(tT);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&KU(u.current,n,o,w);const y=f.useRef(!1);f.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const x=n[VP],b=f.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return fT(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),gg.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),f.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,x)}),b.current=!1))}),h}function KU(e,t,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pT(e.parent)),e.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Ms(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function pT(e){if(e)return e.options.allowProjection!==!1?e.projection:pT(e.parent)}function YU(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ms(n)&&(n.current=r))},[t])}function Zu(e){return Gu(e.animate)||Ym.some(t=>Na(e[t]))}function mT(e){return!!(Zu(e)||e.variants)}function QU(e,t){if(Zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Na(n)?n:void 0,animate:Na(r)?r:void 0}}return e.inherit!==!1?t:{}}function XU(e){const{initial:t,animate:n}=QU(e,f.useContext(Xu));return f.useMemo(()=>({initial:t,animate:n}),[x0(t),x0(n)])}function x0(e){return Array.isArray(e)?e.join(" "):e}const S0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mi={};for(const e in S0)mi[e]={isEnabled:t=>S0[e].some(n=>!!t[n])};function ZU(e){for(const t in e)mi[t]={...mi[t],...e[t]}}const JU=Symbol.for("motionComponentSymbol");function eB({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&ZU(e);function s(a,l){let c;const d={...f.useContext(yg),...a,layoutId:tB(a)},{isStatic:u}=d,h=XU(a),w=r(a,u);if(!u&&vg){nB();const y=rB(d);c=y.MeasureLayout,h.visualElement=GU(o,w,d,t,y.ProjectionNode)}return p.jsxs(Xu.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...d}):null,n(o,a,YU(w,h.visualElement,l),w,u,h.visualElement)]})}const i=f.forwardRef(s);return i[JU]=o,i}function tB({layoutId:e}){const t=f.useContext(mg).id;return t&&e!==void 0?t+"-"+e:e}function nB(e,t){f.useContext(hT).strict}function rB(e){const{drag:t,layout:n}=mi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const oB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wg(e){return typeof e!="string"||e.includes("-")?!1:!!(oB.indexOf(e)>-1||/[A-Z]/u.test(e))}function gT(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const yT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vT(e,t,n,r){gT(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(yT.has(o)?o:pg(o),t.attrs[o])}function wT(e,{layout:t,layoutId:n}){return ds.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!tu[e]||e==="opacity")}function xg(e,t,n){var r;const{style:o}=e,s={};for(const i in o)(Ht(o[i])||t.style&&Ht(t.style[i])||wT(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function xT(e,t,n){const r=xg(e,t,n);for(const o in e)if(Ht(e[o])||Ht(t[o])){const s=rl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=e[o]}return r}function Sg(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function sB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:iB(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const ST=e=>(t,n)=>{const r=f.useContext(Xu),o=f.useContext(Qu),s=()=>sB(e,t,r,o);return n?s():Sg(s)};function iB(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=fc(s[h]);let{initial:i,animate:a}=e;const l=Zu(e),c=mT(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const u=d?a:i;if(u&&typeof u!="boolean"&&!Gu(u)){const h=Array.isArray(u)?u:[u];for(let w=0;w<h.length;w++){const y=Gm(e,h[w]);if(y){const{transitionEnd:x,transition:b,...m}=y;for(const g in m){let S=m[g];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(o[g]=S)}for(const g in x)o[g]=x[g]}}}return o}const bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bT=()=>({...bg(),attrs:{}}),CT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,aB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lB=rl.length;function cB(e,t,n){let r="",o=!0;for(let s=0;s<lB;s++){const i=rl[s],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=CT(a,rg[i]);if(!l){o=!1;const d=aB[i]||i;r+=`${d}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Cg(e,t,n){const{style:r,vars:o,transformOrigin:s}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if(ds.has(l)){i=!0;continue}else if(mP(l)){o[l]=c;continue}else{const d=CT(c,rg[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(i||n?r.transform=cB(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function b0(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function uB(e,t,n){const r=b0(t,e.x,e.width),o=b0(n,e.y,e.height);return`${r} ${o}`}const dB={offset:"stroke-dashoffset",array:"stroke-dasharray"},fB={offset:"strokeDashoffset",array:"strokeDasharray"};function hB(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?dB:fB;e[s.offset]=ge.transform(-r);const i=ge.transform(t),a=ge.transform(n);e[s.array]=`${i} ${a}`}function Eg(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(Cg(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:w,dimensions:y}=e;h.transform&&(y&&(w.transform=h.transform),delete h.transform),y&&(o!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=uB(y,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&hB(h,i,a,l,!1)}const Pg=e=>typeof e=="string"&&e.toLowerCase()==="svg",pB={useVisualState:ST({scrapeMotionValuesFromProps:xT,createRenderState:bT,onMount:(e,t,{renderState:n,latestValues:r})=>{et.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{Eg(n,r,Pg(t.tagName),e.transformTemplate),vT(t,n)})}})},mB={useVisualState:ST({scrapeMotionValuesFromProps:xg,createRenderState:bg})};function ET(e,t,n){for(const r in t)!Ht(t[r])&&!wT(r,n)&&(e[r]=t[r])}function gB({transformTemplate:e},t){return f.useMemo(()=>{const n=bg();return Cg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yB(e,t){const n=e.style||{},r={};return ET(r,n,e),Object.assign(r,gB(e,t)),r}function vB(e,t){const n={},r=yB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const wB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wB.has(e)}let PT=e=>!nu(e);function xB(e){e&&(PT=t=>t.startsWith("on")?!nu(t):e(t))}try{xB(require("@emotion/is-prop-valid").default)}catch{}function SB(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(PT(o)||n===!0&&nu(o)||!t&&!nu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function bB(e,t,n,r){const o=f.useMemo(()=>{const s=bT();return Eg(s,t,Pg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};ET(s,e.style,e),o.style={...s,...o.style}}return o}function CB(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(wg(n)?bB:vB)(r,s,i,n),c=SB(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:o}:{},{children:u}=r,h=f.useMemo(()=>Ht(u)?u.get():u,[u]);return f.createElement(n,{...d,children:h})}}function EB(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const i={...wg(r)?pB:mB,preloadedFeatures:e,useRender:CB(o),createVisualElement:t,Component:r};return eB(i)}}const np={current:null},TT={current:!1};function PB(){if(TT.current=!0,!!vg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>np.current=e.matches;e.addListener(t),t()}else np.current=!1}function TB(e,t,n){for(const r in t){const o=t[r],s=n[r];if(Ht(o))e.addValue(r,o);else if(Ht(s))e.addValue(r,Fa(o,{owner:e}));else if(s!==o)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(o):i.hasAnimated||i.set(o)}else{const i=e.getStaticValue(r);e.addValue(r,Fa(i!==void 0?i:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const C0=new WeakMap,kB=[...vP,zt,To],DB=e=>kB.find(yP(e)),E0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=gr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,et.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Zu(n),this.isVariantNode=mT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const w=u[h];l[h]!==void 0&&Ht(w)&&w.set(l[h],!1)}}mount(t){this.current=t,C0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TT.current||PB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:np.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){C0.delete(this.current),this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ds.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mi){const n=mi[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<E0.length;r++){const o=E0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=t[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=TB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Fa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(hP(o)||fP(o))?o=parseFloat(o):!DB(o)&&To.test(n)&&(o=TP(t,n)),this.setBaseTarget(t,Ht(o)?o.get():o)),Ht(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=Gm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[t])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ht(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new hg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class kT extends AB{constructor(){super(...arguments),this.KeyframeResolver=kP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ht(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RB(e){return window.getComputedStyle(e)}class MB extends kT{constructor(){super(...arguments),this.type="html",this.renderInstance=gT}readValueFromInstance(t,n){if(ds.has(n)){const r=og(n);return r&&r.default||0}else{const r=RB(t),o=(mP(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JP(t,n)}build(t,n,r){Cg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return xg(t,n,r)}}class IB extends kT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ds.has(n)){const r=og(n);return r&&r.default||0}return n=yT.has(n)?n:pg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xT(t,n,r)}build(t,n,r){Eg(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,o){vT(t,n,r,o)}mount(t){this.isSVGTag=Pg(t.tagName),super.mount(t)}}const _B=(e,t)=>wg(e)?new IB(t):new MB(t,{allowProjection:e!==f.Fragment}),NB=EB({...xV,...WU,...NU,...HU},_B),Ju=vO(NB);class LB extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jB({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=f.useContext(yg);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),p.jsx(LB,{isPresent:t,childRef:r,sizeRef:o,children:f.cloneElement(e,{ref:r})})}const FB=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=Sg(OB),l=f.useId(),c=f.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random(),c]:[n,c]);return f.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.jsx(jB,{isPresent:n,children:e})),p.jsx(Qu.Provider,{value:d,children:e})};function OB(){return new Map}const ql=e=>e.key||"";function P0(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Tg=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=f.useMemo(()=>P0(e),[e]),l=a.map(ql),c=f.useRef(!0),d=f.useRef(a),u=Sg(()=>new Map),[h,w]=f.useState(a),[y,x]=f.useState(a);fT(()=>{c.current=!1,d.current=a;for(let g=0;g<y.length;g++){const S=ql(y[g]);l.includes(S)?u.delete(S):u.get(S)!==!0&&u.set(S,!1)}},[y,l.length,l.join("-")]);const b=[];if(a!==h){let g=[...a];for(let S=0;S<y.length;S++){const C=y[S],E=ql(C);l.includes(E)||(g.splice(S,0,C),b.push(C))}i==="wait"&&b.length&&(g=b),x(P0(g)),w(a);return}const{forceRender:m}=f.useContext(mg);return p.jsx(p.Fragment,{children:y.map(g=>{const S=ql(g),C=a===y||l.includes(S),E=()=>{if(u.has(S))u.set(S,!0);else return;let P=!0;u.forEach(k=>{k||(P=!1)}),P&&(m==null||m(),x(d.current),o&&o())};return p.jsx(FB,{isPresent:C,initial:!c.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:E,children:g},S)})})};function $B({day:e,hasPhotoEntries:t,entryCount:n,onClick:r}){const o=`calendar-day aspect-square relative p-1 transition-colors duration-200 rounded-lg select-none cursor-pointer bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md hover:bg-neutral-50 dark:hover:bg-neutral-700 overflow-hidden ${t?"day-with-image":""}`;return p.jsxs(Ju.div,{className:o,onClick:r,"data-day":e,layout:!0,whileTap:{scale:.95},children:[t&&p.jsx("img",{alt:"",className:"calendar-day-img absolute top-0 left-0 rounded-lg z-0 max-w-none",loading:"lazy"}),p.jsxs("div",{className:"day-content relative z-10 flex flex-col h-full justify-between",children:[p.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 self-start",children:e}),n>0&&p.jsx("div",{className:"mt-auto self-end w-full px-0.5 pb-0.5",children:p.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[n===1&&p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n>1&&p.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 bg-primary/80 text-primary-foreground rounded-full leading-none",children:n})]})})]})]})}function VB(){const{currentMonth:e,currentYear:t,currentMonthEntries:n,swipeDirection:r,handleDayClick:o,handleCalendarSwipe:s,loadDayBackgrounds:i}=Zn(),a=50,l=.3,c={enter:y=>({x:y>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:y=>({x:y<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0})},d=(y,x)=>{const{offset:b,velocity:m}=x;b.x>a||m.x>l&&b.x>10?s(-1):(b.x<-a||m.x<-l&&b.x<-10)&&s(1)},u=f.useCallback(y=>{const b=new Date(Date.UTC(t,e-1,y)).toISOString().split("T")[0],m=n.filter(S=>S.date===b);return{hasPhotoEntries:m.some(S=>S.photos&&S.photos.length>0),entryCount:m.length}},[n,e,t]),h=f.useCallback(()=>{const y=new Date(t,e-1,0).getDate(),x=new Date(t,e-1,1).getDay(),b=Array(x).fill(null).map((g,S)=>({type:"empty",index:S})),m=Array.from({length:y},(g,S)=>({type:"day",day:S+1}));return[...b,...m]},[e,t]),w=()=>{i()};return p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(y=>p.jsx("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-2",children:y},y))}),p.jsxs("div",{className:"relative min-h-[300px] md:min-h-[500px]",children:[" ",p.jsx(Tg,{initial:!1,custom:r,mode:"wait",children:p.jsx(Ju.div,{custom:r,variants:c,initial:"enter",animate:"center",exit:"exit",onAnimationComplete:w,className:"grid grid-cols-7 gap-1 md:gap-2 touch-none",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:d,style:{willChange:"transform"},children:h().map(y=>{const x=m=>m.type==="day",b=x(y)?`day-${y.day}`:`empty-${y.index}`;if(x(y)){const{hasPhotoEntries:m,entryCount:g}=u(y.day);return p.jsx($B,{day:y.day,hasPhotoEntries:m,entryCount:g,onClick:()=>o(y.day)},b)}else return p.jsx("div",{className:"aspect-square relative p-1 bg-transparent"},b)})},`${t}-${e}`)})]})]})}function UB(){const{currentMonth:e,currentYear:t,goToPreviousMonth:n,goToNextMonth:r,openMonthYearPicker:o}=Zn(),s=new Date(t,e-1).toLocaleString("default",{month:"long"});return p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(Xe,{variant:"outline",size:"icon",onClick:n,"aria-label":"Previous Month",className:"w-9 h-9",children:p.jsx($I,{className:"h-4 w-4"})}),p.jsxs(Xe,{variant:"ghost",onClick:o,className:"font-medium text-lg px-2",children:[p.jsx(OI,{className:"h-4 w-4 mr-2"}),s," ",t]}),p.jsx(Xe,{variant:"outline",size:"icon",onClick:r,"aria-label":"Next Month",className:"w-9 h-9",children:p.jsx(Xb,{className:"h-4 w-4"})})]})}function kg(e,[t,n]){return Math.min(n,Math.max(t,e))}function BB(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Dg="ScrollArea",[DT,o3]=fn(Dg),[zB,Fn]=DT(Dg),AT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[w,y]=f.useState(null),[x,b]=f.useState(null),[m,g]=f.useState(0),[S,C]=f.useState(0),[E,P]=f.useState(!1),[k,D]=f.useState(!1),R=Le(t,N=>l(N)),A=el(o);return p.jsx(zB,{scope:n,type:r,dir:A,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:w,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:D,onCornerWidthChange:g,onCornerHeightChange:C,children:p.jsx(we.div,{dir:A,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});AT.displayName=Dg;var RT="ScrollAreaViewport",MT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,i=Fn(RT,n),a=f.useRef(null),l=Le(t,a,i.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(we.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});MT.displayName=RT;var xr="ScrollAreaScrollbar",Ag=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(xr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return f.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?p.jsx(qB,{...r,ref:t,forceMount:n}):o.type==="scroll"?p.jsx(WB,{...r,ref:t,forceMount:n}):o.type==="auto"?p.jsx(IT,{...r,ref:t,forceMount:n}):o.type==="always"?p.jsx(Rg,{...r,ref:t}):null});Ag.displayName=xr;var qB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(xr,e.__scopeScrollArea),[s,i]=f.useState(!1);return f.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(hn,{present:n||s,children:p.jsx(IT,{"data-state":s?"visible":"hidden",...r,ref:t})})}),WB=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Fn(xr,e.__scopeScrollArea),s=e.orientation==="horizontal",i=td(()=>l("SCROLL_END"),100),[a,l]=BB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),f.useEffect(()=>{const c=o.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const h=()=>{const w=c[d];u!==w&&(l("SCROLL"),i()),u=w};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[o.viewport,s,l,i]),p.jsx(hn,{present:n||a!=="hidden",children:p.jsx(Rg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:se(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),IT=f.forwardRef((e,t)=>{const n=Fn(xr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=f.useState(!1),a=e.orientation==="horizontal",l=td(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return gi(n.viewport,l),gi(n.content,l),p.jsx(hn,{present:r||s,children:p.jsx(Rg,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Rg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Fn(xr,e.__scopeScrollArea),s=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=FT(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,w){return XB(h,i.current,a,w)}return n==="horizontal"?p.jsx(HB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,w=T0(h,a,o.dir);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=u(h,o.dir))}}):n==="vertical"?p.jsx(GB,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,w=T0(h,a);s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=u(h))}}):null}),HB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Fn(xr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Le(t,l,s.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(NT,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ed(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),$T(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ou(i.paddingLeft),paddingEnd:ou(i.paddingRight)}})}})}),GB=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Fn(xr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=Le(t,l,s.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(NT,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ed(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),$T(h,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ou(i.paddingTop),paddingEnd:ou(i.paddingBottom)}})}})}),[KB,_T]=DT(xr),NT=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,w=Fn(xr,n),[y,x]=f.useState(null),b=Le(t,R=>x(R)),m=f.useRef(null),g=f.useRef(""),S=w.viewport,C=r.content-r.viewport,E=ut(d),P=ut(l),k=td(u,10);function D(R){if(m.current){const A=R.clientX-m.current.left,N=R.clientY-m.current.top;c({x:A,y:N})}}return f.useEffect(()=>{const R=A=>{const N=A.target;(y==null?void 0:y.contains(N))&&E(A,C)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[S,y,C,E]),f.useEffect(P,[r,P]),gi(y,k),gi(w.content,k),p.jsx(KB,{scope:n,scrollbar:y,hasThumb:o,onThumbChange:ut(s),onThumbPointerUp:ut(i),onThumbPositionChange:P,onThumbPointerDown:ut(a),children:p.jsx(we.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:se(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),m.current=y.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),D(R))}),onPointerMove:se(e.onPointerMove,D),onPointerUp:se(e.onPointerUp,R=>{const A=R.target;A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=g.current,w.viewport&&(w.viewport.style.scrollBehavior=""),m.current=null})})})}),ru="ScrollAreaThumb",LT=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=_T(ru,e.__scopeScrollArea);return p.jsx(hn,{present:n||o.hasThumb,children:p.jsx(YB,{ref:t,...r})})}),YB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Fn(ru,n),i=_T(ru,n),{onThumbPositionChange:a}=i,l=Le(t,u=>i.onThumbChange(u)),c=f.useRef(void 0),d=td(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const u=s.viewport;if(u){const h=()=>{if(d(),!c.current){const w=ZB(u,a);c.current=w,a()}};return a(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(we.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(e.onPointerDownCapture,u=>{const w=u.target.getBoundingClientRect(),y=u.clientX-w.left,x=u.clientY-w.top;i.onThumbPointerDown({x:y,y:x})}),onPointerUp:se(e.onPointerUp,i.onThumbPointerUp)})});LT.displayName=ru;var Mg="ScrollAreaCorner",jT=f.forwardRef((e,t)=>{const n=Fn(Mg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(QB,{...e,ref:t}):null});jT.displayName=Mg;var QB=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Fn(Mg,n),[s,i]=f.useState(0),[a,l]=f.useState(0),c=!!(s&&a);return gi(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),gi(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),i(d)}),c?p.jsx(we.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ou(e){return e?parseInt(e,10):0}function FT(e,t){const n=e/t;return isNaN(n)?0:n}function ed(e){const t=FT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function XB(e,t,n,r="ltr"){const o=ed(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return OT([l,c],u)(e)}function T0(e,t,n="ltr"){const r=ed(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=kg(e,l);return OT([0,i],[0,a])(c)}function OT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function $T(e,t){return e>0&&e<t}var ZB=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function td(e,t){const n=ut(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function gi(e,t){const n=ut(t);jn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var VT=AT,JB=MT,ez=jT;const UT=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(VT,{ref:r,className:te("relative overflow-hidden",e),...n,children:[p.jsx(JB,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(BT,{}),p.jsx(ez,{})]}));UT.displayName=VT.displayName;const BT=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(Ag,{ref:r,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(LT,{className:"relative flex-1 rounded-full bg-border"})}));BT.displayName=Ag.displayName;const tz=e=>{if(!e)return 18;const t=window.getComputedStyle(e),n=t.lineHeight;if(n==="normal"){const r=parseFloat(t.fontSize);return Math.floor(r*1.3)}return parseFloat(n)},zT=({text:e,linesToShow:t=4,className:n})=>{const[r,o]=f.useState(!1),[s,i]=f.useState(!1),[a,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),u=f.useCallback(()=>{const w=c.current,y=d.current;if(y){const x=tz(y),b=x*t,g=y.scrollHeight>b+x*.5;l(g),i(w&&!r?w.scrollHeight>w.clientHeight+2||g:!1),w&&!r&&g?(w.style.maxHeight=`${b}px`,w.style.overflow="hidden"):w&&(w.style.maxHeight="",w.style.overflow="")}},[t,r]);f.useLayoutEffect(()=>{u()},[e,t,u]),f.useEffect(()=>{const w=c.current;if(!w)return;const y=new ResizeObserver(()=>{u()});return y.observe(w),()=>y.disconnect()},[u]);const h=()=>{o(!r)};return p.jsxs("div",{children:[p.jsx("p",{ref:d,className:te("text-sm font-sans whitespace-pre-wrap break-words invisible absolute -z-10",n),"aria-hidden":"true",children:e||""}),p.jsxs("p",{ref:c,"data-testid":"truncated-text-content",className:te("text-sm text-foreground font-sans whitespace-pre-wrap break-words relative transition-[max-height]",!r&&a?"overflow-hidden":"",n),children:[e||"",!r&&s&&p.jsx("span",{className:"absolute bottom-0 left-0 w-full h-4 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),a&&p.jsx(Xe,{variant:"link",className:"p-0 h-auto text-xs text-muted-foreground hover:text-primary mt-1",onClick:h,children:r?"(less)":"(more)"})]})};function nz(e){return Object.prototype.toString.call(e)==="[object Object]"}function k0(e){return nz(e)||Array.isArray(e)}function rz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ig(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(i=>{const a=e[i],l=t[i];return typeof a=="function"?`${a}`==`${l}`:!k0(a)||!k0(l)?a===l:Ig(a,l)})}function D0(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function oz(e,t){if(e.length!==t.length)return!1;const n=D0(e),r=D0(t);return n.every((o,s)=>{const i=r[s];return Ig(o,i)})}function _g(e){return typeof e=="number"}function rp(e){return typeof e=="string"}function nd(e){return typeof e=="boolean"}function A0(e){return Object.prototype.toString.call(e)==="[object Object]"}function ft(e){return Math.abs(e)}function Ng(e){return Math.sign(e)}function aa(e,t){return ft(e-t)}function sz(e,t){if(e===0||t===0||ft(e)<=ft(t))return 0;const n=aa(ft(e),ft(t));return ft(n/e)}function iz(e){return Math.round(e*100)/100}function Oa(e){return $a(e).map(Number)}function Gn(e){return e[al(e)]}function al(e){return Math.max(0,e.length-1)}function Lg(e,t){return t===al(e)}function R0(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function $a(e){return Object.keys(e)}function qT(e,t){return[e,t].reduce((n,r)=>($a(r).forEach(o=>{const s=n[o],i=r[o],a=A0(s)&&A0(i);n[o]=a?qT(s,i):i}),n),{})}function op(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function az(e,t){const n={start:r,center:o,end:s};function r(){return 0}function o(l){return s(l)/2}function s(l){return t-l}function i(l,c){return rp(e)?n[e](l):e(t,l,c)}return{measure:i}}function Va(){let e=[];function t(o,s,i,a={passive:!0}){let l;if("addEventListener"in o)o.addEventListener(s,i,a),l=()=>o.removeEventListener(s,i,a);else{const c=o;c.addListener(i),l=()=>c.removeListener(i)}return e.push(l),r}function n(){e=e.filter(o=>o())}const r={add:t,clear:n};return r}function lz(e,t,n,r){const o=Va(),s=1e3/60;let i=null,a=0,l=0;function c(){o.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){w(),o.clear()}function u(b){if(!l)return;i||(i=b,n(),n());const m=b-i;for(i=b,a+=m;a>=s;)n(),a-=s;const g=a/s;r(g),l&&(l=t.requestAnimationFrame(u))}function h(){l||(l=t.requestAnimationFrame(u))}function w(){t.cancelAnimationFrame(l),i=null,a=0,l=0}function y(){i=null,a=0}return{init:c,destroy:d,start:h,stop:w,update:n,render:r}}function cz(e,t){const n=t==="rtl",r=e==="y",o=r?"y":"x",s=r?"x":"y",i=!r&&n?-1:1,a=d(),l=u();function c(y){const{height:x,width:b}=y;return r?x:b}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function h(y){return y*i}return{scroll:o,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function ss(e=0,t=0){const n=ft(e-t);function r(c){return c<e}function o(c){return c>t}function s(c){return r(c)||o(c)}function i(c){return s(c)?r(c)?e:t:c}function a(c){return n?c-n*Math.ceil((c-t)/n):c}return{length:n,max:t,min:e,constrain:i,reachedAny:s,reachedMax:o,reachedMin:r,removeOffset:a}}function WT(e,t,n){const{constrain:r}=ss(0,e),o=e+1;let s=i(t);function i(h){return n?ft((o+h)%o):r(h)}function a(){return s}function l(h){return s=i(h),u}function c(h){return d().set(a()+h)}function d(){return WT(e,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function uz(e,t,n,r,o,s,i,a,l,c,d,u,h,w,y,x,b,m,g){const{cross:S,direction:C}=e,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},k=Va(),D=Va(),R=ss(50,225).constrain(w.measure(20)),A={mouse:300,touch:400},N={mouse:500,touch:600},$=y?43:25;let Q=!1,j=0,X=0,_=!1,L=!1,M=!1,I=!1;function V(z){if(!g)return;function ve(Be){(nd(g)||g(z,Be))&&le(Be)}const Te=t;k.add(Te,"dragstart",Be=>Be.preventDefault(),P).add(Te,"touchmove",()=>{},P).add(Te,"touchend",()=>{}).add(Te,"touchstart",ve).add(Te,"mousedown",ve).add(Te,"touchcancel",Ve).add(Te,"contextmenu",Ve).add(Te,"click",Ie,!0)}function G(){k.clear(),D.clear()}function Z(){const z=I?n:t;D.add(z,"touchmove",he,P).add(z,"touchend",Ve).add(z,"mousemove",he,P).add(z,"mouseup",Ve)}function Pe(z){const ve=z.nodeName||"";return E.includes(ve)}function K(){return(y?N:A)[I?"mouse":"touch"]}function Je(z,ve){const Te=u.add(Ng(z)*-1),Be=d.byDistance(z,!y).distance;return y||ft(z)<R?Be:b&&ve?Be*.5:d.byIndex(Te.get(),0).distance}function le(z){const ve=op(z,r);I=ve,M=y&&ve&&!z.buttons&&Q,Q=aa(o.get(),i.get())>=2,!(ve&&z.button!==0)&&(Pe(z.target)||(_=!0,s.pointerDown(z),c.useFriction(0).useDuration(0),o.set(i),Z(),j=s.readPoint(z),X=s.readPoint(z,S),h.emit("pointerDown")))}function he(z){if(!op(z,r)&&z.touches.length>=2)return Ve(z);const Te=s.readPoint(z),Be=s.readPoint(z,S),Pt=aa(Te,j),Tt=aa(Be,X);if(!L&&!I&&(!z.cancelable||(L=Pt>Tt,!L)))return Ve(z);const it=s.pointerMove(z);Pt>x&&(M=!0),c.useFriction(.3).useDuration(.75),a.start(),o.add(C(it)),z.preventDefault()}function Ve(z){const Te=d.byDistance(0,!1).index!==u.get(),Be=s.pointerUp(z)*K(),Pt=Je(C(Be),Te),Tt=sz(Be,Pt),it=$-10*Tt,at=m+Tt/50;L=!1,_=!1,D.clear(),c.useDuration(it).useFriction(at),l.distance(Pt,!y),I=!1,h.emit("pointerUp")}function Ie(z){M&&(z.stopPropagation(),z.preventDefault(),M=!1)}function Ge(){return _}return{init:V,destroy:G,pointerDown:Ge}}function dz(e,t){let r,o;function s(u){return u.timeStamp}function i(u,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(op(u,t)?u:u.touches[0])[y]}function a(u){return r=u,o=u,i(u)}function l(u){const h=i(u)-i(o),w=s(u)-s(r)>170;return o=u,w&&(r=u),h}function c(u){if(!r||!o)return 0;const h=i(o)-i(r),w=s(u)-s(r),y=s(u)-s(o)>170,x=h/w;return w&&!y&&ft(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:i}}function fz(){function e(n){const{offsetTop:r,offsetLeft:o,offsetWidth:s,offsetHeight:i}=n;return{top:r,right:o+s,bottom:r+i,left:o,width:s,height:i}}return{measure:e}}function hz(e){function t(r){return e*(r/100)}return{measure:t}}function pz(e,t,n,r,o,s,i){const a=[e].concat(r);let l,c,d=[],u=!1;function h(b){return o.measureSize(i.measure(b))}function w(b){if(!s)return;c=h(e),d=r.map(h);function m(g){for(const S of g){if(u)return;const C=S.target===e,E=r.indexOf(S.target),P=C?c:d[E],k=h(C?e:r[E]);if(ft(k-P)>=.5){b.reInit(),t.emit("resize");break}}}l=new ResizeObserver(g=>{(nd(s)||s(b,g))&&m(g)}),n.requestAnimationFrame(()=>{a.forEach(g=>l.observe(g))})}function y(){u=!0,l&&l.disconnect()}return{init:w,destroy:y}}function mz(e,t,n,r,o,s){let i=0,a=0,l=o,c=s,d=e.get(),u=0;function h(){const P=r.get()-e.get(),k=!l;let D=0;return k?(i=0,n.set(r),e.set(r),D=P):(n.set(e),i+=P/l,i*=c,d+=i,e.add(i),D=d-u),a=Ng(D),u=d,E}function w(){const P=r.get()-t.get();return ft(P)<.001}function y(){return l}function x(){return a}function b(){return i}function m(){return S(o)}function g(){return C(s)}function S(P){return l=P,E}function C(P){return c=P,E}const E={direction:x,duration:y,velocity:b,seek:h,settled:w,useBaseFriction:g,useBaseDuration:m,useFriction:C,useDuration:S};return E}function gz(e,t,n,r,o){const s=o.measure(10),i=o.measure(50),a=ss(.1,.99);let l=!1;function c(){return!(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(w){if(!c())return;const y=e.reachedMin(t.get())?"min":"max",x=ft(e[y]-t.get()),b=n.get()-t.get(),m=a.constrain(x/i);n.subtract(b*m),!w&&ft(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(w){l=!w}return{shouldConstrain:c,constrain:d,toggleActive:u}}function yz(e,t,n,r,o){const s=ss(-t+e,0),i=u(),a=d(),l=h();function c(y,x){return aa(y,x)<=1}function d(){const y=i[0],x=Gn(i),b=i.lastIndexOf(y),m=i.indexOf(x)+1;return ss(b,m)}function u(){return n.map((y,x)=>{const{min:b,max:m}=s,g=s.constrain(y),S=!x,C=Lg(n,x);return S?m:C||c(b,g)?b:c(m,g)?m:g}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+o)return[s.max];if(r==="keepSnaps")return i;const{min:y,max:x}=a;return i.slice(y,x)}return{snapsContained:l,scrollContainLimit:a}}function vz(e,t,n){const r=t[0],o=n?r-e:Gn(t);return{limit:ss(o,r)}}function wz(e,t,n,r){const s=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:l}=ss(s,i);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!c(h))return;const w=e*(h*-1);r.forEach(y=>y.add(w))}return{loop:d}}function xz(e){const{max:t,length:n}=e;function r(s){const i=s-t;return n?i/-n:0}return{get:r}}function Sz(e,t,n,r,o){const{startEdge:s,endEdge:i}=e,{groupSlides:a}=o,l=u().map(t.measure),c=h(),d=w();function u(){return a(r).map(x=>Gn(x)[i]-x[0][s]).map(ft)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-ft(x))}function w(){return a(c).map(x=>x[0]).map((x,b)=>x+l[b])}return{snaps:c,snapsAligned:d}}function bz(e,t,n,r,o,s){const{groupSlides:i}=o,{min:a,max:l}=r,c=d();function d(){const h=i(s),w=!e||t==="keepSnaps";return n.length===1?[s]:w?h:h.slice(a,l).map((y,x,b)=>{const m=!x,g=Lg(b,x);if(m){const S=Gn(b[0])+1;return R0(S)}if(g){const S=al(s)-Gn(b)[0]+1;return R0(S,Gn(b)[0])}return y})}return{slideRegistry:c}}function Cz(e,t,n,r,o){const{reachedAny:s,removeOffset:i,constrain:a}=r;function l(y){return y.concat().sort((x,b)=>ft(x)-ft(b))[0]}function c(y){const x=e?i(y):a(y),b=t.map((g,S)=>({diff:d(g-x,0),index:S})).sort((g,S)=>ft(g.diff)-ft(S.diff)),{index:m}=b[0];return{index:m,distance:x}}function d(y,x){const b=[y,y+n,y-n];if(!e)return y;if(!x)return l(b);const m=b.filter(g=>Ng(g)===x);return m.length?l(m):Gn(b)-n}function u(y,x){const b=t[y]-o.get(),m=d(b,x);return{index:y,distance:m}}function h(y,x){const b=o.get()+y,{index:m,distance:g}=c(b),S=!e&&s(b);if(!x||S)return{index:m,distance:y};const C=t[m]-g,E=y+d(C,0);return{index:m,distance:E}}return{byDistance:h,byIndex:u,shortcut:d}}function Ez(e,t,n,r,o,s,i){function a(u){const h=u.distance,w=u.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),w&&(n.set(t.get()),t.set(u.index),i.emit("select"))}function l(u,h){const w=o.byDistance(u,h);a(w)}function c(u,h){const w=t.clone().set(u),y=o.byIndex(w.get(),h);a(y)}return{distance:l,index:c}}function Pz(e,t,n,r,o,s,i,a){const l={passive:!0,capture:!0};let c=0;function d(w){if(!a)return;function y(x){if(new Date().getTime()-c>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const g=n.findIndex(S=>S.includes(x));_g(g)&&(o.useDuration(0),r.index(g,0),i.emit("slideFocus"))}s.add(document,"keydown",u,!1),t.forEach((x,b)=>{s.add(x,"focus",m=>{(nd(a)||a(w,m))&&y(b)},l)})}function u(w){w.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Gi(e){let t=e;function n(){return t}function r(l){t=i(l)}function o(l){t+=i(l)}function s(l){t-=i(l)}function i(l){return _g(l)?l:l.get()}return{get:n,set:r,add:o,subtract:s}}function HT(e,t){const n=e.scroll==="x"?i:a,r=t.style;let o=null,s=!1;function i(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const w=iz(e.direction(h));w!==o&&(r.transform=n(w),o=w)}function c(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function Tz(e,t,n,r,o,s,i,a,l){const d=Oa(o),u=Oa(o).reverse(),h=m().concat(g());function w(k,D){return k.reduce((R,A)=>R-o[A],D)}function y(k,D){return k.reduce((R,A)=>w(R,D)>0?R.concat([A]):R,[])}function x(k){return s.map((D,R)=>({start:D-r[R]+.5+k,end:D+t-.5+k}))}function b(k,D,R){const A=x(D);return k.map(N=>{const $=R?0:-n,Q=R?n:0,j=R?"end":"start",X=A[N][j];return{index:N,loopPoint:X,slideLocation:Gi(-1),translate:HT(e,l[N]),target:()=>a.get()>X?$:Q}})}function m(){const k=i[0],D=y(u,k);return b(D,n,!1)}function g(){const k=t-i[0]-1,D=y(d,k);return b(D,-n,!0)}function S(){return h.every(({index:k})=>{const D=d.filter(R=>R!==k);return w(D,t)<=.1})}function C(){h.forEach(k=>{const{target:D,translate:R,slideLocation:A}=k,N=D();N!==A.get()&&(R.to(N),A.set(N))})}function E(){h.forEach(k=>k.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function kz(e,t,n){let r,o=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{o||(nd(n)||n(l,d))&&c(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),o=!0}return{init:s,destroy:i}}function Dz(e,t,n,r){const o={};let s=null,i=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(x=>{const b=t.indexOf(x.target);o[b]=x}),s=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function u(y){return $a(o).reduce((x,b)=>{const m=parseInt(b),{isIntersecting:g}=o[m];return(y&&g||!y&&!g)&&x.push(m),x},[])}function h(y=!0){if(y&&s)return s;if(!y&&i)return i;const x=u(y);return y&&(s=x),y||(i=x),x}return{init:c,destroy:d,get:h}}function Az(e,t,n,r,o,s){const{measureSize:i,startEdge:a,endEdge:l}=e,c=n[0]&&o,d=y(),u=x(),h=n.map(i),w=b();function y(){if(!c)return 0;const g=n[0];return ft(t[a]-g[a])}function x(){if(!c)return 0;const g=s.getComputedStyle(Gn(r));return parseFloat(g.getPropertyValue(`margin-${l}`))}function b(){return n.map((g,S,C)=>{const E=!S,P=Lg(C,S);return E?h[S]+d:P?h[S]+u:C[S+1][a]-g[a]}).map(ft)}return{slideSizes:h,slideSizesWithGaps:w,startGap:d,endGap:u}}function Rz(e,t,n,r,o,s,i,a,l){const{startEdge:c,endEdge:d,direction:u}=e,h=_g(n);function w(m,g){return Oa(m).filter(S=>S%g===0).map(S=>m.slice(S,S+g))}function y(m){return m.length?Oa(m).reduce((g,S,C)=>{const E=Gn(g)||0,P=E===0,k=S===al(m),D=o[c]-s[E][c],R=o[c]-s[S][d],A=!r&&P?u(i):0,N=!r&&k?u(a):0,$=ft(R-N-(D+A));return C&&$>t+l&&g.push(S),k&&g.push(m.length),g},[]).map((g,S,C)=>{const E=Math.max(C[S-1]||0);return m.slice(E,g)}):[]}function x(m){return h?w(m,n):y(m)}return{groupSlides:x}}function Mz(e,t,n,r,o,s,i){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:w,dragThreshold:y,inViewThreshold:x,slidesToScroll:b,skipSnaps:m,containScroll:g,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=s,k=2,D=fz(),R=D.measure(t),A=n.map(D.measure),N=cz(l,c),$=N.measureSize(R),Q=hz($),j=az(a,$),X=!u&&!!g,_=u||!!g,{slideSizes:L,slideSizesWithGaps:M,startGap:I,endGap:V}=Az(N,R,A,n,_,o),G=Rz(N,$,b,u,R,A,I,V,k),{snaps:Z,snapsAligned:Pe}=Sz(N,j,R,A,G),K=-Gn(Z)+Gn(M),{snapsContained:Je,scrollContainLimit:le}=yz($,K,Pe,g,k),he=X?Je:Pe,{limit:Ve}=vz(K,he,u),Ie=WT(al(he),d,u),Ge=Ie.clone(),Ae=Oa(n),z=({dragHandler:qe,scrollBody:_e,scrollBounds:O,options:{loop:F}})=>{F||O.constrain(qe.pointerDown()),_e.seek()},ve=({scrollBody:qe,translate:_e,location:O,offsetLocation:F,previousLocation:W,scrollLooper:ne,slideLooper:de,dragHandler:me,animation:Se,eventHandler:Re,scrollBounds:Ke,options:{loop:Ye}},Qe)=>{const St=qe.settled(),Ot=!Ke.shouldConstrain(),_t=Ye?St:St&&Ot,mt=_t&&!me.pointerDown();mt&&Se.stop();const Yt=O.get()*Qe+W.get()*(1-Qe);F.set(Yt),Ye&&(ne.loop(qe.direction()),de.loop()),_e.to(F.get()),mt&&Re.emit("settle"),_t||Re.emit("scroll")},Te=lz(r,o,()=>z(Ce),qe=>ve(Ce,qe)),Be=.68,Pt=he[Ie.get()],Tt=Gi(Pt),it=Gi(Pt),at=Gi(Pt),At=Gi(Pt),xe=mz(Tt,at,it,At,h,Be),ze=Cz(u,he,K,Ve,At),It=Ez(Te,Ie,Ge,xe,ze,At,i),B=xz(Ve),q=Va(),Y=Dz(t,n,i,x),{slideRegistry:pe}=bz(X,g,he,le,G,Ae),ce=Pz(e,n,pe,It,xe,q,i,P),Ce={ownerDocument:r,ownerWindow:o,eventHandler:i,containerRect:R,slideRects:A,animation:Te,axis:N,dragHandler:uz(N,e,r,o,At,dz(N,o),Tt,Te,It,xe,ze,Ie,i,Q,w,y,m,Be,E),eventStore:q,percentOfView:Q,index:Ie,indexPrevious:Ge,limit:Ve,location:Tt,offsetLocation:at,previousLocation:it,options:s,resizeHandler:pz(t,i,o,n,N,S,D),scrollBody:xe,scrollBounds:gz(Ve,at,At,xe,Q),scrollLooper:wz(K,Ve,at,[Tt,at,it,At]),scrollProgress:B,scrollSnapList:he.map(B.get),scrollSnaps:he,scrollTarget:ze,scrollTo:It,slideLooper:Tz(N,$,K,L,M,Z,he,at,n),slideFocus:ce,slidesHandler:kz(t,i,C),slidesInView:Y,slideIndexes:Ae,slideRegistry:pe,slidesToScroll:G,target:At,translate:HT(N,t)};return Ce}function Iz(){let e={},t;function n(c){t=c}function r(c){return e[c]||[]}function o(c){return r(c).forEach(d=>d(t,c)),l}function s(c,d){return e[c]=r(c).concat([d]),l}function i(c,d){return e[c]=r(c).filter(u=>u!==d),l}function a(){e={}}const l={init:n,emit:o,off:i,on:s,clear:a};return l}const _z={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Nz(e){function t(s,i){return qT(s,i||{})}function n(s){const i=s.breakpoints||{},a=$a(i).filter(l=>e.matchMedia(l).matches).map(l=>i[l]).reduce((l,c)=>t(l,c),{});return t(s,a)}function r(s){return s.map(i=>$a(i.breakpoints||{})).reduce((i,a)=>i.concat(a),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function Lz(e){let t=[];function n(s,i){return t=i.filter(({options:a})=>e.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(s,e)),i.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function su(e,t,n){const r=e.ownerDocument,o=r.defaultView,s=Nz(o),i=Lz(s),a=Va(),l=Iz(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:w,emit:y}=l,x=N;let b=!1,m,g=c(_z,su.globalOptions),S=c(g),C=[],E,P,k;function D(){const{container:Ae,slides:z}=S;P=(rp(Ae)?e.querySelector(Ae):Ae)||e.children[0];const Te=rp(z)?P.querySelectorAll(z):z;k=[].slice.call(Te||P.children)}function R(Ae){const z=Mz(e,P,k,r,o,Ae,l);if(Ae.loop&&!z.slideLooper.canLoop()){const ve=Object.assign({},Ae,{loop:!1});return R(ve)}return z}function A(Ae,z){b||(g=c(g,Ae),S=d(g),C=z||C,D(),m=R(S),u([g,...C.map(({options:ve})=>ve)]).forEach(ve=>a.add(ve,"change",N)),S.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(Ge),m.eventHandler.init(Ge),m.resizeHandler.init(Ge),m.slidesHandler.init(Ge),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&k.length&&m.dragHandler.init(Ge),E=i.init(Ge,C)))}function N(Ae,z){const ve=G();$(),A(c({startIndex:ve},Ae),z),l.emit("reInit")}function $(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),i.destroy(),a.clear()}function Q(){b||(b=!0,a.clear(),$(),l.emit("destroy"),l.clear())}function j(Ae,z,ve){!S.active||b||(m.scrollBody.useBaseFriction().useDuration(z===!0?0:S.duration),m.scrollTo.index(Ae,ve||0))}function X(Ae){const z=m.index.add(1).get();j(z,Ae,-1)}function _(Ae){const z=m.index.add(-1).get();j(z,Ae,1)}function L(){return m.index.add(1).get()!==G()}function M(){return m.index.add(-1).get()!==G()}function I(){return m.scrollSnapList}function V(){return m.scrollProgress.get(m.offsetLocation.get())}function G(){return m.index.get()}function Z(){return m.indexPrevious.get()}function Pe(){return m.slidesInView.get()}function K(){return m.slidesInView.get(!1)}function Je(){return E}function le(){return m}function he(){return e}function Ve(){return P}function Ie(){return k}const Ge={canScrollNext:L,canScrollPrev:M,containerNode:Ve,internalEngine:le,destroy:Q,off:w,on:h,emit:y,plugins:Je,previousScrollSnap:Z,reInit:x,rootNode:he,scrollNext:X,scrollPrev:_,scrollProgress:V,scrollSnapList:I,scrollTo:j,selectedScrollSnap:G,slideNodes:Ie,slidesInView:Pe,slidesNotInView:K};return A(t,n),setTimeout(()=>l.emit("init"),0),Ge}su.globalOptions=void 0;function jg(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[o,s]=f.useState(),[i,a]=f.useState(),l=f.useCallback(()=>{o&&o.reInit(n.current,r.current)},[o]);return f.useEffect(()=>{Ig(n.current,e)||(n.current=e,l())},[e,l]),f.useEffect(()=>{oz(r.current,t)||(r.current=t,l())},[t,l]),f.useEffect(()=>{if(rz()&&i){su.globalOptions=jg.globalOptions;const c=su(i,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[i,s]),[a,o]}jg.globalOptions=void 0;const GT=f.createContext(null);function rd(){const e=f.useContext(GT);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const KT=f.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:o,children:s,...i},a)=>{const[l,c]=jg({...t,axis:e==="horizontal"?"x":"y"},r),[d,u]=f.useState(!1),[h,w]=f.useState(!1),y=f.useCallback(g=>{g&&(u(g.canScrollPrev()),w(g.canScrollNext()))},[]),x=f.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=f.useCallback(()=>{c==null||c.scrollNext()},[c]),m=f.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),x()):g.key==="ArrowRight"&&(g.preventDefault(),b())},[x,b]);return f.useEffect(()=>{!c||!n||n(c)},[c,n]),f.useEffect(()=>{if(c)return y(c),c.on("reInit",y),c.on("select",y),()=>{c==null||c.off("select",y)}},[c,y]),p.jsx(GT.Provider,{value:{carouselRef:l,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:p.jsx("div",{ref:a,onKeyDownCapture:m,className:te("relative",o),role:"region","aria-roledescription":"carousel",...i,children:s})})});KT.displayName="Carousel";const YT=f.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:o}=rd();return p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx("div",{ref:n,className:te("flex",o==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});YT.displayName="CarouselContent";const QT=f.forwardRef(({className:e,...t},n)=>{const{orientation:r}=rd();return p.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:te("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",e),...t})});QT.displayName="CarouselItem";const XT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollPrev:i,canScrollPrev:a}=rd();return p.jsxs(Xe,{ref:o,variant:t,size:n,className:te("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(Yb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Previous slide"})]})});XT.displayName="CarouselPrevious";const ZT=f.forwardRef(({className:e,variant:t="outline",size:n="icon",...r},o)=>{const{orientation:s,scrollNext:i,canScrollNext:a}=rd();return p.jsxs(Xe,{ref:o,variant:t,size:n,className:te("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!a,onClick:i,...r,children:[p.jsx(FI,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Next slide"})]})});ZT.displayName="CarouselNext";const JT=({imageUrl:e,thumbnailUrl:t,cropData:n,photoMetadata:r,altText:o="Cropped image",className:s,imgClassName:i,enableLoadingState:a=!0,onFullImageLoaded:l})=>{const[c,d]=f.useState({}),[u,h]=f.useState("idle"),[w,y]=f.useState({width:0,height:0}),[x,b]=f.useState(null),[m,g]=f.useState(!1),S=f.useRef(null),C=f.useRef(null),E=f.useCallback(()=>{if(S.current){const R=S.current.offsetWidth,A=S.current.offsetHeight;R>0&&A>0?y({width:R,height:A}):R>0&&y({width:R,height:R})}},[]);f.useEffect(()=>{const R=S.current;if(!R)return;const A=new ResizeObserver(E);return A.observe(R),E(),()=>{A.unobserve(R)}},[E]),f.useEffect(()=>{t&&u!=="loaded"?(b(t),g(!0),u!=="loading"&&h("loading")):e?m||(b(e),u!=="loading"&&u!=="loaded"&&h("loading")):(b(null),g(!1),h("idle"))},[e,t,u,m]),f.useEffect(()=>{if(m&&e&&t){const R=new Image,A=()=>{b(e),g(!1),h("loaded"),l&&l()},N=()=>{v.error("Failed to load full image in background:",e)};return R.onload=A,R.onerror=N,R.src=e,()=>{R.onload=null,R.onerror=null}}},[e,t,m,l]),f.useEffect(()=>{d((()=>{const A=u==="loaded",N={position:"absolute",top:0,left:0,opacity:A?1:0,transition:"opacity 0.3s ease-in-out, transform 0.1s linear",pointerEvents:A?"auto":"none",objectFit:"cover",objectPosition:"center center",width:"100%",height:"100%",transform:"none",maxWidth:"none",maxHeight:"none"};if(!n||!(r!=null&&r.width)||!(r!=null&&r.height)||w.width<=0||n.w<=0||n.h<=0||r.width<=0||r.height<=0)return N;const{width:$,height:Q}=r,X=w.width/n.w,_=$*X,L=Q*X,M=-n.x*X,I=-n.y*X;return isNaN(_)||isNaN(L)||isNaN(M)||isNaN(I)?(v.warn("NaN detected during style calculation",{scale:X,naturalW:$,naturalH:Q,cropData:n}),N):{...N,width:`${_}px`,height:`${L}px`,transform:`translate(${M}px, ${I}px)`,objectFit:"initial",objectPosition:"initial",willChange:"transform, opacity"}})())},[n,r,u,w]);const P=f.useCallback(()=>{C.current&&C.current.getAttribute("src")===x&&x&&(h("loaded"),!m&&l&&l())},[x,m,l]),k=f.useCallback(()=>{if(C.current&&C.current.getAttribute("src")===x&&x){if(v.error("Failed to load image in CroppedImageViewer:",x),m&&e){b(e),g(!1);return}if(!m&&t){v.log("Full image failed to load. Falling back to thumbnail:",t),b(t),g(!0);return}h("error")}},[x,e,t,m]),D=a&&(u==="loading"||u==="error");return p.jsxs("div",{ref:S,"data-testid":"image-container",className:te("relative w-full h-full overflow-hidden bg-muted",s),children:[D&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-muted/50",children:u==="loading"?p.jsx(Wt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsx(eC,{className:"h-6 w-6 text-destructive/50"})}),p.jsx("img",{ref:C,src:x??"",alt:o,style:c,className:te("block",i,m?"thumbnail-quality":"full-quality"),onLoad:P,onError:k,loading:"lazy"})]})},jz=({photo:e,thumbnailUrl:t})=>{const[n,r]=f.useState(!1),[o,s]=f.useState("idle"),i=f.useRef(null),a=f.useRef(null),{photoUrl:l,crop:c,photoMetadata:d}=e,u=!!(l||t);f.useEffect(()=>{s(u?"loading":"idle"),r(!1)},[l,t,u]);const h=()=>{(o==="loaded"||o==="loading")&&r(b=>!b)},w=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(v.log(`[SinglePhotoDisplay] Image loaded: ${l}`),s("loaded")):v.log(`[SinglePhotoDisplay] Image load ignored (stale or no URL): loaded=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),y=f.useCallback(()=>{var b,m;((b=a.current)==null?void 0:b.src)===l&&l?(v.error("[SinglePhotoDisplay] Failed to load image:",l),s("error")):v.log(`[SinglePhotoDisplay] Image error ignored (stale or no URL): errorSrc=${(m=a.current)==null?void 0:m.src}, current=${l}`)},[l]),x=o==="idle"||o==="loading";return p.jsxs("div",{ref:i,className:"relative w-full h-full aspect-square overflow-hidden bg-muted cursor-pointer",onClick:h,title:o==="loaded"?n?"Show cropped image":"Show full image":"",children:[x&&u&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted/50",children:p.jsx(Wt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o==="error"&&!(l&&t)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-muted",children:p.jsx(eC,{className:"h-8 w-8 text-destructive/50"})}),p.jsx("div",{className:te("absolute inset-0 z-0 transition-opacity duration-300",n?"opacity-0 pointer-events-none":"opacity-100"),children:p.jsx(JT,{imageUrl:l,thumbnailUrl:t,cropData:c,photoMetadata:d,altText:"Cropped entry photo",className:"w-full h-full",enableLoadingState:!1,onFullImageLoaded:()=>{o!=="loaded"&&s("loaded")}})}),p.jsx("div",{className:te("absolute inset-0 z-10 flex items-center justify-center transition-opacity duration-300",n?"opacity-100":"opacity-0 pointer-events-none"),children:p.jsx("img",{src:n&&l?l:"",alt:o==="error"?"Error loading full photo":"Full entry photo",className:"block max-w-full max-h-full object-contain",loading:"lazy"})}),l&&p.jsx("img",{ref:a,src:l,alt:"",onLoad:w,onError:y,style:{display:"none"},loading:"eager"},l),o==="loaded"&&p.jsx("div",{className:"absolute bottom-2 right-2 z-30 bg-black/50 text-white rounded-full p-1.5 pointer-events-none",children:n?p.jsx(YI,{size:16}):p.jsx(KI,{size:16})})]})},ek=({entry:e})=>{var a;const[t,n]=f.useState(),[r,o]=f.useState(0),[s,i]=f.useState(0);return f.useEffect(()=>{if(t)return i(t.scrollSnapList().length),o(t.selectedScrollSnap()+1),t.on("select",()=>{t&&o(t.selectedScrollSnap()+1)}),()=>{t==null||t.off("select",()=>{})}},[t]),f.useEffect(()=>{var l,c;i(((l=e.photos)==null?void 0:l.length)??0),o(((c=e.photos)==null?void 0:c.length)>0?1:0),t==null||t.scrollTo(0,!0)},[e.id,(a=e.photos)==null?void 0:a.length,t]),!e.photos||e.photos.length===0?null:p.jsx("div",{className:te("relative w-full max-w-md aspect-square overflow-hidden rounded-md"),children:p.jsxs(KT,{setApi:n,className:"w-full h-full",children:[p.jsx(YT,{className:"h-full",children:e.photos.map((l,c)=>p.jsx(QT,{className:"h-full",children:p.jsx(jz,{photo:l,thumbnailUrl:l.thumbnailUrl})},`${e.id}-${l.photoId}-${c}`))}),s>1&&p.jsxs(p.Fragment,{children:[p.jsx(XT,{className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsx(ZT,{className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-black/50 text-white hover:bg-black/70 border-none disabled:hidden"}),p.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full pointer-events-none",children:[r," / ",s]})]})]})})},Fz=e=>new Date(e+"T00:00:00Z").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"});function Oz(){const{currentMonthEntries:e,isLoadingEntries:t,handleEditRequest:n,handleDeleteRequest:r,getCombinedEntryDetails:o,currentYear:s,currentMonth:i,swipeDirection:a,handleCalendarSwipe:l}=Zn(),[c,d]=f.useState(new Map),[u,h]=f.useState(new Map),w=f.useRef(null),y=50,x=.3,b={enter:S=>({x:S>0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0}),center:{x:0,opacity:1,position:"relative",width:"100%",transition:{duration:.4,ease:[.4,0,.2,1]}},exit:S=>({x:S<0?"100%":"-100%",opacity:0,position:"absolute",width:"100%",top:0,transition:{duration:.3,ease:[.4,0,.2,1]}})},m=(S,C)=>{const{offset:E,velocity:P}=C;let k=S.target;for(;k&&k!==w.current;){if(k.classList.contains("ignore-list-swipe")){v.log("List swipe ignored, started on carousel.");return}k=k.parentElement}E.x>y||P.x>x&&E.x>10?l(-1):(E.x<-y||P.x<-x&&E.x<-10)&&l(1)},g=f.useMemo(()=>[...e].sort((S,C)=>{const E=new Date(S.date).getTime(),P=new Date(C.date).getTime();if(E!==P)return E-P;const k=S.createdAt instanceof Date?S.createdAt.getTime():Date.parse(S.createdAt),D=C.createdAt instanceof Date?C.createdAt.getTime():Date.parse(C.createdAt);return k-D}),[e]);return f.useEffect(()=>{let S=!0;return d(new Map),h(new Map),e.forEach(C=>{h(E=>new Map(E).set(C.id,!0)),o(C).then(E=>{S&&d(P=>new Map(P).set(C.id,E))}).catch(E=>{v.error(`Error fetching details for entry ${C.id}:`,E)}).finally(()=>{S&&h(E=>new Map(E).set(C.id,!1))})}),()=>{S=!1}},[e,o]),t?p.jsxs("div",{className:"flex items-center justify-center h-[calc(100%-40px)]",children:[" ",p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})]}):g.length===0&&!t?p.jsxs("div",{className:"text-center p-10 text-muted-foreground h-[calc(100%-40px)] flex items-center justify-center",children:[" ","No entries found for this month."]}):p.jsxs(UT,{className:"h-full",children:[" ",p.jsxs("div",{ref:w,className:"relative overflow-hidden h-full",children:[" ",p.jsx(Tg,{initial:!1,custom:a,mode:"wait",children:p.jsx(Ju.div,{custom:a,variants:b,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.15,onDragEnd:m,className:"space-y-4 p-1 pr-1 h-full touch-pan-y",style:{willChange:"transform"},children:g.map(S=>{const E=c.get(S.id)||{...S,photos:(S.photos||[]).map(P=>({...P,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))};return p.jsxs(Pm,{className:"overflow-hidden bg-card shadow-sm",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",onPointerDown:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:p.jsx(ek,{entry:E})}),p.jsxs(Tm,{className:"p-3",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-foreground flex-shrink-0 pr-2",children:Fz(S.date)}),p.jsxs(qm,{children:[p.jsx(Wm,{asChild:!0,children:p.jsx(Xe,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 text-muted-foreground hover:text-foreground",onClick:P=>P.stopPropagation(),"aria-label":"Entry options",children:p.jsx(Jb,{className:"h-4 w-4"})})}),p.jsxs(Hu,{align:"end",children:[p.jsxs(os,{onClick:P=>{P.stopPropagation(),n(S.id)},children:[p.jsx(tC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(os,{onClick:P=>{P.stopPropagation(),r(S.id)},className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(fm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(zT,{text:S.content,linesToShow:4})]})]},S.id)})},`${s}-${i}-list`)})]})]})}var Fg="Dialog",[tk,nk]=fn(Fg),[$z,Jn]=tk(Fg),rk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=vr({prop:r,defaultProp:o,onChange:s});return p.jsx($z,{scope:t,triggerRef:a,contentRef:l,contentId:Yo(),titleId:Yo(),descriptionId:Yo(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),modal:i,children:n})};rk.displayName=Fg;var ok="DialogTrigger",sk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(ok,n),s=Le(t,o.triggerRef);return p.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Vg(o.open),...r,ref:s,onClick:se(e.onClick,o.onOpenToggle)})});sk.displayName=ok;var Og="DialogPortal",[Vz,ik]=tk(Og,{forceMount:void 0}),ak=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Jn(Og,t);return p.jsx(Vz,{scope:t,forceMount:n,children:f.Children.map(r,i=>p.jsx(hn,{present:n||s.open,children:p.jsx(Du,{asChild:!0,container:o,children:i})}))})};ak.displayName=Og;var iu="DialogOverlay",lk=f.forwardRef((e,t)=>{const n=ik(iu,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(iu,e.__scopeDialog);return s.modal?p.jsx(hn,{present:r||s.open,children:p.jsx(Bz,{...o,ref:t})}):null});lk.displayName=iu;var Uz=ui("DialogOverlay.RemoveScroll"),Bz=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(iu,n);return p.jsx(Lm,{as:Uz,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(we.div,{"data-state":Vg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),is="DialogContent",ck=f.forwardRef((e,t)=>{const n=ik(is,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Jn(is,e.__scopeDialog);return p.jsx(hn,{present:r||s.open,children:s.modal?p.jsx(zz,{...o,ref:t}):p.jsx(qz,{...o,ref:t})})});ck.displayName=is;var zz=f.forwardRef((e,t)=>{const n=Jn(is,e.__scopeDialog),r=f.useRef(null),o=Le(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return GE(s)},[]),p.jsx(uk,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:se(e.onFocusOutside,s=>s.preventDefault())})}),qz=f.forwardRef((e,t)=>{const n=Jn(is,e.__scopeDialog),r=f.useRef(!1),o=f.useRef(!1);return p.jsx(uk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),uk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=Jn(is,n),l=f.useRef(null),c=Le(t,l);return qE(),p.jsxs(p.Fragment,{children:[p.jsx(Nm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(Xa,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Vg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Hz,{titleId:a.titleId}),p.jsx(Kz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),$g="DialogTitle",dk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn($g,n);return p.jsx(we.h2,{id:o.titleId,...r,ref:t})});dk.displayName=$g;var fk="DialogDescription",hk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(fk,n);return p.jsx(we.p,{id:o.descriptionId,...r,ref:t})});hk.displayName=fk;var pk="DialogClose",mk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Jn(pk,n);return p.jsx(we.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>o.onOpenChange(!1))})});mk.displayName=pk;function Vg(e){return e?"open":"closed"}var gk="DialogTitleWarning",[Wz,yk]=HM(gk,{contentName:is,titleName:$g,docsSlug:"dialog"}),Hz=({titleId:e})=>{const t=yk(gk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Gz="DialogDescriptionWarning",Kz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yk(Gz).contentName}}.`;return f.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vk=rk,Yz=sk,wk=ak,Ug=lk,Bg=ck,zg=dk,qg=hk,Wg=mk;const xk=vk,Qz=wk,Sk=f.forwardRef(({className:e,...t},n)=>p.jsx(Ug,{ref:n,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Sk.displayName=Ug.displayName;const Hg=f.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Qz,{children:[p.jsx(Sk,{}),p.jsxs(Bg,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Wg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Iu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hg.displayName=Bg.displayName;const Gg=({className:e,...t})=>p.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gg.displayName="DialogHeader";const Kg=f.forwardRef(({className:e,...t},n)=>p.jsx(zg,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));Kg.displayName=zg.displayName;const bk=f.forwardRef(({className:e,...t},n)=>p.jsx(qg,{ref:n,className:te("text-sm text-muted-foreground",e),...t}));bk.displayName=qg.displayName;function Ck({className:e,...t}){return p.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}const M0=e=>({...e,photos:(e.photos||[]).map(t=>({...t,photoUrl:void 0,photoMetadata:void 0,photoFilename:void 0}))});function Xz(){const{isViewEntryModalOpen:e,closeViewModal:t,selectedBasicEntriesForModal:n,viewEntryModalDate:r,handleEditRequest:o,handleDeleteRequest:s,getCombinedEntryDetails:i}=Zn(),[,a]=sm(),[l,c]=f.useState(new Map),[d,u]=f.useState(!1),[h,w]=f.useState(new Set),y=f.useRef(!0),x=f.useMemo(()=>[...n].sort((m,g)=>{const S=m.createdAt instanceof Date?m.createdAt.getTime():Date.parse(m.createdAt),C=g.createdAt instanceof Date?g.createdAt.getTime():Date.parse(g.createdAt);return S-C}),[n]);f.useEffect(()=>{if(y.current=!0,e&&x.length>0){u(!0),c(new Map),w(new Set);const m=x.map(g=>i(g).then(S=>{y.current&&c(C=>new Map(C).set(g.id,S))}).catch(S=>{v.error(`Error fetching details for entry ${g.id} in modal:`,S),y.current&&(w(C=>new Set(C).add(g.id)),c(C=>new Map(C).set(g.id,M0(g))))}));Promise.allSettled(m).finally(()=>{y.current&&u(!1)})}else e||(c(new Map),u(!1),w(new Set));return()=>{y.current=!1}},[e,x,i]);const b=()=>{t(),a("/entry/new")};return p.jsx(xk,{open:e,onOpenChange:t,children:p.jsxs(Hg,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx(Gg,{className:"flex-shrink-0 border-b pb-3",children:p.jsxs(Kg,{children:["Entries for ",r.toLocaleDateString("default",{month:"long",day:"numeric",year:"numeric",timeZone:"UTC"})]})}),p.jsx("div",{className:"py-4 overflow-y-auto flex-grow custom-scrollbar pr-2 -mr-2",children:x.length===0&&!d?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"No entries for this date"}),p.jsx(Xe,{onClick:b,children:"Create New Entry"})]}):p.jsx("div",{className:"space-y-6",children:x.map((m,g)=>{const S=l.get(m.id),C=d&&!S,E=h.has(m.id),P=S||M0(m);return p.jsxs("div",{className:"border dark:border-neutral-700 rounded-lg overflow-hidden shadow-sm bg-card",children:[p.jsx("div",{className:"flex justify-center w-full border-b dark:border-neutral-700 ignore-list-swipe",children:C?p.jsx(Ck,{className:"aspect-square w-full max-w-md bg-muted"}):p.jsx(ek,{entry:P})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(m.createdAt instanceof Date?m.createdAt:new Date(m.createdAt)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.createdAt!==m.updatedAt&&p.jsx("span",{className:"italic text-xs",children:" (edited)"})]}),!d&&p.jsxs(qm,{children:[p.jsx(Wm,{asChild:!0,children:p.jsx(Xe,{variant:"ghost",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",children:p.jsx(Jb,{className:"h-4 w-4"})})}),p.jsxs(Hu,{align:"end",children:[p.jsxs(os,{onClick:()=>o(m.id),children:[p.jsx(tC,{className:"mr-2 h-4 w-4"})," Edit"]}),p.jsxs(os,{onClick:()=>s(m.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[p.jsx(fm,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),p.jsx(zT,{text:m.content,linesToShow:4}),E&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Error loading photo details for this entry."})]})]},m.id+"-"+g)})})}),!d&&x.length>0&&p.jsx("div",{className:"flex justify-end mt-4 border-t dark:border-neutral-700 pt-4 flex-shrink-0",children:p.jsx(Xe,{onClick:b,children:"Add Another Entry"})})]})})}var Ek="AlertDialog",[Zz,s3]=fn(Ek,[nk]),Vr=nk(),Pk=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vr(t);return p.jsx(vk,{...r,...n,modal:!0})};Pk.displayName=Ek;var Jz="AlertDialogTrigger",e4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Vr(n);return p.jsx(Yz,{...o,...r,ref:t})});e4.displayName=Jz;var t4="AlertDialogPortal",Tk=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vr(t);return p.jsx(wk,{...r,...n})};Tk.displayName=t4;var n4="AlertDialogOverlay",kk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Vr(n);return p.jsx(Ug,{...o,...r,ref:t})});kk.displayName=n4;var Hs="AlertDialogContent",[r4,o4]=Zz(Hs),s4=Cb("AlertDialogContent"),Dk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=Vr(n),i=f.useRef(null),a=Le(t,i),l=f.useRef(null);return p.jsx(Wz,{contentName:Hs,titleName:Ak,docsSlug:"alert-dialog",children:p.jsx(r4,{scope:n,cancelRef:l,children:p.jsxs(Bg,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:se(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(s4,{children:r}),p.jsx(a4,{contentRef:i})]})})})});Dk.displayName=Hs;var Ak="AlertDialogTitle",Rk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Vr(n);return p.jsx(zg,{...o,...r,ref:t})});Rk.displayName=Ak;var Mk="AlertDialogDescription",Ik=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Vr(n);return p.jsx(qg,{...o,...r,ref:t})});Ik.displayName=Mk;var i4="AlertDialogAction",_k=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Vr(n);return p.jsx(Wg,{...o,...r,ref:t})});_k.displayName=i4;var Nk="AlertDialogCancel",Lk=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=o4(Nk,n),s=Vr(n),i=Le(t,o);return p.jsx(Wg,{...s,...r,ref:i})});Lk.displayName=Nk;var a4=({contentRef:e})=>{const t=`\`${Hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hs}\` by passing a \`${Mk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},l4=Pk,c4=Tk,jk=kk,Fk=Dk,Ok=_k,$k=Lk,Vk=Rk,Uk=Ik;const Bk=l4,u4=c4,zk=f.forwardRef(({className:e,...t},n)=>p.jsx(jk,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));zk.displayName=jk.displayName;const Yg=f.forwardRef(({className:e,...t},n)=>p.jsxs(u4,{children:[p.jsx(zk,{}),p.jsx(Fk,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yg.displayName=Fk.displayName;const Qg=({className:e,...t})=>p.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",e),...t});Qg.displayName="AlertDialogHeader";const Xg=({className:e,...t})=>p.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xg.displayName="AlertDialogFooter";const Zg=f.forwardRef(({className:e,...t},n)=>p.jsx(Vk,{ref:n,className:te("text-lg font-semibold",e),...t}));Zg.displayName=Vk.displayName;const Jg=f.forwardRef(({className:e,...t},n)=>p.jsx(Uk,{ref:n,className:te("text-sm text-muted-foreground",e),...t}));Jg.displayName=Uk.displayName;const ey=f.forwardRef(({className:e,...t},n)=>p.jsx(Ok,{ref:n,className:te(km(),e),...t}));ey.displayName=Ok.displayName;const ty=f.forwardRef(({className:e,...t},n)=>p.jsx($k,{ref:n,className:te(km({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ty.displayName=$k.displayName;function d4(){const{isDeleteDialogOpen:e,closeDeleteDialog:t,handleDeleteEntry:n,isSaving:r}=Zn(),o=async()=>{await n()};return p.jsx(Bk,{open:e,onOpenChange:t,children:p.jsxs(Yg,{children:[p.jsxs(Qg,{children:[p.jsx(Zg,{children:"Delete Entry"}),p.jsx(Jg,{children:"Are you sure you want to delete this entry? This action cannot be undone."})]}),p.jsxs(Xg,{children:[p.jsx(ty,{disabled:r,children:"Cancel"}),p.jsx(ey,{onClick:s=>{s.preventDefault(),o()},disabled:r,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:r?"Deleting...":"Delete"})]})]})})}var f4="Label",qk=f.forwardRef((e,t)=>p.jsx(we.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qk.displayName=f4;var Wk=qk;const h4=Za("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),od=f.forwardRef(({className:e,...t},n)=>p.jsx(Wk,{ref:n,className:te(h4(),e),...t}));od.displayName=Wk.displayName;function p4({onFilesSelect:e,disabled:t=!1,className:n,children:r,maxFiles:o=10,currentFileCount:s=0}){const i=f.useRef(null),{toast:a}=Qa(),l=f.useCallback(async y=>{if(!y||y.length===0)return;const x=Array.from(y),b=[],m=[];let g=!0;if(s+x.length>o){a({title:"Too many files",description:`You can only add ${o-s} more photo(s).`,variant:"destructive"}),i.current&&(i.current.value="");return}for(const S of x){if(!S.type.startsWith("image/")){a({title:"Invalid File Type",description:`"${S.name}" is not a supported image file.`,variant:"destructive"}),g=!1;continue}try{const C=URL.createObjectURL(S);b.push(S),m.push(C)}catch(C){v.error("Error creating object URL:",C),a({title:"Processing Error",description:`Could not process file: ${S.name}`,variant:"destructive"}),g=!1,m.forEach(URL.revokeObjectURL),i.current&&(i.current.value="");return}}b.length>0?e(b,m):!g&&m.length>0&&m.forEach(URL.revokeObjectURL),g&&i.current&&(i.current.value="")},[e,a,o,s]),c=f.useCallback(y=>{t||l(y.target.files)},[t,l]),d=f.useCallback(y=>{t||(y.preventDefault(),y.stopPropagation(),l(y.dataTransfer.files))},[t,l]),u=y=>{t||(y.preventDefault(),y.stopPropagation())},h=f.useCallback(()=>{var y;t||(y=i.current)==null||y.click()},[t]),w=r?Ct.isValidElement(r)?Ct.cloneElement(r,{onClick:h}):p.jsx("div",{onClick:h,children:r}):p.jsxs("div",{className:te("mt-2 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",t?"cursor-not-allowed bg-muted/50 border-gray-300 dark:border-gray-700":"border-gray-300 dark:border-gray-700 cursor-pointer hover:border-primary hover:bg-accent",n),onDragOver:u,onDrop:d,onClick:h,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`mb-2 h-10 w-10 ${t?"text-gray-300 dark:text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.jsxs("p",{className:`mb-2 text-center text-sm ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:[p.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),p.jsx("p",{className:`text-xs ${t?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"PNG, JPG (Multiple allowed)"})]});return p.jsxs("div",{className:te(!r&&"w-full",n),children:[p.jsx("input",{ref:i,type:"file",accept:"image/png, image/jpeg, image/jpg",className:"hidden",onChange:c,disabled:t,multiple:!0}),w]})}const Bo=10,Xr=e=>e.isNew===!0,Hk=e=>e.isNew===!1,m4=e=>{if(!e)return 8;try{const t=window.getComputedStyle(e),n=t.getPropertyValue("gap")||t.getPropertyValue("column-gap")||"8px";return parseInt(n,10)||8}catch{return 8}};function g4({photos:e,setPhotos:t,isBusy:n,isLoadingInitial:r,initialPhotoCount:o,onOpenCropper:s,onRemovePhoto:i,onFilesSelect:a,originalBlobUrlsRef:l,existingPhotoMetaRef:c,processingQueueLength:d,currentQueueIndex:u,isProcessingQueueItem:h}){const w=f.useRef(null),y=f.useRef(null),[x,b]=f.useState(null),[m,g]=f.useState(null),S=f.useRef([]),C=f.useRef(null),E=f.useRef(null);f.useEffect(()=>{S.current=S.current.slice(0,e.length)},[e.length]);const P=()=>{E.current&&(E.current.style.display="none"),g(null)},k=_=>{const L=E.current,M=C.current;if(!L||!M||_<0||_>e.length){P();return}if(_===m&&L.style.display!=="none")return;g(_);const I=m4(M);let V=null,G=!1;if(_===e.length?(V=S.current[e.length-1],G=!0):(V=S.current[_],G=!1),V){const Z=V.getBoundingClientRect(),Pe=V.offsetTop;let K;G?K=V.offsetLeft+Z.width+I/2:K=V.offsetLeft-I/2,L.style.display="block",L.style.top=`${Pe}px`,L.style.left=`${K}px`,L.style.height=`${Z.height}px`}else P()},D=(_,L)=>{if(w.current=L,b(L),P(),_.dataTransfer)try{_.dataTransfer.effectAllowed="move"}catch{}},R=(_,L)=>{if(_.preventDefault(),w.current===null||w.current===L){y.current=null,P();return}y.current=L;const M=S.current[L];if(M){const I=M.getBoundingClientRect(),V=I.left+I.width/2,Z=_.clientX<V?L:L+1;k(Z)}},A=_=>{C.current&&!C.current.contains(_.relatedTarget)&&(y.current=null,P())},N=()=>{let _=m;w.current!==null&&_!==null&&_>w.current&&_--,w.current!==null&&_!==null&&w.current!==_&&t(L=>{const M=[...L],I=M.splice(w.current,1)[0];return M.splice(_,0,I),M}),w.current=null,y.current=null,b(null),P()},$=(_,L)=>{w.current=L,b(L),P()},Q=_=>{if(w.current===null)return;_.cancelable&&_.preventDefault();const L=_.touches[0],M=document.elementFromPoint(L.clientX,L.clientY),I=M==null?void 0:M.closest('[draggable="true"]');if(I){const V=S.current.indexOf(I);if(V!==-1&&V!==w.current){y.current=V;const G=I.getBoundingClientRect(),Z=G.left+G.width/2,K=L.clientX<Z?V:V+1;k(K);return}}y.current=null,P()},j=()=>{let _=m;w.current!==null&&_!==null&&_>w.current&&_--,w.current!==null&&_!==null&&w.current!==_&&t(L=>{const M=[...L],I=M.splice(w.current,1)[0];return M.splice(_,0,I),M}),w.current=null,y.current=null,b(null),P()},X=!n&&e.length>1;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs(od,{children:["Photos (",e.length,"/",Bo,")"," ",X&&p.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Drag to reorder)"})]}),e.length===0&&!r&&d===0&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Add photos below."}),r&&p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",children:[...Array(o||2)].map((_,L)=>p.jsx(Ck,{className:"h-16 w-16 rounded aspect-square"},L))}),p.jsxs("div",{ref:C,className:"relative grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",onDragLeave:A,onTouchStart:_=>{},onTouchMove:Q,onTouchEnd:j,onTouchCancel:j,children:[p.jsx("div",{ref:E,className:"drop-indicator"}),e.map((_,L)=>{var Pe;const M=Xr(_)?_.localId:_.photoId,I=l.current.get(M),V=_.crop;let G=null;Xr(_)?_.originalDimensions&&(G={filename:_.file.name,mimeType:_.file.type,width:_.originalDimensions.width,height:_.originalDimensions.height,exifDate:(Pe=_.exifData)==null?void 0:Pe.exifDate}):Hk(_)&&(G=c.current.get(_.photoId)??null);const Z=!!I;return p.jsxs("div",{ref:K=>S.current[L]=K,draggable:X,onDragStart:K=>X&&D(K,L),onDragOver:K=>X&&R(K,L),onDragEnd:X?N:void 0,onTouchStart:K=>X&&$(K,L),className:te("relative group aspect-square border rounded bg-muted overflow-hidden touch-manipulation",X?"cursor-grab active:cursor-grabbing":"cursor-default",x===L?"opacity-50 scale-95 shadow-lg z-10":"opacity-100 z-0","transition-all duration-150 ease-in-out"),children:[p.jsx(JT,{imageUrl:I,thumbnailUrl:I,cropData:V,photoMetadata:G,altText:`Photo ${L+1} thumbnail`,className:"rounded",enableLoadingState:!!I&&I.startsWith("blob:")}),p.jsxs("div",{className:te("absolute inset-0 bg-black/40 flex items-center justify-center space-x-1 rounded transition-opacity duration-150","opacity-100 hover:opacity-80",n&&"opacity-0 pointer-events-none"),children:[p.jsx(Xe,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6 bg-white/80 hover:bg-white",title:"Edit Crop",onClick:K=>{K.stopPropagation(),!n&&Z?s(L):Z||v.warn(`Cannot open cropper: original URL missing for ${M}`)},disabled:n||!Z,children:p.jsx(UI,{className:"h-3 w-3"})}),p.jsx(Xe,{type:"button",variant:"destructive",size:"icon",className:"h-6 w-6",title:"Remove Photo",onClick:K=>{K.stopPropagation(),n||i(L)},disabled:n,children:p.jsx(fm,{className:"h-3 w-3"})})]}),X&&p.jsx("div",{className:"absolute top-1 left-1 opacity-0 group-hover:opacity-50 transition-opacity cursor-grab p-0.5 bg-black/30 rounded-sm",style:{pointerEvents:"none"},children:p.jsx(zI,{className:"h-3 w-3 text-white"})})]},M+"-"+L)}),e.length<Bo&&p.jsx(p4,{onFilesSelect:a,disabled:n,className:"aspect-square h-full w-full p-0 m-0",maxFiles:Bo,currentFileCount:e.length,children:p.jsx("button",{type:"button",className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/50 rounded hover:border-primary hover:bg-accent transition-colors disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-muted-foreground/50 disabled:hover:bg-transparent",disabled:n,"aria-label":"Add photo",children:h?p.jsx(Wt,{className:"h-5 w-5 animate-spin text-muted-foreground"}):p.jsxs(p.Fragment,{children:[p.jsx(qI,{className:"h-5 w-5 text-muted-foreground mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Add"})]})})})]}),u!==null&&u<d&&!n&&p.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center",children:[p.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"})," Processing photo ",u+1," of"," ",d,"..."]})]})}function y4({date:e,onDateChange:t,showExifWarning:n,initialExifDate:r,onUseExifDate:o,isBusy:s}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(od,{htmlFor:"date",children:"Date"}),p.jsx("input",{id:"date",type:"date",className:"input-basic",value:e.toISOString().split("T")[0],onChange:t,disabled:s}),n&&r&&p.jsxs("div",{className:"mt-1 text-xs text-amber-600 dark:text-amber-400 flex items-center space-x-1",children:[p.jsx(nC,{className:"h-3 w-3 flex-shrink-0"}),p.jsxs("span",{children:["First photo date (",r,") differs."]}),p.jsx("button",{type:"button",onClick:o,className:"underline cursor-pointer text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Use photo date"})]})]})}const Gk=f.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Gk.displayName="Textarea";function v4({content:e,setContent:t,isBusy:n,onKeyDown:r,textAreaRef:o}){return p.jsxs("div",{className:"space-y-2",children:[p.jsx(od,{htmlFor:"content",children:"Content"}),p.jsx(Gk,{ref:o,id:"content",placeholder:"Write thoughts...",className:"min-h-[120px]",value:e,onChange:s=>t(s.target.value),disabled:n,onKeyDown:r})]})}function w4({isBusy:e,isSaving:t,isEditMode:n,canSave:r,onCancel:o,onSave:s}){return p.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t pt-4 mt-4",children:[p.jsx(Xe,{variant:"outline",onClick:o,disabled:e,children:"Cancel"}),p.jsx(Xe,{onClick:s,disabled:e||t||!r,children:t?p.jsxs(p.Fragment,{children:[p.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"})," Saving..."]}):n?"Update Entry":"Save Entry"})]})}function x4(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}function S4(e=2e3,t=new Date().getFullYear()+5){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function b4(){const{isMonthYearPickerOpen:e,closeMonthYearPicker:t,handleMonthYearSelect:n,currentMonth:r,currentYear:o}=Zn(),[s,i]=f.useState(r),[a,l]=f.useState(o);f.useEffect(()=>{e&&(i(r),l(o))},[e,r,o]);const c=x4(),d=S4(2e3,new Date().getFullYear()+5),u=()=>{n(s,a)};return p.jsx(xk,{open:e,onOpenChange:t,children:p.jsxs(Hg,{className:"sm:max-w-md",children:[p.jsxs(Gg,{children:[p.jsx(Kg,{children:"Select Month and Year"}),p.jsx(bk,{children:"Choose the month and year you want to navigate to"})]}),p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"month-select",className:"text-sm font-medium",children:"Month"}),p.jsx("select",{id:"month-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:s,onChange:h=>i(parseInt(h.target.value)),children:c.map((h,w)=>p.jsx("option",{value:w+1,children:h},w))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"year-select",className:"text-sm font-medium",children:"Year"}),p.jsx("select",{id:"year-select",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:h=>l(parseInt(h.target.value)),children:d.map(h=>p.jsx("option",{value:h,children:h},h))})]})]})}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Xe,{variant:"outline",onClick:t,children:"Cancel"}),p.jsx(Xe,{onClick:u,children:"Apply"})]})]})})}function C4(){const{isAuthenticated:e,isLoadingAuth:t,isVerifyingInBackground:n,authError:r,handleDropboxAuthRedirect:o,monthViewType:s,isLoadingEntries:i,isLoadingImagesMeta:a,isSaving:l,operationError:c,clearOperationError:d,isOnline:u}=Zn();Im(),sm();const h=l,w=l?"Saving...":"",y={enter:{opacity:0,transition:{duration:.15}},center:{opacity:1,transition:{duration:.2,delay:.1}},exit:{opacity:0,transition:{duration:.15}}};if(t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})});const x=u&&!e&&!t&&!n,b=x?"pt-24":u?"pt-16":"pt-20";return p.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex flex-col",children:[p.jsx(yO,{}),h&&p.jsxs("div",{className:te("fixed left-1/2 transform -translate-x-1/2 z-20 bg-background/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border flex items-center text-sm text-muted-foreground",x?"top-24":u?"top-16":"top-20","mt-2"),children:[p.jsx(Wt,{className:"h-4 w-4 animate-spin mr-2"}),p.jsx("span",{children:w})]}),c&&!h&&p.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex justify-between items-center max-w-sm shadow-md z-50",children:[p.jsxs("span",{children:["Error: ",c.message]}),p.jsx("button",{onClick:d,className:"ml-3 font-bold","aria-label":"Close",children:p.jsx(Iu,{className:"h-4 w-4"})})]}),p.jsxs("main",{className:te("container mx-auto px-4 pb-4 flex-grow flex flex-col overflow-hidden",b),children:[p.jsx(UB,{}),p.jsx("div",{className:"mx-auto max-w-3xl w-full flex-grow flex flex-col overflow-hidden",children:p.jsx("div",{className:"flex-grow overflow-hidden relative",children:p.jsx(Tg,{initial:!1,mode:"wait",children:p.jsx(Ju.div,{variants:y,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 view-container",children:p.jsx("div",{className:"h-full",children:s==="calendar"?p.jsx(VB,{}):p.jsx(Oz,{})})},s)})})})]}),p.jsx(b4,{}),p.jsx(Xz,{}),p.jsx(d4,{})]})}var Kk=["PageUp","PageDown"],Yk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pi="Slider",[sp,E4,P4]=ku(Pi),[Xk,i3]=fn(Pi,[P4]),[T4,sd]=Xk(Pi),Zk=f.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:w=!1,form:y,...x}=e,b=f.useRef(new Set),m=f.useRef(0),S=i==="horizontal"?k4:D4,[C=[],E]=vr({prop:d,defaultProp:c,onChange:N=>{var Q;(Q=[...b.current][m.current])==null||Q.focus(),u(N)}}),P=f.useRef(C);function k(N){const $=_4(C,N);A(N,$)}function D(N){A(N,m.current)}function R(){const N=P.current[m.current];C[m.current]!==N&&h(C)}function A(N,$,{commit:Q}={commit:!1}){const j=F4(s),X=O4(Math.round((N-r)/s)*s+r,j),_=kg(X,[r,o]);E((L=[])=>{const M=M4(L,_,$);if(j4(M,l*s)){m.current=M.indexOf(_);const I=String(M)!==String(L);return I&&Q&&h(M),I?M:L}else return L})}return p.jsx(T4,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:m,thumbs:b.current,values:C,orientation:i,form:y,children:p.jsx(sp.Provider,{scope:e.__scopeSlider,children:p.jsx(sp.Slot,{scope:e.__scopeSlider,children:p.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:se(x.onPointerDown,()=>{a||(P.current=C)}),min:r,max:o,inverted:w,onSlideStart:a?void 0:k,onSlideMove:a?void 0:D,onSlideEnd:a?void 0:R,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(o,C.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:$})=>{if(!a){const X=Kk.includes(N.key)||N.shiftKey&&Yk.includes(N.key)?10:1,_=m.current,L=C[_],M=s*X*$;A(L+M,_,{commit:!0})}}})})})})});Zk.displayName=Pi;var[Jk,eD]=Xk(Pi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),k4=f.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=f.useState(null),w=Le(t,S=>h(S)),y=f.useRef(void 0),x=el(o),b=x==="ltr",m=b&&!s||!b&&s;function g(S){const C=y.current||u.getBoundingClientRect(),E=[0,C.width],k=ny(E,m?[n,r]:[r,n]);return y.current=C,k(S-C.left)}return p.jsx(Jk,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:p.jsx(tD,{dir:x,"data-orientation":"horizontal",...d,ref:w,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=g(S.clientX);i==null||i(C)},onSlideMove:S=>{const C=g(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=Qk[m?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:E?-1:1})}})})}),D4=f.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:a,onStepKeyDown:l,...c}=e,d=f.useRef(null),u=Le(t,d),h=f.useRef(void 0),w=!o;function y(x){const b=h.current||d.current.getBoundingClientRect(),m=[0,b.height],S=ny(m,w?[r,n]:[n,r]);return h.current=b,S(x-b.top)}return p.jsx(Jk,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:p.jsx(tD,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=y(x.clientY);s==null||s(b)},onSlideMove:x=>{const b=y(x.clientY);i==null||i(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const m=Qk[w?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:m?-1:1})}})})}),tD=f.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:l,...c}=e,d=sd(Pi,n);return p.jsx(we.span,{...c,ref:t,onKeyDown:se(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):Kk.concat(Yk).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:se(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:se(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:se(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),s(u))})})}),nD="SliderTrack",rD=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=sd(nD,n);return p.jsx(we.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});rD.displayName=nD;var ip="SliderRange",oD=f.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=sd(ip,n),s=eD(ip,n),i=f.useRef(null),a=Le(t,i),l=o.values.length,c=o.values.map(h=>iD(h,o.min,o.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return p.jsx(we.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});oD.displayName=ip;var ap="SliderThumb",sD=f.forwardRef((e,t)=>{const n=E4(e.__scopeSlider),[r,o]=f.useState(null),s=Le(t,a=>o(a)),i=f.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(A4,{...e,ref:s,index:i})}),A4=f.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,i=sd(ap,n),a=eD(ap,n),[l,c]=f.useState(null),d=Le(t,g=>c(g)),u=l?i.form||!!l.closest("form"):!0,h=Sm(l),w=i.values[r],y=w===void 0?0:iD(w,i.min,i.max),x=I4(r,i.values.length),b=h==null?void 0:h[a.size],m=b?N4(b,y,a.direction):0;return f.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${m}px)`},children:[p.jsx(sp.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(we.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":w,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:d,style:w===void 0?{display:"none"}:e.style,onFocus:se(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&p.jsx(R4,{name:o??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:w},r)]})});sD.displayName=ap;var R4=e=>{const{value:t,...n}=e,r=f.useRef(null),o=Y1(t);return f.useEffect(()=>{const s=r.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(o!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[o,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function M4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function iD(e,t,n){const s=100/(n-t)*(e-t);return kg(s,[0,100])}function I4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function _4(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function N4(e,t,n){const r=e/2,s=ny([0,50],[0,r]);return(r-s(t)*n)*n}function L4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function j4(e,t){if(t>0){const n=L4(e);return Math.min(...n)>=t}return!0}function ny(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function F4(e){return(String(e).split(".")[1]||"").length}function O4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var aD=Zk,$4=rD,V4=oD,U4=sD;const lD=f.forwardRef(({className:e,...t},n)=>p.jsxs(aD,{ref:n,className:te("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx($4,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(V4,{className:"absolute h-full bg-primary"})}),p.jsx(U4,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));lD.displayName=aD.displayName;const tt=250,I0=200;function B4({imageUrl:e,onCropComplete:t,onCancel:n,initialCropData:r,initialImageDimensions:o}){const s=f.useRef(null),i=f.useRef(null),a=f.useRef(null),l=f.useRef(!1),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),[h,w]=f.useState({x:0,y:0,scale:1}),[y,x]=f.useState(o||{width:0,height:0}),[b,m]=f.useState(!1),[g,S]=f.useState(!1),[C,E]=f.useState(!1),[P,k]=f.useState(.1),[D,R]=f.useState(5),[A,N]=f.useState(!1),[$,Q]=f.useState({x:0,y:0,pinchDistance:void 0,imageX:0,imageY:0}),[j,X]=f.useState(null),[_,L]=f.useState(null),[M,I]=f.useState(null),[V,G]=f.useState(null),Z=b&&g,Pe=e!==u.current&&!Z,K=O=>O&&typeof O=="object"&&"x"in O&&"y"in O&&"w"in O&&"h"in O&&typeof O.x=="number"&&typeof O.y=="number"&&typeof O.w=="number"&&typeof O.h=="number"&&O.w>0&&O.h>0&&O.w===O.h,Je=f.useCallback((O,F)=>O<=0||F<=0||tt<=0?.1:Math.max(tt/O,tt/F),[]),le=f.useCallback((O,F)=>O<=0||F<=0||tt<=0||I0<=0?5:Math.max(Math.max(tt/O,tt/F),tt/I0),[]),he=f.useCallback((O,F,W)=>{const ne=s.current;if(!b||y.width<=0||y.height<=0)return{x:O,y:F};const de=(ne==null?void 0:ne.clientWidth)??0,me=(ne==null?void 0:ne.clientHeight)??0;if(de<=0||me<=0)return{x:O,y:F};const Se=y.width*W,Re=y.height*W,Ke=(de-tt)/2,Ye=(me-tt)/2,Qe=Ke,St=Ke+tt-Se,Ot=Ye,_t=Ye+tt-Re,mt=Se<tt?Ke+(tt-Se)/2:Math.min(Qe,Math.max(St,O)),Yt=Re<tt?Ye+(tt-Re)/2:Math.min(Ot,Math.max(_t,F));return{x:mt,y:Yt}},[b,y]),Ve=f.useCallback((O,F)=>{if(!b||!l.current||g||y.width<=0||y.height<=0)return;const W=y.width,ne=y.height,de=Je(W,ne),me=le(W,ne);k(de),R(me);let Se,Re,Ke;if(K(r)){Se=tt/r.w,Se=Math.max(de,Math.min(me,Se));const St=(O-tt)/2,Ot=(F-tt)/2;Re=St-r.x*Se,Ke=Ot-r.y*Se}else Se=Math.max(tt/W,tt/ne),Se=Math.max(de,Se),Re=(O-W*Se)/2,Ke=(F-ne*Se)/2;const Qe={...he(Re,Ke,Se),scale:Se};w(Qe),S(!0),c.current=!0},[b,g,y,r,Je,le,he]);f.useEffect(()=>(l.current=!0,()=>{l.current=!1,d.current&&d.current.disconnect()}),[]),f.useEffect(()=>{e!==u.current&&(v.log(`[ImprovedImageCropper] Image URL changed: ${u.current||"none"}  ${e}`),m(!1),S(!1),c.current=!1,L(u.current),I(h),G(y),u.current=e,v.log("[ImprovedImageCropper] Reset loader state and stored previous image state"))},[e,h,y]),f.useEffect(()=>{u.current!==e?(u.current&&g?(L(u.current),I(h),G(y)):(L(null),I(null),G(null)),m(!1),S(!1),x(o||{width:0,height:0}),w({x:0,y:0,scale:1}),k(.1),R(5),c.current=!1,E(!1),u.current=e):o&&!g&&(o.width!==y.width||o.height!==y.height)&&x(o)},[e,o]);const Ie=f.useCallback(()=>{const O=i.current;if(v.log(`[ImprovedImageCropper] handleImageLoad called for image: ${e}`),!O){v.warn("[ImprovedImageCropper] Image ref is null in handleImageLoad");return}if(!l.current){v.warn("[ImprovedImageCropper] Component unmounted during image load");return}if(O.src!==e){v.warn(`[ImprovedImageCropper] Image src mismatch: ${O.src} vs ${e}`);return}const F=O.naturalWidth,W=O.naturalHeight;if(v.log(`[ImprovedImageCropper] Image loaded with dimensions: ${F}${W}`),F<=0||W<=0){v.error(`[ImprovedImageCropper] Image has invalid dimensions on load: ${F}${W}`),m(!1),S(!1);return}(y.width!==F||y.height!==W)&&(v.log(`[ImprovedImageCropper] Updating image dimensions: ${y.width}${y.height}  ${F}${W}`),x({width:F,height:W})),m(!0),v.log("[ImprovedImageCropper] Image successfully loaded and ready")},[e,y]),Ge=f.useCallback(()=>{const O=i.current;!O||!l.current||O.src!==e||(v.error(`[Cropper] Image failed to load internally: ${e}`),m(!1),S(!1))},[e]);f.useEffect(()=>{const O=s.current;if(O&&b&&!g){const F=de=>{if(!(!l.current||g))for(const me of de){const{width:Se,height:Re}=me.contentRect||{width:me.target.clientWidth,height:me.target.clientHeight};Se>0&&Re>0?Ve(Se,Re):v.warn("[Cropper] ResizeObserver triggered with zero dimensions.")}};d.current&&d.current.disconnect(),d.current=new ResizeObserver(F),d.current.observe(O);const W=O.clientWidth,ne=O.clientHeight;return W>0&&ne>0&&Ve(W,ne),()=>{d.current&&d.current.disconnect(),d.current=null}}else d.current&&(d.current.disconnect(),d.current=null)},[b,g,Ve]),f.useEffect(()=>{if(b&&g){const{x:O,y:F,scale:W}=h,ne=he(O,F,W);(ne.x!==O||ne.y!==F)&&w(de=>({...de,...ne}))}},[h.scale,b,g,he,h.x,h.y]);const Ae=f.useCallback((O,F,W)=>{!Z||!s.current||w(ne=>{let de=ne.scale*O;if(de=Math.max(P,Math.min(D,de)),de===ne.scale)return ne;const me=(F-ne.x)/ne.scale,Se=(W-ne.y)/ne.scale,Re=F-me*de,Ke=W-Se*de;return{scale:de,...he(Re,Ke,de)}})},[Z,P,D,he]),z=(O,F,W)=>{!Z||C||(N(!0),Q({x:O,y:F,pinchDistance:W,imageX:h.x,imageY:h.y}),X(W??null))},ve=(O,F,W)=>{if(!(!A||!Z||!s.current)){if(W!==void 0&&j!==null){const ne=W/j,de=s.current.getBoundingClientRect(),me=$.x-de.left,Se=$.y-de.top;Ae(ne,me,Se),X(W)}else if(j===null){const ne=O-$.x,de=F-$.y,me=$.imageX+ne,Se=$.imageY+de;w(Re=>({...Re,...he(me,Se,Re.scale)}))}}},Te=()=>{A&&(N(!1),X(null))},Be=O=>z(O.clientX,O.clientY),Pt=O=>ve(O.clientX,O.clientY),Tt=O=>{if(O.touches.length===2){const F=O.touches[0],W=O.touches[1],ne=Math.hypot(W.clientX-F.clientX,W.clientY-F.clientY),de=(F.clientX+W.clientX)/2,me=(F.clientY+W.clientY)/2;z(de,me,ne)}else O.touches.length===1&&z(O.touches[0].clientX,O.touches[0].clientY)},it=O=>{if(A)if(O.cancelable&&O.preventDefault(),O.touches.length===2){const F=O.touches[0],W=O.touches[1],ne=Math.hypot(W.clientX-F.clientX,W.clientY-F.clientY),de=(F.clientX+W.clientX)/2,me=(F.clientY+W.clientY)/2;ve(de,me,ne)}else O.touches.length===1&&ve(O.touches[0].clientX,O.touches[0].clientY)},at=f.useCallback(O=>{if(!Z||!s.current||C)return;O.preventDefault();const F=s.current.getBoundingClientRect(),W=O.clientX-F.left,ne=O.clientY-F.top,me=1+O.deltaY*-.005;Ae(me,W,ne)},[Z,C,Ae]);f.useEffect(()=>{if(A)return window.addEventListener("mousemove",Pt),window.addEventListener("touchmove",it,{passive:!1}),window.addEventListener("mouseup",Te),window.addEventListener("touchend",Te),window.addEventListener("touchcancel",Te),()=>{window.removeEventListener("mousemove",Pt),window.removeEventListener("touchmove",it),window.removeEventListener("mouseup",Te),window.removeEventListener("touchend",Te),window.removeEventListener("touchcancel",Te)}},[A,it]),f.useEffect(()=>{const O=s.current;if(O&&Z)return O.addEventListener("wheel",at,{passive:!1}),()=>O.removeEventListener("wheel",at)},[Z,at]);const At=f.useCallback(O=>{if(!s.current||!Z||(O=Math.max(P,Math.min(D,O)),O===h.scale))return;const F=s.current,W=F.clientWidth/2,ne=F.clientHeight/2;Ae(O/h.scale,W,ne)},[Z,P,D,h.scale,Ae]),xe=()=>At(h.scale*1.15),ze=()=>At(h.scale/1.15),It=O=>At(O[0]),B=()=>{if(S(!1),c.current=!1,w({x:0,y:0,scale:1}),s.current&&b){const O=s.current.clientWidth,F=s.current.clientHeight;O>0&&F>0&&Ve(O,F)}},q=()=>{v.log("[ImprovedImageCropper] performCrop called");const O=s.current,F=i.current;if(v.log("[ImprovedImageCropper] Checking crop preconditions:",{hasContainer:!!O,isInitialized:g,hasCurrentImage:!!F,naturalWidth:F==null?void 0:F.naturalWidth,naturalHeight:F==null?void 0:F.naturalHeight,imageUrl:e}),!O||!g||!F||!F.naturalWidth||!F.naturalHeight||F.naturalWidth<=0||F.naturalHeight<=0){v.error("[ImprovedImageCropper] Cannot crop: Preconditions fail");return}v.log("[ImprovedImageCropper] Starting crop processing"),E(!0);try{const W=O.clientWidth,ne=O.clientHeight;v.log(`[ImprovedImageCropper] Container dimensions: ${W}${ne}`);const de=(W-tt)/2,me=(ne-tt)/2;v.log(`[ImprovedImageCropper] Frame position: (${de}, ${me})`);const Se=de-h.x,Re=me-h.y,Ke=Se/h.scale,Ye=Re/h.scale;v.log(`[ImprovedImageCropper] Source position (original): (${Ke}, ${Ye})`);const Qe=tt/h.scale,St=tt/h.scale;v.log(`[ImprovedImageCropper] Source dimensions (original): ${Qe}${St}`);const Ot=Math.max(0,Ke),_t=Math.max(0,Ye),mt=Math.min(Qe,F.naturalWidth-Ot),Yt=Math.min(St,F.naturalHeight-_t);if(v.log(`[ImprovedImageCropper] Clamped source: (${Ot}, ${_t}, ${mt}, ${Yt})`),mt<=0||Yt<=0){const er=`Crop area zero/negative: W=${mt}, H=${Yt}`;throw v.error(`[ImprovedImageCropper] ${er}`),new Error(er)}let bt={x:Math.round(Ot),y:Math.round(_t),w:Math.round(mt),h:Math.round(Yt)};v.log(`[ImprovedImageCropper] Initial crop data: (${bt.x}, ${bt.y}, ${bt.w}, ${bt.h})`);const fs=Math.min(bt.w,bt.h);if(bt.w=fs,bt.h=fs,v.log(`[ImprovedImageCropper] Final square crop data: (${bt.x}, ${bt.y}, ${bt.w}, ${bt.h})`),bt.w<=0){const er=`Final crop width <= 0: ${bt.w}`;throw v.error(`[ImprovedImageCropper] ${er}`),new Error(er)}l.current?(v.log("[ImprovedImageCropper] Component still mounted, calling onCropComplete with final crop data"),t(bt)):v.warn("[ImprovedImageCropper] Component unmounted, skipping onCropComplete call")}catch(W){v.error("[ImprovedImageCropper] Error during cropping:",W),W instanceof Error&&(v.error(`[ImprovedImageCropper] Error message: ${W.message}`),v.error(`[ImprovedImageCropper] Error stack: ${W.stack}`))}finally{l.current&&(v.log("[ImprovedImageCropper] Setting isProcessing to false"),E(!1))}},Y=Pe||!g&&!C,pe=!g&&!C,ce=!g||C,Ce={position:"absolute",top:0,left:0,maxWidth:"none",maxHeight:"none",willChange:"transform, opacity"},qe={...Ce,transform:`translate(${h.x}px, ${h.y}px) scale(${h.scale})`,opacity:g?1:0,transition:A?"none":"transform 0.1s linear",zIndex:2},_e={...Ce,transform:M?`translate(${M.x}px, ${M.y}px) scale(${M.scale})`:"translate(0px, 0px) scale(1)",opacity:g?0:1,pointerEvents:"none",zIndex:1};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"text-center mb-2 flex-shrink-0 relative h-8",children:[p.jsx("h3",{className:"text-lg font-medium absolute left-1/2 top-0 transform -translate-x-1/2",children:"Adjust Image"}),C&&p.jsx("div",{className:"absolute top-0 right-0 mr-2 mt-1 z-30",children:p.jsx(Wt,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),p.jsxs("div",{ref:s,className:te("relative overflow-hidden bg-checkerboard rounded-lg flex-grow w-full","min-h-[250px] select-none touch-none","border border-muted",A?"cursor-grabbing":"cursor-grab"),onMouseDown:Be,onTouchStart:Tt,children:[_&&M&&V&&p.jsx("img",{ref:a,src:_,alt:"",className:"absolute transform-gpu origin-top-left block",style:_e,draggable:!1,width:V.width,height:V.height},_+"-prev"),p.jsx("img",{ref:i,src:e,alt:"Crop preview",className:"absolute transform-gpu origin-top-left block",style:qe,onLoad:Ie,onError:Ge,draggable:!1,loading:"eager"},e),Y&&p.jsx("div",{className:"absolute inset-0 z-[5] flex items-center justify-center bg-black/20 pointer-events-none",children:p.jsx(Wt,{className:"h-8 w-8 animate-spin text-white/80"})}),p.jsxs("div",{className:"absolute inset-0 z-[3] pointer-events-none flex items-center justify-center","aria-hidden":"true",children:[" ",p.jsx("div",{className:"absolute inset-0",style:{boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}})," ",p.jsx("div",{className:"absolute border border-white rounded",style:{width:`${tt}px`,height:`${tt}px`,boxShadow:"0 0 0 9999px transparent"}})," "]})]}),p.jsxs("div",{className:"mt-6 space-y-5 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Xe,{type:"button",variant:"outline",size:"icon",onClick:ze,disabled:!Z||C||h.scale<=P,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom out",children:[" ",p.jsx(r_,{className:"h-4 w-4"})," "]}),p.jsx(lD,{value:[h.scale],min:P,max:D,step:(D-P)/100,onValueChange:It,className:"flex-grow",disabled:!Z||C,"aria-label":"Zoom slider"}),p.jsxs(Xe,{type:"button",variant:"outline",size:"icon",onClick:xe,disabled:!Z||C||h.scale>=D,className:"h-9 w-9 flex-shrink-0","aria-label":"Zoom in",children:[" ",p.jsx(n_,{className:"h-4 w-4"})," "]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs(Xe,{type:"button",variant:"outline",onClick:n,disabled:C,children:[" ","Cancel"," "]}),p.jsxs("div",{className:"space-x-2",children:[p.jsxs(Xe,{type:"button",variant:"ghost",onClick:B,disabled:!Z||C,className:"px-3",children:[" ",p.jsx(JI,{className:"h-4 w-4 mr-2"})," Reset"," "]}),p.jsx(Xe,{type:"button",variant:"default",onClick:q,disabled:ce,className:"px-4 w-[110px]",children:C?p.jsxs(p.Fragment,{children:[" ",p.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"})," Applying..."," "]}):pe?p.jsxs(p.Fragment,{children:[" ",p.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"})," Loading..."," "]}):p.jsxs(p.Fragment,{children:[" ",p.jsx(Qb,{className:"h-4 w-4 mr-2"})," Apply"," "]})})]})]})]})]})}async function Cf(e){return new Promise((t,n)=>{v.log("[getImageDimensions] Starting dimension extraction",{type:typeof e,isFile:e instanceof File,fileDetails:e instanceof File?{name:e.name,size:e.size,type:e.type}:"Not a file"});const r=new Image;if(r.onload=()=>{v.log(`[getImageDimensions] Image loaded successfully with dimensions: ${r.naturalWidth}x${r.naturalHeight}`),r.naturalWidth>0&&r.naturalHeight>0?t({width:r.naturalWidth,height:r.naturalHeight}):(v.error("[getImageDimensions] Image loaded with zero dimensions"),n(new Error("Image loaded with zero dimensions.")))},r.onerror=o=>{v.error("[getImageDimensions] Image loading error:",o),n(new Error("Failed to load image to get dimensions."))},typeof e=="string")v.log(`[getImageDimensions] Processing string URL: ${e.substring(0,50)}...`),r.src=e;else if(e instanceof File){v.log(`[getImageDimensions] Processing File object: ${e.name}, size: ${e.size}, type: ${e.type}`);const o=new FileReader;o.onload=s=>{var i;if(v.log("[getImageDimensions] FileReader load successful"),(i=s.target)!=null&&i.result){const a=s.target.result;v.log(`[getImageDimensions] Data URL created, length: ${a.length}, setting as img.src`),r.src=a}else v.error("[getImageDimensions] FileReader result is empty"),n(new Error("FileReader result is empty."))},o.onerror=s=>{v.error("[getImageDimensions] FileReader error:",s),n(new Error("Failed to read file."))},v.log("[getImageDimensions] Calling reader.readAsDataURL on file"),o.readAsDataURL(e)}else v.error("[getImageDimensions] Invalid input type"),n(new Error("Invalid input for getImageDimensions"))})}const z4=e=>{if(!e||typeof e!="string")return null;try{const t=e.split(" ");if(t.length<1)return null;const n=t[0].replace(/:/g,"-");return/^\d{4}-\d{2}-\d{2}$/.test(n)?n:null}catch(t){return v.error("Error parsing EXIF date string:",t),null}};function Ef(e){return new Promise(t=>{if(!window.EXIF){v.warn("EXIF library not loaded."),t({exifDate:null});return}let n=!1;const r=setTimeout(()=>{n||(v.warn("EXIF extraction timed out."),n=!0,t({exifDate:null}))},2500);try{window.EXIF.getData(e,function(){if(!n){clearTimeout(r),n=!0;try{const o=window.EXIF.getTag(this,"DateTimeOriginal")||window.EXIF.getTag(this,"DateTimeDigitized"),s=z4(o);t({exifDate:s})}catch(o){v.error("Error reading EXIF tags:",o),t({exifDate:null})}}})}catch(o){n||(clearTimeout(r),n=!0,v.error("Error initiating EXIF.getData:",o),t({exifDate:null}))}})}function _0({open:e,onOpenChange:t,onConfirm:n,title:r,description:o,confirmText:s="Confirm",cancelText:i="Cancel",isConfirming:a=!1}){const l=c=>{c.preventDefault(),a||n()};return p.jsx(Bk,{open:e,onOpenChange:t,children:p.jsxs(Yg,{children:[p.jsxs(Qg,{children:[p.jsx(Zg,{children:r}),p.jsx(Jg,{children:o})]}),p.jsxs(Xg,{children:[p.jsx(ty,{disabled:a,children:i}),p.jsxs(ey,{onClick:l,disabled:a,className:"bg-red-500 hover:bg-red-600 focus:ring-red-500",children:[a?p.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Confirming...":s]})]})]})})}const q4=(e,t,n)=>{if(e<=1)return;const r=[];new Set([...Object.keys(t),...Object.keys(n)]).forEach(s=>{const i=t[s],a=n[s];if(i!==a){let l="ref changed";typeof a!="object"&&typeof a!="function"&&(l=`value changed: ${i} -> ${a}`),r.push({key:s,change:l,prev:i,current:a})}}),r.length>0&&v.warn(`[EntryForm Init Effect init-${e}] Re-running due to changed dependencies:`,r.map(s=>s.key))};function N0({entryId:e}){const t=Zn(),{handleSaveEntry:n,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i,isSaving:a,pendingSharedFiles:l,clearPendingSharedFiles:c,deleteSharedFilesFromStorage:d,isAuthenticated:u,isLoadingAuth:h,navigate:w,isLoadingImagesMeta:y,isClientReady:x,isOnline:b}=t,{toast:m}=Qa(),[g,S]=f.useState(null),[C,E]=f.useState(()=>{const re=window.location.hash.split("?")[1];let oe=null;if(re)try{oe=new URLSearchParams(re).get("date")}catch{}if(oe&&/^\d{4}-\d{2}-\d{2}$/.test(oe))return v.log(`[EntryForm State Init] Initializing date from param: ${oe}`),new Date(oe+"T00:00:00Z");{v.log("[EntryForm State Init] Initializing date to today (UTC).");const ue=new Date;return new Date(Date.UTC(ue.getFullYear(),ue.getMonth(),ue.getDate()))}}),[P,k]=f.useState(!1),[D,R]=f.useState(""),[A,N]=f.useState([]),[$,Q]=f.useState(!1),[j,X]=f.useState(null),[_,L]=f.useState(!1),[M,I]=f.useState(null),[V,G]=f.useState(null),[Z,Pe]=f.useState(!0),[K,Je]=f.useState([]),[le,he]=f.useState(null),[Ve,Ie]=f.useState(!1),[Ge,Ae]=f.useState(null),[z,ve]=f.useState(null),[Te,Be]=f.useState(!1),[Pt,Tt]=f.useState(!1),[it,at]=f.useState(new Map),At=f.useRef(null),xe=f.useRef(!1),ze=f.useRef(new Map),It=f.useRef(new Map),B=f.useRef(null),q=f.useRef(!1),Y=f.useRef(!1),pe=f.useRef(0),ce=f.useRef({}),Ce=f.useRef(null),qe=ao.getInstance(),_e=!!e,O=le!==null&&le<K.length,F=a||O||Ve,W=!Z&&!F&&!a&&!h&&A.length>0&&!_&&K.length===0&&Te,ne=f.useMemo(()=>{const ee=g?g.date:C.toISOString().split("T")[0],re=g?g.content:"",oe=g?g.photos:[],ue=new Set(oe.map(ie=>ie.photoId));return{date:ee,content:re,photoIds:ue}},[g,C]);f.useEffect(()=>{if(Z||h||y){Be(!1);return}const ee=C.toISOString().split("T")[0]!==ne.date,re=D!==ne.content,oe=new Set(A.map(Ne=>Xr(Ne)?Ne.localId:Ne.photoId)),ue=ne.photoIds;let ie=oe.size!==ue.size;if(!ie){for(const Ne of oe)ue.has(Ne)||(ie=!0);if(!ie)for(const Ne of ue)oe.has(Ne)||(ie=!0)}let be=!1;if(g&&!ie){for(const Ne of A)if(!Xr(Ne)){const J=g.photos.find(fe=>fe.photoId===Ne.photoId);if(J&&(Ne.crop.x!==J.crop.x||Ne.crop.y!==J.crop.y||Ne.crop.w!==J.crop.w||Ne.crop.h!==J.crop.h)){be=!0;break}}}if(_e)Be(ee||re||ie||be);else{const Ne=(()=>{const ye=window.location.hash.split("?")[1];let ke=null;if(ye)try{ke=new URLSearchParams(ye).get("date")}catch{}if(ke&&/^\d{4}-\d{2}-\d{2}$/.test(ke))return ke;{const $e=new Date;return new Date(Date.UTC($e.getFullYear(),$e.getMonth(),$e.getDate())).toISOString().split("T")[0]}})(),J=C.toISOString().split("T")[0]!==Ne;Be(D.trim()!==""||A.length>0||J)}},[C,D,A,ne.date,ne.content,ne.photoIds,_e,Z,h,y,g]);const de=f.useCallback(async ee=>{if(!xe.current||ee>=K.length)return;const re=K[ee];if(!re||it.has(re.localId))return;B.current&&B.current.abort();const oe=new AbortController;B.current=oe;try{const[ue,ie]=await Promise.all([Cf(re.file),Ef(re.file)]);if(oe.signal.aborted||!xe.current)return;at(be=>new Map(be).set(re.localId,{dims:ue,exif:ie}))}catch(ue){ue.name==="AbortError"||xe.current&&v.error(`[Prefetch] Error pre-fetching data for index ${ee}, file: ${re.file.name}`,ue)}finally{B.current===oe&&(B.current=null)}},[K,it]),me=f.useCallback((ee,re)=>{if(v.log(`[EntryForm] handleFilesSelect called with ${ee.length} files:`,{fileTypes:ee.map(ie=>ie.type),fileSizes:ee.map(ie=>ie.size),fileNames:ee.map(ie=>ie.name),previewUrls:re}),!xe.current){v.warn("[EntryForm] handleFilesSelect called but component unmounted."),typeof URL.revokeObjectURL=="function"&&(v.log(`[EntryForm] Revoking ${re.length} blob URLs due to unmount`),re.forEach(ie=>{v.log(`[EntryForm] Revoking blob URL: ${ie}`),URL.revokeObjectURL(ie)}));return}const oe=Bo-A.length-K.length;if(v.log(`[EntryForm] Available slots: ${oe} (MAX_PHOTOS: ${Bo}, current photos: ${A.length}, queue: ${K.length})`),ee.length>oe&&(v.warn(`[EntryForm] Too many files (${ee.length}), limiting to ${oe}`),m({title:"Too many files",description:`You can only add ${oe} more photo(s). Some files were ignored.`,variant:"destructive"}),typeof URL.revokeObjectURL=="function"&&(v.log(`[EntryForm] Revoking excess blob URLs (${re.length-oe})`),re.slice(oe).forEach(ie=>{v.log(`[EntryForm] Revoking excess blob URL: ${ie}`),URL.revokeObjectURL(ie)})),ee=ee.slice(0,oe),re=re.slice(0,oe),ee.length===0)){v.warn("[EntryForm] No files left after limiting");return}const ue=ee.map((ie,be)=>{const Ne=crypto.randomUUID(),J=re[be];return v.log(`[EntryForm] Processing file for queue: ${ie.name}, type: ${ie.type}, size: ${ie.size}`),v.log(`[EntryForm] Generated localId: ${Ne} for blob URL: ${J}`),(!J||!J.startsWith("blob:"))&&v.error(`[EntryForm] Invalid blob URL for file ${ie.name}: ${J}`),ze.current.set(Ne,J),v.log(`[EntryForm] Stored in originalBlobUrlsRef. Current count: ${ze.current.size}`),{file:ie,previewUrl:J,localId:Ne}});v.log(`[EntryForm] Created ${ue.length} new queue items`),Je(ie=>{const be=[...ie,...ue];return v.log(`[EntryForm] ProcessingQueue updated: ${ie.length}  ${be.length} items`),le===null&&be.length>0?(v.log("[EntryForm] Starting queue processing - setting currentQueueIndex to 0"),he(0),be.length>1&&(v.log("[EntryForm] Prefetching next item at index 1"),de(1))):v.log(`[EntryForm] Queue processing already in progress, currentQueueIndex: ${le}`),be})},[A.length,K.length,m,le,de]);f.useEffect(()=>{const ee={entryId:e,isAuthenticated:u,isLoadingAuth:h,isClientReady:x,isLoadingImagesMeta:y,isOnline:b,navigate:w,toast:m,getEntryById:r,loadSpecificEntry:o,getPhotoBlobUrl:s,imagesMetadata:i==null?void 0:i.length,initialEntryId:g==null?void 0:g.id};pe.current++;const re=pe.current,oe=`init-${re}`;if(q4(re,ce.current,ee),(re===1||e!==ce.current.entryId)&&(Y.current=!1),!(!h&&x&&!y)){Pe(!0),ce.current=ee;return}xe.current=!0,Be(!1);const ie=()=>{v.log(`[EntryForm Init Effect ${oe}] resetFormState() called.`),S(null),R(""),N([]),Q(!1),X(null),L(!1),I(null),G(null),Je([]),he(null),Ie(!1),Ae(null),ve(null),at(new Map),ze.current.forEach((J,fe)=>{try{J.startsWith("blob:")&&URL.revokeObjectURL(J)}catch{}}),ze.current.clear(),It.current.clear()},be=async J=>{if(v.log(`[EntryForm Init Effect ${oe}] Populate form for entry ID:`,J.id),!xe.current)return;let fe=new Date(J.date+"T00:00:00Z");if(E(fe),R(J.content),S({...J}),k(!0),v.log(`[EntryForm Init Effect ${oe}] Basic form fields populated. isDateSetByUserIntent: true`),N([]),It.current.clear(),ze.current.forEach((ye,ke)=>{try{ye.startsWith("blob:")&&URL.revokeObjectURL(ye)}catch{}}),ze.current.clear(),J.photos&&J.photos.length>0){v.log(`[EntryForm Init Effect ${oe}] Loading ${J.photos.length} photos.`),(!i||i.length===0)&&v.warn(`[EntryForm Init Effect ${oe}] Missing imagesMetadata.`);const ye=J.photos.map(async ke=>{const $e=(i||[]).find(Qt=>Qt.id===ke.photoId),We=($e==null?void 0:$e.photoMetadata)??null,Ue=We==null?void 0:We.contentHash;let je=null;try{if(je=await s(Ue,ke.photoId),!xe.current)return null;je?(ze.current.set(ke.photoId,je),We&&It.current.set(ke.photoId,We)):v.warn(`[EntryForm Init Effect ${oe}] No preview URL for photo ${ke.photoId}`)}catch(Qt){v.error(`[EntryForm Init Effect ${oe}] Failed getting preview link for photo ${ke.photoId}:`,Qt)}const on=je===null?void 0:je;return on?{...ke,isNew:!1,localPreviewUrl:on}:null});try{const ke=await Promise.all(ye);if(!xe.current)return;const $e=ke.filter(We=>We!==null);if(v.log(`[EntryForm Init Effect ${oe}] Setting ${$e.length} photos.`),N($e),$e.length>0){const We=It.current.get($e[0].photoId),Ue=(We==null?void 0:We.exifDate)??null;v.log(`[EntryForm Init Edit] Storing initial EXIF date: ${Ue}`),X(Ue);const je=fe.toISOString().split("T")[0];let on=!1,Qt="";if(Ue){const[tr,Ur,En]=Ue.split("-").map(Number);!isNaN(tr)&&!isNaN(Ur)&&!isNaN(En)&&(Qt=new Date(Date.UTC(tr,Ur-1,En)).toISOString().split("T")[0],on=je!==Qt)}v.log(`[EntryForm Init Edit] Comparing Form UTC: ${je} vs EXIF as UTC: ${Qt||"N/A"}. Show warning: ${on}`),Q(on)}else v.log("[EntryForm Init Edit] No photos, setting initial EXIF null."),X(null),Q(!1)}catch(ke){v.error(`[EntryForm Init Effect ${oe}] Error loading initial photo details:`,ke),xe.current&&N([])}}else v.log(`[EntryForm Init Effect ${oe}] Entry has no photos.`),N([]),X(null),Q(!1);v.log(`[EntryForm Init Effect ${oe}] populateForm finished.`)};return(async()=>{if(Y.current){Pe(!1);return}Pe(!0),ie();try{if(_e&&e){v.log(`[EntryForm Init Effect ${oe}] EDIT MODE: Initializing for entry ID: ${e}`);let J=null;if(J=r(e)||null,J||(v.log(`[EntryForm Init Effect ${oe}] EDIT MODE: Not in context, loading...`),J=await o(e)),J&&xe.current)await be(J),Y.current=!0;else if(xe.current){v.error(`[EntryForm Init Effect ${oe}] EDIT MODE: Entry ${e} not found. Redirecting.`),m({title:"Error",description:"Entry not found.",variant:"destructive"}),w("/");return}}else{v.log(`[EntryForm Init Effect ${oe}] NEW MODE: Initializing.`);const fe=window.location.hash.split("?")[1];let ye=null;if(fe)try{ye=new URLSearchParams(fe).get("date")}catch{}let ke=!1,$e;if(ye&&/^\d{4}-\d{2}-\d{2}$/.test(ye))$e=new Date(ye+"T00:00:00Z"),ke=!0,v.log(`[EntryForm Init Effect ${oe}] NEW MODE: Date from param: ${ye}. User intent: true.`);else{const We=new Date;$e=new Date(Date.UTC(We.getFullYear(),We.getMonth(),We.getDate())),ke=!1,v.log(`[EntryForm Init Effect ${oe}] NEW MODE: Date defaulted to today. User intent: false.`)}E($e),k(ke),S(null),Y.current=!0}}finally{xe.current&&Pe(!1)}})(),ce.current=ee,()=>{xe.current=!1,B.current&&(B.current.abort(),B.current=null),v.log(`[EntryForm Cleanup] Attempting to revoke ${ze.current.size} URLs.`),ze.current.forEach((J,fe)=>{try{J&&J.startsWith("blob:")&&URL.revokeObjectURL(J)}catch{}}),ze.current.clear(),It.current.clear()}},[e,u,h,x,y,w,m,r,o,s,i,b,qe]),f.useEffect(()=>{var ee,re;if(v.log("[Shared Files Effect] Running check.",{isEditMode:_e,isAuthenticated:u,isLoadingAuth:h,pendingSharedFiles:l?`${l.length} files`:"null",hasProcessedInitialSharedFiles:q.current,isLoadingData:Z,photos:A.length,processingQueue:K.length}),!_e&&!h&&l&&l.length>0&&!q.current&&!Z){v.log(`[Shared Files Effect] Processing ${l.length} pending shared files:`,{fileTypes:l.map(fe=>fe.type),fileSizes:l.map(fe=>fe.size),fileNames:l.map(fe=>fe.name)}),k(!1);const oe=[...l];if(c(),q.current=!0,v.log("[Shared Files Effect] Set hasProcessedInitialSharedFiles to true"),typeof URL.createObjectURL!="function"){v.error("[Shared Files Effect] URL.createObjectURL not available, cannot process files"),m({title:"Error",description:"Cannot process shared files.",variant:"destructive"});return}const ue=A.length,ie=K.length,be=Bo-ue-ie;if(v.log(`[Shared Files Effect] Available slots: ${be} (max: ${Bo}, current: ${ue}, queue: ${ie})`),oe.length>be&&(v.warn(`[Shared Files Effect] Too many files (${oe.length}), limiting to ${be}`),m({title:"Too many files",description:`Limit reached. Added first ${be}.`,variant:"destructive"}),oe.splice(be)),oe.length===0){v.warn("[Shared Files Effect] No files to process after adjustments");return}const Ne=[],J=[];try{oe.forEach(ye=>{if(v.log(`[Shared Files Effect] Processing file: ${ye.name}, type: ${ye.type}, size: ${ye.size}`),!ye.type.startsWith("image/"))throw v.error(`[Shared Files Effect] Invalid file type: ${ye.type} for file ${ye.name}`),new Error(`Invalid file type: ${ye.type}`);v.log(`[Shared Files Effect] Creating blob URL for ${ye.name}`);const ke=URL.createObjectURL(ye);v.log(`[Shared Files Effect] Created blob URL: ${ke}`),Ne.push(ke);const $e=crypto.randomUUID();v.log(`[Shared Files Effect] Generated localId: ${$e}`),ze.current.set($e,ke),v.log(`[Shared Files Effect] Stored blob URL in originalBlobUrlsRef for localId: ${$e}`),J.push({file:ye,previewUrl:ke,localId:$e})}),v.log(`[Shared Files Effect] Created ${J.length} queue items, calling handleFilesSelect`);const fe=(re=(ee=oe[0])==null?void 0:ee.name)==null?void 0:re.match(/^share-([\d]+)/);if(fe&&fe[1]){const ye=`share-${fe[1]}`;v.log(`[Shared Files Effect] Extracted shareKey ${ye} from file name, storing for later deletion`),Ce.current=ye}me(J.map(ye=>ye.file),J.map(ye=>ye.previewUrl))}catch(fe){v.error("[Shared Files Effect] Error processing shared files:",fe),Ne.forEach(URL.revokeObjectURL)}}},[_e,h,l,c,m,me,Z,A.length,K.length]),f.useEffect(()=>{if(!O||!xe.current){v.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:O,isMounted:xe.current,currentQueueIndex:le,queueLength:K.length});return}v.log(`[Queue Effect] Processing queue item at index ${le} of ${K.length}`);const ee=K[le];if(!ee){v.error(`[Queue Effect] No item found at index ${le} in queue of length ${K.length}`),K.length>0&&le!==null&&(v.warn("[Queue Effect] Invalid queue state detected, resetting queue"),he(null),Je([]),_&&L(!1));return}v.log(`[Queue Effect] Found item to process: file=${ee.file.name}, localId=${ee.localId}, blob=${ee.previewUrl}`),(async()=>{if(!xe.current){v.warn("[Queue Effect] Component unmounted during processing");return}const oe=ee,{file:ue,previewUrl:ie,localId:be}=oe;v.log(`[Queue Effect] Processing file: ${ue.name}, type: ${ue.type}, size: ${ue.size}`),v.log(`[Queue Effect] Using blob URL: ${ie}`);let Ne=null;it.has(be)?(v.log(`[Queue Effect] Using pre-fetched data for ${be}`),Ne=it.get(be),at(J=>{const fe=new Map(J);return fe.delete(be),fe})):v.log(`[Queue Effect] No pre-fetched data available for ${be}, will fetch now`);try{v.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${ue.name}`);const{dims:J,exif:fe}=Ne??await(async()=>{v.log(`[Queue Effect] Fetching data now for ${ue.name}`);const Ue=await Cf(ue),je=await Ef(ue);return v.log(`[Queue Effect] Got dimensions: ${Ue.width}${Ue.height} and EXIF data:`,je),{dims:Ue,exif:je}})();if(!xe.current){v.warn("[Queue Effect] Component unmounted during data fetch");return}v.log(`[Queue Effect] Calculating initial crop for ${ue.name}`);const ye=Math.min(J.width,J.height),ke={x:Math.round((J.width-ye)/2),y:Math.round((J.height-ye)/2),w:Math.round(ye),h:Math.round(ye)};v.log(`[Queue Effect] Initial crop calculated: x=${ke.x}, y=${ke.y}, w=${ke.w}, h=${ke.h}`);const $e={isNew:!0,file:ue,originalDimensions:J,exifData:fe,localPreviewUrl:ie,localId:be};if(v.log(`[Queue Effect] Created newPhotoBase object with localId: ${be}`),v.log(`[Queue Effect] Date Logic check - photos: ${A.length}, initialExifDate: ${j}, isEditMode: ${_e}`),A.length===0&&!j&&!_e){v.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const Ue=fe.exifDate;let je=!1;if(v.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${P}. Storing initial EXIF date string: ${Ue}`),X(Ue),Ue){v.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${Ue}, parsing components`);const[on,Qt,tr]=Ue.split("-").map(Number);if(v.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${on}, month=${Qt}, day=${tr}`),!isNaN(on)&&!isNaN(Qt)&&!isNaN(tr)){const Ur=new Date(Date.UTC(on,Qt-1,tr)),En=Ur.toISOString().split("T")[0],Ti=C.toISOString().split("T")[0];v.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${En}`),P?(v.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Ti} vs EXIF as UTC: ${En}`),je=En!==Ti,v.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${je}`)):(v.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${En}`),E(Ur),je=!1,v.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else v.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${Ue}. Setting warning false.`),je=!1}else v.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),je=!1;v.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${je}`),Q(je)}else v.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");ve($e),I(null),G(ie),_||L(!0);const We=le+1;We<K.length&&de(We)}catch(J){if(v.error(`[Queue Effect] Error processing queue item ${le}:`,J),m({title:"Error Processing Photo",description:`Could not process: ${ue.name}. ${J instanceof Error?J.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ie)}catch{}if(ze.current.delete(be),xe.current){const fe=le!==null?le+1:null;fe!==null&&fe<K.length?he(fe):(v.log("[Queue Effect] Last item failed. Resetting queue."),he(null),Je([]),_&&L(!1))}}})()},[le,K,it,_,de,A.length,j,_e,C,m,P]),f.useEffect(()=>{if(!O||!xe.current){v.log("[Queue Effect] Queue processing skipped",{isProcessingQueue:O,isMounted:xe.current,currentQueueIndex:le,queueLength:K.length});return}v.log(`[Queue Effect] Processing queue item at index ${le} of ${K.length}`);const ee=K[le];if(!ee){v.error(`[Queue Effect] No item found at index ${le} in queue of length ${K.length}`),K.length>0&&le!==null&&(v.warn("[Queue Effect] Invalid queue state detected, resetting queue"),he(null),Je([]),_&&L(!1));return}v.log(`[Queue Effect] Found item to process: file=${ee.file.name}, localId=${ee.localId}, blob=${ee.previewUrl}`),(async()=>{if(!xe.current){v.warn("[Queue Effect] Component unmounted during processing");return}const oe=ee,{file:ue,previewUrl:ie,localId:be}=oe;v.log(`[Queue Effect] Processing file: ${ue.name}, type: ${ue.type}, size: ${ue.size}`),v.log(`[Queue Effect] Using blob URL: ${ie}`);let Ne=null;it.has(be)?(v.log(`[Queue Effect] Using pre-fetched data for ${be}`),Ne=it.get(be),at(J=>{const fe=new Map(J);return fe.delete(be),fe})):v.log(`[Queue Effect] No pre-fetched data available for ${be}, will fetch now`);try{v.log(`[Queue Effect] Fetching image dimensions and EXIF data for ${ue.name}`);const{dims:J,exif:fe}=Ne??await(async()=>{v.log(`[Queue Effect] Fetching data now for ${ue.name}`);const Ue=await Cf(ue),je=await Ef(ue);return v.log(`[Queue Effect] Got dimensions: ${Ue.width}${Ue.height} and EXIF data:`,je),{dims:Ue,exif:je}})();if(!xe.current){v.warn("[Queue Effect] Component unmounted during data fetch");return}v.log(`[Queue Effect] Calculating initial crop for ${ue.name}`);const ye=Math.min(J.width,J.height),ke={x:Math.round((J.width-ye)/2),y:Math.round((J.height-ye)/2),w:Math.round(ye),h:Math.round(ye)};v.log(`[Queue Effect] Initial crop calculated: x=${ke.x}, y=${ke.y}, w=${ke.w}, h=${ke.h}`);const $e={isNew:!0,file:ue,originalDimensions:J,exifData:fe,localPreviewUrl:ie,localId:be};if(v.log(`[Queue Effect] Created newPhotoBase object with localId: ${be}`),v.log(`[Queue Effect] Date Logic check - photos: ${A.length}, initialExifDate: ${j}, isEditMode: ${_e}`),A.length===0&&!j&&!_e){v.log("[Queue Effect - DATE LOGIC] Processing date logic for first photo in new entry");const Ue=fe.exifDate;let je=!1;if(v.log(`[Queue Effect - DATE LOGIC 1] First photo. isDateSetByUserIntent=${P}. Storing initial EXIF date string: ${Ue}`),X(Ue),Ue){v.log(`[Queue Effect - DATE LOGIC] Found EXIF date: ${Ue}, parsing components`);const[on,Qt,tr]=Ue.split("-").map(Number);if(v.log(`[Queue Effect - DATE LOGIC] Parsed components: year=${on}, month=${Qt}, day=${tr}`),!isNaN(on)&&!isNaN(Qt)&&!isNaN(tr)){const Ur=new Date(Date.UTC(on,Qt-1,tr)),En=Ur.toISOString().split("T")[0],Ti=C.toISOString().split("T")[0];v.log(`[Queue Effect - DATE LOGIC] Valid date components, created UTC date: ${En}`),P?(v.log(`[Queue Effect - DATE LOGIC 2a] User date intent=true. Comparing Form UTC: ${Ti} vs EXIF as UTC: ${En}`),je=En!==Ti,v.log(`[Queue Effect - DATE LOGIC 3a] Setting warning: ${je}`)):(v.log(`[Queue Effect - DATE LOGIC 2b] User date intent=false. Setting date to EXIF date: ${En}`),E(Ur),je=!1,v.log("[Queue Effect - DATE LOGIC 3b] Setting warning: false (auto-set)"))}else v.warn(`[Queue Effect] Invalid date components parsed from EXIF: ${Ue}. Setting warning false.`),je=!1}else v.log("[Queue Effect - DATE LOGIC 2c] No EXIF date found. Setting warning false."),je=!1;v.log(`[Queue Effect - DATE LOGIC 4] Setting final warning state to: ${je}`),Q(je)}else v.log("[Queue Effect - DATE LOGIC] Skipping date logic - not first photo or in edit mode");ve($e),I(null),G(ie),_||L(!0);const We=le+1;We<K.length&&de(We)}catch(J){if(v.error(`[Queue Effect] Error processing queue item ${le}:`,J),m({title:"Error Processing Photo",description:`Could not process: ${ue.name}. ${J instanceof Error?J.message:"Unknown error"}`,variant:"destructive"}),typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(ie)}catch{}if(ze.current.delete(be),xe.current){const fe=le!==null?le+1:null;fe!==null&&fe<K.length?he(fe):(v.log("[Queue Effect] Last item failed. Resetting queue."),he(null),Je([]),_&&L(!1))}}})()},[le,K,it,_,de,A.length,j,_e,C,m,P]);const Se=f.useCallback(ee=>{if(!xe.current){v.warn("[EntryForm] handleCropComplete called but component unmounted");return}if(v.log("[EntryForm] handleCropComplete called with crop data:",{newCropData:ee,hasPendingNewPhotoData:!!z,photoIndexToCrop:M,pendingPhotoLocalId:z==null?void 0:z.localId,pendingPhotoInfo:z?{fileName:z.file.name,fileType:z.file.type,fileSize:z.file.size,dimensions:`${z.originalDimensions.width}${z.originalDimensions.height}`,localPreviewUrl:z.localPreviewUrl}:"none"}),z){v.log(`[EntryForm] Processing pending new photo with localId: ${z.localId}`);const oe={...z,crop:ee};v.log(`[EntryForm] Adding new photo to photos array, current count: ${A.length}`),N(ue=>[...ue,oe]),ve(null),v.log("[EntryForm] Set pendingNewPhotoData to null")}else M!==null&&(v.log(`[EntryForm] Updating crop for existing photo at index: ${M}`),N(oe=>oe.map((ue,ie)=>ie===M?{...ue,crop:ee}:ue)));I(null);const re=le!==null?le+1:null;v.log(`[EntryForm] Crop complete. Next queue index: ${re}. Queue length: ${K.length}`),re!==null&&re<K.length?(v.log(`[EntryForm] Moving to next item in queue (index ${re}), cropper stays open`),he(re)):(v.log("[EntryForm] Queue processing finished. Clearing queue and closing cropper"),he(null),Je([]),L(!1)),re!==null&&re<K.length||(v.log("[EntryForm] Scheduling focus on content textarea"),setTimeout(()=>{At.current?(At.current.focus(),v.log("[EntryForm] Content textarea focused")):v.warn("[EntryForm] Content textarea ref not available")},50))},[le,K.length,z,M,A.length]),Re=f.useCallback(()=>{if(!xe.current){v.warn("[EntryForm] handleCropCancel called but component unmounted");return}if(v.log("[EntryForm] handleCropCancel called:",{hasPendingNewPhotoData:!!z,photoIndexToCrop:M,currentQueueIndex:le,processingQueueLength:K.length}),z){if(v.log(`[EntryForm] Discarding pending new photo with localId: ${z.localId}`,{fileName:z.file.name,fileSize:z.file.size,fileType:z.file.type,localPreviewUrl:z.localPreviewUrl}),typeof URL.revokeObjectURL=="function"){v.log(`[EntryForm] Revoking blob URL on CROP CANCEL for localId ${z.localId}: ${z.localPreviewUrl}`);try{URL.revokeObjectURL(z.localPreviewUrl)}catch{}}ze.current.delete(z.localId),ve(null)}I(null);const ee=le!==null?le+1:null;ee!==null&&ee<K.length?he(ee):(he(null),Je([]),L(!1)),ee!==null&&ee<K.length||setTimeout(()=>{var re;return(re=At.current)==null?void 0:re.focus()},50)},[le,K.length,z,M]),Ke=f.useCallback(ee=>{const re=A[ee];if(!re||O||F){v.warn(`[EntryForm] openCropperForPhoto prevented for index ${ee}.`,{isProcessingQueue:O,isBusy:F});return}const oe=Xr(re)?re.localId:re.photoId,ue=ze.current.get(oe);ue?(I(ee),ve(null),G(ue),L(!0)):(m({title:"Cannot Edit Crop",description:"Original image data is missing or invalid.",variant:"destructive"}),v.warn(`[EntryForm] Cannot open cropper: original URL missing/invalid for photo index ${ee}, id ${oe}`))},[A,O,F,m]),Ye=f.useCallback(ee=>{Ae(ee),Ie(!0)},[]),Qe=f.useCallback(()=>{var Ne;if(Ge===null)return;const ee=Ge,re=A[ee];if(!re){v.warn(`[EntryForm] Photo to remove at index ${ee} not found.`),Ie(!1),Ae(null);return}const oe=Xr(re)?re.localId:re.photoId,ue=ee===0;let ie=[];const be=ze.current.get(oe);if(typeof URL.revokeObjectURL=="function"&&be)try{URL.revokeObjectURL(be)}catch(J){v.error("Error revoking original URL on remove:",J)}if(typeof URL.revokeObjectURL=="function"&&re.localPreviewUrl&&re.localPreviewUrl.startsWith("blob:")&&re.localPreviewUrl!==be)try{URL.revokeObjectURL(re.localPreviewUrl)}catch(J){v.error("Error revoking preview URL on remove:",J)}if(ze.current.delete(oe),It.current.delete(oe),N(J=>(ie=J.filter((fe,ye)=>ye!==ee),ie)),ue&&xe.current){const J=ie.length>0?ie[0]:null;let fe=null;if(J)if(Xr(J))fe=((Ne=J.exifData)==null?void 0:Ne.exifDate)??null;else{const We=It.current.get(J.photoId);fe=(We==null?void 0:We.exifDate)??null}v.log(`[Remove Photo - DATE CHECK 1] First photo removed. New initial EXIF date string: ${fe}`),X(fe);const ye=C.toISOString().split("T")[0];let ke=!1,$e="";if(fe){const[We,Ue,je]=fe.split("-").map(Number);!isNaN(We)&&!isNaN(Ue)&&!isNaN(je)&&($e=new Date(Date.UTC(We,Ue-1,je)).toISOString().split("T")[0],ke=ye!==$e)}v.log(`[Remove Photo - DATE CHECK 2] Comparing Form UTC: ${ye} vs New EXIF as UTC: ${$e||"N/A"}. Show warning: ${ke}`),Q(ke)}Ie(!1),Ae(null)},[Ge,A,C]),St=f.useCallback(()=>{if(j){v.log(`[EntryForm] handleUseExifDate called. Setting date to EXIF: ${j}.`);const[ee,re,oe]=j.split("-").map(Number);E(new Date(Date.UTC(ee,re-1,oe))),v.log("[EntryForm] handleUseExifDate setting warning to false."),Q(!1)}},[j]),Ot=f.useCallback(ee=>{try{const re=new Date(ee.target.value+"T00:00:00Z");if(isNaN(re.getTime()))v.warn("[EntryForm] Invalid date input received:",ee.target.value);else{E(re);const oe=re.toISOString().split("T")[0];let ue=!1,ie="";if(j){const[be,Ne,J]=j.split("-").map(Number);!isNaN(be)&&!isNaN(Ne)&&!isNaN(J)&&(ie=new Date(Date.UTC(be,Ne-1,J)).toISOString().split("T")[0],ue=oe!==ie)}v.log(`[handleDateChange - DATE CHECK 1] Date changed to ${ee.target.value}. Comparing New Form UTC: ${oe} vs Initial EXIF as UTC: ${ie||"N/A"}. Show warning: ${ue}`),Q(ue)}}catch(re){v.error("[EntryForm] Error processing date change:",re)}},[j]),_t=f.useCallback(async()=>{if(v.log("[EntryForm] handleSave called.",{isBusy:F,canSave:W}),F||!W){v.warn("[EntryForm] Save prevented:",{isBusy:F,canSave:W});return}const re=await n({date:C,content:D,photos:A},g);re&&xe.current?(Be(!1),Ce.current&&(v.log(`[EntryForm] Save successful, cleaning up shared files with key: ${Ce.current}`),d(Ce.current),Ce.current=null)):re||v.warn("[EntryForm] Save failed (returned false).")},[F,W,C,D,A,n,g]),mt=f.useCallback(()=>{_?Re():Te?Tt(!0):w("/")},[_,Te,w,Re]),Yt=f.useCallback(()=>{Tt(!1),Be(!1),Ce.current&&(v.log(`[EntryForm] Canceling entry, cleaning up shared files with key: ${Ce.current}`),d(Ce.current),Ce.current=null),w("/")},[w]),bt=f.useCallback(ee=>{ee.key==="Enter"&&(ee.metaKey||ee.ctrlKey)&&(ee.preventDefault(),W&&!F&&_t())},[W,F,_t]);if(h&&!u)return v.log("[EntryForm Render] Rendering Loading (Auth)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})," "]});if(Z)return v.log("[EntryForm Render] Rendering Loading (Data)..."),p.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[" ",p.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})," "]});v.log("[EntryForm Render] Rendering main content. State:",{isCropperOpen:_,isEditMode:_e,photoCount:A.length,queueLength:K.length,currentQueueIndex:le,isLoadingData:Z,isBusy:F,formDateUTC:C.toISOString().split("T")[0],initialExifDate:j,showExifDateMismatchWarning:$,isDateSetByUserIntent:P});const fs=()=>{var ee;if(_&&V){const re=z??(M!==null?A[M]:null),oe=re&&"crop"in re?re.crop:void 0;let ue;if(z&&z.originalDimensions)ue=z.originalDimensions;else if(M!==null&&Hk(A[M])){const ie=It.current.get(A[M].photoId);ie!=null&&ie.width&&(ie!=null&&ie.height)&&(ue={width:ie.width,height:ie.height})}else M!==null&&Xr(A[M])&&(ue=A[M].originalDimensions);return p.jsx("div",{className:"p-4 md:p-6 flex-grow overflow-hidden flex flex-col",children:p.jsx(B4,{imageUrl:V,onCropComplete:Se,onCancel:Re,initialCropData:oe,initialImageDimensions:ue})})}else return p.jsxs("div",{className:"space-y-4 p-6 flex-grow overflow-y-auto custom-scrollbar",children:[p.jsx(g4,{photos:A,setPhotos:N,isBusy:F,isLoadingInitial:!1,initialPhotoCount:((ee=g==null?void 0:g.photos)==null?void 0:ee.length)??0,onOpenCropper:Ke,onRemovePhoto:Ye,onFilesSelect:me,originalBlobUrlsRef:ze,existingPhotoMetaRef:It,processingQueueLength:K.length,currentQueueIndex:le,isProcessingQueueItem:O}),A.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(y4,{date:C,onDateChange:Ot,showExifWarning:$,initialExifDate:j,onUseExifDate:St,isBusy:F}),p.jsx(v4,{content:D,setContent:R,isBusy:F,onKeyDown:bt,textAreaRef:At})]})]})},er=()=>_?`Adjust Photo${K.length>0&&le!==null?` (${le+1}/${K.length})`:""}`:_e?"Edit Entry":"New Entry";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b p-4 flex items-center justify-between",children:[p.jsxs(Xe,{variant:"ghost",size:"icon",onClick:mt,disabled:F&&!_,"aria-label":_?"Cancel Crop":"Go Back",children:[" ",p.jsx(Yb,{className:"h-5 w-5"})," "]}),p.jsx("h1",{className:"text-lg font-semibold",children:er()}),p.jsxs(Xe,{variant:"ghost",size:"icon",onClick:mt,disabled:F&&!_,"aria-label":"Close",children:[" ",p.jsx(Iu,{className:"h-5 w-5"})," "]})]}),p.jsxs("main",{className:"flex flex-col flex-grow overflow-hidden",children:[fs(),!_&&p.jsx("div",{className:"p-4 border-t",children:p.jsx(w4,{isBusy:F,isSaving:a,isEditMode:_e,canSave:W,onCancel:mt,onSave:_t})})]})]}),p.jsx(_0,{open:Ve,onOpenChange:Ie,onConfirm:Qe,title:"Remove Photo?",description:"Are you sure you want to remove this photo from the entry?",confirmText:"Remove",isConfirming:a}),p.jsx(_0,{open:Pt,onOpenChange:Tt,onConfirm:Yt,title:"Discard Changes?",description:"You have unsaved changes. Are you sure you want to discard them and go back?",confirmText:"Discard"})]})}function W4(){return v.log("[App] Using hook:",Nh),p.jsx(FM,{client:VM,children:p.jsx(Ej,{children:p.jsxs(WC,{children:[p.jsx(hb,{hook:Nh,children:p.jsxs(hM,{children:[p.jsx(Tl,{path:"/",component:C4}),p.jsx(Tl,{path:"/entry/new",children:p.jsx(N0,{})}),p.jsx(Tl,{path:"/entry/edit/:id",children:e=>p.jsx(N0,{entryId:e.id})}),p.jsx(Tl,{children:()=>p.jsx(xL,{})})]})}),p.jsx(U_,{})]})})})}nb(document.getElementById("root")).render(p.jsx(Kj,{attribute:"class",children:p.jsx(W4,{})}))});export default H4();
